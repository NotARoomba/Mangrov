function O4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var um=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function P4(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var $y={exports:{}},od={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HT;function D4(){if(HT)return od;HT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var c in i)c!=="key"&&(o[c]=i[c])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:o}}return od.Fragment=e,od.jsx=n,od.jsxs=n,od}var $T;function j4(){return $T||($T=1,$y.exports=D4()),$y.exports}var m=j4(),qy={exports:{}},ft={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qT;function k4(){if(qT)return ft;qT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function x(w){return w===null||typeof w!="object"?null:(w=y&&w[y]||w["@@iterator"],typeof w=="function"?w:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,P={};function V(w,z,X){this.props=w,this.context=z,this.refs=P,this.updater=X||E}V.prototype.isReactComponent={},V.prototype.setState=function(w,z){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,z,"setState")},V.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function D(){}D.prototype=V.prototype;function B(w,z,X){this.props=w,this.context=z,this.refs=P,this.updater=X||E}var F=B.prototype=new D;F.constructor=B,N(F,V.prototype),F.isPureReactComponent=!0;var Y=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},O=Object.prototype.hasOwnProperty;function C(w,z,X,Q,ne,se){return X=se.ref,{$$typeof:t,type:w,key:z,ref:X!==void 0?X:null,props:se}}function I(w,z){return C(w.type,z,void 0,void 0,void 0,w.props)}function R(w){return typeof w=="object"&&w!==null&&w.$$typeof===t}function T(w){var z={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(X){return z[X]})}var U=/\/+/g;function $(w,z){return typeof w=="object"&&w!==null&&w.key!=null?T(""+w.key):z.toString(36)}function j(){}function G(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(j,j):(w.status="pending",w.then(function(z){w.status==="pending"&&(w.status="fulfilled",w.value=z)},function(z){w.status==="pending"&&(w.status="rejected",w.reason=z)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function Z(w,z,X,Q,ne){var se=typeof w;(se==="undefined"||se==="boolean")&&(w=null);var le=!1;if(w===null)le=!0;else switch(se){case"bigint":case"string":case"number":le=!0;break;case"object":switch(w.$$typeof){case t:case e:le=!0;break;case p:return le=w._init,Z(le(w._payload),z,X,Q,ne)}}if(le)return ne=ne(w),le=Q===""?"."+$(w,0):Q,Y(ne)?(X="",le!=null&&(X=le.replace(U,"$&/")+"/"),Z(ne,z,X,"",function(Pe){return Pe})):ne!=null&&(R(ne)&&(ne=I(ne,X+(ne.key==null||w&&w.key===ne.key?"":(""+ne.key).replace(U,"$&/")+"/")+le)),z.push(ne)),1;le=0;var ve=Q===""?".":Q+":";if(Y(w))for(var Ee=0;Ee<w.length;Ee++)Q=w[Ee],se=ve+$(Q,Ee),le+=Z(Q,z,X,se,ne);else if(Ee=x(w),typeof Ee=="function")for(w=Ee.call(w),Ee=0;!(Q=w.next()).done;)Q=Q.value,se=ve+$(Q,Ee++),le+=Z(Q,z,X,se,ne);else if(se==="object"){if(typeof w.then=="function")return Z(G(w),z,X,Q,ne);throw z=String(w),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return le}function H(w,z,X){if(w==null)return w;var Q=[],ne=0;return Z(w,Q,"","",function(se){return z.call(X,se,ne++)}),Q}function S(w){if(w._status===-1){var z=w._result;z=z(),z.then(function(X){(w._status===0||w._status===-1)&&(w._status=1,w._result=X)},function(X){(w._status===0||w._status===-1)&&(w._status=2,w._result=X)}),w._status===-1&&(w._status=0,w._result=z)}if(w._status===1)return w._result.default;throw w._result}var J=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function W(){}return ft.Children={map:H,forEach:function(w,z,X){H(w,function(){z.apply(this,arguments)},X)},count:function(w){var z=0;return H(w,function(){z++}),z},toArray:function(w){return H(w,function(z){return z})||[]},only:function(w){if(!R(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},ft.Component=V,ft.Fragment=n,ft.Profiler=i,ft.PureComponent=B,ft.StrictMode=r,ft.Suspense=d,ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,ft.__COMPILER_RUNTIME={__proto__:null,c:function(w){return M.H.useMemoCache(w)}},ft.cache=function(w){return function(){return w.apply(null,arguments)}},ft.cloneElement=function(w,z,X){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var Q=N({},w.props),ne=w.key,se=void 0;if(z!=null)for(le in z.ref!==void 0&&(se=void 0),z.key!==void 0&&(ne=""+z.key),z)!O.call(z,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&z.ref===void 0||(Q[le]=z[le]);var le=arguments.length-2;if(le===1)Q.children=X;else if(1<le){for(var ve=Array(le),Ee=0;Ee<le;Ee++)ve[Ee]=arguments[Ee+2];Q.children=ve}return C(w.type,ne,void 0,void 0,se,Q)},ft.createContext=function(w){return w={$$typeof:l,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:o,_context:w},w},ft.createElement=function(w,z,X){var Q,ne={},se=null;if(z!=null)for(Q in z.key!==void 0&&(se=""+z.key),z)O.call(z,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ne[Q]=z[Q]);var le=arguments.length-2;if(le===1)ne.children=X;else if(1<le){for(var ve=Array(le),Ee=0;Ee<le;Ee++)ve[Ee]=arguments[Ee+2];ne.children=ve}if(w&&w.defaultProps)for(Q in le=w.defaultProps,le)ne[Q]===void 0&&(ne[Q]=le[Q]);return C(w,se,void 0,void 0,null,ne)},ft.createRef=function(){return{current:null}},ft.forwardRef=function(w){return{$$typeof:c,render:w}},ft.isValidElement=R,ft.lazy=function(w){return{$$typeof:p,_payload:{_status:-1,_result:w},_init:S}},ft.memo=function(w,z){return{$$typeof:f,type:w,compare:z===void 0?null:z}},ft.startTransition=function(w){var z=M.T,X={};M.T=X;try{var Q=w(),ne=M.S;ne!==null&&ne(X,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(W,J)}catch(se){J(se)}finally{M.T=z}},ft.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},ft.use=function(w){return M.H.use(w)},ft.useActionState=function(w,z,X){return M.H.useActionState(w,z,X)},ft.useCallback=function(w,z){return M.H.useCallback(w,z)},ft.useContext=function(w){return M.H.useContext(w)},ft.useDebugValue=function(){},ft.useDeferredValue=function(w,z){return M.H.useDeferredValue(w,z)},ft.useEffect=function(w,z,X){var Q=M.H;if(typeof X=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(w,z)},ft.useId=function(){return M.H.useId()},ft.useImperativeHandle=function(w,z,X){return M.H.useImperativeHandle(w,z,X)},ft.useInsertionEffect=function(w,z){return M.H.useInsertionEffect(w,z)},ft.useLayoutEffect=function(w,z){return M.H.useLayoutEffect(w,z)},ft.useMemo=function(w,z){return M.H.useMemo(w,z)},ft.useOptimistic=function(w,z){return M.H.useOptimistic(w,z)},ft.useReducer=function(w,z,X){return M.H.useReducer(w,z,X)},ft.useRef=function(w){return M.H.useRef(w)},ft.useState=function(w){return M.H.useState(w)},ft.useSyncExternalStore=function(w,z,X){return M.H.useSyncExternalStore(w,z,X)},ft.useTransition=function(){return M.H.useTransition()},ft.version="19.1.0",ft}var GT;function Rs(){return GT||(GT=1,qy.exports=k4()),qy.exports}var A=Rs();const el=Xp(A),KT=O4({__proto__:null,default:el},[A]);var Gy={exports:{}},ld={},Ky={exports:{}},Wy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WT;function L4(){return WT||(WT=1,function(t){function e(H,S){var J=H.length;H.push(S);e:for(;0<J;){var W=J-1>>>1,w=H[W];if(0<i(w,S))H[W]=S,H[J]=w,J=W;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var S=H[0],J=H.pop();if(J!==S){H[0]=J;e:for(var W=0,w=H.length,z=w>>>1;W<z;){var X=2*(W+1)-1,Q=H[X],ne=X+1,se=H[ne];if(0>i(Q,J))ne<w&&0>i(se,Q)?(H[W]=se,H[ne]=J,W=ne):(H[W]=Q,H[X]=J,W=X);else if(ne<w&&0>i(se,J))H[W]=se,H[ne]=J,W=ne;else break e}}return S}function i(H,S){var J=H.sortIndex-S.sortIndex;return J!==0?J:H.id-S.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],f=[],p=1,y=null,x=3,E=!1,N=!1,P=!1,V=!1,D=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function Y(H){for(var S=n(f);S!==null;){if(S.callback===null)r(f);else if(S.startTime<=H)r(f),S.sortIndex=S.expirationTime,e(d,S);else break;S=n(f)}}function M(H){if(P=!1,Y(H),!N)if(n(d)!==null)N=!0,O||(O=!0,$());else{var S=n(f);S!==null&&Z(M,S.startTime-H)}}var O=!1,C=-1,I=5,R=-1;function T(){return V?!0:!(t.unstable_now()-R<I)}function U(){if(V=!1,O){var H=t.unstable_now();R=H;var S=!0;try{e:{N=!1,P&&(P=!1,B(C),C=-1),E=!0;var J=x;try{t:{for(Y(H),y=n(d);y!==null&&!(y.expirationTime>H&&T());){var W=y.callback;if(typeof W=="function"){y.callback=null,x=y.priorityLevel;var w=W(y.expirationTime<=H);if(H=t.unstable_now(),typeof w=="function"){y.callback=w,Y(H),S=!0;break t}y===n(d)&&r(d),Y(H)}else r(d);y=n(d)}if(y!==null)S=!0;else{var z=n(f);z!==null&&Z(M,z.startTime-H),S=!1}}break e}finally{y=null,x=J,E=!1}S=void 0}}finally{S?$():O=!1}}}var $;if(typeof F=="function")$=function(){F(U)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,G=j.port2;j.port1.onmessage=U,$=function(){G.postMessage(null)}}else $=function(){D(U,0)};function Z(H,S){C=D(function(){H(t.unstable_now())},S)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(H){switch(x){case 1:case 2:case 3:var S=3;break;default:S=x}var J=x;x=S;try{return H()}finally{x=J}},t.unstable_requestPaint=function(){V=!0},t.unstable_runWithPriority=function(H,S){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var J=x;x=H;try{return S()}finally{x=J}},t.unstable_scheduleCallback=function(H,S,J){var W=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?W+J:W):J=W,H){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=J+w,H={id:p++,callback:S,priorityLevel:H,startTime:J,expirationTime:w,sortIndex:-1},J>W?(H.sortIndex=J,e(f,H),n(d)===null&&H===n(f)&&(P?(B(C),C=-1):P=!0,Z(M,J-W))):(H.sortIndex=w,e(d,H),N||E||(N=!0,O||(O=!0,$()))),H},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(H){var S=x;return function(){var J=x;x=S;try{return H.apply(this,arguments)}finally{x=J}}}}(Wy)),Wy}var YT;function V4(){return YT||(YT=1,Ky.exports=L4()),Ky.exports}var Yy={exports:{}},dr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XT;function U4(){if(XT)return dr;XT=1;var t=Rs();function e(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(d,f,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:y==null?null:""+y,children:d,containerInfo:f,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return dr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,dr.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(d,f,null,p)},dr.flushSync=function(d){var f=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=p,r.d.f()}},dr.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},dr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},dr.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,y=c(p,f.crossOrigin),x=typeof f.integrity=="string"?f.integrity:void 0,E=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:x,fetchPriority:E}):p==="script"&&r.d.X(d,{crossOrigin:y,integrity:x,fetchPriority:E,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},dr.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=c(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},dr.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,y=c(p,f.crossOrigin);r.d.L(d,p,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},dr.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=c(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},dr.requestFormReset=function(d){r.d.r(d)},dr.unstable_batchedUpdates=function(d,f){return d(f)},dr.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},dr.useFormStatus=function(){return l.H.useHostTransitionStatus()},dr.version="19.1.0",dr}var QT;function XR(){if(QT)return Yy.exports;QT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Yy.exports=U4(),Yy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZT;function z4(){if(ZT)return ld;ZT=1;var t=V4(),e=Rs(),n=XR();function r(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function l(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function c(s){if(o(s)!==s)throw Error(r(188))}function d(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(r(188));return a!==s?null:s}for(var u=s,h=a;;){var v=u.return;if(v===null)break;var b=v.alternate;if(b===null){if(h=v.return,h!==null){u=h;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===u)return c(v),s;if(b===h)return c(v),a;b=b.sibling}throw Error(r(188))}if(u.return!==h.return)u=v,h=b;else{for(var L=!1,q=v.child;q;){if(q===u){L=!0,u=v,h=b;break}if(q===h){L=!0,h=v,u=b;break}q=q.sibling}if(!L){for(q=b.child;q;){if(q===u){L=!0,u=b,h=v;break}if(q===h){L=!0,h=b,u=v;break}q=q.sibling}if(!L)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?s:a}function f(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=f(s),a!==null)return a;s=s.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),F=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),T=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function $(s){return s===null||typeof s!="object"?null:(s=U&&s[U]||s["@@iterator"],typeof s=="function"?s:null)}var j=Symbol.for("react.client.reference");function G(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===j?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case N:return"Fragment";case V:return"Profiler";case P:return"StrictMode";case M:return"Suspense";case O:return"SuspenseList";case R:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case F:return(s.displayName||"Context")+".Provider";case B:return(s._context.displayName||"Context")+".Consumer";case Y:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case C:return a=s.displayName||null,a!==null?a:G(s.type)||"Memo";case I:a=s._payload,s=s._init;try{return G(s(a))}catch{}}return null}var Z=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,S=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},W=[],w=-1;function z(s){return{current:s}}function X(s){0>w||(s.current=W[w],W[w]=null,w--)}function Q(s,a){w++,W[w]=s.current,s.current=a}var ne=z(null),se=z(null),le=z(null),ve=z(null);function Ee(s,a){switch(Q(le,a),Q(se,s),Q(ne,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?vT(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=vT(a),s=yT(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}X(ne),Q(ne,s)}function Pe(){X(ne),X(se),X(le)}function Ne(s){s.memoizedState!==null&&Q(ve,s);var a=ne.current,u=yT(a,s.type);a!==u&&(Q(se,s),Q(ne,u))}function ze(s){se.current===s&&(X(ne),X(se)),ve.current===s&&(X(ve),nd._currentValue=J)}var Ye=Object.prototype.hasOwnProperty,Qe=t.unstable_scheduleCallback,me=t.unstable_cancelCallback,Ce=t.unstable_shouldYield,$e=t.unstable_requestPaint,Ie=t.unstable_now,Je=t.unstable_getCurrentPriorityLevel,mt=t.unstable_ImmediatePriority,ot=t.unstable_UserBlockingPriority,Rt=t.unstable_NormalPriority,ht=t.unstable_LowPriority,pn=t.unstable_IdlePriority,or=t.log,Cn=t.unstable_setDisableYieldValue,pt=null,qe=null;function sn(s){if(typeof or=="function"&&Cn(s),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(pt,s)}catch{}}var nn=Math.clz32?Math.clz32:an,$i=Math.log,lr=Math.LN2;function an(s){return s>>>=0,s===0?32:31-($i(s)/lr|0)|0}var qi=256,Gi=4194304;function Lr(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ms(s,a,u){var h=s.pendingLanes;if(h===0)return 0;var v=0,b=s.suspendedLanes,L=s.pingedLanes;s=s.warmLanes;var q=h&134217727;return q!==0?(h=q&~b,h!==0?v=Lr(h):(L&=q,L!==0?v=Lr(L):u||(u=q&~s,u!==0&&(v=Lr(u))))):(q=h&~b,q!==0?v=Lr(q):L!==0?v=Lr(L):u||(u=h&~s,u!==0&&(v=Lr(u)))),v===0?0:a!==0&&a!==v&&(a&b)===0&&(b=v&-v,u=a&-a,b>=u||b===32&&(u&4194048)!==0)?a:v}function ri(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function va(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Os(){var s=qi;return qi<<=1,(qi&4194048)===0&&(qi=256),s}function _o(){var s=Gi;return Gi<<=1,(Gi&62914560)===0&&(Gi=4194304),s}function ii(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function Ci(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function ya(s,a,u,h,v,b){var L=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var q=s.entanglements,ee=s.expirationTimes,de=s.hiddenUpdates;for(u=L&~u;0<u;){var be=31-nn(u),we=1<<be;q[be]=0,ee[be]=-1;var he=de[be];if(he!==null)for(de[be]=null,be=0;be<he.length;be++){var fe=he[be];fe!==null&&(fe.lane&=-536870913)}u&=~we}h!==0&&yr(s,h,0),b!==0&&v===0&&s.tag!==0&&(s.suspendedLanes|=b&~(L&~a))}function yr(s,a,u){s.pendingLanes|=a,s.suspendedLanes&=~a;var h=31-nn(a);s.entangledLanes|=a,s.entanglements[h]=s.entanglements[h]|1073741824|u&4194090}function Ki(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var h=31-nn(u),v=1<<h;v&a|s[h]&a&&(s[h]|=a),u&=~v}}function Wi(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ba(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function te(){var s=S.p;return s!==0?s:(s=window.event,s===void 0?32:LT(s.type))}function ae(s,a){var u=S.p;try{return S.p=s,a()}finally{S.p=u}}var ce=Math.random().toString(36).slice(2),_e="__reactFiber$"+ce,Te="__reactProps$"+ce,De="__reactContainer$"+ce,Ge="__reactEvents$"+ce,je="__reactListeners$"+ce,Ue="__reactHandles$"+ce,Le="__reactResources$"+ce,et="__reactMarker$"+ce;function Ke(s){delete s[_e],delete s[Te],delete s[Ge],delete s[je],delete s[Ue]}function it(s){var a=s[_e];if(a)return a;for(var u=s.parentNode;u;){if(a=u[De]||u[_e]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=_T(s);s!==null;){if(u=s[_e])return u;s=_T(s)}return a}s=u,u=s.parentNode}return null}function wt(s){if(s=s[_e]||s[De]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function Ut(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(r(33))}function Pt(s){var a=s[Le];return a||(a=s[Le]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ct(s){s[et]=!0}var yt=new Set,si={};function Ln(s,a){br(s,a),br(s+"Capture",a)}function br(s,a){for(si[s]=a,s=0;s<a.length;s++)yt.add(a[s])}var Jn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yi={},Vr={};function xa(s){return Ye.call(Vr,s)?!0:Ye.call(Yi,s)?!1:Jn.test(s)?Vr[s]=!0:(Yi[s]=!0,!1)}function ur(s,a,u){if(xa(a))if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+u)}}function xr(s,a,u){if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+u)}}function lt(s,a,u,h){if(h===null)s.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(a,u,""+h)}}var Rn,Ur;function Cr(s){if(Rn===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);Rn=a&&a[1]||"",Ur=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rn+s+Ur}var Xi=!1;function Xt(s,a){if(!s||Xi)return"";Xi=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(fe){var he=fe}Reflect.construct(s,[],we)}else{try{we.call()}catch(fe){he=fe}s.call(we.prototype)}}else{try{throw Error()}catch(fe){he=fe}(we=s())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(fe){if(fe&&he&&typeof fe.stack=="string")return[fe.stack,he.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=h.DetermineComponentFrameRoot(),L=b[0],q=b[1];if(L&&q){var ee=L.split(`
`),de=q.split(`
`);for(v=h=0;h<ee.length&&!ee[h].includes("DetermineComponentFrameRoot");)h++;for(;v<de.length&&!de[v].includes("DetermineComponentFrameRoot");)v++;if(h===ee.length||v===de.length)for(h=ee.length-1,v=de.length-1;1<=h&&0<=v&&ee[h]!==de[v];)v--;for(;1<=h&&0<=v;h--,v--)if(ee[h]!==de[v]){if(h!==1||v!==1)do if(h--,v--,0>v||ee[h]!==de[v]){var be=`
`+ee[h].replace(" at new "," at ");return s.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",s.displayName)),be}while(1<=h&&0<=v);break}}}finally{Xi=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?Cr(u):""}function ai(s){switch(s.tag){case 26:case 27:case 5:return Cr(s.type);case 16:return Cr("Lazy");case 13:return Cr("Suspense");case 19:return Cr("SuspenseList");case 0:case 15:return Xt(s.type,!1);case 11:return Xt(s.type.render,!1);case 1:return Xt(s.type,!0);case 31:return Cr("Activity");default:return""}}function Ps(s){try{var a="";do a+=ai(s),s=s.return;while(s);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function er(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function cc(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Wg(s){var a=cc(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),h=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,b=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return v.call(this)},set:function(L){h=""+L,b.call(this,L)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(L){h=""+L},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Al(s){s._valueTracker||(s._valueTracker=Wg(s))}function dc(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),h="";return s&&(h=cc(s)?s.checked?"true":"false":s.value),s=h,s!==u?(a.setValue(s),!0):!1}function So(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Yg=/[\n"\\]/g;function Nn(s){return s.replace(Yg,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function zr(s,a,u,h,v,b,L,q){s.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?s.type=L:s.removeAttribute("type"),a!=null?L==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+er(a)):s.value!==""+er(a)&&(s.value=""+er(a)):L!=="submit"&&L!=="reset"||s.removeAttribute("value"),a!=null?wa(s,L,er(a)):u!=null?wa(s,L,er(u)):h!=null&&s.removeAttribute("value"),v==null&&b!=null&&(s.defaultChecked=!!b),v!=null&&(s.checked=v&&typeof v!="function"&&typeof v!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?s.name=""+er(q):s.removeAttribute("name")}function To(s,a,u,h,v,b,L,q){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.type=b),a!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||a!=null))return;u=u!=null?""+er(u):"",a=a!=null?""+er(a):u,q||a===s.value||(s.value=a),s.defaultValue=a}h=h??v,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=q?s.checked:!!h,s.defaultChecked=!!h,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(s.name=L)}function wa(s,a,u){a==="number"&&So(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function Ds(s,a,u,h){if(s=s.options,a){a={};for(var v=0;v<u.length;v++)a["$"+u[v]]=!0;for(u=0;u<s.length;u++)v=a.hasOwnProperty("$"+s[u].value),s[u].selected!==v&&(s[u].selected=v),v&&h&&(s[u].defaultSelected=!0)}else{for(u=""+er(u),a=null,v=0;v<s.length;v++){if(s[v].value===u){s[v].selected=!0,h&&(s[v].defaultSelected=!0);return}a!==null||s[v].disabled||(a=s[v])}a!==null&&(a.selected=!0)}}function qt(s,a,u){if(a!=null&&(a=""+er(a),a!==s.value&&(s.value=a),u==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=u!=null?""+er(u):""}function Eo(s,a,u,h){if(a==null){if(h!=null){if(u!=null)throw Error(r(92));if(Z(h)){if(1<h.length)throw Error(r(93));h=h[0]}u=h}u==null&&(u=""),a=u}u=er(a),s.defaultValue=u,h=s.textContent,h===u&&h!==""&&h!==null&&(s.value=h)}function oi(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var Ao=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kh(s,a,u){var h=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?h?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":h?s.setProperty(a,u):typeof u!="number"||u===0||Ao.has(a)?a==="float"?s.cssFloat=u:s[a]=(""+u).trim():s[a]=u+"px"}function hc(s,a,u){if(a!=null&&typeof a!="object")throw Error(r(62));if(s=s.style,u!=null){for(var h in u)!u.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var v in a)h=a[v],a.hasOwnProperty(v)&&u[v]!==h&&Kh(s,v,h)}else for(var b in a)a.hasOwnProperty(b)&&Kh(s,b,a[b])}function fc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cl(s){return Qg.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var js=null;function li(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ks=null,Ls=null;function mc(s){var a=wt(s);if(a&&(s=a.stateNode)){var u=s[Te]||null;e:switch(s=a.stateNode,a.type){case"input":if(zr(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Nn(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var h=u[a];if(h!==s&&h.form===s.form){var v=h[Te]||null;if(!v)throw Error(r(90));zr(h,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(a=0;a<u.length;a++)h=u[a],h.form===s.form&&dc(h)}break e;case"textarea":qt(s,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&Ds(s,!!u.multiple,a,!1)}}}var Qi=!1;function Wh(s,a,u){if(Qi)return s(a,u);Qi=!0;try{var h=s(a);return h}finally{if(Qi=!1,(ks!==null||Ls!==null)&&(Ff(),ks&&(a=ks,s=Ls,Ls=ks=null,mc(a),s)))for(a=0;a<s.length;a++)mc(s[a])}}function Co(s,a){var u=s.stateNode;if(u===null)return null;var h=u[Te]||null;if(h===null)return null;u=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(r(231,a,typeof u));return u}var Ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ui=!1;if(Ri)try{var Ro={};Object.defineProperty(Ro,"passive",{get:function(){ui=!0}}),window.addEventListener("test",Ro,Ro),window.removeEventListener("test",Ro,Ro)}catch{ui=!1}var Zi=null,_a=null,Vs=null;function pc(){if(Vs)return Vs;var s,a=_a,u=a.length,h,v="value"in Zi?Zi.value:Zi.textContent,b=v.length;for(s=0;s<u&&a[s]===v[s];s++);var L=u-s;for(h=1;h<=L&&a[u-h]===v[b-h];h++);return Vs=v.slice(s,1<h?1-h:void 0)}function Ji(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function es(){return!0}function gc(){return!1}function Hn(s){function a(u,h,v,b,L){this._reactName=u,this._targetInst=v,this.type=h,this.nativeEvent=b,this.target=L,this.currentTarget=null;for(var q in s)s.hasOwnProperty(q)&&(u=s[q],this[q]=u?u(b):b[q]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?es:gc,this.isPropagationStopped=gc,this}return p(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=es)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=es)},persist:function(){},isPersistent:es}),a}var zt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rl=Hn(zt),No=p({},zt,{view:0,detail:0}),Yh=Hn(No),Nl,Il,ts,Io=p({},No,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Po,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ts&&(ts&&s.type==="mousemove"?(Nl=s.screenX-ts.screenX,Il=s.screenY-ts.screenY):Il=Nl=0,ts=s),Nl)},movementY:function(s){return"movementY"in s?s.movementY:Il}}),ci=Hn(Io),Xh=p({},Io,{dataTransfer:0}),Zg=Hn(Xh),Mo=p({},No,{relatedTarget:0}),Ml=Hn(Mo),vc=p({},zt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ol=Hn(vc),Qh=p({},zt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Pl=Hn(Qh),Jg=p({},zt,{data:0}),yc=Hn(Jg),Oo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bc(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Jh[s])?!!a[s]:!1}function Po(){return bc}var ef=p({},No,{key:function(s){if(s.key){var a=Oo[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Ji(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Zh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Po,charCode:function(s){return s.type==="keypress"?Ji(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ji(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Dl=Hn(ef),tf=p({},Io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xc=Hn(tf),Us=p({},No,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Po}),nf=Hn(Us),rf=p({},zt,{propertyName:0,elapsedTime:0,pseudoElement:0}),sf=Hn(rf),af=p({},Io,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),jl=Hn(af),wr=p({},zt,{newState:0,oldState:0}),of=Hn(wr),lf=[9,13,27,32],ns=Ri&&"CompositionEvent"in window,g=null;Ri&&"documentMode"in document&&(g=document.documentMode);var _=Ri&&"TextEvent"in window&&!g,k=Ri&&(!ns||g&&8<g&&11>=g),K=" ",oe=!1;function pe(s,a){switch(s){case"keyup":return lf.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ae(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Nt=!1;function Vn(s,a){switch(s){case"compositionend":return Ae(a);case"keypress":return a.which!==32?null:(oe=!0,K);case"textInput":return s=a.data,s===K&&oe?null:s;default:return null}}function It(s,a){if(Nt)return s==="compositionend"||!ns&&pe(s,a)?(s=pc(),Vs=_a=Zi=null,Nt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return k&&a.locale!=="ko"?null:a.data;default:return null}}var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!$n[s.type]:a==="textarea"}function zs(s,a,u,h){ks?Ls?Ls.push(h):Ls=[h]:ks=h,a=Wf(a,"onChange"),0<a.length&&(u=new Rl("onChange","change",null,u,h),s.push({event:u,listeners:a}))}var tr=null,rs=null;function wc(s){hT(s,0)}function uf(s){var a=Ut(s);if(dc(a))return s}function P_(s,a){if(s==="change")return a}var D_=!1;if(Ri){var ev;if(Ri){var tv="oninput"in document;if(!tv){var j_=document.createElement("div");j_.setAttribute("oninput","return;"),tv=typeof j_.oninput=="function"}ev=tv}else ev=!1;D_=ev&&(!document.documentMode||9<document.documentMode)}function k_(){tr&&(tr.detachEvent("onpropertychange",L_),rs=tr=null)}function L_(s){if(s.propertyName==="value"&&uf(rs)){var a=[];zs(a,rs,s,li(s)),Wh(wc,a)}}function lj(s,a,u){s==="focusin"?(k_(),tr=a,rs=u,tr.attachEvent("onpropertychange",L_)):s==="focusout"&&k_()}function uj(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return uf(rs)}function cj(s,a){if(s==="click")return uf(a)}function dj(s,a){if(s==="input"||s==="change")return uf(a)}function hj(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Br=typeof Object.is=="function"?Object.is:hj;function _c(s,a){if(Br(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),h=Object.keys(a);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var v=u[h];if(!Ye.call(a,v)||!Br(s[v],a[v]))return!1}return!0}function V_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function U_(s,a){var u=V_(s);s=0;for(var h;u;){if(u.nodeType===3){if(h=s+u.textContent.length,s<=a&&h>=a)return{node:u,offset:a-s};s=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=V_(u)}}function z_(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?z_(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function B_(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=So(s.document);a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=So(s.document)}return a}function nv(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var fj=Ri&&"documentMode"in document&&11>=document.documentMode,kl=null,rv=null,Sc=null,iv=!1;function F_(s,a,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;iv||kl==null||kl!==So(h)||(h=kl,"selectionStart"in h&&nv(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Sc&&_c(Sc,h)||(Sc=h,h=Wf(rv,"onSelect"),0<h.length&&(a=new Rl("onSelect","select",null,a,u),s.push({event:a,listeners:h}),a.target=kl)))}function Do(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var Ll={animationend:Do("Animation","AnimationEnd"),animationiteration:Do("Animation","AnimationIteration"),animationstart:Do("Animation","AnimationStart"),transitionrun:Do("Transition","TransitionRun"),transitionstart:Do("Transition","TransitionStart"),transitioncancel:Do("Transition","TransitionCancel"),transitionend:Do("Transition","TransitionEnd")},sv={},H_={};Ri&&(H_=document.createElement("div").style,"AnimationEvent"in window||(delete Ll.animationend.animation,delete Ll.animationiteration.animation,delete Ll.animationstart.animation),"TransitionEvent"in window||delete Ll.transitionend.transition);function jo(s){if(sv[s])return sv[s];if(!Ll[s])return s;var a=Ll[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in H_)return sv[s]=a[u];return s}var $_=jo("animationend"),q_=jo("animationiteration"),G_=jo("animationstart"),mj=jo("transitionrun"),pj=jo("transitionstart"),gj=jo("transitioncancel"),K_=jo("transitionend"),W_=new Map,av="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");av.push("scrollEnd");function Ni(s,a){W_.set(s,a),Ln(a,[s])}var Y_=new WeakMap;function di(s,a){if(typeof s=="object"&&s!==null){var u=Y_.get(s);return u!==void 0?u:(a={value:s,source:a,stack:Ps(a)},Y_.set(s,a),a)}return{value:s,source:a,stack:Ps(a)}}var hi=[],Vl=0,ov=0;function cf(){for(var s=Vl,a=ov=Vl=0;a<s;){var u=hi[a];hi[a++]=null;var h=hi[a];hi[a++]=null;var v=hi[a];hi[a++]=null;var b=hi[a];if(hi[a++]=null,h!==null&&v!==null){var L=h.pending;L===null?v.next=v:(v.next=L.next,L.next=v),h.pending=v}b!==0&&X_(u,v,b)}}function df(s,a,u,h){hi[Vl++]=s,hi[Vl++]=a,hi[Vl++]=u,hi[Vl++]=h,ov|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function lv(s,a,u,h){return df(s,a,u,h),hf(s)}function Ul(s,a){return df(s,null,null,a),hf(s)}function X_(s,a,u){s.lanes|=u;var h=s.alternate;h!==null&&(h.lanes|=u);for(var v=!1,b=s.return;b!==null;)b.childLanes|=u,h=b.alternate,h!==null&&(h.childLanes|=u),b.tag===22&&(s=b.stateNode,s===null||s._visibility&1||(v=!0)),s=b,b=b.return;return s.tag===3?(b=s.stateNode,v&&a!==null&&(v=31-nn(u),s=b.hiddenUpdates,h=s[v],h===null?s[v]=[a]:h.push(a),a.lane=u|536870912),b):null}function hf(s){if(50<Wc)throw Wc=0,my=null,Error(r(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var zl={};function vj(s,a,u,h){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(s,a,u,h){return new vj(s,a,u,h)}function uv(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Bs(s,a){var u=s.alternate;return u===null?(u=Fr(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function Q_(s,a){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,a=u.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function ff(s,a,u,h,v,b){var L=0;if(h=s,typeof s=="function")uv(s)&&(L=1);else if(typeof s=="string")L=b4(s,u,ne.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case R:return s=Fr(31,u,a,v),s.elementType=R,s.lanes=b,s;case N:return ko(u.children,v,b,a);case P:L=8,v|=24;break;case V:return s=Fr(12,u,a,v|2),s.elementType=V,s.lanes=b,s;case M:return s=Fr(13,u,a,v),s.elementType=M,s.lanes=b,s;case O:return s=Fr(19,u,a,v),s.elementType=O,s.lanes=b,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case D:case F:L=10;break e;case B:L=9;break e;case Y:L=11;break e;case C:L=14;break e;case I:L=16,h=null;break e}L=29,u=Error(r(130,s===null?"null":typeof s,"")),h=null}return a=Fr(L,u,a,v),a.elementType=s,a.type=h,a.lanes=b,a}function ko(s,a,u,h){return s=Fr(7,s,h,a),s.lanes=u,s}function cv(s,a,u){return s=Fr(6,s,null,a),s.lanes=u,s}function dv(s,a,u){return a=Fr(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var Bl=[],Fl=0,mf=null,pf=0,fi=[],mi=0,Lo=null,Fs=1,Hs="";function Vo(s,a){Bl[Fl++]=pf,Bl[Fl++]=mf,mf=s,pf=a}function Z_(s,a,u){fi[mi++]=Fs,fi[mi++]=Hs,fi[mi++]=Lo,Lo=s;var h=Fs;s=Hs;var v=32-nn(h)-1;h&=~(1<<v),u+=1;var b=32-nn(a)+v;if(30<b){var L=v-v%5;b=(h&(1<<L)-1).toString(32),h>>=L,v-=L,Fs=1<<32-nn(a)+v|u<<v|h,Hs=b+s}else Fs=1<<b|u<<v|h,Hs=s}function hv(s){s.return!==null&&(Vo(s,1),Z_(s,1,0))}function fv(s){for(;s===mf;)mf=Bl[--Fl],Bl[Fl]=null,pf=Bl[--Fl],Bl[Fl]=null;for(;s===Lo;)Lo=fi[--mi],fi[mi]=null,Hs=fi[--mi],fi[mi]=null,Fs=fi[--mi],fi[mi]=null}var _r=null,gn=null,jt=!1,Uo=null,is=!1,mv=Error(r(519));function zo(s){var a=Error(r(418,""));throw Ac(di(a,s)),mv}function J_(s){var a=s.stateNode,u=s.type,h=s.memoizedProps;switch(a[_e]=s,a[Te]=h,u){case"dialog":St("cancel",a),St("close",a);break;case"iframe":case"object":case"embed":St("load",a);break;case"video":case"audio":for(u=0;u<Xc.length;u++)St(Xc[u],a);break;case"source":St("error",a);break;case"img":case"image":case"link":St("error",a),St("load",a);break;case"details":St("toggle",a);break;case"input":St("invalid",a),To(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),Al(a);break;case"select":St("invalid",a);break;case"textarea":St("invalid",a),Eo(a,h.value,h.defaultValue,h.children),Al(a)}u=h.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||h.suppressHydrationWarning===!0||gT(a.textContent,u)?(h.popover!=null&&(St("beforetoggle",a),St("toggle",a)),h.onScroll!=null&&St("scroll",a),h.onScrollEnd!=null&&St("scrollend",a),h.onClick!=null&&(a.onclick=Yf),a=!0):a=!1,a||zo(s)}function e1(s){for(_r=s.return;_r;)switch(_r.tag){case 5:case 13:is=!1;return;case 27:case 3:is=!0;return;default:_r=_r.return}}function Tc(s){if(s!==_r)return!1;if(!jt)return e1(s),jt=!0,!1;var a=s.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||Iy(s.type,s.memoizedProps)),u=!u),u&&gn&&zo(s),e1(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(u=s.data,u==="/$"){if(a===0){gn=Mi(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++;s=s.nextSibling}gn=null}}else a===27?(a=gn,Va(s.type)?(s=Dy,Dy=null,gn=s):gn=a):gn=_r?Mi(s.stateNode.nextSibling):null;return!0}function Ec(){gn=_r=null,jt=!1}function t1(){var s=Uo;return s!==null&&(Ir===null?Ir=s:Ir.push.apply(Ir,s),Uo=null),s}function Ac(s){Uo===null?Uo=[s]:Uo.push(s)}var pv=z(null),Bo=null,$s=null;function Sa(s,a,u){Q(pv,a._currentValue),a._currentValue=u}function qs(s){s._currentValue=pv.current,X(pv)}function gv(s,a,u){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===u)break;s=s.return}}function vv(s,a,u,h){var v=s.child;for(v!==null&&(v.return=s);v!==null;){var b=v.dependencies;if(b!==null){var L=v.child;b=b.firstContext;e:for(;b!==null;){var q=b;b=v;for(var ee=0;ee<a.length;ee++)if(q.context===a[ee]){b.lanes|=u,q=b.alternate,q!==null&&(q.lanes|=u),gv(b.return,u,s),h||(L=null);break e}b=q.next}}else if(v.tag===18){if(L=v.return,L===null)throw Error(r(341));L.lanes|=u,b=L.alternate,b!==null&&(b.lanes|=u),gv(L,u,s),L=null}else L=v.child;if(L!==null)L.return=v;else for(L=v;L!==null;){if(L===s){L=null;break}if(v=L.sibling,v!==null){v.return=L.return,L=v;break}L=L.return}v=L}}function Cc(s,a,u,h){s=null;for(var v=a,b=!1;v!==null;){if(!b){if((v.flags&524288)!==0)b=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var L=v.alternate;if(L===null)throw Error(r(387));if(L=L.memoizedProps,L!==null){var q=v.type;Br(v.pendingProps.value,L.value)||(s!==null?s.push(q):s=[q])}}else if(v===ve.current){if(L=v.alternate,L===null)throw Error(r(387));L.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(s!==null?s.push(nd):s=[nd])}v=v.return}s!==null&&vv(a,s,u,h),a.flags|=262144}function gf(s){for(s=s.firstContext;s!==null;){if(!Br(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Fo(s){Bo=s,$s=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function cr(s){return n1(Bo,s)}function vf(s,a){return Bo===null&&Fo(s),n1(s,a)}function n1(s,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},$s===null){if(s===null)throw Error(r(308));$s=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else $s=$s.next=a;return u}var yj=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(u,h){s.push(h)}};this.abort=function(){a.aborted=!0,s.forEach(function(u){return u()})}},bj=t.unstable_scheduleCallback,xj=t.unstable_NormalPriority,zn={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yv(){return{controller:new yj,data:new Map,refCount:0}}function Rc(s){s.refCount--,s.refCount===0&&bj(xj,function(){s.controller.abort()})}var Nc=null,bv=0,Hl=0,$l=null;function wj(s,a){if(Nc===null){var u=Nc=[];bv=0,Hl=wy(),$l={status:"pending",value:void 0,then:function(h){u.push(h)}}}return bv++,a.then(r1,r1),a}function r1(){if(--bv===0&&Nc!==null){$l!==null&&($l.status="fulfilled");var s=Nc;Nc=null,Hl=0,$l=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function _j(s,a){var u=[],h={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return s.then(function(){h.status="fulfilled",h.value=a;for(var v=0;v<u.length;v++)(0,u[v])(a)},function(v){for(h.status="rejected",h.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),h}var i1=H.S;H.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&wj(s,a),i1!==null&&i1(s,a)};var Ho=z(null);function xv(){var s=Ho.current;return s!==null?s:rn.pooledCache}function yf(s,a){a===null?Q(Ho,Ho.current):Q(Ho,a.pool)}function s1(){var s=xv();return s===null?null:{parent:zn._currentValue,pool:s}}var Ic=Error(r(460)),a1=Error(r(474)),bf=Error(r(542)),wv={then:function(){}};function o1(s){return s=s.status,s==="fulfilled"||s==="rejected"}function xf(){}function l1(s,a,u){switch(u=s[u],u===void 0?s.push(a):u!==a&&(a.then(xf,xf),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,c1(s),s;default:if(typeof a.status=="string")a.then(xf,xf);else{if(s=rn,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=a,s.status="pending",s.then(function(h){if(a.status==="pending"){var v=a;v.status="fulfilled",v.value=h}},function(h){if(a.status==="pending"){var v=a;v.status="rejected",v.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,c1(s),s}throw Mc=a,Ic}}var Mc=null;function u1(){if(Mc===null)throw Error(r(459));var s=Mc;return Mc=null,s}function c1(s){if(s===Ic||s===bf)throw Error(r(483))}var Ta=!1;function _v(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sv(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ea(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Aa(s,a,u){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(Ht&2)!==0){var v=h.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),h.pending=a,a=hf(s),X_(s,null,u),a}return df(s,h,a,u),hf(s)}function Oc(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var h=a.lanes;h&=s.pendingLanes,u|=h,a.lanes=u,Ki(s,u)}}function Tv(s,a){var u=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var v=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var L={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?v=b=L:b=b.next=L,u=u.next}while(u!==null);b===null?v=b=a:b=b.next=a}else v=b=a;u={baseState:h.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:h.shared,callbacks:h.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}var Ev=!1;function Pc(){if(Ev){var s=$l;if(s!==null)throw s}}function Dc(s,a,u,h){Ev=!1;var v=s.updateQueue;Ta=!1;var b=v.firstBaseUpdate,L=v.lastBaseUpdate,q=v.shared.pending;if(q!==null){v.shared.pending=null;var ee=q,de=ee.next;ee.next=null,L===null?b=de:L.next=de,L=ee;var be=s.alternate;be!==null&&(be=be.updateQueue,q=be.lastBaseUpdate,q!==L&&(q===null?be.firstBaseUpdate=de:q.next=de,be.lastBaseUpdate=ee))}if(b!==null){var we=v.baseState;L=0,be=de=ee=null,q=b;do{var he=q.lane&-536870913,fe=he!==q.lane;if(fe?(Mt&he)===he:(h&he)===he){he!==0&&he===Hl&&(Ev=!0),be!==null&&(be=be.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var st=s,Ze=q;he=a;var Wt=u;switch(Ze.tag){case 1:if(st=Ze.payload,typeof st=="function"){we=st.call(Wt,we,he);break e}we=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=Ze.payload,he=typeof st=="function"?st.call(Wt,we,he):st,he==null)break e;we=p({},we,he);break e;case 2:Ta=!0}}he=q.callback,he!==null&&(s.flags|=64,fe&&(s.flags|=8192),fe=v.callbacks,fe===null?v.callbacks=[he]:fe.push(he))}else fe={lane:he,tag:q.tag,payload:q.payload,callback:q.callback,next:null},be===null?(de=be=fe,ee=we):be=be.next=fe,L|=he;if(q=q.next,q===null){if(q=v.shared.pending,q===null)break;fe=q,q=fe.next,fe.next=null,v.lastBaseUpdate=fe,v.shared.pending=null}}while(!0);be===null&&(ee=we),v.baseState=ee,v.firstBaseUpdate=de,v.lastBaseUpdate=be,b===null&&(v.shared.lanes=0),Da|=L,s.lanes=L,s.memoizedState=we}}function d1(s,a){if(typeof s!="function")throw Error(r(191,s));s.call(a)}function h1(s,a){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)d1(u[s],a)}var ql=z(null),wf=z(0);function f1(s,a){s=Zs,Q(wf,s),Q(ql,a),Zs=s|a.baseLanes}function Av(){Q(wf,Zs),Q(ql,ql.current)}function Cv(){Zs=wf.current,X(ql),X(wf)}var Ca=0,gt=null,Gt=null,In=null,_f=!1,Gl=!1,$o=!1,Sf=0,jc=0,Kl=null,Sj=0;function _n(){throw Error(r(321))}function Rv(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!Br(s[u],a[u]))return!1;return!0}function Nv(s,a,u,h,v,b){return Ca=b,gt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,H.H=s===null||s.memoizedState===null?X1:Q1,$o=!1,b=u(h,v),$o=!1,Gl&&(b=p1(a,u,h,v)),m1(s),b}function m1(s){H.H=Nf;var a=Gt!==null&&Gt.next!==null;if(Ca=0,In=Gt=gt=null,_f=!1,jc=0,Kl=null,a)throw Error(r(300));s===null||qn||(s=s.dependencies,s!==null&&gf(s)&&(qn=!0))}function p1(s,a,u,h){gt=s;var v=0;do{if(Gl&&(Kl=null),jc=0,Gl=!1,25<=v)throw Error(r(301));if(v+=1,In=Gt=null,s.updateQueue!=null){var b=s.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}H.H=Ij,b=a(u,h)}while(Gl);return b}function Tj(){var s=H.H,a=s.useState()[0];return a=typeof a.then=="function"?kc(a):a,s=s.useState()[0],(Gt!==null?Gt.memoizedState:null)!==s&&(gt.flags|=1024),a}function Iv(){var s=Sf!==0;return Sf=0,s}function Mv(s,a,u){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~u}function Ov(s){if(_f){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}_f=!1}Ca=0,In=Gt=gt=null,Gl=!1,jc=Sf=0,Kl=null}function Rr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?gt.memoizedState=In=s:In=In.next=s,In}function Mn(){if(Gt===null){var s=gt.alternate;s=s!==null?s.memoizedState:null}else s=Gt.next;var a=In===null?gt.memoizedState:In.next;if(a!==null)In=a,Gt=s;else{if(s===null)throw gt.alternate===null?Error(r(467)):Error(r(310));Gt=s,s={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},In===null?gt.memoizedState=In=s:In=In.next=s}return In}function Pv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kc(s){var a=jc;return jc+=1,Kl===null&&(Kl=[]),s=l1(Kl,s,a),a=gt,(In===null?a.memoizedState:In.next)===null&&(a=a.alternate,H.H=a===null||a.memoizedState===null?X1:Q1),s}function Tf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return kc(s);if(s.$$typeof===F)return cr(s)}throw Error(r(438,String(s)))}function Dv(s){var a=null,u=gt.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var h=gt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(v){return v.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=Pv(),gt.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(s),h=0;h<s;h++)u[h]=T;return a.index++,u}function Gs(s,a){return typeof a=="function"?a(s):a}function Ef(s){var a=Mn();return jv(a,Gt,s)}function jv(s,a,u){var h=s.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=u;var v=s.baseQueue,b=h.pending;if(b!==null){if(v!==null){var L=v.next;v.next=b.next,b.next=L}a.baseQueue=v=b,h.pending=null}if(b=s.baseState,v===null)s.memoizedState=b;else{a=v.next;var q=L=null,ee=null,de=a,be=!1;do{var we=de.lane&-536870913;if(we!==de.lane?(Mt&we)===we:(Ca&we)===we){var he=de.revertLane;if(he===0)ee!==null&&(ee=ee.next={lane:0,revertLane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),we===Hl&&(be=!0);else if((Ca&he)===he){de=de.next,he===Hl&&(be=!0);continue}else we={lane:0,revertLane:de.revertLane,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},ee===null?(q=ee=we,L=b):ee=ee.next=we,gt.lanes|=he,Da|=he;we=de.action,$o&&u(b,we),b=de.hasEagerState?de.eagerState:u(b,we)}else he={lane:we,revertLane:de.revertLane,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},ee===null?(q=ee=he,L=b):ee=ee.next=he,gt.lanes|=we,Da|=we;de=de.next}while(de!==null&&de!==a);if(ee===null?L=b:ee.next=q,!Br(b,s.memoizedState)&&(qn=!0,be&&(u=$l,u!==null)))throw u;s.memoizedState=b,s.baseState=L,s.baseQueue=ee,h.lastRenderedState=b}return v===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function kv(s){var a=Mn(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var h=u.dispatch,v=u.pending,b=a.memoizedState;if(v!==null){u.pending=null;var L=v=v.next;do b=s(b,L.action),L=L.next;while(L!==v);Br(b,a.memoizedState)||(qn=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),u.lastRenderedState=b}return[b,h]}function g1(s,a,u){var h=gt,v=Mn(),b=jt;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=a();var L=!Br((Gt||v).memoizedState,u);L&&(v.memoizedState=u,qn=!0),v=v.queue;var q=b1.bind(null,h,v,s);if(Lc(2048,8,q,[s]),v.getSnapshot!==a||L||In!==null&&In.memoizedState.tag&1){if(h.flags|=2048,Wl(9,Af(),y1.bind(null,h,v,u,a),null),rn===null)throw Error(r(349));b||(Ca&124)!==0||v1(h,a,u)}return u}function v1(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=gt.updateQueue,a===null?(a=Pv(),gt.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function y1(s,a,u,h){a.value=u,a.getSnapshot=h,x1(a)&&w1(s)}function b1(s,a,u){return u(function(){x1(a)&&w1(s)})}function x1(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!Br(s,u)}catch{return!0}}function w1(s){var a=Ul(s,2);a!==null&&Kr(a,s,2)}function Lv(s){var a=Rr();if(typeof s=="function"){var u=s;if(s=u(),$o){sn(!0);try{u()}finally{sn(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gs,lastRenderedState:s},a}function _1(s,a,u,h){return s.baseState=u,jv(s,Gt,typeof h=="function"?h:Gs)}function Ej(s,a,u,h,v){if(Rf(s))throw Error(r(485));if(s=a.action,s!==null){var b={payload:v,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){b.listeners.push(L)}};H.T!==null?u(!0):b.isTransition=!1,h(b),u=a.pending,u===null?(b.next=a.pending=b,S1(a,b)):(b.next=u.next,a.pending=u.next=b)}}function S1(s,a){var u=a.action,h=a.payload,v=s.state;if(a.isTransition){var b=H.T,L={};H.T=L;try{var q=u(v,h),ee=H.S;ee!==null&&ee(L,q),T1(s,a,q)}catch(de){Vv(s,a,de)}finally{H.T=b}}else try{b=u(v,h),T1(s,a,b)}catch(de){Vv(s,a,de)}}function T1(s,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(h){E1(s,a,h)},function(h){return Vv(s,a,h)}):E1(s,a,u)}function E1(s,a,u){a.status="fulfilled",a.value=u,A1(a),s.state=u,a=s.pending,a!==null&&(u=a.next,u===a?s.pending=null:(u=u.next,a.next=u,S1(s,u)))}function Vv(s,a,u){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=u,A1(a),a=a.next;while(a!==h)}s.action=null}function A1(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function C1(s,a){return a}function R1(s,a){if(jt){var u=rn.formState;if(u!==null){e:{var h=gt;if(jt){if(gn){t:{for(var v=gn,b=is;v.nodeType!==8;){if(!b){v=null;break t}if(v=Mi(v.nextSibling),v===null){v=null;break t}}b=v.data,v=b==="F!"||b==="F"?v:null}if(v){gn=Mi(v.nextSibling),h=v.data==="F!";break e}}zo(h)}h=!1}h&&(a=u[0])}}return u=Rr(),u.memoizedState=u.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:C1,lastRenderedState:a},u.queue=h,u=K1.bind(null,gt,h),h.dispatch=u,h=Lv(!1),b=Hv.bind(null,gt,!1,h.queue),h=Rr(),v={state:a,dispatch:null,action:s,pending:null},h.queue=v,u=Ej.bind(null,gt,v,b,u),v.dispatch=u,h.memoizedState=s,[a,u,!1]}function N1(s){var a=Mn();return I1(a,Gt,s)}function I1(s,a,u){if(a=jv(s,a,C1)[0],s=Ef(Gs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=kc(a)}catch(L){throw L===Ic?bf:L}else h=a;a=Mn();var v=a.queue,b=v.dispatch;return u!==a.memoizedState&&(gt.flags|=2048,Wl(9,Af(),Aj.bind(null,v,u),null)),[h,b,s]}function Aj(s,a){s.action=a}function M1(s){var a=Mn(),u=Gt;if(u!==null)return I1(a,u,s);Mn(),a=a.memoizedState,u=Mn();var h=u.queue.dispatch;return u.memoizedState=s,[a,h,!1]}function Wl(s,a,u,h){return s={tag:s,create:u,deps:h,inst:a,next:null},a=gt.updateQueue,a===null&&(a=Pv(),gt.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=s.next=s:(h=u.next,u.next=s,s.next=h,a.lastEffect=s),s}function Af(){return{destroy:void 0,resource:void 0}}function O1(){return Mn().memoizedState}function Cf(s,a,u,h){var v=Rr();h=h===void 0?null:h,gt.flags|=s,v.memoizedState=Wl(1|a,Af(),u,h)}function Lc(s,a,u,h){var v=Mn();h=h===void 0?null:h;var b=v.memoizedState.inst;Gt!==null&&h!==null&&Rv(h,Gt.memoizedState.deps)?v.memoizedState=Wl(a,b,u,h):(gt.flags|=s,v.memoizedState=Wl(1|a,b,u,h))}function P1(s,a){Cf(8390656,8,s,a)}function D1(s,a){Lc(2048,8,s,a)}function j1(s,a){return Lc(4,2,s,a)}function k1(s,a){return Lc(4,4,s,a)}function L1(s,a){if(typeof a=="function"){s=s();var u=a(s);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function V1(s,a,u){u=u!=null?u.concat([s]):null,Lc(4,4,L1.bind(null,a,s),u)}function Uv(){}function U1(s,a){var u=Mn();a=a===void 0?null:a;var h=u.memoizedState;return a!==null&&Rv(a,h[1])?h[0]:(u.memoizedState=[s,a],s)}function z1(s,a){var u=Mn();a=a===void 0?null:a;var h=u.memoizedState;if(a!==null&&Rv(a,h[1]))return h[0];if(h=s(),$o){sn(!0);try{s()}finally{sn(!1)}}return u.memoizedState=[h,a],h}function zv(s,a,u){return u===void 0||(Ca&1073741824)!==0?s.memoizedState=a:(s.memoizedState=u,s=HS(),gt.lanes|=s,Da|=s,u)}function B1(s,a,u,h){return Br(u,a)?u:ql.current!==null?(s=zv(s,u,h),Br(s,a)||(qn=!0),s):(Ca&42)===0?(qn=!0,s.memoizedState=u):(s=HS(),gt.lanes|=s,Da|=s,a)}function F1(s,a,u,h,v){var b=S.p;S.p=b!==0&&8>b?b:8;var L=H.T,q={};H.T=q,Hv(s,!1,a,u);try{var ee=v(),de=H.S;if(de!==null&&de(q,ee),ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var be=_j(ee,h);Vc(s,a,be,Gr(s))}else Vc(s,a,h,Gr(s))}catch(we){Vc(s,a,{then:function(){},status:"rejected",reason:we},Gr())}finally{S.p=b,H.T=L}}function Cj(){}function Bv(s,a,u,h){if(s.tag!==5)throw Error(r(476));var v=H1(s).queue;F1(s,v,a,J,u===null?Cj:function(){return $1(s),u(h)})}function H1(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gs,lastRenderedState:J},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gs,lastRenderedState:u},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function $1(s){var a=H1(s).next.queue;Vc(s,a,{},Gr())}function Fv(){return cr(nd)}function q1(){return Mn().memoizedState}function G1(){return Mn().memoizedState}function Rj(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var u=Gr();s=Ea(u);var h=Aa(a,s,u);h!==null&&(Kr(h,a,u),Oc(h,a,u)),a={cache:yv()},s.payload=a;return}a=a.return}}function Nj(s,a,u){var h=Gr();u={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Rf(s)?W1(a,u):(u=lv(s,a,u,h),u!==null&&(Kr(u,s,h),Y1(u,a,h)))}function K1(s,a,u){var h=Gr();Vc(s,a,u,h)}function Vc(s,a,u,h){var v={lane:h,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Rf(s))W1(a,v);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var L=a.lastRenderedState,q=b(L,u);if(v.hasEagerState=!0,v.eagerState=q,Br(q,L))return df(s,a,v,0),rn===null&&cf(),!1}catch{}finally{}if(u=lv(s,a,v,h),u!==null)return Kr(u,s,h),Y1(u,a,h),!0}return!1}function Hv(s,a,u,h){if(h={lane:2,revertLane:wy(),action:h,hasEagerState:!1,eagerState:null,next:null},Rf(s)){if(a)throw Error(r(479))}else a=lv(s,u,h,2),a!==null&&Kr(a,s,2)}function Rf(s){var a=s.alternate;return s===gt||a!==null&&a===gt}function W1(s,a){Gl=_f=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function Y1(s,a,u){if((u&4194048)!==0){var h=a.lanes;h&=s.pendingLanes,u|=h,a.lanes=u,Ki(s,u)}}var Nf={readContext:cr,use:Tf,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useLayoutEffect:_n,useInsertionEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useSyncExternalStore:_n,useId:_n,useHostTransitionStatus:_n,useFormState:_n,useActionState:_n,useOptimistic:_n,useMemoCache:_n,useCacheRefresh:_n},X1={readContext:cr,use:Tf,useCallback:function(s,a){return Rr().memoizedState=[s,a===void 0?null:a],s},useContext:cr,useEffect:P1,useImperativeHandle:function(s,a,u){u=u!=null?u.concat([s]):null,Cf(4194308,4,L1.bind(null,a,s),u)},useLayoutEffect:function(s,a){return Cf(4194308,4,s,a)},useInsertionEffect:function(s,a){Cf(4,2,s,a)},useMemo:function(s,a){var u=Rr();a=a===void 0?null:a;var h=s();if($o){sn(!0);try{s()}finally{sn(!1)}}return u.memoizedState=[h,a],h},useReducer:function(s,a,u){var h=Rr();if(u!==void 0){var v=u(a);if($o){sn(!0);try{u(a)}finally{sn(!1)}}}else v=a;return h.memoizedState=h.baseState=v,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:v},h.queue=s,s=s.dispatch=Nj.bind(null,gt,s),[h.memoizedState,s]},useRef:function(s){var a=Rr();return s={current:s},a.memoizedState=s},useState:function(s){s=Lv(s);var a=s.queue,u=K1.bind(null,gt,a);return a.dispatch=u,[s.memoizedState,u]},useDebugValue:Uv,useDeferredValue:function(s,a){var u=Rr();return zv(u,s,a)},useTransition:function(){var s=Lv(!1);return s=F1.bind(null,gt,s.queue,!0,!1),Rr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,u){var h=gt,v=Rr();if(jt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=a(),rn===null)throw Error(r(349));(Mt&124)!==0||v1(h,a,u)}v.memoizedState=u;var b={value:u,getSnapshot:a};return v.queue=b,P1(b1.bind(null,h,b,s),[s]),h.flags|=2048,Wl(9,Af(),y1.bind(null,h,b,u,a),null),u},useId:function(){var s=Rr(),a=rn.identifierPrefix;if(jt){var u=Hs,h=Fs;u=(h&~(1<<32-nn(h)-1)).toString(32)+u,a="«"+a+"R"+u,u=Sf++,0<u&&(a+="H"+u.toString(32)),a+="»"}else u=Sj++,a="«"+a+"r"+u.toString(32)+"»";return s.memoizedState=a},useHostTransitionStatus:Fv,useFormState:R1,useActionState:R1,useOptimistic:function(s){var a=Rr();a.memoizedState=a.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=Hv.bind(null,gt,!0,u),u.dispatch=a,[s,a]},useMemoCache:Dv,useCacheRefresh:function(){return Rr().memoizedState=Rj.bind(null,gt)}},Q1={readContext:cr,use:Tf,useCallback:U1,useContext:cr,useEffect:D1,useImperativeHandle:V1,useInsertionEffect:j1,useLayoutEffect:k1,useMemo:z1,useReducer:Ef,useRef:O1,useState:function(){return Ef(Gs)},useDebugValue:Uv,useDeferredValue:function(s,a){var u=Mn();return B1(u,Gt.memoizedState,s,a)},useTransition:function(){var s=Ef(Gs)[0],a=Mn().memoizedState;return[typeof s=="boolean"?s:kc(s),a]},useSyncExternalStore:g1,useId:q1,useHostTransitionStatus:Fv,useFormState:N1,useActionState:N1,useOptimistic:function(s,a){var u=Mn();return _1(u,Gt,s,a)},useMemoCache:Dv,useCacheRefresh:G1},Ij={readContext:cr,use:Tf,useCallback:U1,useContext:cr,useEffect:D1,useImperativeHandle:V1,useInsertionEffect:j1,useLayoutEffect:k1,useMemo:z1,useReducer:kv,useRef:O1,useState:function(){return kv(Gs)},useDebugValue:Uv,useDeferredValue:function(s,a){var u=Mn();return Gt===null?zv(u,s,a):B1(u,Gt.memoizedState,s,a)},useTransition:function(){var s=kv(Gs)[0],a=Mn().memoizedState;return[typeof s=="boolean"?s:kc(s),a]},useSyncExternalStore:g1,useId:q1,useHostTransitionStatus:Fv,useFormState:M1,useActionState:M1,useOptimistic:function(s,a){var u=Mn();return Gt!==null?_1(u,Gt,s,a):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:Dv,useCacheRefresh:G1},Yl=null,Uc=0;function If(s){var a=Uc;return Uc+=1,Yl===null&&(Yl=[]),l1(Yl,s,a)}function zc(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Mf(s,a){throw a.$$typeof===y?Error(r(525)):(s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function Z1(s){var a=s._init;return a(s._payload)}function J1(s){function a(ie,re){if(s){var ue=ie.deletions;ue===null?(ie.deletions=[re],ie.flags|=16):ue.push(re)}}function u(ie,re){if(!s)return null;for(;re!==null;)a(ie,re),re=re.sibling;return null}function h(ie){for(var re=new Map;ie!==null;)ie.key!==null?re.set(ie.key,ie):re.set(ie.index,ie),ie=ie.sibling;return re}function v(ie,re){return ie=Bs(ie,re),ie.index=0,ie.sibling=null,ie}function b(ie,re,ue){return ie.index=ue,s?(ue=ie.alternate,ue!==null?(ue=ue.index,ue<re?(ie.flags|=67108866,re):ue):(ie.flags|=67108866,re)):(ie.flags|=1048576,re)}function L(ie){return s&&ie.alternate===null&&(ie.flags|=67108866),ie}function q(ie,re,ue,xe){return re===null||re.tag!==6?(re=cv(ue,ie.mode,xe),re.return=ie,re):(re=v(re,ue),re.return=ie,re)}function ee(ie,re,ue,xe){var ke=ue.type;return ke===N?be(ie,re,ue.props.children,xe,ue.key):re!==null&&(re.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===I&&Z1(ke)===re.type)?(re=v(re,ue.props),zc(re,ue),re.return=ie,re):(re=ff(ue.type,ue.key,ue.props,null,ie.mode,xe),zc(re,ue),re.return=ie,re)}function de(ie,re,ue,xe){return re===null||re.tag!==4||re.stateNode.containerInfo!==ue.containerInfo||re.stateNode.implementation!==ue.implementation?(re=dv(ue,ie.mode,xe),re.return=ie,re):(re=v(re,ue.children||[]),re.return=ie,re)}function be(ie,re,ue,xe,ke){return re===null||re.tag!==7?(re=ko(ue,ie.mode,xe,ke),re.return=ie,re):(re=v(re,ue),re.return=ie,re)}function we(ie,re,ue){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return re=cv(""+re,ie.mode,ue),re.return=ie,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case x:return ue=ff(re.type,re.key,re.props,null,ie.mode,ue),zc(ue,re),ue.return=ie,ue;case E:return re=dv(re,ie.mode,ue),re.return=ie,re;case I:var xe=re._init;return re=xe(re._payload),we(ie,re,ue)}if(Z(re)||$(re))return re=ko(re,ie.mode,ue,null),re.return=ie,re;if(typeof re.then=="function")return we(ie,If(re),ue);if(re.$$typeof===F)return we(ie,vf(ie,re),ue);Mf(ie,re)}return null}function he(ie,re,ue,xe){var ke=re!==null?re.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return ke!==null?null:q(ie,re,""+ue,xe);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case x:return ue.key===ke?ee(ie,re,ue,xe):null;case E:return ue.key===ke?de(ie,re,ue,xe):null;case I:return ke=ue._init,ue=ke(ue._payload),he(ie,re,ue,xe)}if(Z(ue)||$(ue))return ke!==null?null:be(ie,re,ue,xe,null);if(typeof ue.then=="function")return he(ie,re,If(ue),xe);if(ue.$$typeof===F)return he(ie,re,vf(ie,ue),xe);Mf(ie,ue)}return null}function fe(ie,re,ue,xe,ke){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return ie=ie.get(ue)||null,q(re,ie,""+xe,ke);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case x:return ie=ie.get(xe.key===null?ue:xe.key)||null,ee(re,ie,xe,ke);case E:return ie=ie.get(xe.key===null?ue:xe.key)||null,de(re,ie,xe,ke);case I:var bt=xe._init;return xe=bt(xe._payload),fe(ie,re,ue,xe,ke)}if(Z(xe)||$(xe))return ie=ie.get(ue)||null,be(re,ie,xe,ke,null);if(typeof xe.then=="function")return fe(ie,re,ue,If(xe),ke);if(xe.$$typeof===F)return fe(ie,re,ue,vf(re,xe),ke);Mf(re,xe)}return null}function st(ie,re,ue,xe){for(var ke=null,bt=null,Fe=re,tt=re=0,Kn=null;Fe!==null&&tt<ue.length;tt++){Fe.index>tt?(Kn=Fe,Fe=null):Kn=Fe.sibling;var Dt=he(ie,Fe,ue[tt],xe);if(Dt===null){Fe===null&&(Fe=Kn);break}s&&Fe&&Dt.alternate===null&&a(ie,Fe),re=b(Dt,re,tt),bt===null?ke=Dt:bt.sibling=Dt,bt=Dt,Fe=Kn}if(tt===ue.length)return u(ie,Fe),jt&&Vo(ie,tt),ke;if(Fe===null){for(;tt<ue.length;tt++)Fe=we(ie,ue[tt],xe),Fe!==null&&(re=b(Fe,re,tt),bt===null?ke=Fe:bt.sibling=Fe,bt=Fe);return jt&&Vo(ie,tt),ke}for(Fe=h(Fe);tt<ue.length;tt++)Kn=fe(Fe,ie,tt,ue[tt],xe),Kn!==null&&(s&&Kn.alternate!==null&&Fe.delete(Kn.key===null?tt:Kn.key),re=b(Kn,re,tt),bt===null?ke=Kn:bt.sibling=Kn,bt=Kn);return s&&Fe.forEach(function(Ha){return a(ie,Ha)}),jt&&Vo(ie,tt),ke}function Ze(ie,re,ue,xe){if(ue==null)throw Error(r(151));for(var ke=null,bt=null,Fe=re,tt=re=0,Kn=null,Dt=ue.next();Fe!==null&&!Dt.done;tt++,Dt=ue.next()){Fe.index>tt?(Kn=Fe,Fe=null):Kn=Fe.sibling;var Ha=he(ie,Fe,Dt.value,xe);if(Ha===null){Fe===null&&(Fe=Kn);break}s&&Fe&&Ha.alternate===null&&a(ie,Fe),re=b(Ha,re,tt),bt===null?ke=Ha:bt.sibling=Ha,bt=Ha,Fe=Kn}if(Dt.done)return u(ie,Fe),jt&&Vo(ie,tt),ke;if(Fe===null){for(;!Dt.done;tt++,Dt=ue.next())Dt=we(ie,Dt.value,xe),Dt!==null&&(re=b(Dt,re,tt),bt===null?ke=Dt:bt.sibling=Dt,bt=Dt);return jt&&Vo(ie,tt),ke}for(Fe=h(Fe);!Dt.done;tt++,Dt=ue.next())Dt=fe(Fe,ie,tt,Dt.value,xe),Dt!==null&&(s&&Dt.alternate!==null&&Fe.delete(Dt.key===null?tt:Dt.key),re=b(Dt,re,tt),bt===null?ke=Dt:bt.sibling=Dt,bt=Dt);return s&&Fe.forEach(function(M4){return a(ie,M4)}),jt&&Vo(ie,tt),ke}function Wt(ie,re,ue,xe){if(typeof ue=="object"&&ue!==null&&ue.type===N&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case x:e:{for(var ke=ue.key;re!==null;){if(re.key===ke){if(ke=ue.type,ke===N){if(re.tag===7){u(ie,re.sibling),xe=v(re,ue.props.children),xe.return=ie,ie=xe;break e}}else if(re.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===I&&Z1(ke)===re.type){u(ie,re.sibling),xe=v(re,ue.props),zc(xe,ue),xe.return=ie,ie=xe;break e}u(ie,re);break}else a(ie,re);re=re.sibling}ue.type===N?(xe=ko(ue.props.children,ie.mode,xe,ue.key),xe.return=ie,ie=xe):(xe=ff(ue.type,ue.key,ue.props,null,ie.mode,xe),zc(xe,ue),xe.return=ie,ie=xe)}return L(ie);case E:e:{for(ke=ue.key;re!==null;){if(re.key===ke)if(re.tag===4&&re.stateNode.containerInfo===ue.containerInfo&&re.stateNode.implementation===ue.implementation){u(ie,re.sibling),xe=v(re,ue.children||[]),xe.return=ie,ie=xe;break e}else{u(ie,re);break}else a(ie,re);re=re.sibling}xe=dv(ue,ie.mode,xe),xe.return=ie,ie=xe}return L(ie);case I:return ke=ue._init,ue=ke(ue._payload),Wt(ie,re,ue,xe)}if(Z(ue))return st(ie,re,ue,xe);if($(ue)){if(ke=$(ue),typeof ke!="function")throw Error(r(150));return ue=ke.call(ue),Ze(ie,re,ue,xe)}if(typeof ue.then=="function")return Wt(ie,re,If(ue),xe);if(ue.$$typeof===F)return Wt(ie,re,vf(ie,ue),xe);Mf(ie,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint"?(ue=""+ue,re!==null&&re.tag===6?(u(ie,re.sibling),xe=v(re,ue),xe.return=ie,ie=xe):(u(ie,re),xe=cv(ue,ie.mode,xe),xe.return=ie,ie=xe),L(ie)):u(ie,re)}return function(ie,re,ue,xe){try{Uc=0;var ke=Wt(ie,re,ue,xe);return Yl=null,ke}catch(Fe){if(Fe===Ic||Fe===bf)throw Fe;var bt=Fr(29,Fe,null,ie.mode);return bt.lanes=xe,bt.return=ie,bt}finally{}}}var Xl=J1(!0),eS=J1(!1),pi=z(null),ss=null;function Ra(s){var a=s.alternate;Q(Bn,Bn.current&1),Q(pi,s),ss===null&&(a===null||ql.current!==null||a.memoizedState!==null)&&(ss=s)}function tS(s){if(s.tag===22){if(Q(Bn,Bn.current),Q(pi,s),ss===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(ss=s)}}else Na()}function Na(){Q(Bn,Bn.current),Q(pi,pi.current)}function Ks(s){X(pi),ss===s&&(ss=null),X(Bn)}var Bn=z(0);function Of(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Py(u)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function $v(s,a,u,h){a=s.memoizedState,u=u(h,a),u=u==null?a:p({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var qv={enqueueSetState:function(s,a,u){s=s._reactInternals;var h=Gr(),v=Ea(h);v.payload=a,u!=null&&(v.callback=u),a=Aa(s,v,h),a!==null&&(Kr(a,s,h),Oc(a,s,h))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var h=Gr(),v=Ea(h);v.tag=1,v.payload=a,u!=null&&(v.callback=u),a=Aa(s,v,h),a!==null&&(Kr(a,s,h),Oc(a,s,h))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=Gr(),h=Ea(u);h.tag=2,a!=null&&(h.callback=a),a=Aa(s,h,u),a!==null&&(Kr(a,s,u),Oc(a,s,u))}};function nS(s,a,u,h,v,b,L){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,b,L):a.prototype&&a.prototype.isPureReactComponent?!_c(u,h)||!_c(v,b):!0}function rS(s,a,u,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,h),a.state!==s&&qv.enqueueReplaceState(a,a.state,null)}function qo(s,a){var u=a;if("ref"in a){u={};for(var h in a)h!=="ref"&&(u[h]=a[h])}if(s=s.defaultProps){u===a&&(u=p({},u));for(var v in s)u[v]===void 0&&(u[v]=s[v])}return u}var Pf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function iS(s){Pf(s)}function sS(s){console.error(s)}function aS(s){Pf(s)}function Df(s,a){try{var u=s.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function oS(s,a,u){try{var h=s.onCaughtError;h(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Gv(s,a,u){return u=Ea(u),u.tag=3,u.payload={element:null},u.callback=function(){Df(s,a)},u}function lS(s){return s=Ea(s),s.tag=3,s}function uS(s,a,u,h){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var b=h.value;s.payload=function(){return v(b)},s.callback=function(){oS(a,u,h)}}var L=u.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(s.callback=function(){oS(a,u,h),typeof v!="function"&&(ja===null?ja=new Set([this]):ja.add(this));var q=h.stack;this.componentDidCatch(h.value,{componentStack:q!==null?q:""})})}function Mj(s,a,u,h,v){if(u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=u.alternate,a!==null&&Cc(a,u,v,!0),u=pi.current,u!==null){switch(u.tag){case 13:return ss===null?gy():u.alternate===null&&vn===0&&(vn=3),u.flags&=-257,u.flags|=65536,u.lanes=v,h===wv?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([h]):a.add(h),yy(s,h,v)),!1;case 22:return u.flags|=65536,h===wv?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([h]):u.add(h)),yy(s,h,v)),!1}throw Error(r(435,u.tag))}return yy(s,h,v),gy(),!1}if(jt)return a=pi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=v,h!==mv&&(s=Error(r(422),{cause:h}),Ac(di(s,u)))):(h!==mv&&(a=Error(r(423),{cause:h}),Ac(di(a,u))),s=s.current.alternate,s.flags|=65536,v&=-v,s.lanes|=v,h=di(h,u),v=Gv(s.stateNode,h,v),Tv(s,v),vn!==4&&(vn=2)),!1;var b=Error(r(520),{cause:h});if(b=di(b,u),Kc===null?Kc=[b]:Kc.push(b),vn!==4&&(vn=2),a===null)return!0;h=di(h,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,s=v&-v,u.lanes|=s,s=Gv(u.stateNode,h,s),Tv(u,s),!1;case 1:if(a=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ja===null||!ja.has(b))))return u.flags|=65536,v&=-v,u.lanes|=v,v=lS(v),uS(v,s,u,h),Tv(u,v),!1}u=u.return}while(u!==null);return!1}var cS=Error(r(461)),qn=!1;function nr(s,a,u,h){a.child=s===null?eS(a,null,u,h):Xl(a,s.child,u,h)}function dS(s,a,u,h,v){u=u.render;var b=a.ref;if("ref"in h){var L={};for(var q in h)q!=="ref"&&(L[q]=h[q])}else L=h;return Fo(a),h=Nv(s,a,u,L,b,v),q=Iv(),s!==null&&!qn?(Mv(s,a,v),Ws(s,a,v)):(jt&&q&&hv(a),a.flags|=1,nr(s,a,h,v),a.child)}function hS(s,a,u,h,v){if(s===null){var b=u.type;return typeof b=="function"&&!uv(b)&&b.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=b,fS(s,a,b,h,v)):(s=ff(u.type,null,h,a,a.mode,v),s.ref=a.ref,s.return=a,a.child=s)}if(b=s.child,!ey(s,v)){var L=b.memoizedProps;if(u=u.compare,u=u!==null?u:_c,u(L,h)&&s.ref===a.ref)return Ws(s,a,v)}return a.flags|=1,s=Bs(b,h),s.ref=a.ref,s.return=a,a.child=s}function fS(s,a,u,h,v){if(s!==null){var b=s.memoizedProps;if(_c(b,h)&&s.ref===a.ref)if(qn=!1,a.pendingProps=h=b,ey(s,v))(s.flags&131072)!==0&&(qn=!0);else return a.lanes=s.lanes,Ws(s,a,v)}return Kv(s,a,u,h,v)}function mS(s,a,u){var h=a.pendingProps,v=h.children,b=s!==null?s.memoizedState:null;if(h.mode==="hidden"){if((a.flags&128)!==0){if(h=b!==null?b.baseLanes|u:u,s!==null){for(v=a.child=s.child,b=0;v!==null;)b=b|v.lanes|v.childLanes,v=v.sibling;a.childLanes=b&~h}else a.childLanes=0,a.child=null;return pS(s,a,h,u)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&yf(a,b!==null?b.cachePool:null),b!==null?f1(a,b):Av(),tS(a);else return a.lanes=a.childLanes=536870912,pS(s,a,b!==null?b.baseLanes|u:u,u)}else b!==null?(yf(a,b.cachePool),f1(a,b),Na(),a.memoizedState=null):(s!==null&&yf(a,null),Av(),Na());return nr(s,a,v,u),a.child}function pS(s,a,u,h){var v=xv();return v=v===null?null:{parent:zn._currentValue,pool:v},a.memoizedState={baseLanes:u,cachePool:v},s!==null&&yf(a,null),Av(),tS(a),s!==null&&Cc(s,a,h,!0),null}function jf(s,a){var u=a.ref;if(u===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(s===null||s.ref!==u)&&(a.flags|=4194816)}}function Kv(s,a,u,h,v){return Fo(a),u=Nv(s,a,u,h,void 0,v),h=Iv(),s!==null&&!qn?(Mv(s,a,v),Ws(s,a,v)):(jt&&h&&hv(a),a.flags|=1,nr(s,a,u,v),a.child)}function gS(s,a,u,h,v,b){return Fo(a),a.updateQueue=null,u=p1(a,h,u,v),m1(s),h=Iv(),s!==null&&!qn?(Mv(s,a,b),Ws(s,a,b)):(jt&&h&&hv(a),a.flags|=1,nr(s,a,u,b),a.child)}function vS(s,a,u,h,v){if(Fo(a),a.stateNode===null){var b=zl,L=u.contextType;typeof L=="object"&&L!==null&&(b=cr(L)),b=new u(h,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=qv,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=h,b.state=a.memoizedState,b.refs={},_v(a),L=u.contextType,b.context=typeof L=="object"&&L!==null?cr(L):zl,b.state=a.memoizedState,L=u.getDerivedStateFromProps,typeof L=="function"&&($v(a,u,L,h),b.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(L=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),L!==b.state&&qv.enqueueReplaceState(b,b.state,null),Dc(a,h,b,v),Pc(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(s===null){b=a.stateNode;var q=a.memoizedProps,ee=qo(u,q);b.props=ee;var de=b.context,be=u.contextType;L=zl,typeof be=="object"&&be!==null&&(L=cr(be));var we=u.getDerivedStateFromProps;be=typeof we=="function"||typeof b.getSnapshotBeforeUpdate=="function",q=a.pendingProps!==q,be||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(q||de!==L)&&rS(a,b,h,L),Ta=!1;var he=a.memoizedState;b.state=he,Dc(a,h,b,v),Pc(),de=a.memoizedState,q||he!==de||Ta?(typeof we=="function"&&($v(a,u,we,h),de=a.memoizedState),(ee=Ta||nS(a,u,ee,h,he,de,L))?(be||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=de),b.props=h,b.state=de,b.context=L,h=ee):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{b=a.stateNode,Sv(s,a),L=a.memoizedProps,be=qo(u,L),b.props=be,we=a.pendingProps,he=b.context,de=u.contextType,ee=zl,typeof de=="object"&&de!==null&&(ee=cr(de)),q=u.getDerivedStateFromProps,(de=typeof q=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(L!==we||he!==ee)&&rS(a,b,h,ee),Ta=!1,he=a.memoizedState,b.state=he,Dc(a,h,b,v),Pc();var fe=a.memoizedState;L!==we||he!==fe||Ta||s!==null&&s.dependencies!==null&&gf(s.dependencies)?(typeof q=="function"&&($v(a,u,q,h),fe=a.memoizedState),(be=Ta||nS(a,u,be,h,he,fe,ee)||s!==null&&s.dependencies!==null&&gf(s.dependencies))?(de||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,fe,ee),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,fe,ee)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||L===s.memoizedProps&&he===s.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&he===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=fe),b.props=h,b.state=fe,b.context=ee,h=be):(typeof b.componentDidUpdate!="function"||L===s.memoizedProps&&he===s.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&he===s.memoizedState||(a.flags|=1024),h=!1)}return b=h,jf(s,a),h=(a.flags&128)!==0,b||h?(b=a.stateNode,u=h&&typeof u.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,s!==null&&h?(a.child=Xl(a,s.child,null,v),a.child=Xl(a,null,u,v)):nr(s,a,u,v),a.memoizedState=b.state,s=a.child):s=Ws(s,a,v),s}function yS(s,a,u,h){return Ec(),a.flags|=256,nr(s,a,u,h),a.child}var Wv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yv(s){return{baseLanes:s,cachePool:s1()}}function Xv(s,a,u){return s=s!==null?s.childLanes&~u:0,a&&(s|=gi),s}function bS(s,a,u){var h=a.pendingProps,v=!1,b=(a.flags&128)!==0,L;if((L=b)||(L=s!==null&&s.memoizedState===null?!1:(Bn.current&2)!==0),L&&(v=!0,a.flags&=-129),L=(a.flags&32)!==0,a.flags&=-33,s===null){if(jt){if(v?Ra(a):Na(),jt){var q=gn,ee;if(ee=q){e:{for(ee=q,q=is;ee.nodeType!==8;){if(!q){q=null;break e}if(ee=Mi(ee.nextSibling),ee===null){q=null;break e}}q=ee}q!==null?(a.memoizedState={dehydrated:q,treeContext:Lo!==null?{id:Fs,overflow:Hs}:null,retryLane:536870912,hydrationErrors:null},ee=Fr(18,null,null,0),ee.stateNode=q,ee.return=a,a.child=ee,_r=a,gn=null,ee=!0):ee=!1}ee||zo(a)}if(q=a.memoizedState,q!==null&&(q=q.dehydrated,q!==null))return Py(q)?a.lanes=32:a.lanes=536870912,null;Ks(a)}return q=h.children,h=h.fallback,v?(Na(),v=a.mode,q=kf({mode:"hidden",children:q},v),h=ko(h,v,u,null),q.return=a,h.return=a,q.sibling=h,a.child=q,v=a.child,v.memoizedState=Yv(u),v.childLanes=Xv(s,L,u),a.memoizedState=Wv,h):(Ra(a),Qv(a,q))}if(ee=s.memoizedState,ee!==null&&(q=ee.dehydrated,q!==null)){if(b)a.flags&256?(Ra(a),a.flags&=-257,a=Zv(s,a,u)):a.memoizedState!==null?(Na(),a.child=s.child,a.flags|=128,a=null):(Na(),v=h.fallback,q=a.mode,h=kf({mode:"visible",children:h.children},q),v=ko(v,q,u,null),v.flags|=2,h.return=a,v.return=a,h.sibling=v,a.child=h,Xl(a,s.child,null,u),h=a.child,h.memoizedState=Yv(u),h.childLanes=Xv(s,L,u),a.memoizedState=Wv,a=v);else if(Ra(a),Py(q)){if(L=q.nextSibling&&q.nextSibling.dataset,L)var de=L.dgst;L=de,h=Error(r(419)),h.stack="",h.digest=L,Ac({value:h,source:null,stack:null}),a=Zv(s,a,u)}else if(qn||Cc(s,a,u,!1),L=(u&s.childLanes)!==0,qn||L){if(L=rn,L!==null&&(h=u&-u,h=(h&42)!==0?1:Wi(h),h=(h&(L.suspendedLanes|u))!==0?0:h,h!==0&&h!==ee.retryLane))throw ee.retryLane=h,Ul(s,h),Kr(L,s,h),cS;q.data==="$?"||gy(),a=Zv(s,a,u)}else q.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=ee.treeContext,gn=Mi(q.nextSibling),_r=a,jt=!0,Uo=null,is=!1,s!==null&&(fi[mi++]=Fs,fi[mi++]=Hs,fi[mi++]=Lo,Fs=s.id,Hs=s.overflow,Lo=a),a=Qv(a,h.children),a.flags|=4096);return a}return v?(Na(),v=h.fallback,q=a.mode,ee=s.child,de=ee.sibling,h=Bs(ee,{mode:"hidden",children:h.children}),h.subtreeFlags=ee.subtreeFlags&65011712,de!==null?v=Bs(de,v):(v=ko(v,q,u,null),v.flags|=2),v.return=a,h.return=a,h.sibling=v,a.child=h,h=v,v=a.child,q=s.child.memoizedState,q===null?q=Yv(u):(ee=q.cachePool,ee!==null?(de=zn._currentValue,ee=ee.parent!==de?{parent:de,pool:de}:ee):ee=s1(),q={baseLanes:q.baseLanes|u,cachePool:ee}),v.memoizedState=q,v.childLanes=Xv(s,L,u),a.memoizedState=Wv,h):(Ra(a),u=s.child,s=u.sibling,u=Bs(u,{mode:"visible",children:h.children}),u.return=a,u.sibling=null,s!==null&&(L=a.deletions,L===null?(a.deletions=[s],a.flags|=16):L.push(s)),a.child=u,a.memoizedState=null,u)}function Qv(s,a){return a=kf({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function kf(s,a){return s=Fr(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function Zv(s,a,u){return Xl(a,s.child,null,u),s=Qv(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function xS(s,a,u){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),gv(s.return,a,u)}function Jv(s,a,u,h,v){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:v}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=h,b.tail=u,b.tailMode=v)}function wS(s,a,u){var h=a.pendingProps,v=h.revealOrder,b=h.tail;if(nr(s,a,h.children,u),h=Bn.current,(h&2)!==0)h=h&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&xS(s,u,a);else if(s.tag===19)xS(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}switch(Q(Bn,h),v){case"forwards":for(u=a.child,v=null;u!==null;)s=u.alternate,s!==null&&Of(s)===null&&(v=u),u=u.sibling;u=v,u===null?(v=a.child,a.child=null):(v=u.sibling,u.sibling=null),Jv(a,!1,v,u,b);break;case"backwards":for(u=null,v=a.child,a.child=null;v!==null;){if(s=v.alternate,s!==null&&Of(s)===null){a.child=v;break}s=v.sibling,v.sibling=u,u=v,v=s}Jv(a,!0,u,null,b);break;case"together":Jv(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ws(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),Da|=a.lanes,(u&a.childLanes)===0)if(s!==null){if(Cc(s,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,u=Bs(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=Bs(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function ey(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&gf(s)))}function Oj(s,a,u){switch(a.tag){case 3:Ee(a,a.stateNode.containerInfo),Sa(a,zn,s.memoizedState.cache),Ec();break;case 27:case 5:Ne(a);break;case 4:Ee(a,a.stateNode.containerInfo);break;case 10:Sa(a,a.type,a.memoizedProps.value);break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(Ra(a),a.flags|=128,null):(u&a.child.childLanes)!==0?bS(s,a,u):(Ra(a),s=Ws(s,a,u),s!==null?s.sibling:null);Ra(a);break;case 19:var v=(s.flags&128)!==0;if(h=(u&a.childLanes)!==0,h||(Cc(s,a,u,!1),h=(u&a.childLanes)!==0),v){if(h)return wS(s,a,u);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Q(Bn,Bn.current),h)break;return null;case 22:case 23:return a.lanes=0,mS(s,a,u);case 24:Sa(a,zn,s.memoizedState.cache)}return Ws(s,a,u)}function _S(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps)qn=!0;else{if(!ey(s,u)&&(a.flags&128)===0)return qn=!1,Oj(s,a,u);qn=(s.flags&131072)!==0}else qn=!1,jt&&(a.flags&1048576)!==0&&Z_(a,pf,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var h=a.elementType,v=h._init;if(h=v(h._payload),a.type=h,typeof h=="function")uv(h)?(s=qo(h,s),a.tag=1,a=vS(null,a,h,s,u)):(a.tag=0,a=Kv(null,a,h,s,u));else{if(h!=null){if(v=h.$$typeof,v===Y){a.tag=11,a=dS(null,a,h,s,u);break e}else if(v===C){a.tag=14,a=hS(null,a,h,s,u);break e}}throw a=G(h)||h,Error(r(306,a,""))}}return a;case 0:return Kv(s,a,a.type,a.pendingProps,u);case 1:return h=a.type,v=qo(h,a.pendingProps),vS(s,a,h,v,u);case 3:e:{if(Ee(a,a.stateNode.containerInfo),s===null)throw Error(r(387));h=a.pendingProps;var b=a.memoizedState;v=b.element,Sv(s,a),Dc(a,h,null,u);var L=a.memoizedState;if(h=L.cache,Sa(a,zn,h),h!==b.cache&&vv(a,[zn],u,!0),Pc(),h=L.element,b.isDehydrated)if(b={element:h,isDehydrated:!1,cache:L.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=yS(s,a,h,u);break e}else if(h!==v){v=di(Error(r(424)),a),Ac(v),a=yS(s,a,h,u);break e}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(gn=Mi(s.firstChild),_r=a,jt=!0,Uo=null,is=!0,u=eS(a,null,h,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Ec(),h===v){a=Ws(s,a,u);break e}nr(s,a,h,u)}a=a.child}return a;case 26:return jf(s,a),s===null?(u=AT(a.type,null,a.pendingProps,null))?a.memoizedState=u:jt||(u=a.type,s=a.pendingProps,h=Xf(le.current).createElement(u),h[_e]=a,h[Te]=s,ir(h,u,s),Ct(h),a.stateNode=h):a.memoizedState=AT(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Ne(a),s===null&&jt&&(h=a.stateNode=ST(a.type,a.pendingProps,le.current),_r=a,is=!0,v=gn,Va(a.type)?(Dy=v,gn=Mi(h.firstChild)):gn=v),nr(s,a,a.pendingProps.children,u),jf(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&jt&&((v=h=gn)&&(h=a4(h,a.type,a.pendingProps,is),h!==null?(a.stateNode=h,_r=a,gn=Mi(h.firstChild),is=!1,v=!0):v=!1),v||zo(a)),Ne(a),v=a.type,b=a.pendingProps,L=s!==null?s.memoizedProps:null,h=b.children,Iy(v,b)?h=null:L!==null&&Iy(v,L)&&(a.flags|=32),a.memoizedState!==null&&(v=Nv(s,a,Tj,null,null,u),nd._currentValue=v),jf(s,a),nr(s,a,h,u),a.child;case 6:return s===null&&jt&&((s=u=gn)&&(u=o4(u,a.pendingProps,is),u!==null?(a.stateNode=u,_r=a,gn=null,s=!0):s=!1),s||zo(a)),null;case 13:return bS(s,a,u);case 4:return Ee(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=Xl(a,null,h,u):nr(s,a,h,u),a.child;case 11:return dS(s,a,a.type,a.pendingProps,u);case 7:return nr(s,a,a.pendingProps,u),a.child;case 8:return nr(s,a,a.pendingProps.children,u),a.child;case 12:return nr(s,a,a.pendingProps.children,u),a.child;case 10:return h=a.pendingProps,Sa(a,a.type,h.value),nr(s,a,h.children,u),a.child;case 9:return v=a.type._context,h=a.pendingProps.children,Fo(a),v=cr(v),h=h(v),a.flags|=1,nr(s,a,h,u),a.child;case 14:return hS(s,a,a.type,a.pendingProps,u);case 15:return fS(s,a,a.type,a.pendingProps,u);case 19:return wS(s,a,u);case 31:return h=a.pendingProps,u=a.mode,h={mode:h.mode,children:h.children},s===null?(u=kf(h,u),u.ref=a.ref,a.child=u,u.return=a,a=u):(u=Bs(s.child,h),u.ref=a.ref,a.child=u,u.return=a,a=u),a;case 22:return mS(s,a,u);case 24:return Fo(a),h=cr(zn),s===null?(v=xv(),v===null&&(v=rn,b=yv(),v.pooledCache=b,b.refCount++,b!==null&&(v.pooledCacheLanes|=u),v=b),a.memoizedState={parent:h,cache:v},_v(a),Sa(a,zn,v)):((s.lanes&u)!==0&&(Sv(s,a),Dc(a,null,null,u),Pc()),v=s.memoizedState,b=a.memoizedState,v.parent!==h?(v={parent:h,cache:h},a.memoizedState=v,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=v),Sa(a,zn,h)):(h=b.cache,Sa(a,zn,h),h!==v.cache&&vv(a,[zn],u,!0))),nr(s,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Ys(s){s.flags|=4}function SS(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!MT(a)){if(a=pi.current,a!==null&&((Mt&4194048)===Mt?ss!==null:(Mt&62914560)!==Mt&&(Mt&536870912)===0||a!==ss))throw Mc=wv,a1;s.flags|=8192}}function Lf(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?_o():536870912,s.lanes|=a,eu|=a)}function Bc(s,a){if(!jt)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function un(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,h=0;if(a)for(var v=s.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags&65011712,h|=v.flags&65011712,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)u|=v.lanes|v.childLanes,h|=v.subtreeFlags,h|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=h,s.childLanes=u,a}function Pj(s,a,u){var h=a.pendingProps;switch(fv(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(a),null;case 1:return un(a),null;case 3:return u=a.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),qs(zn),Pe(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(Tc(a)?Ys(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,t1())),un(a),null;case 26:return u=a.memoizedState,s===null?(Ys(a),u!==null?(un(a),SS(a,u)):(un(a),a.flags&=-16777217)):u?u!==s.memoizedState?(Ys(a),un(a),SS(a,u)):(un(a),a.flags&=-16777217):(s.memoizedProps!==h&&Ys(a),un(a),a.flags&=-16777217),null;case 27:ze(a),u=le.current;var v=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==h&&Ys(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return un(a),null}s=ne.current,Tc(a)?J_(a):(s=ST(v,h,u),a.stateNode=s,Ys(a))}return un(a),null;case 5:if(ze(a),u=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&Ys(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return un(a),null}if(s=ne.current,Tc(a))J_(a);else{switch(v=Xf(le.current),s){case 1:s=v.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:s=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":s=v.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":s=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":s=v.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof h.is=="string"?v.createElement("select",{is:h.is}):v.createElement("select"),h.multiple?s.multiple=!0:h.size&&(s.size=h.size);break;default:s=typeof h.is=="string"?v.createElement(u,{is:h.is}):v.createElement(u)}}s[_e]=a,s[Te]=h;e:for(v=a.child;v!==null;){if(v.tag===5||v.tag===6)s.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===a)break e;for(;v.sibling===null;){if(v.return===null||v.return===a)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}a.stateNode=s;e:switch(ir(s,u,h),u){case"button":case"input":case"select":case"textarea":s=!!h.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Ys(a)}}return un(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==h&&Ys(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(r(166));if(s=le.current,Tc(a)){if(s=a.stateNode,u=a.memoizedProps,h=null,v=_r,v!==null)switch(v.tag){case 27:case 5:h=v.memoizedProps}s[_e]=a,s=!!(s.nodeValue===u||h!==null&&h.suppressHydrationWarning===!0||gT(s.nodeValue,u)),s||zo(a)}else s=Xf(s).createTextNode(h),s[_e]=a,a.stateNode=s}return un(a),null;case 13:if(h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(v=Tc(a),h!==null&&h.dehydrated!==null){if(s===null){if(!v)throw Error(r(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[_e]=a}else Ec(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;un(a),v=!1}else v=t1(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=v),v=!0;if(!v)return a.flags&256?(Ks(a),a):(Ks(a),null)}if(Ks(a),(a.flags&128)!==0)return a.lanes=u,a;if(u=h!==null,s=s!==null&&s.memoizedState!==null,u){h=a.child,v=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(v=h.alternate.memoizedState.cachePool.pool);var b=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),b!==v&&(h.flags|=2048)}return u!==s&&u&&(a.child.flags|=8192),Lf(a,a.updateQueue),un(a),null;case 4:return Pe(),s===null&&Ey(a.stateNode.containerInfo),un(a),null;case 10:return qs(a.type),un(a),null;case 19:if(X(Bn),v=a.memoizedState,v===null)return un(a),null;if(h=(a.flags&128)!==0,b=v.rendering,b===null)if(h)Bc(v,!1);else{if(vn!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(b=Of(s),b!==null){for(a.flags|=128,Bc(v,!1),s=b.updateQueue,a.updateQueue=s,Lf(a,s),a.subtreeFlags=0,s=u,u=a.child;u!==null;)Q_(u,s),u=u.sibling;return Q(Bn,Bn.current&1|2),a.child}s=s.sibling}v.tail!==null&&Ie()>zf&&(a.flags|=128,h=!0,Bc(v,!1),a.lanes=4194304)}else{if(!h)if(s=Of(b),s!==null){if(a.flags|=128,h=!0,s=s.updateQueue,a.updateQueue=s,Lf(a,s),Bc(v,!0),v.tail===null&&v.tailMode==="hidden"&&!b.alternate&&!jt)return un(a),null}else 2*Ie()-v.renderingStartTime>zf&&u!==536870912&&(a.flags|=128,h=!0,Bc(v,!1),a.lanes=4194304);v.isBackwards?(b.sibling=a.child,a.child=b):(s=v.last,s!==null?s.sibling=b:a.child=b,v.last=b)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=Ie(),a.sibling=null,s=Bn.current,Q(Bn,h?s&1|2:s&1),a):(un(a),null);case 22:case 23:return Ks(a),Cv(),h=a.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(u&536870912)!==0&&(a.flags&128)===0&&(un(a),a.subtreeFlags&6&&(a.flags|=8192)):un(a),u=a.updateQueue,u!==null&&Lf(a,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==u&&(a.flags|=2048),s!==null&&X(Ho),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),qs(zn),un(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function Dj(s,a){switch(fv(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return qs(zn),Pe(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return ze(a),null;case 13:if(Ks(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Ec()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return X(Bn),null;case 4:return Pe(),null;case 10:return qs(a.type),null;case 22:case 23:return Ks(a),Cv(),s!==null&&X(Ho),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return qs(zn),null;case 25:return null;default:return null}}function TS(s,a){switch(fv(a),a.tag){case 3:qs(zn),Pe();break;case 26:case 27:case 5:ze(a);break;case 4:Pe();break;case 13:Ks(a);break;case 19:X(Bn);break;case 10:qs(a.type);break;case 22:case 23:Ks(a),Cv(),s!==null&&X(Ho);break;case 24:qs(zn)}}function Fc(s,a){try{var u=a.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var v=h.next;u=v;do{if((u.tag&s)===s){h=void 0;var b=u.create,L=u.inst;h=b(),L.destroy=h}u=u.next}while(u!==v)}}catch(q){Qt(a,a.return,q)}}function Ia(s,a,u){try{var h=a.updateQueue,v=h!==null?h.lastEffect:null;if(v!==null){var b=v.next;h=b;do{if((h.tag&s)===s){var L=h.inst,q=L.destroy;if(q!==void 0){L.destroy=void 0,v=a;var ee=u,de=q;try{de()}catch(be){Qt(v,ee,be)}}}h=h.next}while(h!==b)}}catch(be){Qt(a,a.return,be)}}function ES(s){var a=s.updateQueue;if(a!==null){var u=s.stateNode;try{h1(a,u)}catch(h){Qt(s,s.return,h)}}}function AS(s,a,u){u.props=qo(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(h){Qt(s,a,h)}}function Hc(s,a){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof u=="function"?s.refCleanup=u(h):u.current=h}}catch(v){Qt(s,a,v)}}function as(s,a){var u=s.ref,h=s.refCleanup;if(u!==null)if(typeof h=="function")try{h()}catch(v){Qt(s,a,v)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){Qt(s,a,v)}else u.current=null}function CS(s){var a=s.type,u=s.memoizedProps,h=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&h.focus();break e;case"img":u.src?h.src=u.src:u.srcSet&&(h.srcset=u.srcSet)}}catch(v){Qt(s,s.return,v)}}function ty(s,a,u){try{var h=s.stateNode;t4(h,s.type,u,a),h[Te]=a}catch(v){Qt(s,s.return,v)}}function RS(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Va(s.type)||s.tag===4}function ny(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||RS(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Va(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function ry(s,a,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(s),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Yf));else if(h!==4&&(h===27&&Va(s.type)&&(u=s.stateNode,a=null),s=s.child,s!==null))for(ry(s,a,u),s=s.sibling;s!==null;)ry(s,a,u),s=s.sibling}function Vf(s,a,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(h!==4&&(h===27&&Va(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(Vf(s,a,u),s=s.sibling;s!==null;)Vf(s,a,u),s=s.sibling}function NS(s){var a=s.stateNode,u=s.memoizedProps;try{for(var h=s.type,v=a.attributes;v.length;)a.removeAttributeNode(v[0]);ir(a,h,u),a[_e]=s,a[Te]=u}catch(b){Qt(s,s.return,b)}}var Xs=!1,Sn=!1,iy=!1,IS=typeof WeakSet=="function"?WeakSet:Set,Gn=null;function jj(s,a){if(s=s.containerInfo,Ry=nm,s=B_(s),nv(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var v=h.anchorOffset,b=h.focusNode;h=h.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var L=0,q=-1,ee=-1,de=0,be=0,we=s,he=null;t:for(;;){for(var fe;we!==u||v!==0&&we.nodeType!==3||(q=L+v),we!==b||h!==0&&we.nodeType!==3||(ee=L+h),we.nodeType===3&&(L+=we.nodeValue.length),(fe=we.firstChild)!==null;)he=we,we=fe;for(;;){if(we===s)break t;if(he===u&&++de===v&&(q=L),he===b&&++be===h&&(ee=L),(fe=we.nextSibling)!==null)break;we=he,he=we.parentNode}we=fe}u=q===-1||ee===-1?null:{start:q,end:ee}}else u=null}u=u||{start:0,end:0}}else u=null;for(Ny={focusedElem:s,selectionRange:u},nm=!1,Gn=a;Gn!==null;)if(a=Gn,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,Gn=s;else for(;Gn!==null;){switch(a=Gn,b=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&b!==null){s=void 0,u=a,v=b.memoizedProps,b=b.memoizedState,h=u.stateNode;try{var st=qo(u.type,v,u.elementType===u.type);s=h.getSnapshotBeforeUpdate(st,b),h.__reactInternalSnapshotBeforeUpdate=s}catch(Ze){Qt(u,u.return,Ze)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,u=s.nodeType,u===9)Oy(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Oy(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=a.sibling,s!==null){s.return=a.return,Gn=s;break}Gn=a.return}}function MS(s,a,u){var h=u.flags;switch(u.tag){case 0:case 11:case 15:Ma(s,u),h&4&&Fc(5,u);break;case 1:if(Ma(s,u),h&4)if(s=u.stateNode,a===null)try{s.componentDidMount()}catch(L){Qt(u,u.return,L)}else{var v=qo(u.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(v,a,s.__reactInternalSnapshotBeforeUpdate)}catch(L){Qt(u,u.return,L)}}h&64&&ES(u),h&512&&Hc(u,u.return);break;case 3:if(Ma(s,u),h&64&&(s=u.updateQueue,s!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{h1(s,a)}catch(L){Qt(u,u.return,L)}}break;case 27:a===null&&h&4&&NS(u);case 26:case 5:Ma(s,u),a===null&&h&4&&CS(u),h&512&&Hc(u,u.return);break;case 12:Ma(s,u);break;case 13:Ma(s,u),h&4&&DS(s,u),h&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=$j.bind(null,u),l4(s,u))));break;case 22:if(h=u.memoizedState!==null||Xs,!h){a=a!==null&&a.memoizedState!==null||Sn,v=Xs;var b=Sn;Xs=h,(Sn=a)&&!b?Oa(s,u,(u.subtreeFlags&8772)!==0):Ma(s,u),Xs=v,Sn=b}break;case 30:break;default:Ma(s,u)}}function OS(s){var a=s.alternate;a!==null&&(s.alternate=null,OS(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Ke(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var on=null,Nr=!1;function Qs(s,a,u){for(u=u.child;u!==null;)PS(s,a,u),u=u.sibling}function PS(s,a,u){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(pt,u)}catch{}switch(u.tag){case 26:Sn||as(u,a),Qs(s,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Sn||as(u,a);var h=on,v=Nr;Va(u.type)&&(on=u.stateNode,Nr=!1),Qs(s,a,u),Zc(u.stateNode),on=h,Nr=v;break;case 5:Sn||as(u,a);case 6:if(h=on,v=Nr,on=null,Qs(s,a,u),on=h,Nr=v,on!==null)if(Nr)try{(on.nodeType===9?on.body:on.nodeName==="HTML"?on.ownerDocument.body:on).removeChild(u.stateNode)}catch(b){Qt(u,a,b)}else try{on.removeChild(u.stateNode)}catch(b){Qt(u,a,b)}break;case 18:on!==null&&(Nr?(s=on,wT(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),ad(s)):wT(on,u.stateNode));break;case 4:h=on,v=Nr,on=u.stateNode.containerInfo,Nr=!0,Qs(s,a,u),on=h,Nr=v;break;case 0:case 11:case 14:case 15:Sn||Ia(2,u,a),Sn||Ia(4,u,a),Qs(s,a,u);break;case 1:Sn||(as(u,a),h=u.stateNode,typeof h.componentWillUnmount=="function"&&AS(u,a,h)),Qs(s,a,u);break;case 21:Qs(s,a,u);break;case 22:Sn=(h=Sn)||u.memoizedState!==null,Qs(s,a,u),Sn=h;break;default:Qs(s,a,u)}}function DS(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{ad(s)}catch(u){Qt(a,a.return,u)}}function kj(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new IS),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new IS),a;default:throw Error(r(435,s.tag))}}function sy(s,a){var u=kj(s);a.forEach(function(h){var v=qj.bind(null,s,h);u.has(h)||(u.add(h),h.then(v,v))})}function Hr(s,a){var u=a.deletions;if(u!==null)for(var h=0;h<u.length;h++){var v=u[h],b=s,L=a,q=L;e:for(;q!==null;){switch(q.tag){case 27:if(Va(q.type)){on=q.stateNode,Nr=!1;break e}break;case 5:on=q.stateNode,Nr=!1;break e;case 3:case 4:on=q.stateNode.containerInfo,Nr=!0;break e}q=q.return}if(on===null)throw Error(r(160));PS(b,L,v),on=null,Nr=!1,b=v.alternate,b!==null&&(b.return=null),v.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)jS(a,s),a=a.sibling}var Ii=null;function jS(s,a){var u=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Hr(a,s),$r(s),h&4&&(Ia(3,s,s.return),Fc(3,s),Ia(5,s,s.return));break;case 1:Hr(a,s),$r(s),h&512&&(Sn||u===null||as(u,u.return)),h&64&&Xs&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?h:u.concat(h))));break;case 26:var v=Ii;if(Hr(a,s),$r(s),h&512&&(Sn||u===null||as(u,u.return)),h&4){var b=u!==null?u.memoizedState:null;if(h=s.memoizedState,u===null)if(h===null)if(s.stateNode===null){e:{h=s.type,u=s.memoizedProps,v=v.ownerDocument||v;t:switch(h){case"title":b=v.getElementsByTagName("title")[0],(!b||b[et]||b[_e]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=v.createElement(h),v.head.insertBefore(b,v.querySelector("head > title"))),ir(b,h,u),b[_e]=s,Ct(b),h=b;break e;case"link":var L=NT("link","href",v).get(h+(u.href||""));if(L){for(var q=0;q<L.length;q++)if(b=L[q],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){L.splice(q,1);break t}}b=v.createElement(h),ir(b,h,u),v.head.appendChild(b);break;case"meta":if(L=NT("meta","content",v).get(h+(u.content||""))){for(q=0;q<L.length;q++)if(b=L[q],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){L.splice(q,1);break t}}b=v.createElement(h),ir(b,h,u),v.head.appendChild(b);break;default:throw Error(r(468,h))}b[_e]=s,Ct(b),h=b}s.stateNode=h}else IT(v,s.type,s.stateNode);else s.stateNode=RT(v,h,s.memoizedProps);else b!==h?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,h===null?IT(v,s.type,s.stateNode):RT(v,h,s.memoizedProps)):h===null&&s.stateNode!==null&&ty(s,s.memoizedProps,u.memoizedProps)}break;case 27:Hr(a,s),$r(s),h&512&&(Sn||u===null||as(u,u.return)),u!==null&&h&4&&ty(s,s.memoizedProps,u.memoizedProps);break;case 5:if(Hr(a,s),$r(s),h&512&&(Sn||u===null||as(u,u.return)),s.flags&32){v=s.stateNode;try{oi(v,"")}catch(fe){Qt(s,s.return,fe)}}h&4&&s.stateNode!=null&&(v=s.memoizedProps,ty(s,v,u!==null?u.memoizedProps:v)),h&1024&&(iy=!0);break;case 6:if(Hr(a,s),$r(s),h&4){if(s.stateNode===null)throw Error(r(162));h=s.memoizedProps,u=s.stateNode;try{u.nodeValue=h}catch(fe){Qt(s,s.return,fe)}}break;case 3:if(Jf=null,v=Ii,Ii=Qf(a.containerInfo),Hr(a,s),Ii=v,$r(s),h&4&&u!==null&&u.memoizedState.isDehydrated)try{ad(a.containerInfo)}catch(fe){Qt(s,s.return,fe)}iy&&(iy=!1,kS(s));break;case 4:h=Ii,Ii=Qf(s.stateNode.containerInfo),Hr(a,s),$r(s),Ii=h;break;case 12:Hr(a,s),$r(s);break;case 13:Hr(a,s),$r(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(dy=Ie()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,sy(s,h)));break;case 22:v=s.memoizedState!==null;var ee=u!==null&&u.memoizedState!==null,de=Xs,be=Sn;if(Xs=de||v,Sn=be||ee,Hr(a,s),Sn=be,Xs=de,$r(s),h&8192)e:for(a=s.stateNode,a._visibility=v?a._visibility&-2:a._visibility|1,v&&(u===null||ee||Xs||Sn||Go(s)),u=null,a=s;;){if(a.tag===5||a.tag===26){if(u===null){ee=u=a;try{if(b=ee.stateNode,v)L=b.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{q=ee.stateNode;var we=ee.memoizedProps.style,he=we!=null&&we.hasOwnProperty("display")?we.display:null;q.style.display=he==null||typeof he=="boolean"?"":(""+he).trim()}}catch(fe){Qt(ee,ee.return,fe)}}}else if(a.tag===6){if(u===null){ee=a;try{ee.stateNode.nodeValue=v?"":ee.memoizedProps}catch(fe){Qt(ee,ee.return,fe)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=s.updateQueue,h!==null&&(u=h.retryQueue,u!==null&&(h.retryQueue=null,sy(s,u))));break;case 19:Hr(a,s),$r(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,sy(s,h)));break;case 30:break;case 21:break;default:Hr(a,s),$r(s)}}function $r(s){var a=s.flags;if(a&2){try{for(var u,h=s.return;h!==null;){if(RS(h)){u=h;break}h=h.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,b=ny(s);Vf(s,b,v);break;case 5:var L=u.stateNode;u.flags&32&&(oi(L,""),u.flags&=-33);var q=ny(s);Vf(s,q,L);break;case 3:case 4:var ee=u.stateNode.containerInfo,de=ny(s);ry(s,de,ee);break;default:throw Error(r(161))}}catch(be){Qt(s,s.return,be)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function kS(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;kS(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Ma(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)MS(s,a.alternate,a),a=a.sibling}function Go(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Ia(4,a,a.return),Go(a);break;case 1:as(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&AS(a,a.return,u),Go(a);break;case 27:Zc(a.stateNode);case 26:case 5:as(a,a.return),Go(a);break;case 22:a.memoizedState===null&&Go(a);break;case 30:Go(a);break;default:Go(a)}s=s.sibling}}function Oa(s,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,v=s,b=a,L=b.flags;switch(b.tag){case 0:case 11:case 15:Oa(v,b,u),Fc(4,b);break;case 1:if(Oa(v,b,u),h=b,v=h.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(de){Qt(h,h.return,de)}if(h=b,v=h.updateQueue,v!==null){var q=h.stateNode;try{var ee=v.shared.hiddenCallbacks;if(ee!==null)for(v.shared.hiddenCallbacks=null,v=0;v<ee.length;v++)d1(ee[v],q)}catch(de){Qt(h,h.return,de)}}u&&L&64&&ES(b),Hc(b,b.return);break;case 27:NS(b);case 26:case 5:Oa(v,b,u),u&&h===null&&L&4&&CS(b),Hc(b,b.return);break;case 12:Oa(v,b,u);break;case 13:Oa(v,b,u),u&&L&4&&DS(v,b);break;case 22:b.memoizedState===null&&Oa(v,b,u),Hc(b,b.return);break;case 30:break;default:Oa(v,b,u)}a=a.sibling}}function ay(s,a){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&Rc(u))}function oy(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Rc(s))}function os(s,a,u,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)LS(s,a,u,h),a=a.sibling}function LS(s,a,u,h){var v=a.flags;switch(a.tag){case 0:case 11:case 15:os(s,a,u,h),v&2048&&Fc(9,a);break;case 1:os(s,a,u,h);break;case 3:os(s,a,u,h),v&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Rc(s)));break;case 12:if(v&2048){os(s,a,u,h),s=a.stateNode;try{var b=a.memoizedProps,L=b.id,q=b.onPostCommit;typeof q=="function"&&q(L,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(ee){Qt(a,a.return,ee)}}else os(s,a,u,h);break;case 13:os(s,a,u,h);break;case 23:break;case 22:b=a.stateNode,L=a.alternate,a.memoizedState!==null?b._visibility&2?os(s,a,u,h):$c(s,a):b._visibility&2?os(s,a,u,h):(b._visibility|=2,Ql(s,a,u,h,(a.subtreeFlags&10256)!==0)),v&2048&&ay(L,a);break;case 24:os(s,a,u,h),v&2048&&oy(a.alternate,a);break;default:os(s,a,u,h)}}function Ql(s,a,u,h,v){for(v=v&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var b=s,L=a,q=u,ee=h,de=L.flags;switch(L.tag){case 0:case 11:case 15:Ql(b,L,q,ee,v),Fc(8,L);break;case 23:break;case 22:var be=L.stateNode;L.memoizedState!==null?be._visibility&2?Ql(b,L,q,ee,v):$c(b,L):(be._visibility|=2,Ql(b,L,q,ee,v)),v&&de&2048&&ay(L.alternate,L);break;case 24:Ql(b,L,q,ee,v),v&&de&2048&&oy(L.alternate,L);break;default:Ql(b,L,q,ee,v)}a=a.sibling}}function $c(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=s,h=a,v=h.flags;switch(h.tag){case 22:$c(u,h),v&2048&&ay(h.alternate,h);break;case 24:$c(u,h),v&2048&&oy(h.alternate,h);break;default:$c(u,h)}a=a.sibling}}var qc=8192;function Zl(s){if(s.subtreeFlags&qc)for(s=s.child;s!==null;)VS(s),s=s.sibling}function VS(s){switch(s.tag){case 26:Zl(s),s.flags&qc&&s.memoizedState!==null&&w4(Ii,s.memoizedState,s.memoizedProps);break;case 5:Zl(s);break;case 3:case 4:var a=Ii;Ii=Qf(s.stateNode.containerInfo),Zl(s),Ii=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=qc,qc=16777216,Zl(s),qc=a):Zl(s));break;default:Zl(s)}}function US(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Gc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var h=a[u];Gn=h,BS(h,s)}US(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)zS(s),s=s.sibling}function zS(s){switch(s.tag){case 0:case 11:case 15:Gc(s),s.flags&2048&&Ia(9,s,s.return);break;case 3:Gc(s);break;case 12:Gc(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Uf(s)):Gc(s);break;default:Gc(s)}}function Uf(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var h=a[u];Gn=h,BS(h,s)}US(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Ia(8,a,a.return),Uf(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,Uf(a));break;default:Uf(a)}s=s.sibling}}function BS(s,a){for(;Gn!==null;){var u=Gn;switch(u.tag){case 0:case 11:case 15:Ia(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var h=u.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Rc(u.memoizedState.cache)}if(h=u.child,h!==null)h.return=u,Gn=h;else e:for(u=s;Gn!==null;){h=Gn;var v=h.sibling,b=h.return;if(OS(h),h===u){Gn=null;break e}if(v!==null){v.return=b,Gn=v;break e}Gn=b}}}var Lj={getCacheForType:function(s){var a=cr(zn),u=a.data.get(s);return u===void 0&&(u=s(),a.data.set(s,u)),u}},Vj=typeof WeakMap=="function"?WeakMap:Map,Ht=0,rn=null,_t=null,Mt=0,$t=0,qr=null,Pa=!1,Jl=!1,ly=!1,Zs=0,vn=0,Da=0,Ko=0,uy=0,gi=0,eu=0,Kc=null,Ir=null,cy=!1,dy=0,zf=1/0,Bf=null,ja=null,rr=0,ka=null,tu=null,nu=0,hy=0,fy=null,FS=null,Wc=0,my=null;function Gr(){if((Ht&2)!==0&&Mt!==0)return Mt&-Mt;if(H.T!==null){var s=Hl;return s!==0?s:wy()}return te()}function HS(){gi===0&&(gi=(Mt&536870912)===0||jt?Os():536870912);var s=pi.current;return s!==null&&(s.flags|=32),gi}function Kr(s,a,u){(s===rn&&($t===2||$t===9)||s.cancelPendingCommit!==null)&&(ru(s,0),La(s,Mt,gi,!1)),Ci(s,u),((Ht&2)===0||s!==rn)&&(s===rn&&((Ht&2)===0&&(Ko|=u),vn===4&&La(s,Mt,gi,!1)),ls(s))}function $S(s,a,u){if((Ht&6)!==0)throw Error(r(327));var h=!u&&(a&124)===0&&(a&s.expiredLanes)===0||ri(s,a),v=h?Bj(s,a):vy(s,a,!0),b=h;do{if(v===0){Jl&&!h&&La(s,a,0,!1);break}else{if(u=s.current.alternate,b&&!Uj(u)){v=vy(s,a,!1),b=!1;continue}if(v===2){if(b=a,s.errorRecoveryDisabledLanes&b)var L=0;else L=s.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){a=L;e:{var q=s;v=Kc;var ee=q.current.memoizedState.isDehydrated;if(ee&&(ru(q,L).flags|=256),L=vy(q,L,!1),L!==2){if(ly&&!ee){q.errorRecoveryDisabledLanes|=b,Ko|=b,v=4;break e}b=Ir,Ir=v,b!==null&&(Ir===null?Ir=b:Ir.push.apply(Ir,b))}v=L}if(b=!1,v!==2)continue}}if(v===1){ru(s,0),La(s,a,0,!0);break}e:{switch(h=s,b=v,b){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:La(h,a,gi,!Pa);break e;case 2:Ir=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(v=dy+300-Ie(),10<v)){if(La(h,a,gi,!Pa),Ms(h,0,!0)!==0)break e;h.timeoutHandle=bT(qS.bind(null,h,u,Ir,Bf,cy,a,gi,Ko,eu,Pa,b,2,-0,0),v);break e}qS(h,u,Ir,Bf,cy,a,gi,Ko,eu,Pa,b,0,-0,0)}}break}while(!0);ls(s)}function qS(s,a,u,h,v,b,L,q,ee,de,be,we,he,fe){if(s.timeoutHandle=-1,we=a.subtreeFlags,(we&8192||(we&16785408)===16785408)&&(td={stylesheets:null,count:0,unsuspend:x4},VS(a),we=_4(),we!==null)){s.cancelPendingCommit=we(ZS.bind(null,s,a,b,u,h,v,L,q,ee,be,1,he,fe)),La(s,b,L,!de);return}ZS(s,a,b,u,h,v,L,q,ee)}function Uj(s){for(var a=s;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var h=0;h<u.length;h++){var v=u[h],b=v.getSnapshot;v=v.value;try{if(!Br(b(),v))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function La(s,a,u,h){a&=~uy,a&=~Ko,s.suspendedLanes|=a,s.pingedLanes&=~a,h&&(s.warmLanes|=a),h=s.expirationTimes;for(var v=a;0<v;){var b=31-nn(v),L=1<<b;h[b]=-1,v&=~L}u!==0&&yr(s,u,a)}function Ff(){return(Ht&6)===0?(Yc(0),!1):!0}function py(){if(_t!==null){if($t===0)var s=_t.return;else s=_t,$s=Bo=null,Ov(s),Yl=null,Uc=0,s=_t;for(;s!==null;)TS(s.alternate,s),s=s.return;_t=null}}function ru(s,a){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,r4(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),py(),rn=s,_t=u=Bs(s.current,null),Mt=a,$t=0,qr=null,Pa=!1,Jl=ri(s,a),ly=!1,eu=gi=uy=Ko=Da=vn=0,Ir=Kc=null,cy=!1,(a&8)!==0&&(a|=a&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=a;0<h;){var v=31-nn(h),b=1<<v;a|=s[v],h&=~b}return Zs=a,cf(),u}function GS(s,a){gt=null,H.H=Nf,a===Ic||a===bf?(a=u1(),$t=3):a===a1?(a=u1(),$t=4):$t=a===cS?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,qr=a,_t===null&&(vn=1,Df(s,di(a,s.current)))}function KS(){var s=H.H;return H.H=Nf,s===null?Nf:s}function WS(){var s=H.A;return H.A=Lj,s}function gy(){vn=4,Pa||(Mt&4194048)!==Mt&&pi.current!==null||(Jl=!0),(Da&134217727)===0&&(Ko&134217727)===0||rn===null||La(rn,Mt,gi,!1)}function vy(s,a,u){var h=Ht;Ht|=2;var v=KS(),b=WS();(rn!==s||Mt!==a)&&(Bf=null,ru(s,a)),a=!1;var L=vn;e:do try{if($t!==0&&_t!==null){var q=_t,ee=qr;switch($t){case 8:py(),L=6;break e;case 3:case 2:case 9:case 6:pi.current===null&&(a=!0);var de=$t;if($t=0,qr=null,iu(s,q,ee,de),u&&Jl){L=0;break e}break;default:de=$t,$t=0,qr=null,iu(s,q,ee,de)}}zj(),L=vn;break}catch(be){GS(s,be)}while(!0);return a&&s.shellSuspendCounter++,$s=Bo=null,Ht=h,H.H=v,H.A=b,_t===null&&(rn=null,Mt=0,cf()),L}function zj(){for(;_t!==null;)YS(_t)}function Bj(s,a){var u=Ht;Ht|=2;var h=KS(),v=WS();rn!==s||Mt!==a?(Bf=null,zf=Ie()+500,ru(s,a)):Jl=ri(s,a);e:do try{if($t!==0&&_t!==null){a=_t;var b=qr;t:switch($t){case 1:$t=0,qr=null,iu(s,a,b,1);break;case 2:case 9:if(o1(b)){$t=0,qr=null,XS(a);break}a=function(){$t!==2&&$t!==9||rn!==s||($t=7),ls(s)},b.then(a,a);break e;case 3:$t=7;break e;case 4:$t=5;break e;case 7:o1(b)?($t=0,qr=null,XS(a)):($t=0,qr=null,iu(s,a,b,7));break;case 5:var L=null;switch(_t.tag){case 26:L=_t.memoizedState;case 5:case 27:var q=_t;if(!L||MT(L)){$t=0,qr=null;var ee=q.sibling;if(ee!==null)_t=ee;else{var de=q.return;de!==null?(_t=de,Hf(de)):_t=null}break t}}$t=0,qr=null,iu(s,a,b,5);break;case 6:$t=0,qr=null,iu(s,a,b,6);break;case 8:py(),vn=6;break e;default:throw Error(r(462))}}Fj();break}catch(be){GS(s,be)}while(!0);return $s=Bo=null,H.H=h,H.A=v,Ht=u,_t!==null?0:(rn=null,Mt=0,cf(),vn)}function Fj(){for(;_t!==null&&!Ce();)YS(_t)}function YS(s){var a=_S(s.alternate,s,Zs);s.memoizedProps=s.pendingProps,a===null?Hf(s):_t=a}function XS(s){var a=s,u=a.alternate;switch(a.tag){case 15:case 0:a=gS(u,a,a.pendingProps,a.type,void 0,Mt);break;case 11:a=gS(u,a,a.pendingProps,a.type.render,a.ref,Mt);break;case 5:Ov(a);default:TS(u,a),a=_t=Q_(a,Zs),a=_S(u,a,Zs)}s.memoizedProps=s.pendingProps,a===null?Hf(s):_t=a}function iu(s,a,u,h){$s=Bo=null,Ov(a),Yl=null,Uc=0;var v=a.return;try{if(Mj(s,v,a,u,Mt)){vn=1,Df(s,di(u,s.current)),_t=null;return}}catch(b){if(v!==null)throw _t=v,b;vn=1,Df(s,di(u,s.current)),_t=null;return}a.flags&32768?(jt||h===1?s=!0:Jl||(Mt&536870912)!==0?s=!1:(Pa=s=!0,(h===2||h===9||h===3||h===6)&&(h=pi.current,h!==null&&h.tag===13&&(h.flags|=16384))),QS(a,s)):Hf(a)}function Hf(s){var a=s;do{if((a.flags&32768)!==0){QS(a,Pa);return}s=a.return;var u=Pj(a.alternate,a,Zs);if(u!==null){_t=u;return}if(a=a.sibling,a!==null){_t=a;return}_t=a=s}while(a!==null);vn===0&&(vn=5)}function QS(s,a){do{var u=Dj(s.alternate,s);if(u!==null){u.flags&=32767,_t=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(s=s.sibling,s!==null)){_t=s;return}_t=s=u}while(s!==null);vn=6,_t=null}function ZS(s,a,u,h,v,b,L,q,ee){s.cancelPendingCommit=null;do $f();while(rr!==0);if((Ht&6)!==0)throw Error(r(327));if(a!==null){if(a===s.current)throw Error(r(177));if(b=a.lanes|a.childLanes,b|=ov,ya(s,u,b,L,q,ee),s===rn&&(_t=rn=null,Mt=0),tu=a,ka=s,nu=u,hy=b,fy=v,FS=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,Gj(Rt,function(){return rT(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=H.T,H.T=null,v=S.p,S.p=2,L=Ht,Ht|=4;try{jj(s,a,u)}finally{Ht=L,S.p=v,H.T=h}}rr=1,JS(),eT(),tT()}}function JS(){if(rr===1){rr=0;var s=ka,a=tu,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=H.T,H.T=null;var h=S.p;S.p=2;var v=Ht;Ht|=4;try{jS(a,s);var b=Ny,L=B_(s.containerInfo),q=b.focusedElem,ee=b.selectionRange;if(L!==q&&q&&q.ownerDocument&&z_(q.ownerDocument.documentElement,q)){if(ee!==null&&nv(q)){var de=ee.start,be=ee.end;if(be===void 0&&(be=de),"selectionStart"in q)q.selectionStart=de,q.selectionEnd=Math.min(be,q.value.length);else{var we=q.ownerDocument||document,he=we&&we.defaultView||window;if(he.getSelection){var fe=he.getSelection(),st=q.textContent.length,Ze=Math.min(ee.start,st),Wt=ee.end===void 0?Ze:Math.min(ee.end,st);!fe.extend&&Ze>Wt&&(L=Wt,Wt=Ze,Ze=L);var ie=U_(q,Ze),re=U_(q,Wt);if(ie&&re&&(fe.rangeCount!==1||fe.anchorNode!==ie.node||fe.anchorOffset!==ie.offset||fe.focusNode!==re.node||fe.focusOffset!==re.offset)){var ue=we.createRange();ue.setStart(ie.node,ie.offset),fe.removeAllRanges(),Ze>Wt?(fe.addRange(ue),fe.extend(re.node,re.offset)):(ue.setEnd(re.node,re.offset),fe.addRange(ue))}}}}for(we=[],fe=q;fe=fe.parentNode;)fe.nodeType===1&&we.push({element:fe,left:fe.scrollLeft,top:fe.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<we.length;q++){var xe=we[q];xe.element.scrollLeft=xe.left,xe.element.scrollTop=xe.top}}nm=!!Ry,Ny=Ry=null}finally{Ht=v,S.p=h,H.T=u}}s.current=a,rr=2}}function eT(){if(rr===2){rr=0;var s=ka,a=tu,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=H.T,H.T=null;var h=S.p;S.p=2;var v=Ht;Ht|=4;try{MS(s,a.alternate,a)}finally{Ht=v,S.p=h,H.T=u}}rr=3}}function tT(){if(rr===4||rr===3){rr=0,$e();var s=ka,a=tu,u=nu,h=FS;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?rr=5:(rr=0,tu=ka=null,nT(s,s.pendingLanes));var v=s.pendingLanes;if(v===0&&(ja=null),ba(u),a=a.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(pt,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=H.T,v=S.p,S.p=2,H.T=null;try{for(var b=s.onRecoverableError,L=0;L<h.length;L++){var q=h[L];b(q.value,{componentStack:q.stack})}}finally{H.T=a,S.p=v}}(nu&3)!==0&&$f(),ls(s),v=s.pendingLanes,(u&4194090)!==0&&(v&42)!==0?s===my?Wc++:(Wc=0,my=s):Wc=0,Yc(0)}}function nT(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Rc(a)))}function $f(s){return JS(),eT(),tT(),rT()}function rT(){if(rr!==5)return!1;var s=ka,a=hy;hy=0;var u=ba(nu),h=H.T,v=S.p;try{S.p=32>u?32:u,H.T=null,u=fy,fy=null;var b=ka,L=nu;if(rr=0,tu=ka=null,nu=0,(Ht&6)!==0)throw Error(r(331));var q=Ht;if(Ht|=4,zS(b.current),LS(b,b.current,L,u),Ht=q,Yc(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(pt,b)}catch{}return!0}finally{S.p=v,H.T=h,nT(s,a)}}function iT(s,a,u){a=di(u,a),a=Gv(s.stateNode,a,2),s=Aa(s,a,2),s!==null&&(Ci(s,2),ls(s))}function Qt(s,a,u){if(s.tag===3)iT(s,s,u);else for(;a!==null;){if(a.tag===3){iT(a,s,u);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ja===null||!ja.has(h))){s=di(u,s),u=lS(2),h=Aa(a,u,2),h!==null&&(uS(u,h,a,s),Ci(h,2),ls(h));break}}a=a.return}}function yy(s,a,u){var h=s.pingCache;if(h===null){h=s.pingCache=new Vj;var v=new Set;h.set(a,v)}else v=h.get(a),v===void 0&&(v=new Set,h.set(a,v));v.has(u)||(ly=!0,v.add(u),s=Hj.bind(null,s,a,u),a.then(s,s))}function Hj(s,a,u){var h=s.pingCache;h!==null&&h.delete(a),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,rn===s&&(Mt&u)===u&&(vn===4||vn===3&&(Mt&62914560)===Mt&&300>Ie()-dy?(Ht&2)===0&&ru(s,0):uy|=u,eu===Mt&&(eu=0)),ls(s)}function sT(s,a){a===0&&(a=_o()),s=Ul(s,a),s!==null&&(Ci(s,a),ls(s))}function $j(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),sT(s,u)}function qj(s,a){var u=0;switch(s.tag){case 13:var h=s.stateNode,v=s.memoizedState;v!==null&&(u=v.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(a),sT(s,u)}function Gj(s,a){return Qe(s,a)}var qf=null,su=null,by=!1,Gf=!1,xy=!1,Wo=0;function ls(s){s!==su&&s.next===null&&(su===null?qf=su=s:su=su.next=s),Gf=!0,by||(by=!0,Wj())}function Yc(s,a){if(!xy&&Gf){xy=!0;do for(var u=!1,h=qf;h!==null;){if(s!==0){var v=h.pendingLanes;if(v===0)var b=0;else{var L=h.suspendedLanes,q=h.pingedLanes;b=(1<<31-nn(42|s)+1)-1,b&=v&~(L&~q),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,uT(h,b))}else b=Mt,b=Ms(h,h===rn?b:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(b&3)===0||ri(h,b)||(u=!0,uT(h,b));h=h.next}while(u);xy=!1}}function Kj(){aT()}function aT(){Gf=by=!1;var s=0;Wo!==0&&(n4()&&(s=Wo),Wo=0);for(var a=Ie(),u=null,h=qf;h!==null;){var v=h.next,b=oT(h,a);b===0?(h.next=null,u===null?qf=v:u.next=v,v===null&&(su=u)):(u=h,(s!==0||(b&3)!==0)&&(Gf=!0)),h=v}Yc(s)}function oT(s,a){for(var u=s.suspendedLanes,h=s.pingedLanes,v=s.expirationTimes,b=s.pendingLanes&-62914561;0<b;){var L=31-nn(b),q=1<<L,ee=v[L];ee===-1?((q&u)===0||(q&h)!==0)&&(v[L]=va(q,a)):ee<=a&&(s.expiredLanes|=q),b&=~q}if(a=rn,u=Mt,u=Ms(s,s===a?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,u===0||s===a&&($t===2||$t===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&me(h),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||ri(s,u)){if(a=u&-u,a===s.callbackPriority)return a;switch(h!==null&&me(h),ba(u)){case 2:case 8:u=ot;break;case 32:u=Rt;break;case 268435456:u=pn;break;default:u=Rt}return h=lT.bind(null,s),u=Qe(u,h),s.callbackPriority=a,s.callbackNode=u,a}return h!==null&&h!==null&&me(h),s.callbackPriority=2,s.callbackNode=null,2}function lT(s,a){if(rr!==0&&rr!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if($f()&&s.callbackNode!==u)return null;var h=Mt;return h=Ms(s,s===rn?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:($S(s,h,a),oT(s,Ie()),s.callbackNode!=null&&s.callbackNode===u?lT.bind(null,s):null)}function uT(s,a){if($f())return null;$S(s,a,!0)}function Wj(){i4(function(){(Ht&6)!==0?Qe(mt,Kj):aT()})}function wy(){return Wo===0&&(Wo=Os()),Wo}function cT(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Cl(""+s)}function dT(s,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,s.id&&u.setAttribute("form",s.id),a.parentNode.insertBefore(u,a),s=new FormData(s),u.parentNode.removeChild(u),s}function Yj(s,a,u,h,v){if(a==="submit"&&u&&u.stateNode===v){var b=cT((v[Te]||null).action),L=h.submitter;L&&(a=(a=L[Te]||null)?cT(a.formAction):L.getAttribute("formAction"),a!==null&&(b=a,L=null));var q=new Rl("action","action",null,h,v);s.push({event:q,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Wo!==0){var ee=L?dT(v,L):new FormData(v);Bv(u,{pending:!0,data:ee,method:v.method,action:b},null,ee)}}else typeof b=="function"&&(q.preventDefault(),ee=L?dT(v,L):new FormData(v),Bv(u,{pending:!0,data:ee,method:v.method,action:b},b,ee))},currentTarget:v}]})}}for(var _y=0;_y<av.length;_y++){var Sy=av[_y],Xj=Sy.toLowerCase(),Qj=Sy[0].toUpperCase()+Sy.slice(1);Ni(Xj,"on"+Qj)}Ni($_,"onAnimationEnd"),Ni(q_,"onAnimationIteration"),Ni(G_,"onAnimationStart"),Ni("dblclick","onDoubleClick"),Ni("focusin","onFocus"),Ni("focusout","onBlur"),Ni(mj,"onTransitionRun"),Ni(pj,"onTransitionStart"),Ni(gj,"onTransitionCancel"),Ni(K_,"onTransitionEnd"),br("onMouseEnter",["mouseout","mouseover"]),br("onMouseLeave",["mouseout","mouseover"]),br("onPointerEnter",["pointerout","pointerover"]),br("onPointerLeave",["pointerout","pointerover"]),Ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xc));function hT(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var h=s[u],v=h.event;h=h.listeners;e:{var b=void 0;if(a)for(var L=h.length-1;0<=L;L--){var q=h[L],ee=q.instance,de=q.currentTarget;if(q=q.listener,ee!==b&&v.isPropagationStopped())break e;b=q,v.currentTarget=de;try{b(v)}catch(be){Pf(be)}v.currentTarget=null,b=ee}else for(L=0;L<h.length;L++){if(q=h[L],ee=q.instance,de=q.currentTarget,q=q.listener,ee!==b&&v.isPropagationStopped())break e;b=q,v.currentTarget=de;try{b(v)}catch(be){Pf(be)}v.currentTarget=null,b=ee}}}}function St(s,a){var u=a[Ge];u===void 0&&(u=a[Ge]=new Set);var h=s+"__bubble";u.has(h)||(fT(a,s,2,!1),u.add(h))}function Ty(s,a,u){var h=0;a&&(h|=4),fT(u,s,h,a)}var Kf="_reactListening"+Math.random().toString(36).slice(2);function Ey(s){if(!s[Kf]){s[Kf]=!0,yt.forEach(function(u){u!=="selectionchange"&&(Zj.has(u)||Ty(u,!1,s),Ty(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Kf]||(a[Kf]=!0,Ty("selectionchange",!1,a))}}function fT(s,a,u,h){switch(LT(a)){case 2:var v=E4;break;case 8:v=A4;break;default:v=Uy}u=v.bind(null,a,u,s),v=void 0,!ui||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),h?v!==void 0?s.addEventListener(a,u,{capture:!0,passive:v}):s.addEventListener(a,u,!0):v!==void 0?s.addEventListener(a,u,{passive:v}):s.addEventListener(a,u,!1)}function Ay(s,a,u,h,v){var b=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var L=h.tag;if(L===3||L===4){var q=h.stateNode.containerInfo;if(q===v)break;if(L===4)for(L=h.return;L!==null;){var ee=L.tag;if((ee===3||ee===4)&&L.stateNode.containerInfo===v)return;L=L.return}for(;q!==null;){if(L=it(q),L===null)return;if(ee=L.tag,ee===5||ee===6||ee===26||ee===27){h=b=L;continue e}q=q.parentNode}}h=h.return}Wh(function(){var de=b,be=li(u),we=[];e:{var he=W_.get(s);if(he!==void 0){var fe=Rl,st=s;switch(s){case"keypress":if(Ji(u)===0)break e;case"keydown":case"keyup":fe=Dl;break;case"focusin":st="focus",fe=Ml;break;case"focusout":st="blur",fe=Ml;break;case"beforeblur":case"afterblur":fe=Ml;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=ci;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=Zg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=nf;break;case $_:case q_:case G_:fe=Ol;break;case K_:fe=sf;break;case"scroll":case"scrollend":fe=Yh;break;case"wheel":fe=jl;break;case"copy":case"cut":case"paste":fe=Pl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=xc;break;case"toggle":case"beforetoggle":fe=of}var Ze=(a&4)!==0,Wt=!Ze&&(s==="scroll"||s==="scrollend"),ie=Ze?he!==null?he+"Capture":null:he;Ze=[];for(var re=de,ue;re!==null;){var xe=re;if(ue=xe.stateNode,xe=xe.tag,xe!==5&&xe!==26&&xe!==27||ue===null||ie===null||(xe=Co(re,ie),xe!=null&&Ze.push(Qc(re,xe,ue))),Wt)break;re=re.return}0<Ze.length&&(he=new fe(he,st,null,u,be),we.push({event:he,listeners:Ze}))}}if((a&7)===0){e:{if(he=s==="mouseover"||s==="pointerover",fe=s==="mouseout"||s==="pointerout",he&&u!==js&&(st=u.relatedTarget||u.fromElement)&&(it(st)||st[De]))break e;if((fe||he)&&(he=be.window===be?be:(he=be.ownerDocument)?he.defaultView||he.parentWindow:window,fe?(st=u.relatedTarget||u.toElement,fe=de,st=st?it(st):null,st!==null&&(Wt=o(st),Ze=st.tag,st!==Wt||Ze!==5&&Ze!==27&&Ze!==6)&&(st=null)):(fe=null,st=de),fe!==st)){if(Ze=ci,xe="onMouseLeave",ie="onMouseEnter",re="mouse",(s==="pointerout"||s==="pointerover")&&(Ze=xc,xe="onPointerLeave",ie="onPointerEnter",re="pointer"),Wt=fe==null?he:Ut(fe),ue=st==null?he:Ut(st),he=new Ze(xe,re+"leave",fe,u,be),he.target=Wt,he.relatedTarget=ue,xe=null,it(be)===de&&(Ze=new Ze(ie,re+"enter",st,u,be),Ze.target=ue,Ze.relatedTarget=Wt,xe=Ze),Wt=xe,fe&&st)t:{for(Ze=fe,ie=st,re=0,ue=Ze;ue;ue=au(ue))re++;for(ue=0,xe=ie;xe;xe=au(xe))ue++;for(;0<re-ue;)Ze=au(Ze),re--;for(;0<ue-re;)ie=au(ie),ue--;for(;re--;){if(Ze===ie||ie!==null&&Ze===ie.alternate)break t;Ze=au(Ze),ie=au(ie)}Ze=null}else Ze=null;fe!==null&&mT(we,he,fe,Ze,!1),st!==null&&Wt!==null&&mT(we,Wt,st,Ze,!0)}}e:{if(he=de?Ut(de):window,fe=he.nodeName&&he.nodeName.toLowerCase(),fe==="select"||fe==="input"&&he.type==="file")var ke=P_;else if(Un(he))if(D_)ke=dj;else{ke=uj;var bt=lj}else fe=he.nodeName,!fe||fe.toLowerCase()!=="input"||he.type!=="checkbox"&&he.type!=="radio"?de&&fc(de.elementType)&&(ke=P_):ke=cj;if(ke&&(ke=ke(s,de))){zs(we,ke,u,be);break e}bt&&bt(s,he,de),s==="focusout"&&de&&he.type==="number"&&de.memoizedProps.value!=null&&wa(he,"number",he.value)}switch(bt=de?Ut(de):window,s){case"focusin":(Un(bt)||bt.contentEditable==="true")&&(kl=bt,rv=de,Sc=null);break;case"focusout":Sc=rv=kl=null;break;case"mousedown":iv=!0;break;case"contextmenu":case"mouseup":case"dragend":iv=!1,F_(we,u,be);break;case"selectionchange":if(fj)break;case"keydown":case"keyup":F_(we,u,be)}var Fe;if(ns)e:{switch(s){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else Nt?pe(s,u)&&(tt="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(tt="onCompositionStart");tt&&(k&&u.locale!=="ko"&&(Nt||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&Nt&&(Fe=pc()):(Zi=be,_a="value"in Zi?Zi.value:Zi.textContent,Nt=!0)),bt=Wf(de,tt),0<bt.length&&(tt=new yc(tt,s,null,u,be),we.push({event:tt,listeners:bt}),Fe?tt.data=Fe:(Fe=Ae(u),Fe!==null&&(tt.data=Fe)))),(Fe=_?Vn(s,u):It(s,u))&&(tt=Wf(de,"onBeforeInput"),0<tt.length&&(bt=new yc("onBeforeInput","beforeinput",null,u,be),we.push({event:bt,listeners:tt}),bt.data=Fe)),Yj(we,s,de,u,be)}hT(we,a)})}function Qc(s,a,u){return{instance:s,listener:a,currentTarget:u}}function Wf(s,a){for(var u=a+"Capture",h=[];s!==null;){var v=s,b=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||b===null||(v=Co(s,u),v!=null&&h.unshift(Qc(s,v,b)),v=Co(s,a),v!=null&&h.push(Qc(s,v,b))),s.tag===3)return h;s=s.return}return[]}function au(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function mT(s,a,u,h,v){for(var b=a._reactName,L=[];u!==null&&u!==h;){var q=u,ee=q.alternate,de=q.stateNode;if(q=q.tag,ee!==null&&ee===h)break;q!==5&&q!==26&&q!==27||de===null||(ee=de,v?(de=Co(u,b),de!=null&&L.unshift(Qc(u,de,ee))):v||(de=Co(u,b),de!=null&&L.push(Qc(u,de,ee)))),u=u.return}L.length!==0&&s.push({event:a,listeners:L})}var Jj=/\r\n?/g,e4=/\u0000|\uFFFD/g;function pT(s){return(typeof s=="string"?s:""+s).replace(Jj,`
`).replace(e4,"")}function gT(s,a){return a=pT(a),pT(s)===a}function Yf(){}function Kt(s,a,u,h,v,b){switch(u){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||oi(s,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&oi(s,""+h);break;case"className":xr(s,"class",h);break;case"tabIndex":xr(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":xr(s,u,h);break;case"style":hc(s,h,b);break;case"data":if(a!=="object"){xr(s,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||u!=="href")){s.removeAttribute(u);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(u);break}h=Cl(""+h),s.setAttribute(u,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(a!=="input"&&Kt(s,a,"name",v.name,v,null),Kt(s,a,"formEncType",v.formEncType,v,null),Kt(s,a,"formMethod",v.formMethod,v,null),Kt(s,a,"formTarget",v.formTarget,v,null)):(Kt(s,a,"encType",v.encType,v,null),Kt(s,a,"method",v.method,v,null),Kt(s,a,"target",v.target,v,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(u);break}h=Cl(""+h),s.setAttribute(u,h);break;case"onClick":h!=null&&(s.onclick=Yf);break;case"onScroll":h!=null&&St("scroll",s);break;case"onScrollEnd":h!=null&&St("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}u=Cl(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,""+h):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":h===!0?s.setAttribute(u,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(u,h):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(u,h):s.removeAttribute(u);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(u):s.setAttribute(u,h);break;case"popover":St("beforetoggle",s),St("toggle",s),ur(s,"popover",h);break;case"xlinkActuate":lt(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":lt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":lt(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":lt(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":lt(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":lt(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":lt(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":lt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":lt(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":ur(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Xg.get(u)||u,ur(s,u,h))}}function Cy(s,a,u,h,v,b){switch(u){case"style":hc(s,h,b);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(u=h.__html,u!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"children":typeof h=="string"?oi(s,h):(typeof h=="number"||typeof h=="bigint")&&oi(s,""+h);break;case"onScroll":h!=null&&St("scroll",s);break;case"onScrollEnd":h!=null&&St("scrollend",s);break;case"onClick":h!=null&&(s.onclick=Yf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!si.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),a=u.slice(2,v?u.length-7:void 0),b=s[Te]||null,b=b!=null?b[u]:null,typeof b=="function"&&s.removeEventListener(a,b,v),typeof h=="function")){typeof b!="function"&&b!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(a,h,v);break e}u in s?s[u]=h:h===!0?s.setAttribute(u,""):ur(s,u,h)}}}function ir(s,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":St("error",s),St("load",s);var h=!1,v=!1,b;for(b in u)if(u.hasOwnProperty(b)){var L=u[b];if(L!=null)switch(b){case"src":h=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Kt(s,a,b,L,u,null)}}v&&Kt(s,a,"srcSet",u.srcSet,u,null),h&&Kt(s,a,"src",u.src,u,null);return;case"input":St("invalid",s);var q=b=L=v=null,ee=null,de=null;for(h in u)if(u.hasOwnProperty(h)){var be=u[h];if(be!=null)switch(h){case"name":v=be;break;case"type":L=be;break;case"checked":ee=be;break;case"defaultChecked":de=be;break;case"value":b=be;break;case"defaultValue":q=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,a));break;default:Kt(s,a,h,be,u,null)}}To(s,b,q,ee,de,L,v,!1),Al(s);return;case"select":St("invalid",s),h=L=b=null;for(v in u)if(u.hasOwnProperty(v)&&(q=u[v],q!=null))switch(v){case"value":b=q;break;case"defaultValue":L=q;break;case"multiple":h=q;default:Kt(s,a,v,q,u,null)}a=b,u=L,s.multiple=!!h,a!=null?Ds(s,!!h,a,!1):u!=null&&Ds(s,!!h,u,!0);return;case"textarea":St("invalid",s),b=v=h=null;for(L in u)if(u.hasOwnProperty(L)&&(q=u[L],q!=null))switch(L){case"value":h=q;break;case"defaultValue":v=q;break;case"children":b=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(91));break;default:Kt(s,a,L,q,u,null)}Eo(s,h,v,b),Al(s);return;case"option":for(ee in u)if(u.hasOwnProperty(ee)&&(h=u[ee],h!=null))switch(ee){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Kt(s,a,ee,h,u,null)}return;case"dialog":St("beforetoggle",s),St("toggle",s),St("cancel",s),St("close",s);break;case"iframe":case"object":St("load",s);break;case"video":case"audio":for(h=0;h<Xc.length;h++)St(Xc[h],s);break;case"image":St("error",s),St("load",s);break;case"details":St("toggle",s);break;case"embed":case"source":case"link":St("error",s),St("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(de in u)if(u.hasOwnProperty(de)&&(h=u[de],h!=null))switch(de){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Kt(s,a,de,h,u,null)}return;default:if(fc(a)){for(be in u)u.hasOwnProperty(be)&&(h=u[be],h!==void 0&&Cy(s,a,be,h,u,void 0));return}}for(q in u)u.hasOwnProperty(q)&&(h=u[q],h!=null&&Kt(s,a,q,h,u,null))}function t4(s,a,u,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,b=null,L=null,q=null,ee=null,de=null,be=null;for(fe in u){var we=u[fe];if(u.hasOwnProperty(fe)&&we!=null)switch(fe){case"checked":break;case"value":break;case"defaultValue":ee=we;default:h.hasOwnProperty(fe)||Kt(s,a,fe,null,h,we)}}for(var he in h){var fe=h[he];if(we=u[he],h.hasOwnProperty(he)&&(fe!=null||we!=null))switch(he){case"type":b=fe;break;case"name":v=fe;break;case"checked":de=fe;break;case"defaultChecked":be=fe;break;case"value":L=fe;break;case"defaultValue":q=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,a));break;default:fe!==we&&Kt(s,a,he,fe,h,we)}}zr(s,L,q,ee,de,be,b,v);return;case"select":fe=L=q=he=null;for(b in u)if(ee=u[b],u.hasOwnProperty(b)&&ee!=null)switch(b){case"value":break;case"multiple":fe=ee;default:h.hasOwnProperty(b)||Kt(s,a,b,null,h,ee)}for(v in h)if(b=h[v],ee=u[v],h.hasOwnProperty(v)&&(b!=null||ee!=null))switch(v){case"value":he=b;break;case"defaultValue":q=b;break;case"multiple":L=b;default:b!==ee&&Kt(s,a,v,b,h,ee)}a=q,u=L,h=fe,he!=null?Ds(s,!!u,he,!1):!!h!=!!u&&(a!=null?Ds(s,!!u,a,!0):Ds(s,!!u,u?[]:"",!1));return;case"textarea":fe=he=null;for(q in u)if(v=u[q],u.hasOwnProperty(q)&&v!=null&&!h.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:Kt(s,a,q,null,h,v)}for(L in h)if(v=h[L],b=u[L],h.hasOwnProperty(L)&&(v!=null||b!=null))switch(L){case"value":he=v;break;case"defaultValue":fe=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==b&&Kt(s,a,L,v,h,b)}qt(s,he,fe);return;case"option":for(var st in u)if(he=u[st],u.hasOwnProperty(st)&&he!=null&&!h.hasOwnProperty(st))switch(st){case"selected":s.selected=!1;break;default:Kt(s,a,st,null,h,he)}for(ee in h)if(he=h[ee],fe=u[ee],h.hasOwnProperty(ee)&&he!==fe&&(he!=null||fe!=null))switch(ee){case"selected":s.selected=he&&typeof he!="function"&&typeof he!="symbol";break;default:Kt(s,a,ee,he,h,fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in u)he=u[Ze],u.hasOwnProperty(Ze)&&he!=null&&!h.hasOwnProperty(Ze)&&Kt(s,a,Ze,null,h,he);for(de in h)if(he=h[de],fe=u[de],h.hasOwnProperty(de)&&he!==fe&&(he!=null||fe!=null))switch(de){case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,a));break;default:Kt(s,a,de,he,h,fe)}return;default:if(fc(a)){for(var Wt in u)he=u[Wt],u.hasOwnProperty(Wt)&&he!==void 0&&!h.hasOwnProperty(Wt)&&Cy(s,a,Wt,void 0,h,he);for(be in h)he=h[be],fe=u[be],!h.hasOwnProperty(be)||he===fe||he===void 0&&fe===void 0||Cy(s,a,be,he,h,fe);return}}for(var ie in u)he=u[ie],u.hasOwnProperty(ie)&&he!=null&&!h.hasOwnProperty(ie)&&Kt(s,a,ie,null,h,he);for(we in h)he=h[we],fe=u[we],!h.hasOwnProperty(we)||he===fe||he==null&&fe==null||Kt(s,a,we,he,h,fe)}var Ry=null,Ny=null;function Xf(s){return s.nodeType===9?s:s.ownerDocument}function vT(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yT(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Iy(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var My=null;function n4(){var s=window.event;return s&&s.type==="popstate"?s===My?!1:(My=s,!0):(My=null,!1)}var bT=typeof setTimeout=="function"?setTimeout:void 0,r4=typeof clearTimeout=="function"?clearTimeout:void 0,xT=typeof Promise=="function"?Promise:void 0,i4=typeof queueMicrotask=="function"?queueMicrotask:typeof xT<"u"?function(s){return xT.resolve(null).then(s).catch(s4)}:bT;function s4(s){setTimeout(function(){throw s})}function Va(s){return s==="head"}function wT(s,a){var u=a,h=0,v=0;do{var b=u.nextSibling;if(s.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"){if(0<h&&8>h){u=h;var L=s.ownerDocument;if(u&1&&Zc(L.documentElement),u&2&&Zc(L.body),u&4)for(u=L.head,Zc(u),L=u.firstChild;L;){var q=L.nextSibling,ee=L.nodeName;L[et]||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&L.rel.toLowerCase()==="stylesheet"||u.removeChild(L),L=q}}if(v===0){s.removeChild(b),ad(a);return}v--}else u==="$"||u==="$?"||u==="$!"?v++:h=u.charCodeAt(0)-48;else h=0;u=b}while(u);ad(a)}function Oy(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Oy(u),Ke(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function a4(s,a,u,h){for(;s.nodeType===1;){var v=u;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[et])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(b=s.getAttribute("rel"),b==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(b!==v.rel||s.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||s.getAttribute("title")!==(v.title==null?null:v.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(b=s.getAttribute("src"),(b!==(v.src==null?null:v.src)||s.getAttribute("type")!==(v.type==null?null:v.type)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&b&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var b=v.name==null?null:""+v.name;if(v.type==="hidden"&&s.getAttribute("name")===b)return s}else return s;if(s=Mi(s.nextSibling),s===null)break}return null}function o4(s,a,u){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=Mi(s.nextSibling),s===null))return null;return s}function Py(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function l4(s,a){var u=s.ownerDocument;if(s.data!=="$?"||u.readyState==="complete")a();else{var h=function(){a(),u.removeEventListener("DOMContentLoaded",h)};u.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function Mi(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var Dy=null;function _T(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}function ST(s,a,u){switch(a=Xf(u),s){case"html":if(s=a.documentElement,!s)throw Error(r(452));return s;case"head":if(s=a.head,!s)throw Error(r(453));return s;case"body":if(s=a.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Zc(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Ke(s)}var vi=new Map,TT=new Set;function Qf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Js=S.d;S.d={f:u4,r:c4,D:d4,C:h4,L:f4,m:m4,X:g4,S:p4,M:v4};function u4(){var s=Js.f(),a=Ff();return s||a}function c4(s){var a=wt(s);a!==null&&a.tag===5&&a.type==="form"?$1(a):Js.r(s)}var ou=typeof document>"u"?null:document;function ET(s,a,u){var h=ou;if(h&&typeof a=="string"&&a){var v=Nn(a);v='link[rel="'+s+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),TT.has(v)||(TT.add(v),s={rel:s,crossOrigin:u,href:a},h.querySelector(v)===null&&(a=h.createElement("link"),ir(a,"link",s),Ct(a),h.head.appendChild(a)))}}function d4(s){Js.D(s),ET("dns-prefetch",s,null)}function h4(s,a){Js.C(s,a),ET("preconnect",s,a)}function f4(s,a,u){Js.L(s,a,u);var h=ou;if(h&&s&&a){var v='link[rel="preload"][as="'+Nn(a)+'"]';a==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Nn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Nn(u.imageSizes)+'"]')):v+='[href="'+Nn(s)+'"]';var b=v;switch(a){case"style":b=lu(s);break;case"script":b=uu(s)}vi.has(b)||(s=p({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:s,as:a},u),vi.set(b,s),h.querySelector(v)!==null||a==="style"&&h.querySelector(Jc(b))||a==="script"&&h.querySelector(ed(b))||(a=h.createElement("link"),ir(a,"link",s),Ct(a),h.head.appendChild(a)))}}function m4(s,a){Js.m(s,a);var u=ou;if(u&&s){var h=a&&typeof a.as=="string"?a.as:"script",v='link[rel="modulepreload"][as="'+Nn(h)+'"][href="'+Nn(s)+'"]',b=v;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=uu(s)}if(!vi.has(b)&&(s=p({rel:"modulepreload",href:s},a),vi.set(b,s),u.querySelector(v)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(ed(b)))return}h=u.createElement("link"),ir(h,"link",s),Ct(h),u.head.appendChild(h)}}}function p4(s,a,u){Js.S(s,a,u);var h=ou;if(h&&s){var v=Pt(h).hoistableStyles,b=lu(s);a=a||"default";var L=v.get(b);if(!L){var q={loading:0,preload:null};if(L=h.querySelector(Jc(b)))q.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":a},u),(u=vi.get(b))&&jy(s,u);var ee=L=h.createElement("link");Ct(ee),ir(ee,"link",s),ee._p=new Promise(function(de,be){ee.onload=de,ee.onerror=be}),ee.addEventListener("load",function(){q.loading|=1}),ee.addEventListener("error",function(){q.loading|=2}),q.loading|=4,Zf(L,a,h)}L={type:"stylesheet",instance:L,count:1,state:q},v.set(b,L)}}}function g4(s,a){Js.X(s,a);var u=ou;if(u&&s){var h=Pt(u).hoistableScripts,v=uu(s),b=h.get(v);b||(b=u.querySelector(ed(v)),b||(s=p({src:s,async:!0},a),(a=vi.get(v))&&ky(s,a),b=u.createElement("script"),Ct(b),ir(b,"link",s),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(v,b))}}function v4(s,a){Js.M(s,a);var u=ou;if(u&&s){var h=Pt(u).hoistableScripts,v=uu(s),b=h.get(v);b||(b=u.querySelector(ed(v)),b||(s=p({src:s,async:!0,type:"module"},a),(a=vi.get(v))&&ky(s,a),b=u.createElement("script"),Ct(b),ir(b,"link",s),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(v,b))}}function AT(s,a,u,h){var v=(v=le.current)?Qf(v):null;if(!v)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=lu(u.href),u=Pt(v).hoistableStyles,h=u.get(a),h||(h={type:"style",instance:null,count:0,state:null},u.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=lu(u.href);var b=Pt(v).hoistableStyles,L=b.get(s);if(L||(v=v.ownerDocument||v,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(s,L),(b=v.querySelector(Jc(s)))&&!b._p&&(L.instance=b,L.state.loading=5),vi.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},vi.set(s,u),b||y4(v,s,u,L.state))),a&&h===null)throw Error(r(528,""));return L}if(a&&h!==null)throw Error(r(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=uu(u),u=Pt(v).hoistableScripts,h=u.get(a),h||(h={type:"script",instance:null,count:0,state:null},u.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function lu(s){return'href="'+Nn(s)+'"'}function Jc(s){return'link[rel="stylesheet"]['+s+"]"}function CT(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function y4(s,a,u,h){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=s.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),ir(a,"link",u),Ct(a),s.head.appendChild(a))}function uu(s){return'[src="'+Nn(s)+'"]'}function ed(s){return"script[async]"+s}function RT(s,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var h=s.querySelector('style[data-href~="'+Nn(u.href)+'"]');if(h)return a.instance=h,Ct(h),h;var v=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),Ct(h),ir(h,"style",v),Zf(h,u.precedence,s),a.instance=h;case"stylesheet":v=lu(u.href);var b=s.querySelector(Jc(v));if(b)return a.state.loading|=4,a.instance=b,Ct(b),b;h=CT(u),(v=vi.get(v))&&jy(h,v),b=(s.ownerDocument||s).createElement("link"),Ct(b);var L=b;return L._p=new Promise(function(q,ee){L.onload=q,L.onerror=ee}),ir(b,"link",h),a.state.loading|=4,Zf(b,u.precedence,s),a.instance=b;case"script":return b=uu(u.src),(v=s.querySelector(ed(b)))?(a.instance=v,Ct(v),v):(h=u,(v=vi.get(b))&&(h=p({},u),ky(h,v)),s=s.ownerDocument||s,v=s.createElement("script"),Ct(v),ir(v,"link",h),s.head.appendChild(v),a.instance=v);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,Zf(h,u.precedence,s));return a.instance}function Zf(s,a,u){for(var h=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=h.length?h[h.length-1]:null,b=v,L=0;L<h.length;L++){var q=h[L];if(q.dataset.precedence===a)b=q;else if(b!==v)break}b?b.parentNode.insertBefore(s,b.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(s,a.firstChild))}function jy(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function ky(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Jf=null;function NT(s,a,u){if(Jf===null){var h=new Map,v=Jf=new Map;v.set(u,h)}else v=Jf,h=v.get(u),h||(h=new Map,v.set(u,h));if(h.has(s))return h;for(h.set(s,null),u=u.getElementsByTagName(s),v=0;v<u.length;v++){var b=u[v];if(!(b[et]||b[_e]||s==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var L=b.getAttribute(a)||"";L=s+L;var q=h.get(L);q?q.push(b):h.set(L,[b])}}return h}function IT(s,a,u){s=s.ownerDocument||s,s.head.insertBefore(u,a==="title"?s.querySelector("head > title"):null)}function b4(s,a,u){if(u===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function MT(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var td=null;function x4(){}function w4(s,a,u){if(td===null)throw Error(r(475));var h=td;if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var v=lu(u.href),b=s.querySelector(Jc(v));if(b){s=b._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(h.count++,h=em.bind(h),s.then(h,h)),a.state.loading|=4,a.instance=b,Ct(b);return}b=s.ownerDocument||s,u=CT(u),(v=vi.get(v))&&jy(u,v),b=b.createElement("link"),Ct(b);var L=b;L._p=new Promise(function(q,ee){L.onload=q,L.onerror=ee}),ir(b,"link",u),a.instance=b}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(h.count++,a=em.bind(h),s.addEventListener("load",a),s.addEventListener("error",a))}}function _4(){if(td===null)throw Error(r(475));var s=td;return s.stylesheets&&s.count===0&&Ly(s,s.stylesheets),0<s.count?function(a){var u=setTimeout(function(){if(s.stylesheets&&Ly(s,s.stylesheets),s.unsuspend){var h=s.unsuspend;s.unsuspend=null,h()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(u)}}:null}function em(){if(this.count--,this.count===0){if(this.stylesheets)Ly(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var tm=null;function Ly(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,tm=new Map,a.forEach(S4,s),tm=null,em.call(s))}function S4(s,a){if(!(a.state.loading&4)){var u=tm.get(s);if(u)var h=u.get(null);else{u=new Map,tm.set(s,u);for(var v=s.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<v.length;b++){var L=v[b];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(u.set(L.dataset.precedence,L),h=L)}h&&u.set(null,h)}v=a.instance,L=v.getAttribute("data-precedence"),b=u.get(L)||h,b===h&&u.set(null,v),u.set(L,v),this.count++,h=em.bind(this),v.addEventListener("load",h),v.addEventListener("error",h),b?b.parentNode.insertBefore(v,b.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(v,s.firstChild)),a.state.loading|=4}}var nd={$$typeof:F,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function T4(s,a,u,h,v,b,L,q){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=h,this.onUncaughtError=v,this.onCaughtError=b,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function OT(s,a,u,h,v,b,L,q,ee,de,be,we){return s=new T4(s,a,u,L,q,ee,de,we),a=1,b===!0&&(a|=24),b=Fr(3,null,null,a),s.current=b,b.stateNode=s,a=yv(),a.refCount++,s.pooledCache=a,a.refCount++,b.memoizedState={element:h,isDehydrated:u,cache:a},_v(b),s}function PT(s){return s?(s=zl,s):zl}function DT(s,a,u,h,v,b){v=PT(v),h.context===null?h.context=v:h.pendingContext=v,h=Ea(a),h.payload={element:u},b=b===void 0?null:b,b!==null&&(h.callback=b),u=Aa(s,h,a),u!==null&&(Kr(u,s,a),Oc(u,s,a))}function jT(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function Vy(s,a){jT(s,a),(s=s.alternate)&&jT(s,a)}function kT(s){if(s.tag===13){var a=Ul(s,67108864);a!==null&&Kr(a,s,67108864),Vy(s,67108864)}}var nm=!0;function E4(s,a,u,h){var v=H.T;H.T=null;var b=S.p;try{S.p=2,Uy(s,a,u,h)}finally{S.p=b,H.T=v}}function A4(s,a,u,h){var v=H.T;H.T=null;var b=S.p;try{S.p=8,Uy(s,a,u,h)}finally{S.p=b,H.T=v}}function Uy(s,a,u,h){if(nm){var v=zy(h);if(v===null)Ay(s,a,h,rm,u),VT(s,h);else if(R4(v,s,a,u,h))h.stopPropagation();else if(VT(s,h),a&4&&-1<C4.indexOf(s)){for(;v!==null;){var b=wt(v);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var L=Lr(b.pendingLanes);if(L!==0){var q=b;for(q.pendingLanes|=2,q.entangledLanes|=2;L;){var ee=1<<31-nn(L);q.entanglements[1]|=ee,L&=~ee}ls(b),(Ht&6)===0&&(zf=Ie()+500,Yc(0))}}break;case 13:q=Ul(b,2),q!==null&&Kr(q,b,2),Ff(),Vy(b,2)}if(b=zy(h),b===null&&Ay(s,a,h,rm,u),b===v)break;v=b}v!==null&&h.stopPropagation()}else Ay(s,a,h,null,u)}}function zy(s){return s=li(s),By(s)}var rm=null;function By(s){if(rm=null,s=it(s),s!==null){var a=o(s);if(a===null)s=null;else{var u=a.tag;if(u===13){if(s=l(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return rm=s,null}function LT(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Je()){case mt:return 2;case ot:return 8;case Rt:case ht:return 32;case pn:return 268435456;default:return 32}default:return 32}}var Fy=!1,Ua=null,za=null,Ba=null,rd=new Map,id=new Map,Fa=[],C4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function VT(s,a){switch(s){case"focusin":case"focusout":Ua=null;break;case"dragenter":case"dragleave":za=null;break;case"mouseover":case"mouseout":Ba=null;break;case"pointerover":case"pointerout":rd.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":id.delete(a.pointerId)}}function sd(s,a,u,h,v,b){return s===null||s.nativeEvent!==b?(s={blockedOn:a,domEventName:u,eventSystemFlags:h,nativeEvent:b,targetContainers:[v]},a!==null&&(a=wt(a),a!==null&&kT(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),s)}function R4(s,a,u,h,v){switch(a){case"focusin":return Ua=sd(Ua,s,a,u,h,v),!0;case"dragenter":return za=sd(za,s,a,u,h,v),!0;case"mouseover":return Ba=sd(Ba,s,a,u,h,v),!0;case"pointerover":var b=v.pointerId;return rd.set(b,sd(rd.get(b)||null,s,a,u,h,v)),!0;case"gotpointercapture":return b=v.pointerId,id.set(b,sd(id.get(b)||null,s,a,u,h,v)),!0}return!1}function UT(s){var a=it(s.target);if(a!==null){var u=o(a);if(u!==null){if(a=u.tag,a===13){if(a=l(u),a!==null){s.blockedOn=a,ae(s.priority,function(){if(u.tag===13){var h=Gr();h=Wi(h);var v=Ul(u,h);v!==null&&Kr(v,u,h),Vy(u,h)}});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function im(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=zy(s.nativeEvent);if(u===null){u=s.nativeEvent;var h=new u.constructor(u.type,u);js=h,u.target.dispatchEvent(h),js=null}else return a=wt(u),a!==null&&kT(a),s.blockedOn=u,!1;a.shift()}return!0}function zT(s,a,u){im(s)&&u.delete(a)}function N4(){Fy=!1,Ua!==null&&im(Ua)&&(Ua=null),za!==null&&im(za)&&(za=null),Ba!==null&&im(Ba)&&(Ba=null),rd.forEach(zT),id.forEach(zT)}function sm(s,a){s.blockedOn===a&&(s.blockedOn=null,Fy||(Fy=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,N4)))}var am=null;function BT(s){am!==s&&(am=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){am===s&&(am=null);for(var a=0;a<s.length;a+=3){var u=s[a],h=s[a+1],v=s[a+2];if(typeof h!="function"){if(By(h||u)===null)continue;break}var b=wt(u);b!==null&&(s.splice(a,3),a-=3,Bv(b,{pending:!0,data:v,method:u.method,action:h},h,v))}}))}function ad(s){function a(ee){return sm(ee,s)}Ua!==null&&sm(Ua,s),za!==null&&sm(za,s),Ba!==null&&sm(Ba,s),rd.forEach(a),id.forEach(a);for(var u=0;u<Fa.length;u++){var h=Fa[u];h.blockedOn===s&&(h.blockedOn=null)}for(;0<Fa.length&&(u=Fa[0],u.blockedOn===null);)UT(u),u.blockedOn===null&&Fa.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(h=0;h<u.length;h+=3){var v=u[h],b=u[h+1],L=v[Te]||null;if(typeof b=="function")L||BT(u);else if(L){var q=null;if(b&&b.hasAttribute("formAction")){if(v=b,L=b[Te]||null)q=L.formAction;else if(By(v)!==null)continue}else q=L.action;typeof q=="function"?u[h+1]=q:(u.splice(h,3),h-=3),BT(u)}}}function Hy(s){this._internalRoot=s}om.prototype.render=Hy.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));var u=a.current,h=Gr();DT(u,h,s,a,null,null)},om.prototype.unmount=Hy.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;DT(s.current,2,null,s,null,null),Ff(),a[De]=null}};function om(s){this._internalRoot=s}om.prototype.unstable_scheduleHydration=function(s){if(s){var a=te();s={blockedOn:null,target:s,priority:a};for(var u=0;u<Fa.length&&a!==0&&a<Fa[u].priority;u++);Fa.splice(u,0,s),u===0&&UT(s)}};var FT=e.version;if(FT!=="19.1.0")throw Error(r(527,FT,"19.1.0"));S.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=d(a),s=s!==null?f(s):null,s=s===null?null:s.stateNode,s};var I4={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lm.isDisabled&&lm.supportsFiber)try{pt=lm.inject(I4),qe=lm}catch{}}return ld.createRoot=function(s,a){if(!i(s))throw Error(r(299));var u=!1,h="",v=iS,b=sS,L=aS,q=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(L=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(q=a.unstable_transitionCallbacks)),a=OT(s,1,!1,null,null,u,h,v,b,L,q,null),s[De]=a.current,Ey(s),new Hy(a)},ld.hydrateRoot=function(s,a,u){if(!i(s))throw Error(r(299));var h=!1,v="",b=iS,L=sS,q=aS,ee=null,de=null;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(L=u.onCaughtError),u.onRecoverableError!==void 0&&(q=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(ee=u.unstable_transitionCallbacks),u.formState!==void 0&&(de=u.formState)),a=OT(s,1,!0,a,u??null,h,v,b,L,q,ee,de),a.context=PT(null),u=a.current,h=Gr(),h=Wi(h),v=Ea(h),v.callback=null,Aa(u,v,h),u=h,a.current.lanes=u,Ci(a,u),ls(a),s[De]=a.current,Ey(s),new om(a)},ld.version="19.1.0",ld}var JT;function B4(){if(JT)return Gy.exports;JT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gy.exports=z4(),Gy.exports}var F4=B4();const H4=()=>{};var eE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},$4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],l=t[n++],c=t[n++],d=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},ZR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],l=i+1<t.length,c=l?t[i+1]:0,d=i+2<t.length,f=d?t[i+2]:0,p=o>>2,y=(o&3)<<4|c>>4;let x=(c&15)<<2|f>>6,E=f&63;d||(E=64,l||(x=64)),r.push(n[p],n[y],n[x],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(QR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const y=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||f==null||y==null)throw new q4;const x=o<<2|c>>4;if(r.push(x),f!==64){const E=c<<4&240|f>>2;if(r.push(E),y!==64){const N=f<<6&192|y;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class q4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G4=function(t){const e=QR(t);return ZR.encodeByteArray(e,!0)},sp=function(t){return G4(t).replace(/\./g,"")},JR=function(t){try{return ZR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4=()=>K4().__FIREBASE_DEFAULTS__,Y4=()=>{if(typeof process>"u"||typeof eE>"u")return;const t=eE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},X4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&JR(t[1]);return e&&JSON.parse(e)},Qp=()=>{try{return H4()||W4()||Y4()||X4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},eN=t=>{var e,n;return(n=(e=Qp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},tN=t=>{const e=eN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},nN=()=>{var t;return(t=Qp())===null||t===void 0?void 0:t.config},rN=t=>{var e;return(e=Qp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q4=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function fx(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[sp(JSON.stringify(n)),sp(JSON.stringify(l)),""].join(".")}const Pd={};function Z4(){const t={prod:[],emulator:[]};for(const e of Object.keys(Pd))Pd[e]?t.emulator.push(e):t.prod.push(e);return t}function J4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let tE=!1;function mx(t,e){if(typeof window>"u"||typeof document>"u"||!vo(window.location.host)||Pd[t]===e||Pd[t]||tE)return;Pd[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",o=Z4().prod.length>0;function l(){const x=document.getElementById(r);x&&x.remove()}function c(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function d(x,E){x.setAttribute("width","24"),x.setAttribute("id",E),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function f(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{tE=!0,l()},x}function p(x,E){x.setAttribute("id",E),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function y(){const x=J4(r),E=n("text"),N=document.getElementById(E)||document.createElement("span"),P=n("learnmore"),V=document.getElementById(P)||document.createElement("a"),D=n("preprendIcon"),B=document.getElementById(D)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const F=x.element;c(F),p(V,P);const Y=f();d(B,D),F.append(B,N,V,Y),document.body.appendChild(F)}o?(N.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ek(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gr())}function tk(){var t;const e=(t=Qp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ik(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sk(){const t=gr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ak(){return!tk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ok(){try{return typeof indexedDB=="object"}catch{return!1}}function lk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk="FirebaseError";class Ns extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=uk,Object.setPrototypeOf(this,Ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ph.prototype.create)}}class ph{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?ck(o,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Ns(i,c,r)}}function ck(t,e){return t.replace(dk,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const dk=/\{\$([^}]+)}/g;function hk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ll(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],l=e[i];if(nE(o)&&nE(l)){if(!ll(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function nE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Td(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ed(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function fk(t,e){const n=new mk(t,e);return n.subscribe.bind(n)}class mk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");pk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Xy),i.error===void 0&&(i.error=Xy),i.complete===void 0&&(i.complete=Xy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Xy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(t){return t&&t._delegate?t._delegate:t}class oo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Q4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yk(e))try{this.getOrInitializeService({instanceIdentifier:Qo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Qo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qo){return this.instances.has(e)}getOptions(e=Qo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qo){return this.component?this.component.multipleInstances?e:Qo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vk(t){return t===Qo?void 0:t}function yk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Et||(Et={}));const xk={debug:Et.DEBUG,verbose:Et.VERBOSE,info:Et.INFO,warn:Et.WARN,error:Et.ERROR,silent:Et.SILENT},wk=Et.INFO,_k={[Et.DEBUG]:"log",[Et.VERBOSE]:"log",[Et.INFO]:"info",[Et.WARN]:"warn",[Et.ERROR]:"error"},Sk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=_k[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class px{constructor(e){this.name=e,this._logLevel=wk,this._logHandler=Sk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Et.DEBUG,...e),this._logHandler(this,Et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Et.VERBOSE,...e),this._logHandler(this,Et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Et.INFO,...e),this._logHandler(this,Et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Et.WARN,...e),this._logHandler(this,Et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Et.ERROR,...e),this._logHandler(this,Et.ERROR,...e)}}const Tk=(t,e)=>e.some(n=>t instanceof n);let rE,iE;function Ek(){return rE||(rE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ak(){return iE||(iE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sN=new WeakMap,Z0=new WeakMap,aN=new WeakMap,Qy=new WeakMap,gx=new WeakMap;function Ck(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(no(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&sN.set(n,t)}).catch(()=>{}),gx.set(e,t),e}function Rk(t){if(Z0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Z0.set(t,e)}let J0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Z0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||aN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return no(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Nk(t){J0=t(J0)}function Ik(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Zy(this),e,...n);return aN.set(r,e.sort?e.sort():[e]),no(r)}:Ak().includes(t)?function(...e){return t.apply(Zy(this),e),no(sN.get(this))}:function(...e){return no(t.apply(Zy(this),e))}}function Mk(t){return typeof t=="function"?Ik(t):(t instanceof IDBTransaction&&Rk(t),Tk(t,Ek())?new Proxy(t,J0):t)}function no(t){if(t instanceof IDBRequest)return Ck(t);if(Qy.has(t))return Qy.get(t);const e=Mk(t);return e!==t&&(Qy.set(t,e),gx.set(e,t)),e}const Zy=t=>gx.get(t);function Ok(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(t,e),c=no(l);return r&&l.addEventListener("upgradeneeded",d=>{r(no(l.result),d.oldVersion,d.newVersion,no(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const Pk=["get","getKey","getAll","getAllKeys","count"],Dk=["put","add","delete","clear"],Jy=new Map;function sE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jy.get(e))return Jy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Dk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Pk.includes(n)))return;const o=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let f=d.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[n](...c),i&&d.done]))[0]};return Jy.set(e,o),o}Nk(t=>({...t,get:(e,n,r)=>sE(e,n)||t.get(e,n,r),has:(e,n)=>!!sE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kk(t){const e=t.getComponent();return e?.type==="VERSION"}const eb="@firebase/app",aE="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new px("@firebase/app"),Lk="@firebase/app-compat",Vk="@firebase/analytics-compat",Uk="@firebase/analytics",zk="@firebase/app-check-compat",Bk="@firebase/app-check",Fk="@firebase/auth",Hk="@firebase/auth-compat",$k="@firebase/database",qk="@firebase/data-connect",Gk="@firebase/database-compat",Kk="@firebase/functions",Wk="@firebase/functions-compat",Yk="@firebase/installations",Xk="@firebase/installations-compat",Qk="@firebase/messaging",Zk="@firebase/messaging-compat",Jk="@firebase/performance",eL="@firebase/performance-compat",tL="@firebase/remote-config",nL="@firebase/remote-config-compat",rL="@firebase/storage",iL="@firebase/storage-compat",sL="@firebase/firestore",aL="@firebase/ai",oL="@firebase/firestore-compat",lL="firebase",uL="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="[DEFAULT]",cL={[eb]:"fire-core",[Lk]:"fire-core-compat",[Uk]:"fire-analytics",[Vk]:"fire-analytics-compat",[Bk]:"fire-app-check",[zk]:"fire-app-check-compat",[Fk]:"fire-auth",[Hk]:"fire-auth-compat",[$k]:"fire-rtdb",[qk]:"fire-data-connect",[Gk]:"fire-rtdb-compat",[Kk]:"fire-fn",[Wk]:"fire-fn-compat",[Yk]:"fire-iid",[Xk]:"fire-iid-compat",[Qk]:"fire-fcm",[Zk]:"fire-fcm-compat",[Jk]:"fire-perf",[eL]:"fire-perf-compat",[tL]:"fire-rc",[nL]:"fire-rc-compat",[rL]:"fire-gcs",[iL]:"fire-gcs-compat",[sL]:"fire-fst",[oL]:"fire-fst-compat",[aL]:"fire-vertex","fire-js":"fire-js",[lL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap=new Map,dL=new Map,nb=new Map;function oE(t,e){try{t.container.addComponent(e)}catch(n){la.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ul(t){const e=t.name;if(nb.has(e))return la.debug(`There were multiple attempts to register component ${e}.`),!1;nb.set(e,t);for(const n of ap.values())oE(n,t);for(const n of dL.values())oE(n,t);return!0}function Zp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Xr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ro=new ph("app","Firebase",hL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new oo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ro.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=uL;function oN(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:tb,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ro.create("bad-app-name",{appName:String(i)});if(n||(n=nN()),!n)throw ro.create("no-options");const o=ap.get(i);if(o){if(ll(n,o.options)&&ll(r,o.config))return o;throw ro.create("duplicate-app",{appName:i})}const l=new bk(i);for(const d of nb.values())l.addComponent(d);const c=new fL(n,r,l);return ap.set(i,c),c}function vx(t=tb){const e=ap.get(t);if(!e&&t===tb&&nN())return oN();if(!e)throw ro.create("no-app",{appName:t});return e}function ms(t,e,n){var r;let i=(r=cL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),la.warn(c.join(" "));return}ul(new oo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL="firebase-heartbeat-database",pL=1,Kd="firebase-heartbeat-store";let e0=null;function lN(){return e0||(e0=Ok(mL,pL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Kd)}catch(n){console.warn(n)}}}}).catch(t=>{throw ro.create("idb-open",{originalErrorMessage:t.message})})),e0}async function gL(t){try{const n=(await lN()).transaction(Kd),r=await n.objectStore(Kd).get(uN(t));return await n.done,r}catch(e){if(e instanceof Ns)la.warn(e.message);else{const n=ro.create("idb-get",{originalErrorMessage:e?.message});la.warn(n.message)}}}async function lE(t,e){try{const r=(await lN()).transaction(Kd,"readwrite");await r.objectStore(Kd).put(e,uN(t)),await r.done}catch(n){if(n instanceof Ns)la.warn(n.message);else{const r=ro.create("idb-set",{originalErrorMessage:n?.message});la.warn(r.message)}}}function uN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=1024,yL=30;class bL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new wL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=uE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>yL){const l=_L(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){la.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=uE(),{heartbeatsToSend:r,unsentEntries:i}=xL(this._heartbeatsCache.heartbeats),o=sp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return la.warn(n),""}}}function uE(){return new Date().toISOString().substring(0,10)}function xL(t,e=vL){const n=[];let r=t.slice();for(const i of t){const o=n.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),cE(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),cE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class wL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ok()?lk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return lE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return lE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function cE(t){return sp(JSON.stringify({version:2,heartbeats:t})).length}function _L(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(t){ul(new oo("platform-logger",e=>new jk(e),"PRIVATE")),ul(new oo("heartbeat",e=>new bL(e),"PRIVATE")),ms(eb,aE,t),ms(eb,aE,"esm2017"),ms("fire-js","")}SL("");var TL="firebase",EL="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ms(TL,EL,"app");function yx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function cN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AL=cN,dN=new ph("auth","Firebase",cN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op=new px("@firebase/auth");function CL(t,...e){op.logLevel<=Et.WARN&&op.warn(`Auth (${xl}): ${t}`,...e)}function jm(t,...e){op.logLevel<=Et.ERROR&&op.error(`Auth (${xl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(t,...e){throw bx(t,...e)}function ps(t,...e){return bx(t,...e)}function hN(t,e,n){const r=Object.assign(Object.assign({},AL()),{[e]:n});return new ph("auth","Firebase",r).create(e,{appName:t.name})}function ra(t){return hN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return dN.create(t,...e)}function We(t,e,...n){if(!t)throw bx(e,...n)}function ta(t){const e="INTERNAL ASSERTION FAILED: "+t;throw jm(e),new Error(e)}function ua(t,e){t||ta(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function fN(){return dE()==="http:"||dE()==="https:"}function dE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fN()||rk()||"connection"in navigator)?navigator.onLine:!0}function NL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n){this.shortDelay=e,this.longDelay=n,ua(n>e,"Short delay should be less than long delay!"),this.isMobile=ek()||ik()}get(){return RL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(t,e){ua(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ta("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ta("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ta("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],OL=new vh(3e4,6e4);function Ai(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ni(t,e,n,r,i={}){return pN(t,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=gh(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const f=Object.assign({method:e,headers:d},o);return nk()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&vo(t.emulatorConfig.host)&&(f.credentials="include"),mN.fetch()(await gN(t,t.config.apiHost,n,c),f)})}async function pN(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},IL),e);try{const i=new DL(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw cm(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[d,f]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw cm(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw cm(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw cm(t,"user-disabled",l);const p=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw hN(t,p,f);Si(t,p)}}catch(i){if(i instanceof Ns)throw i;Si(t,"network-request-failed",{message:String(i)})}}async function yh(t,e,n,r,i={}){const o=await ni(t,e,n,r,i);return"mfaPendingCredential"in o&&Si(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function gN(t,e,n,r){const i=`${e}${n}?${r}`,o=t,l=o.config.emulator?xx(t.config,i):`${t.config.apiScheme}://${i}`;return ML.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function PL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class DL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ps(this.auth,"network-request-failed")),OL.get())})}}function cm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ps(t,e,r);return i.customData._tokenResponse=n,i}function hE(t){return t!==void 0&&t.enterprise!==void 0}class jL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return PL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kL(t,e){return ni(t,"GET","/v2/recaptchaConfig",Ai(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LL(t,e){return ni(t,"POST","/v1/accounts:delete",e)}async function up(t,e){return ni(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VL(t,e=!1){const n=Yt(t),r=await n.getIdToken(e),i=wx(r);We(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o?.sign_in_provider;return{claims:i,token:r,authTime:Dd(t0(i.auth_time)),issuedAtTime:Dd(t0(i.iat)),expirationTime:Dd(t0(i.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function t0(t){return Number(t)*1e3}function wx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return jm("JWT malformed, contained fewer than 3 sections"),null;try{const i=JR(n);return i?JSON.parse(i):(jm("Failed to decode base64 JWT payload"),null)}catch(i){return jm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function fE(t){const e=wx(t);return We(e,"internal-error"),We(typeof e.exp<"u","internal-error"),We(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ns&&UL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function UL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dd(this.lastLoginAt),this.creationTime=Dd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Lu(t,up(n,{idToken:r}));We(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?vN(o.providerUserInfo):[],c=FL(t.providerData,l),d=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!c?.length,p=d?f:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new rb(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function BL(t){const e=Yt(t);await cp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function FL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function vN(t){return t.map(e=>{var{providerId:n}=e,r=yx(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HL(t,e){const n=await pN(t,{},async()=>{const r=gh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,l=await gN(t,i,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&vo(t.emulatorConfig.host)&&(d.credentials="include"),mN.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $L(t,e){return ni(t,"POST","/v2/accounts:revokeToken",Ai(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){We(e.idToken,"internal-error"),We(typeof e.idToken<"u","internal-error"),We(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){We(e.length!==0,"internal-error");const n=fE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(We(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await HL(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,l=new Ru;return r&&(We(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(We(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(We(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ru,this.toJSON())}_performRefresh(){return ta("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(t,e){We(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Pi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=yx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new rb(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Lu(this,this.stsTokenManager.getToken(this.auth,e));return We(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return VL(this,e)}reload(){return BL(this)}_assign(e){this!==e&&(We(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Pi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await cp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xr(this.auth.app))return Promise.reject(ra(this.auth));const e=await this.getIdToken();return await Lu(this,LL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,l,c,d,f,p;const y=(r=n.displayName)!==null&&r!==void 0?r:void 0,x=(i=n.email)!==null&&i!==void 0?i:void 0,E=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,N=(l=n.photoURL)!==null&&l!==void 0?l:void 0,P=(c=n.tenantId)!==null&&c!==void 0?c:void 0,V=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,D=(f=n.createdAt)!==null&&f!==void 0?f:void 0,B=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:F,emailVerified:Y,isAnonymous:M,providerData:O,stsTokenManager:C}=n;We(F&&C,e,"internal-error");const I=Ru.fromJSON(this.name,C);We(typeof F=="string",e,"internal-error"),$a(y,e.name),$a(x,e.name),We(typeof Y=="boolean",e,"internal-error"),We(typeof M=="boolean",e,"internal-error"),$a(E,e.name),$a(N,e.name),$a(P,e.name),$a(V,e.name),$a(D,e.name),$a(B,e.name);const R=new Pi({uid:F,auth:e,email:x,emailVerified:Y,displayName:y,isAnonymous:M,photoURL:N,phoneNumber:E,tenantId:P,stsTokenManager:I,createdAt:D,lastLoginAt:B});return O&&Array.isArray(O)&&(R.providerData=O.map(T=>Object.assign({},T))),V&&(R._redirectEventId=V),R}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ru;i.updateFromServerResponse(n);const o=new Pi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await cp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];We(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?vN(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!o?.length,c=new Ru;c.updateFromIdToken(r);const d=new Pi({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new rb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(d,f),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=new Map;function na(t){ua(t instanceof Function,"Expected a class definition");let e=mE.get(t);return e?(ua(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}yN.type="NONE";const pE=yN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(t,e,n){return`firebase:${t}:${e}:${n}`}class Nu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=km(this.userKey,i.apiKey,o),this.fullPersistenceKey=km("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await up(this.auth,{idToken:e}).catch(()=>{});return n?Pi._fromGetAccountInfoResponse(this.auth,n,e):null}return Pi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Nu(na(pE),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||na(pE);const l=km(r,e.config.apiKey,e.name);let c=null;for(const f of n)try{const p=await f._get(l);if(p){let y;if(typeof p=="string"){const x=await up(e,{idToken:p}).catch(()=>{});if(!x)break;y=await Pi._fromGetAccountInfoResponse(e,x,p)}else y=Pi._fromJSON(e,p);f!==o&&(c=y),o=f;break}}catch{}const d=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Nu(o,e,r):(o=d[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new Nu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_N(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TN(e))return"Blackberry";if(EN(e))return"Webos";if(xN(e))return"Safari";if((e.includes("chrome/")||wN(e))&&!e.includes("edge/"))return"Chrome";if(SN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function bN(t=gr()){return/firefox\//i.test(t)}function xN(t=gr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wN(t=gr()){return/crios\//i.test(t)}function _N(t=gr()){return/iemobile/i.test(t)}function SN(t=gr()){return/android/i.test(t)}function TN(t=gr()){return/blackberry/i.test(t)}function EN(t=gr()){return/webos/i.test(t)}function _x(t=gr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qL(t=gr()){var e;return _x(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function GL(){return sk()&&document.documentMode===10}function AN(t=gr()){return _x(t)||SN(t)||EN(t)||TN(t)||/windows phone/i.test(t)||_N(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t,e=[]){let n;switch(t){case"Browser":n=gE(gr());break;case"Worker":n=`${gE(gr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,c)=>{try{const d=e(o);l(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WL(t,e={}){return ni(t,"GET","/v2/passwordPolicy",Ai(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=6;class XL{constructor(e){var n,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:YL,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vE(this),this.idTokenSubscription=new vE(this),this.beforeStateQueue=new KL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=na(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Nu.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await up(this,{idToken:e}),r=await Pi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Xr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return We(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cp(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xr(this.app))return Promise.reject(ra(this));const n=e?Yt(e):null;return n&&We(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&We(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xr(this.app)?Promise.reject(ra(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xr(this.app)?Promise.reject(ra(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(na(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await WL(this),n=new XL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ph("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await $L(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&na(e)||this._popupRedirectResolver;We(n,this,"argument-error"),this.redirectPersistenceManager=await Nu.create(this,[na(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(We(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Xr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&CL(`Error while retrieving App Check token: ${n.error}`),n?.token}}function pa(t){return Yt(t)}class vE{constructor(e){this.auth=e,this.observer=null,this.addObserver=fk(n=>this.observer=n)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZL(t){Jp=t}function RN(t){return Jp.loadJS(t)}function JL(){return Jp.recaptchaEnterpriseScript}function eV(){return Jp.gapiScript}function tV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class nV{constructor(){this.enterprise=new rV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class rV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const iV="recaptcha-enterprise",NN="NO_RECAPTCHA";class sV{constructor(e){this.type=iV,this.auth=pa(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{kL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new jL(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(d=>{c(d)})})}function i(o,l,c){const d=window.grecaptcha;hE(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(f=>{l(f)}).catch(()=>{l(NN)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new nV().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(c=>{if(!n&&hE(window.grecaptcha))i(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=JL();d.length!==0&&(d+=c),RN(d).then(()=>{i(c,o,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function yE(t,e,n,r=!1,i=!1){const o=new sV(t);let l;if(i)l=NN;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function dp(t,e,n,r,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await yE(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await yE(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(t,e){const n=Zp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(ll(o,e??{}))return i;Si(i,"already-initialized")}return n.initialize({options:e})}function oV(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(na);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function lV(t,e,n){const r=pa(t);We(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=IN(e),{host:l,port:c}=uV(e),d=c===null?"":`:${c}`,f={url:`${o}//${l}${d}/`},p=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){We(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),We(ll(f,r.config.emulator)&&ll(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,vo(l)?(fx(`${o}//${l}${d}`),mx("Auth",!0)):cV()}function IN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function uV(t){const e=IN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:bE(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:bE(l)}}}function bE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function cV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ta("not implemented")}_getIdTokenResponse(e){return ta("not implemented")}_linkToIdToken(e,n){return ta("not implemented")}_getReauthenticationResolver(e){return ta("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(t,e){return ni(t,"POST","/v1/accounts:resetPassword",Ai(t,e))}async function dV(t,e){return ni(t,"POST","/v1/accounts:signUp",e)}async function hV(t,e){return ni(t,"POST","/v1/accounts:update",Ai(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fV(t,e){return yh(t,"POST","/v1/accounts:signInWithPassword",Ai(t,e))}async function mV(t,e){return ni(t,"POST","/v1/accounts:sendOobCode",Ai(t,e))}async function pV(t,e){return mV(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gV(t,e){return yh(t,"POST","/v1/accounts:signInWithEmailLink",Ai(t,e))}async function vV(t,e){return yh(t,"POST","/v1/accounts:signInWithEmailLink",Ai(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd extends Sx{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Wd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Wd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dp(e,n,"signInWithPassword",fV);case"emailLink":return gV(e,{email:this._email,oobCode:this._password});default:Si(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dp(e,r,"signUpPassword",dV);case"emailLink":return vV(e,{idToken:n,email:this._email,oobCode:this._password});default:Si(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Iu(t,e){return yh(t,"POST","/v1/accounts:signInWithIdp",Ai(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV="http://localhost";class cl extends Sx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new cl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Si("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=yx(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new cl(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Iu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Iu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Iu(e,n)}buildRequest(){const e={requestUri:yV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xV(t){const e=Td(Ed(t)).link,n=e?Td(Ed(e)).deep_link_id:null,r=Td(Ed(t)).deep_link_id;return(r?Td(Ed(r)).link:null)||r||n||e||t}class Tx{constructor(e){var n,r,i,o,l,c;const d=Td(Ed(e)),f=(n=d.apiKey)!==null&&n!==void 0?n:null,p=(r=d.oobCode)!==null&&r!==void 0?r:null,y=bV((i=d.mode)!==null&&i!==void 0?i:null);We(f&&p&&y,"argument-error"),this.apiKey=f,this.operation=y,this.code=p,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.lang)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=xV(e);try{return new Tx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(){this.providerId=ec.PROVIDER_ID}static credential(e,n){return Wd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Tx.parseLink(n);return We(r,"argument-error"),Wd._fromEmailAndCode(e,r.code,r.tenantId)}}ec.PROVIDER_ID="password";ec.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ec.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh extends ON{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa extends bh{constructor(){super("facebook.com")}static credential(e){return cl._fromParams({providerId:Wa.PROVIDER_ID,signInMethod:Wa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wa.credentialFromTaggedObject(e)}static credentialFromError(e){return Wa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wa.credential(e.oauthAccessToken)}catch{return null}}}Wa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends bh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return cl._fromParams({providerId:Ya.PROVIDER_ID,signInMethod:Ya.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ya.credentialFromTaggedObject(e)}static credentialFromError(e){return Ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ya.credential(n,r)}catch{return null}}}Ya.GOOGLE_SIGN_IN_METHOD="google.com";Ya.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends bh{constructor(){super("github.com")}static credential(e){return cl._fromParams({providerId:Xa.PROVIDER_ID,signInMethod:Xa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xa.credentialFromTaggedObject(e)}static credentialFromError(e){return Xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xa.credential(e.oauthAccessToken)}catch{return null}}}Xa.GITHUB_SIGN_IN_METHOD="github.com";Xa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends bh{constructor(){super("twitter.com")}static credential(e,n){return cl._fromParams({providerId:Qa.PROVIDER_ID,signInMethod:Qa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qa.credentialFromTaggedObject(e)}static credentialFromError(e){return Qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qa.credential(n,r)}catch{return null}}}Qa.TWITTER_SIGN_IN_METHOD="twitter.com";Qa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wV(t,e){return yh(t,"POST","/v1/accounts:signUp",Ai(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Pi._fromIdTokenResponse(e,r,i),l=xE(r);return new dl({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=xE(r);return new dl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function xE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp extends Ns{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,hp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new hp(e,n,r,i)}}function PN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?hp._fromErrorAndOperation(t,o,e,r):o})}async function _V(t,e,n=!1){const r=await Lu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return dl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SV(t,e,n=!1){const{auth:r}=t;if(Xr(r.app))return Promise.reject(ra(r));const i="reauthenticate";try{const o=await Lu(t,PN(r,i,e,t),n);We(o.idToken,r,"internal-error");const l=wx(o.idToken);We(l,r,"internal-error");const{sub:c}=l;return We(t.uid===c,r,"user-mismatch"),dl._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Si(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(t,e,n=!1){if(Xr(t.app))return Promise.reject(ra(t));const r="signIn",i=await PN(t,r,e),o=await dl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function TV(t,e){return DN(pa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?Ax._fromServerResponse(e,n):"totpInfo"in n?Cx._fromServerResponse(e,n):Si(e,"internal-error")}}class Ax extends Ex{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new Ax(n)}}class Cx extends Ex{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new Cx(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rx(t){const e=pa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function EV(t,e,n){const r=pa(t);await dp(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",pV)}async function AV(t,e,n){await MN(Yt(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Rx(t),r})}async function wE(t,e){await hV(Yt(t),{oobCode:e})}async function CV(t,e){const n=Yt(t),r=await MN(n,{oobCode:e}),i=r.requestType;switch(We(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":We(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":We(r.mfaInfo,n,"internal-error");default:We(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=Ex._fromServerResponse(pa(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function RV(t,e,n){if(Xr(t.app))return Promise.reject(ra(t));const r=pa(t),l=await dp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wV).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&Rx(t),d}),c=await dl._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function NV(t,e,n){return Xr(t.app)?Promise.reject(ra(t)):TV(Yt(t),ec.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Rx(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IV(t,e){return ni(t,"POST","/v1/accounts:createAuthUri",Ai(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MV(t,e){const n=fN()?lp():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await IV(Yt(t),r);return i||[]}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OV(t,e){return ni(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Yt(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await Lu(r,OV(r.auth,o));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function PV(t,e,n,r){return Yt(t).onIdTokenChanged(e,n,r)}function DV(t,e,n){return Yt(t).beforeAuthStateChanged(e,n)}function jV(t){return Yt(t).signOut()}const fp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fp,"1"),this.storage.removeItem(fp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV=1e3,LV=10;class LN extends kN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);GL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,LV):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},kV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}LN.type="LOCAL";const VV=LN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN extends kN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}VN.type="SESSION";const UN=VN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new eg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async f=>f(n.origin,o)),d=await UV(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}eg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,d)=>{const f=Nx("",20);i.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(y){const x=y;if(x.data.eventId===f)switch(x.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(x.data.response);break;default:clearTimeout(p),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(){return window}function BV(t){gs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zN(){return typeof gs().WorkerGlobalScope<"u"&&typeof gs().importScripts=="function"}async function FV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HV(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function $V(){return zN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="firebaseLocalStorageDb",qV=1,mp="firebaseLocalStorage",FN="fbase_key";class xh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tg(t,e){return t.transaction([mp],e?"readwrite":"readonly").objectStore(mp)}function GV(){const t=indexedDB.deleteDatabase(BN);return new xh(t).toPromise()}function ib(){const t=indexedDB.open(BN,qV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(mp,{keyPath:FN})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(mp)?e(r):(r.close(),await GV(),e(await ib()))})})}async function _E(t,e,n){const r=tg(t,!0).put({[FN]:e,value:n});return new xh(r).toPromise()}async function KV(t,e){const n=tg(t,!1).get(e),r=await new xh(n).toPromise();return r===void 0?null:r.value}function SE(t,e){const n=tg(t,!0).delete(e);return new xh(n).toPromise()}const WV=800,YV=3;class HN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ib(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>YV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=eg._getInstance($V()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await FV(),!this.activeServiceWorker)return;this.sender=new zV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||HV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ib();return await _E(e,fp,"1"),await SE(e,fp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>_E(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>KV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>SE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=tg(i,!1).getAll();return new xh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HN.type="LOCAL";const XV=HN;new vh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(t,e){return e?na(e):(We(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix extends Sx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Iu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Iu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Iu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ZV(t){return DN(t.auth,new Ix(t),t.bypassAuthState)}function JV(t){const{auth:e,user:n}=t;return We(n,e,"internal-error"),SV(n,new Ix(t),t.bypassAuthState)}async function e3(t){const{auth:e,user:n}=t;return We(n,e,"internal-error"),_V(n,new Ix(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ZV;case"linkViaPopup":case"linkViaRedirect":return e3;case"reauthViaPopup":case"reauthViaRedirect":return JV;default:Si(this.auth,"internal-error")}}resolve(e){ua(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ua(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=new vh(2e3,1e4);class vu extends $N{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,vu.currentPopupAction&&vu.currentPopupAction.cancel(),vu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return We(e,this.auth,"internal-error"),e}async onExecution(){ua(this.filter.length===1,"Popup operations only handle one event");const e=Nx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ps(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ps(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ps(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,t3.get())};e()}}vu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3="pendingRedirect",Lm=new Map;class r3 extends $N{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Lm.get(this.auth._key());if(!e){try{const r=await i3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Lm.set(this.auth._key(),e)}return this.bypassAuthState||Lm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function i3(t,e){const n=o3(e),r=a3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function s3(t,e){Lm.set(t._key(),e)}function a3(t){return na(t._redirectPersistence)}function o3(t){return km(n3,t.config.apiKey,t.name)}async function l3(t,e,n=!1){if(Xr(t.app))return Promise.reject(ra(t));const r=pa(t),i=QV(r,e),l=await new r3(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=10*60*1e3;class c3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!d3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!qN(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ps(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=u3&&this.cachedEventUids.clear(),this.cachedEventUids.has(TE(e))}saveEventToCache(e){this.cachedEventUids.add(TE(e)),this.lastProcessedEventTime=Date.now()}}function TE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function qN({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function d3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h3(t,e={}){return ni(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,m3=/^https?/;async function p3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await h3(t);for(const n of e)try{if(g3(n))return}catch{}Si(t,"unauthorized-domain")}function g3(t){const e=lp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!m3.test(n))return!1;if(f3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3=new vh(3e4,6e4);function EE(){const t=gs().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function y3(t){return new Promise((e,n)=>{var r,i,o;function l(){EE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{EE(),n(ps(t,"network-request-failed"))},timeout:v3.get()})}if(!((i=(r=gs().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=gs().gapi)===null||o===void 0)&&o.load)l();else{const c=tV("iframefcb");return gs()[c]=()=>{gapi.load?l():n(ps(t,"network-request-failed"))},RN(`${eV()}?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw Vm=null,e})}let Vm=null;function b3(t){return Vm=Vm||y3(t),Vm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=new vh(5e3,15e3),w3="__/auth/iframe",_3="emulator/auth/iframe",S3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},T3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function E3(t){const e=t.config;We(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?xx(e,_3):`https://${t.config.authDomain}/${w3}`,r={apiKey:e.apiKey,appName:t.name,v:xl},i=T3.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${gh(r).slice(1)}`}async function A3(t){const e=await b3(t),n=gs().gapi;return We(n,t,"internal-error"),e.open({where:document.body,url:E3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:S3,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=ps(t,"network-request-failed"),c=gs().setTimeout(()=>{o(l)},x3.get());function d(){gs().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},R3=500,N3=600,I3="_blank",M3="http://localhost";class AE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function O3(t,e,n,r=R3,i=N3){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d=Object.assign(Object.assign({},C3),{width:r.toString(),height:i.toString(),top:o,left:l}),f=gr().toLowerCase();n&&(c=wN(f)?I3:n),bN(f)&&(e=e||M3,d.scrollbars="yes");const p=Object.entries(d).reduce((x,[E,N])=>`${x}${E}=${N},`,"");if(qL(f)&&c!=="_self")return P3(e||"",c),new AE(null);const y=window.open(e||"",c,p);We(y,t,"popup-blocked");try{y.focus()}catch{}return new AE(y)}function P3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3="__/auth/handler",j3="emulator/auth/handler",k3=encodeURIComponent("fac");async function CE(t,e,n,r,i,o){We(t.config.authDomain,t,"auth-domain-config-required"),We(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:xl,eventId:i};if(e instanceof ON){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",hk(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,y]of Object.entries({}))l[p]=y}if(e instanceof bh){const p=e.getScopes().filter(y=>y!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const d=await t._getAppCheckToken(),f=d?`#${k3}=${encodeURIComponent(d)}`:"";return`${L3(t)}?${gh(c).slice(1)}${f}`}function L3({config:t}){return t.emulator?xx(t,j3):`https://${t.authDomain}/${D3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="webStorageSupport";class V3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UN,this._completeRedirectFn=l3,this._overrideRedirectResult=s3}async _openPopup(e,n,r,i){var o;ua((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await CE(e,n,r,lp(),i);return O3(e,l,Nx())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await CE(e,n,r,lp(),i);return BV(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ua(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await A3(e),r=new c3(e);return n.register("authEvent",i=>(We(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(n0,{type:n0},i=>{var o;const l=(o=i?.[0])===null||o===void 0?void 0:o[n0];l!==void 0&&n(!!l),Si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=p3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return AN()||xN()||_x()}}const U3=V3;var RE="@firebase/auth",NE="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function F3(t){ul(new oo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;We(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CN(t)},f=new QL(r,i,o,d);return oV(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ul(new oo("auth-internal",e=>{const n=pa(e.getProvider("auth").getImmediate());return(r=>new z3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ms(RE,NE,B3(t)),ms(RE,NE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3=5*60,$3=rN("authIdTokenMaxAge")||H3;let IE=null;const q3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$3)return;const i=n?.token;IE!==i&&(IE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function GN(t=vx()){const e=Zp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=aV(t,{popupRedirectResolver:U3,persistence:[XV,VV,UN]}),r=rN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=q3(o.toString());DV(n,l,()=>l(n.currentUser)),PV(n,c=>l(c))}}const i=eN("auth");return i&&lV(n,`http://${i}`),n}function G3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ZL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=ps("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",G3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});F3("Browser");var ME=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var io,KN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,I){function R(){}R.prototype=I.prototype,C.D=I.prototype,C.prototype=new R,C.prototype.constructor=C,C.C=function(T,U,$){for(var j=Array(arguments.length-2),G=2;G<arguments.length;G++)j[G-2]=arguments[G];return I.prototype[U].apply(T,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,I,R){R||(R=0);var T=Array(16);if(typeof I=="string")for(var U=0;16>U;++U)T[U]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(U=0;16>U;++U)T[U]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=C.g[0],R=C.g[1],U=C.g[2];var $=C.g[3],j=I+($^R&(U^$))+T[0]+3614090360&4294967295;I=R+(j<<7&4294967295|j>>>25),j=$+(U^I&(R^U))+T[1]+3905402710&4294967295,$=I+(j<<12&4294967295|j>>>20),j=U+(R^$&(I^R))+T[2]+606105819&4294967295,U=$+(j<<17&4294967295|j>>>15),j=R+(I^U&($^I))+T[3]+3250441966&4294967295,R=U+(j<<22&4294967295|j>>>10),j=I+($^R&(U^$))+T[4]+4118548399&4294967295,I=R+(j<<7&4294967295|j>>>25),j=$+(U^I&(R^U))+T[5]+1200080426&4294967295,$=I+(j<<12&4294967295|j>>>20),j=U+(R^$&(I^R))+T[6]+2821735955&4294967295,U=$+(j<<17&4294967295|j>>>15),j=R+(I^U&($^I))+T[7]+4249261313&4294967295,R=U+(j<<22&4294967295|j>>>10),j=I+($^R&(U^$))+T[8]+1770035416&4294967295,I=R+(j<<7&4294967295|j>>>25),j=$+(U^I&(R^U))+T[9]+2336552879&4294967295,$=I+(j<<12&4294967295|j>>>20),j=U+(R^$&(I^R))+T[10]+4294925233&4294967295,U=$+(j<<17&4294967295|j>>>15),j=R+(I^U&($^I))+T[11]+2304563134&4294967295,R=U+(j<<22&4294967295|j>>>10),j=I+($^R&(U^$))+T[12]+1804603682&4294967295,I=R+(j<<7&4294967295|j>>>25),j=$+(U^I&(R^U))+T[13]+4254626195&4294967295,$=I+(j<<12&4294967295|j>>>20),j=U+(R^$&(I^R))+T[14]+2792965006&4294967295,U=$+(j<<17&4294967295|j>>>15),j=R+(I^U&($^I))+T[15]+1236535329&4294967295,R=U+(j<<22&4294967295|j>>>10),j=I+(U^$&(R^U))+T[1]+4129170786&4294967295,I=R+(j<<5&4294967295|j>>>27),j=$+(R^U&(I^R))+T[6]+3225465664&4294967295,$=I+(j<<9&4294967295|j>>>23),j=U+(I^R&($^I))+T[11]+643717713&4294967295,U=$+(j<<14&4294967295|j>>>18),j=R+($^I&(U^$))+T[0]+3921069994&4294967295,R=U+(j<<20&4294967295|j>>>12),j=I+(U^$&(R^U))+T[5]+3593408605&4294967295,I=R+(j<<5&4294967295|j>>>27),j=$+(R^U&(I^R))+T[10]+38016083&4294967295,$=I+(j<<9&4294967295|j>>>23),j=U+(I^R&($^I))+T[15]+3634488961&4294967295,U=$+(j<<14&4294967295|j>>>18),j=R+($^I&(U^$))+T[4]+3889429448&4294967295,R=U+(j<<20&4294967295|j>>>12),j=I+(U^$&(R^U))+T[9]+568446438&4294967295,I=R+(j<<5&4294967295|j>>>27),j=$+(R^U&(I^R))+T[14]+3275163606&4294967295,$=I+(j<<9&4294967295|j>>>23),j=U+(I^R&($^I))+T[3]+4107603335&4294967295,U=$+(j<<14&4294967295|j>>>18),j=R+($^I&(U^$))+T[8]+1163531501&4294967295,R=U+(j<<20&4294967295|j>>>12),j=I+(U^$&(R^U))+T[13]+2850285829&4294967295,I=R+(j<<5&4294967295|j>>>27),j=$+(R^U&(I^R))+T[2]+4243563512&4294967295,$=I+(j<<9&4294967295|j>>>23),j=U+(I^R&($^I))+T[7]+1735328473&4294967295,U=$+(j<<14&4294967295|j>>>18),j=R+($^I&(U^$))+T[12]+2368359562&4294967295,R=U+(j<<20&4294967295|j>>>12),j=I+(R^U^$)+T[5]+4294588738&4294967295,I=R+(j<<4&4294967295|j>>>28),j=$+(I^R^U)+T[8]+2272392833&4294967295,$=I+(j<<11&4294967295|j>>>21),j=U+($^I^R)+T[11]+1839030562&4294967295,U=$+(j<<16&4294967295|j>>>16),j=R+(U^$^I)+T[14]+4259657740&4294967295,R=U+(j<<23&4294967295|j>>>9),j=I+(R^U^$)+T[1]+2763975236&4294967295,I=R+(j<<4&4294967295|j>>>28),j=$+(I^R^U)+T[4]+1272893353&4294967295,$=I+(j<<11&4294967295|j>>>21),j=U+($^I^R)+T[7]+4139469664&4294967295,U=$+(j<<16&4294967295|j>>>16),j=R+(U^$^I)+T[10]+3200236656&4294967295,R=U+(j<<23&4294967295|j>>>9),j=I+(R^U^$)+T[13]+681279174&4294967295,I=R+(j<<4&4294967295|j>>>28),j=$+(I^R^U)+T[0]+3936430074&4294967295,$=I+(j<<11&4294967295|j>>>21),j=U+($^I^R)+T[3]+3572445317&4294967295,U=$+(j<<16&4294967295|j>>>16),j=R+(U^$^I)+T[6]+76029189&4294967295,R=U+(j<<23&4294967295|j>>>9),j=I+(R^U^$)+T[9]+3654602809&4294967295,I=R+(j<<4&4294967295|j>>>28),j=$+(I^R^U)+T[12]+3873151461&4294967295,$=I+(j<<11&4294967295|j>>>21),j=U+($^I^R)+T[15]+530742520&4294967295,U=$+(j<<16&4294967295|j>>>16),j=R+(U^$^I)+T[2]+3299628645&4294967295,R=U+(j<<23&4294967295|j>>>9),j=I+(U^(R|~$))+T[0]+4096336452&4294967295,I=R+(j<<6&4294967295|j>>>26),j=$+(R^(I|~U))+T[7]+1126891415&4294967295,$=I+(j<<10&4294967295|j>>>22),j=U+(I^($|~R))+T[14]+2878612391&4294967295,U=$+(j<<15&4294967295|j>>>17),j=R+($^(U|~I))+T[5]+4237533241&4294967295,R=U+(j<<21&4294967295|j>>>11),j=I+(U^(R|~$))+T[12]+1700485571&4294967295,I=R+(j<<6&4294967295|j>>>26),j=$+(R^(I|~U))+T[3]+2399980690&4294967295,$=I+(j<<10&4294967295|j>>>22),j=U+(I^($|~R))+T[10]+4293915773&4294967295,U=$+(j<<15&4294967295|j>>>17),j=R+($^(U|~I))+T[1]+2240044497&4294967295,R=U+(j<<21&4294967295|j>>>11),j=I+(U^(R|~$))+T[8]+1873313359&4294967295,I=R+(j<<6&4294967295|j>>>26),j=$+(R^(I|~U))+T[15]+4264355552&4294967295,$=I+(j<<10&4294967295|j>>>22),j=U+(I^($|~R))+T[6]+2734768916&4294967295,U=$+(j<<15&4294967295|j>>>17),j=R+($^(U|~I))+T[13]+1309151649&4294967295,R=U+(j<<21&4294967295|j>>>11),j=I+(U^(R|~$))+T[4]+4149444226&4294967295,I=R+(j<<6&4294967295|j>>>26),j=$+(R^(I|~U))+T[11]+3174756917&4294967295,$=I+(j<<10&4294967295|j>>>22),j=U+(I^($|~R))+T[2]+718787259&4294967295,U=$+(j<<15&4294967295|j>>>17),j=R+($^(U|~I))+T[9]+3951481745&4294967295,C.g[0]=C.g[0]+I&4294967295,C.g[1]=C.g[1]+(U+(j<<21&4294967295|j>>>11))&4294967295,C.g[2]=C.g[2]+U&4294967295,C.g[3]=C.g[3]+$&4294967295}r.prototype.u=function(C,I){I===void 0&&(I=C.length);for(var R=I-this.blockSize,T=this.B,U=this.h,$=0;$<I;){if(U==0)for(;$<=R;)i(this,C,$),$+=this.blockSize;if(typeof C=="string"){for(;$<I;)if(T[U++]=C.charCodeAt($++),U==this.blockSize){i(this,T),U=0;break}}else for(;$<I;)if(T[U++]=C[$++],U==this.blockSize){i(this,T),U=0;break}}this.h=U,this.o+=I},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var I=1;I<C.length-8;++I)C[I]=0;var R=8*this.o;for(I=C.length-8;I<C.length;++I)C[I]=R&255,R/=256;for(this.u(C),C=Array(16),I=R=0;4>I;++I)for(var T=0;32>T;T+=8)C[R++]=this.g[I]>>>T&255;return C};function o(C,I){var R=c;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=I(C)}function l(C,I){this.h=I;for(var R=[],T=!0,U=C.length-1;0<=U;U--){var $=C[U]|0;T&&$==I||(R[U]=$,T=!1)}this.g=R}var c={};function d(C){return-128<=C&&128>C?o(C,function(I){return new l([I|0],0>I?-1:0)}):new l([C|0],0>C?-1:0)}function f(C){if(isNaN(C)||!isFinite(C))return y;if(0>C)return V(f(-C));for(var I=[],R=1,T=0;C>=R;T++)I[T]=C/R|0,R*=4294967296;return new l(I,0)}function p(C,I){if(C.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(C.charAt(0)=="-")return V(p(C.substring(1),I));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=f(Math.pow(I,8)),T=y,U=0;U<C.length;U+=8){var $=Math.min(8,C.length-U),j=parseInt(C.substring(U,U+$),I);8>$?($=f(Math.pow(I,$)),T=T.j($).add(f(j))):(T=T.j(R),T=T.add(f(j)))}return T}var y=d(0),x=d(1),E=d(16777216);t=l.prototype,t.m=function(){if(P(this))return-V(this).m();for(var C=0,I=1,R=0;R<this.g.length;R++){var T=this.i(R);C+=(0<=T?T:4294967296+T)*I,I*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(N(this))return"0";if(P(this))return"-"+V(this).toString(C);for(var I=f(Math.pow(C,6)),R=this,T="";;){var U=Y(R,I).g;R=D(R,U.j(I));var $=((0<R.g.length?R.g[0]:R.h)>>>0).toString(C);if(R=U,N(R))return $+T;for(;6>$.length;)$="0"+$;T=$+T}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function N(C){if(C.h!=0)return!1;for(var I=0;I<C.g.length;I++)if(C.g[I]!=0)return!1;return!0}function P(C){return C.h==-1}t.l=function(C){return C=D(this,C),P(C)?-1:N(C)?0:1};function V(C){for(var I=C.g.length,R=[],T=0;T<I;T++)R[T]=~C.g[T];return new l(R,~C.h).add(x)}t.abs=function(){return P(this)?V(this):this},t.add=function(C){for(var I=Math.max(this.g.length,C.g.length),R=[],T=0,U=0;U<=I;U++){var $=T+(this.i(U)&65535)+(C.i(U)&65535),j=($>>>16)+(this.i(U)>>>16)+(C.i(U)>>>16);T=j>>>16,$&=65535,j&=65535,R[U]=j<<16|$}return new l(R,R[R.length-1]&-2147483648?-1:0)};function D(C,I){return C.add(V(I))}t.j=function(C){if(N(this)||N(C))return y;if(P(this))return P(C)?V(this).j(V(C)):V(V(this).j(C));if(P(C))return V(this.j(V(C)));if(0>this.l(E)&&0>C.l(E))return f(this.m()*C.m());for(var I=this.g.length+C.g.length,R=[],T=0;T<2*I;T++)R[T]=0;for(T=0;T<this.g.length;T++)for(var U=0;U<C.g.length;U++){var $=this.i(T)>>>16,j=this.i(T)&65535,G=C.i(U)>>>16,Z=C.i(U)&65535;R[2*T+2*U]+=j*Z,B(R,2*T+2*U),R[2*T+2*U+1]+=$*Z,B(R,2*T+2*U+1),R[2*T+2*U+1]+=j*G,B(R,2*T+2*U+1),R[2*T+2*U+2]+=$*G,B(R,2*T+2*U+2)}for(T=0;T<I;T++)R[T]=R[2*T+1]<<16|R[2*T];for(T=I;T<2*I;T++)R[T]=0;return new l(R,0)};function B(C,I){for(;(C[I]&65535)!=C[I];)C[I+1]+=C[I]>>>16,C[I]&=65535,I++}function F(C,I){this.g=C,this.h=I}function Y(C,I){if(N(I))throw Error("division by zero");if(N(C))return new F(y,y);if(P(C))return I=Y(V(C),I),new F(V(I.g),V(I.h));if(P(I))return I=Y(C,V(I)),new F(V(I.g),I.h);if(30<C.g.length){if(P(C)||P(I))throw Error("slowDivide_ only works with positive integers.");for(var R=x,T=I;0>=T.l(C);)R=M(R),T=M(T);var U=O(R,1),$=O(T,1);for(T=O(T,2),R=O(R,2);!N(T);){var j=$.add(T);0>=j.l(C)&&(U=U.add(R),$=j),T=O(T,1),R=O(R,1)}return I=D(C,U.j(I)),new F(U,I)}for(U=y;0<=C.l(I);){for(R=Math.max(1,Math.floor(C.m()/I.m())),T=Math.ceil(Math.log(R)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),$=f(R),j=$.j(I);P(j)||0<j.l(C);)R-=T,$=f(R),j=$.j(I);N($)&&($=x),U=U.add($),C=D(C,j)}return new F(U,C)}t.A=function(C){return Y(this,C).h},t.and=function(C){for(var I=Math.max(this.g.length,C.g.length),R=[],T=0;T<I;T++)R[T]=this.i(T)&C.i(T);return new l(R,this.h&C.h)},t.or=function(C){for(var I=Math.max(this.g.length,C.g.length),R=[],T=0;T<I;T++)R[T]=this.i(T)|C.i(T);return new l(R,this.h|C.h)},t.xor=function(C){for(var I=Math.max(this.g.length,C.g.length),R=[],T=0;T<I;T++)R[T]=this.i(T)^C.i(T);return new l(R,this.h^C.h)};function M(C){for(var I=C.g.length+1,R=[],T=0;T<I;T++)R[T]=C.i(T)<<1|C.i(T-1)>>>31;return new l(R,C.h)}function O(C,I){var R=I>>5;I%=32;for(var T=C.g.length-R,U=[],$=0;$<T;$++)U[$]=0<I?C.i($+R)>>>I|C.i($+R+1)<<32-I:C.i($+R);return new l(U,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,KN=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,io=l}).apply(typeof ME<"u"?ME:typeof self<"u"?self:typeof window<"u"?window:{});var dm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WN,Ad,YN,Um,sb,XN,QN,ZN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,_,k){return g==Array.prototype||g==Object.prototype||(g[_]=k.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof dm=="object"&&dm];for(var _=0;_<g.length;++_){var k=g[_];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function i(g,_){if(_)e:{var k=r;g=g.split(".");for(var K=0;K<g.length-1;K++){var oe=g[K];if(!(oe in k))break e;k=k[oe]}g=g[g.length-1],K=k[g],_=_(K),_!=K&&_!=null&&e(k,g,{configurable:!0,writable:!0,value:_})}}function o(g,_){g instanceof String&&(g+="");var k=0,K=!1,oe={next:function(){if(!K&&k<g.length){var pe=k++;return{value:_(pe,g[pe]),done:!1}}return K=!0,{done:!0,value:void 0}}};return oe[Symbol.iterator]=function(){return oe},oe}i("Array.prototype.values",function(g){return g||function(){return o(this,function(_,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(g){var _=typeof g;return _=_!="object"?_:g?Array.isArray(g)?"array":_:"null",_=="array"||_=="object"&&typeof g.length=="number"}function f(g){var _=typeof g;return _=="object"&&g!=null||_=="function"}function p(g,_,k){return g.call.apply(g.bind,arguments)}function y(g,_,k){if(!g)throw Error();if(2<arguments.length){var K=Array.prototype.slice.call(arguments,2);return function(){var oe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(oe,K),g.apply(_,oe)}}return function(){return g.apply(_,arguments)}}function x(g,_,k){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,x.apply(null,arguments)}function E(g,_){var k=Array.prototype.slice.call(arguments,1);return function(){var K=k.slice();return K.push.apply(K,arguments),g.apply(this,K)}}function N(g,_){function k(){}k.prototype=_.prototype,g.aa=_.prototype,g.prototype=new k,g.prototype.constructor=g,g.Qb=function(K,oe,pe){for(var Ae=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)Ae[Nt-2]=arguments[Nt];return _.prototype[oe].apply(K,Ae)}}function P(g){const _=g.length;if(0<_){const k=Array(_);for(let K=0;K<_;K++)k[K]=g[K];return k}return[]}function V(g,_){for(let k=1;k<arguments.length;k++){const K=arguments[k];if(d(K)){const oe=g.length||0,pe=K.length||0;g.length=oe+pe;for(let Ae=0;Ae<pe;Ae++)g[oe+Ae]=K[Ae]}else g.push(K)}}class D{constructor(_,k){this.i=_,this.j=k,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function B(g){return/^[\s\xa0]*$/.test(g)}function F(){var g=c.navigator;return g&&(g=g.userAgent)?g:""}function Y(g){return Y[" "](g),g}Y[" "]=function(){};var M=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function O(g,_,k){for(const K in g)_.call(k,g[K],K,g)}function C(g,_){for(const k in g)_.call(void 0,g[k],k,g)}function I(g){const _={};for(const k in g)_[k]=g[k];return _}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(g,_){let k,K;for(let oe=1;oe<arguments.length;oe++){K=arguments[oe];for(k in K)g[k]=K[k];for(let pe=0;pe<R.length;pe++)k=R[pe],Object.prototype.hasOwnProperty.call(K,k)&&(g[k]=K[k])}}function U(g){var _=1;g=g.split(":");const k=[];for(;0<_&&g.length;)k.push(g.shift()),_--;return g.length&&k.push(g.join(":")),k}function $(g){c.setTimeout(()=>{throw g},0)}function j(){var g=W;let _=null;return g.g&&(_=g.g,g.g=g.g.next,g.g||(g.h=null),_.next=null),_}class G{constructor(){this.h=this.g=null}add(_,k){const K=Z.get();K.set(_,k),this.h?this.h.next=K:this.g=K,this.h=K}}var Z=new D(()=>new H,g=>g.reset());class H{constructor(){this.next=this.g=this.h=null}set(_,k){this.h=_,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let S,J=!1,W=new G,w=()=>{const g=c.Promise.resolve(void 0);S=()=>{g.then(z)}};var z=()=>{for(var g;g=j();){try{g.h.call(g.g)}catch(k){$(k)}var _=Z;_.j(g),100>_.h&&(_.h++,g.next=_.g,_.g=g)}J=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(g,_){this.type=g,this.g=this.target=_,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var ne=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var g=!1,_=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const k=()=>{};c.addEventListener("test",k,_),c.removeEventListener("test",k,_)}catch{}return g}();function se(g,_){if(Q.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var k=this.type=g.type,K=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=_,_=g.relatedTarget){if(M){e:{try{Y(_.nodeName);var oe=!0;break e}catch{}oe=!1}oe||(_=null)}}else k=="mouseover"?_=g.fromElement:k=="mouseout"&&(_=g.toElement);this.relatedTarget=_,K?(this.clientX=K.clientX!==void 0?K.clientX:K.pageX,this.clientY=K.clientY!==void 0?K.clientY:K.pageY,this.screenX=K.screenX||0,this.screenY=K.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:le[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&se.aa.h.call(this)}}N(se,Q);var le={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function Pe(g,_,k,K,oe){this.listener=g,this.proxy=null,this.src=_,this.type=k,this.capture=!!K,this.ha=oe,this.key=++Ee,this.da=this.fa=!1}function Ne(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function ze(g){this.src=g,this.g={},this.h=0}ze.prototype.add=function(g,_,k,K,oe){var pe=g.toString();g=this.g[pe],g||(g=this.g[pe]=[],this.h++);var Ae=Qe(g,_,K,oe);return-1<Ae?(_=g[Ae],k||(_.fa=!1)):(_=new Pe(_,this.src,pe,!!K,oe),_.fa=k,g.push(_)),_};function Ye(g,_){var k=_.type;if(k in g.g){var K=g.g[k],oe=Array.prototype.indexOf.call(K,_,void 0),pe;(pe=0<=oe)&&Array.prototype.splice.call(K,oe,1),pe&&(Ne(_),g.g[k].length==0&&(delete g.g[k],g.h--))}}function Qe(g,_,k,K){for(var oe=0;oe<g.length;++oe){var pe=g[oe];if(!pe.da&&pe.listener==_&&pe.capture==!!k&&pe.ha==K)return oe}return-1}var me="closure_lm_"+(1e6*Math.random()|0),Ce={};function $e(g,_,k,K,oe){if(Array.isArray(_)){for(var pe=0;pe<_.length;pe++)$e(g,_[pe],k,K,oe);return null}return k=Cn(k),g&&g[ve]?g.K(_,k,f(K)?!!K.capture:!1,oe):Ie(g,_,k,!1,K,oe)}function Ie(g,_,k,K,oe,pe){if(!_)throw Error("Invalid event type");var Ae=f(oe)?!!oe.capture:!!oe,Nt=pn(g);if(Nt||(g[me]=Nt=new ze(g)),k=Nt.add(_,k,K,Ae,pe),k.proxy)return k;if(K=Je(),k.proxy=K,K.src=g,K.listener=k,g.addEventListener)ne||(oe=Ae),oe===void 0&&(oe=!1),g.addEventListener(_.toString(),K,oe);else if(g.attachEvent)g.attachEvent(Rt(_.toString()),K);else if(g.addListener&&g.removeListener)g.addListener(K);else throw Error("addEventListener and attachEvent are unavailable.");return k}function Je(){function g(k){return _.call(g.src,g.listener,k)}const _=ht;return g}function mt(g,_,k,K,oe){if(Array.isArray(_))for(var pe=0;pe<_.length;pe++)mt(g,_[pe],k,K,oe);else K=f(K)?!!K.capture:!!K,k=Cn(k),g&&g[ve]?(g=g.i,_=String(_).toString(),_ in g.g&&(pe=g.g[_],k=Qe(pe,k,K,oe),-1<k&&(Ne(pe[k]),Array.prototype.splice.call(pe,k,1),pe.length==0&&(delete g.g[_],g.h--)))):g&&(g=pn(g))&&(_=g.g[_.toString()],g=-1,_&&(g=Qe(_,k,K,oe)),(k=-1<g?_[g]:null)&&ot(k))}function ot(g){if(typeof g!="number"&&g&&!g.da){var _=g.src;if(_&&_[ve])Ye(_.i,g);else{var k=g.type,K=g.proxy;_.removeEventListener?_.removeEventListener(k,K,g.capture):_.detachEvent?_.detachEvent(Rt(k),K):_.addListener&&_.removeListener&&_.removeListener(K),(k=pn(_))?(Ye(k,g),k.h==0&&(k.src=null,_[me]=null)):Ne(g)}}}function Rt(g){return g in Ce?Ce[g]:Ce[g]="on"+g}function ht(g,_){if(g.da)g=!0;else{_=new se(_,this);var k=g.listener,K=g.ha||g.src;g.fa&&ot(g),g=k.call(K,_)}return g}function pn(g){return g=g[me],g instanceof ze?g:null}var or="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cn(g){return typeof g=="function"?g:(g[or]||(g[or]=function(_){return g.handleEvent(_)}),g[or])}function pt(){X.call(this),this.i=new ze(this),this.M=this,this.F=null}N(pt,X),pt.prototype[ve]=!0,pt.prototype.removeEventListener=function(g,_,k,K){mt(this,g,_,k,K)};function qe(g,_){var k,K=g.F;if(K)for(k=[];K;K=K.F)k.push(K);if(g=g.M,K=_.type||_,typeof _=="string")_=new Q(_,g);else if(_ instanceof Q)_.target=_.target||g;else{var oe=_;_=new Q(K,g),T(_,oe)}if(oe=!0,k)for(var pe=k.length-1;0<=pe;pe--){var Ae=_.g=k[pe];oe=sn(Ae,K,!0,_)&&oe}if(Ae=_.g=g,oe=sn(Ae,K,!0,_)&&oe,oe=sn(Ae,K,!1,_)&&oe,k)for(pe=0;pe<k.length;pe++)Ae=_.g=k[pe],oe=sn(Ae,K,!1,_)&&oe}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var g=this.i,_;for(_ in g.g){for(var k=g.g[_],K=0;K<k.length;K++)Ne(k[K]);delete g.g[_],g.h--}}this.F=null},pt.prototype.K=function(g,_,k,K){return this.i.add(String(g),_,!1,k,K)},pt.prototype.L=function(g,_,k,K){return this.i.add(String(g),_,!0,k,K)};function sn(g,_,k,K){if(_=g.i.g[String(_)],!_)return!0;_=_.concat();for(var oe=!0,pe=0;pe<_.length;++pe){var Ae=_[pe];if(Ae&&!Ae.da&&Ae.capture==k){var Nt=Ae.listener,Vn=Ae.ha||Ae.src;Ae.fa&&Ye(g.i,Ae),oe=Nt.call(Vn,K)!==!1&&oe}}return oe&&!K.defaultPrevented}function nn(g,_,k){if(typeof g=="function")k&&(g=x(g,k));else if(g&&typeof g.handleEvent=="function")g=x(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:c.setTimeout(g,_||0)}function $i(g){g.g=nn(()=>{g.g=null,g.i&&(g.i=!1,$i(g))},g.l);const _=g.h;g.h=null,g.m.apply(null,_)}class lr extends X{constructor(_,k){super(),this.m=_,this.l=k,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:$i(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function an(g){X.call(this),this.h=g,this.g={}}N(an,X);var qi=[];function Gi(g){O(g.g,function(_,k){this.g.hasOwnProperty(k)&&ot(_)},g),g.g={}}an.prototype.N=function(){an.aa.N.call(this),Gi(this)},an.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Lr=c.JSON.stringify,Ms=c.JSON.parse,ri=class{stringify(g){return c.JSON.stringify(g,void 0)}parse(g){return c.JSON.parse(g,void 0)}};function va(){}va.prototype.h=null;function Os(g){return g.h||(g.h=g.i())}function _o(){}var ii={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ci(){Q.call(this,"d")}N(Ci,Q);function ya(){Q.call(this,"c")}N(ya,Q);var yr={},Ki=null;function Wi(){return Ki=Ki||new pt}yr.La="serverreachability";function ba(g){Q.call(this,yr.La,g)}N(ba,Q);function te(g){const _=Wi();qe(_,new ba(_))}yr.STAT_EVENT="statevent";function ae(g,_){Q.call(this,yr.STAT_EVENT,g),this.stat=_}N(ae,Q);function ce(g){const _=Wi();qe(_,new ae(_,g))}yr.Ma="timingevent";function _e(g,_){Q.call(this,yr.Ma,g),this.size=_}N(_e,Q);function Te(g,_){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){g()},_)}function De(){this.g=!0}De.prototype.xa=function(){this.g=!1};function Ge(g,_,k,K,oe,pe){g.info(function(){if(g.g)if(pe)for(var Ae="",Nt=pe.split("&"),Vn=0;Vn<Nt.length;Vn++){var It=Nt[Vn].split("=");if(1<It.length){var $n=It[0];It=It[1];var Un=$n.split("_");Ae=2<=Un.length&&Un[1]=="type"?Ae+($n+"="+It+"&"):Ae+($n+"=redacted&")}}else Ae=null;else Ae=pe;return"XMLHTTP REQ ("+K+") [attempt "+oe+"]: "+_+`
`+k+`
`+Ae})}function je(g,_,k,K,oe,pe,Ae){g.info(function(){return"XMLHTTP RESP ("+K+") [ attempt "+oe+"]: "+_+`
`+k+`
`+pe+" "+Ae})}function Ue(g,_,k,K){g.info(function(){return"XMLHTTP TEXT ("+_+"): "+et(g,k)+(K?" "+K:"")})}function Le(g,_){g.info(function(){return"TIMEOUT: "+_})}De.prototype.info=function(){};function et(g,_){if(!g.g)return _;if(!_)return null;try{var k=JSON.parse(_);if(k){for(g=0;g<k.length;g++)if(Array.isArray(k[g])){var K=k[g];if(!(2>K.length)){var oe=K[1];if(Array.isArray(oe)&&!(1>oe.length)){var pe=oe[0];if(pe!="noop"&&pe!="stop"&&pe!="close")for(var Ae=1;Ae<oe.length;Ae++)oe[Ae]=""}}}}return Lr(k)}catch{return _}}var Ke={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},it={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wt;function Ut(){}N(Ut,va),Ut.prototype.g=function(){return new XMLHttpRequest},Ut.prototype.i=function(){return{}},wt=new Ut;function Pt(g,_,k,K){this.j=g,this.i=_,this.l=k,this.R=K||1,this.U=new an(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ct}function Ct(){this.i=null,this.g="",this.h=!1}var yt={},si={};function Ln(g,_,k){g.L=1,g.v=Eo(zr(_)),g.m=k,g.P=!0,br(g,null)}function br(g,_){g.F=Date.now(),Vr(g),g.A=zr(g.v);var k=g.A,K=g.R;Array.isArray(K)||(K=[String(K)]),mc(k.i,"t",K),g.C=0,k=g.j.J,g.h=new Ct,g.g=sf(g.j,k?_:null,!g.m),0<g.O&&(g.M=new lr(x(g.Y,g,g.g),g.O)),_=g.U,k=g.g,K=g.ca;var oe="readystatechange";Array.isArray(oe)||(oe&&(qi[0]=oe.toString()),oe=qi);for(var pe=0;pe<oe.length;pe++){var Ae=$e(k,oe[pe],K||_.handleEvent,!1,_.h||_);if(!Ae)break;_.g[Ae.key]=Ae}_=g.H?I(g.H):{},g.m?(g.u||(g.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,_)):(g.u="GET",g.g.ea(g.A,g.u,null,_)),te(),Ge(g.i,g.u,g.A,g.l,g.R,g.m)}Pt.prototype.ca=function(g){g=g.target;const _=this.M;_&&ci(g)==3?_.j():this.Y(g)},Pt.prototype.Y=function(g){try{if(g==this.g)e:{const Un=ci(this.g);var _=this.g.Ba();const zs=this.g.Z();if(!(3>Un)&&(Un!=3||this.g&&(this.h.h||this.g.oa()||Xh(this.g)))){this.J||Un!=4||_==7||(_==8||0>=zs?te(3):te(2)),ur(this);var k=this.g.Z();this.X=k;t:if(Jn(this)){var K=Xh(this.g);g="";var oe=K.length,pe=ci(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){lt(this),xr(this);var Ae="";break t}this.h.i=new c.TextDecoder}for(_=0;_<oe;_++)this.h.h=!0,g+=this.h.i.decode(K[_],{stream:!(pe&&_==oe-1)});K.length=0,this.h.g+=g,this.C=0,Ae=this.h.g}else Ae=this.g.oa();if(this.o=k==200,je(this.i,this.u,this.A,this.l,this.R,Un,k),this.o){if(this.T&&!this.K){t:{if(this.g){var Nt,Vn=this.g;if((Nt=Vn.g?Vn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Nt)){var It=Nt;break t}}It=null}if(k=It)Ue(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rn(this,k);else{this.o=!1,this.s=3,ce(12),lt(this),xr(this);break e}}if(this.P){k=!0;let tr;for(;!this.J&&this.C<Ae.length;)if(tr=Yi(this,Ae),tr==si){Un==4&&(this.s=4,ce(14),k=!1),Ue(this.i,this.l,null,"[Incomplete Response]");break}else if(tr==yt){this.s=4,ce(15),Ue(this.i,this.l,Ae,"[Invalid Chunk]"),k=!1;break}else Ue(this.i,this.l,tr,null),Rn(this,tr);if(Jn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Un!=4||Ae.length!=0||this.h.h||(this.s=1,ce(16),k=!1),this.o=this.o&&k,!k)Ue(this.i,this.l,Ae,"[Invalid Chunked Response]"),lt(this),xr(this);else if(0<Ae.length&&!this.W){this.W=!0;var $n=this.j;$n.g==this&&$n.ba&&!$n.M&&($n.j.info("Great, no buffering proxy detected. Bytes received: "+Ae.length),Po($n),$n.M=!0,ce(11))}}else Ue(this.i,this.l,Ae,null),Rn(this,Ae);Un==4&&lt(this),this.o&&!this.J&&(Un==4?tf(this.j,this):(this.o=!1,Vr(this)))}else Zg(this.g),k==400&&0<Ae.indexOf("Unknown SID")?(this.s=3,ce(12)):(this.s=0,ce(13)),lt(this),xr(this)}}}catch{}finally{}};function Jn(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Yi(g,_){var k=g.C,K=_.indexOf(`
`,k);return K==-1?si:(k=Number(_.substring(k,K)),isNaN(k)?yt:(K+=1,K+k>_.length?si:(_=_.slice(K,K+k),g.C=K+k,_)))}Pt.prototype.cancel=function(){this.J=!0,lt(this)};function Vr(g){g.S=Date.now()+g.I,xa(g,g.I)}function xa(g,_){if(g.B!=null)throw Error("WatchDog timer not null");g.B=Te(x(g.ba,g),_)}function ur(g){g.B&&(c.clearTimeout(g.B),g.B=null)}Pt.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Le(this.i,this.A),this.L!=2&&(te(),ce(17)),lt(this),this.s=2,xr(this)):xa(this,this.S-g)};function xr(g){g.j.G==0||g.J||tf(g.j,g)}function lt(g){ur(g);var _=g.M;_&&typeof _.ma=="function"&&_.ma(),g.M=null,Gi(g.U),g.g&&(_=g.g,g.g=null,_.abort(),_.ma())}function Rn(g,_){try{var k=g.j;if(k.G!=0&&(k.g==g||ai(k.h,g))){if(!g.K&&ai(k.h,g)&&k.G==3){try{var K=k.Da.g.parse(_)}catch{K=null}if(Array.isArray(K)&&K.length==3){var oe=K;if(oe[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<g.F)Dl(k),Ol(k);else break e;bc(k),ce(18)}}else k.za=oe[1],0<k.za-k.T&&37500>oe[2]&&k.F&&k.v==0&&!k.C&&(k.C=Te(x(k.Za,k),6e3));if(1>=Xt(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else Us(k,11)}else if((g.K||k.g==g)&&Dl(k),!B(_))for(oe=k.Da.g.parse(_),_=0;_<oe.length;_++){let It=oe[_];if(k.T=It[0],It=It[1],k.G==2)if(It[0]=="c"){k.K=It[1],k.ia=It[2];const $n=It[3];$n!=null&&(k.la=$n,k.j.info("VER="+k.la));const Un=It[4];Un!=null&&(k.Aa=Un,k.j.info("SVER="+k.Aa));const zs=It[5];zs!=null&&typeof zs=="number"&&0<zs&&(K=1.5*zs,k.L=K,k.j.info("backChannelRequestTimeoutMs_="+K)),K=k;const tr=g.g;if(tr){const rs=tr.g?tr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rs){var pe=K.h;pe.g||rs.indexOf("spdy")==-1&&rs.indexOf("quic")==-1&&rs.indexOf("h2")==-1||(pe.j=pe.l,pe.g=new Set,pe.h&&(Ps(pe,pe.h),pe.h=null))}if(K.D){const wc=tr.g?tr.g.getResponseHeader("X-HTTP-Session-Id"):null;wc&&(K.ya=wc,qt(K.I,K.D,wc))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-g.F,k.j.info("Handshake RTT: "+k.R+"ms")),K=k;var Ae=g;if(K.qa=rf(K,K.J?K.ia:null,K.W),Ae.K){er(K.h,Ae);var Nt=Ae,Vn=K.L;Vn&&(Nt.I=Vn),Nt.B&&(ur(Nt),Vr(Nt)),K.g=Ae}else Jh(K);0<k.i.length&&Pl(k)}else It[0]!="stop"&&It[0]!="close"||Us(k,7);else k.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?Us(k,7):vc(k):It[0]!="noop"&&k.l&&k.l.ta(It),k.v=0)}}te(4)}catch{}}var Ur=class{constructor(g,_){this.g=g,this.map=_}};function Cr(g){this.l=g||10,c.PerformanceNavigationTiming?(g=c.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xi(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Xt(g){return g.h?1:g.g?g.g.size:0}function ai(g,_){return g.h?g.h==_:g.g?g.g.has(_):!1}function Ps(g,_){g.g?g.g.add(_):g.h=_}function er(g,_){g.h&&g.h==_?g.h=null:g.g&&g.g.has(_)&&g.g.delete(_)}Cr.prototype.cancel=function(){if(this.i=cc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function cc(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let _=g.i;for(const k of g.g.values())_=_.concat(k.D);return _}return P(g.i)}function Wg(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(d(g)){for(var _=[],k=g.length,K=0;K<k;K++)_.push(g[K]);return _}_=[],k=0;for(K in g)_[k++]=g[K];return _}function Al(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(d(g)||typeof g=="string"){var _=[];g=g.length;for(var k=0;k<g;k++)_.push(k);return _}_=[],k=0;for(const K in g)_[k++]=K;return _}}}function dc(g,_){if(g.forEach&&typeof g.forEach=="function")g.forEach(_,void 0);else if(d(g)||typeof g=="string")Array.prototype.forEach.call(g,_,void 0);else for(var k=Al(g),K=Wg(g),oe=K.length,pe=0;pe<oe;pe++)_.call(void 0,K[pe],k&&k[pe],g)}var So=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yg(g,_){if(g){g=g.split("&");for(var k=0;k<g.length;k++){var K=g[k].indexOf("="),oe=null;if(0<=K){var pe=g[k].substring(0,K);oe=g[k].substring(K+1)}else pe=g[k];_(pe,oe?decodeURIComponent(oe.replace(/\+/g," ")):"")}}}function Nn(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Nn){this.h=g.h,To(this,g.j),this.o=g.o,this.g=g.g,wa(this,g.s),this.l=g.l;var _=g.i,k=new js;k.i=_.i,_.g&&(k.g=new Map(_.g),k.h=_.h),Ds(this,k),this.m=g.m}else g&&(_=String(g).match(So))?(this.h=!1,To(this,_[1]||"",!0),this.o=oi(_[2]||""),this.g=oi(_[3]||"",!0),wa(this,_[4]),this.l=oi(_[5]||"",!0),Ds(this,_[6]||"",!0),this.m=oi(_[7]||"")):(this.h=!1,this.i=new js(null,this.h))}Nn.prototype.toString=function(){var g=[],_=this.j;_&&g.push(Ao(_,hc,!0),":");var k=this.g;return(k||_=="file")&&(g.push("//"),(_=this.o)&&g.push(Ao(_,hc,!0),"@"),g.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&g.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&g.push("/"),g.push(Ao(k,k.charAt(0)=="/"?Xg:fc,!0))),(k=this.i.toString())&&g.push("?",k),(k=this.m)&&g.push("#",Ao(k,Cl)),g.join("")};function zr(g){return new Nn(g)}function To(g,_,k){g.j=k?oi(_,!0):_,g.j&&(g.j=g.j.replace(/:$/,""))}function wa(g,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);g.s=_}else g.s=null}function Ds(g,_,k){_ instanceof js?(g.i=_,Wh(g.i,g.h)):(k||(_=Ao(_,Qg)),g.i=new js(_,g.h))}function qt(g,_,k){g.i.set(_,k)}function Eo(g){return qt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function oi(g,_){return g?_?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Ao(g,_,k){return typeof g=="string"?(g=encodeURI(g).replace(_,Kh),k&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Kh(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var hc=/[#\/\?@]/g,fc=/[#\?:]/g,Xg=/[#\?]/g,Qg=/[#\?@]/g,Cl=/#/g;function js(g,_){this.h=this.g=null,this.i=g||null,this.j=!!_}function li(g){g.g||(g.g=new Map,g.h=0,g.i&&Yg(g.i,function(_,k){g.add(decodeURIComponent(_.replace(/\+/g," ")),k)}))}t=js.prototype,t.add=function(g,_){li(this),this.i=null,g=Qi(this,g);var k=this.g.get(g);return k||this.g.set(g,k=[]),k.push(_),this.h+=1,this};function ks(g,_){li(g),_=Qi(g,_),g.g.has(_)&&(g.i=null,g.h-=g.g.get(_).length,g.g.delete(_))}function Ls(g,_){return li(g),_=Qi(g,_),g.g.has(_)}t.forEach=function(g,_){li(this),this.g.forEach(function(k,K){k.forEach(function(oe){g.call(_,oe,K,this)},this)},this)},t.na=function(){li(this);const g=Array.from(this.g.values()),_=Array.from(this.g.keys()),k=[];for(let K=0;K<_.length;K++){const oe=g[K];for(let pe=0;pe<oe.length;pe++)k.push(_[K])}return k},t.V=function(g){li(this);let _=[];if(typeof g=="string")Ls(this,g)&&(_=_.concat(this.g.get(Qi(this,g))));else{g=Array.from(this.g.values());for(let k=0;k<g.length;k++)_=_.concat(g[k])}return _},t.set=function(g,_){return li(this),this.i=null,g=Qi(this,g),Ls(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[_]),this.h+=1,this},t.get=function(g,_){return g?(g=this.V(g),0<g.length?String(g[0]):_):_};function mc(g,_,k){ks(g,_),0<k.length&&(g.i=null,g.g.set(Qi(g,_),P(k)),g.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],_=Array.from(this.g.keys());for(var k=0;k<_.length;k++){var K=_[k];const pe=encodeURIComponent(String(K)),Ae=this.V(K);for(K=0;K<Ae.length;K++){var oe=pe;Ae[K]!==""&&(oe+="="+encodeURIComponent(String(Ae[K]))),g.push(oe)}}return this.i=g.join("&")};function Qi(g,_){return _=String(_),g.j&&(_=_.toLowerCase()),_}function Wh(g,_){_&&!g.j&&(li(g),g.i=null,g.g.forEach(function(k,K){var oe=K.toLowerCase();K!=oe&&(ks(this,K),mc(this,oe,k))},g)),g.j=_}function Co(g,_){const k=new De;if(c.Image){const K=new Image;K.onload=E(ui,k,"TestLoadImage: loaded",!0,_,K),K.onerror=E(ui,k,"TestLoadImage: error",!1,_,K),K.onabort=E(ui,k,"TestLoadImage: abort",!1,_,K),K.ontimeout=E(ui,k,"TestLoadImage: timeout",!1,_,K),c.setTimeout(function(){K.ontimeout&&K.ontimeout()},1e4),K.src=g}else _(!1)}function Ri(g,_){const k=new De,K=new AbortController,oe=setTimeout(()=>{K.abort(),ui(k,"TestPingServer: timeout",!1,_)},1e4);fetch(g,{signal:K.signal}).then(pe=>{clearTimeout(oe),pe.ok?ui(k,"TestPingServer: ok",!0,_):ui(k,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(oe),ui(k,"TestPingServer: error",!1,_)})}function ui(g,_,k,K,oe){try{oe&&(oe.onload=null,oe.onerror=null,oe.onabort=null,oe.ontimeout=null),K(k)}catch{}}function Ro(){this.g=new ri}function Zi(g,_,k){const K=k||"";try{dc(g,function(oe,pe){let Ae=oe;f(oe)&&(Ae=Lr(oe)),_.push(K+pe+"="+encodeURIComponent(Ae))})}catch(oe){throw _.push(K+"type="+encodeURIComponent("_badmap")),oe}}function _a(g){this.l=g.Ub||null,this.j=g.eb||!1}N(_a,va),_a.prototype.g=function(){return new Vs(this.l,this.j)},_a.prototype.i=function(g){return function(){return g}}({});function Vs(g,_){pt.call(this),this.D=g,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Vs,pt),t=Vs.prototype,t.open=function(g,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=_,this.readyState=1,es(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(_.body=g),(this.D||c).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ji(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,es(this)),this.g&&(this.readyState=3,es(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pc(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function pc(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var _=g.value?g.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!g.done}))&&(this.response=this.responseText+=_)}g.done?Ji(this):es(this),this.readyState==3&&pc(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,Ji(this))},t.Qa=function(g){this.g&&(this.response=g,Ji(this))},t.ga=function(){this.g&&Ji(this)};function Ji(g){g.readyState=4,g.l=null,g.j=null,g.v=null,es(g)}t.setRequestHeader=function(g,_){this.u.append(g,_)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],_=this.h.entries();for(var k=_.next();!k.done;)k=k.value,g.push(k[0]+": "+k[1]),k=_.next();return g.join(`\r
`)};function es(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Vs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function gc(g){let _="";return O(g,function(k,K){_+=K,_+=":",_+=k,_+=`\r
`}),_}function Hn(g,_,k){e:{for(K in k){var K=!1;break e}K=!0}K||(k=gc(k),typeof g=="string"?k!=null&&encodeURIComponent(String(k)):qt(g,_,k))}function zt(g){pt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(zt,pt);var Rl=/^https?$/i,No=["POST","PUT"];t=zt.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,_,k,K){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);_=_?_.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wt.g(),this.v=this.o?Os(this.o):Os(wt),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(_,String(g),!0),this.B=!1}catch(pe){Yh(this,pe);return}if(g=k||"",k=new Map(this.headers),K)if(Object.getPrototypeOf(K)===Object.prototype)for(var oe in K)k.set(oe,K[oe]);else if(typeof K.keys=="function"&&typeof K.get=="function")for(const pe of K.keys())k.set(pe,K.get(pe));else throw Error("Unknown input type for opt_headers: "+String(K));K=Array.from(k.keys()).find(pe=>pe.toLowerCase()=="content-type"),oe=c.FormData&&g instanceof c.FormData,!(0<=Array.prototype.indexOf.call(No,_,void 0))||K||oe||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[pe,Ae]of k)this.g.setRequestHeader(pe,Ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Io(this),this.u=!0,this.g.send(g),this.u=!1}catch(pe){Yh(this,pe)}};function Yh(g,_){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=_,g.m=5,Nl(g),ts(g)}function Nl(g){g.A||(g.A=!0,qe(g,"complete"),qe(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,qe(this,"complete"),qe(this,"abort"),ts(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ts(this,!0)),zt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Il(this):this.bb())},t.bb=function(){Il(this)};function Il(g){if(g.h&&typeof l<"u"&&(!g.v[1]||ci(g)!=4||g.Z()!=2)){if(g.u&&ci(g)==4)nn(g.Ea,0,g);else if(qe(g,"readystatechange"),ci(g)==4){g.h=!1;try{const Ae=g.Z();e:switch(Ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var k;if(!(k=_)){var K;if(K=Ae===0){var oe=String(g.D).match(So)[1]||null;!oe&&c.self&&c.self.location&&(oe=c.self.location.protocol.slice(0,-1)),K=!Rl.test(oe?oe.toLowerCase():"")}k=K}if(k)qe(g,"complete"),qe(g,"success");else{g.m=6;try{var pe=2<ci(g)?g.g.statusText:""}catch{pe=""}g.l=pe+" ["+g.Z()+"]",Nl(g)}}finally{ts(g)}}}}function ts(g,_){if(g.g){Io(g);const k=g.g,K=g.v[0]?()=>{}:null;g.g=null,g.v=null,_||qe(g,"ready");try{k.onreadystatechange=K}catch{}}}function Io(g){g.I&&(c.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function ci(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<ci(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var _=this.g.responseText;return g&&_.indexOf(g)==0&&(_=_.substring(g.length)),Ms(_)}};function Xh(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Zg(g){const _={};g=(g.g&&2<=ci(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let K=0;K<g.length;K++){if(B(g[K]))continue;var k=U(g[K]);const oe=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const pe=_[oe]||[];_[oe]=pe,pe.push(k)}C(_,function(K){return K.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mo(g,_,k){return k&&k.internalChannelParams&&k.internalChannelParams[g]||_}function Ml(g){this.Aa=0,this.i=[],this.j=new De,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mo("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mo("baseRetryDelayMs",5e3,g),this.cb=Mo("retryDelaySeedMs",1e4,g),this.Wa=Mo("forwardChannelMaxRetries",2,g),this.wa=Mo("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Cr(g&&g.concurrentRequestLimit),this.Da=new Ro,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ml.prototype,t.la=8,t.G=1,t.connect=function(g,_,k,K){ce(0),this.W=g,this.H=_||{},k&&K!==void 0&&(this.H.OSID=k,this.H.OAID=K),this.F=this.X,this.I=rf(this,null,this.W),Pl(this)};function vc(g){if(Qh(g),g.G==3){var _=g.U++,k=zr(g.I);if(qt(k,"SID",g.K),qt(k,"RID",_),qt(k,"TYPE","terminate"),Oo(g,k),_=new Pt(g,g.j,_),_.L=2,_.v=Eo(zr(k)),k=!1,c.navigator&&c.navigator.sendBeacon)try{k=c.navigator.sendBeacon(_.v.toString(),"")}catch{}!k&&c.Image&&(new Image().src=_.v,k=!0),k||(_.g=sf(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Vr(_)}nf(g)}function Ol(g){g.g&&(Po(g),g.g.cancel(),g.g=null)}function Qh(g){Ol(g),g.u&&(c.clearTimeout(g.u),g.u=null),Dl(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&c.clearTimeout(g.s),g.s=null)}function Pl(g){if(!Xi(g.h)&&!g.s){g.s=!0;var _=g.Ga;S||w(),J||(S(),J=!0),W.add(_,g),g.B=0}}function Jg(g,_){return Xt(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=_.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=Te(x(g.Ga,g,_),xc(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const oe=new Pt(this,this.j,g);let pe=this.o;if(this.S&&(pe?(pe=I(pe),T(pe,this.S)):pe=this.S),this.m!==null||this.O||(oe.H=pe,pe=null),this.P)e:{for(var _=0,k=0;k<this.i.length;k++){t:{var K=this.i[k];if("__data__"in K.map&&(K=K.map.__data__,typeof K=="string")){K=K.length;break t}K=void 0}if(K===void 0)break;if(_+=K,4096<_){_=k;break e}if(_===4096||k===this.i.length-1){_=k+1;break e}}_=1e3}else _=1e3;_=Zh(this,oe,_),k=zr(this.I),qt(k,"RID",g),qt(k,"CVER",22),this.D&&qt(k,"X-HTTP-Session-Id",this.D),Oo(this,k),pe&&(this.O?_="headers="+encodeURIComponent(String(gc(pe)))+"&"+_:this.m&&Hn(k,this.m,pe)),Ps(this.h,oe),this.Ua&&qt(k,"TYPE","init"),this.P?(qt(k,"$req",_),qt(k,"SID","null"),oe.T=!0,Ln(oe,k,null)):Ln(oe,k,_),this.G=2}}else this.G==3&&(g?yc(this,g):this.i.length==0||Xi(this.h)||yc(this))};function yc(g,_){var k;_?k=_.l:k=g.U++;const K=zr(g.I);qt(K,"SID",g.K),qt(K,"RID",k),qt(K,"AID",g.T),Oo(g,K),g.m&&g.o&&Hn(K,g.m,g.o),k=new Pt(g,g.j,k,g.B+1),g.m===null&&(k.H=g.o),_&&(g.i=_.D.concat(g.i)),_=Zh(g,k,1e3),k.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Ps(g.h,k),Ln(k,K,_)}function Oo(g,_){g.H&&O(g.H,function(k,K){qt(_,K,k)}),g.l&&dc({},function(k,K){qt(_,K,k)})}function Zh(g,_,k){k=Math.min(g.i.length,k);var K=g.l?x(g.l.Na,g.l,g):null;e:{var oe=g.i;let pe=-1;for(;;){const Ae=["count="+k];pe==-1?0<k?(pe=oe[0].g,Ae.push("ofs="+pe)):pe=0:Ae.push("ofs="+pe);let Nt=!0;for(let Vn=0;Vn<k;Vn++){let It=oe[Vn].g;const $n=oe[Vn].map;if(It-=pe,0>It)pe=Math.max(0,oe[Vn].g-100),Nt=!1;else try{Zi($n,Ae,"req"+It+"_")}catch{K&&K($n)}}if(Nt){K=Ae.join("&");break e}}}return g=g.i.splice(0,k),_.D=g,K}function Jh(g){if(!g.g&&!g.u){g.Y=1;var _=g.Fa;S||w(),J||(S(),J=!0),W.add(_,g),g.v=0}}function bc(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=Te(x(g.Fa,g),xc(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,ef(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=Te(x(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ce(10),Ol(this),ef(this))};function Po(g){g.A!=null&&(c.clearTimeout(g.A),g.A=null)}function ef(g){g.g=new Pt(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var _=zr(g.qa);qt(_,"RID","rpc"),qt(_,"SID",g.K),qt(_,"AID",g.T),qt(_,"CI",g.F?"0":"1"),!g.F&&g.ja&&qt(_,"TO",g.ja),qt(_,"TYPE","xmlhttp"),Oo(g,_),g.m&&g.o&&Hn(_,g.m,g.o),g.L&&(g.g.I=g.L);var k=g.g;g=g.ia,k.L=1,k.v=Eo(zr(_)),k.m=null,k.P=!0,br(k,g)}t.Za=function(){this.C!=null&&(this.C=null,Ol(this),bc(this),ce(19))};function Dl(g){g.C!=null&&(c.clearTimeout(g.C),g.C=null)}function tf(g,_){var k=null;if(g.g==_){Dl(g),Po(g),g.g=null;var K=2}else if(ai(g.h,_))k=_.D,er(g.h,_),K=1;else return;if(g.G!=0){if(_.o)if(K==1){k=_.m?_.m.length:0,_=Date.now()-_.F;var oe=g.B;K=Wi(),qe(K,new _e(K,k)),Pl(g)}else Jh(g);else if(oe=_.s,oe==3||oe==0&&0<_.X||!(K==1&&Jg(g,_)||K==2&&bc(g)))switch(k&&0<k.length&&(_=g.h,_.i=_.i.concat(k)),oe){case 1:Us(g,5);break;case 4:Us(g,10);break;case 3:Us(g,6);break;default:Us(g,2)}}}function xc(g,_){let k=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(k*=2),k*_}function Us(g,_){if(g.j.info("Error code "+_),_==2){var k=x(g.fb,g),K=g.Xa;const oe=!K;K=new Nn(K||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||To(K,"https"),Eo(K),oe?Co(K.toString(),k):Ri(K.toString(),k)}else ce(2);g.G=0,g.l&&g.l.sa(_),nf(g),Qh(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),ce(2)):(this.j.info("Failed to ping google.com"),ce(1))};function nf(g){if(g.G=0,g.ka=[],g.l){const _=cc(g.h);(_.length!=0||g.i.length!=0)&&(V(g.ka,_),V(g.ka,g.i),g.h.i.length=0,P(g.i),g.i.length=0),g.l.ra()}}function rf(g,_,k){var K=k instanceof Nn?zr(k):new Nn(k);if(K.g!="")_&&(K.g=_+"."+K.g),wa(K,K.s);else{var oe=c.location;K=oe.protocol,_=_?_+"."+oe.hostname:oe.hostname,oe=+oe.port;var pe=new Nn(null);K&&To(pe,K),_&&(pe.g=_),oe&&wa(pe,oe),k&&(pe.l=k),K=pe}return k=g.D,_=g.ya,k&&_&&qt(K,k,_),qt(K,"VER",g.la),Oo(g,K),K}function sf(g,_,k){if(_&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=g.Ca&&!g.pa?new zt(new _a({eb:k})):new zt(g.pa),_.Ha(g.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function af(){}t=af.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function jl(){}jl.prototype.g=function(g,_){return new wr(g,_)};function wr(g,_){pt.call(this),this.g=new Ml(_),this.l=g,this.h=_&&_.messageUrlParams||null,g=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(g?g["X-WebChannel-Content-Type"]=_.messageContentType:g={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(g?g["X-WebChannel-Client-Profile"]=_.va:g={"X-WebChannel-Client-Profile":_.va}),this.g.S=g,(g=_&&_.Sb)&&!B(g)&&(this.g.m=g),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!B(_)&&(this.g.D=_,g=this.h,g!==null&&_ in g&&(g=this.h,_ in g&&delete g[_])),this.j=new ns(this)}N(wr,pt),wr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wr.prototype.close=function(){vc(this.g)},wr.prototype.o=function(g){var _=this.g;if(typeof g=="string"){var k={};k.__data__=g,g=k}else this.u&&(k={},k.__data__=Lr(g),g=k);_.i.push(new Ur(_.Ya++,g)),_.G==3&&Pl(_)},wr.prototype.N=function(){this.g.l=null,delete this.j,vc(this.g),delete this.g,wr.aa.N.call(this)};function of(g){Ci.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var _=g.__sm__;if(_){e:{for(const k in _){g=k;break e}g=void 0}(this.i=g)&&(g=this.i,_=_!==null&&g in _?_[g]:void 0),this.data=_}else this.data=g}N(of,Ci);function lf(){ya.call(this),this.status=1}N(lf,ya);function ns(g){this.g=g}N(ns,af),ns.prototype.ua=function(){qe(this.g,"a")},ns.prototype.ta=function(g){qe(this.g,new of(g))},ns.prototype.sa=function(g){qe(this.g,new lf)},ns.prototype.ra=function(){qe(this.g,"b")},jl.prototype.createWebChannel=jl.prototype.g,wr.prototype.send=wr.prototype.o,wr.prototype.open=wr.prototype.m,wr.prototype.close=wr.prototype.close,ZN=function(){return new jl},QN=function(){return Wi()},XN=yr,sb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ke.NO_ERROR=0,Ke.TIMEOUT=8,Ke.HTTP_ERROR=6,Um=Ke,it.COMPLETE="complete",YN=it,_o.EventType=ii,ii.OPEN="a",ii.CLOSE="b",ii.ERROR="c",ii.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Ad=_o,zt.prototype.listenOnce=zt.prototype.L,zt.prototype.getLastError=zt.prototype.Ka,zt.prototype.getLastErrorCode=zt.prototype.Ba,zt.prototype.getStatus=zt.prototype.Z,zt.prototype.getResponseJson=zt.prototype.Oa,zt.prototype.getResponseText=zt.prototype.oa,zt.prototype.send=zt.prototype.ea,zt.prototype.setWithCredentials=zt.prototype.Ha,WN=zt}).apply(typeof dm<"u"?dm:typeof self<"u"?self:typeof window<"u"?window:{});const OE="@firebase/firestore",PE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};mr.UNAUTHENTICATED=new mr(null),mr.GOOGLE_CREDENTIALS=new mr("google-credentials-uid"),mr.FIRST_PARTY=new mr("first-party-uid"),mr.MOCK_USER=new mr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=new px("@firebase/firestore");function du(){return hl.logLevel}function Oe(t,...e){if(hl.logLevel<=Et.DEBUG){const n=e.map(Mx);hl.debug(`Firestore (${tc}): ${t}`,...n)}}function ca(t,...e){if(hl.logLevel<=Et.ERROR){const n=e.map(Mx);hl.error(`Firestore (${tc}): ${t}`,...n)}}function da(t,...e){if(hl.logLevel<=Et.WARN){const n=e.map(Mx);hl.warn(`Firestore (${tc}): ${t}`,...n)}}function Mx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,JN(t,r,n)}function JN(t,e,n){let r=`FIRESTORE (${tc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ca(r),new Error(r)}function Ft(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||JN(e,i,r)}function ct(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Ns{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mr.UNAUTHENTICATED))}shutdown(){}}class K3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class W3{constructor(e){this.t=e,this.currentUser=mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ft(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new ia;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ia,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},c=d=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ia)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ft(typeof r.accessToken=="string",31837,{l:r}),new eI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ft(e===null||typeof e=="string",2055,{h:e}),new mr(e)}}class Y3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=mr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class X3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Y3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(mr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Q3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ft(this.o===void 0,3512);const r=o=>{o.error!=null&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,Oe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new DE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new DE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Z3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function vt(t,e){return t<e?-1:t>e?1:0}function ab(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return vt(r,i);{const o=nI(),l=J3(o.encode(jE(t,n)),o.encode(jE(e,n)));return l!==0?l:vt(r,i)}}n+=r>65535?2:1}return vt(t.length,e.length)}function jE(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function J3(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return vt(t[n],e[n]);return vt(t.length,e.length)}function Vu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="__name__";class us{constructor(e,n,r){n===void 0?n=0:n>e.length&&rt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&rt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return us.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof us?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=us.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return vt(e.length,n.length)}static compareSegments(e,n){const r=us.isNumericId(e),i=us.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?us.extractNumericId(e).compare(us.extractNumericId(n)):ab(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return io.fromString(e.substring(4,e.length-2))}}class en extends us{construct(e,n,r){return new en(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new en(n)}static emptyPath(){return new en([])}}const e6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xn extends us{construct(e,n,r){return new Xn(e,n,r)}static isValidIdentifier(e){return e6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kE}static keyField(){return new Xn([kE])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Re(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Re(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Re(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(o(),i++)}if(o(),l)throw new Re(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xn(n)}static emptyPath(){return new Xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be(en.fromString(e))}static fromName(e){return new Be(en.fromString(e).popFirst(5))}static empty(){return new Be(en.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&en.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return en.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new en(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(t,e,n){if(!n)throw new Re(ye.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function iI(t,e,n,r){if(e===!0&&r===!0)throw new Re(ye.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function LE(t){if(!Be.isDocumentKey(t))throw new Re(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function VE(t){if(Be.isDocumentKey(t))throw new Re(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function sI(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function rg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":rt(12329,{type:typeof t})}function Er(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Re(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rg(t);throw new Re(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(t,e){const n={typeString:t};return e&&(n.value=e),n}function wh(t,e){if(!sI(t))throw new Re(ye.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Re(ye.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=-62135596800,zE=1e6;class tn{static now(){return tn.fromMillis(Date.now())}static fromDate(e){return tn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*zE);return new tn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Re(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Re(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<UE)throw new Re(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zE}_compareTo(e){return this.seconds===e.seconds?vt(this.nanoseconds,e.nanoseconds):vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:tn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wh(e,tn._jsonSchema))return new tn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-UE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}tn._jsonSchemaVersion="firestore/timestamp/1.0",tn._jsonSchema={type:kn("string",tn._jsonSchemaVersion),seconds:kn("number"),nanoseconds:kn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{static fromTimestamp(e){return new ut(e)}static min(){return new ut(new tn(0,0))}static max(){return new ut(new tn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd=-1;function t6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ut.fromTimestamp(r===1e9?new tn(n+1,0):new tn(n,r));return new lo(i,Be.empty(),e)}function n6(t){return new lo(t.readTime,t.key,Yd)}class lo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new lo(ut.min(),Be.empty(),Yd)}static max(){return new lo(ut.max(),Be.empty(),Yd)}}function r6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Be.comparator(t.documentKey,e.documentKey),n!==0?n:vt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nc(t){if(t.code!==ye.FAILED_PRECONDITION||t.message!==i6)throw t;Oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Se((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Se?n:Se.resolve(n)}catch(n){return Se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Se.reject(n)}static resolve(e){return new Se((n,r)=>{n(e)})}static reject(e){return new Se((n,r)=>{r(e)})}static waitFor(e){return new Se((n,r)=>{let i=0,o=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++o,l&&o===i&&n()},d=>r(d))}),l=!0,o===i&&n()})}static or(e){let n=Se.resolve(!1);for(const r of e)n=n.next(i=>i?Se.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Se((r,i)=>{const o=e.length,l=new Array(o);let c=0;for(let d=0;d<o;d++){const f=d;n(e[f]).next(p=>{l[f]=p,++c,c===o&&r(l)},p=>i(p))}})}static doWhile(e,n){return new Se((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function a6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function rc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}ig.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=-1;function sg(t){return t==null}function pp(t){return t===0&&1/t==-1/0}function o6(t){return typeof t=="number"&&Number.isInteger(t)&&!pp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="";function l6(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=BE(e)),e=u6(t.get(n),e);return BE(e)}function u6(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case aI:n+="";break;default:n+=o}}return n}function BE(t){return t+aI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function oI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n){this.comparator=e,this.root=n||sr.EMPTY}insert(e,n){return new mn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sr.BLACK,null,null))}remove(e){return new mn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hm(this.root,e,this.comparator,!1)}getReverseIterator(){return new hm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hm(this.root,e,this.comparator,!0)}}class hm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??sr.RED,this.left=i??sr.EMPTY,this.right=o??sr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new sr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return sr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return sr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw rt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw rt(27949);return e+(this.isRed()?0:1)}}sr.EMPTY=null,sr.RED=!0,sr.BLACK=!1;sr.EMPTY=new class{constructor(){this.size=0}get key(){throw rt(57766)}get value(){throw rt(16141)}get color(){throw rt(16727)}get left(){throw rt(29726)}get right(){throw rt(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new sr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.comparator=e,this.data=new mn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new HE(this.data.getIterator())}getIteratorFrom(e){return new HE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Fn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Fn(this.comparator);return n.data=e,n}}class HE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this.fields=e,e.sort(Xn.comparator)}static empty(){return new Jr([])}unionWith(e){let n=new Fn(Xn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Jr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new lI("Invalid base64 string: "+o):o}}(e);return new Zn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new Zn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zn.EMPTY_BYTE_STRING=new Zn("");const c6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function uo(t){if(Ft(!!t,39018),typeof t=="string"){let e=0;const n=c6.exec(t);if(Ft(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:En(t.seconds),nanos:En(t.nanos)}}function En(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function co(t){return typeof t=="string"?Zn.fromBase64String(t):Zn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="server_timestamp",cI="__type__",dI="__previous_value__",hI="__local_write_time__";function ag(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[cI])===null||n===void 0?void 0:n.stringValue)===uI}function og(t){const e=t.mapValue.fields[dI];return ag(e)?og(e):e}function Xd(t){const e=uo(t.mapValue.fields[hI].timestampValue);return new tn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e,n,r,i,o,l,c,d,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=p}}const gp="(default)";class Uu{constructor(e,n){this.projectId=e,this.database=n||gp}static empty(){return new Uu("","")}get isDefaultDatabase(){return this.database===gp}isEqual(e){return e instanceof Uu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI="__type__",h6="__max__",fm={mapValue:{}},mI="__vector__",vp="value";function ho(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ag(t)?4:m6(t)?9007199254740991:f6(t)?10:11:rt(28295,{value:t})}function Ts(t,e){if(t===e)return!0;const n=ho(t);if(n!==ho(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xd(t).isEqual(Xd(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=uo(i.timestampValue),c=uo(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return co(i.bytesValue).isEqual(co(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return En(i.geoPointValue.latitude)===En(o.geoPointValue.latitude)&&En(i.geoPointValue.longitude)===En(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return En(i.integerValue)===En(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=En(i.doubleValue),c=En(o.doubleValue);return l===c?pp(l)===pp(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return Vu(t.arrayValue.values||[],e.arrayValue.values||[],Ts);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(FE(l)!==FE(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!Ts(l[d],c[d])))return!1;return!0}(t,e);default:return rt(52216,{left:t})}}function Qd(t,e){return(t.values||[]).find(n=>Ts(n,e))!==void 0}function zu(t,e){if(t===e)return 0;const n=ho(t),r=ho(e);if(n!==r)return vt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return vt(t.booleanValue,e.booleanValue);case 2:return function(o,l){const c=En(o.integerValue||o.doubleValue),d=En(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return $E(t.timestampValue,e.timestampValue);case 4:return $E(Xd(t),Xd(e));case 5:return ab(t.stringValue,e.stringValue);case 6:return function(o,l){const c=co(o),d=co(l);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),d=l.split("/");for(let f=0;f<c.length&&f<d.length;f++){const p=vt(c[f],d[f]);if(p!==0)return p}return vt(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,l){const c=vt(En(o.latitude),En(l.latitude));return c!==0?c:vt(En(o.longitude),En(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return qE(t.arrayValue,e.arrayValue);case 10:return function(o,l){var c,d,f,p;const y=o.fields||{},x=l.fields||{},E=(c=y[vp])===null||c===void 0?void 0:c.arrayValue,N=(d=x[vp])===null||d===void 0?void 0:d.arrayValue,P=vt(((f=E?.values)===null||f===void 0?void 0:f.length)||0,((p=N?.values)===null||p===void 0?void 0:p.length)||0);return P!==0?P:qE(E,N)}(t.mapValue,e.mapValue);case 11:return function(o,l){if(o===fm.mapValue&&l===fm.mapValue)return 0;if(o===fm.mapValue)return 1;if(l===fm.mapValue)return-1;const c=o.fields||{},d=Object.keys(c),f=l.fields||{},p=Object.keys(f);d.sort(),p.sort();for(let y=0;y<d.length&&y<p.length;++y){const x=ab(d[y],p[y]);if(x!==0)return x;const E=zu(c[d[y]],f[p[y]]);if(E!==0)return E}return vt(d.length,p.length)}(t.mapValue,e.mapValue);default:throw rt(23264,{le:n})}}function $E(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return vt(t,e);const n=uo(t),r=uo(e),i=vt(n.seconds,r.seconds);return i!==0?i:vt(n.nanos,r.nanos)}function qE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=zu(n[i],r[i]);if(o)return o}return vt(n.length,r.length)}function Bu(t){return ob(t)}function ob(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=uo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return co(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Be.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=ob(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${ob(n.fields[l])}`;return i+"}"}(t.mapValue):rt(61005,{value:t})}function zm(t){switch(ho(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=og(t);return e?16+zm(e):16;case 5:return 2*t.stringValue.length;case 6:return co(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+zm(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return yo(r.fields,(o,l)=>{i+=o.length+zm(l)}),i}(t.mapValue);default:throw rt(13486,{value:t})}}function yp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function lb(t){return!!t&&"integerValue"in t}function Px(t){return!!t&&"arrayValue"in t}function GE(t){return!!t&&"nullValue"in t}function KE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bm(t){return!!t&&"mapValue"in t}function f6(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[fI])===null||n===void 0?void 0:n.stringValue)===mI}function jd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return yo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=jd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function m6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===h6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.value=e}static empty(){return new Or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jd(n)}setAll(e){let n=Xn.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=jd(l):i.push(c.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Bm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ts(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Bm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){yo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Or(jd(this.value))}}function pI(t){const e=[];return yo(t.fields,(n,r)=>{const i=new Xn([n]);if(Bm(r)){const o=pI(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new Jr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,n,r,i,o,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new pr(e,0,ut.min(),ut.min(),ut.min(),Or.empty(),0)}static newFoundDocument(e,n,r,i){return new pr(e,1,n,ut.min(),r,i,0)}static newNoDocument(e,n){return new pr(e,2,n,ut.min(),ut.min(),Or.empty(),0)}static newUnknownDocument(e,n){return new pr(e,3,n,ut.min(),ut.min(),Or.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ut.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ut.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n){this.position=e,this.inclusive=n}}function WE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],l=t.position[i];if(o.field.isKeyField()?r=Be.comparator(Be.fromName(l.referenceValue),n.key):r=zu(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function YE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ts(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n="asc"){this.field=e,this.dir=n}}function p6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{}class jn extends gI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new v6(e,n,r):n==="array-contains"?new x6(e,r):n==="in"?new w6(e,r):n==="not-in"?new _6(e,r):n==="array-contains-any"?new S6(e,r):new jn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new y6(e,r):new b6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(zu(n,this.value)):n!==null&&ho(this.value)===ho(n)&&this.matchesComparison(zu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zi extends gI{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new zi(e,n)}matches(e){return vI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function vI(t){return t.op==="and"}function yI(t){return g6(t)&&vI(t)}function g6(t){for(const e of t.filters)if(e instanceof zi)return!1;return!0}function ub(t){if(t instanceof jn)return t.field.canonicalString()+t.op.toString()+Bu(t.value);if(yI(t))return t.filters.map(e=>ub(e)).join(",");{const e=t.filters.map(n=>ub(n)).join(",");return`${t.op}(${e})`}}function bI(t,e){return t instanceof jn?function(r,i){return i instanceof jn&&r.op===i.op&&r.field.isEqual(i.field)&&Ts(r.value,i.value)}(t,e):t instanceof zi?function(r,i){return i instanceof zi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,c)=>o&&bI(l,i.filters[c]),!0):!1}(t,e):void rt(19439)}function xI(t){return t instanceof jn?function(n){return`${n.field.canonicalString()} ${n.op} ${Bu(n.value)}`}(t):t instanceof zi?function(n){return n.op.toString()+" {"+n.getFilters().map(xI).join(" ,")+"}"}(t):"Filter"}class v6 extends jn{constructor(e,n,r){super(e,n,r),this.key=Be.fromName(r.referenceValue)}matches(e){const n=Be.comparator(e.key,this.key);return this.matchesComparison(n)}}class y6 extends jn{constructor(e,n){super(e,"in",n),this.keys=wI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class b6 extends jn{constructor(e,n){super(e,"not-in",n),this.keys=wI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Be.fromName(r.referenceValue))}class x6 extends jn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Px(n)&&Qd(n.arrayValue,this.value)}}class w6 extends jn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Qd(this.value.arrayValue,n)}}class _6 extends jn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Qd(this.value.arrayValue,n)}}class S6 extends jn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Px(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Qd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e,n=null,r=[],i=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.Pe=null}}function XE(t,e=null,n=[],r=[],i=null,o=null,l=null){return new T6(t,e,n,r,i,o,l)}function Dx(t){const e=ct(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ub(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),sg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Bu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Bu(r)).join(",")),e.Pe=n}return e.Pe}function jx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!p6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!YE(t.startAt,e.startAt)&&YE(t.endAt,e.endAt)}function cb(t){return Be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n=null,r=[],i=[],o=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=d,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function E6(t,e,n,r,i,o,l,c){return new wl(t,e,n,r,i,o,l,c)}function lg(t){return new wl(t)}function QE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function kx(t){return t.collectionGroup!==null}function Mu(t){const e=ct(t);if(e.Te===null){e.Te=[];const n=new Set;for(const o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Fn(Xn.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Zd(o,r))}),n.has(Xn.keyField().canonicalString())||e.Te.push(new Zd(Xn.keyField(),r))}return e.Te}function vs(t){const e=ct(t);return e.Ie||(e.Ie=A6(e,Mu(t))),e.Ie}function A6(t,e){if(t.limitType==="F")return XE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Zd(i.field,o)});const n=t.endAt?new Fu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Fu(t.startAt.position,t.startAt.inclusive):null;return XE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function db(t,e){const n=t.filters.concat([e]);return new wl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function bp(t,e,n){return new wl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ug(t,e){return jx(vs(t),vs(e))&&t.limitType===e.limitType}function _I(t){return`${Dx(vs(t))}|lt:${t.limitType}`}function hu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>xI(i)).join(", ")}]`),sg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Bu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Bu(i)).join(",")),`Target(${r})`}(vs(t))}; limitType=${t.limitType})`}function cg(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Be.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Mu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(l,c,d){const f=WE(l,c,d);return l.inclusive?f<=0:f<0}(r.startAt,Mu(r),i)||r.endAt&&!function(l,c,d){const f=WE(l,c,d);return l.inclusive?f>=0:f>0}(r.endAt,Mu(r),i))}(t,e)}function C6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function SI(t){return(e,n)=>{let r=!1;for(const i of Mu(t)){const o=R6(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function R6(t,e,n){const r=t.field.isKeyField()?Be.comparator(e.key,n.key):function(o,l,c){const d=l.data.field(o),f=c.data.field(o);return d!==null&&f!==null?zu(d,f):rt(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return rt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){yo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return oI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=new mn(Be.comparator);function ha(){return N6}const TI=new mn(Be.comparator);function Cd(...t){let e=TI;for(const n of t)e=e.insert(n.key,n);return e}function EI(t){let e=TI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function tl(){return kd()}function AI(){return kd()}function kd(){return new _l(t=>t.toString(),(t,e)=>t.isEqual(e))}const I6=new mn(Be.comparator),M6=new Fn(Be.comparator);function At(...t){let e=M6;for(const n of t)e=e.add(n);return e}const O6=new Fn(vt);function P6(){return O6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pp(e)?"-0":e}}function CI(t){return{integerValue:""+t}}function D6(t,e){return o6(e)?CI(e):Lx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(){this._=void 0}}function j6(t,e,n){return t instanceof Jd?function(i,o){const l={fields:{[cI]:{stringValue:uI},[hI]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&ag(o)&&(o=og(o)),o&&(l.fields[dI]=o),{mapValue:l}}(n,e):t instanceof eh?NI(t,e):t instanceof th?II(t,e):function(i,o){const l=RI(i,o),c=ZE(l)+ZE(i.Ee);return lb(l)&&lb(i.Ee)?CI(c):Lx(i.serializer,c)}(t,e)}function k6(t,e,n){return t instanceof eh?NI(t,e):t instanceof th?II(t,e):n}function RI(t,e){return t instanceof xp?function(r){return lb(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Jd extends dg{}class eh extends dg{constructor(e){super(),this.elements=e}}function NI(t,e){const n=MI(e);for(const r of t.elements)n.some(i=>Ts(i,r))||n.push(r);return{arrayValue:{values:n}}}class th extends dg{constructor(e){super(),this.elements=e}}function II(t,e){let n=MI(e);for(const r of t.elements)n=n.filter(i=>!Ts(i,r));return{arrayValue:{values:n}}}class xp extends dg{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function ZE(t){return En(t.integerValue||t.doubleValue)}function MI(t){return Px(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e,n){this.field=e,this.transform=n}}function V6(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof eh&&i instanceof eh||r instanceof th&&i instanceof th?Vu(r.elements,i.elements,Ts):r instanceof xp&&i instanceof xp?Ts(r.Ee,i.Ee):r instanceof Jd&&i instanceof Jd}(t.transform,e.transform)}class U6{constructor(e,n){this.version=e,this.transformResults=n}}class _i{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _i}static exists(e){return new _i(void 0,e)}static updateTime(e){return new _i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class hg{}function OI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Vx(t.key,_i.none()):new _h(t.key,t.data,_i.none());{const n=t.data,r=Or.empty();let i=new Fn(Xn.comparator);for(let o of e.fields)if(!i.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new bo(t.key,r,new Jr(i.toArray()),_i.none())}}function z6(t,e,n){t instanceof _h?function(i,o,l){const c=i.value.clone(),d=e2(i.fieldTransforms,o,l.transformResults);c.setAll(d),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof bo?function(i,o,l){if(!Fm(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=e2(i.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(PI(i)),d.setAll(c),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Ld(t,e,n,r){return t instanceof _h?function(o,l,c,d){if(!Fm(o.precondition,l))return c;const f=o.value.clone(),p=t2(o.fieldTransforms,d,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof bo?function(o,l,c,d){if(!Fm(o.precondition,l))return c;const f=t2(o.fieldTransforms,d,l),p=l.data;return p.setAll(PI(o)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(o,l,c){return Fm(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function B6(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=RI(r.transform,i||null);o!=null&&(n===null&&(n=Or.empty()),n.set(r.field,o))}return n||null}function JE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Vu(r,i,(o,l)=>V6(o,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _h extends hg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class bo extends hg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function PI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function e2(t,e,n){const r=new Map;Ft(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const o=t[i],l=o.transform,c=e.data.field(o.field);r.set(o.field,k6(l,c,n[i]))}return r}function t2(t,e,n){const r=new Map;for(const i of t){const o=i.transform,l=n.data.field(i.field);r.set(i.field,j6(o,l,e))}return r}class Vx extends hg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class F6 extends hg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&z6(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ld(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ld(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=AI();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(i.key)?null:c;const d=OI(l,c);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(ut.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),At())}isEqual(e){return this.batchId===e.batchId&&Vu(this.mutations,e.mutations,(n,r)=>JE(n,r))&&Vu(this.baseMutations,e.baseMutations,(n,r)=>JE(n,r))}}class Ux{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ft(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return I6}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new Ux(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var On,Ot;function G6(t){switch(t){case ye.OK:return rt(64938);case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0;default:return rt(15467,{code:t})}}function DI(t){if(t===void 0)return ca("GRPC error has no .code"),ye.UNKNOWN;switch(t){case On.OK:return ye.OK;case On.CANCELLED:return ye.CANCELLED;case On.UNKNOWN:return ye.UNKNOWN;case On.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case On.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case On.INTERNAL:return ye.INTERNAL;case On.UNAVAILABLE:return ye.UNAVAILABLE;case On.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case On.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case On.NOT_FOUND:return ye.NOT_FOUND;case On.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case On.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case On.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case On.ABORTED:return ye.ABORTED;case On.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case On.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case On.DATA_LOSS:return ye.DATA_LOSS;default:return rt(39323,{code:t})}}(Ot=On||(On={}))[Ot.OK=0]="OK",Ot[Ot.CANCELLED=1]="CANCELLED",Ot[Ot.UNKNOWN=2]="UNKNOWN",Ot[Ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ot[Ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ot[Ot.NOT_FOUND=5]="NOT_FOUND",Ot[Ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ot[Ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ot[Ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ot[Ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ot[Ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ot[Ot.ABORTED=10]="ABORTED",Ot[Ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ot[Ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ot[Ot.INTERNAL=13]="INTERNAL",Ot[Ot.UNAVAILABLE=14]="UNAVAILABLE",Ot[Ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=new io([4294967295,4294967295],0);function n2(t){const e=nI().encode(t),n=new KN;return n.update(e),new Uint8Array(n.digest())}function r2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new io([n,r],0),new io([i,o],0)]}class zx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Rd(`Invalid padding: ${n}`);if(r<0)throw new Rd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Rd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Rd(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=io.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(io.fromNumber(r)));return i.compare(K6)===1&&(i=new io([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=n2(e),[r,i]=r2(n);for(let o=0;o<this.hashCount;o++){const l=this.pe(r,i,o);if(!this.ye(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new zx(o,i,n);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.fe===0)return;const n=n2(e),[r,i]=r2(n);for(let o=0;o<this.hashCount;o++){const l=this.pe(r,i,o);this.we(l)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Rd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Sh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new fg(ut.min(),i,new mn(vt),ha(),At())}}class Sh{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Sh(r,n,At(),At(),At())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class jI{constructor(e,n){this.targetId=e,this.De=n}}class kI{constructor(e,n,r=Zn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class i2{constructor(){this.ve=0,this.Ce=s2(),this.Fe=Zn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=At(),n=At(),r=At();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:rt(38017,{changeType:o})}}),new Sh(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=s2()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class W6{constructor(e){this.We=e,this.Ge=new Map,this.ze=ha(),this.je=mm(),this.Je=mm(),this.He=new mn(vt)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:rt(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const o=i.target;if(cb(o))if(r===0){const l=new Be(o.path);this.Xe(n,l,pr.newNoDocument(l,ut.min()))}else Ft(r===1,20013,{expectedCount:r});else{const l=this.ot(n);if(l!==r){const c=this._t(e),d=c?this.ut(c,e,l):1;if(d!==0){this.rt(n);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,f)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let l,c;try{l=co(r).toUint8Array()}catch(d){if(d instanceof lI)return da("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new zx(l,i,o)}catch(d){return da(d instanceof Rd?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.fe===0?null:c}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const l=this.We.lt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Xe(n,o,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((o,l)=>{const c=this.st(l);if(c){if(o.current&&cb(c.target)){const d=new Be(c.target.path);this.Tt(d).has(l)||this.It(l,d)||this.Xe(l,d,pr.newNoDocument(d,e))}o.Ne&&(n.set(l,o.Le()),o.ke())}});let r=At();this.Je.forEach((o,l)=>{let c=!0;l.forEachWhile(d=>{const f=this.st(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ze.forEach((o,l)=>l.setReadTime(e));const i=new fg(e,n,this.He,this.ze,r);return this.ze=ha(),this.je=mm(),this.Je=mm(),this.He=new mn(vt),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new i2,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Fn(vt),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Fn(vt),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||Oe("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new i2),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function mm(){return new mn(Be.comparator)}function s2(){return new mn(Be.comparator)}const Y6={asc:"ASCENDING",desc:"DESCENDING"},X6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Q6={and:"AND",or:"OR"};class Z6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hb(t,e){return t.useProto3Json||sg(e)?e:{value:e}}function wp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function J6(t,e){return wp(t,e.toTimestamp())}function ys(t){return Ft(!!t,49232),ut.fromTimestamp(function(n){const r=uo(n);return new tn(r.seconds,r.nanos)}(t))}function Bx(t,e){return fb(t,e).canonicalString()}function fb(t,e){const n=function(i){return new en(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function VI(t){const e=en.fromString(t);return Ft(HI(e),10190,{key:e.toString()}),e}function mb(t,e){return Bx(t.databaseId,e.path)}function r0(t,e){const n=VI(e);if(n.get(1)!==t.databaseId.projectId)throw new Re(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Re(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Be(zI(n))}function UI(t,e){return Bx(t.databaseId,e)}function e5(t){const e=VI(t);return e.length===4?en.emptyPath():zI(e)}function pb(t){return new en(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zI(t){return Ft(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function a2(t,e,n){return{name:mb(t,e),fields:n.value.mapValue.fields}}function t5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:rt(39313,{state:f})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(f,p){return f.useProto3Json?(Ft(p===void 0||typeof p=="string",58123),Zn.fromBase64String(p||"")):(Ft(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Zn.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(f){const p=f.code===void 0?ye.UNKNOWN:DI(f.code);return new Re(p,f.message||"")}(l);n=new kI(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=r0(t,r.document.name),o=ys(r.document.updateTime),l=r.document.createTime?ys(r.document.createTime):ut.min(),c=new Or({mapValue:{fields:r.document.fields}}),d=pr.newFoundDocument(i,o,l,c),f=r.targetIds||[],p=r.removedTargetIds||[];n=new Hm(f,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=r0(t,r.document),o=r.readTime?ys(r.readTime):ut.min(),l=pr.newNoDocument(i,o),c=r.removedTargetIds||[];n=new Hm([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=r0(t,r.document),o=r.removedTargetIds||[];n=new Hm([],o,i,null)}else{if(!("filter"in e))return rt(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new q6(i,o),c=r.targetId;n=new jI(c,l)}}return n}function n5(t,e){let n;if(e instanceof _h)n={update:a2(t,e.key,e.value)};else if(e instanceof Vx)n={delete:mb(t,e.key)};else if(e instanceof bo)n={update:a2(t,e.key,e.data),updateMask:d5(e.fieldMask)};else{if(!(e instanceof F6))return rt(16599,{Rt:e.type});n={verify:mb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const c=l.transform;if(c instanceof Jd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof eh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof th)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof xp)return{fieldPath:l.field.canonicalString(),increment:c.Ee};throw rt(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:J6(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:rt(27497)}(t,e.precondition)),n}function r5(t,e){return t&&t.length>0?(Ft(e!==void 0,14353),t.map(n=>function(i,o){let l=i.updateTime?ys(i.updateTime):ys(o);return l.isEqual(ut.min())&&(l=ys(o)),new U6(l,i.transformResults||[])}(n,e))):[]}function i5(t,e){return{documents:[UI(t,e.path)]}}function s5(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=UI(t,i);const o=function(f){if(f.length!==0)return FI(zi.create(f,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const l=function(f){if(f.length!==0)return f.map(p=>function(x){return{field:fu(x.field),direction:l5(x.dir)}}(p))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=hb(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(f){return{before:f.inclusive,values:f.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),{Vt:n,parent:i}}function a5(t){let e=e5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ft(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=function(y){const x=BI(y);return x instanceof zi&&yI(x)?x.getFilters():[x]}(n.where));let l=[];n.orderBy&&(l=function(y){return y.map(x=>function(N){return new Zd(mu(N.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(x))}(n.orderBy));let c=null;n.limit&&(c=function(y){let x;return x=typeof y=="object"?y.value:y,sg(x)?null:x}(n.limit));let d=null;n.startAt&&(d=function(y){const x=!!y.before,E=y.values||[];return new Fu(E,x)}(n.startAt));let f=null;return n.endAt&&(f=function(y){const x=!y.before,E=y.values||[];return new Fu(E,x)}(n.endAt)),E6(e,i,l,o,c,"F",d,f)}function o5(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rt(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=mu(n.unaryFilter.field);return jn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=mu(n.unaryFilter.field);return jn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=mu(n.unaryFilter.field);return jn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=mu(n.unaryFilter.field);return jn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return rt(61313);default:return rt(60726)}}(t):t.fieldFilter!==void 0?function(n){return jn.create(mu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return rt(58110);default:return rt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return zi.create(n.compositeFilter.filters.map(r=>BI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return rt(1026)}}(n.compositeFilter.op))}(t):rt(30097,{filter:t})}function l5(t){return Y6[t]}function u5(t){return X6[t]}function c5(t){return Q6[t]}function fu(t){return{fieldPath:t.canonicalString()}}function mu(t){return Xn.fromServerFormat(t.fieldPath)}function FI(t){return t instanceof jn?function(n){if(n.op==="=="){if(KE(n.value))return{unaryFilter:{field:fu(n.field),op:"IS_NAN"}};if(GE(n.value))return{unaryFilter:{field:fu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(KE(n.value))return{unaryFilter:{field:fu(n.field),op:"IS_NOT_NAN"}};if(GE(n.value))return{unaryFilter:{field:fu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fu(n.field),op:u5(n.op),value:n.value}}}(t):t instanceof zi?function(n){const r=n.getFilters().map(i=>FI(i));return r.length===1?r[0]:{compositeFilter:{op:c5(n.op),filters:r}}}(t):rt(54877,{filter:t})}function d5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function HI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,n,r,i,o=ut.min(),l=ut.min(),c=Zn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new to(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new to(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new to(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new to(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(e){this.gt=e}}function f5(t){const e=a5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?bp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(){this.Dn=new p5}addToCollectionParentIndex(e,n){return this.Dn.add(n),Se.resolve()}getCollectionParents(e,n){return Se.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return Se.resolve()}deleteFieldIndex(e,n){return Se.resolve()}deleteAllFieldIndexes(e){return Se.resolve()}createTargetIndexes(e,n){return Se.resolve()}getDocumentsMatchingTarget(e,n){return Se.resolve(null)}getIndexType(e,n){return Se.resolve(0)}getFieldIndexes(e,n){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,n){return Se.resolve(lo.min())}getMinOffsetFromCollectionGroup(e,n){return Se.resolve(lo.min())}updateCollectionGroup(e,n,r){return Se.resolve()}updateIndexEntries(e,n){return Se.resolve()}}class p5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Fn(en.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Fn(en.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$I=41943040;class Mr{static withCacheSize(e){return new Mr(e,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mr.DEFAULT_COLLECTION_PERCENTILE=10,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mr.DEFAULT=new Mr($I,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mr.DISABLED=new Mr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Hu(0)}static ur(){return new Hu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="LruGarbageCollector",g5=1048576;function u2([t,e],[n,r]){const i=vt(t,n);return i===0?vt(e,r):i}class v5{constructor(e){this.Tr=e,this.buffer=new Fn(u2),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();u2(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class y5{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Oe(l2,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){rc(n)?Oe(l2,"Ignoring IndexedDB error during garbage collection: ",n):await nc(n)}await this.Rr(3e5)})}}class b5{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Se.resolve(ig.ue);const r=new v5(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Oe("LruGarbageCollector","Garbage collection skipped; disabled"),Se.resolve(o2)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),o2):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,l,c,d,f;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(Oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,l=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,c=Date.now(),this.removeTargets(e,r,n))).next(y=>(o=y,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(f=Date.now(),du()<=Et.DEBUG&&Oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${o} targets in `+(d-c)+`ms
	Removed ${y} documents in `+(f-d)+`ms
Total Duration: ${f-p}ms`),Se.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:y})))}}function x5(t,e){return new b5(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(){this.changes=new _l(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ld(r.mutation,i,Jr.empty(),tn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,At()).next(()=>r))}getLocalViewOfDocuments(e,n,r=At()){const i=tl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let l=Cd();return o.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=tl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,At()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,r,i){let o=ha();const l=kd(),c=function(){return kd()}();return n.forEach((d,f)=>{const p=r.get(f.key);i.has(f.key)&&(p===void 0||p.mutation instanceof bo)?o=o.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),Ld(p.mutation,f,p.mutation.getFieldMask(),tn.now())):l.set(f.key,Jr.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((f,p)=>l.set(f,p)),n.forEach((f,p)=>{var y;return c.set(f,new _5(p,(y=l.get(f))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(e,n){const r=kd();let i=new mn((l,c)=>l-c),o=At();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(d=>{const f=n.get(d);if(f===null)return;let p=r.get(d)||Jr.empty();p=c.applyToLocalView(f,p),r.set(d,p);const y=(i.get(c.batchId)||At()).add(d);i=i.insert(c.batchId,y)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),f=d.key,p=d.value,y=AI();p.forEach(x=>{if(!o.has(x)){const E=OI(n.get(x),r.get(x));E!==null&&y.set(x,E),o=o.add(x)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,y))}return Se.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(l){return Be.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Se.resolve(tl());let c=Yd,d=o;return l.next(f=>Se.forEach(f,(p,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),o.get(p)?Se.resolve():this.remoteDocumentCache.getEntry(e,p).next(x=>{d=d.insert(p,x)}))).next(()=>this.populateOverlays(e,f,o)).next(()=>this.computeViews(e,d,f,At())).next(p=>({batchId:c,changes:EI(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Be(n)).next(r=>{let i=Cd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let l=Cd();return this.indexManager.getCollectionParents(e,o).next(c=>Se.forEach(c,d=>{const f=function(y,x){return new wl(x,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(p=>{p.forEach((y,x)=>{l=l.insert(y,x)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(l=>{o.forEach((d,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,pr.newInvalidDocument(p)))});let c=Cd();return l.forEach((d,f)=>{const p=o.get(d);p!==void 0&&Ld(p.mutation,f,Jr.empty(),tn.now()),cg(n,f)&&(c=c.insert(d,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return Se.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ys(i.createTime)}}(n)),Se.resolve()}getNamedQuery(e,n){return Se.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:f5(i.bundledQuery),readTime:ys(i.readTime)}}(n)),Se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(){this.overlays=new mn(Be.comparator),this.kr=new Map}getOverlay(e,n){return Se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=tl();return Se.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),Se.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),Se.resolve()}getOverlaysForCollection(e,n,r){const i=tl(),o=n.length+1,l=new Be(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,f=d.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>r&&i.set(d.getKey(),d)}return Se.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new mn((f,p)=>f-p);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let p=o.get(f.largestBatchId);p===null&&(p=tl(),o=o.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const c=tl(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((f,p)=>c.set(f,p)),!(c.size()>=i)););return Se.resolve(c)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new $6(n,r));let o=this.kr.get(n);o===void 0&&(o=At(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(){this.sessionToken=Zn.EMPTY_BYTE_STRING}getSessionToken(e){return Se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(){this.qr=new Fn(Yn.Qr),this.$r=new Fn(Yn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Yn(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Yn(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new Be(new en([])),r=new Yn(n,e),i=new Yn(n,e+1),o=[];return this.$r.forEachInRange([r,i],l=>{this.Wr(l),o.push(l.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Be(new en([])),r=new Yn(n,e),i=new Yn(n,e+1);let o=At();return this.$r.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const n=new Yn(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Yn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Be.comparator(e.key,n.key)||vt(e.Hr,n.Hr)}static Ur(e,n){return vt(e.Hr,n.Hr)||Be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Fn(Yn.Qr)}checkEmpty(e){return Se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new H6(o,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Yr=this.Yr.add(new Yn(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Se.resolve(l)}lookupMutationBatch(e,n){return Se.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),o=i<0?0:i;return Se.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(this.mutationQueue.length===0?Ox:this.er-1)}getAllMutationBatches(e){return Se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Yn(n,0),i=new Yn(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],l=>{const c=this.Zr(l.Hr);o.push(c)}),Se.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Fn(vt);return n.forEach(i=>{const o=new Yn(i,0),l=new Yn(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,l],c=>{r=r.add(c.Hr)})}),Se.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Be.isDocumentKey(o)||(o=o.child(""));const l=new Yn(new Be(o),0);let c=new Fn(vt);return this.Yr.forEachWhile(d=>{const f=d.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(d.Hr)),!0)},l),Se.resolve(this.ei(c))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ft(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return Se.forEach(n.mutations,i=>{const o=new Yn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new Yn(n,0),i=this.Yr.firstAfterOrEqual(r);return Se.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Se.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e){this.ni=e,this.docs=function(){return new mn(Be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,l=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Se.resolve(r?r.document.mutableCopy():pr.newInvalidDocument(n))}getEntries(e,n){let r=ha();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():pr.newInvalidDocument(i))}),Se.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ha();const l=n.path,c=new Be(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:f,value:{document:p}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||r6(n6(p),r)<=0||(i.has(p.key)||cg(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return Se.resolve(o)}getAllFromCollectionGroup(e,n,r,i){rt(9500)}ri(e,n){return Se.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new N5(this)}getSize(e){return Se.resolve(this.size)}}class N5 extends w5{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),Se.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e){this.persistence=e,this.ii=new _l(n=>Dx(n),jx),this.lastRemoteSnapshotVersion=ut.min(),this.highestTargetId=0,this.si=0,this.oi=new Fx,this.targetCount=0,this._i=Hu.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),Se.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Hu(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,Se.resolve()}updateTargetData(e,n){return this.hr(n),Se.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.ii.forEach((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ii.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),Se.waitFor(o).next(()=>i)}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return Se.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),Se.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),Se.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),Se.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return Se.resolve(r)}containsKey(e,n){return Se.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,n){this.ai={},this.overlays={},this.ui=new ig(0),this.ci=!1,this.ci=!0,this.li=new A5,this.referenceDelegate=e(this),this.hi=new I5(this),this.indexManager=new m5,this.remoteDocumentCache=function(i){return new R5(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new h5(n),this.Ti=new T5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new E5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new C5(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){Oe("MemoryPersistence","Starting transaction:",e);const i=new M5(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return Se.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class M5 extends s6{constructor(e){super(),this.currentSequenceNumber=e}}class Hx{constructor(e){this.persistence=e,this.Ai=new Fx,this.Ri=null}static Vi(e){return new Hx(e)}get mi(){if(this.Ri)return this.Ri;throw rt(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),Se.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),Se.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),Se.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.mi,r=>{const i=Be.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,ut.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return Se.or([()=>Se.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class _p{constructor(e,n){this.persistence=e,this.gi=new _l(r=>l6(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=x5(this,n)}static Vi(e,n){return new _p(e,n)}Ii(){}di(e){return Se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return Se.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?Se.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,l=>this.Sr(e,l,n).next(c=>{c||(r++,o.removeEntry(l,ut.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),Se.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Se.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Se.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),Se.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zm(e.data.value)),n}Sr(e,n,r){return Se.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return Se.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=At(),i=At();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new $x(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return ak()?8:a6(gr())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ps(e,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new O5;return this.ws(e,n,l).next(c=>{if(o.result=c,this.Rs)return this.Ss(e,n,l,c.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(du()<=Et.DEBUG&&Oe("QueryEngine","SDK will not create cache indexes for query:",hu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Se.resolve()):(du()<=Et.DEBUG&&Oe("QueryEngine","Query:",hu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(du()<=Et.DEBUG&&Oe("QueryEngine","The SDK decides to create cache indexes for query:",hu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vs(n))):Se.resolve())}ps(e,n){if(QE(n))return Se.resolve(null);let r=vs(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=bp(n,null,"F"),r=vs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=At(...o);return this.gs.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(d=>{const f=this.bs(n,c);return this.Ds(n,f,l,d.readTime)?this.ps(e,bp(n,null,"F")):this.vs(e,f,n,d)}))})))}ys(e,n,r,i){return QE(n)||i.isEqual(ut.min())?Se.resolve(null):this.gs.getDocuments(e,r).next(o=>{const l=this.bs(n,o);return this.Ds(n,l,r,i)?Se.resolve(null):(du()<=Et.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hu(n)),this.vs(e,l,n,t6(i,Yd)).next(c=>c))})}bs(e,n){let r=new Fn(SI(e));return n.forEach((i,o)=>{cg(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return du()<=Et.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",hu(n)),this.gs.getDocumentsMatchingQuery(e,n,lo.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="LocalStore",D5=3e8;class j5{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new mn(vt),this.Ms=new _l(o=>Dx(o),jx),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new S5(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function k5(t,e,n,r){return new j5(t,e,n,r)}async function GI(t,e){const n=ct(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],c=[];let d=At();for(const f of i){l.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}for(const f of o){c.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}return n.localDocuments.getDocuments(r,d).next(f=>({Bs:f,removedBatchIds:l,addedBatchIds:c}))})})}function L5(t,e){const n=ct(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return function(c,d,f,p){const y=f.batch,x=y.keys();let E=Se.resolve();return x.forEach(N=>{E=E.next(()=>p.getEntry(d,N)).next(P=>{const V=f.docVersions.get(N);Ft(V!==null,48541),P.version.compareTo(V)<0&&(y.applyToRemoteDocument(P,f),P.isValidDocument()&&(P.setReadTime(f.commitVersion),p.addEntry(P)))})}),E.next(()=>c.mutationQueue.removeMutationBatch(d,y))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let d=At();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function KI(t){const e=ct(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function V5(t,e){const n=ct(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const c=[];e.targetChanges.forEach((p,y)=>{const x=i.get(y);if(!x)return;c.push(n.hi.removeMatchingKeys(o,p.removedDocuments,y).next(()=>n.hi.addMatchingKeys(o,p.addedDocuments,y)));let E=x.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?E=E.withResumeToken(Zn.EMPTY_BYTE_STRING,ut.min()).withLastLimboFreeSnapshotVersion(ut.min()):p.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(p.resumeToken,r)),i=i.insert(y,E),function(P,V,D){return P.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=D5?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0}(x,E,p)&&c.push(n.hi.updateTargetData(o,E))});let d=ha(),f=At();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))}),c.push(U5(o,l,e.documentUpdates).next(p=>{d=p.Ls,f=p.ks})),!r.isEqual(ut.min())){const p=n.hi.getLastRemoteSnapshotVersion(o).next(y=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(p)}return Se.waitFor(c).next(()=>l.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,d,f)).next(()=>d)}).then(o=>(n.Fs=i,o))}function U5(t,e,n){let r=At(),i=At();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let l=ha();return n.forEach((c,d)=>{const f=o.get(c);d.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(ut.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):Oe(qx,"Ignoring outdated watch update for ",c,". Current version:",f.version," Watch version:",d.version)}),{Ls:l,ks:i}})}function z5(t,e){const n=ct(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ox),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function B5(t,e){const n=ct(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,Se.resolve(i)):n.hi.allocateTargetId(r).next(l=>(i=new to(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function gb(t,e,n){const r=ct(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!rc(l))throw l;Oe(qx,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function c2(t,e,n){const r=ct(t);let i=ut.min(),o=At();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,f,p){const y=ct(d),x=y.Ms.get(p);return x!==void 0?Se.resolve(y.Fs.get(x)):y.hi.getTargetData(f,p)}(r,l,vs(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(l,c.targetId).next(d=>{o=d})}).next(()=>r.Cs.getDocumentsMatchingQuery(l,e,n?i:ut.min(),n?o:At())).next(c=>(F5(r,C6(e),c),{documents:c,qs:o})))}function F5(t,e,n){let r=t.xs.get(e)||ut.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}class d2{constructor(){this.activeTargetIds=P6()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class H5{constructor(){this.Fo=new d2,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new d2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="ConnectivityMonitor";class f2{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Oe(h2,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Oe(h2,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pm=null;function vb(){return pm===null?pm=function(){return 268435456+Math.round(2147483648*Math.random())}():pm++,"0x"+pm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="RestConnection",q5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class G5{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===gp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){const l=vb(),c=this.Go(e,n.toUriEncodedString());Oe(i0,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(d,i,o);const{host:f}=new URL(c),p=vo(f);return this.jo(e,c,d,r,p).then(y=>(Oe(i0,`Received RPC '${e}' ${l}: `,y),y),y=>{throw da(i0,`RPC '${e}' ${l} failed with error: `,y,"url: ",c,"request:",r),y})}Jo(e,n,r,i,o,l){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){const r=q5[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr="WebChannelConnection";class W5 extends G5{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){const l=vb();return new Promise((c,d)=>{const f=new WN;f.setWithCredentials(!0),f.listenOnce(YN.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Um.NO_ERROR:const y=f.getResponseJson();Oe(hr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case Um.TIMEOUT:Oe(hr,`RPC '${e}' ${l} timed out`),d(new Re(ye.DEADLINE_EXCEEDED,"Request time out"));break;case Um.HTTP_ERROR:const x=f.getStatus();if(Oe(hr,`RPC '${e}' ${l} failed with status:`,x,"response text:",f.getResponseText()),x>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const N=E?.error;if(N&&N.status&&N.message){const P=function(D){const B=D.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(B)>=0?B:ye.UNKNOWN}(N.status);d(new Re(P,N.message))}else d(new Re(ye.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Re(ye.UNAVAILABLE,"Connection failed."));break;default:rt(9055,{c_:e,streamId:l,l_:f.getLastErrorCode(),h_:f.getLastError()})}}finally{Oe(hr,`RPC '${e}' ${l} completed.`)}});const p=JSON.stringify(i);Oe(hr,`RPC '${e}' ${l} sending request:`,i),f.send(n,"POST",p,r,15)})}P_(e,n,r){const i=vb(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=ZN(),c=QN(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.zo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const p=o.join("");Oe(hr,`Creating RPC '${e}' stream ${i}: ${p}`,d);const y=l.createWebChannel(p,d);this.T_(y);let x=!1,E=!1;const N=new K5({Ho:V=>{E?Oe(hr,`Not sending because RPC '${e}' stream ${i} is closed:`,V):(x||(Oe(hr,`Opening RPC '${e}' stream ${i} transport.`),y.open(),x=!0),Oe(hr,`RPC '${e}' stream ${i} sending:`,V),y.send(V))},Yo:()=>y.close()}),P=(V,D,B)=>{V.listen(D,F=>{try{B(F)}catch(Y){setTimeout(()=>{throw Y},0)}})};return P(y,Ad.EventType.OPEN,()=>{E||(Oe(hr,`RPC '${e}' stream ${i} transport opened.`),N.s_())}),P(y,Ad.EventType.CLOSE,()=>{E||(E=!0,Oe(hr,`RPC '${e}' stream ${i} transport closed`),N.__(),this.I_(y))}),P(y,Ad.EventType.ERROR,V=>{E||(E=!0,da(hr,`RPC '${e}' stream ${i} transport errored. Name:`,V.name,"Message:",V.message),N.__(new Re(ye.UNAVAILABLE,"The operation could not be completed")))}),P(y,Ad.EventType.MESSAGE,V=>{var D;if(!E){const B=V.data[0];Ft(!!B,16349);const F=B,Y=F?.error||((D=F[0])===null||D===void 0?void 0:D.error);if(Y){Oe(hr,`RPC '${e}' stream ${i} received error:`,Y);const M=Y.status;let O=function(R){const T=On[R];if(T!==void 0)return DI(T)}(M),C=Y.message;O===void 0&&(O=ye.INTERNAL,C="Unknown error status: "+M+" with message "+Y.message),E=!0,N.__(new Re(O,C)),y.close()}else Oe(hr,`RPC '${e}' stream ${i} received:`,B),N.a_(B)}}),P(c,XN.STAT_EVENT,V=>{V.stat===sb.PROXY?Oe(hr,`RPC '${e}' stream ${i} detected buffering proxy`):V.stat===sb.NOPROXY&&Oe(hr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{N.o_()},0),N}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function s0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(t){return new Z6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&Oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="PersistentStream";class YI{constructor(e,n,r,i,o,l,c,d){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new WI(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===ye.RESOURCE_EXHAUSTED?(ca(n.toString()),ca("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new Re(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Oe(m2,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(Oe(m2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Y5 extends YI{constructor(e,n,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=t5(this.serializer,e),r=function(o){if(!("targetChange"in o))return ut.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?ut.min():l.readTime?ys(l.readTime):ut.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=pb(this.serializer),n.addTarget=function(o,l){let c;const d=l.target;if(c=cb(d)?{documents:i5(o,d)}:{query:s5(o,d).Vt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=LI(o,l.resumeToken);const f=hb(o,l.expectedCount);f!==null&&(c.expectedCount=f)}else if(l.snapshotVersion.compareTo(ut.min())>0){c.readTime=wp(o,l.snapshotVersion.toTimestamp());const f=hb(o,l.expectedCount);f!==null&&(c.expectedCount=f)}return c}(this.serializer,e);const r=o5(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=pb(this.serializer),n.removeTarget=e,this.k_(n)}}class X5 extends YI{constructor(e,n,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=r5(e.writeResults,e.commitTime),r=ys(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=pb(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>n5(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{}class Z5 extends Q5{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new Re(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Wo(e,fb(n,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Re(ye.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Jo(e,fb(n,r),i,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Re(ye.UNKNOWN,l.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class J5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ca(n),this._a=!1):Oe("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl="RemoteStore";class eU{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(l=>{r.enqueueAndForget(async()=>{Sl(this)&&(Oe(fl,"Restarting streams for network reachability change."),await async function(d){const f=ct(d);f.Ia.add(4),await Th(f),f.Aa.set("Unknown"),f.Ia.delete(4),await pg(f)}(this))})}),this.Aa=new J5(r,i)}}async function pg(t){if(Sl(t))for(const e of t.da)await e(!0)}async function Th(t){for(const e of t.da)await e(!1)}function XI(t,e){const n=ct(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Yx(n)?Wx(n):ic(n).x_()&&Kx(n,e))}function Gx(t,e){const n=ct(t),r=ic(n);n.Ta.delete(e),r.x_()&&QI(n,e),n.Ta.size===0&&(r.x_()?r.B_():Sl(n)&&n.Aa.set("Unknown"))}function Kx(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ut.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ic(t).H_(e)}function QI(t,e){t.Ra.$e(e),ic(t).Y_(e)}function Wx(t){t.Ra=new W6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),ic(t).start(),t.Aa.aa()}function Yx(t){return Sl(t)&&!ic(t).M_()&&t.Ta.size>0}function Sl(t){return ct(t).Ia.size===0}function ZI(t){t.Ra=void 0}async function tU(t){t.Aa.set("Online")}async function nU(t){t.Ta.forEach((e,n)=>{Kx(t,e)})}async function rU(t,e){ZI(t),Yx(t)?(t.Aa.la(e),Wx(t)):t.Aa.set("Unknown")}async function iU(t,e,n){if(t.Aa.set("Online"),e instanceof kI&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const c of o.targetIds)i.Ta.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ta.delete(c),i.Ra.removeTarget(c))}(t,e)}catch(r){Oe(fl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Sp(t,r)}else if(e instanceof Hm?t.Ra.Ye(e):e instanceof jI?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ut.min()))try{const r=await KI(t.localStore);n.compareTo(r)>=0&&await function(o,l){const c=o.Ra.Pt(l);return c.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const p=o.Ta.get(f);p&&o.Ta.set(f,p.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,f)=>{const p=o.Ta.get(d);if(!p)return;o.Ta.set(d,p.withResumeToken(Zn.EMPTY_BYTE_STRING,p.snapshotVersion)),QI(o,d);const y=new to(p.target,d,f,p.sequenceNumber);Kx(o,y)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){Oe(fl,"Failed to raise snapshot:",r),await Sp(t,r)}}async function Sp(t,e,n){if(!rc(e))throw e;t.Ia.add(1),await Th(t),t.Aa.set("Offline"),n||(n=()=>KI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Oe(fl,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await pg(t)})}function JI(t,e){return e().catch(n=>Sp(t,n,e))}async function gg(t){const e=ct(t),n=fo(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Ox;for(;sU(e);)try{const i=await z5(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,aU(e,i)}catch(i){await Sp(e,i)}eM(e)&&tM(e)}function sU(t){return Sl(t)&&t.Pa.length<10}function aU(t,e){t.Pa.push(e);const n=fo(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function eM(t){return Sl(t)&&!fo(t).M_()&&t.Pa.length>0}function tM(t){fo(t).start()}async function oU(t){fo(t).na()}async function lU(t){const e=fo(t);for(const n of t.Pa)e.X_(n.mutations)}async function uU(t,e,n){const r=t.Pa.shift(),i=Ux.from(r,e,n);await JI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await gg(t)}async function cU(t,e){e&&fo(t).Z_&&await async function(r,i){if(function(l){return G6(l)&&l!==ye.ABORTED}(i.code)){const o=r.Pa.shift();fo(r).N_(),await JI(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await gg(r)}}(t,e),eM(t)&&tM(t)}async function p2(t,e){const n=ct(t);n.asyncQueue.verifyOperationInProgress(),Oe(fl,"RemoteStore received new credentials");const r=Sl(n);n.Ia.add(3),await Th(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await pg(n)}async function dU(t,e){const n=ct(t);e?(n.Ia.delete(2),await pg(n)):e||(n.Ia.add(2),await Th(n),n.Aa.set("Unknown"))}function ic(t){return t.Va||(t.Va=function(n,r,i){const o=ct(n);return o.ia(),new Y5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:tU.bind(null,t),e_:nU.bind(null,t),n_:rU.bind(null,t),J_:iU.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),Yx(t)?Wx(t):t.Aa.set("Unknown")):(await t.Va.stop(),ZI(t))})),t.Va}function fo(t){return t.ma||(t.ma=function(n,r,i){const o=ct(n);return o.ia(),new X5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:oU.bind(null,t),n_:cU.bind(null,t),ea:lU.bind(null,t),ta:uU.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await gg(t)):(await t.ma.stop(),t.Pa.length>0&&(Oe(fl,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ia,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const l=Date.now()+r,c=new Xx(e,n,l,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qx(t,e){if(ca("AsyncQueue",`${e}: ${t}`),rc(t))return new Re(ye.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{static emptySet(e){return new Ou(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Be.comparator(n.key,r.key):(n,r)=>Be.comparator(n.key,r.key),this.keyedMap=Cd(),this.sortedSet=new mn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ou)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ou;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.fa=new mn(Be.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):rt(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class $u{constructor(e,n,r,i,o,l,c,d,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,o){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new $u(e,n,Ou.emptySet(n),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ug(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class fU{constructor(){this.queries=v2(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=ct(n),o=i.queries;i.queries=v2(),o.forEach((l,c)=>{for(const d of c.wa)d.onError(r)})})(this,new Re(ye.ABORTED,"Firestore shutting down"))}}function v2(){return new _l(t=>_I(t),ug)}async function Zx(t,e){const n=ct(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new hU,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await n.onListen(i,!0);break;case 1:o.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=Qx(l,`Initialization of query '${hu(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&ew(n)}async function Jx(t,e){const n=ct(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const l=o.wa.indexOf(e);l>=0&&(o.wa.splice(l,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function mU(t,e){const n=ct(t);let r=!1;for(const i of e){const o=i.query,l=n.queries.get(o);if(l){for(const c of l.wa)c.Ca(i)&&(r=!0);l.ya=i}}r&&ew(n)}function pU(t,e,n){const r=ct(t),i=r.queries.get(e);if(i)for(const o of i.wa)o.onError(n);r.queries.delete(e)}function ew(t){t.Da.forEach(e=>{e.next()})}var yb,y2;(y2=yb||(yb={})).Fa="default",y2.Cache="cache";class tw{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new $u(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=$u.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==yb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(e){this.key=e}}class rM{constructor(e){this.key=e}}class gU{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=At(),this.mutatedKeys=At(),this.Xa=SI(e),this.eu=new Ou(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new g2,i=n?n.eu:this.eu;let o=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,y)=>{const x=i.get(p),E=cg(this.query,y)?y:null,N=!!x&&this.mutatedKeys.has(x.key),P=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let V=!1;x&&E?x.data.isEqual(E.data)?N!==P&&(r.track({type:3,doc:E}),V=!0):this.iu(x,E)||(r.track({type:2,doc:E}),V=!0,(d&&this.Xa(E,d)>0||f&&this.Xa(E,f)<0)&&(c=!0)):!x&&E?(r.track({type:0,doc:E}),V=!0):x&&!E&&(r.track({type:1,doc:x}),V=!0,(d||f)&&(c=!0)),V&&(E?(l=l.add(E),o=P?o.add(p):o.delete(p)):(l=l.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{eu:l,ru:r,Ds:c,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const l=e.ru.pa();l.sort((p,y)=>function(E,N){const P=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt(20277,{At:V})}};return P(E)-P(N)}(p.type,y.type)||this.Xa(p.doc,y.doc)),this.su(r),i=i!=null&&i;const c=n&&!i?this.ou():[],d=this.Za.size===0&&this.current&&!i?1:0,f=d!==this.Ya;return this.Ya=d,l.length!==0||f?{snapshot:new $u(this.query,e.eu,o,l,e.mutatedKeys,d===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new g2,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=At(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new rM(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new nM(r))}),n}uu(e){this.Ha=e.qs,this.Za=At();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return $u.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const nw="SyncEngine";class vU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class yU{constructor(e){this.key=e,this.lu=!1}}class bU{constructor(e,n,r,i,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.hu={},this.Pu=new _l(c=>_I(c),ug),this.Tu=new Map,this.Iu=new Set,this.du=new mn(Be.comparator),this.Eu=new Map,this.Au=new Fx,this.Ru={},this.Vu=new Map,this.mu=Hu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function xU(t,e,n=!0){const r=uM(t);let i;const o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await iM(r,e,n,!0),i}async function wU(t,e){const n=uM(t);await iM(n,e,!0,!1)}async function iM(t,e,n,r){const i=await B5(t.localStore,vs(e)),o=i.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let c;return r&&(c=await _U(t,e,o,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&XI(t.remoteStore,i),c}async function _U(t,e,n,r,i){t.gu=(y,x,E)=>async function(P,V,D,B){let F=V.view.nu(D);F.Ds&&(F=await c2(P.localStore,V.query,!1).then(({documents:C})=>V.view.nu(C,F)));const Y=B&&B.targetChanges.get(V.targetId),M=B&&B.targetMismatches.get(V.targetId)!=null,O=V.view.applyChanges(F,P.isPrimaryClient,Y,M);return x2(P,V.targetId,O._u),O.snapshot}(t,y,x,E);const o=await c2(t.localStore,e,!0),l=new gU(e,o.qs),c=l.nu(o.documents),d=Sh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=l.applyChanges(c,t.isPrimaryClient,d);x2(t,n,f._u);const p=new vU(e,n,l);return t.Pu.set(e,p),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),f.snapshot}async function SU(t,e,n){const r=ct(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(l=>!ug(l,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await gb(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Gx(r.remoteStore,i.targetId),bb(r,i.targetId)}).catch(nc)):(bb(r,i.targetId),await gb(r.localStore,i.targetId,!0))}async function TU(t,e){const n=ct(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Gx(n.remoteStore,r.targetId))}async function EU(t,e,n){const r=OU(t);try{const i=await function(l,c){const d=ct(l),f=tn.now(),p=c.reduce((E,N)=>E.add(N.key),At());let y,x;return d.persistence.runTransaction("Locally write mutations","readwrite",E=>{let N=ha(),P=At();return d.Os.getEntries(E,p).next(V=>{N=V,N.forEach((D,B)=>{B.isValidDocument()||(P=P.add(D))})}).next(()=>d.localDocuments.getOverlayedDocuments(E,N)).next(V=>{y=V;const D=[];for(const B of c){const F=B6(B,y.get(B.key).overlayedDocument);F!=null&&D.push(new bo(B.key,F,pI(F.value.mapValue),_i.exists(!0)))}return d.mutationQueue.addMutationBatch(E,f,D,c)}).next(V=>{x=V;const D=V.applyToLocalDocumentSet(y,P);return d.documentOverlayCache.saveOverlays(E,V.batchId,D)})}).then(()=>({batchId:x.batchId,changes:EI(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,d){let f=l.Ru[l.currentUser.toKey()];f||(f=new mn(vt)),f=f.insert(c,d),l.Ru[l.currentUser.toKey()]=f}(r,i.batchId,n),await Eh(r,i.changes),await gg(r.remoteStore)}catch(i){const o=Qx(i,"Failed to persist write");n.reject(o)}}async function sM(t,e){const n=ct(t);try{const r=await V5(n.localStore,e);e.targetChanges.forEach((i,o)=>{const l=n.Eu.get(o);l&&(Ft(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.lu=!0:i.modifiedDocuments.size>0?Ft(l.lu,14607):i.removedDocuments.size>0&&(Ft(l.lu,42227),l.lu=!1))}),await Eh(n,r,e)}catch(r){await nc(r)}}function b2(t,e,n){const r=ct(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((o,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const d=ct(l);d.onlineState=c;let f=!1;d.queries.forEach((p,y)=>{for(const x of y.wa)x.va(c)&&(f=!0)}),f&&ew(d)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function AU(t,e,n){const r=ct(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),o=i&&i.key;if(o){let l=new mn(Be.comparator);l=l.insert(o,pr.newNoDocument(o,ut.min()));const c=At().add(o),d=new fg(ut.min(),new Map,new mn(vt),l,c);await sM(r,d),r.du=r.du.remove(o),r.Eu.delete(e),rw(r)}else await gb(r.localStore,e,!1).then(()=>bb(r,e,n)).catch(nc)}async function CU(t,e){const n=ct(t),r=e.batch.batchId;try{const i=await L5(n.localStore,e);oM(n,r,null),aM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Eh(n,i)}catch(i){await nc(i)}}async function RU(t,e,n){const r=ct(t);try{const i=await function(l,c){const d=ct(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let p;return d.mutationQueue.lookupMutationBatch(f,c).next(y=>(Ft(y!==null,37113),p=y.keys(),d.mutationQueue.removeMutationBatch(f,y))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,p,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p)).next(()=>d.localDocuments.getDocuments(f,p))})}(r.localStore,e);oM(r,e,n),aM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Eh(r,i)}catch(i){await nc(i)}}function aM(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function oM(t,e,n){const r=ct(t);let i=r.Ru[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function bb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||lM(t,r)})}function lM(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Gx(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),rw(t))}function x2(t,e,n){for(const r of n)r instanceof nM?(t.Au.addReference(r.key,e),NU(t,r)):r instanceof rM?(Oe(nw,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||lM(t,r.key)):rt(19791,{yu:r})}function NU(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(Oe(nw,"New document in limbo: "+n),t.Iu.add(r),rw(t))}function rw(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Be(en.fromString(e)),r=t.mu.next();t.Eu.set(r,new yU(n)),t.du=t.du.insert(n,r),XI(t.remoteStore,new to(vs(lg(n.path)),r,"TargetPurposeLimboResolution",ig.ue))}}async function Eh(t,e,n){const r=ct(t),i=[],o=[],l=[];r.Pu.isEmpty()||(r.Pu.forEach((c,d)=>{l.push(r.gu(d,e,n).then(f=>{var p;if((f||n)&&r.isPrimaryClient){const y=f?!f.fromCache:(p=n?.targetChanges.get(d.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(f){i.push(f);const y=$x.Es(d.targetId,f);o.push(y)}}))}),await Promise.all(l),r.hu.J_(i),await async function(d,f){const p=ct(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>Se.forEach(f,x=>Se.forEach(x.Is,E=>p.persistence.referenceDelegate.addReference(y,x.targetId,E)).next(()=>Se.forEach(x.ds,E=>p.persistence.referenceDelegate.removeReference(y,x.targetId,E)))))}catch(y){if(!rc(y))throw y;Oe(qx,"Failed to update sequence numbers: "+y)}for(const y of f){const x=y.targetId;if(!y.fromCache){const E=p.Fs.get(x),N=E.snapshotVersion,P=E.withLastLimboFreeSnapshotVersion(N);p.Fs=p.Fs.insert(x,P)}}}(r.localStore,o))}async function IU(t,e){const n=ct(t);if(!n.currentUser.isEqual(e)){Oe(nw,"User change. New user:",e.toKey());const r=await GI(n.localStore,e);n.currentUser=e,function(o,l){o.Vu.forEach(c=>{c.forEach(d=>{d.reject(new Re(ye.CANCELLED,l))})}),o.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Eh(n,r.Bs)}}function MU(t,e){const n=ct(t),r=n.Eu.get(e);if(r&&r.lu)return At().add(r.key);{let i=At();const o=n.Tu.get(e);if(!o)return i;for(const l of o){const c=n.Pu.get(l);i=i.unionWith(c.view.tu)}return i}}function uM(t){const e=ct(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AU.bind(null,e),e.hu.J_=mU.bind(null,e.eventManager),e.hu.pu=pU.bind(null,e.eventManager),e}function OU(t){const e=ct(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RU.bind(null,e),e}class Tp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mg(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return k5(this.persistence,new P5,e.initialUser,this.serializer)}Du(e){return new qI(Hx.Vi,this.serializer)}bu(e){return new H5}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Tp.provider={build:()=>new Tp};class PU extends Tp{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Ft(this.persistence.referenceDelegate instanceof _p,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new y5(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Mr.withCacheSize(this.cacheSizeBytes):Mr.DEFAULT;return new qI(r=>_p.Vi(r,n),this.serializer)}}class xb{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>b2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=IU.bind(null,this.syncEngine),await dU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new fU}()}createDatastore(e){const n=mg(e.databaseInfo.databaseId),r=function(o){return new W5(o)}(e.databaseInfo);return function(o,l,c,d){return new Z5(o,l,c,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,l,c){return new eU(r,i,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>b2(this.syncEngine,n,0),function(){return f2.C()?new f2:new $5}())}createSyncEngine(e,n){return function(i,o,l,c,d,f,p){const y=new bU(i,o,l,c,d,f);return p&&(y.fu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=ct(i);Oe(fl,"RemoteStore shutting down."),o.Ia.add(5),await Th(o),o.Ea.shutdown(),o.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}xb.provider={build:()=>new xb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ca("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="FirestoreClient";class DU{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mr.UNAUTHENTICATED,this.clientId=ng.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{Oe(mo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(Oe(mo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ia;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Qx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function a0(t,e){t.asyncQueue.verifyOperationInProgress(),Oe(mo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await GI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{da("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{Oe("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{da("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function w2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jU(t);Oe(mo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>p2(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>p2(e.remoteStore,i)),t._onlineComponents=e}async function jU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Oe(mo,"Using user provided OfflineComponentProvider");try{await a0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ye.FAILED_PRECONDITION||i.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;da("Error using user provided cache. Falling back to memory cache: "+n),await a0(t,new Tp)}}else Oe(mo,"Using default OfflineComponentProvider"),await a0(t,new PU(void 0));return t._offlineComponents}async function cM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Oe(mo,"Using user provided OnlineComponentProvider"),await w2(t,t._uninitializedComponentsProvider._online)):(Oe(mo,"Using default OnlineComponentProvider"),await w2(t,new xb))),t._onlineComponents}function kU(t){return cM(t).then(e=>e.syncEngine)}async function Ep(t){const e=await cM(t),n=e.eventManager;return n.onListen=xU.bind(null,e.syncEngine),n.onUnlisten=SU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=wU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=TU.bind(null,e.syncEngine),n}function LU(t,e,n={}){const r=new ia;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,f){const p=new iw({next:x=>{p.Ou(),l.enqueueAndForget(()=>Jx(o,y));const E=x.docs.has(c);!E&&x.fromCache?f.reject(new Re(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&x.fromCache&&d&&d.source==="server"?f.reject(new Re(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(x)},error:x=>f.reject(x)}),y=new tw(lg(c.path),p,{includeMetadataChanges:!0,ka:!0});return Zx(o,y)}(await Ep(t),t.asyncQueue,e,n,r)),r.promise}function VU(t,e,n={}){const r=new ia;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,f){const p=new iw({next:x=>{p.Ou(),l.enqueueAndForget(()=>Jx(o,y)),x.fromCache&&d.source==="server"?f.reject(new Re(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(x)},error:x=>f.reject(x)}),y=new tw(c,p,{includeMetadataChanges:!0,ka:!0});return Zx(o,y)}(await Ep(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM="firestore.googleapis.com",S2=!0;class T2{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Re(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hM,this.ssl=S2}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:S2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$I;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<g5)throw new Re(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Re(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Re(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Re(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new T2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Re(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new T2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tI;switch(r.type){case"firstParty":return new X3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Re(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=_2.get(n);r&&(Oe("ComponentProvider","Removing Datastore"),_2.delete(n),r.terminate())}(this),Promise.resolve()}}function fM(t,e,n,r={}){var i;t=Er(t,vg);const o=vo(e),l=t._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;o&&(fx(`https://${d}`),mx("Firestore",!0)),l.host!==hM&&l.host!==d&&da("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},l),{host:d,ssl:o,emulatorOptions:r});if(!ll(f,c)&&(t._setSettings(f),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=mr.MOCK_USER;else{p=iN(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new Re(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new mr(x)}t._authCredentials=new K3(new eI(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bi(this.firestore,e,this._query)}}class hn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}toJSON(){return{type:hn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(wh(n,hn._jsonSchema))return new hn(e,r||null,new Be(en.fromString(n.referencePath)))}}hn._jsonSchemaVersion="firestore/documentReference/1.0",hn._jsonSchema={type:kn("string",hn._jsonSchemaVersion),referencePath:kn("string")};class sa extends Bi{constructor(e,n,r){super(e,n,lg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new Be(e))}withConverter(e){return new sa(this.firestore,e,this._path)}}function xt(t,e,...n){if(t=Yt(t),rI("collection","path",e),t instanceof vg){const r=en.fromString(e,...n);return VE(r),new sa(t,null,r)}{if(!(t instanceof hn||t instanceof sa))throw new Re(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(en.fromString(e,...n));return VE(r),new sa(t.firestore,null,r)}}function Jt(t,e,...n){if(t=Yt(t),arguments.length===1&&(e=ng.newId()),rI("doc","path",e),t instanceof vg){const r=en.fromString(e,...n);return LE(r),new hn(t,null,new Be(r))}{if(!(t instanceof hn||t instanceof sa))throw new Re(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(en.fromString(e,...n));return LE(r),new hn(t.firestore,t instanceof sa?t.converter:null,new Be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="AsyncQueue";class A2{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new WI(this,"async_queue_retry"),this.oc=()=>{const r=s0();r&&Oe(E2,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=s0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=s0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new ia;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!rc(e))throw e;Oe(E2,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,ca("INTERNAL UNHANDLED ERROR: ",C2(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=Xx.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&rt(47125,{hc:C2(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function C2(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class Es extends vg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new A2,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new A2(e),this._firestoreClient=void 0,await e}}}function mM(t,e){const n=typeof t=="object"?t:vx(),r=typeof t=="string"?t:gp,i=Zp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=tN("firestore");o&&fM(i,...o)}return i}function Ah(t){if(t._terminated)throw new Re(ye.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||UU(t),t._firestoreClient}function UU(t){var e,n,r;const i=t._freezeSettings(),o=function(c,d,f,p){return new d6(c,d,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,dM(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new DU(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(c){const d=c?._online.build();return{_offline:c?._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qr(Zn.fromBase64String(e))}catch(n){throw new Re(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qr(Zn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wh(e,Qr._jsonSchema))return Qr.fromBase64String(e.bytes)}}Qr._jsonSchemaVersion="firestore/bytes/1.0",Qr._jsonSchema={type:kn("string",Qr._jsonSchemaVersion),bytes:kn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Re(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Re(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Re(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return vt(this._lat,e._lat)||vt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(e){if(wh(e,ki._jsonSchema))return new ki(e.latitude,e.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:kn("string",ki._jsonSchemaVersion),latitude:kn("number"),longitude:kn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wh(e,Li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Li(e.vectorValues);throw new Re(ye.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Li._jsonSchemaVersion="firestore/vectorValue/1.0",Li._jsonSchema={type:kn("string",Li._jsonSchemaVersion),vectorValues:kn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=/^__.*__$/;class BU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new bo(e,this.data,this.fieldMask,n,this.fieldTransforms):new _h(e,this.data,n,this.fieldTransforms)}}class pM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new bo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function gM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt(40011,{Ec:t})}}class sw{constructor(e,n,r,i,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new sw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Ap(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(gM(this.Ec)&&zU.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class FU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||mg(e)}Dc(e,n,r,i=!1){return new sw({Ec:e,methodName:n,bc:r,path:Xn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nh(t){const e=t._freezeSettings(),n=mg(t._databaseId);return new FU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function vM(t,e,n,r,i,o={}){const l=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);ow("Data must be an object, but it was:",l,r);const c=bM(r,l);let d,f;if(o.merge)d=new Jr(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const p=[];for(const y of o.mergeFields){const x=wb(e,y,n);if(!l.contains(x))throw new Re(ye.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);wM(p,x)||p.push(x)}d=new Jr(p),f=l.fieldTransforms.filter(y=>d.covers(y.field))}else d=null,f=l.fieldTransforms;return new BU(new Or(c),d,f)}class yg extends Rh{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yg}}class aw extends Rh{_toFieldTransform(e){return new L6(e.path,new Jd)}isEqual(e){return e instanceof aw}}function HU(t,e,n,r){const i=t.Dc(1,e,n);ow("Data must be an object, but it was:",i,r);const o=[],l=Or.empty();yo(r,(d,f)=>{const p=lw(e,d,n);f=Yt(f);const y=i.gc(p);if(f instanceof yg)o.push(p);else{const x=Ih(f,y);x!=null&&(o.push(p),l.set(p,x))}});const c=new Jr(o);return new pM(l,c,i.fieldTransforms)}function $U(t,e,n,r,i,o){const l=t.Dc(1,e,n),c=[wb(e,r,n)],d=[i];if(o.length%2!=0)throw new Re(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<o.length;x+=2)c.push(wb(e,o[x])),d.push(o[x+1]);const f=[],p=Or.empty();for(let x=c.length-1;x>=0;--x)if(!wM(f,c[x])){const E=c[x];let N=d[x];N=Yt(N);const P=l.gc(E);if(N instanceof yg)f.push(E);else{const V=Ih(N,P);V!=null&&(f.push(E),p.set(E,V))}}const y=new Jr(f);return new pM(p,y,l.fieldTransforms)}function yM(t,e,n,r=!1){return Ih(n,t.Dc(r?4:3,e))}function Ih(t,e){if(xM(t=Yt(t)))return ow("Unsupported field value:",e,t),bM(t,e);if(t instanceof Rh)return function(r,i){if(!gM(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const c of r){let d=Ih(c,i.yc(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return D6(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=tn.fromDate(r);return{timestampValue:wp(i.serializer,o)}}if(r instanceof tn){const o=new tn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wp(i.serializer,o)}}if(r instanceof ki)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qr)return{bytesValue:LI(i.serializer,r._byteString)};if(r instanceof hn){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.wc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Bx(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Li)return function(l,c){return{mapValue:{fields:{[fI]:{stringValue:mI},[vp]:{arrayValue:{values:l.toArray().map(f=>{if(typeof f!="number")throw c.wc("VectorValues must only contain numeric values.");return Lx(c.serializer,f)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${rg(r)}`)}(t,e)}function bM(t,e){const n={};return oI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yo(t,(r,i)=>{const o=Ih(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function xM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tn||t instanceof ki||t instanceof Qr||t instanceof hn||t instanceof Rh||t instanceof Li)}function ow(t,e,n){if(!xM(n)||!sI(n)){const r=rg(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function wb(t,e,n){if((e=Yt(e))instanceof Ch)return e._internalPath;if(typeof e=="string")return lw(t,e);throw Ap("Field path arguments must be of type string or ",t,!1,void 0,n)}const qU=new RegExp("[~\\*/\\[\\]]");function lw(t,e,n){if(e.search(qU)>=0)throw Ap(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ch(...e.split("."))._internalPath}catch{throw Ap(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ap(t,e,n,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new Re(ye.INVALID_ARGUMENT,c+t+d)}function wM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GU extends uw{data(){return super.data()}}function bg(t,e){return typeof e=="string"?lw(t,e):e instanceof Ch?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Re(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cw{}class Mh extends cw{}function cn(t,e,...n){let r=[];e instanceof cw&&r.push(e),r=r.concat(n),function(o){const l=o.filter(d=>d instanceof xg).length,c=o.filter(d=>d instanceof Oh).length;if(l>1||l>0&&c>0)throw new Re(ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Oh extends Mh{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Oh(e,n,r)}_apply(e){const n=this._parse(e);return TM(e._query,n),new Bi(e.firestore,e.converter,db(e._query,n))}_parse(e){const n=Nh(e.firestore);return function(o,l,c,d,f,p,y){let x;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Re(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){I2(y,p);const N=[];for(const P of y)N.push(N2(d,o,P));x={arrayValue:{values:N}}}else x=N2(d,o,y)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||I2(y,p),x=yM(c,l,y,p==="in"||p==="not-in");return jn.create(f,p,x)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Zt(t,e,n){const r=e,i=bg("where",t);return Oh._create(i,r,n)}class xg extends cw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new xg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:zi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let l=i;const c=o.getFlattenedFilters();for(const d of c)TM(l,d),l=db(l,d)}(e._query,n),new Bi(e.firestore,e.converter,db(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class wg extends Mh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new wg(e,n)}_apply(e){const n=function(i,o,l){if(i.startAt!==null)throw new Re(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Re(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Zd(o,l)}(e._query,this._field,this._direction);return new Bi(e.firestore,e.converter,function(i,o){const l=i.explicitOrderBy.concat([o]);return new wl(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function qu(t,e="asc"){const n=e,r=bg("orderBy",t);return wg._create(r,n)}class _g extends Mh{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new _g(e,n,r)}_apply(e){return new Bi(e.firestore,e.converter,bp(e._query,this._limit,this._limitType))}}function _b(t){return _g._create("limit",t,"F")}class Sg extends Mh{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Sg(e,n,r)}_apply(e){const n=KU(e,this.type,this._docOrFields,this._inclusive);return new Bi(e.firestore,e.converter,function(i,o){return new wl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,n))}}function SM(...t){return Sg._create("startAfter",t,!1)}function KU(t,e,n,r){if(n[0]=Yt(n[0]),n[0]instanceof uw)return function(o,l,c,d,f){if(!d)throw new Re(ye.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const p=[];for(const y of Mu(o))if(y.field.isKeyField())p.push(yp(l,d.key));else{const x=d.data.field(y.field);if(ag(x))throw new Re(ye.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(x===null){const E=y.field.canonicalString();throw new Re(ye.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${E}' (used as the orderBy) does not exist.`)}p.push(x)}return new Fu(p,f)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Nh(t.firestore);return function(l,c,d,f,p,y){const x=l.explicitOrderBy;if(p.length>x.length)throw new Re(ye.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const E=[];for(let N=0;N<p.length;N++){const P=p[N];if(x[N].field.isKeyField()){if(typeof P!="string")throw new Re(ye.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof P}`);if(!kx(l)&&P.indexOf("/")!==-1)throw new Re(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${P}' contains a slash.`);const V=l.path.child(en.fromString(P));if(!Be.isDocumentKey(V))throw new Re(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${V}' is not because it contains an odd number of segments.`);const D=new Be(V);E.push(yp(c,D))}else{const V=yM(d,f,P);E.push(V)}}return new Fu(E,y)}(t._query,t.firestore._databaseId,i,e,n,r)}}function N2(t,e,n){if(typeof(n=Yt(n))=="string"){if(n==="")throw new Re(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kx(e)&&n.indexOf("/")!==-1)throw new Re(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(en.fromString(n));if(!Be.isDocumentKey(r))throw new Re(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return yp(t,new Be(r))}if(n instanceof hn)return yp(t,n._key);throw new Re(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rg(n)}.`)}function I2(t,e){if(!Array.isArray(t)||t.length===0)throw new Re(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function TM(t,e){const n=function(i,o){for(const l of i)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Re(ye.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Re(ye.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class EM{convertValue(e,n="none"){switch(ho(e)){case 0:return null;case 1:return e.booleanValue;case 2:return En(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw rt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return yo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[vp].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>En(l.doubleValue));return new Li(o)}convertGeoPoint(e){return new ki(En(e.latitude),En(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=og(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xd(e));default:return null}}convertTimestamp(e){const n=uo(e);return new tn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=en.fromString(e);Ft(HI(r),9688,{name:e});const i=new Uu(r.get(1),r.get(3)),o=new Be(r.popFirst(5));return i.isEqual(n)||ca(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class yu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class so extends uw{constructor(e,n,r,i,o,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(bg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Re(ye.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=so._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}so._jsonSchemaVersion="firestore/documentSnapshot/1.0",so._jsonSchema={type:kn("string",so._jsonSchemaVersion),bundleSource:kn("string","DocumentSnapshot"),bundleName:kn("string"),bundle:kn("string")};class Vd extends so{data(e={}){return super.data(e)}}class ao{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new yu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Vd(this._firestore,this._userDataWriter,r.key,r,new yu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Re(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const d=new Vd(i._firestore,i._userDataWriter,c.doc.key,c.doc,new yu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const d=new Vd(i._firestore,i._userDataWriter,c.doc.key,c.doc,new yu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,p=-1;return c.type!==0&&(f=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:WU(c.type),doc:d,oldIndex:f,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Re(ye.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ao._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ng.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function WU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(t){t=Er(t,hn);const e=Er(t.firestore,Es);return LU(Ah(e),t._key).then(n=>CM(e,t,n))}ao._jsonSchemaVersion="firestore/querySnapshot/1.0",ao._jsonSchema={type:kn("string",ao._jsonSchemaVersion),bundleSource:kn("string","QuerySnapshot"),bundleName:kn("string"),bundle:kn("string")};class dw extends EM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function ln(t){t=Er(t,Bi);const e=Er(t.firestore,Es),n=Ah(e),r=new dw(e);return _M(t._query),VU(n,t._query).then(i=>new ao(e,r,t,i))}function ml(t,e,n){t=Er(t,hn);const r=Er(t.firestore,Es),i=AM(t.converter,e,n);return Ph(r,[vM(Nh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,_i.none())])}function aa(t,e,n,...r){t=Er(t,hn);const i=Er(t.firestore,Es),o=Nh(i);let l;return l=typeof(e=Yt(e))=="string"||e instanceof Ch?$U(o,"updateDoc",t._key,e,n,r):HU(o,"updateDoc",t._key,e),Ph(i,[l.toMutation(t._key,_i.exists(!0))])}function Cp(t){return Ph(Er(t.firestore,Es),[new Vx(t._key,_i.none())])}function As(t,e){const n=Er(t.firestore,Es),r=Jt(t),i=AM(t.converter,e);return Ph(n,[vM(Nh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,_i.exists(!1))]).then(()=>r)}function Gu(t,...e){var n,r,i;t=Yt(t);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||R2(e[l])||(o=e[l++]);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(R2(e[l])){const y=e[l];e[l]=(n=y.next)===null||n===void 0?void 0:n.bind(y),e[l+1]=(r=y.error)===null||r===void 0?void 0:r.bind(y),e[l+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}let d,f,p;if(t instanceof hn)f=Er(t.firestore,Es),p=lg(t._key.path),d={next:y=>{e[l]&&e[l](CM(f,t,y))},error:e[l+1],complete:e[l+2]};else{const y=Er(t,Bi);f=Er(y.firestore,Es),p=y._query;const x=new dw(f);d={next:E=>{e[l]&&e[l](new ao(f,x,y,E))},error:e[l+1],complete:e[l+2]},_M(t._query)}return function(x,E,N,P){const V=new iw(P),D=new tw(E,V,N);return x.asyncQueue.enqueueAndForget(async()=>Zx(await Ep(x),D)),()=>{V.Ou(),x.asyncQueue.enqueueAndForget(async()=>Jx(await Ep(x),D))}}(Ah(f),p,c,d)}function Ph(t,e){return function(r,i){const o=new ia;return r.asyncQueue.enqueueAndForget(async()=>EU(await kU(r),i,o)),o.promise}(Ah(t),e)}function CM(t,e,n){const r=n.docs.get(e._key),i=new dw(t);return new so(t,i,e._key,r,new yu(n.hasPendingWrites,n.fromCache),e.converter)}function Vi(){return new aw("serverTimestamp")}(function(e,n=!0){(function(i){tc=i})(xl),ul(new oo("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new Es(new W3(r.getProvider("auth-internal")),new Q3(l,r.getProvider("app-check-internal")),function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Re(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Uu(f.options.projectId,p)}(l,i),l);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),ms(OE,PE,e),ms(OE,PE,"esm2017")})();const YU=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:EM,Bytes:Qr,CollectionReference:sa,DocumentReference:hn,DocumentSnapshot:so,FieldPath:Ch,FieldValue:Rh,Firestore:Es,FirestoreError:Re,GeoPoint:ki,Query:Bi,QueryCompositeFilterConstraint:xg,QueryConstraint:Mh,QueryDocumentSnapshot:Vd,QueryFieldFilterConstraint:Oh,QueryLimitConstraint:_g,QueryOrderByConstraint:wg,QuerySnapshot:ao,QueryStartAtConstraint:Sg,SnapshotMetadata:yu,Timestamp:tn,VectorValue:Li,_AutoId:ng,_ByteString:Zn,_DatabaseId:Uu,_DocumentKey:Be,_EmptyAuthCredentialsProvider:tI,_FieldPath:Xn,_cast:Er,_logWarn:da,_validateIsNotUsedTogether:iI,addDoc:As,collection:xt,connectFirestoreEmulator:fM,deleteDoc:Cp,doc:Jt,ensureFirestoreConfigured:Ah,executeWrite:Ph,getDoc:wi,getDocs:ln,getFirestore:mM,limit:_b,onSnapshot:Gu,orderBy:qu,query:cn,serverTimestamp:Vi,setDoc:ml,startAfter:SM,updateDoc:aa,where:Zt},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM="firebasestorage.googleapis.com",NM="storageBucket",XU=2*60*1e3,QU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn extends Ns{constructor(e,n,r=0){super(o0(e),`Firebase Storage: ${n} (${o0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return o0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var xn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(xn||(xn={}));function o0(t){return"storage/"+t}function hw(){const t="An unknown error occurred, please check the error payload for server response.";return new wn(xn.UNKNOWN,t)}function ZU(t){return new wn(xn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function JU(t){return new wn(xn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function e9(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new wn(xn.UNAUTHENTICATED,t)}function t9(){return new wn(xn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function n9(t){return new wn(xn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function r9(){return new wn(xn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function i9(){return new wn(xn.CANCELED,"User canceled the upload/download.")}function s9(t){return new wn(xn.INVALID_URL,"Invalid URL '"+t+"'.")}function a9(t){return new wn(xn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function o9(){return new wn(xn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+NM+"' property when initializing the app?")}function l9(){return new wn(xn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function u9(){return new wn(xn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function c9(t){return new wn(xn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Sb(t){return new wn(xn.INVALID_ARGUMENT,t)}function IM(){return new wn(xn.APP_DELETED,"The Firebase app was deleted.")}function d9(t){return new wn(xn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ud(t,e){return new wn(xn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ud(t){throw new wn(xn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ei.makeFromUrl(e,n)}catch{return new ei(e,"")}if(r.path==="")return r;throw a9(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+i+l,"i"),d={bucket:1,path:3};function f(Y){Y.path_=decodeURIComponent(Y.path)}const p="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",E=new RegExp(`^https?://${y}/${p}/b/${i}/o${x}`,"i"),N={bucket:1,path:3},P=n===RM?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",D=new RegExp(`^https?://${P}/${i}/${V}`,"i"),F=[{regex:c,indices:d,postModify:o},{regex:E,indices:N,postModify:f},{regex:D,indices:{bucket:1,path:2},postModify:f}];for(let Y=0;Y<F.length;Y++){const M=F[Y],O=M.regex.exec(e);if(O){const C=O[M.indices.bucket];let I=O[M.indices.path];I||(I=""),r=new ei(C,I),M.postModify(r);break}}if(r==null)throw s9(e);return r}}class h9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f9(t,e,n){let r=1,i=null,o=null,l=!1,c=0;function d(){return c===2}let f=!1;function p(...V){f||(f=!0,e.apply(null,V))}function y(V){i=setTimeout(()=>{i=null,t(E,d())},V)}function x(){o&&clearTimeout(o)}function E(V,...D){if(f){x();return}if(V){x(),p.call(null,V,...D);return}if(d()||l){x(),p.call(null,V,...D);return}r<64&&(r*=2);let F;c===1?(c=2,F=0):F=(r+Math.random())*1e3,y(F)}let N=!1;function P(V){N||(N=!0,x(),!f&&(i!==null?(V||(c=2),clearTimeout(i),y(0)):V||(c=1)))}return y(0),o=setTimeout(()=>{l=!0,P(!0)},n),P}function m9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(t){return t!==void 0}function g9(t){return typeof t=="object"&&!Array.isArray(t)}function fw(t){return typeof t=="string"||t instanceof String}function M2(t){return mw()&&t instanceof Blob}function mw(){return typeof Blob<"u"}function O2(t,e,n,r){if(r<e)throw Sb(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Sb(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function MM(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var sl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(sl||(sl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v9(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e,n,r,i,o,l,c,d,f,p,y,x=!0,E=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=d,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=y,this.retry=x,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,P)=>{this.resolve_=N,this.reject_=P,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new gm(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const d=c.loaded,f=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===sl.NO_ERROR,d=o.getStatus();if(!c||v9(d,this.additionalRetryCodes_)&&this.retry){const p=o.getErrorCode()===sl.ABORT;r(!1,new gm(!1,null,p));return}const f=this.successCodes_.indexOf(d)!==-1;r(!0,new gm(f,o))})},n=(r,i)=>{const o=this.resolve_,l=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());p9(d)?o(d):o()}catch(d){l(d)}else if(c!==null){const d=hw();d.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,d)):l(d)}else if(i.canceled){const d=this.appDelete_?IM():i9();l(d)}else{const d=r9();l(d)}};this.canceled_?n(!1,new gm(!1,null,!0)):this.backoffId_=f9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&m9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class gm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function b9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function x9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function w9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function _9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function S9(t,e,n,r,i,o,l=!0,c=!1){const d=MM(t.urlParams),f=t.url+d,p=Object.assign({},t.headers);return w9(p,e),b9(p,n),x9(p,o),_9(p,r),new y9(f,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function E9(...t){const e=T9();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(mw())return new Blob(t);throw new wn(xn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function A9(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C9(t){if(typeof atob>"u")throw c9("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class l0{constructor(e,n){this.data=e,this.contentType=n||null}}function R9(t,e){switch(t){case fs.RAW:return new l0(OM(e));case fs.BASE64:case fs.BASE64URL:return new l0(PM(t,e));case fs.DATA_URL:return new l0(I9(e),M9(e))}throw hw()}function OM(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,l=t.charCodeAt(++n);r=65536|(o&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function N9(t){let e;try{e=decodeURIComponent(t)}catch{throw Ud(fs.DATA_URL,"Malformed data URL.")}return OM(e)}function PM(t,e){switch(t){case fs.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Ud(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case fs.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Ud(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=C9(e)}catch(i){throw i.message.includes("polyfill")?i:Ud(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class DM{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ud(fs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=O9(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function I9(t){const e=new DM(t);return e.base64?PM(fs.BASE64,e.rest):N9(e.rest)}function M9(t){return new DM(t).contentType}function O9(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n){let r=0,i="";M2(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(M2(this.data_)){const r=this.data_,i=A9(r,e,n);return i===null?null:new Za(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Za(r,!0)}}static getBlob(...e){if(mw()){const n=e.map(r=>r instanceof Za?r.data_:r);return new Za(E9.apply(null,n))}else{const n=e.map(l=>fw(l)?R9(fs.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(l=>{for(let c=0;c<l.length;c++)i[o++]=l[c]}),new Za(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(t){let e;try{e=JSON.parse(t)}catch{return null}return g9(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function D9(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function kM(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j9(t,e){return e}class Sr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||j9}}let vm=null;function k9(t){return!fw(t)||t.length<2?t:kM(t)}function LM(){if(vm)return vm;const t=[];t.push(new Sr("bucket")),t.push(new Sr("generation")),t.push(new Sr("metageneration")),t.push(new Sr("name","fullPath",!0));function e(o,l){return k9(l)}const n=new Sr("name");n.xform=e,t.push(n);function r(o,l){return l!==void 0?Number(l):l}const i=new Sr("size");return i.xform=r,t.push(i),t.push(new Sr("timeCreated")),t.push(new Sr("updated")),t.push(new Sr("md5Hash",null,!0)),t.push(new Sr("cacheControl",null,!0)),t.push(new Sr("contentDisposition",null,!0)),t.push(new Sr("contentEncoding",null,!0)),t.push(new Sr("contentLanguage",null,!0)),t.push(new Sr("contentType",null,!0)),t.push(new Sr("metadata","customMetadata",!0)),vm=t,vm}function L9(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new ei(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function V9(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const l=n[o];r[l.local]=l.xform(r,e[l.server])}return L9(r,t),r}function VM(t,e,n){const r=jM(e);return r===null?null:V9(t,r,n)}function U9(t,e,n,r){const i=jM(e);if(i===null||!fw(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(f=>{const p=t.bucket,y=t.fullPath,x="/b/"+l(p)+"/o/"+l(y),E=pw(x,n,r),N=MM({alt:"media",token:f});return E+N})[0]}function z9(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class UM{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zM(t){if(!t)throw hw()}function B9(t,e){function n(r,i){const o=VM(t,i,e);return zM(o!==null),o}return n}function F9(t,e){function n(r,i){const o=VM(t,i,e);return zM(o!==null),U9(o,i,t.host,t._protocol)}return n}function BM(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=t9():i=e9():n.getStatus()===402?i=JU(t.bucket):n.getStatus()===403?i=n9(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function H9(t){const e=BM(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=ZU(t.path)),o.serverResponse=i.serverResponse,o}return n}function $9(t,e,n){const r=e.fullServerUrl(),i=pw(r,t.host,t._protocol),o="GET",l=t.maxOperationRetryTime,c=new UM(i,o,F9(t,n),l);return c.errorHandler=H9(e),c}function q9(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function G9(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=q9(null,e)),r}function K9(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let F="";for(let Y=0;Y<2;Y++)F=F+Math.random().toString().slice(2);return F}const d=c();l["Content-Type"]="multipart/related; boundary="+d;const f=G9(e,r,i),p=z9(f,n),y="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+d+`\r
Content-Type: `+f.contentType+`\r
\r
`,x=`\r
--`+d+"--",E=Za.getBlob(y,r,x);if(E===null)throw l9();const N={name:f.fullPath},P=pw(o,t.host,t._protocol),V="POST",D=t.maxUploadRetryTime,B=new UM(P,V,B9(t,n),D);return B.urlParams=N,B.headers=l,B.body=E.uploadData(),B.errorHandler=BM(e),B}class W9{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=sl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=sl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=sl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,o){if(this.sent_)throw ud("cannot .send() more than once");if(vo(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ud("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ud("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ud("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ud("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Y9 extends W9{initXhr(){this.xhr_.responseType="text"}}function FM(){return new Y9}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n){this._service=e,n instanceof ei?this._location=n:this._location=ei.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new pl(e,n)}get root(){const e=new ei(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return kM(this._location.path)}get storage(){return this._service}get parent(){const e=P9(this._location.path);if(e===null)return null;const n=new ei(this._location.bucket,e);return new pl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw d9(e)}}function X9(t,e,n){t._throwIfRoot("uploadBytes");const r=K9(t.storage,t._location,LM(),new Za(e,!0),n);return t.storage.makeRequestWithTokens(r,FM).then(i=>({metadata:i,ref:t}))}function Q9(t){t._throwIfRoot("getDownloadURL");const e=$9(t.storage,t._location,LM());return t.storage.makeRequestWithTokens(e,FM).then(n=>{if(n===null)throw u9();return n})}function Z9(t,e){const n=D9(t._location.path,e),r=new ei(t._location.bucket,n);return new pl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J9(t){return/^[A-Za-z]+:\/\//.test(t)}function e8(t,e){return new pl(t,e)}function HM(t,e){if(t instanceof gw){const n=t;if(n._bucket==null)throw o9();const r=new pl(n,n._bucket);return e!=null?HM(r,e):r}else return e!==void 0?Z9(t,e):t}function t8(t,e){if(e&&J9(e)){if(t instanceof gw)return e8(t,e);throw Sb("To use ref(service, url), the first argument must be a Storage instance.")}else return HM(t,e)}function P2(t,e){const n=e?.[NM];return n==null?null:ei.makeFromBucketSpec(n,t)}function n8(t,e,n,r={}){t.host=`${e}:${n}`;const i=vo(e);i&&(fx(`https://${t.host}/b`),mx("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:iN(o,t.app.options.projectId))}class gw{constructor(e,n,r,i,o,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=RM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=XU,this._maxUploadRetryTime=QU,this._requests=new Set,i!=null?this._bucket=ei.makeFromBucketSpec(i,this._host):this._bucket=P2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ei.makeFromBucketSpec(this._url,e):this._bucket=P2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){O2("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){O2("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Xr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new pl(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new h9(IM());{const l=S9(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const D2="@firebase/storage",j2="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M="storage";function Tg(t,e,n){return t=Yt(t),X9(t,e,n)}function Eg(t){return t=Yt(t),Q9(t)}function Ag(t,e){return t=Yt(t),t8(t,e)}function r8(t=vx(),e){t=Yt(t);const r=Zp(t,$M).getImmediate({identifier:e}),i=tN("storage");return i&&i8(r,...i),r}function i8(t,e,n,r={}){n8(t,e,n,r)}function s8(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new gw(n,r,i,e,xl)}function a8(){ul(new oo($M,s8,"PUBLIC").setMultipleInstances(!0)),ms(D2,j2,""),ms(D2,j2,"esm2017")}a8();const o8={apiKey:"AIzaSyBkP3gypmQHs_CrrBgiy7IXMDz_VVJDGvw",authDomain:"mangrov-cf6e2.firebaseapp.com",projectId:"mangrov-cf6e2",storageBucket:"mangrov-cf6e2.firebasestorage.app",messagingSenderId:"936868961990",appId:"1:936868961990:web:022a545478ec5b5fa501c7",measurementId:"G-PC68SEG8KL"},vw=oN(o8),Di=GN(vw),Ve=mM(vw),Cg=r8(vw),qM=A.createContext(void 0);function l8({children:t}){const[e,n]=A.useState({isSignedIn:!1,pending:!0,user:null,signOut:async()=>{try{await jV(Di)}catch(r){console.error("Error signing out:",r)}}});return A.useEffect(()=>{const r=Di.onAuthStateChanged(i=>n(o=>({...o,user:i,pending:!1,isSignedIn:!!i})));return()=>r()},[]),m.jsx(qM.Provider,{value:{...e,auth:Di},children:t})}function Ar(){const t=A.useContext(qM);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}var cd={},k2;function u8(){if(k2)return cd;k2=1,Object.defineProperty(cd,"__esModule",{value:!0}),cd.parse=l,cd.serialize=f;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function l(x,E){const N=new o,P=x.length;if(P<2)return N;const V=E?.decode||p;let D=0;do{const B=x.indexOf("=",D);if(B===-1)break;const F=x.indexOf(";",D),Y=F===-1?P:F;if(B>Y){D=x.lastIndexOf(";",B-1)+1;continue}const M=c(x,D,B),O=d(x,B,M),C=x.slice(M,O);if(N[C]===void 0){let I=c(x,B+1,Y),R=d(x,Y,I);const T=V(x.slice(I,R));N[C]=T}D=Y+1}while(D<P);return N}function c(x,E,N){do{const P=x.charCodeAt(E);if(P!==32&&P!==9)return E}while(++E<N);return N}function d(x,E,N){for(;E>N;){const P=x.charCodeAt(--E);if(P!==32&&P!==9)return E+1}return N}function f(x,E,N){const P=N?.encode||encodeURIComponent;if(!t.test(x))throw new TypeError(`argument name is invalid: ${x}`);const V=P(E);if(!e.test(V))throw new TypeError(`argument val is invalid: ${E}`);let D=x+"="+V;if(!N)return D;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);D+="; Max-Age="+N.maxAge}if(N.domain){if(!n.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);D+="; Domain="+N.domain}if(N.path){if(!r.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);D+="; Path="+N.path}if(N.expires){if(!y(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);D+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(D+="; HttpOnly"),N.secure&&(D+="; Secure"),N.partitioned&&(D+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":D+="; Priority=Low";break;case"medium":D+="; Priority=Medium";break;case"high":D+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":D+="; SameSite=Strict";break;case"lax":D+="; SameSite=Lax";break;case"none":D+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return D}function p(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function y(x){return i.call(x)==="[object Date]"}return cd}u8();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var GM=t=>{throw TypeError(t)},c8=(t,e,n)=>e.has(t)||GM("Cannot "+n),u0=(t,e,n)=>(c8(t,e,"read from private field"),n?n.call(t):e.get(t)),d8=(t,e,n)=>e.has(t)?GM("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),L2="popstate";function h8(t={}){function e(r,i){let{pathname:o,search:l,hash:c}=r.location;return nh("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:po(i)}return m8(e,n,null,t)}function Tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function An(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function f8(){return Math.random().toString(36).substring(2,10)}function V2(t,e){return{usr:t.state,key:t.key,idx:e}}function nh(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?xo(e):e,state:n,key:e&&e.key||r||f8()}}function po({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function xo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function m8(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,c="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function y(){c="POP";let V=p(),D=V==null?null:V-f;f=V,d&&d({action:c,location:P.location,delta:D})}function x(V,D){c="PUSH";let B=nh(P.location,V,D);f=p()+1;let F=V2(B,f),Y=P.createHref(B);try{l.pushState(F,"",Y)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(Y)}o&&d&&d({action:c,location:P.location,delta:1})}function E(V,D){c="REPLACE";let B=nh(P.location,V,D);f=p();let F=V2(B,f),Y=P.createHref(B);l.replaceState(F,"",Y),o&&d&&d({action:c,location:P.location,delta:0})}function N(V){return KM(V)}let P={get action(){return c},get location(){return t(i,l)},listen(V){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(L2,y),d=V,()=>{i.removeEventListener(L2,y),d=null}},createHref(V){return e(i,V)},createURL:N,encodeLocation(V){let D=N(V);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:x,replace:E,go(V){return l.go(V)}};return P}function KM(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Tt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:po(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var Nd,U2=class{constructor(t){if(d8(this,Nd,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(u0(this,Nd).has(t))return u0(this,Nd).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){u0(this,Nd).set(t,e)}};Nd=new WeakMap;var p8=new Set(["lazy","caseSensitive","path","id","index","children"]);function g8(t){return p8.has(t)}var v8=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function y8(t){return v8.has(t)}function b8(t){return t.index===!0}function Rp(t,e,n=[],r={}){return t.map((i,o)=>{let l=[...n,String(o)],c=typeof i.id=="string"?i.id:l.join("-");if(Tt(i.index!==!0||!i.children,"Cannot specify children on an index route"),Tt(!r[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),b8(i)){let d={...i,...e(i),id:c};return r[c]=d,d}else{let d={...i,...e(i),id:c,children:void 0};return r[c]=d,i.children&&(d.children=Rp(i.children,e,l,r)),d}})}function Ja(t,e,n="/"){return $m(t,e,n,!1)}function $m(t,e,n,r){let i=typeof e=="string"?xo(e):e,o=Ti(i.pathname||"/",n);if(o==null)return null;let l=WM(t);w8(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let f=O8(o);c=I8(l[d],f,r)}return c}function x8(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function WM(t,e=[],n=[],r=""){let i=(o,l,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(Tt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let f=bs([r,d.relativePath]),p=n.concat(d);o.children&&o.children.length>0&&(Tt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),WM(o.children,e,p,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:R8(f,o.index),routesMeta:p})};return t.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))i(o,l);else for(let c of YM(o.path))i(o,l,c)}),e}function YM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=YM(r.join("/")),c=[];return c.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function w8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:N8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var _8=/^:[\w-]+$/,S8=3,T8=2,E8=1,A8=10,C8=-2,z2=t=>t==="*";function R8(t,e){let n=t.split("/"),r=n.length;return n.some(z2)&&(r+=C8),e&&(r+=T8),n.filter(i=>!z2(i)).reduce((i,o)=>i+(_8.test(o)?S8:o===""?E8:A8),r)}function N8(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function I8(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],f=c===r.length-1,p=o==="/"?e:e.slice(o.length)||"/",y=Np({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),x=d.route;if(!y&&f&&n&&!r[r.length-1].route.index&&(y=Np({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!y)return null;Object.assign(i,y.params),l.push({params:i,pathname:bs([o,y.pathname]),pathnameBase:j8(bs([o,y.pathnameBase])),route:x}),y.pathnameBase!=="/"&&(o=bs([o,y.pathnameBase]))}return l}function Np(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=M8(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:p,isOptional:y},x)=>{if(p==="*"){let N=c[x]||"";l=o.slice(0,o.length-N.length).replace(/(.)\/+$/,"$1")}const E=c[x];return y&&!E?f[p]=void 0:f[p]=(E||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:t}}function M8(t,e=!1,n=!0){An(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function O8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return An(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ti(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function P8(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?xo(t):t;return{pathname:n?n.startsWith("/")?n:D8(n,e):e,search:k8(r),hash:L8(i)}}function D8(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function c0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yw(t){let e=XM(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function bw(t,e,n,r=!1){let i;typeof t=="string"?i=xo(t):(i={...t},Tt(!i.pathname||!i.pathname.includes("?"),c0("?","pathname","search",i)),Tt(!i.pathname||!i.pathname.includes("#"),c0("#","pathname","hash",i)),Tt(!i.search||!i.search.includes("#"),c0("#","search","hash",i)));let o=t===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=n;else{let y=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),y-=1;i.pathname=x.join("/")}c=y>=0?e[y]:"/"}let d=P8(i,c),f=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var bs=t=>t.join("/").replace(/\/\/+/g,"/"),j8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),k8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,L8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Ip=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function rh(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var QM=["POST","PUT","PATCH","DELETE"],V8=new Set(QM),U8=["GET",...QM],z8=new Set(U8),B8=new Set([301,302,303,307,308]),F8=new Set([307,308]),d0={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},H8={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},dd={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},xw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$8=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),ZM="remix-router-transitions",JM=Symbol("ResetLoaderData");function q8(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Tt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],i=t.mapRouteProperties||$8,o={},l=Rp(t.routes,i,void 0,o),c,d=t.basename||"/",f=t.dataStrategy||X8,p={unstable_middleware:!1,...t.future},y=null,x=new Set,E=null,N=null,P=null,V=t.hydrationData!=null,D=Ja(l,t.history.location,d),B=!1,F=null,Y;if(D==null&&!t.patchRoutesOnNavigation){let te=xi(404,{pathname:t.history.location.pathname}),{matches:ae,route:ce}=Z2(l);Y=!0,D=ae,F={[ce.id]:te}}else if(D&&!t.hydrationData&&yr(D,l,t.history.location.pathname).active&&(D=null),D)if(D.some(te=>te.route.lazy))Y=!1;else if(!D.some(te=>te.route.loader))Y=!0;else{let te=t.hydrationData?t.hydrationData.loaderData:null,ae=t.hydrationData?t.hydrationData.errors:null;if(ae){let ce=D.findIndex(_e=>ae[_e.route.id]!==void 0);Y=D.slice(0,ce+1).every(_e=>!Eb(_e.route,te,ae))}else Y=D.every(ce=>!Eb(ce.route,te,ae))}else{Y=!1,D=[];let te=yr(null,l,t.history.location.pathname);te.active&&te.matches&&(B=!0,D=te.matches)}let M,O={historyAction:t.history.action,location:t.history.location,matches:D,initialized:Y,navigation:d0,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||F,fetchers:new Map,blockers:new Map},C="POP",I=!1,R,T=!1,U=new Map,$=null,j=!1,G=!1,Z=new Set,H=new Map,S=0,J=-1,W=new Map,w=new Set,z=new Map,X=new Map,Q=new Set,ne=new Map,se,le=null;function ve(){if(y=t.history.listen(({action:te,location:ae,delta:ce})=>{if(se){se(),se=void 0;return}An(ne.size===0||ce!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let _e=va({currentLocation:O.location,nextLocation:ae,historyAction:te});if(_e&&ce!=null){let Te=new Promise(De=>{se=De});t.history.go(ce*-1),ri(_e,{state:"blocked",location:ae,proceed(){ri(_e,{state:"proceeding",proceed:void 0,reset:void 0,location:ae}),Te.then(()=>t.history.go(ce))},reset(){let De=new Map(O.blockers);De.set(_e,dd),Ne({blockers:De})}});return}return me(te,ae)}),n){o7(e,U);let te=()=>l7(e,U);e.addEventListener("pagehide",te),$=()=>e.removeEventListener("pagehide",te)}return O.initialized||me("POP",O.location,{initialHydration:!0}),M}function Ee(){y&&y(),$&&$(),x.clear(),R&&R.abort(),O.fetchers.forEach((te,ae)=>nn(ae)),O.blockers.forEach((te,ae)=>Ms(ae))}function Pe(te){return x.add(te),()=>x.delete(te)}function Ne(te,ae={}){O={...O,...te};let ce=[],_e=[];O.fetchers.forEach((Te,De)=>{Te.state==="idle"&&(Q.has(De)?ce.push(De):_e.push(De))}),Q.forEach(Te=>{!O.fetchers.has(Te)&&!H.has(Te)&&ce.push(Te)}),[...x].forEach(Te=>Te(O,{deletedFetchers:ce,viewTransitionOpts:ae.viewTransitionOpts,flushSync:ae.flushSync===!0})),ce.forEach(Te=>nn(Te)),_e.forEach(Te=>O.fetchers.delete(Te))}function ze(te,ae,{flushSync:ce}={}){let _e=O.actionData!=null&&O.navigation.formMethod!=null&&Yr(O.navigation.formMethod)&&O.navigation.state==="loading"&&te.state?._isRedirect!==!0,Te;ae.actionData?Object.keys(ae.actionData).length>0?Te=ae.actionData:Te=null:_e?Te=O.actionData:Te=null;let De=ae.loaderData?X2(O.loaderData,ae.loaderData,ae.matches||[],ae.errors):O.loaderData,Ge=O.blockers;Ge.size>0&&(Ge=new Map(Ge),Ge.forEach((Le,et)=>Ge.set(et,dd)));let je=I===!0||O.navigation.formMethod!=null&&Yr(O.navigation.formMethod)&&te.state?._isRedirect!==!0;c&&(l=c,c=void 0),j||C==="POP"||(C==="PUSH"?t.history.push(te,te.state):C==="REPLACE"&&t.history.replace(te,te.state));let Ue;if(C==="POP"){let Le=U.get(O.location.pathname);Le&&Le.has(te.pathname)?Ue={currentLocation:O.location,nextLocation:te}:U.has(te.pathname)&&(Ue={currentLocation:te,nextLocation:O.location})}else if(T){let Le=U.get(O.location.pathname);Le?Le.add(te.pathname):(Le=new Set([te.pathname]),U.set(O.location.pathname,Le)),Ue={currentLocation:O.location,nextLocation:te}}Ne({...ae,actionData:Te,loaderData:De,historyAction:C,location:te,initialized:!0,navigation:d0,revalidation:"idle",restoreScrollPosition:ya(te,ae.matches||O.matches),preventScrollReset:je,blockers:Ge},{viewTransitionOpts:Ue,flushSync:ce===!0}),C="POP",I=!1,T=!1,j=!1,G=!1,le?.resolve(),le=null}async function Ye(te,ae){if(typeof te=="number"){t.history.go(te);return}let ce=Tb(O.location,O.matches,d,te,ae?.fromRouteId,ae?.relative),{path:_e,submission:Te,error:De}=B2(!1,ce,ae),Ge=O.location,je=nh(O.location,_e,ae&&ae.state);je={...je,...t.history.encodeLocation(je)};let Ue=ae&&ae.replace!=null?ae.replace:void 0,Le="PUSH";Ue===!0?Le="REPLACE":Ue===!1||Te!=null&&Yr(Te.formMethod)&&Te.formAction===O.location.pathname+O.location.search&&(Le="REPLACE");let et=ae&&"preventScrollReset"in ae?ae.preventScrollReset===!0:void 0,Ke=(ae&&ae.flushSync)===!0,it=va({currentLocation:Ge,nextLocation:je,historyAction:Le});if(it){ri(it,{state:"blocked",location:je,proceed(){ri(it,{state:"proceeding",proceed:void 0,reset:void 0,location:je}),Ye(te,ae)},reset(){let wt=new Map(O.blockers);wt.set(it,dd),Ne({blockers:wt})}});return}await me(Le,je,{submission:Te,pendingError:De,preventScrollReset:et,replace:ae&&ae.replace,enableViewTransition:ae&&ae.viewTransition,flushSync:Ke})}function Qe(){le||(le=u7()),Cn(),Ne({revalidation:"loading"});let te=le.promise;return O.navigation.state==="submitting"?te:O.navigation.state==="idle"?(me(O.historyAction,O.location,{startUninterruptedRevalidation:!0}),te):(me(C||O.historyAction,O.navigation.location,{overrideNavigation:O.navigation,enableViewTransition:T===!0}),te)}async function me(te,ae,ce){R&&R.abort(),R=null,C=te,j=(ce&&ce.startUninterruptedRevalidation)===!0,Ci(O.location,O.matches),I=(ce&&ce.preventScrollReset)===!0,T=(ce&&ce.enableViewTransition)===!0;let _e=c||l,Te=ce&&ce.overrideNavigation,De=ce?.initialHydration&&O.matches&&O.matches.length>0&&!B?O.matches:Ja(_e,ae,d),Ge=(ce&&ce.flushSync)===!0;if(De&&O.initialized&&!G&&n7(O.location,ae)&&!(ce&&ce.submission&&Yr(ce.submission.formMethod))){ze(ae,{matches:De},{flushSync:Ge});return}let je=yr(De,_e,ae.pathname);if(je.active&&je.matches&&(De=je.matches),!De){let{error:Pt,notFoundMatches:Ct,route:yt}=Os(ae.pathname);ze(ae,{matches:Ct,loaderData:{},errors:{[yt.id]:Pt}},{flushSync:Ge});return}R=new AbortController;let Ue=pu(t.history,ae,R.signal,ce&&ce.submission),Le=new U2(t.unstable_getContext?await t.unstable_getContext():void 0),et;if(ce&&ce.pendingError)et=[Jo(De).route.id,{type:"error",error:ce.pendingError}];else if(ce&&ce.submission&&Yr(ce.submission.formMethod)){let Pt=await Ce(Ue,ae,ce.submission,De,Le,je.active,ce&&ce.initialHydration===!0,{replace:ce.replace,flushSync:Ge});if(Pt.shortCircuited)return;if(Pt.pendingActionResult){let[Ct,yt]=Pt.pendingActionResult;if(Wr(yt)&&rh(yt.error)&&yt.error.status===404){R=null,ze(ae,{matches:Pt.matches,loaderData:{},errors:{[Ct]:yt.error}});return}}De=Pt.matches||De,et=Pt.pendingActionResult,Te=h0(ae,ce.submission),Ge=!1,je.active=!1,Ue=pu(t.history,Ue.url,Ue.signal)}let{shortCircuited:Ke,matches:it,loaderData:wt,errors:Ut}=await $e(Ue,ae,De,Le,je.active,Te,ce&&ce.submission,ce&&ce.fetcherSubmission,ce&&ce.replace,ce&&ce.initialHydration===!0,Ge,et);Ke||(R=null,ze(ae,{matches:it||De,...Q2(et),loaderData:wt,errors:Ut}))}async function Ce(te,ae,ce,_e,Te,De,Ge,je={}){Cn();let Ue=s7(ae,ce);if(Ne({navigation:Ue},{flushSync:je.flushSync===!0}),De){let Ke=await Ki(_e,ae.pathname,te.signal);if(Ke.type==="aborted")return{shortCircuited:!0};if(Ke.type==="error"){let it=Jo(Ke.partialMatches).route.id;return{matches:Ke.partialMatches,pendingActionResult:[it,{type:"error",error:Ke.error}]}}else if(Ke.matches)_e=Ke.matches;else{let{notFoundMatches:it,error:wt,route:Ut}=Os(ae.pathname);return{matches:it,pendingActionResult:[Ut.id,{type:"error",error:wt}]}}}let Le,et=Id(_e,ae);if(!et.route.action&&!et.route.lazy)Le={type:"error",error:xi(405,{method:te.method,pathname:ae.pathname,routeId:et.route.id})};else{let Ke=Pu(i,o,te,_e,et,Ge?[]:r,Te),it=await pn(te,Ke,Te,null);if(Le=it[et.route.id],!Le){for(let wt of _e)if(it[wt.route.id]){Le=it[wt.route.id];break}}if(te.signal.aborted)return{shortCircuited:!0}}if(nl(Le)){let Ke;return je&&je.replace!=null?Ke=je.replace:Ke=K2(Le.response.headers.get("Location"),new URL(te.url),d)===O.location.pathname+O.location.search,await ht(te,Le,!0,{submission:ce,replace:Ke}),{shortCircuited:!0}}if(Wr(Le)){let Ke=Jo(_e,et.route.id);return(je&&je.replace)!==!0&&(C="PUSH"),{matches:_e,pendingActionResult:[Ke.route.id,Le,et.route.id]}}return{matches:_e,pendingActionResult:[et.route.id,Le]}}async function $e(te,ae,ce,_e,Te,De,Ge,je,Ue,Le,et,Ke){let it=De||h0(ae,Ge),wt=Ge||je||eA(it),Ut=!j&&!Le;if(Te){if(Ut){let Rn=Ie(Ke);Ne({navigation:it,...Rn!==void 0?{actionData:Rn}:{}},{flushSync:et})}let lt=await Ki(ce,ae.pathname,te.signal);if(lt.type==="aborted")return{shortCircuited:!0};if(lt.type==="error"){let Rn=Jo(lt.partialMatches).route.id;return{matches:lt.partialMatches,loaderData:{},errors:{[Rn]:lt.error}}}else if(lt.matches)ce=lt.matches;else{let{error:Rn,notFoundMatches:Ur,route:Cr}=Os(ae.pathname);return{matches:Ur,loaderData:{},errors:{[Cr.id]:Rn}}}}let Pt=c||l,{dsMatches:Ct,revalidatingFetchers:yt}=F2(te,_e,i,o,t.history,O,ce,wt,ae,Le?[]:r,Le===!0,G,Z,Q,z,w,Pt,d,t.patchRoutesOnNavigation!=null,Ke);if(J=++S,!t.dataStrategy&&!Ct.some(lt=>lt.shouldLoad)&&yt.length===0){let lt=qi();return ze(ae,{matches:ce,loaderData:{},errors:Ke&&Wr(Ke[1])?{[Ke[0]]:Ke[1].error}:null,...Q2(Ke),...lt?{fetchers:new Map(O.fetchers)}:{}},{flushSync:et}),{shortCircuited:!0}}if(Ut){let lt={};if(!Te){lt.navigation=it;let Rn=Ie(Ke);Rn!==void 0&&(lt.actionData=Rn)}yt.length>0&&(lt.fetchers=Je(yt)),Ne(lt,{flushSync:et})}yt.forEach(lt=>{lr(lt.key),lt.controller&&H.set(lt.key,lt.controller)});let si=()=>yt.forEach(lt=>lr(lt.key));R&&R.signal.addEventListener("abort",si);let{loaderResults:Ln,fetcherResults:br}=await or(Ct,yt,te,_e);if(te.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",si),yt.forEach(lt=>H.delete(lt.key));let Jn=ym(Ln);if(Jn)return await ht(te,Jn.result,!0,{replace:Ue}),{shortCircuited:!0};if(Jn=ym(br),Jn)return w.add(Jn.key),await ht(te,Jn.result,!0,{replace:Ue}),{shortCircuited:!0};let{loaderData:Yi,errors:Vr}=Y2(O,ce,Ln,Ke,yt,br);Le&&O.errors&&(Vr={...O.errors,...Vr});let xa=qi(),ur=Gi(J),xr=xa||ur||yt.length>0;return{matches:ce,loaderData:Yi,errors:Vr,...xr?{fetchers:new Map(O.fetchers)}:{}}}function Ie(te){if(te&&!Wr(te[1]))return{[te[0]]:te[1].data};if(O.actionData)return Object.keys(O.actionData).length===0?null:O.actionData}function Je(te){return te.forEach(ae=>{let ce=O.fetchers.get(ae.key),_e=hd(void 0,ce?ce.data:void 0);O.fetchers.set(ae.key,_e)}),new Map(O.fetchers)}async function mt(te,ae,ce,_e){lr(te);let Te=(_e&&_e.flushSync)===!0,De=c||l,Ge=Tb(O.location,O.matches,d,ce,ae,_e?.relative),je=Ja(De,Ge,d),Ue=yr(je,De,Ge);if(Ue.active&&Ue.matches&&(je=Ue.matches),!je){qe(te,ae,xi(404,{pathname:Ge}),{flushSync:Te});return}let{path:Le,submission:et,error:Ke}=B2(!0,Ge,_e);if(Ke){qe(te,ae,Ke,{flushSync:Te});return}let it=Id(je,Le),wt=new U2(t.unstable_getContext?await t.unstable_getContext():void 0),Ut=(_e&&_e.preventScrollReset)===!0;if(et&&Yr(et.formMethod)){await ot(te,ae,Le,it,je,wt,Ue.active,Te,Ut,et);return}z.set(te,{routeId:ae,path:Le}),await Rt(te,ae,Le,it,je,wt,Ue.active,Te,Ut,et)}async function ot(te,ae,ce,_e,Te,De,Ge,je,Ue,Le){Cn(),z.delete(te);function et(Xt){if(!Xt.route.action&&!Xt.route.lazy){let ai=xi(405,{method:Le.formMethod,pathname:ce,routeId:ae});return qe(te,ae,ai,{flushSync:je}),!0}return!1}if(!Ge&&et(_e))return;let Ke=O.fetchers.get(te);pt(te,a7(Le,Ke),{flushSync:je});let it=new AbortController,wt=pu(t.history,ce,it.signal,Le);if(Ge){let Xt=await Ki(Te,ce,wt.signal,te);if(Xt.type==="aborted")return;if(Xt.type==="error"){qe(te,ae,Xt.error,{flushSync:je});return}else if(Xt.matches){if(Te=Xt.matches,_e=Id(Te,ce),et(_e))return}else{qe(te,ae,xi(404,{pathname:ce}),{flushSync:je});return}}H.set(te,it);let Ut=S,Pt=Pu(i,o,wt,Te,_e,r,De),yt=(await pn(wt,Pt,De,te))[_e.route.id];if(wt.signal.aborted){H.get(te)===it&&H.delete(te);return}if(Q.has(te)){if(nl(yt)||Wr(yt)){pt(te,qa(void 0));return}}else{if(nl(yt))if(H.delete(te),J>Ut){pt(te,qa(void 0));return}else return w.add(te),pt(te,hd(Le)),ht(wt,yt,!1,{fetcherSubmission:Le,preventScrollReset:Ue});if(Wr(yt)){qe(te,ae,yt.error);return}}let si=O.navigation.location||O.location,Ln=pu(t.history,si,it.signal),br=c||l,Jn=O.navigation.state!=="idle"?Ja(br,O.navigation.location,d):O.matches;Tt(Jn,"Didn't find any matches after fetcher action");let Yi=++S;W.set(te,Yi);let Vr=hd(Le,yt.data);O.fetchers.set(te,Vr);let{dsMatches:xa,revalidatingFetchers:ur}=F2(Ln,De,i,o,t.history,O,Jn,Le,si,r,!1,G,Z,Q,z,w,br,d,t.patchRoutesOnNavigation!=null,[_e.route.id,yt]);ur.filter(Xt=>Xt.key!==te).forEach(Xt=>{let ai=Xt.key,Ps=O.fetchers.get(ai),er=hd(void 0,Ps?Ps.data:void 0);O.fetchers.set(ai,er),lr(ai),Xt.controller&&H.set(ai,Xt.controller)}),Ne({fetchers:new Map(O.fetchers)});let xr=()=>ur.forEach(Xt=>lr(Xt.key));it.signal.addEventListener("abort",xr);let{loaderResults:lt,fetcherResults:Rn}=await or(xa,ur,Ln,De);if(it.signal.aborted)return;if(it.signal.removeEventListener("abort",xr),W.delete(te),H.delete(te),ur.forEach(Xt=>H.delete(Xt.key)),O.fetchers.has(te)){let Xt=qa(yt.data);O.fetchers.set(te,Xt)}let Ur=ym(lt);if(Ur)return ht(Ln,Ur.result,!1,{preventScrollReset:Ue});if(Ur=ym(Rn),Ur)return w.add(Ur.key),ht(Ln,Ur.result,!1,{preventScrollReset:Ue});let{loaderData:Cr,errors:Xi}=Y2(O,Jn,lt,void 0,ur,Rn);Gi(Yi),O.navigation.state==="loading"&&Yi>J?(Tt(C,"Expected pending action"),R&&R.abort(),ze(O.navigation.location,{matches:Jn,loaderData:Cr,errors:Xi,fetchers:new Map(O.fetchers)})):(Ne({errors:Xi,loaderData:X2(O.loaderData,Cr,Jn,Xi),fetchers:new Map(O.fetchers)}),G=!1)}async function Rt(te,ae,ce,_e,Te,De,Ge,je,Ue,Le){let et=O.fetchers.get(te);pt(te,hd(Le,et?et.data:void 0),{flushSync:je});let Ke=new AbortController,it=pu(t.history,ce,Ke.signal);if(Ge){let yt=await Ki(Te,ce,it.signal,te);if(yt.type==="aborted")return;if(yt.type==="error"){qe(te,ae,yt.error,{flushSync:je});return}else if(yt.matches)Te=yt.matches,_e=Id(Te,ce);else{qe(te,ae,xi(404,{pathname:ce}),{flushSync:je});return}}H.set(te,Ke);let wt=S,Ut=Pu(i,o,it,Te,_e,r,De),Ct=(await pn(it,Ut,De,te))[_e.route.id];if(H.get(te)===Ke&&H.delete(te),!it.signal.aborted){if(Q.has(te)){pt(te,qa(void 0));return}if(nl(Ct))if(J>wt){pt(te,qa(void 0));return}else{w.add(te),await ht(it,Ct,!1,{preventScrollReset:Ue});return}if(Wr(Ct)){qe(te,ae,Ct.error);return}pt(te,qa(Ct.data))}}async function ht(te,ae,ce,{submission:_e,fetcherSubmission:Te,preventScrollReset:De,replace:Ge}={}){ae.response.headers.has("X-Remix-Revalidate")&&(G=!0);let je=ae.response.headers.get("Location");Tt(je,"Expected a Location header on the redirect Response"),je=K2(je,new URL(te.url),d);let Ue=nh(O.location,je,{_isRedirect:!0});if(n){let Ut=!1;if(ae.response.headers.has("X-Remix-Reload-Document"))Ut=!0;else if(xw.test(je)){const Pt=KM(je,!0);Ut=Pt.origin!==e.location.origin||Ti(Pt.pathname,d)==null}if(Ut){Ge?e.location.replace(je):e.location.assign(je);return}}R=null;let Le=Ge===!0||ae.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:et,formAction:Ke,formEncType:it}=O.navigation;!_e&&!Te&&et&&Ke&&it&&(_e=eA(O.navigation));let wt=_e||Te;if(F8.has(ae.response.status)&&wt&&Yr(wt.formMethod))await me(Le,Ue,{submission:{...wt,formAction:je},preventScrollReset:De||I,enableViewTransition:ce?T:void 0});else{let Ut=h0(Ue,_e);await me(Le,Ue,{overrideNavigation:Ut,fetcherSubmission:Te,preventScrollReset:De||I,enableViewTransition:ce?T:void 0})}}async function pn(te,ae,ce,_e){let Te,De={};try{Te=await Q8(f,te,ae,_e,ce,!1)}catch(Ge){return ae.filter(je=>je.shouldLoad).forEach(je=>{De[je.route.id]={type:"error",error:Ge}}),De}if(te.signal.aborted)return De;for(let[Ge,je]of Object.entries(Te))if(r7(je)){let Ue=je.result;De[Ge]={type:"redirect",response:e7(Ue,te,Ge,ae,d)}}else De[Ge]=await J8(je);return De}async function or(te,ae,ce,_e){let Te=pn(ce,te,_e,null),De=Promise.all(ae.map(async Ue=>{if(Ue.matches&&Ue.match&&Ue.request&&Ue.controller){let et=(await pn(Ue.request,Ue.matches,_e,Ue.key))[Ue.match.route.id];return{[Ue.key]:et}}else return Promise.resolve({[Ue.key]:{type:"error",error:xi(404,{pathname:Ue.path})}})})),Ge=await Te,je=(await De).reduce((Ue,Le)=>Object.assign(Ue,Le),{});return{loaderResults:Ge,fetcherResults:je}}function Cn(){G=!0,z.forEach((te,ae)=>{H.has(ae)&&Z.add(ae),lr(ae)})}function pt(te,ae,ce={}){O.fetchers.set(te,ae),Ne({fetchers:new Map(O.fetchers)},{flushSync:(ce&&ce.flushSync)===!0})}function qe(te,ae,ce,_e={}){let Te=Jo(O.matches,ae);nn(te),Ne({errors:{[Te.route.id]:ce},fetchers:new Map(O.fetchers)},{flushSync:(_e&&_e.flushSync)===!0})}function sn(te){return X.set(te,(X.get(te)||0)+1),Q.has(te)&&Q.delete(te),O.fetchers.get(te)||H8}function nn(te){let ae=O.fetchers.get(te);H.has(te)&&!(ae&&ae.state==="loading"&&W.has(te))&&lr(te),z.delete(te),W.delete(te),w.delete(te),Q.delete(te),Z.delete(te),O.fetchers.delete(te)}function $i(te){let ae=(X.get(te)||0)-1;ae<=0?(X.delete(te),Q.add(te)):X.set(te,ae),Ne({fetchers:new Map(O.fetchers)})}function lr(te){let ae=H.get(te);ae&&(ae.abort(),H.delete(te))}function an(te){for(let ae of te){let ce=sn(ae),_e=qa(ce.data);O.fetchers.set(ae,_e)}}function qi(){let te=[],ae=!1;for(let ce of w){let _e=O.fetchers.get(ce);Tt(_e,`Expected fetcher: ${ce}`),_e.state==="loading"&&(w.delete(ce),te.push(ce),ae=!0)}return an(te),ae}function Gi(te){let ae=[];for(let[ce,_e]of W)if(_e<te){let Te=O.fetchers.get(ce);Tt(Te,`Expected fetcher: ${ce}`),Te.state==="loading"&&(lr(ce),W.delete(ce),ae.push(ce))}return an(ae),ae.length>0}function Lr(te,ae){let ce=O.blockers.get(te)||dd;return ne.get(te)!==ae&&ne.set(te,ae),ce}function Ms(te){O.blockers.delete(te),ne.delete(te)}function ri(te,ae){let ce=O.blockers.get(te)||dd;Tt(ce.state==="unblocked"&&ae.state==="blocked"||ce.state==="blocked"&&ae.state==="blocked"||ce.state==="blocked"&&ae.state==="proceeding"||ce.state==="blocked"&&ae.state==="unblocked"||ce.state==="proceeding"&&ae.state==="unblocked",`Invalid blocker state transition: ${ce.state} -> ${ae.state}`);let _e=new Map(O.blockers);_e.set(te,ae),Ne({blockers:_e})}function va({currentLocation:te,nextLocation:ae,historyAction:ce}){if(ne.size===0)return;ne.size>1&&An(!1,"A router only supports one blocker at a time");let _e=Array.from(ne.entries()),[Te,De]=_e[_e.length-1],Ge=O.blockers.get(Te);if(!(Ge&&Ge.state==="proceeding")&&De({currentLocation:te,nextLocation:ae,historyAction:ce}))return Te}function Os(te){let ae=xi(404,{pathname:te}),ce=c||l,{matches:_e,route:Te}=Z2(ce);return{notFoundMatches:_e,route:Te,error:ae}}function _o(te,ae,ce){if(E=te,P=ae,N=ce||null,!V&&O.navigation===d0){V=!0;let _e=ya(O.location,O.matches);_e!=null&&Ne({restoreScrollPosition:_e})}return()=>{E=null,P=null,N=null}}function ii(te,ae){return N&&N(te,ae.map(_e=>x8(_e,O.loaderData)))||te.key}function Ci(te,ae){if(E&&P){let ce=ii(te,ae);E[ce]=P()}}function ya(te,ae){if(E){let ce=ii(te,ae),_e=E[ce];if(typeof _e=="number")return _e}return null}function yr(te,ae,ce){if(t.patchRoutesOnNavigation)if(te){if(Object.keys(te[0].params).length>0)return{active:!0,matches:$m(ae,ce,d,!0)}}else return{active:!0,matches:$m(ae,ce,d,!0)||[]};return{active:!1,matches:null}}async function Ki(te,ae,ce,_e){if(!t.patchRoutesOnNavigation)return{type:"success",matches:te};let Te=te;for(;;){let De=c==null,Ge=c||l,je=o;try{await t.patchRoutesOnNavigation({signal:ce,path:ae,matches:Te,fetcherKey:_e,patch:(et,Ke)=>{ce.aborted||H2(et,Ke,Ge,je,i)}})}catch(et){return{type:"error",error:et,partialMatches:Te}}finally{De&&!ce.aborted&&(l=[...l])}if(ce.aborted)return{type:"aborted"};let Ue=Ja(Ge,ae,d);if(Ue)return{type:"success",matches:Ue};let Le=$m(Ge,ae,d,!0);if(!Le||Te.length===Le.length&&Te.every((et,Ke)=>et.route.id===Le[Ke].route.id))return{type:"success",matches:null};Te=Le}}function Wi(te){o={},c=Rp(te,i,void 0,o)}function ba(te,ae){let ce=c==null;H2(te,ae,c||l,o,i),ce&&(l=[...l],Ne({}))}return M={get basename(){return d},get future(){return p},get state(){return O},get routes(){return l},get window(){return e},initialize:ve,subscribe:Pe,enableScrollRestoration:_o,navigate:Ye,fetch:mt,revalidate:Qe,createHref:te=>t.history.createHref(te),encodeLocation:te=>t.history.encodeLocation(te),getFetcher:sn,deleteFetcher:$i,dispose:Ee,getBlocker:Lr,deleteBlocker:Ms,patchRoutes:ba,_internalFetchControllers:H,_internalSetRoutes:Wi},M}function G8(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Tb(t,e,n,r,i,o){let l,c;if(i){l=[];for(let f of e)if(l.push(f),f.route.id===i){c=f;break}}else l=e,c=e[e.length-1];let d=bw(r||".",yw(l),Ti(t.pathname,n)||t.pathname,o==="path");if(r==null&&(d.search=t.search,d.hash=t.hash),(r==null||r===""||r===".")&&c){let f=ww(d.search);if(c.route.index&&!f)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&f){let p=new URLSearchParams(d.search),y=p.getAll("index");p.delete("index"),y.filter(E=>E).forEach(E=>p.append("index",E));let x=p.toString();d.search=x?`?${x}`:""}}return n!=="/"&&(d.pathname=d.pathname==="/"?n:bs([n,d.pathname])),po(d)}function B2(t,e,n){if(!n||!G8(n))return{path:e};if(n.formMethod&&!i7(n.formMethod))return{path:e,error:xi(405,{method:n.formMethod})};let r=()=>({path:e,error:xi(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),l=sO(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Yr(o))return r();let y=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((x,[E,N])=>`${x}${E}=${N}
`,""):String(n.body);return{path:e,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:y}}}else if(n.formEncType==="application/json"){if(!Yr(o))return r();try{let y=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:y,text:void 0}}}catch{return r()}}}Tt(typeof FormData=="function","FormData is not available in this environment");let c,d;if(n.formData)c=Cb(n.formData),d=n.formData;else if(n.body instanceof FormData)c=Cb(n.body),d=n.body;else if(n.body instanceof URLSearchParams)c=n.body,d=W2(c);else if(n.body==null)c=new URLSearchParams,d=new FormData;else try{c=new URLSearchParams(n.body),d=W2(c)}catch{return r()}let f={formMethod:o,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(Yr(f.formMethod))return{path:e,submission:f};let p=xo(e);return t&&p.search&&ww(p.search)&&c.append("index",""),p.search=`?${c}`,{path:po(p),submission:f}}function F2(t,e,n,r,i,o,l,c,d,f,p,y,x,E,N,P,V,D,B,F){let Y=F?Wr(F[1])?F[1].error:F[1].data:void 0,M=i.createURL(o.location),O=i.createURL(d),C;if(p&&o.errors){let j=Object.keys(o.errors)[0];C=l.findIndex(G=>G.route.id===j)}else if(F&&Wr(F[1])){let j=F[0];C=l.findIndex(G=>G.route.id===j)-1}let I=F?F[1].statusCode:void 0,R=I&&I>=400,T={currentUrl:M,currentParams:o.matches[0]?.params||{},nextUrl:O,nextParams:l[0].params,...c,actionResult:Y,actionStatus:I},U=l.map((j,G)=>{let{route:Z}=j,H=null;if(C!=null&&G>C?H=!1:Z.lazy?H=!0:Z.loader==null?H=!1:p?H=Eb(Z,o.loaderData,o.errors):K8(o.loaderData,o.matches[G],j)&&(H=!0),H!==null)return Ab(n,r,t,j,f,e,H);let S=R?!1:y||M.pathname+M.search===O.pathname+O.search||M.search!==O.search||W8(o.matches[G],j),J={...T,defaultShouldRevalidate:S},W=Mp(j,J);return Ab(n,r,t,j,f,e,W,J)}),$=[];return N.forEach((j,G)=>{if(p||!l.some(X=>X.route.id===j.routeId)||E.has(G))return;let Z=o.fetchers.get(G),H=Z&&Z.state!=="idle"&&Z.data===void 0,S=Ja(V,j.path,D);if(!S){if(B&&H)return;$.push({key:G,routeId:j.routeId,path:j.path,matches:null,match:null,request:null,controller:null});return}if(P.has(G))return;let J=Id(S,j.path),W=new AbortController,w=pu(i,j.path,W.signal),z=null;if(x.has(G))x.delete(G),z=Pu(n,r,w,S,J,f,e);else if(H)y&&(z=Pu(n,r,w,S,J,f,e));else{let X={...T,defaultShouldRevalidate:R?!1:y};Mp(J,X)&&(z=Pu(n,r,w,S,J,f,e,X))}z&&$.push({key:G,routeId:j.routeId,path:j.path,matches:z,match:J,request:w,controller:W})}),{dsMatches:U,revalidatingFetchers:$}}function Eb(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function K8(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function W8(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Mp(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function H2(t,e,n,r,i){let o;if(t){let d=r[t];Tt(d,`No route found to patch children into: routeId = ${t}`),d.children||(d.children=[]),o=d.children}else o=n;let l=e.filter(d=>!o.some(f=>eO(d,f))),c=Rp(l,i,[t||"_","patch",String(o?.length||"0")],r);o.push(...c)}function eO(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>e.children?.some(i=>eO(n,i))):!1}var $2=new WeakMap,tO=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let i=n[e.id];if(Tt(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let o=i.lazy[t];if(!o)return;let l=$2.get(i);l||(l={},$2.set(i,l));let c=l[t];if(c)return c;let d=(async()=>{let f=g8(t),y=i[t]!==void 0&&t!=="hasErrorBoundary";if(f)An(!f,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),l[t]=Promise.resolve();else if(y)An(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let x=await o();x!=null&&(Object.assign(i,{[t]:x}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(x=>x===void 0)&&(i.lazy=void 0))})();return l[t]=d,d},q2=new WeakMap;function Y8(t,e,n,r,i){let o=n[t.id];if(Tt(o,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let p=q2.get(o);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let y=(async()=>{Tt(typeof t.lazy=="function","No lazy route function found");let x=await t.lazy(),E={};for(let N in x){let P=x[N];if(P===void 0)continue;let V=y8(N),B=o[N]!==void 0&&N!=="hasErrorBoundary";V?An(!V,"Route property "+N+" is not a supported property to be returned from a lazy route function. This property will be ignored."):B?An(!B,`Route "${o.id}" has a static property "${N}" defined but its lazy function is also returning a value for this property. The lazy route property "${N}" will be ignored.`):E[N]=P}Object.assign(o,E),Object.assign(o,{...r(o),lazy:void 0})})();return q2.set(o,y),y.catch(()=>{}),{lazyRoutePromise:y,lazyHandlerPromise:y}}let l=Object.keys(t.lazy),c=[],d;for(let p of l){if(i&&i.includes(p))continue;let y=tO({key:p,route:t,manifest:n,mapRouteProperties:r});y&&(c.push(y),p===e&&(d=y))}let f=c.length>0?Promise.all(c).then(()=>{}):void 0;return f?.catch(()=>{}),d?.catch(()=>{}),{lazyRoutePromise:f,lazyHandlerPromise:d}}async function G2(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,o)=>{n[e[o].route.id]=i}),n}async function X8(t){return t.matches.some(e=>e.route.unstable_middleware)?nO(t,!1,()=>G2(t),(e,n)=>({[n]:{type:"error",result:e}})):G2(t)}async function nO(t,e,n,r){let{matches:i,request:o,params:l,context:c}=t,d={handlerResult:void 0};try{let f=i.flatMap(y=>y.route.unstable_middleware?y.route.unstable_middleware.map(x=>[y.route.id,x]):[]),p=await rO({request:o,params:l,context:c},f,e,d,n);return e?p:d.handlerResult}catch(f){if(!d.middlewareError)throw f;let p=await r(d.middlewareError.error,d.middlewareError.routeId);return d.handlerResult?Object.assign(d.handlerResult,p):p}}async function rO(t,e,n,r,i,o=0){let{request:l}=t;if(l.signal.aborted)throw l.signal.reason?l.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${l.method} ${l.url}`);let c=e[o];if(!c)return r.handlerResult=await i(),r.handlerResult;let[d,f]=c,p=!1,y,x=async()=>{if(p)throw new Error("You may only call `next()` once per middleware");p=!0,await rO(t,e,n,r,i,o+1)};try{let E=await f({request:t.request,params:t.params,context:t.context},x);return p?E===void 0?y:E:x()}catch(E){throw r.middlewareError?r.middlewareError.error!==E&&(r.middlewareError={routeId:d,error:E}):r.middlewareError={routeId:d,error:E},E}}function iO(t,e,n,r,i){let o=tO({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),l=Y8(r.route,Yr(n.method)?"action":"loader",e,t,i);return{middleware:o,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function Ab(t,e,n,r,i,o,l,c=null){let d=!1,f=iO(t,e,n,r,i);return{...r,_lazyPromises:f,shouldLoad:l,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler(p){return d=!0,c?typeof p=="boolean"?Mp(r,{...c,defaultShouldRevalidate:p}):Mp(r,c):l},resolve(p){return d||l||p&&n.method==="GET"&&(r.route.lazy||r.route.loader)?Z8({request:n,match:r,lazyHandlerPromise:f?.handler,lazyRoutePromise:f?.route,handlerOverride:p,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Pu(t,e,n,r,i,o,l,c=null){return r.map(d=>d.route.id!==i.route.id?{...d,shouldLoad:!1,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler:()=>!1,_lazyPromises:iO(t,e,n,d,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Ab(t,e,n,d,o,l,!0,c))}async function Q8(t,e,n,r,i,o){n.some(f=>f._lazyPromises?.middleware)&&await Promise.all(n.map(f=>f._lazyPromises?.middleware));let l={request:e,params:n[0].params,context:i,matches:n},d=await t({...l,fetcherKey:r,unstable_runClientMiddleware:f=>{let p=l;return nO(p,!1,()=>f({...p,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(y,x)=>({[x]:{type:"error",result:y}}))}});try{await Promise.all(n.flatMap(f=>[f._lazyPromises?.handler,f._lazyPromises?.route]))}catch{}return d}async function Z8({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:o}){let l,c,d=Yr(t.method),f=d?"action":"loader",p=y=>{let x,E=new Promise((V,D)=>x=D);c=()=>x(),t.signal.addEventListener("abort",c);let N=V=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${f}" [routeId: ${e.route.id}]`)):y({request:t,params:e.params,context:o},...V!==void 0?[V]:[]),P=(async()=>{try{return{type:"data",result:await(i?i(D=>N(D)):N())}}catch(V){return{type:"error",result:V}}})();return Promise.race([P,E])};try{let y=d?e.route.action:e.route.loader;if(n||r)if(y){let x,[E]=await Promise.all([p(y).catch(N=>{x=N}),n,r]);if(x!==void 0)throw x;l=E}else{await n;let x=d?e.route.action:e.route.loader;if(x)[l]=await Promise.all([p(x),r]);else if(f==="action"){let E=new URL(t.url),N=E.pathname+E.search;throw xi(405,{method:t.method,pathname:N,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(y)l=await p(y);else{let x=new URL(t.url),E=x.pathname+x.search;throw xi(404,{pathname:E})}}catch(y){return{type:"error",result:y}}finally{c&&t.signal.removeEventListener("abort",c)}return l}async function J8(t){let{result:e,type:n}=t;if(aO(e)){let r;try{let i=e.headers.get("Content-Type");i&&/\bapplication\/json\b/.test(i)?e.body==null?r=null:r=await e.json():r=await e.text()}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new Ip(e.status,e.statusText,r),statusCode:e.status,headers:e.headers}:{type:"data",data:r,statusCode:e.status,headers:e.headers}}return n==="error"?J2(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Ip(e.init?.status||500,void 0,e.data),statusCode:rh(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:rh(e)?e.status:void 0}:J2(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function e7(t,e,n,r,i){let o=t.headers.get("Location");if(Tt(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!xw.test(o)){let l=r.slice(0,r.findIndex(c=>c.route.id===n)+1);o=Tb(new URL(e.url),l,i,o),t.headers.set("Location",o)}return t}function K2(t,e,n){if(xw.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=Ti(i.pathname,n)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return t}function pu(t,e,n,r){let i=t.createURL(sO(e)).toString(),o={signal:n};if(r&&Yr(r.formMethod)){let{formMethod:l,formEncType:c}=r;o.method=l.toUpperCase(),c==="application/json"?(o.headers=new Headers({"Content-Type":c}),o.body=JSON.stringify(r.json)):c==="text/plain"?o.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?o.body=Cb(r.formData):o.body=r.formData}return new Request(i,o)}function Cb(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function W2(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function t7(t,e,n,r=!1,i=!1){let o={},l=null,c,d=!1,f={},p=n&&Wr(n[1])?n[1].error:void 0;return t.forEach(y=>{if(!(y.route.id in e))return;let x=y.route.id,E=e[x];if(Tt(!nl(E),"Cannot handle redirect results in processLoaderData"),Wr(E)){let N=E.error;if(p!==void 0&&(N=p,p=void 0),l=l||{},i)l[x]=N;else{let P=Jo(t,x);l[P.route.id]==null&&(l[P.route.id]=N)}r||(o[x]=JM),d||(d=!0,c=rh(E.error)?E.error.status:500),E.headers&&(f[x]=E.headers)}else o[x]=E.data,E.statusCode&&E.statusCode!==200&&!d&&(c=E.statusCode),E.headers&&(f[x]=E.headers)}),p!==void 0&&n&&(l={[n[0]]:p},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:l,statusCode:c||200,loaderHeaders:f}}function Y2(t,e,n,r,i,o){let{loaderData:l,errors:c}=t7(e,n,r);return i.filter(d=>!d.matches||d.matches.some(f=>f.shouldLoad)).forEach(d=>{let{key:f,match:p,controller:y}=d,x=o[f];if(Tt(x,"Did not find corresponding fetcher result"),!(y&&y.signal.aborted))if(Wr(x)){let E=Jo(t.matches,p?.route.id);c&&c[E.route.id]||(c={...c,[E.route.id]:x.error}),t.fetchers.delete(f)}else if(nl(x))Tt(!1,"Unhandled fetcher revalidation redirect");else{let E=qa(x.data);t.fetchers.set(f,E)}}),{loaderData:l,errors:c}}function X2(t,e,n,r){let i=Object.entries(e).filter(([,o])=>o!==JM).reduce((o,[l,c])=>(o[l]=c,o),{});for(let o of n){let l=o.route.id;if(!e.hasOwnProperty(l)&&t.hasOwnProperty(l)&&o.route.loader&&(i[l]=t[l]),r&&r.hasOwnProperty(l))break}return i}function Q2(t){return t?Wr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Jo(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Z2(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function xi(t,{pathname:e,routeId:n,method:r,type:i,message:o}={}){let l="Unknown Server Error",c="Unknown @remix-run/router error";return t===400?(l="Bad Request",r&&e&&n?c=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(c="Unable to encode submission body")):t===403?(l="Forbidden",c=`Route "${n}" does not match URL "${e}"`):t===404?(l="Not Found",c=`No route matches URL "${e}"`):t===405&&(l="Method Not Allowed",r&&e&&n?c=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(c=`Invalid request method "${r.toUpperCase()}"`)),new Ip(t||500,l,new Error(c),!0)}function ym(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(nl(i))return{key:r,result:i}}}function sO(t){let e=typeof t=="string"?xo(t):t;return po({...e,hash:""})}function n7(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function r7(t){return aO(t.result)&&B8.has(t.result.status)}function Wr(t){return t.type==="error"}function nl(t){return(t&&t.type)==="redirect"}function J2(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function aO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function i7(t){return z8.has(t.toUpperCase())}function Yr(t){return V8.has(t.toUpperCase())}function ww(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Id(t,e){let n=typeof e=="string"?xo(e).search:e.search;if(t[t.length-1].route.index&&ww(n||""))return t[t.length-1];let r=XM(t);return r[r.length-1]}function eA(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:l}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:l,text:void 0}}}function h0(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function s7(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function hd(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function a7(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function qa(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function o7(t,e){try{let n=t.sessionStorage.getItem(ZM);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function l7(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(ZM,JSON.stringify(n))}catch(r){An(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function u7(){let t,e,n=new Promise((r,i)=>{t=async o=>{r(o);try{await n}catch{}},e=async o=>{i(o);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Tl=A.createContext(null);Tl.displayName="DataRouter";var Dh=A.createContext(null);Dh.displayName="DataRouterState";var _w=A.createContext({isTransitioning:!1});_w.displayName="ViewTransition";var oO=A.createContext(new Map);oO.displayName="Fetchers";var c7=A.createContext(null);c7.displayName="Await";var Is=A.createContext(null);Is.displayName="Navigation";var Rg=A.createContext(null);Rg.displayName="Location";var Fi=A.createContext({outlet:null,matches:[],isDataRoute:!1});Fi.displayName="Route";var Sw=A.createContext(null);Sw.displayName="RouteError";function d7(t,{relative:e}={}){Tt(jh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=A.useContext(Is),{hash:i,pathname:o,search:l}=kh(t,{relative:e}),c=o;return n!=="/"&&(c=o==="/"?n:bs([n,o])),r.createHref({pathname:c,search:l,hash:i})}function jh(){return A.useContext(Rg)!=null}function Hi(){return Tt(jh(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(Rg).location}var lO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uO(t){A.useContext(Is).static||A.useLayoutEffect(t)}function vr(){let{isDataRoute:t}=A.useContext(Fi);return t?A7():h7()}function h7(){Tt(jh(),"useNavigate() may be used only in the context of a <Router> component.");let t=A.useContext(Tl),{basename:e,navigator:n}=A.useContext(Is),{matches:r}=A.useContext(Fi),{pathname:i}=Hi(),o=JSON.stringify(yw(r)),l=A.useRef(!1);return uO(()=>{l.current=!0}),A.useCallback((d,f={})=>{if(An(l.current,lO),!l.current)return;if(typeof d=="number"){n.go(d);return}let p=bw(d,JSON.parse(o),i,f.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:bs([e,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[e,n,o,i,t])}var f7=A.createContext(null);function m7(t){let e=A.useContext(Fi).outlet;return e&&A.createElement(f7.Provider,{value:t},e)}function Tw(){let{matches:t}=A.useContext(Fi),e=t[t.length-1];return e?e.params:{}}function kh(t,{relative:e}={}){let{matches:n}=A.useContext(Fi),{pathname:r}=Hi(),i=JSON.stringify(yw(n));return A.useMemo(()=>bw(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function p7(t,e,n,r){Tt(jh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=A.useContext(Is),{matches:o}=A.useContext(Fi),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",p=l&&l.route;{let D=p&&p.path||"";cO(d,!p||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let y=Hi(),x;x=y;let E=x.pathname||"/",N=E;if(f!=="/"){let D=f.replace(/^\//,"").split("/");N="/"+E.replace(/^\//,"").split("/").slice(D.length).join("/")}let P=Ja(t,{pathname:N});return An(p||P!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),An(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),x7(P&&P.map(D=>Object.assign({},D,{params:Object.assign({},c,D.params),pathname:bs([f,i.encodeLocation?i.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?f:bs([f,i.encodeLocation?i.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),o,n,r)}function g7(){let t=E7(),e=rh(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=A.createElement(A.Fragment,null,A.createElement("p",null,"💿 Hey developer 👋"),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:o},"ErrorBoundary")," or"," ",A.createElement("code",{style:o},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:i},n):null,l)}var v7=A.createElement(g7,null),y7=class extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?A.createElement(Fi.Provider,{value:this.props.routeContext},A.createElement(Sw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function b7({routeContext:t,match:e,children:n}){let r=A.useContext(Tl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(Fi.Provider,{value:t},n)}function x7(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n?.errors;if(o!=null){let d=i.findIndex(f=>f.route.id&&o?.[f.route.id]!==void 0);Tt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(n)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:p,errors:y}=n,x=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!y||y[f.route.id]===void 0);if(f.route.lazy||x){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,f,p)=>{let y,x=!1,E=null,N=null;n&&(y=o&&f.route.id?o[f.route.id]:void 0,E=f.route.errorElement||v7,l&&(c<0&&p===0?(cO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,N=null):c===p&&(x=!0,N=f.route.hydrateFallbackElement||null)));let P=e.concat(i.slice(0,p+1)),V=()=>{let D;return y?D=E:x?D=N:f.route.Component?D=A.createElement(f.route.Component,null):f.route.element?D=f.route.element:D=d,A.createElement(b7,{match:f,routeContext:{outlet:d,matches:P,isDataRoute:n!=null},children:D})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?A.createElement(y7,{location:n.location,revalidation:n.revalidation,component:E,error:y,children:V(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):V()},null)}function Ew(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w7(t){let e=A.useContext(Tl);return Tt(e,Ew(t)),e}function _7(t){let e=A.useContext(Dh);return Tt(e,Ew(t)),e}function S7(t){let e=A.useContext(Fi);return Tt(e,Ew(t)),e}function Aw(t){let e=S7(t),n=e.matches[e.matches.length-1];return Tt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function T7(){return Aw("useRouteId")}function E7(){let t=A.useContext(Sw),e=_7("useRouteError"),n=Aw("useRouteError");return t!==void 0?t:e.errors?.[n]}function A7(){let{router:t}=w7("useNavigate"),e=Aw("useNavigate"),n=A.useRef(!1);return uO(()=>{n.current=!0}),A.useCallback(async(i,o={})=>{An(n.current,lO),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var tA={};function cO(t,e,n){!e&&!tA[t]&&(tA[t]=!0,An(!1,n))}var nA={};function rA(t,e){!t&&!nA[e]&&(nA[e]=!0,console.warn(e))}function C7(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&An(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:A.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&An(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:A.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&An(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:A.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var R7=["HydrateFallback","hydrateFallbackElement"],N7=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function I7({router:t,flushSync:e}){let[n,r]=A.useState(t.state),[i,o]=A.useState(),[l,c]=A.useState({isTransitioning:!1}),[d,f]=A.useState(),[p,y]=A.useState(),[x,E]=A.useState(),N=A.useRef(new Map),P=A.useCallback((F,{deletedFetchers:Y,flushSync:M,viewTransitionOpts:O})=>{F.fetchers.forEach((I,R)=>{I.data!==void 0&&N.current.set(R,I.data)}),Y.forEach(I=>N.current.delete(I)),rA(M===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let C=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(rA(O==null||C,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!O||!C){e&&M?e(()=>r(F)):A.startTransition(()=>r(F));return}if(e&&M){e(()=>{p&&(d&&d.resolve(),p.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:O.currentLocation,nextLocation:O.nextLocation})});let I=t.window.document.startViewTransition(()=>{e(()=>r(F))});I.finished.finally(()=>{e(()=>{f(void 0),y(void 0),o(void 0),c({isTransitioning:!1})})}),e(()=>y(I));return}p?(d&&d.resolve(),p.skipTransition(),E({state:F,currentLocation:O.currentLocation,nextLocation:O.nextLocation})):(o(F),c({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}))},[t.window,e,p,d]);A.useLayoutEffect(()=>t.subscribe(P),[t,P]),A.useEffect(()=>{l.isTransitioning&&!l.flushSync&&f(new N7)},[l]),A.useEffect(()=>{if(d&&i&&t.window){let F=i,Y=d.promise,M=t.window.document.startViewTransition(async()=>{A.startTransition(()=>r(F)),await Y});M.finished.finally(()=>{f(void 0),y(void 0),o(void 0),c({isTransitioning:!1})}),y(M)}},[i,d,t.window]),A.useEffect(()=>{d&&i&&n.location.key===i.location.key&&d.resolve()},[d,p,n.location,i]),A.useEffect(()=>{!l.isTransitioning&&x&&(o(x.state),c({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),E(void 0))},[l.isTransitioning,x]);let V=A.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:F=>t.navigate(F),push:(F,Y,M)=>t.navigate(F,{state:Y,preventScrollReset:M?.preventScrollReset}),replace:(F,Y,M)=>t.navigate(F,{replace:!0,state:Y,preventScrollReset:M?.preventScrollReset})}),[t]),D=t.basename||"/",B=A.useMemo(()=>({router:t,navigator:V,static:!1,basename:D}),[t,V,D]);return A.createElement(A.Fragment,null,A.createElement(Tl.Provider,{value:B},A.createElement(Dh.Provider,{value:n},A.createElement(oO.Provider,{value:N.current},A.createElement(_w.Provider,{value:l},A.createElement(D7,{basename:D,location:n.location,navigationType:n.historyAction,navigator:V},A.createElement(M7,{routes:t.routes,future:t.future,state:n})))))),null)}var M7=A.memo(O7);function O7({routes:t,future:e,state:n}){return p7(t,void 0,n,e)}function P7(t){return m7(t.context)}function D7({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Tt(!jh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=A.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof n=="string"&&(n=xo(n));let{pathname:d="/",search:f="",hash:p="",state:y=null,key:x="default"}=n,E=A.useMemo(()=>{let N=Ti(d,l);return N==null?null:{location:{pathname:N,search:f,hash:p,state:y,key:x},navigationType:r}},[l,d,f,p,y,x,r]);return An(E!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:A.createElement(Is.Provider,{value:c},A.createElement(Rg.Provider,{children:e,value:E}))}var qm="get",Gm="application/x-www-form-urlencoded";function Ng(t){return t!=null&&typeof t.tagName=="string"}function j7(t){return Ng(t)&&t.tagName.toLowerCase()==="button"}function k7(t){return Ng(t)&&t.tagName.toLowerCase()==="form"}function L7(t){return Ng(t)&&t.tagName.toLowerCase()==="input"}function V7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function U7(t,e){return t.button===0&&(!e||e==="_self")&&!V7(t)}function Rb(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function z7(t,e){let n=Rb(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(o=>{n.append(i,o)})}),n}var bm=null;function B7(){if(bm===null)try{new FormData(document.createElement("form"),0),bm=!1}catch{bm=!0}return bm}var F7=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function f0(t){return t!=null&&!F7.has(t)?(An(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gm}"`),null):t}function H7(t,e){let n,r,i,o,l;if(k7(t)){let c=t.getAttribute("action");r=c?Ti(c,e):null,n=t.getAttribute("method")||qm,i=f0(t.getAttribute("enctype"))||Gm,o=new FormData(t)}else if(j7(t)||L7(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?Ti(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||qm,i=f0(t.getAttribute("formenctype"))||f0(c.getAttribute("enctype"))||Gm,o=new FormData(c,t),!B7()){let{name:f,type:p,value:y}=t;if(p==="image"){let x=f?`${f}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else f&&o.append(f,y)}}else{if(Ng(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=qm,r=null,i=Gm,l=t}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:l}}function Cw(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function $7(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function q7(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function G7(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await $7(o,n);return l.links?l.links():[]}return[]}));return X7(r.flat(1).filter(q7).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function iA(t,e,n,r,i,o){let l=(d,f)=>n[f]?d.route.id!==n[f].route.id:!0,c=(d,f)=>n[f].pathname!==d.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,f)=>l(d,f)||c(d,f)):o==="data"?e.filter((d,f)=>{let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||c(d,f))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function K7(t,e,{includeHydrateFallback:n}={}){return W7(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function W7(t){return[...new Set(t)]}function Y7(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function X7(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(Y7(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Q7=new Set([100,101,204,205]);function Z7(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Ti(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function dO(){let t=A.useContext(Tl);return Cw(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function J7(){let t=A.useContext(Dh);return Cw(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Rw=A.createContext(void 0);Rw.displayName="FrameworkContext";function hO(){let t=A.useContext(Rw);return Cw(t,"You must render this element inside a <HydratedRouter> element"),t}function ez(t,e){let n=A.useContext(Rw),[r,i]=A.useState(!1),[o,l]=A.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:y}=e,x=A.useRef(null);A.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let P=D=>{D.forEach(B=>{l(B.isIntersecting)})},V=new IntersectionObserver(P,{threshold:.5});return x.current&&V.observe(x.current),()=>{V.disconnect()}}},[t]),A.useEffect(()=>{if(r){let P=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(P)}}},[r]);let E=()=>{i(!0)},N=()=>{i(!1),l(!1)};return n?t!=="intent"?[o,x,{}]:[o,x,{onFocus:fd(c,E),onBlur:fd(d,N),onMouseEnter:fd(f,E),onMouseLeave:fd(p,N),onTouchStart:fd(y,E)}]:[!1,x,{}]}function fd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function tz({page:t,...e}){let{router:n}=dO(),r=A.useMemo(()=>Ja(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?A.createElement(rz,{page:t,matches:r,...e}):null}function nz(t){let{manifest:e,routeModules:n}=hO(),[r,i]=A.useState([]);return A.useEffect(()=>{let o=!1;return G7(t,e,n).then(l=>{o||i(l)}),()=>{o=!0}},[t,e,n]),r}function rz({page:t,matches:e,...n}){let r=Hi(),{manifest:i,routeModules:o}=hO(),{basename:l}=dO(),{loaderData:c,matches:d}=J7(),f=A.useMemo(()=>iA(t,e,d,i,r,"data"),[t,e,d,i,r]),p=A.useMemo(()=>iA(t,e,d,i,r,"assets"),[t,e,d,i,r]),y=A.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let N=new Set,P=!1;if(e.forEach(D=>{let B=i.routes[D.route.id];!B||!B.hasLoader||(!f.some(F=>F.route.id===D.route.id)&&D.route.id in c&&o[D.route.id]?.shouldRevalidate||B.hasClientLoader?P=!0:N.add(D.route.id))}),N.size===0)return[];let V=Z7(t,l);return P&&N.size>0&&V.searchParams.set("_routes",e.filter(D=>N.has(D.route.id)).map(D=>D.route.id).join(",")),[V.pathname+V.search]},[l,c,r,i,f,e,t,o]),x=A.useMemo(()=>K7(p,i),[p,i]),E=nz(p);return A.createElement(A.Fragment,null,y.map(N=>A.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),x.map(N=>A.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),E.map(({key:N,link:P})=>A.createElement("link",{key:N,...P})))}function iz(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var fO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fO&&(window.__reactRouterVersion="7.6.3")}catch{}function sz(t,e){return q8({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:h8({window:e?.window}),hydrationData:az(),routes:t,mapRouteProperties:C7,hydrationRouteProperties:R7,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function az(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:oz(t.errors)}),t}function oz(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Ip(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let l=new o(i.message);l.stack="",n[r]=l}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}var mO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zr=A.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:c,target:d,to:f,preventScrollReset:p,viewTransition:y,...x},E){let{basename:N}=A.useContext(Is),P=typeof f=="string"&&mO.test(f),V,D=!1;if(typeof f=="string"&&P&&(V=f,fO))try{let R=new URL(window.location.href),T=f.startsWith("//")?new URL(R.protocol+f):new URL(f),U=Ti(T.pathname,N);T.origin===R.origin&&U!=null?f=U+T.search+T.hash:D=!0}catch{An(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=d7(f,{relative:i}),[F,Y,M]=ez(r,x),O=dz(f,{replace:l,state:c,target:d,preventScrollReset:p,relative:i,viewTransition:y});function C(R){e&&e(R),R.defaultPrevented||O(R)}let I=A.createElement("a",{...x,...M,href:V||B,onClick:D||o?e:C,ref:iz(E,Y),target:d,"data-discover":!P&&n==="render"?"true":void 0});return F&&!P?A.createElement(A.Fragment,null,I,A.createElement(tz,{page:B})):I});Zr.displayName="Link";var lz=A.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:c,children:d,...f},p){let y=kh(l,{relative:f.relative}),x=Hi(),E=A.useContext(Dh),{navigator:N,basename:P}=A.useContext(Is),V=E!=null&&gz(y)&&c===!0,D=N.encodeLocation?N.encodeLocation(y).pathname:y.pathname,B=x.pathname,F=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(B=B.toLowerCase(),F=F?F.toLowerCase():null,D=D.toLowerCase()),F&&P&&(F=Ti(F,P)||F);const Y=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let M=B===D||!i&&B.startsWith(D)&&B.charAt(Y)==="/",O=F!=null&&(F===D||!i&&F.startsWith(D)&&F.charAt(D.length)==="/"),C={isActive:M,isPending:O,isTransitioning:V},I=M?e:void 0,R;typeof r=="function"?R=r(C):R=[r,M?"active":null,O?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let T=typeof o=="function"?o(C):o;return A.createElement(Zr,{...f,"aria-current":I,className:R,ref:p,style:T,to:l,viewTransition:c},typeof d=="function"?d(C):d)});lz.displayName="NavLink";var uz=A.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:l=qm,action:c,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:y,...x},E)=>{let N=mz(),P=pz(c,{relative:f}),V=l.toLowerCase()==="get"?"get":"post",D=typeof c=="string"&&mO.test(c),B=F=>{if(d&&d(F),F.defaultPrevented)return;F.preventDefault();let Y=F.nativeEvent.submitter,M=Y?.getAttribute("formmethod")||l;N(Y||F.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:i,state:o,relative:f,preventScrollReset:p,viewTransition:y})};return A.createElement("form",{ref:E,method:V,action:P,onSubmit:r?d:B,...x,"data-discover":!D&&t==="render"?"true":void 0})});uz.displayName="Form";function cz(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pO(t){let e=A.useContext(Tl);return Tt(e,cz(t)),e}function dz(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let c=vr(),d=Hi(),f=kh(t,{relative:o});return A.useCallback(p=>{if(U7(p,e)){p.preventDefault();let y=n!==void 0?n:po(d)===po(f);c(t,{replace:y,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,f,n,r,e,t,i,o,l])}function Nw(t){An(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=A.useRef(Rb(t)),n=A.useRef(!1),r=Hi(),i=A.useMemo(()=>z7(r.search,n.current?null:e.current),[r.search]),o=vr(),l=A.useCallback((c,d)=>{const f=Rb(typeof c=="function"?c(i):c);n.current=!0,o("?"+f,d)},[o,i]);return[i,l]}var hz=0,fz=()=>`__${String(++hz)}__`;function mz(){let{router:t}=pO("useSubmit"),{basename:e}=A.useContext(Is),n=T7();return A.useCallback(async(r,i={})=>{let{action:o,method:l,encType:c,formData:d,body:f}=H7(r,e);if(i.navigate===!1){let p=i.fetcherKey||fz();await t.fetch(p,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:f,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function pz(t,{relative:e}={}){let{basename:n}=A.useContext(Is),r=A.useContext(Fi);Tt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...kh(t||".",{relative:e})},l=Hi();if(t==null){o.search=l.search;let c=new URLSearchParams(o.search),d=c.getAll("index");if(d.some(p=>p==="")){c.delete("index"),d.filter(y=>y).forEach(y=>c.append("index",y));let p=c.toString();o.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:bs([n,o.pathname])),po(o)}function gz(t,e={}){let n=A.useContext(_w);Tt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=pO("useViewTransitionState"),i=kh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Ti(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Ti(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Np(i.pathname,l)!=null||Np(i.pathname,o)!=null}[...Q7];const vz="modulepreload",yz=function(t){return"/"+t},sA={},Iw=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let f=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};var l=f;document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");i=f(n.map(p=>{if(p=yz(p),p in sA)return;sA[p]=!0;const y=p.endsWith(".css"),x=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${x}`))return;const E=document.createElement("link");if(E.rel=y?"stylesheet":vz,y||(E.as="script"),E.crossOrigin="",E.href=p,d&&E.setAttribute("nonce",d),document.head.appendChild(E),y)return new Promise((N,P)=>{E.addEventListener("load",N),E.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return i.then(c=>{for(const d of c||[])d.status==="rejected"&&o(d.reason);return e().catch(o)})};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xz=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),aA=t=>{const e=xz(t);return e.charAt(0).toUpperCase()+e.slice(1)},gO=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),wz=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _z={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...c},d)=>A.createElement("svg",{ref:d,..._z,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:gO("lucide",i),...!o&&!wz(c)&&{"aria-hidden":"true"},...c},[...l.map(([f,p])=>A.createElement(f,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=(t,e)=>{const n=A.forwardRef(({className:r,...i},o)=>A.createElement(Sz,{ref:o,iconNode:e,className:gO(`lucide-${bz(aA(t))}`,`lucide-${t}`,r),...i}));return n.displayName=aA(t),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ez=dt("activity",Tz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],Mw=dt("arrow-left-right",Az);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Lh=dt("arrow-left",Cz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ig=dt("arrow-right",Rz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Iz=dt("arrow-up",Nz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],gl=dt("bookmark",Mz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ow=dt("check",Oz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Vh=dt("chevron-down",Pz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],vO=dt("chevron-up",Dz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Op=dt("circle-check-big",jz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Lz=dt("circle-x",kz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Uz=dt("cloud-upload",Vz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Bz=dt("external-link",zz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Hz=dt("eye",Fz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],gu=dt("funnel",$z);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Gz=dt("grid-3x3",qz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Ku=dt("heart",Kz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Pw=dt("house",Wz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],yO=dt("image",Yz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],bO=dt("loader-circle",Xz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],xO=dt("log-out",Qz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],wO=dt("mail",Zz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],eB=dt("menu",Jz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Nb=dt("message-circle",tB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Wu=dt("message-square",nB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["path",{d:"M5 12h14",key:"1ays0h"}]],oA=dt("minus",rB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],sB=dt("package",iB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yu=dt("plus",aB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],lB=dt("reply",oB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],lA=dt("rotate-ccw",uB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],vl=dt("search",cB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Mg=dt("send",dB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fB=dt("settings",hB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Du=dt("shopping-bag",mB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],gB=dt("shopping-cart",pB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],uA=dt("sparkles",vB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],bB=dt("square-pen",yB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],_O=dt("trash-2",xB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ib=dt("trending-up",wB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],SO=dt("triangle-alert",_B);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],yl=dt("user",SB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],cA=dt("users",TB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ui=dt("x",EB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],CB=dt("zap",AB),Dw=A.createContext({});function El(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const jw=typeof window<"u",Uh=jw?A.useLayoutEffect:A.useEffect,Og=A.createContext(null);function kw(t,e){t.indexOf(e)===-1&&t.push(e)}function Lw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Cs=(t,e,n)=>n>e?e:n<t?t:n;let ih=()=>{};const fa={},TO=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function EO(t){return typeof t=="object"&&t!==null}const AO=t=>/^0[^.\s]+$/u.test(t);function Vw(t){let e;return()=>(e===void 0&&(e=t()),e)}const Dr=t=>t,RB=(t,e)=>n=>e(t(n)),zh=(...t)=>t.reduce(RB),Xu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Uw{constructor(){this.subscriptions=[]}add(e){return kw(this.subscriptions,e),()=>Lw(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const l=this.subscriptions[o];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const xs=t=>t*1e3,ws=t=>t/1e3;function zw(t,e){return e?t*(1e3/e):0}const CO=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,NB=1e-7,IB=12;function MB(t,e,n,r,i){let o,l,c=0;do l=e+(n-e)/2,o=CO(l,r,i)-t,o>0?n=l:e=l;while(Math.abs(o)>NB&&++c<IB);return l}function Bh(t,e,n,r){if(t===e&&n===r)return Dr;const i=o=>MB(o,0,1,t,n);return o=>o===0||o===1?o:CO(i(o),e,r)}const RO=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,NO=t=>e=>1-t(1-e),IO=Bh(.33,1.53,.69,.99),Bw=NO(IO),MO=RO(Bw),OO=t=>(t*=2)<1?.5*Bw(t):.5*(2-Math.pow(2,-10*(t-1))),Fw=t=>1-Math.sin(Math.acos(t)),PO=NO(Fw),DO=RO(Fw),OB=Bh(.42,0,1,1),Pp=Bh(0,0,.58,1),Dp=Bh(.42,0,.58,1),PB=t=>Array.isArray(t)&&typeof t[0]!="number",jO=t=>Array.isArray(t)&&typeof t[0]=="number",DB={linear:Dr,easeIn:OB,easeInOut:Dp,easeOut:Pp,circIn:Fw,circInOut:DO,circOut:PO,backIn:Bw,backInOut:MO,backOut:IO,anticipate:OO},jB=t=>typeof t=="string",dA=t=>{if(jO(t)){ih(t.length===4);const[e,n,r,i]=t;return Bh(e,n,r,i)}else if(jB(t))return DB[t];return t},xm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],hA={value:null};function kB(t,e){let n=new Set,r=new Set,i=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},d=0;function f(y){l.has(y)&&(p.schedule(y),t()),d++,y(c)}const p={schedule:(y,x=!1,E=!1)=>{const P=E&&i?n:r;return x&&l.add(y),P.has(y)||P.add(y),y},cancel:y=>{r.delete(y),l.delete(y)},process:y=>{if(c=y,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(f),e&&hA.value&&hA.value.frameloop[e].push(d),d=0,n.clear(),i=!1,o&&(o=!1,p.process(y))}};return p}const LB=40;function kO(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=xm.reduce((F,Y)=>(F[Y]=kB(o,e?Y:void 0),F),{}),{setup:c,read:d,resolveKeyframes:f,preUpdate:p,update:y,preRender:x,render:E,postRender:N}=l,P=()=>{const F=fa.useManualTiming?i.timestamp:performance.now();n=!1,fa.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(F-i.timestamp,LB),1)),i.timestamp=F,i.isProcessing=!0,c.process(i),d.process(i),f.process(i),p.process(i),y.process(i),x.process(i),E.process(i),N.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(P))},V=()=>{n=!0,r=!0,i.isProcessing||t(P)};return{schedule:xm.reduce((F,Y)=>{const M=l[Y];return F[Y]=(O,C=!1,I=!1)=>(n||V(),M.schedule(O,C,I)),F},{}),cancel:F=>{for(let Y=0;Y<xm.length;Y++)l[xm[Y]].cancel(F)},state:i,steps:l}}const{schedule:Vt,cancel:Ei,state:Wn,steps:m0}=kO(typeof requestAnimationFrame<"u"?requestAnimationFrame:Dr,!0);let Km;function VB(){Km=void 0}const Pr={now:()=>(Km===void 0&&Pr.set(Wn.isProcessing||fa.useManualTiming?Wn.timestamp:performance.now()),Km),set:t=>{Km=t,queueMicrotask(VB)}},LO=t=>e=>typeof e=="string"&&e.startsWith(t),Hw=LO("--"),UB=LO("var(--"),$w=t=>UB(t)?zB.test(t.split("/*")[0].trim()):!1,zB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,sc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},sh={...sc,transform:t=>Cs(0,1,t)},wm={...sc,default:1},zd=t=>Math.round(t*1e5)/1e5,qw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function BB(t){return t==null}const FB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Gw=(t,e)=>n=>!!(typeof n=="string"&&FB.test(n)&&n.startsWith(t)||e&&!BB(n)&&Object.prototype.hasOwnProperty.call(n,e)),VO=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,l,c]=r.match(qw);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},HB=t=>Cs(0,255,t),p0={...sc,transform:t=>Math.round(HB(t))},rl={test:Gw("rgb","red"),parse:VO("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+p0.transform(t)+", "+p0.transform(e)+", "+p0.transform(n)+", "+zd(sh.transform(r))+")"};function $B(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Mb={test:Gw("#"),parse:$B,transform:rl.transform},Fh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ga=Fh("deg"),_s=Fh("%"),at=Fh("px"),qB=Fh("vh"),GB=Fh("vw"),fA={..._s,parse:t=>_s.parse(t)/100,transform:t=>_s.transform(t*100)},bu={test:Gw("hsl","hue"),parse:VO("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+_s.transform(zd(e))+", "+_s.transform(zd(n))+", "+zd(sh.transform(r))+")"},Pn={test:t=>rl.test(t)||Mb.test(t)||bu.test(t),parse:t=>rl.test(t)?rl.parse(t):bu.test(t)?bu.parse(t):Mb.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?rl.transform(t):bu.transform(t),getAnimatableNone:t=>{const e=Pn.parse(t);return e.alpha=0,Pn.transform(e)}},KB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function WB(t){return isNaN(t)&&typeof t=="string"&&(t.match(qw)?.length||0)+(t.match(KB)?.length||0)>0}const UO="number",zO="color",YB="var",XB="var(",mA="${}",QB=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ah(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const c=e.replace(QB,d=>(Pn.test(d)?(r.color.push(o),i.push(zO),n.push(Pn.parse(d))):d.startsWith(XB)?(r.var.push(o),i.push(YB),n.push(d)):(r.number.push(o),i.push(UO),n.push(parseFloat(d))),++o,mA)).split(mA);return{values:n,split:c,indexes:r,types:i}}function BO(t){return ah(t).values}function FO(t){const{split:e,types:n}=ah(t),r=e.length;return i=>{let o="";for(let l=0;l<r;l++)if(o+=e[l],i[l]!==void 0){const c=n[l];c===UO?o+=zd(i[l]):c===zO?o+=Pn.transform(i[l]):o+=i[l]}return o}}const ZB=t=>typeof t=="number"?0:Pn.test(t)?Pn.getAnimatableNone(t):t;function JB(t){const e=BO(t);return FO(t)(e.map(ZB))}const go={test:WB,parse:BO,createTransformer:FO,getAnimatableNone:JB};function g0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function eF({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,l=0;if(!e)i=o=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,d=2*n-c;i=g0(d,c,t+1/3),o=g0(d,c,t),l=g0(d,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function jp(t,e){return n=>n>0?e:t}const dn=(t,e,n)=>t+(e-t)*n,v0=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},tF=[Mb,rl,bu],nF=t=>tF.find(e=>e.test(t));function pA(t){const e=nF(t);if(!e)return!1;let n=e.parse(t);return e===bu&&(n=eF(n)),n}const gA=(t,e)=>{const n=pA(t),r=pA(e);if(!n||!r)return jp(t,e);const i={...n};return o=>(i.red=v0(n.red,r.red,o),i.green=v0(n.green,r.green,o),i.blue=v0(n.blue,r.blue,o),i.alpha=dn(n.alpha,r.alpha,o),rl.transform(i))},Ob=new Set(["none","hidden"]);function rF(t,e){return Ob.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function iF(t,e){return n=>dn(t,e,n)}function Kw(t){return typeof t=="number"?iF:typeof t=="string"?$w(t)?jp:Pn.test(t)?gA:oF:Array.isArray(t)?HO:typeof t=="object"?Pn.test(t)?gA:sF:jp}function HO(t,e){const n=[...t],r=n.length,i=t.map((o,l)=>Kw(o)(o,e[l]));return o=>{for(let l=0;l<r;l++)n[l]=i[l](o);return n}}function sF(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Kw(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function aF(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],l=t.indexes[o][r[o]],c=t.values[l]??0;n[i]=c,r[o]++}return n}const oF=(t,e)=>{const n=go.createTransformer(e),r=ah(t),i=ah(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Ob.has(t)&&!i.values.length||Ob.has(e)&&!r.values.length?rF(t,e):zh(HO(aF(r,i),i.values),n):jp(t,e)};function $O(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?dn(t,e,n):Kw(t)(t,e)}const lF=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Vt.update(e,n),stop:()=>Ei(e),now:()=>Wn.isProcessing?Wn.timestamp:Pr.now()}},qO=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=Math.round(t(o/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},kp=2e4;function Ww(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<kp;)e+=n,r=t.next(e);return e>=kp?1/0:e}function uF(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(Ww(r),kp);return{type:"keyframes",ease:o=>r.next(i*o).value/e,duration:ws(i)}}const cF=5;function GO(t,e,n){const r=Math.max(e-cF,0);return zw(n-t(r),e-r)}const yn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},y0=.001;function dF({duration:t=yn.duration,bounce:e=yn.bounce,velocity:n=yn.velocity,mass:r=yn.mass}){let i,o,l=1-e;l=Cs(yn.minDamping,yn.maxDamping,l),t=Cs(yn.minDuration,yn.maxDuration,ws(t)),l<1?(i=f=>{const p=f*l,y=p*t,x=p-n,E=Pb(f,l),N=Math.exp(-y);return y0-x/E*N},o=f=>{const y=f*l*t,x=y*n+n,E=Math.pow(l,2)*Math.pow(f,2)*t,N=Math.exp(-y),P=Pb(Math.pow(f,2),l);return(-i(f)+y0>0?-1:1)*((x-E)*N)/P}):(i=f=>{const p=Math.exp(-f*t),y=(f-n)*t+1;return-y0+p*y},o=f=>{const p=Math.exp(-f*t),y=(n-f)*(t*t);return p*y});const c=5/t,d=fF(i,o,c);if(t=xs(t),isNaN(d))return{stiffness:yn.stiffness,damping:yn.damping,duration:t};{const f=Math.pow(d,2)*r;return{stiffness:f,damping:l*2*Math.sqrt(r*f),duration:t}}}const hF=12;function fF(t,e,n){let r=n;for(let i=1;i<hF;i++)r=r-t(r)/e(r);return r}function Pb(t,e){return t*Math.sqrt(1-e*e)}const mF=["duration","bounce"],pF=["stiffness","damping","mass"];function vA(t,e){return e.some(n=>t[n]!==void 0)}function gF(t){let e={velocity:yn.velocity,stiffness:yn.stiffness,damping:yn.damping,mass:yn.mass,isResolvedFromDuration:!1,...t};if(!vA(t,pF)&&vA(t,mF))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*Cs(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:yn.mass,stiffness:i,damping:o}}else{const n=dF(t);e={...e,...n,mass:yn.mass},e.isResolvedFromDuration=!0}return e}function Lp(t=yn.visualDuration,e=yn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:d,damping:f,mass:p,duration:y,velocity:x,isResolvedFromDuration:E}=gF({...n,velocity:-ws(n.velocity||0)}),N=x||0,P=f/(2*Math.sqrt(d*p)),V=l-o,D=ws(Math.sqrt(d/p)),B=Math.abs(V)<5;r||(r=B?yn.restSpeed.granular:yn.restSpeed.default),i||(i=B?yn.restDelta.granular:yn.restDelta.default);let F;if(P<1){const M=Pb(D,P);F=O=>{const C=Math.exp(-P*D*O);return l-C*((N+P*D*V)/M*Math.sin(M*O)+V*Math.cos(M*O))}}else if(P===1)F=M=>l-Math.exp(-D*M)*(V+(N+D*V)*M);else{const M=D*Math.sqrt(P*P-1);F=O=>{const C=Math.exp(-P*D*O),I=Math.min(M*O,300);return l-C*((N+P*D*V)*Math.sinh(I)+M*V*Math.cosh(I))/M}}const Y={calculatedDuration:E&&y||null,next:M=>{const O=F(M);if(E)c.done=M>=y;else{let C=M===0?N:0;P<1&&(C=M===0?xs(N):GO(F,M,O));const I=Math.abs(C)<=r,R=Math.abs(l-O)<=i;c.done=I&&R}return c.value=c.done?l:O,c},toString:()=>{const M=Math.min(Ww(Y),kp),O=qO(C=>Y.next(M*C).value,M,30);return M+"ms "+O},toTransition:()=>{}};return Y}Lp.applyToOptions=t=>{const e=uF(t,100,Lp);return t.ease=e.ease,t.duration=xs(e.duration),t.type="keyframes",t};function Db({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:d,restDelta:f=.5,restSpeed:p}){const y=t[0],x={done:!1,value:y},E=I=>c!==void 0&&I<c||d!==void 0&&I>d,N=I=>c===void 0?d:d===void 0||Math.abs(c-I)<Math.abs(d-I)?c:d;let P=n*e;const V=y+P,D=l===void 0?V:l(V);D!==V&&(P=D-y);const B=I=>-P*Math.exp(-I/r),F=I=>D+B(I),Y=I=>{const R=B(I),T=F(I);x.done=Math.abs(R)<=f,x.value=x.done?D:T};let M,O;const C=I=>{E(x.value)&&(M=I,O=Lp({keyframes:[x.value,N(x.value)],velocity:GO(F,I,x.value),damping:i,stiffness:o,restDelta:f,restSpeed:p}))};return C(0),{calculatedDuration:null,next:I=>{let R=!1;return!O&&M===void 0&&(R=!0,Y(I),C(I)),M!==void 0&&I>=M?O.next(I-M):(!R&&Y(I),x)}}}function vF(t,e,n){const r=[],i=n||fa.mix||$O,o=t.length-1;for(let l=0;l<o;l++){let c=i(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||Dr:e;c=zh(d,c)}r.push(c)}return r}function Yw(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(ih(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=vF(e,r,i),d=c.length,f=p=>{if(l&&p<t[0])return e[0];let y=0;if(d>1)for(;y<t.length-2&&!(p<t[y+1]);y++);const x=Xu(t[y],t[y+1],p);return c[y](x)};return n?p=>f(Cs(t[0],t[o-1],p)):f}function yF(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Xu(0,e,r);t.push(dn(n,1,i))}}function KO(t){const e=[0];return yF(e,t.length-1),e}function bF(t,e){return t.map(n=>n*e)}function xF(t,e){return t.map(()=>e||Dp).splice(0,t.length-1)}function Bd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=PB(r)?r.map(dA):dA(r),o={done:!1,value:e[0]},l=bF(n&&n.length===e.length?n:KO(e),t),c=Yw(l,e,{ease:Array.isArray(i)?i:xF(e,i)});return{calculatedDuration:t,next:d=>(o.value=c(d),o.done=d>=t,o)}}const wF=t=>t!==null;function Xw(t,{repeat:e,repeatType:n="loop"},r,i=1){const o=t.filter(wF),c=i<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!c||r===void 0?o[c]:r}const _F={decay:Db,inertia:Db,tween:Bd,keyframes:Bd,spring:Lp};function WO(t){typeof t.type=="string"&&(t.type=_F[t.type])}class Qw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const SF=t=>t/100;class Pg extends Qw{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Pr.now()&&this.tick(Pr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;WO(e);const{type:n=Bd,repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:l=0}=e;let{keyframes:c}=e;const d=n||Bd;d!==Bd&&typeof c[0]!="number"&&(this.mixKeyframes=zh(SF,$O(c[0],c[1])),c=[0,100]);const f=d({...e,keyframes:c});o==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-l})),f.calculatedDuration===null&&(f.calculatedDuration=Ww(f));const{calculatedDuration:p}=f;this.calculatedDuration=p,this.resolvedDuration=p+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=f}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:p,repeat:y,repeatType:x,repeatDelay:E,type:N,onUpdate:P,finalKeyframe:V}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const D=this.currentTime-f*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?D<0:D>i;this.currentTime=Math.max(D,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let F=this.currentTime,Y=r;if(y){const I=Math.min(this.currentTime,i)/c;let R=Math.floor(I),T=I%1;!T&&I>=1&&(T=1),T===1&&R--,R=Math.min(R,y+1),!!(R%2)&&(x==="reverse"?(T=1-T,E&&(T-=E/c)):x==="mirror"&&(Y=l)),F=Cs(0,1,T)*c}const M=B?{done:!1,value:p[0]}:Y.next(F);o&&(M.value=o(M.value));let{done:O}=M;!B&&d!==null&&(O=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return C&&N!==Db&&(M.value=Xw(p,this.options,V,this.speed)),P&&P(M.value),C&&this.finish(),M}then(e,n){return this.finished.then(e,n)}get duration(){return ws(this.calculatedDuration)}get time(){return ws(this.currentTime)}set time(e){e=xs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Pr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ws(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=lF,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Pr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function TF(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const il=t=>t*180/Math.PI,jb=t=>{const e=il(Math.atan2(t[1],t[0]));return kb(e)},EF={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:jb,rotateZ:jb,skewX:t=>il(Math.atan(t[1])),skewY:t=>il(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},kb=t=>(t=t%360,t<0&&(t+=360),t),yA=jb,bA=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),xA=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),AF={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:bA,scaleY:xA,scale:t=>(bA(t)+xA(t))/2,rotateX:t=>kb(il(Math.atan2(t[6],t[5]))),rotateY:t=>kb(il(Math.atan2(-t[2],t[0]))),rotateZ:yA,rotate:yA,skewX:t=>il(Math.atan(t[4])),skewY:t=>il(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Lb(t){return t.includes("scale")?1:0}function Vb(t,e){if(!t||t==="none")return Lb(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=AF,i=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=EF,i=c}if(!i)return Lb(e);const o=r[e],l=i[1].split(",").map(RF);return typeof o=="function"?o(l):l[o]}const CF=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Vb(n,e)};function RF(t){return parseFloat(t.trim())}const ac=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],oc=new Set(ac),wA=t=>t===sc||t===at,NF=new Set(["x","y","z"]),IF=ac.filter(t=>!NF.has(t));function MF(t){const e=[];return IF.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const al={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Vb(e,"x"),y:(t,{transform:e})=>Vb(e,"y")};al.translateX=al.x;al.translateY=al.y;const ol=new Set;let Ub=!1,zb=!1,Bb=!1;function YO(){if(zb){const t=Array.from(ol).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=MF(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,l])=>{r.getValue(o)?.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}zb=!1,Ub=!1,ol.forEach(t=>t.complete(Bb)),ol.clear()}function XO(){ol.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(zb=!0)})}function OF(){Bb=!0,XO(),YO(),Bb=!1}class Zw{constructor(e,n,r,i,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(ol.add(this),Ub||(Ub=!0,Vt.read(XO),Vt.resolveKeyframes(YO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const o=i?.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const c=r.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),i&&o===void 0&&i.set(e[0])}TF(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ol.delete(this)}cancel(){this.state==="scheduled"&&(ol.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const PF=t=>t.startsWith("--");function DF(t,e,n){PF(e)?t.style.setProperty(e,n):t.style[e]=n}const QO=Vw(()=>window.ScrollTimeline!==void 0),jF={};function kF(t,e){const n=Vw(t);return()=>jF[e]??n()}const ZO=kF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Md=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,_A={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Md([0,.65,.55,1]),circOut:Md([.55,0,1,.45]),backIn:Md([.31,.01,.66,-.59]),backOut:Md([.33,1.53,.69,.99])};function JO(t,e){if(t)return typeof t=="function"?ZO()?qO(t,e):"ease-out":jO(t)?Md(t):Array.isArray(t)?t.map(n=>JO(n,e)||_A.easeOut):_A[t]}function LF(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:l="loop",ease:c="easeOut",times:d}={},f=void 0){const p={[e]:n};d&&(p.offset=d);const y=JO(c,i);Array.isArray(y)&&(p.easing=y);const x={delay:r,duration:i,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return f&&(x.pseudoElement=f),t.animate(p,x)}function eP(t){return typeof t=="function"&&"applyToOptions"in t}function VF({type:t,...e}){return eP(t)&&ZO()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class UF extends Qw{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=e,ih(typeof e.type!="string");const f=VF(e);this.animation=LF(n,r,i,f,o),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=Xw(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(p):DF(n,r,p),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ws(Number(e))}get time(){return ws(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=xs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&QO()?(this.animation.timeline=e,Dr):n(this)}}const tP={anticipate:OO,backInOut:MO,circInOut:DO};function zF(t){return t in tP}function BF(t){typeof t.ease=="string"&&zF(t.ease)&&(t.ease=tP[t.ease])}const SA=10;class FF extends UF{constructor(e){BF(e),WO(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:o,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new Pg({...l,autoplay:!1}),d=xs(this.finishedTime??this.time);n.setWithVelocity(c.sample(d-SA).value,c.sample(d).value,SA),c.stop()}}const TA=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(go.test(t)||t==="0")&&!t.startsWith("url("));function HF(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function $F(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=TA(i,e),c=TA(o,e);return!l||!c?!1:HF(t)||(n==="spring"||eP(n))&&r}const qF=new Set(["opacity","clipPath","filter","transform"]),GF=Vw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function KF(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:o,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:f}=e.owner.getProps();return GF()&&n&&qF.has(n)&&(n!=="transform"||!f)&&!d&&!r&&i!=="mirror"&&o!==0&&l!=="inertia"}const WF=40;class YF extends Qw{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",keyframes:c,name:d,motionValue:f,element:p,...y}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Pr.now();const x={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:l,name:d,motionValue:f,element:p,...y},E=p?.KeyframeResolver||Zw;this.keyframeResolver=new E(c,(N,P,V)=>this.onKeyframesResolved(N,P,x,!V),d,f,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:o,type:l,velocity:c,delay:d,isHandoff:f,onUpdate:p}=r;this.resolvedAt=Pr.now(),$F(e,o,l,c)||((fa.instantAnimations||!d)&&p?.(Xw(e,r,n)),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const x={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>WF?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},E=!f&&KF(x)?new FF({...x,element:x.motionValue.owner.current}):new Pg(x);E.finished.then(()=>this.notifyFinished()).catch(Dr),this.pendingTimeline&&(this.stopTimeline=E.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=E}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),OF()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const XF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function QF(t){const e=XF.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function nP(t,e,n=1){const[r,i]=QF(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const l=o.trim();return TO(l)?parseFloat(l):l}return $w(i)?nP(i,e,n+1):i}function Jw(t,e){return t?.[e]??t?.default??t}const rP=new Set(["width","height","top","left","right","bottom",...ac]),ZF={test:t=>t==="auto",parse:t=>t},iP=t=>e=>e.test(t),sP=[sc,at,_s,Ga,GB,qB,ZF],EA=t=>sP.find(iP(t));function JF(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||AO(t):!0}const eH=new Set(["brightness","contrast","saturate","opacity"]);function tH(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(qw)||[];if(!r)return t;const i=n.replace(r,"");let o=eH.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const nH=/\b([a-z-]*)\(.*?\)/gu,Fb={...go,getAnimatableNone:t=>{const e=t.match(nH);return e?e.map(tH).join(" "):t}},AA={...sc,transform:Math.round},rH={rotate:Ga,rotateX:Ga,rotateY:Ga,rotateZ:Ga,scale:wm,scaleX:wm,scaleY:wm,scaleZ:wm,skew:Ga,skewX:Ga,skewY:Ga,distance:at,translateX:at,translateY:at,translateZ:at,x:at,y:at,z:at,perspective:at,transformPerspective:at,opacity:sh,originX:fA,originY:fA,originZ:at},e_={borderWidth:at,borderTopWidth:at,borderRightWidth:at,borderBottomWidth:at,borderLeftWidth:at,borderRadius:at,radius:at,borderTopLeftRadius:at,borderTopRightRadius:at,borderBottomRightRadius:at,borderBottomLeftRadius:at,width:at,maxWidth:at,height:at,maxHeight:at,top:at,right:at,bottom:at,left:at,padding:at,paddingTop:at,paddingRight:at,paddingBottom:at,paddingLeft:at,margin:at,marginTop:at,marginRight:at,marginBottom:at,marginLeft:at,backgroundPositionX:at,backgroundPositionY:at,...rH,zIndex:AA,fillOpacity:sh,strokeOpacity:sh,numOctaves:AA},iH={...e_,color:Pn,backgroundColor:Pn,outlineColor:Pn,fill:Pn,stroke:Pn,borderColor:Pn,borderTopColor:Pn,borderRightColor:Pn,borderBottomColor:Pn,borderLeftColor:Pn,filter:Fb,WebkitFilter:Fb},aP=t=>iH[t];function oP(t,e){let n=aP(t);return n!==Fb&&(n=go),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const sH=new Set(["auto","none","0"]);function aH(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!sH.has(o)&&ah(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=oP(n,i)}class oH extends Zw{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let f=e[d];if(typeof f=="string"&&(f=f.trim(),$w(f))){const p=nP(f,n.current);p!==void 0&&(e[d]=p),d===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!rP.has(r)||e.length!==2)return;const[i,o]=e,l=EA(i),c=EA(o);if(l!==c)if(wA(l)&&wA(c))for(let d=0;d<e.length;d++){const f=e[d];typeof f=="string"&&(e[d]=parseFloat(f))}else al[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||JF(e[i]))&&r.push(i);r.length&&aH(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=al[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,l=r[o];r[o]=al[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function lP(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const i=document.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const uP=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function t_(t){return EO(t)&&"offsetHeight"in t}const CA=30,lH=t=>!isNaN(parseFloat(t)),Fd={current:void 0};class uH{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=Pr.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();i&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Pr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=lH(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Uw);const r=this.events[e].add(n);return e==="change"?()=>{r(),Vt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Fd.current&&Fd.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Pr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>CA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,CA);return zw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ji(t,e){return new uH(t,e)}const{schedule:n_}=kO(queueMicrotask,!1),Oi={x:!1,y:!1};function cP(){return Oi.x||Oi.y}function cH(t){return t==="x"||t==="y"?Oi[t]?null:(Oi[t]=!0,()=>{Oi[t]=!1}):Oi.x||Oi.y?null:(Oi.x=Oi.y=!0,()=>{Oi.x=Oi.y=!1})}function dP(t,e){const n=lP(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function RA(t){return!(t.pointerType==="touch"||cP())}function dH(t,e,n={}){const[r,i,o]=dP(t,n),l=c=>{if(!RA(c))return;const{target:d}=c,f=e(d,c);if(typeof f!="function"||!d)return;const p=y=>{RA(y)&&(f(y),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,i)};return r.forEach(c=>{c.addEventListener("pointerenter",l,i)}),o}const hP=(t,e)=>e?t===e?!0:hP(t,e.parentElement):!1,r_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,hH=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function fH(t){return hH.has(t.tagName)||t.tabIndex!==-1}const Wm=new WeakSet;function NA(t){return e=>{e.key==="Enter"&&t(e)}}function b0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const mH=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=NA(()=>{if(Wm.has(n))return;b0(n,"down");const i=NA(()=>{b0(n,"up")}),o=()=>b0(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function IA(t){return r_(t)&&!cP()}function pH(t,e,n={}){const[r,i,o]=dP(t,n),l=c=>{const d=c.currentTarget;if(!IA(c))return;Wm.add(d);const f=e(d,c),p=(E,N)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",x),Wm.has(d)&&Wm.delete(d),IA(E)&&typeof f=="function"&&f(E,{success:N})},y=E=>{p(E,d===window||d===document||n.useGlobalTarget||hP(d,E.target))},x=E=>{p(E,!1)};window.addEventListener("pointerup",y,i),window.addEventListener("pointercancel",x,i)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,i),t_(c)&&(c.addEventListener("focus",f=>mH(f,i)),!fH(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),o}function i_(t){return EO(t)&&"ownerSVGElement"in t}const Ym=new WeakMap;let Xm;const fP=(t,e,n)=>(r,i)=>i&&i[0]?i[0][t+"Size"]:i_(r)&&"getBBox"in r?r.getBBox()[e]:r[n],gH=fP("inline","width","offsetWidth"),vH=fP("block","height","offsetHeight");function yH({target:t,borderBoxSize:e}){Ym.get(t)?.forEach(n=>{n(t,{get width(){return gH(t,e)},get height(){return vH(t,e)}})})}function bH(t){t.forEach(yH)}function xH(){typeof ResizeObserver>"u"||(Xm=new ResizeObserver(bH))}function wH(t,e){Xm||xH();const n=lP(t);return n.forEach(r=>{let i=Ym.get(r);i||(i=new Set,Ym.set(r,i)),i.add(e),Xm?.observe(r)}),()=>{n.forEach(r=>{const i=Ym.get(r);i?.delete(e),i?.size||Xm?.unobserve(r)})}}const Qm=new Set;let xu;function _H(){xu=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};Qm.forEach(e=>e(t))},window.addEventListener("resize",xu)}function SH(t){return Qm.add(t),xu||_H(),()=>{Qm.delete(t),!Qm.size&&typeof xu=="function"&&(window.removeEventListener("resize",xu),xu=void 0)}}function TH(t,e){return typeof t=="function"?SH(t):wH(t,e)}function mP(t,e){let n;const r=()=>{const{currentTime:i}=e,l=(i===null?0:i.value)/100;n!==l&&t(l),n=l};return Vt.preUpdate(r,!0),()=>Ei(r)}function EH(t){return i_(t)&&t.tagName==="svg"}function AH(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],o=t[2+n],l=t[3+n],c=Yw(i,o,l);return e?c(r):c}const Qn=t=>!!(t&&t.getVelocity);function CH(t,e,n){const r=t.get();let i=null,o=r,l;const c=typeof r=="string"?r.replace(/[\d.-]/g,""):void 0,d=()=>{i&&(i.stop(),i=null)},f=()=>{d(),i=new Pg({keyframes:[OA(t.get()),OA(o)],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:l})};t.attach((y,x)=>(o=y,l=E=>x(MA(E,c)),Vt.postRender(f),t.get()),d);let p;return Qn(e)&&(p=e.on("change",y=>t.set(MA(y,c))),t.on("destroy",p)),p}function MA(t,e){return e?t+e:t}function OA(t){return typeof t=="number"?t:parseFloat(t)}const RH=[...sP,Pn,go],NH=t=>RH.find(iP(t)),lc=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class IH extends A.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=t_(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function MH({children:t,isPresent:e,anchorX:n,root:r}){const i=A.useId(),o=A.useRef(null),l=A.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=A.useContext(lc);return A.useInsertionEffect(()=>{const{width:d,height:f,top:p,left:y,right:x}=l.current;if(e||!o.current||!d||!f)return;const E=n==="left"?`left: ${y}`:`right: ${x}`;o.current.dataset.motionPopId=i;const N=document.createElement("style");c&&(N.nonce=c);const P=r??document.head;return P.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${f}px !important;
            ${E}px !important;
            top: ${p}px !important;
          }
        `),()=>{P.removeChild(N),P.contains(N)&&P.removeChild(N)}},[e]),m.jsx(IH,{isPresent:e,childRef:o,sizeRef:l,children:A.cloneElement(t,{ref:o})})}const OH=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:l,anchorX:c,root:d})=>{const f=El(PH),p=A.useId();let y=!0,x=A.useMemo(()=>(y=!1,{id:p,initial:e,isPresent:n,custom:i,onExitComplete:E=>{f.set(E,!0);for(const N of f.values())if(!N)return;r&&r()},register:E=>(f.set(E,!1),()=>f.delete(E))}),[n,f,r]);return o&&y&&(x={...x}),A.useMemo(()=>{f.forEach((E,N)=>f.set(N,!1))},[n]),A.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),l==="popLayout"&&(t=m.jsx(MH,{isPresent:n,anchorX:c,root:d,children:t})),m.jsx(Og.Provider,{value:x,children:t})};function PH(){return new Map}function pP(t=!0){const e=A.useContext(Og);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=A.useId();A.useEffect(()=>{if(t)return i(o)},[t]);const l=A.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,l]:[!0]}const _m=t=>t.key||"";function PA(t){const e=[];return A.Children.forEach(t,n=>{A.isValidElement(n)&&e.push(n)}),e}const fn=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:l=!1,anchorX:c="left",root:d})=>{const[f,p]=pP(l),y=A.useMemo(()=>PA(t),[t]),x=l&&!f?[]:y.map(_m),E=A.useRef(!0),N=A.useRef(y),P=El(()=>new Map),[V,D]=A.useState(y),[B,F]=A.useState(y);Uh(()=>{E.current=!1,N.current=y;for(let O=0;O<B.length;O++){const C=_m(B[O]);x.includes(C)?P.delete(C):P.get(C)!==!0&&P.set(C,!1)}},[B,x.length,x.join("-")]);const Y=[];if(y!==V){let O=[...y];for(let C=0;C<B.length;C++){const I=B[C],R=_m(I);x.includes(R)||(O.splice(C,0,I),Y.push(I))}return o==="wait"&&Y.length&&(O=Y),F(PA(O)),D(y),null}const{forceRender:M}=A.useContext(Dw);return m.jsx(m.Fragment,{children:B.map(O=>{const C=_m(O),I=l&&!f?!1:y===B||x.includes(C),R=()=>{if(P.has(C))P.set(C,!0);else return;let T=!0;P.forEach(U=>{U||(T=!1)}),T&&(M?.(),F(N.current),l&&p?.(),r&&r())};return m.jsx(OH,{isPresent:I,initial:!E.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:o,root:d,onExitComplete:I?void 0:R,anchorX:c,children:O},C)})})},gP=A.createContext({strict:!1}),DA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Qu={};for(const t in DA)Qu[t]={isEnabled:e=>DA[t].some(n=>!!e[n])};function DH(t){for(const e in t)Qu[e]={...Qu[e],...t[e]}}const jH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Vp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||jH.has(t)}let vP=t=>!Vp(t);function kH(t){typeof t=="function"&&(vP=e=>e.startsWith("on")?!Vp(e):t(e))}try{kH(require("@emotion/is-prop-valid").default)}catch{}function LH(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(vP(i)||n===!0&&Vp(i)||!e&&!Vp(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function VH(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Dg=A.createContext({});function jg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function oh(t){return typeof t=="string"||Array.isArray(t)}const s_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],a_=["initial",...s_];function kg(t){return jg(t.animate)||a_.some(e=>oh(t[e]))}function yP(t){return!!(kg(t)||t.variants)}function UH(t,e){if(kg(t)){const{initial:n,animate:r}=t;return{initial:n===!1||oh(n)?n:void 0,animate:oh(r)?r:void 0}}return t.inherit!==!1?e:{}}function zH(t){const{initial:e,animate:n}=UH(t,A.useContext(Dg));return A.useMemo(()=>({initial:e,animate:n}),[jA(e),jA(n)])}function jA(t){return Array.isArray(t)?t.join(" "):t}const BH=Symbol.for("motionComponentSymbol");function wu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function FH(t,e,n){return A.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):wu(n)&&(n.current=r))},[e])}const o_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),HH="framerAppearId",bP="data-"+o_(HH),xP=A.createContext({});function $H(t,e,n,r,i){const{visualElement:o}=A.useContext(Dg),l=A.useContext(gP),c=A.useContext(Og),d=A.useContext(lc).reducedMotion,f=A.useRef(null);r=r||l.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const p=f.current,y=A.useContext(xP);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&qH(f.current,n,i,y);const x=A.useRef(!1);A.useInsertionEffect(()=>{p&&x.current&&p.update(n,c)});const E=n[bP],N=A.useRef(!!E&&!window.MotionHandoffIsComplete?.(E)&&window.MotionHasOptimisedAnimation?.(E));return Uh(()=>{p&&(x.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),n_.render(p.render),N.current&&p.animationState&&p.animationState.animateChanges())}),A.useEffect(()=>{p&&(!N.current&&p.animationState&&p.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(E)}),N.current=!1))}),p}function qH(t,e,n,r){const{layoutId:i,layout:o,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:f,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:wP(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!l||c&&wu(c),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:d,layoutRoot:f})}function wP(t){if(t)return t.options.allowProjection!==!1?t.projection:wP(t.parent)}function GH({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&DH(t);function o(c,d){let f;const p={...A.useContext(lc),...c,layoutId:KH(c)},{isStatic:y}=p,x=zH(c),E=r(c,y);if(!y&&jw){WH();const N=YH(p);f=N.MeasureLayout,x.visualElement=$H(i,E,p,e,N.ProjectionNode)}return m.jsxs(Dg.Provider,{value:x,children:[f&&x.visualElement?m.jsx(f,{visualElement:x.visualElement,...p}):null,n(i,c,FH(E,x.visualElement,d),E,y,x.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const l=A.forwardRef(o);return l[BH]=i,l}function KH({layoutId:t}){const e=A.useContext(Dw).id;return e&&t!==void 0?e+"-"+t:t}function WH(t,e){A.useContext(gP).strict}function YH(t){const{drag:e,layout:n}=Qu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const lh={};function XH(t){for(const e in t)lh[e]=t[e],Hw(e)&&(lh[e].isCSSVariable=!0)}function _P(t,{layout:e,layoutId:n}){return oc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!lh[t]||t==="opacity")}const QH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ZH=ac.length;function JH(t,e,n){let r="",i=!0;for(let o=0;o<ZH;o++){const l=ac[o],c=t[l];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(l.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const f=uP(c,e_[l]);if(!d){i=!1;const p=QH[l]||l;r+=`${p}(${f}) `}n&&(e[l]=f)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function l_(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let l=!1,c=!1;for(const d in e){const f=e[d];if(oc.has(d)){l=!0;continue}else if(Hw(d)){i[d]=f;continue}else{const p=uP(f,e_[d]);d.startsWith("origin")?(c=!0,o[d]=p):r[d]=p}}if(e.transform||(l||n?r.transform=JH(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:f="50%",originZ:p=0}=o;r.transformOrigin=`${d} ${f} ${p}`}}const u_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function SP(t,e,n){for(const r in e)!Qn(e[r])&&!_P(r,n)&&(t[r]=e[r])}function e$({transformTemplate:t},e){return A.useMemo(()=>{const n=u_();return l_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function t$(t,e){const n=t.style||{},r={};return SP(r,n,t),Object.assign(r,e$(t,e)),r}function n$(t,e){const n={},r=t$(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const r$={offset:"stroke-dashoffset",array:"stroke-dasharray"},i$={offset:"strokeDashoffset",array:"strokeDasharray"};function s$(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?r$:i$;t[o.offset]=at.transform(-r);const l=at.transform(e),c=at.transform(n);t[o.array]=`${l} ${c}`}function TP(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:o=1,pathOffset:l=0,...c},d,f,p){if(l_(t,c,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:x}=t;y.transform&&(x.transform=y.transform,delete y.transform),(x.transform||y.transformOrigin)&&(x.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),x.transform&&(x.transformBox=p?.transformBox??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),i!==void 0&&s$(y,i,o,l,!1)}const EP=()=>({...u_(),attrs:{}}),AP=t=>typeof t=="string"&&t.toLowerCase()==="svg";function a$(t,e,n,r){const i=A.useMemo(()=>{const o=EP();return TP(o,e,AP(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};SP(o,t.style,t),i.style={...o,...i.style}}return i}const o$=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function c_(t){return typeof t!="string"||t.includes("-")?!1:!!(o$.indexOf(t)>-1||/[A-Z]/u.test(t))}function l$(t=!1){return(n,r,i,{latestValues:o},l)=>{const d=(c_(n)?a$:n$)(r,o,l,n),f=LH(r,typeof n=="string",t),p=n!==A.Fragment?{...f,...d,ref:i}:{},{children:y}=r,x=A.useMemo(()=>Qn(y)?y.get():y,[y]);return A.createElement(n,{...p,children:x})}}function kA(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function d_(t,e,n,r){if(typeof e=="function"){const[i,o]=kA(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=kA(r);e=e(n!==void 0?n:t.custom,i,o)}return e}function Zm(t){return Qn(t)?t.get():t}function u$({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:c$(n,r,i,t),renderState:e()}}const CP=t=>(e,n)=>{const r=A.useContext(Dg),i=A.useContext(Og),o=()=>u$(t,e,r,i);return n?o():El(o)};function c$(t,e,n,r){const i={},o=r(t,{});for(const x in o)i[x]=Zm(o[x]);let{initial:l,animate:c}=t;const d=kg(t),f=yP(t);e&&f&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const y=p?c:l;if(y&&typeof y!="boolean"&&!jg(y)){const x=Array.isArray(y)?y:[y];for(let E=0;E<x.length;E++){const N=d_(t,x[E]);if(N){const{transitionEnd:P,transition:V,...D}=N;for(const B in D){let F=D[B];if(Array.isArray(F)){const Y=p?F.length-1:0;F=F[Y]}F!==null&&(i[B]=F)}for(const B in P)i[B]=P[B]}}}return i}function h_(t,e,n){const{style:r}=t,i={};for(const o in r)(Qn(r[o])||e.style&&Qn(e.style[o])||_P(o,t)||n?.getValue(o)?.liveStyle!==void 0)&&(i[o]=r[o]);return i}const d$={useVisualState:CP({scrapeMotionValuesFromProps:h_,createRenderState:u_})};function RP(t,e,n){const r=h_(t,e,n);for(const i in t)if(Qn(t[i])||Qn(e[i])){const o=ac.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}const h$={useVisualState:CP({scrapeMotionValuesFromProps:RP,createRenderState:EP})};function f$(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...c_(r)?h$:d$,preloadedFeatures:t,useRender:l$(i),createVisualElement:e,Component:r};return GH(l)}}function uh(t,e,n){const r=t.getProps();return d_(r,e,n!==void 0?n:r.custom,t)}const Hb=t=>Array.isArray(t);function m$(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ji(n))}function p$(t){return Hb(t)?t[t.length-1]||0:t}function f_(t,e){const n=uh(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const l in o){const c=p$(o[l]);m$(t,l,c)}}function g$(t){return!!(Qn(t)&&t.add)}function $b(t,e){const n=t.getValue("willChange");if(g$(n))return n.add(e);if(!n&&fa.WillChange){const r=new fa.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function NP(t){return t.props[bP]}const v$=t=>t!==null;function y$(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(v$),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[o]}const b$={type:"spring",stiffness:500,damping:25,restSpeed:10},x$=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),w$={type:"keyframes",duration:.8},_$={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},S$=(t,{keyframes:e})=>e.length>2?w$:oc.has(t)?t.startsWith("scale")?x$(e[1]):b$:_$;function T$({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:l,repeatDelay:c,from:d,elapsed:f,...p}){return!!Object.keys(p).length}const m_=(t,e,n,r={},i,o)=>l=>{const c=Jw(r,t)||{},d=c.delay||r.delay||0;let{elapsed:f=0}=r;f=f-xs(d);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-f,onUpdate:x=>{e.set(x),c.onUpdate&&c.onUpdate(x)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:o?void 0:i};T$(c)||Object.assign(p,S$(t,p)),p.duration&&(p.duration=xs(p.duration)),p.repeatDelay&&(p.repeatDelay=xs(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let y=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(y=!0)),(fa.instantAnimations||fa.skipAnimations)&&(y=!0,p.duration=0,p.delay=0),p.allowFlatten=!c.type&&!c.ease,y&&!o&&e.get()!==void 0){const x=y$(p.keyframes,c);if(x!==void 0){Vt.update(()=>{p.onUpdate(x),p.onComplete()});return}}return c.isSync?new Pg(p):new YF(p)};function E$({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function IP(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(o=r);const d=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const p in c){const y=t.getValue(p,t.latestValues[p]??null),x=c[p];if(x===void 0||f&&E$(f,p))continue;const E={delay:n,...Jw(o||{},p)},N=y.get();if(N!==void 0&&!y.isAnimating&&!Array.isArray(x)&&x===N&&!E.velocity)continue;let P=!1;if(window.MotionHandoffAnimation){const D=NP(t);if(D){const B=window.MotionHandoffAnimation(D,p,Vt);B!==null&&(E.startTime=B,P=!0)}}$b(t,p),y.start(m_(p,y,x,t.shouldReduceMotion&&rP.has(p)?{type:!1}:E,t,P));const V=y.animation;V&&d.push(V)}return l&&Promise.all(d).then(()=>{Vt.update(()=>{l&&f_(t,l)})}),d}function qb(t,e,n={}){const r=uh(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(IP(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:y}=i;return A$(t,e,d,f,p,y,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,f]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>f())}else return Promise.all([o(),l(n.delay)])}function A$(t,e,n=0,r=0,i=0,o=1,l){const c=[],d=t.variantChildren.size,f=(d-1)*i,p=typeof r=="function",y=p?x=>r(x,d):o===1?(x=0)=>x*i:(x=0)=>f-x*i;return Array.from(t.variantChildren).sort(C$).forEach((x,E)=>{x.notify("AnimationStart",e),c.push(qb(x,e,{...l,delay:n+(p?0:r)+y(E)}).then(()=>x.notify("AnimationComplete",e)))}),Promise.all(c)}function C$(t,e){return t.sortNodePosition(e)}function MP(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>qb(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=qb(t,e,n);else{const i=typeof e=="function"?uh(t,e,n.custom):e;r=Promise.all(IP(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function OP(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const R$=a_.length;function PP(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?PP(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<R$;n++){const r=a_[n],i=t.props[r];(oh(i)||i===!1)&&(e[r]=i)}return e}const N$=[...s_].reverse(),I$=s_.length;function M$(t){return e=>Promise.all(e.map(({animation:n,options:r})=>MP(t,n,r)))}function O$(t){let e=M$(t),n=LA(),r=!0;const i=d=>(f,p)=>{const y=uh(t,p,d==="exit"?t.presenceContext?.custom:void 0);if(y){const{transition:x,transitionEnd:E,...N}=y;f={...f,...N,...E}}return f};function o(d){e=d(t)}function l(d){const{props:f}=t,p=PP(t.parent)||{},y=[],x=new Set;let E={},N=1/0;for(let V=0;V<I$;V++){const D=N$[V],B=n[D],F=f[D]!==void 0?f[D]:p[D],Y=oh(F),M=D===d?B.isActive:null;M===!1&&(N=V);let O=F===p[D]&&F!==f[D]&&Y;if(O&&r&&t.manuallyAnimateOnMount&&(O=!1),B.protectedKeys={...E},!B.isActive&&M===null||!F&&!B.prevProp||jg(F)||typeof F=="boolean")continue;const C=P$(B.prevProp,F);let I=C||D===d&&B.isActive&&!O&&Y||V>N&&Y,R=!1;const T=Array.isArray(F)?F:[F];let U=T.reduce(i(D),{});M===!1&&(U={});const{prevResolvedValues:$={}}=B,j={...$,...U},G=S=>{I=!0,x.has(S)&&(R=!0,x.delete(S)),B.needsAnimating[S]=!0;const J=t.getValue(S);J&&(J.liveStyle=!1)};for(const S in j){const J=U[S],W=$[S];if(E.hasOwnProperty(S))continue;let w=!1;Hb(J)&&Hb(W)?w=!OP(J,W):w=J!==W,w?J!=null?G(S):x.add(S):J!==void 0&&x.has(S)?G(S):B.protectedKeys[S]=!0}B.prevProp=F,B.prevResolvedValues=U,B.isActive&&(E={...E,...U}),r&&t.blockInitialAnimation&&(I=!1),I&&(!(O&&C)||R)&&y.push(...T.map(S=>({animation:S,options:{type:D}})))}if(x.size){const V={};if(typeof f.initial!="boolean"){const D=uh(t,Array.isArray(f.initial)?f.initial[0]:f.initial);D&&D.transition&&(V.transition=D.transition)}x.forEach(D=>{const B=t.getBaseTarget(D),F=t.getValue(D);F&&(F.liveStyle=!0),V[D]=B??null}),y.push({animation:V})}let P=!!y.length;return r&&(f.initial===!1||f.initial===f.animate)&&!t.manuallyAnimateOnMount&&(P=!1),r=!1,P?e(y):Promise.resolve()}function c(d,f){if(n[d].isActive===f)return Promise.resolve();t.variantChildren?.forEach(y=>y.animationState?.setActive(d,f)),n[d].isActive=f;const p=l(d);for(const y in n)n[y].protectedKeys={};return p}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=LA(),r=!0}}}function P$(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!OP(e,t):!1}function Yo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function LA(){return{animate:Yo(!0),whileInView:Yo(),whileHover:Yo(),whileTap:Yo(),whileDrag:Yo(),whileFocus:Yo(),exit:Yo()}}class wo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class D$ extends wo{constructor(e){super(e),e.animationState||(e.animationState=O$(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();jg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let j$=0;class k$ extends wo{constructor(){super(...arguments),this.id=j$++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const L$={animation:{Feature:D$},exit:{Feature:k$}};function ch(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Hh(t){return{point:{x:t.pageX,y:t.pageY}}}const V$=t=>e=>r_(e)&&t(e,Hh(e));function Hd(t,e,n,r){return ch(t,e,V$(n),r)}function DP({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function U$({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function z$(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const jP=1e-4,B$=1-jP,F$=1+jP,kP=.01,H$=0-kP,$$=0+kP;function Tr(t){return t.max-t.min}function q$(t,e,n){return Math.abs(t-e)<=n}function VA(t,e,n,r=.5){t.origin=r,t.originPoint=dn(e.min,e.max,t.origin),t.scale=Tr(n)/Tr(e),t.translate=dn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=B$&&t.scale<=F$||isNaN(t.scale))&&(t.scale=1),(t.translate>=H$&&t.translate<=$$||isNaN(t.translate))&&(t.translate=0)}function $d(t,e,n,r){VA(t.x,e.x,n.x,r?r.originX:void 0),VA(t.y,e.y,n.y,r?r.originY:void 0)}function UA(t,e,n){t.min=n.min+e.min,t.max=t.min+Tr(e)}function G$(t,e,n){UA(t.x,e.x,n.x),UA(t.y,e.y,n.y)}function zA(t,e,n){t.min=e.min-n.min,t.max=t.min+Tr(e)}function qd(t,e,n){zA(t.x,e.x,n.x),zA(t.y,e.y,n.y)}const BA=()=>({translate:0,scale:1,origin:0,originPoint:0}),_u=()=>({x:BA(),y:BA()}),FA=()=>({min:0,max:0}),Tn=()=>({x:FA(),y:FA()});function bi(t){return[t("x"),t("y")]}function x0(t){return t===void 0||t===1}function Gb({scale:t,scaleX:e,scaleY:n}){return!x0(t)||!x0(e)||!x0(n)}function Zo(t){return Gb(t)||LP(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function LP(t){return HA(t.x)||HA(t.y)}function HA(t){return t&&t!=="0%"}function Up(t,e,n){const r=t-n,i=e*r;return n+i}function $A(t,e,n,r,i){return i!==void 0&&(t=Up(t,i,r)),Up(t,n,r)+e}function Kb(t,e=0,n=1,r,i){t.min=$A(t.min,e,n,r,i),t.max=$A(t.max,e,n,r,i)}function VP(t,{x:e,y:n}){Kb(t.x,e.translate,e.scale,e.originPoint),Kb(t.y,n.translate,n.scale,n.originPoint)}const qA=.999999999999,GA=1.0000000000001;function K$(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,l;for(let c=0;c<i;c++){o=n[c],l=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Tu(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,VP(t,l)),r&&Zo(o.latestValues)&&Tu(t,o.latestValues))}e.x<GA&&e.x>qA&&(e.x=1),e.y<GA&&e.y>qA&&(e.y=1)}function Su(t,e){t.min=t.min+e,t.max=t.max+e}function KA(t,e,n,r,i=.5){const o=dn(t.min,t.max,i);Kb(t,e,n,o,r)}function Tu(t,e){KA(t.x,e.x,e.scaleX,e.scale,e.originX),KA(t.y,e.y,e.scaleY,e.scale,e.originY)}function UP(t,e){return DP(z$(t.getBoundingClientRect(),e))}function W$(t,e,n){const r=UP(t,n),{scroll:i}=e;return i&&(Su(r.x,i.offset.x),Su(r.y,i.offset.y)),r}const zP=({current:t})=>t?t.ownerDocument.defaultView:null,WA=(t,e)=>Math.abs(t-e);function Y$(t,e){const n=WA(t.x,e.x),r=WA(t.y,e.y);return Math.sqrt(n**2+r**2)}class BP{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=_0(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,N=Y$(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!E&&!N)return;const{point:P}=x,{timestamp:V}=Wn;this.history.push({...P,timestamp:V});const{onStart:D,onMove:B}=this.handlers;E||(D&&D(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,x)},this.handlePointerMove=(x,E)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=w0(E,this.transformPagePoint),Vt.update(this.updatePoint,!0)},this.handlePointerUp=(x,E)=>{this.end();const{onEnd:N,onSessionEnd:P,resumeAnimation:V}=this.handlers;if(this.dragSnapToOrigin&&V&&V(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=_0(x.type==="pointercancel"?this.lastMoveEventInfo:w0(E,this.transformPagePoint),this.history);this.startEvent&&N&&N(x,D),P&&P(x,D)},!r_(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=i||window;const c=Hh(e),d=w0(c,this.transformPagePoint),{point:f}=d,{timestamp:p}=Wn;this.history=[{...f,timestamp:p}];const{onSessionStart:y}=n;y&&y(e,_0(d,this.history)),this.removeListeners=zh(Hd(this.contextWindow,"pointermove",this.handlePointerMove),Hd(this.contextWindow,"pointerup",this.handlePointerUp),Hd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ei(this.updatePoint)}}function w0(t,e){return e?{point:e(t.point)}:t}function YA(t,e){return{x:t.x-e.x,y:t.y-e.y}}function _0({point:t},e){return{point:t,delta:YA(t,FP(e)),offset:YA(t,X$(e)),velocity:Q$(e,.1)}}function X$(t){return t[0]}function FP(t){return t[t.length-1]}function Q$(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=FP(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>xs(e)));)n--;if(!r)return{x:0,y:0};const o=ws(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Z$(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?dn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?dn(n,t,r.max):Math.min(t,n)),t}function XA(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function J$(t,{top:e,left:n,bottom:r,right:i}){return{x:XA(t.x,n,i),y:XA(t.y,e,r)}}function QA(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function eq(t,e){return{x:QA(t.x,e.x),y:QA(t.y,e.y)}}function tq(t,e){let n=.5;const r=Tr(t),i=Tr(e);return i>r?n=Xu(e.min,e.max-r,t.min):r>i&&(n=Xu(t.min,t.max-i,e.min)),Cs(0,1,n)}function nq(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Wb=.35;function rq(t=Wb){return t===!1?t=0:t===!0&&(t=Wb),{x:ZA(t,"left","right"),y:ZA(t,"top","bottom")}}function ZA(t,e,n){return{min:JA(t,e),max:JA(t,n)}}function JA(t,e){return typeof t=="number"?t:t[e]||0}const iq=new WeakMap;class sq{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=y=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Hh(y).point)},l=(y,x)=>{const{drag:E,dragPropagation:N,onDragStart:P}=this.getProps();if(E&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=cH(E),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bi(D=>{let B=this.getAxisMotionValue(D).get()||0;if(_s.test(B)){const{projection:F}=this.visualElement;if(F&&F.layout){const Y=F.layout.layoutBox[D];Y&&(B=Tr(Y)*(parseFloat(B)/100))}}this.originPoint[D]=B}),P&&Vt.postRender(()=>P(y,x)),$b(this.visualElement,"transform");const{animationState:V}=this.visualElement;V&&V.setActive("whileDrag",!0)},c=(y,x)=>{this.latestPointerEvent=y,this.latestPanInfo=x;const{dragPropagation:E,dragDirectionLock:N,onDirectionLock:P,onDrag:V}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:D}=x;if(N&&this.currentDirection===null){this.currentDirection=aq(D),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",x.point,D),this.updateAxis("y",x.point,D),this.visualElement.render(),V&&V(y,x)},d=(y,x)=>{this.latestPointerEvent=y,this.latestPanInfo=x,this.stop(y,x),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>bi(y=>this.getAnimationState(y)==="paused"&&this.getAxisMotionValue(y).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new BP(e,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:r,contextWindow:zP(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!r)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&Vt.postRender(()=>c(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Sm(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=Z$(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&wu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=J$(r.layoutBox,e):this.constraints=!1,this.elastic=rq(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&bi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=nq(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!wu(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=W$(r,i.root,this.visualElement.getTransformPagePoint());let l=eq(i.layout.layoutBox,o);if(n){const c=n(U$(l));this.hasMutatedConstraints=!!c,c&&(l=DP(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},f=bi(p=>{if(!Sm(p,n,this.currentDirection))return;let y=d&&d[p]||{};l&&(y={min:0,max:0});const x=i?200:1e6,E=i?40:1e7,N={type:"inertia",velocity:r?e[p]:0,bounceStiffness:x,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...o,...y};return this.startAxisValueAnimation(p,N)});return Promise.all(f).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return $b(this.visualElement,e),r.start(m_(e,r,0,n,this.visualElement,!1))}stopAnimation(){bi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){bi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){bi(n=>{const{drag:r}=this.getProps();if(!Sm(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[n];o.set(e[n]-dn(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!wu(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};bi(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();i[l]=tq({min:d,max:d},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),bi(l=>{if(!Sm(l,e,null))return;const c=this.getAxisMotionValue(l),{min:d,max:f}=this.constraints[l];c.set(dn(d,f,i[l]))})}addListeners(){if(!this.visualElement.current)return;iq.set(this.visualElement,this);const e=this.visualElement.current,n=Hd(e,"pointerdown",d=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();wu(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Vt.read(r);const l=ch(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(bi(p=>{const y=this.getAxisMotionValue(p);y&&(this.originPoint[p]+=d[p].translate,y.set(y.get()+d[p].translate))}),this.visualElement.render())});return()=>{l(),n(),o(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:l=Wb,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function Sm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function aq(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class oq extends wo{constructor(e){super(e),this.removeGroupControls=Dr,this.removeListeners=Dr,this.controls=new sq(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Dr}unmount(){this.removeGroupControls(),this.removeListeners()}}const eC=t=>(e,n)=>{t&&Vt.postRender(()=>t(e,n))};class lq extends wo{constructor(){super(...arguments),this.removePointerDownListener=Dr}onPointerDown(e){this.session=new BP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:zP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:eC(e),onStart:eC(n),onMove:r,onEnd:(o,l)=>{delete this.session,i&&Vt.postRender(()=>i(o,l))}}}mount(){this.removePointerDownListener=Hd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Jm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const md={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(at.test(t))t=parseFloat(t);else return t;const n=tC(t,e.target.x),r=tC(t,e.target.y);return`${n}% ${r}%`}},uq={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=go.parse(t);if(i.length>5)return r;const o=go.createTransformer(t),l=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,d=n.y.scale*e.y;i[0+l]/=c,i[1+l]/=d;const f=dn(c,d,.5);return typeof i[2+l]=="number"&&(i[2+l]/=f),typeof i[3+l]=="number"&&(i[3+l]/=f),o(i)}};let nC=!1;class cq extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;XH(dq),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),nC&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Jm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,{projection:l}=r;return l&&(l.isPresent=o,nC=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||Vt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),n_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function HP(t){const[e,n]=pP(),r=A.useContext(Dw);return m.jsx(cq,{...t,layoutGroup:r,switchLayoutGroup:A.useContext(xP),isPresent:e,safeToRemove:n})}const dq={borderRadius:{...md,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:md,borderTopRightRadius:md,borderBottomLeftRadius:md,borderBottomRightRadius:md,boxShadow:uq};function hq(t,e,n){const r=Qn(t)?t:ji(t);return r.start(m_("",r,e,n)),r.animation}const fq=(t,e)=>t.depth-e.depth;class mq{constructor(){this.children=[],this.isDirty=!1}add(e){kw(this.children,e),this.isDirty=!0}remove(e){Lw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(fq),this.isDirty=!1,this.children.forEach(e)}}function pq(t,e){const n=Pr.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(Ei(r),t(o-e))};return Vt.setup(r,!0),()=>Ei(r)}const $P=["TopLeft","TopRight","BottomLeft","BottomRight"],gq=$P.length,rC=t=>typeof t=="string"?parseFloat(t):t,iC=t=>typeof t=="number"||at.test(t);function vq(t,e,n,r,i,o){i?(t.opacity=dn(0,n.opacity??1,yq(r)),t.opacityExit=dn(e.opacity??1,0,bq(r))):o&&(t.opacity=dn(e.opacity??1,n.opacity??1,r));for(let l=0;l<gq;l++){const c=`border${$P[l]}Radius`;let d=sC(e,c),f=sC(n,c);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||iC(d)===iC(f)?(t[c]=Math.max(dn(rC(d),rC(f),r),0),(_s.test(f)||_s.test(d))&&(t[c]+="%")):t[c]=f}(e.rotate||n.rotate)&&(t.rotate=dn(e.rotate||0,n.rotate||0,r))}function sC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const yq=qP(0,.5,PO),bq=qP(.5,.95,Dr);function qP(t,e,n){return r=>r<t?0:r>e?1:n(Xu(t,e,r))}function aC(t,e){t.min=e.min,t.max=e.max}function yi(t,e){aC(t.x,e.x),aC(t.y,e.y)}function oC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function lC(t,e,n,r,i){return t-=e,t=Up(t,1/n,r),i!==void 0&&(t=Up(t,1/i,r)),t}function xq(t,e=0,n=1,r=.5,i,o=t,l=t){if(_s.test(e)&&(e=parseFloat(e),e=dn(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=dn(o.min,o.max,r);t===o&&(c-=e),t.min=lC(t.min,e,n,c,i),t.max=lC(t.max,e,n,c,i)}function uC(t,e,[n,r,i],o,l){xq(t,e[n],e[r],e[i],e.scale,o,l)}const wq=["x","scaleX","originX"],_q=["y","scaleY","originY"];function cC(t,e,n,r){uC(t.x,e,wq,n?n.x:void 0,r?r.x:void 0),uC(t.y,e,_q,n?n.y:void 0,r?r.y:void 0)}function dC(t){return t.translate===0&&t.scale===1}function GP(t){return dC(t.x)&&dC(t.y)}function hC(t,e){return t.min===e.min&&t.max===e.max}function Sq(t,e){return hC(t.x,e.x)&&hC(t.y,e.y)}function fC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function KP(t,e){return fC(t.x,e.x)&&fC(t.y,e.y)}function mC(t){return Tr(t.x)/Tr(t.y)}function pC(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Tq{constructor(){this.members=[]}add(e){kw(this.members,e),e.scheduleRender()}remove(e){if(Lw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Eq(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,l=n?.z||0;if((i||o||l)&&(r=`translate3d(${i}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:f,rotate:p,rotateX:y,rotateY:x,skewX:E,skewY:N}=n;f&&(r=`perspective(${f}px) ${r}`),p&&(r+=`rotate(${p}deg) `),y&&(r+=`rotateX(${y}deg) `),x&&(r+=`rotateY(${x}deg) `),E&&(r+=`skewX(${E}deg) `),N&&(r+=`skewY(${N}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const S0=["","X","Y","Z"],Aq=1e3;let Cq=0;function T0(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function WP(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=NP(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Vt,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&WP(r)}function YP({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},c=e?.()){this.id=Cq++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Iq),this.nodes.forEach(Dq),this.nodes.forEach(jq),this.nodes.forEach(Mq)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new mq)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Uw),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=i_(l)&&!EH(l),this.instance=l;const{layoutId:c,layout:d,visualElement:f}=this.options;if(f&&!f.current&&f.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),t){let p,y=0;const x=()=>this.root.updateBlockedByResize=!1;Vt.read(()=>{y=window.innerWidth}),t(l,()=>{const E=window.innerWidth;E!==y&&(y=E,this.root.updateBlockedByResize=!0,p&&p(),p=pq(x,250),Jm.hasAnimatedSinceResize&&(Jm.hasAnimatedSinceResize=!1,this.nodes.forEach(yC)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:y,hasRelativeLayoutChanged:x,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||f.getDefaultTransition()||zq,{onLayoutAnimationStart:P,onLayoutAnimationComplete:V}=f.getProps(),D=!this.targetLayout||!KP(this.targetLayout,E),B=!y&&x;if(this.options.layoutRoot||this.resumeFrom||B||y&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...Jw(N,"layout"),onPlay:P,onComplete:V};(f.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(p,B)}else y||yC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ei(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kq),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&WP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const y=this.path[p];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(gC);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(vC);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Pq),this.nodes.forEach(Rq),this.nodes.forEach(Nq)):this.nodes.forEach(vC),this.clearAllSnapshots();const c=Pr.now();Wn.delta=Cs(0,1e3/60,c-Wn.timestamp),Wn.timestamp=c,Wn.isProcessing=!0,m0.update.process(Wn),m0.preRender.process(Wn),m0.render.process(Wn),Wn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,n_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Oq),this.sharedNodes.forEach(Lq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Vt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Vt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Tr(this.snapshot.measuredBox.x)&&!Tr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!GP(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;l&&this.instance&&(c||Zo(this.latestValues)||p)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),Bq(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Tn();const c=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Fq))){const{scroll:f}=this.root;f&&(Su(c.x,f.offset.x),Su(c.y,f.offset.y))}return c}removeElementScroll(l){const c=Tn();if(yi(c,l),this.scroll?.wasRoot)return c;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:p,options:y}=f;f!==this.root&&p&&y.layoutScroll&&(p.wasRoot&&yi(c,l),Su(c.x,p.offset.x),Su(c.y,p.offset.y))}return c}applyTransform(l,c=!1){const d=Tn();yi(d,l);for(let f=0;f<this.path.length;f++){const p=this.path[f];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Tu(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Zo(p.latestValues)&&Tu(d,p.latestValues)}return Zo(this.latestValues)&&Tu(d,this.latestValues),d}removeTransform(l){const c=Tn();yi(c,l);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!Zo(f.latestValues))continue;Gb(f.latestValues)&&f.updateSnapshot();const p=Tn(),y=f.measurePageBox();yi(p,y),cC(c,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return Zo(this.latestValues)&&cC(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:y}=this.options;if(!(!this.layout||!(p||y))){if(this.resolvedRelativeTargetAt=Wn.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tn(),this.relativeTargetOrigin=Tn(),qd(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),yi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Tn(),this.targetWithTransforms=Tn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),G$(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yi(this.target,this.layout.layoutBox),VP(this.target,this.targetDelta)):yi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tn(),this.relativeTargetOrigin=Tn(),qd(this.relativeTargetOrigin,this.target,x.target),yi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Gb(this.parent.latestValues)||LP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Wn.timestamp&&(d=!1),d)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;yi(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,x=this.treeScale.y;K$(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Tn());const{target:E}=l;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(oC(this.prevProjectionDelta.x,this.projectionDelta.x),oC(this.prevProjectionDelta.y,this.projectionDelta.y)),$d(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==x||!pC(this.projectionDelta.x,this.prevProjectionDelta.x)||!pC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_u(),this.projectionDelta=_u(),this.projectionDeltaWithTransform=_u()}setAnimationOrigin(l,c=!1){const d=this.snapshot,f=d?d.latestValues:{},p={...this.latestValues},y=_u();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const x=Tn(),E=d?d.source:void 0,N=this.layout?this.layout.source:void 0,P=E!==N,V=this.getStack(),D=!V||V.members.length<=1,B=!!(P&&!D&&this.options.crossfade===!0&&!this.path.some(Uq));this.animationProgress=0;let F;this.mixTargetDelta=Y=>{const M=Y/1e3;bC(y.x,l.x,M),bC(y.y,l.y,M),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qd(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Vq(this.relativeTarget,this.relativeTargetOrigin,x,M),F&&Sq(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Tn()),yi(F,this.relativeTarget)),P&&(this.animationValues=p,vq(p,f,this.latestValues,M,B,D)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ei(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Vt.update(()=>{Jm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ji(0)),this.currentAnimation=hq(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Aq),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:f,latestValues:p}=l;if(!(!c||!d||!f)){if(this!==l&&this.layout&&f&&XP(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||Tn();const y=Tr(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+y;const x=Tr(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+x}yi(c,d),Tu(c,p),$d(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new Tq),this.sharedNodes.get(l).add(c);const f=c.options.initialPromotionConfig;c.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const f={};d.z&&T0("z",l,f,this.animationValues);for(let p=0;p<S0.length;p++)T0(`rotate${S0[p]}`,l,f,this.animationValues),T0(`skew${S0[p]}`,l,f,this.animationValues);l.render();for(const p in f)l.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Zm(c?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Zm(c?.pointerEvents)||""),this.hasProjected&&!Zo(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const p=f.animationValues||f.latestValues;this.applyTransformsToTarget();let y=Eq(this.projectionDeltaWithTransform,this.treeScale,p);d&&(y=d(p,y)),l.transform=y;const{x,y:E}=this.projectionDelta;l.transformOrigin=`${x.origin*100}% ${E.origin*100}% 0`,f.animationValues?l.opacity=f===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const N in lh){if(p[N]===void 0)continue;const{correct:P,applyTo:V,isCSSVariable:D}=lh[N],B=y==="none"?p[N]:P(p[N],f);if(V){const F=V.length;for(let Y=0;Y<F;Y++)l[V[Y]]=B}else D?this.options.visualElement.renderState.vars[N]=B:l[N]=B}this.options.layoutId&&(l.pointerEvents=f===this?Zm(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(gC),this.root.sharedNodes.clear()}}}function Rq(t){t.updateLayout()}function Nq(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?bi(p=>{const y=o?e.measuredBox[p]:e.layoutBox[p],x=Tr(y);y.min=n[p].min,y.max=y.min+x}):XP(i,e.layoutBox,n)&&bi(p=>{const y=o?e.measuredBox[p]:e.layoutBox[p],x=Tr(n[p]);y.max=y.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+x)});const l=_u();$d(l,n,e.layoutBox);const c=_u();o?$d(c,t.applyTransform(r,!0),e.measuredBox):$d(c,n,e.layoutBox);const d=!GP(l);let f=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:y,layout:x}=p;if(y&&x){const E=Tn();qd(E,e.layoutBox,y.layoutBox);const N=Tn();qd(N,n,x.layoutBox),KP(E,N)||(f=!0),p.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=E,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Iq(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Mq(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Oq(t){t.clearSnapshot()}function gC(t){t.clearMeasurements()}function vC(t){t.isLayoutDirty=!1}function Pq(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function yC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Dq(t){t.resolveTargetDelta()}function jq(t){t.calcProjection()}function kq(t){t.resetSkewAndRotation()}function Lq(t){t.removeLeadSnapshot()}function bC(t,e,n){t.translate=dn(e.translate,0,n),t.scale=dn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function xC(t,e,n,r){t.min=dn(e.min,n.min,r),t.max=dn(e.max,n.max,r)}function Vq(t,e,n,r){xC(t.x,e.x,n.x,r),xC(t.y,e.y,n.y,r)}function Uq(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const zq={duration:.45,ease:[.4,0,.1,1]},wC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),_C=wC("applewebkit/")&&!wC("chrome/")?Math.round:Dr;function SC(t){t.min=_C(t.min),t.max=_C(t.max)}function Bq(t){SC(t.x),SC(t.y)}function XP(t,e,n){return t==="position"||t==="preserve-aspect"&&!q$(mC(e),mC(n),.2)}function Fq(t){return t!==t.root&&t.scroll?.wasRoot}const Hq=YP({attachResizeListener:(t,e)=>ch(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),E0={current:void 0},QP=YP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!E0.current){const t=new Hq({});t.mount(window),t.setOptions({layoutScroll:!0}),E0.current=t}return E0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),$q={pan:{Feature:lq},drag:{Feature:oq,ProjectionNode:QP,MeasureLayout:HP}};function TC(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&Vt.postRender(()=>o(e,Hh(e)))}class qq extends wo{mount(){const{current:e}=this.node;e&&(this.unmount=dH(e,(n,r)=>(TC(this.node,r,"Start"),i=>TC(this.node,i,"End"))))}unmount(){}}class Gq extends wo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zh(ch(this.node.current,"focus",()=>this.onFocus()),ch(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function EC(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&Vt.postRender(()=>o(e,Hh(e)))}class Kq extends wo{mount(){const{current:e}=this.node;e&&(this.unmount=pH(e,(n,r)=>(EC(this.node,r,"Start"),(i,{success:o})=>EC(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Yb=new WeakMap,A0=new WeakMap,Wq=t=>{const e=Yb.get(t.target);e&&e(t)},Yq=t=>{t.forEach(Wq)};function Xq({root:t,...e}){const n=t||document;A0.has(n)||A0.set(n,{});const r=A0.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Yq,{root:t,...e})),r[i]}function Qq(t,e,n){const r=Xq(e);return Yb.set(t,n),r.observe(t),()=>{Yb.delete(t),r.unobserve(t)}}const Zq={some:0,all:1};class Jq extends wo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Zq[i]},c=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:y}=this.node.getProps(),x=f?p:y;x&&x(d)};return Qq(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(eG(e,n))&&this.startObserver()}unmount(){}}function eG({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const tG={inView:{Feature:Jq},tap:{Feature:Kq},focus:{Feature:Gq},hover:{Feature:qq}},nG={layout:{ProjectionNode:QP,MeasureLayout:HP}},Xb={current:null},ZP={current:!1};function rG(){if(ZP.current=!0,!!jw)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Xb.current=t.matches;t.addEventListener("change",e),e()}else Xb.current=!1}const iG=new WeakMap;function sG(t,e,n){for(const r in e){const i=e[r],o=n[r];if(Qn(i))t.addValue(r,i);else if(Qn(o))t.addValue(r,ji(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,ji(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const AC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class aG{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Zw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Pr.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Vt.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=kg(n),this.isVariantNode=yP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in y){const E=y[x];d[x]!==void 0&&Qn(E)&&E.set(d[x],!1)}}mount(e){this.current=e,iG.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),ZP.current||rG(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Xb.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ei(this.notifyUpdate),Ei(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=oc.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Vt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Qu){const n=Qu[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<AC.length;r++){const i=AC[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,l=e[o];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=sG(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ji(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(TO(r)||AO(r))?r=parseFloat(r):!NH(r)&&go.test(n)&&(r=oP(e,n)),this.setBaseTarget(e,Qn(r)?r.get():r)),Qn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=d_(this.props,n,this.presenceContext?.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Qn(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Uw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class JP extends aG{constructor(){super(...arguments),this.KeyframeResolver=oH}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Qn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function eD(t,{style:e,vars:n},r,i){const o=t.style;let l;for(l in e)o[l]=e[l];i?.applyProjectionStyles(o,r);for(l in n)o.setProperty(l,n[l])}function oG(t){return window.getComputedStyle(t)}class lG extends JP{constructor(){super(...arguments),this.type="html",this.renderInstance=eD}readValueFromInstance(e,n){if(oc.has(n))return this.projection?.isProjecting?Lb(n):CF(e,n);{const r=oG(e),i=(Hw(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return UP(e,n)}build(e,n,r){l_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return h_(e,n,r)}}const tD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function uG(t,e,n,r){eD(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(tD.has(i)?i:o_(i),e.attrs[i])}class cG extends JP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(oc.has(n)){const r=aP(n);return r&&r.default||0}return n=tD.has(n)?n:o_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return RP(e,n,r)}build(e,n,r){TP(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){uG(e,n,r,i)}mount(e){this.isSVGTag=AP(e.tagName),super.mount(e)}}const dG=(t,e)=>c_(t)?new cG(e):new lG(e,{allowProjection:t!==A.Fragment}),hG=f$({...L$,...tG,...$q,...nG},dG),ge=VH(hG),fG=50,CC=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),mG=()=>({time:0,x:CC(),y:CC()}),pG={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function RC(t,e,n,r){const i=n[e],{length:o,position:l}=pG[e],c=i.current,d=n.time;i.current=t[`scroll${l}`],i.scrollLength=t[`scroll${o}`]-t[`client${o}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=Xu(0,i.scrollLength,i.current);const f=r-d;i.velocity=f>fG?0:zw(i.current-c,f)}function gG(t,e,n){RC(t,"x",e,n),RC(t,"y",e,n),e.time=n}function vG(t,e){const n={x:0,y:0};let r=t;for(;r&&r!==e;)if(t_(r))n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const i=r.getBoundingClientRect();r=r.parentElement;const o=r.getBoundingClientRect();n.x+=i.left-o.left,n.y+=i.top-o.top}else if(r instanceof SVGGraphicsElement){const{x:i,y:o}=r.getBBox();n.x+=i,n.y+=o;let l=null,c=r.parentNode;for(;!l;)c.tagName==="svg"&&(l=c),c=r.parentNode;r=l}else break;return n}const Qb={start:0,center:.5,end:1};function NC(t,e,n=0){let r=0;if(t in Qb&&(t=Qb[t]),typeof t=="string"){const i=parseFloat(t);t.endsWith("px")?r=i:t.endsWith("%")?t=i/100:t.endsWith("vw")?r=i/100*document.documentElement.clientWidth:t.endsWith("vh")?r=i/100*document.documentElement.clientHeight:t=i}return typeof t=="number"&&(r=e*t),n+r}const yG=[0,0];function bG(t,e,n,r){let i=Array.isArray(t)?t:yG,o=0,l=0;return typeof t=="number"?i=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?i=t.split(" "):i=[t,Qb[t]?t:"0"]),o=NC(i[0],n,r),l=NC(i[1],e),o-l}const xG={All:[[0,0],[1,1]]},wG={x:0,y:0};function _G(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function SG(t,e,n){const{offset:r=xG.All}=n,{target:i=t,axis:o="y"}=n,l=o==="y"?"height":"width",c=i!==t?vG(i,t):wG,d=i===t?{width:t.scrollWidth,height:t.scrollHeight}:_G(i),f={width:t.clientWidth,height:t.clientHeight};e[o].offset.length=0;let p=!e[o].interpolate;const y=r.length;for(let x=0;x<y;x++){const E=bG(r[x],f[l],d[l],c[o]);!p&&E!==e[o].interpolatorOffsets[x]&&(p=!0),e[o].offset[x]=E}p&&(e[o].interpolate=Yw(e[o].offset,KO(r),{clamp:!1}),e[o].interpolatorOffsets=[...e[o].offset]),e[o].progress=Cs(0,1,e[o].interpolate(e[o].current))}function TG(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let r=e;for(;r&&r!==t;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function EG(t,e,n,r={}){return{measure:i=>{TG(t,r.target,n),gG(t,n,i),(r.offset||r.target)&&SG(t,n,r)},notify:()=>e(n)}}const pd=new WeakMap,IC=new WeakMap,C0=new WeakMap,MC=t=>t===document.scrollingElement?window:t;function nD(t,{container:e=document.scrollingElement,...n}={}){if(!e)return Dr;let r=C0.get(e);r||(r=new Set,C0.set(e,r));const i=mG(),o=EG(e,t,i,n);if(r.add(o),!pd.has(e)){const c=()=>{for(const y of r)y.measure(Wn.timestamp);Vt.preUpdate(d)},d=()=>{for(const y of r)y.notify()},f=()=>Vt.read(c);pd.set(e,f);const p=MC(e);window.addEventListener("resize",f,{passive:!0}),e!==document.documentElement&&IC.set(e,TH(e,f)),p.addEventListener("scroll",f,{passive:!0}),f()}const l=pd.get(e);return Vt.read(l,!1,!0),()=>{Ei(l);const c=C0.get(e);if(!c||(c.delete(o),c.size))return;const d=pd.get(e);pd.delete(e),d&&(MC(e).removeEventListener("scroll",d),IC.get(e)?.(),window.removeEventListener("resize",d))}}const OC=new Map;function AG(t){const e={value:0},n=nD(r=>{e.value=r[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function rD({source:t,container:e,...n}){const{axis:r}=n;t&&(e=t);const i=OC.get(e)??new Map;OC.set(e,i);const o=n.target??"self",l=i.get(o)??{},c=r+(n.offset??[]).join(",");return l[c]||(l[c]=!n.target&&QO()?new ScrollTimeline({source:e,axis:r}):AG({container:e,...n})),l[c]}function CG(t,e){const n=rD(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:r=>(r.pause(),mP(i=>{r.time=r.duration*i},n))})}function RG(t){return t.length===2}function NG(t,e){return RG(t)?nD(n=>{t(n[e.axis].progress,n)},e):mP(t,rD(e))}function IG(t,{axis:e="y",container:n=document.scrollingElement,...r}={}){if(!n)return Dr;const i={axis:e,container:n,...r};return typeof t=="function"?NG(t,i):CG(t,i)}const MG=()=>({scrollX:ji(0),scrollY:ji(0),scrollXProgress:ji(0),scrollYProgress:ji(0)}),Tm=t=>t?!t.current:!1;function OG({container:t,target:e,...n}={}){const r=El(MG),i=A.useRef(null),o=A.useRef(!1),l=A.useCallback(()=>(i.current=IG((c,{x:d,y:f})=>{r.scrollX.set(d.current),r.scrollXProgress.set(d.progress),r.scrollY.set(f.current),r.scrollYProgress.set(f.progress)},{...n,container:t?.current||void 0,target:e?.current||void 0}),()=>{i.current?.()}),[t,e,JSON.stringify(n.offset)]);return Uh(()=>{if(o.current=!1,Tm(t)||Tm(e)){o.current=!0;return}else return l()},[l]),A.useEffect(()=>{if(o.current)return ih(!Tm(t)),ih(!Tm(e)),l()},[l]),r}function Eu(t){const e=El(()=>ji(t)),{isStatic:n}=A.useContext(lc);if(n){const[,r]=A.useState(t);A.useEffect(()=>e.on("change",r),[])}return e}function iD(t,e){const n=Eu(e()),r=()=>n.set(e());return r(),Uh(()=>{const i=()=>Vt.preRender(r,!1,!0),o=t.map(l=>l.on("change",i));return()=>{o.forEach(l=>l()),Ei(r)}}),n}function PG(t){Fd.current=[],t();const e=iD(Fd.current,t);return Fd.current=void 0,e}function Au(t,e,n,r){if(typeof t=="function")return PG(t);const i=typeof e=="function"?e:AH(e,n,r);return Array.isArray(t)?PC(t,i):PC([t],([o])=>i(o))}function PC(t,e){const n=El(()=>[]);return iD(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function Em(t,e={}){const{isStatic:n}=A.useContext(lc),r=()=>Qn(t)?t.get():t;if(n)return Au(r);const i=Eu(r());return A.useInsertionEffect(()=>CH(i,t,e),[i,JSON.stringify(e)]),i}function DG(t){const e=A.useRef(0),{isStatic:n}=A.useContext(lc);A.useEffect(()=>{if(n)return;const r=({timestamp:i,delta:o})=>{e.current||(e.current=i),t(i-e.current,o)};return Vt.update(r,!0),()=>Ei(r)},[t])}function jG(t){t.values.forEach(e=>e.stop())}function Zb(t,e){[...e].reverse().forEach(r=>{const i=t.getVariant(r);i&&f_(t,i),t.variantChildren&&t.variantChildren.forEach(o=>{Zb(o,e)})})}function kG(t,e){if(Array.isArray(e))return Zb(t,e);if(typeof e=="string")return Zb(t,[e]);f_(t,e)}function LG(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,r){const i=[];return t.forEach(o=>{i.push(MP(o,n,{transitionOverride:r}))}),Promise.all(i)},set(n){return t.forEach(r=>{kG(r,n)})},stop(){t.forEach(n=>{jG(n)})},mount(){return()=>{e.stop()}}};return e}function VG(){const t=El(LG);return Uh(t.mount,[]),t}const UG=VG,sD=A.createContext(null),zG=({children:t})=>{const[e,n]=A.useState([]);A.useEffect(()=>{const f=localStorage.getItem("cart");f&&n(JSON.parse(f))},[]),A.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);const r=f=>{n(p=>p.find(x=>x.id===f.id)?p.map(x=>x.id===f.id?{...x,quantity:x.quantity+1}:x):[...p,{...f,quantity:1}])},i=f=>{n(p=>p.filter(y=>y.id!==f))},o=(f,p)=>{p<=0?i(f):n(y=>y.map(x=>x.id===f?{...x,quantity:p}:x))},l=()=>{n([])},c=A.useMemo(()=>e.reduce((f,p)=>f+p.quantity,0),[e]),d=A.useMemo(()=>e.reduce((f,p)=>f+(p.price||0)*p.quantity,0),[e]);return m.jsx(sD.Provider,{value:{cart:e,totalItems:c,totalPrice:d,addToCart:r,removeFromCart:i,updateQuantity:o,clearCart:l},children:t})},Lg=()=>{const t=A.useContext(sD);if(!t)throw new Error("useCart must be used within a CartProvider");return t},aD=A.createContext(null),BG=({children:t})=>{const{user:e}=Ar(),[n,r]=A.useState([]);A.useEffect(()=>{if(!e){r([]);return}const f=cn(xt(Ve,"messages"),Zt("senderId","!=",e.uid),Zt("read","==",!1)),p=Gu(f,y=>{const x=new Map;y.docs.forEach(E=>{const N=E.data();if(N.isSystemMessage)return;const P=N.chatId;x.has(P)||x.set(P,{chatId:P,count:0,lastMessageTime:N.timestamp?.toDate()||new Date,lastMessage:N.text||"",otherUserId:N.senderId,otherUserName:N.senderName||"Unknown User"});const V=x.get(P);V.count+=1,N.timestamp?.toDate()>V.lastMessageTime&&(V.lastMessageTime=N.timestamp.toDate(),V.lastMessage=N.text||"")}),r(Array.from(x.values()))});return()=>p()},[e]);const i=f=>{r(p=>p.filter(y=>y.chatId!==f))},o=()=>{r([])},l=f=>n.some(p=>p.chatId===f),c=f=>{const p=n.find(y=>y.chatId===f);return p?p.count:0},d=A.useMemo(()=>n.reduce((f,p)=>f+p.count,0),[n]);return m.jsx(aD.Provider,{value:{unreadMessages:n,totalUnread:d,markAsRead:i,markAllAsRead:o,hasUnread:l,getUnreadCount:c},children:t})},Vg=()=>{const t=A.useContext(aD);if(!t)throw new Error("useUnreadMessages must be used within UnreadMessagesProvider");return t};function oD({isOpen:t,onClose:e,onConfirm:n,title:r,message:i,confirmText:o="Confirm",cancelText:l="Cancel",type:c="warning"}){const f=(()=>{switch(c){case"danger":return{icon:"text-red-500",confirmButton:"bg-red-600 hover:bg-red-700 text-white",iconBg:"bg-red-500/20"};case"warning":return{icon:"text-red-500",confirmButton:"bg-red-600 hover:bg-red-700 text-white",iconBg:"bg-red-500/20"};default:return{icon:"text-blue-500",confirmButton:"bg-blue-600 hover:bg-blue-700 text-white",iconBg:"bg-blue-500/20"}}})();return m.jsx(fn,{children:t&&m.jsxs(m.Fragment,{children:[m.jsx(ge.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50",onClick:e}),m.jsx(ge.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{duration:.2},className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:p=>p.stopPropagation(),children:m.jsxs("div",{className:"bg-neutral-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-md mx-4",children:[m.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${f.iconBg}`,children:m.jsx(SO,{size:20,className:f.icon})}),m.jsx("h2",{className:"text-xl font-bold text-white",children:r})]}),m.jsx("button",{onClick:e,className:"text-white/60 hover:text-white transition-colors p-1",children:m.jsx(Ui,{size:20})})]}),m.jsxs("div",{className:"p-6",children:[m.jsx("p",{className:"text-white/80 text-base leading-relaxed mb-6",children:i}),m.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[m.jsx("button",{onClick:e,className:"flex-1 px-4 py-3 rounded-lg border border-white/20 text-white hover:bg-white/5 transition-colors font-medium",children:l}),m.jsx("button",{onClick:()=>{n(),e()},className:`flex-1 px-4 py-3 rounded-lg transition-colors font-medium ${f.confirmButton}`,children:o})]})]})]})})]})})}const eo=25,FG=[{to:"/dashboard",icon:m.jsx(Pw,{size:eo}),label:"Home"},{to:"/search",icon:m.jsx(vl,{size:eo}),label:"Search"},{to:"/add",icon:m.jsx(Yu,{size:eo}),label:"Add"},{to:"/trade",icon:m.jsx(Mw,{size:eo}),label:"Activity"},{to:"/messages",icon:m.jsx(Wu,{size:eo}),label:"Messages"}],HG=[{to:"/cart",icon:m.jsx(Du,{size:eo}),label:"Cart"},{to:"/user",icon:m.jsx(yl,{size:eo}),label:"Profile"}];function $G(){const t=Hi(),e=vr(),{totalItems:n}=Lg(),{totalUnread:r}=Vg(),{user:i,signOut:o}=Ar(),[l,c]=A.useState(null),[d,f]=A.useState(!1);A.useEffect(()=>{(async()=>{if(i)try{const{fetchUserData:x}=await Iw(async()=>{const{fetchUserData:N}=await Promise.resolve().then(()=>ej);return{fetchUserData:N}},[]),E=await x(i.uid);E?.username&&c(E.username)}catch(x){console.error("Error fetching user username:",x)}})()},[i]),A.useEffect(()=>{console.log("totalItems changed:",n),console.log("totalUnread changed:",r)},[n,r]);const p=async()=>{try{await o(),e("/")}catch(y){console.error("Error signing out:",y)}};return m.jsxs(m.Fragment,{children:[m.jsxs("aside",{className:"w-20 bg-primary-950 border-r border-white/10 flex flex-col items-center py-4 gap-4 fixed left-0 top-0 bottom-0 z-10",children:[m.jsx(Zr,{to:"/",children:m.jsx("img",{src:"/icon.png",alt:"logo",className:"w-10 h-10 mb-4"})}),FG.map(y=>{const x=t.pathname===y.to,E=y.to==="/messages",N=t.pathname.startsWith("/messages/"),P=V=>{V.preventDefault(),e("/messages",{replace:!0}),window.dispatchEvent(new CustomEvent("clearChatWindow"))};return E?m.jsxs("button",{onClick:P,className:`relative p-2 cursor-pointer rounded-lg transition-all duration-200 ${x||N?"bg-primary text-white":"text-white/60 hover:text-white"}`,children:[y.icon,r>0&&m.jsx(fn,{mode:"popLayout",children:m.jsx(ge.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:300,damping:20},className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-semibold w-5 h-5 flex items-center justify-center rounded-full",children:r>99?"99+":r},r)})]},y.to):m.jsx(Zr,{to:y.to,className:`relative p-2 rounded-lg transition-all duration-200 cursor-pointer ${x?"bg-primary text-white":"text-white/60 hover:text-white"}`,children:y.icon},y.to)}),m.jsxs("div",{className:"mt-auto flex flex-col gap-4",children:[HG.map(y=>{const x=t.pathname===y.to,E=y.to==="/cart",N=y.to==="/user",P=t.pathname.startsWith("/user/");return N?m.jsxs("button",{onClick:()=>{e(l?`/user/${l}`:"/user")},className:`relative p-2 rounded-lg transition-all duration-200 ${x||N&&P?"bg-primary text-white":"text-white/60 hover:text-white"}`,children:[y.icon,E&&n>0&&m.jsx(fn,{mode:"popLayout",children:m.jsx(ge.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:300,damping:20},className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-semibold w-5 h-5 flex items-center justify-center rounded-full",children:n},n)})]},y.to):m.jsxs(Zr,{to:y.to,className:`relative p-2 rounded-lg transition-all duration-200 cursor-pointer ${x?"bg-primary text-white":"text-white/60 hover:text-white"}`,children:[y.icon,E&&n>0&&m.jsx(fn,{mode:"popLayout",children:m.jsx(ge.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:300,damping:20},className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-semibold w-5 h-5 flex items-center justify-center rounded-full",children:n},n)})]},y.to)}),m.jsx("button",{onClick:()=>f(!0),className:"p-2 rounded-lg transition-all duration-200 text-red-400 hover:text-red-300 hover:bg-red-500/10 cursor-pointer",title:"Logout",children:m.jsx(xO,{size:eo})})]})]}),m.jsx(oD,{isOpen:d,onClose:()=>f(!1),onConfirm:p,title:"Logout",message:"Are you sure you want to logout? You'll need to sign in again to access your account.",confirmText:"Logout",cancelText:"Cancel",type:"warning"})]})}const Ka=24,qG=[{to:"/dashboard",icon:m.jsx(Pw,{size:Ka}),label:"Home"},{to:"/search",icon:m.jsx(vl,{size:Ka}),label:"Search"},{to:"/add",icon:m.jsx(Yu,{size:Ka}),label:"Add"},{to:"/trade",icon:m.jsx(Mw,{size:Ka}),label:"Activity"},{to:"/messages",icon:m.jsx(Wu,{size:Ka}),label:"Messages"},{to:"/cart",icon:m.jsx(Du,{size:Ka}),label:"Cart"},{to:"/user",icon:m.jsx(yl,{size:Ka}),label:"Profile"}];function lD(){const[t,e]=A.useState(!1),[n,r]=A.useState(!1),i=Hi(),o=vr(),{totalItems:l}=Lg(),{totalUnread:c}=Vg(),{user:d,signOut:f}=Ar(),[p,y]=A.useState(null);A.useEffect(()=>{(async()=>{if(d)try{const{fetchUserData:B}=await Iw(async()=>{const{fetchUserData:Y}=await Promise.resolve().then(()=>ej);return{fetchUserData:Y}},void 0),F=await B(d.uid);F?.username&&y(F.username)}catch(B){console.error("Error fetching user username:",B)}})()},[d]);const x=()=>{e(!t)},E=D=>{e(!1),D==="/user"?p?o(`/user/${p}`,{replace:!0}):o("/user",{replace:!0}):o(D,{replace:!0})},N=async()=>{try{await f(),o("/")}catch(D){console.error("Error signing out:",D)}},P={closed:{opacity:0,x:"100%",transition:{duration:.3,ease:"easeInOut"}},open:{opacity:1,x:0,transition:{duration:.3,ease:"easeInOut"}}},V={closed:{opacity:0,x:20},open:{opacity:1,x:0}};return m.jsxs(m.Fragment,{children:[m.jsx(ge.button,{onClick:x,className:"fixed top-4 right-4 z-50 p-3 bg-neutral-900/80 backdrop-blur-sm rounded-xl border border-white/10 text-white hover:bg-neutral-800/80 transition-all duration-200",whileTap:{scale:.95},whileHover:{scale:1.05},children:m.jsx(fn,{mode:"wait",children:t?m.jsx(ge.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},transition:{duration:.2},children:m.jsx(Ui,{size:24})},"close"):m.jsx(ge.div,{initial:{rotate:90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:-90,opacity:0},transition:{duration:.2},children:m.jsx(eB,{size:24})},"menu")})}),m.jsx(fn,{children:t&&m.jsx(ge.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40",onClick:()=>e(!1)})}),m.jsx(fn,{children:t&&m.jsxs(ge.div,{variants:P,initial:"closed",animate:"open",exit:"closed",className:"fixed top-0 right-0 h-full w-80 max-w-[85vw] bg-neutral-900 border-l border-white/10 z-50 overflow-hidden",children:[m.jsx("div",{className:"p-6 border-b border-white/10",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("img",{src:"/icon.png",alt:"logo",className:"w-10 h-10"}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-bold text-white",children:"Mangrov"}),m.jsx("p",{className:"text-sm text-white/60",children:"Discover & Connect"})]})]})}),m.jsx("nav",{className:"flex-1 p-4",children:m.jsx("div",{className:"space-y-2",children:qG.map((D,B)=>{const F=i.pathname===D.to,Y=D.to==="/cart",M=D.to==="/messages",O=i.pathname.startsWith("/messages/"),C=D.to==="/user",I=i.pathname.startsWith("/user/");return m.jsx(ge.div,{variants:V,transition:{delay:B*.1},children:m.jsxs("button",{onClick:()=>E(D.to),className:`w-full flex items-center gap-4 p-4 rounded-xl transition-all duration-200 ${F||M&&O||C&&I?"bg-primary text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[m.jsxs("div",{className:"relative",children:[D.icon,Y&&l>0&&m.jsx(ge.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-semibold w-5 h-5 flex items-center justify-center rounded-full",children:l}),M&&c>0&&m.jsx(ge.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-semibold w-5 h-5 flex items-center justify-center rounded-full",children:c>99?"99+":c})]}),m.jsx("span",{className:"font-medium",children:D.label})]})},D.to)})})}),m.jsx("div",{className:"p-4 border-t border-white/10",children:m.jsxs("button",{onClick:()=>r(!0),className:"w-full flex items-center gap-4 p-4 rounded-xl text-red-400 hover:text-red-300 hover:bg-red-500/10 transition-all duration-200",children:[m.jsx(xO,{size:Ka}),m.jsx("span",{className:"font-medium",children:"Logout"})]})}),m.jsx("div",{className:"p-4 border-t border-white/10",children:m.jsx("div",{className:"text-center",children:m.jsx("p",{className:"text-xs text-white/40",children:"© 2025 Mangrov"})})})]})}),m.jsx(oD,{isOpen:n,onClose:()=>r(!1),onConfirm:N,title:"Logout",message:"Are you sure you want to logout? You'll need to sign in again to access your account.",confirmText:"Logout",cancelText:"Cancel",type:"warning"})]})}function GG(){const{isSignedIn:t,pending:e}=Ar(),n=Hi(),r=vr(),i=!["/","/about","/reset-password","/auth/action"].includes(n.pathname);return A.useEffect(()=>{!e&&!t&&!["/","/about","/reset-password","/auth/action"].includes(n.pathname)&&r("/")},[t,n.pathname,e]),m.jsx(BG,{children:m.jsxs("div",{className:"min-h-screen font-inter bg-transparent-950 text-white",children:[i&&m.jsx("div",{className:"hidden lg:block",children:m.jsx($G,{})}),i&&m.jsx("div",{className:"lg:hidden",children:m.jsx(lD,{})}),m.jsx("main",{className:`min-h-screen overflow-y-auto ${i?"lg:pl-20":""}`,children:m.jsx(fn,{mode:"wait",children:m.jsx(P7,{},n.pathname)})})]})})}const KG="#FF0069",uD=A.forwardRef(function({title:e="Instagram",color:n="currentColor",size:r=24,...i},o){return n==="default"&&(n=KG),m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,fill:n,viewBox:"0 0 24 24",ref:o,...i,children:[m.jsx("title",{children:e}),m.jsx("path",{d:"M7.0301.084c-1.2768.0602-2.1487.264-2.911.5634-.7888.3075-1.4575.72-2.1228 1.3877-.6652.6677-1.075 1.3368-1.3802 2.127-.2954.7638-.4956 1.6365-.552 2.914-.0564 1.2775-.0689 1.6882-.0626 4.947.0062 3.2586.0206 3.6671.0825 4.9473.061 1.2765.264 2.1482.5635 2.9107.308.7889.72 1.4573 1.388 2.1228.6679.6655 1.3365 1.0743 2.1285 1.38.7632.295 1.6361.4961 2.9134.552 1.2773.056 1.6884.069 4.9462.0627 3.2578-.0062 3.668-.0207 4.9478-.0814 1.28-.0607 2.147-.2652 2.9098-.5633.7889-.3086 1.4578-.72 2.1228-1.3881.665-.6682 1.0745-1.3378 1.3795-2.1284.2957-.7632.4966-1.636.552-2.9124.056-1.2809.0692-1.6898.063-4.948-.0063-3.2583-.021-3.6668-.0817-4.9465-.0607-1.2797-.264-2.1487-.5633-2.9117-.3084-.7889-.72-1.4568-1.3876-2.1228C21.2982 1.33 20.628.9208 19.8378.6165 19.074.321 18.2017.1197 16.9244.0645 15.6471.0093 15.236-.005 11.977.0014 8.718.0076 8.31.0215 7.0301.0839m.1402 21.6932c-1.17-.0509-1.8053-.2453-2.2287-.408-.5606-.216-.96-.4771-1.3819-.895-.422-.4178-.6811-.8186-.9-1.378-.1644-.4234-.3624-1.058-.4171-2.228-.0595-1.2645-.072-1.6442-.079-4.848-.007-3.2037.0053-3.583.0607-4.848.05-1.169.2456-1.805.408-2.2282.216-.5613.4762-.96.895-1.3816.4188-.4217.8184-.6814 1.3783-.9003.423-.1651 1.0575-.3614 2.227-.4171 1.2655-.06 1.6447-.072 4.848-.079 3.2033-.007 3.5835.005 4.8495.0608 1.169.0508 1.8053.2445 2.228.408.5608.216.96.4754 1.3816.895.4217.4194.6816.8176.9005 1.3787.1653.4217.3617 1.056.4169 2.2263.0602 1.2655.0739 1.645.0796 4.848.0058 3.203-.0055 3.5834-.061 4.848-.051 1.17-.245 1.8055-.408 2.2294-.216.5604-.4763.96-.8954 1.3814-.419.4215-.8181.6811-1.3783.9-.4224.1649-1.0577.3617-2.2262.4174-1.2656.0595-1.6448.072-4.8493.079-3.2045.007-3.5825-.006-4.848-.0608M16.953 5.5864A1.44 1.44 0 1 0 18.39 4.144a1.44 1.44 0 0 0-1.437 1.4424M5.8385 12.012c.0067 3.4032 2.7706 6.1557 6.173 6.1493 3.4026-.0065 6.157-2.7701 6.1506-6.1733-.0065-3.4032-2.771-6.1565-6.174-6.1498-3.403.0067-6.156 2.771-6.1496 6.1738M8 12.0077a4 4 0 1 1 4.008 3.9921A3.9996 3.9996 0 0 1 8 12.0077"})]})}),WG="#FF0000",cD=A.forwardRef(function({title:e="YouTube",color:n="currentColor",size:r=24,...i},o){return n==="default"&&(n=WG),m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,fill:n,viewBox:"0 0 24 24",ref:o,...i,children:[m.jsx("title",{children:e}),m.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})]})});function YG(){return m.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-4 flex-wrap w-full",children:[m.jsx(Zr,{to:"/about",className:"border-2 border-primary rounded-lg bg-transparent tracking-widest text-white px-8 2xs:px-16 py-2 uppercase font-extrabold text-lg sm:text-xl hover:bg-primary transition-all duration-300 text-center",children:"About"}),m.jsx(Zr,{to:"https://instagram.com/_mangrov_",target:"_blank",children:m.jsx(uD,{className:"text-white w-8 h-8 sm:w-10 sm:h-10"})}),m.jsx(Zr,{to:"https://youtube.com",target:"_blank",children:m.jsx(cD,{className:"text-white w-8 h-8 sm:w-10 sm:h-10"})})]})}function $h({start:t,end:e,speed:n=40,className:r="",imgWidthTW:i="w-40",imgHeightTW:o="h-32"}){if(!t||!e)return null;const l=Eu(t.x),c=Eu(t.y),d=Eu(e.x),f=Eu(e.y),p=Em(l,{damping:40,stiffness:10}),y=Em(c,{damping:40,stiffness:10}),x=Em(d,{damping:40,stiffness:10}),E=Em(f,{damping:40,stiffness:10});A.useEffect(()=>{l.stop(),c.stop(),d.stop(),f.stop(),l.set(l.get()),c.set(c.get()),d.set(d.get()),f.set(f.get()),requestAnimationFrame(()=>{l.set(t.x),c.set(t.y),d.set(e.x),f.set(e.y)})},[t.x,t.y,e.x,e.y]);const N=Au([p,x],([T,U])=>U-T),P=Au([y,E],([T,U])=>U-T),V=Au([N,P],([T,U])=>Math.hypot(T,U)),D=Au([N,P],([T,U])=>Math.atan2(U,T)*(180/Math.PI)),B=Array.from({length:9},(T,U)=>`/strip/image${U+1}.png`),F=Math.ceil(B.length/2),Y=B.slice(0,F),M=B.slice(F).length?B.slice(F):Y,C=160+8,I=`${i} ${o} object-cover select-none shrink-0 opacity-20 md:opacity-30 rounded-xl mr-2`,R=({direction:T,images:U})=>{const $=U.length*C,j=T==="left"?0:-$,[G,Z]=A.useState(j);return DG((H,S)=>{Z(J=>{const W=n*S/1e3;let w=T==="left"?J-W:J+W;return T==="left"&&w<=-$&&(w+=$),T==="right"&&w>=0&&(w-=$),w})}),m.jsx(ge.div,{initial:{opacity:1},animate:{opacity:1},exit:{opacity:0},className:"flex whitespace-nowrap",style:{transform:`translateX(${G}px)`},children:Array.from({length:18},(H,S)=>U[S%U.length]).map((H,S)=>m.jsx("img",{src:H,className:I,draggable:!1},S))})};return m.jsxs(ge.div,{className:`absolute pointer-events-none overflow-hidden ${r}`,style:{top:y,left:p,width:V,rotate:D,transformOrigin:"0 0"},children:[m.jsx(R,{direction:"right",images:Y}),m.jsx("div",{className:"h-2"}),m.jsx(R,{direction:"left",images:M})]})}function Ug(){const[t,e]=A.useState([window.innerWidth,window.innerHeight]);return A.useEffect(()=>{const n=()=>{e([window.innerWidth,window.innerHeight])};return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t}function bl(t){"@babel/helpers - typeof";return bl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bl(t)}function XG(t,e){if(bl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dD(t){var e=XG(t,"string");return bl(e)=="symbol"?e:e+""}function Od(t,e,n){return(e=dD(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DC(Object(n),!0).forEach(function(r){Od(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QG(t){if(Array.isArray(t))return t}function ZG(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,l,c=[],d=!0,f=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(p){f=!0,i=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw i}}return c}}function Jb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function hD(t,e){if(t){if(typeof t=="string")return Jb(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jb(t,e):void 0}}function JG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oa(t,e){return QG(t)||ZG(t,e)||hD(t,e)||JG()}function eK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ga(t,e){if(t==null)return{};var n,r,i=eK(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var tK=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function nK(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,o=t.defaultValue,l=o===void 0?null:o,c=t.inputValue,d=t.menuIsOpen,f=t.onChange,p=t.onInputChange,y=t.onMenuClose,x=t.onMenuOpen,E=t.value,N=ga(t,tK),P=A.useState(c!==void 0?c:n),V=oa(P,2),D=V[0],B=V[1],F=A.useState(d!==void 0?d:i),Y=oa(F,2),M=Y[0],O=Y[1],C=A.useState(E!==void 0?E:l),I=oa(C,2),R=I[0],T=I[1],U=A.useCallback(function(J,W){typeof f=="function"&&f(J,W),T(J)},[f]),$=A.useCallback(function(J,W){var w;typeof p=="function"&&(w=p(J,W)),B(w!==void 0?w:J)},[p]),j=A.useCallback(function(){typeof x=="function"&&x(),O(!0)},[x]),G=A.useCallback(function(){typeof y=="function"&&y(),O(!1)},[y]),Z=c!==void 0?c:D,H=d!==void 0?d:M,S=E!==void 0?E:R;return Xe(Xe({},N),{},{inputValue:Z,menuIsOpen:H,onChange:U,onInputChange:$,onMenuClose:G,onMenuOpen:j,value:S})}function nt(){return nt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nt.apply(null,arguments)}function rK(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dD(r.key),r)}}function iK(t,e,n){return e&&jC(t.prototype,e),n&&jC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ex(t,e){return ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},ex(t,e)}function sK(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ex(t,e)}function zp(t){return zp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zp(t)}function fD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fD=function(){return!!t})()}function aK(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oK(t,e){if(e&&(bl(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aK(t)}function lK(t){var e=fD();return function(){var n,r=zp(t);if(e){var i=zp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return oK(this,n)}}function uK(t){if(Array.isArray(t))return Jb(t)}function cK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p_(t){return uK(t)||cK(t)||hD(t)||dK()}function hK(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function fK(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var mK=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(fK(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=hK(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),fr="-ms-",Bp="-moz-",kt="-webkit-",mD="comm",g_="rule",v_="decl",pK="@import",pD="@keyframes",gK="@layer",vK=Math.abs,zg=String.fromCharCode,yK=Object.assign;function bK(t,e){return ar(t,0)^45?(((e<<2^ar(t,0))<<2^ar(t,1))<<2^ar(t,2))<<2^ar(t,3):0}function gD(t){return t.trim()}function xK(t,e){return(t=e.exec(t))?t[0]:t}function Lt(t,e,n){return t.replace(e,n)}function tx(t,e){return t.indexOf(e)}function ar(t,e){return t.charCodeAt(e)|0}function dh(t,e,n){return t.slice(e,n)}function cs(t){return t.length}function y_(t){return t.length}function Am(t,e){return e.push(t),t}function wK(t,e){return t.map(e).join("")}var Bg=1,Zu=1,vD=0,jr=0,Dn=0,uc="";function Fg(t,e,n,r,i,o,l){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:Bg,column:Zu,length:l,return:""}}function gd(t,e){return yK(Fg("",null,null,"",null,null,0),t,{length:-t.length},e)}function _K(){return Dn}function SK(){return Dn=jr>0?ar(uc,--jr):0,Zu--,Dn===10&&(Zu=1,Bg--),Dn}function ti(){return Dn=jr<vD?ar(uc,jr++):0,Zu++,Dn===10&&(Zu=1,Bg++),Dn}function Ss(){return ar(uc,jr)}function ep(){return jr}function qh(t,e){return dh(uc,t,e)}function hh(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function yD(t){return Bg=Zu=1,vD=cs(uc=t),jr=0,[]}function bD(t){return uc="",t}function tp(t){return gD(qh(jr-1,nx(t===91?t+2:t===40?t+1:t)))}function TK(t){for(;(Dn=Ss())&&Dn<33;)ti();return hh(t)>2||hh(Dn)>3?"":" "}function EK(t,e){for(;--e&&ti()&&!(Dn<48||Dn>102||Dn>57&&Dn<65||Dn>70&&Dn<97););return qh(t,ep()+(e<6&&Ss()==32&&ti()==32))}function nx(t){for(;ti();)switch(Dn){case t:return jr;case 34:case 39:t!==34&&t!==39&&nx(Dn);break;case 40:t===41&&nx(t);break;case 92:ti();break}return jr}function AK(t,e){for(;ti()&&t+Dn!==57;)if(t+Dn===84&&Ss()===47)break;return"/*"+qh(e,jr-1)+"*"+zg(t===47?t:ti())}function CK(t){for(;!hh(Ss());)ti();return qh(t,jr)}function RK(t){return bD(np("",null,null,null,[""],t=yD(t),0,[0],t))}function np(t,e,n,r,i,o,l,c,d){for(var f=0,p=0,y=l,x=0,E=0,N=0,P=1,V=1,D=1,B=0,F="",Y=i,M=o,O=r,C=F;V;)switch(N=B,B=ti()){case 40:if(N!=108&&ar(C,y-1)==58){tx(C+=Lt(tp(B),"&","&\f"),"&\f")!=-1&&(D=-1);break}case 34:case 39:case 91:C+=tp(B);break;case 9:case 10:case 13:case 32:C+=TK(N);break;case 92:C+=EK(ep()-1,7);continue;case 47:switch(Ss()){case 42:case 47:Am(NK(AK(ti(),ep()),e,n),d);break;default:C+="/"}break;case 123*P:c[f++]=cs(C)*D;case 125*P:case 59:case 0:switch(B){case 0:case 125:V=0;case 59+p:D==-1&&(C=Lt(C,/\f/g,"")),E>0&&cs(C)-y&&Am(E>32?LC(C+";",r,n,y-1):LC(Lt(C," ","")+";",r,n,y-2),d);break;case 59:C+=";";default:if(Am(O=kC(C,e,n,f,p,i,c,F,Y=[],M=[],y),o),B===123)if(p===0)np(C,e,O,O,Y,o,y,c,M);else switch(x===99&&ar(C,3)===110?100:x){case 100:case 108:case 109:case 115:np(t,O,O,r&&Am(kC(t,O,O,0,0,i,c,F,i,Y=[],y),M),i,M,y,c,r?Y:M);break;default:np(C,O,O,O,[""],M,0,c,M)}}f=p=E=0,P=D=1,F=C="",y=l;break;case 58:y=1+cs(C),E=N;default:if(P<1){if(B==123)--P;else if(B==125&&P++==0&&SK()==125)continue}switch(C+=zg(B),B*P){case 38:D=p>0?1:(C+="\f",-1);break;case 44:c[f++]=(cs(C)-1)*D,D=1;break;case 64:Ss()===45&&(C+=tp(ti())),x=Ss(),p=y=cs(F=C+=CK(ep())),B++;break;case 45:N===45&&cs(C)==2&&(P=0)}}return o}function kC(t,e,n,r,i,o,l,c,d,f,p){for(var y=i-1,x=i===0?o:[""],E=y_(x),N=0,P=0,V=0;N<r;++N)for(var D=0,B=dh(t,y+1,y=vK(P=l[N])),F=t;D<E;++D)(F=gD(P>0?x[D]+" "+B:Lt(B,/&\f/g,x[D])))&&(d[V++]=F);return Fg(t,e,n,i===0?g_:c,d,f,p)}function NK(t,e,n){return Fg(t,e,n,mD,zg(_K()),dh(t,2,-2),0)}function LC(t,e,n,r){return Fg(t,e,n,v_,dh(t,0,r),dh(t,r+1,-1),r)}function ju(t,e){for(var n="",r=y_(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function IK(t,e,n,r){switch(t.type){case gK:if(t.children.length)break;case pK:case v_:return t.return=t.return||t.value;case mD:return"";case pD:return t.return=t.value+"{"+ju(t.children,r)+"}";case g_:t.value=t.props.join(",")}return cs(n=ju(t.children,r))?t.return=t.value+"{"+n+"}":""}function MK(t){var e=y_(t);return function(n,r,i,o){for(var l="",c=0;c<e;c++)l+=t[c](n,r,i,o)||"";return l}}function OK(t){return function(e){e.root||(e=e.return)&&t(e)}}function PK(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var DK=function(e,n,r){for(var i=0,o=0;i=o,o=Ss(),i===38&&o===12&&(n[r]=1),!hh(o);)ti();return qh(e,jr)},jK=function(e,n){var r=-1,i=44;do switch(hh(i)){case 0:i===38&&Ss()===12&&(n[r]=1),e[r]+=DK(jr-1,n,r);break;case 2:e[r]+=tp(i);break;case 4:if(i===44){e[++r]=Ss()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=zg(i)}while(i=ti());return e},kK=function(e,n){return bD(jK(yD(e),n))},VC=new WeakMap,LK=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!VC.get(r))&&!i){VC.set(e,!0);for(var o=[],l=kK(n,o),c=r.props,d=0,f=0;d<l.length;d++)for(var p=0;p<c.length;p++,f++)e.props[f]=o[d]?l[d].replace(/&\f/g,c[p]):c[p]+" "+l[d]}}},VK=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function xD(t,e){switch(bK(t,e)){case 5103:return kt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return kt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return kt+t+Bp+t+fr+t+t;case 6828:case 4268:return kt+t+fr+t+t;case 6165:return kt+t+fr+"flex-"+t+t;case 5187:return kt+t+Lt(t,/(\w+).+(:[^]+)/,kt+"box-$1$2"+fr+"flex-$1$2")+t;case 5443:return kt+t+fr+"flex-item-"+Lt(t,/flex-|-self/,"")+t;case 4675:return kt+t+fr+"flex-line-pack"+Lt(t,/align-content|flex-|-self/,"")+t;case 5548:return kt+t+fr+Lt(t,"shrink","negative")+t;case 5292:return kt+t+fr+Lt(t,"basis","preferred-size")+t;case 6060:return kt+"box-"+Lt(t,"-grow","")+kt+t+fr+Lt(t,"grow","positive")+t;case 4554:return kt+Lt(t,/([^-])(transform)/g,"$1"+kt+"$2")+t;case 6187:return Lt(Lt(Lt(t,/(zoom-|grab)/,kt+"$1"),/(image-set)/,kt+"$1"),t,"")+t;case 5495:case 3959:return Lt(t,/(image-set\([^]*)/,kt+"$1$`$1");case 4968:return Lt(Lt(t,/(.+:)(flex-)?(.*)/,kt+"box-pack:$3"+fr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+kt+t+t;case 4095:case 3583:case 4068:case 2532:return Lt(t,/(.+)-inline(.+)/,kt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(cs(t)-1-e>6)switch(ar(t,e+1)){case 109:if(ar(t,e+4)!==45)break;case 102:return Lt(t,/(.+:)(.+)-([^]+)/,"$1"+kt+"$2-$3$1"+Bp+(ar(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~tx(t,"stretch")?xD(Lt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(ar(t,e+1)!==115)break;case 6444:switch(ar(t,cs(t)-3-(~tx(t,"!important")&&10))){case 107:return Lt(t,":",":"+kt)+t;case 101:return Lt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+kt+(ar(t,14)===45?"inline-":"")+"box$3$1"+kt+"$2$3$1"+fr+"$2box$3")+t}break;case 5936:switch(ar(t,e+11)){case 114:return kt+t+fr+Lt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return kt+t+fr+Lt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return kt+t+fr+Lt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return kt+t+fr+t+t}return t}var UK=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case v_:e.return=xD(e.value,e.length);break;case pD:return ju([gd(e,{value:Lt(e.value,"@","@"+kt)})],i);case g_:if(e.length)return wK(e.props,function(o){switch(xK(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ju([gd(e,{props:[Lt(o,/:(read-\w+)/,":"+Bp+"$1")]})],i);case"::placeholder":return ju([gd(e,{props:[Lt(o,/:(plac\w+)/,":"+kt+"input-$1")]}),gd(e,{props:[Lt(o,/:(plac\w+)/,":"+Bp+"$1")]}),gd(e,{props:[Lt(o,/:(plac\w+)/,fr+"input-$1")]})],i)}return""})}},zK=[UK],BK=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(P){var V=P.getAttribute("data-emotion");V.indexOf(" ")!==-1&&(document.head.appendChild(P),P.setAttribute("data-s",""))})}var i=e.stylisPlugins||zK,o={},l,c=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(P){for(var V=P.getAttribute("data-emotion").split(" "),D=1;D<V.length;D++)o[V[D]]=!0;c.push(P)});var d,f=[LK,VK];{var p,y=[IK,OK(function(P){p.insert(P)})],x=MK(f.concat(i,y)),E=function(V){return ju(RK(V),x)};d=function(V,D,B,F){p=B,E(V?V+"{"+D.styles+"}":D.styles),F&&(N.inserted[D.name]=!0)}}var N={key:n,sheet:new mK({key:n,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:d};return N.sheet.hydrate(c),N},R0={exports:{}},Bt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UC;function FK(){if(UC)return Bt;UC=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,l=t?Symbol.for("react.provider"):60109,c=t?Symbol.for("react.context"):60110,d=t?Symbol.for("react.async_mode"):60111,f=t?Symbol.for("react.concurrent_mode"):60111,p=t?Symbol.for("react.forward_ref"):60112,y=t?Symbol.for("react.suspense"):60113,x=t?Symbol.for("react.suspense_list"):60120,E=t?Symbol.for("react.memo"):60115,N=t?Symbol.for("react.lazy"):60116,P=t?Symbol.for("react.block"):60121,V=t?Symbol.for("react.fundamental"):60117,D=t?Symbol.for("react.responder"):60118,B=t?Symbol.for("react.scope"):60119;function F(M){if(typeof M=="object"&&M!==null){var O=M.$$typeof;switch(O){case e:switch(M=M.type,M){case d:case f:case r:case o:case i:case y:return M;default:switch(M=M&&M.$$typeof,M){case c:case p:case N:case E:case l:return M;default:return O}}case n:return O}}}function Y(M){return F(M)===f}return Bt.AsyncMode=d,Bt.ConcurrentMode=f,Bt.ContextConsumer=c,Bt.ContextProvider=l,Bt.Element=e,Bt.ForwardRef=p,Bt.Fragment=r,Bt.Lazy=N,Bt.Memo=E,Bt.Portal=n,Bt.Profiler=o,Bt.StrictMode=i,Bt.Suspense=y,Bt.isAsyncMode=function(M){return Y(M)||F(M)===d},Bt.isConcurrentMode=Y,Bt.isContextConsumer=function(M){return F(M)===c},Bt.isContextProvider=function(M){return F(M)===l},Bt.isElement=function(M){return typeof M=="object"&&M!==null&&M.$$typeof===e},Bt.isForwardRef=function(M){return F(M)===p},Bt.isFragment=function(M){return F(M)===r},Bt.isLazy=function(M){return F(M)===N},Bt.isMemo=function(M){return F(M)===E},Bt.isPortal=function(M){return F(M)===n},Bt.isProfiler=function(M){return F(M)===o},Bt.isStrictMode=function(M){return F(M)===i},Bt.isSuspense=function(M){return F(M)===y},Bt.isValidElementType=function(M){return typeof M=="string"||typeof M=="function"||M===r||M===f||M===o||M===i||M===y||M===x||typeof M=="object"&&M!==null&&(M.$$typeof===N||M.$$typeof===E||M.$$typeof===l||M.$$typeof===c||M.$$typeof===p||M.$$typeof===V||M.$$typeof===D||M.$$typeof===B||M.$$typeof===P)},Bt.typeOf=F,Bt}var zC;function HK(){return zC||(zC=1,R0.exports=FK()),R0.exports}var N0,BC;function $K(){if(BC)return N0;BC=1;var t=HK(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[t.ForwardRef]=r,o[t.Memo]=i;function l(N){return t.isMemo(N)?i:o[N.$$typeof]||e}var c=Object.defineProperty,d=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,y=Object.getPrototypeOf,x=Object.prototype;function E(N,P,V){if(typeof P!="string"){if(x){var D=y(P);D&&D!==x&&E(N,D,V)}var B=d(P);f&&(B=B.concat(f(P)));for(var F=l(N),Y=l(P),M=0;M<B.length;++M){var O=B[M];if(!n[O]&&!(V&&V[O])&&!(Y&&Y[O])&&!(F&&F[O])){var C=p(P,O);try{c(N,O,C)}catch{}}}}return N}return N0=E,N0}$K();var qK=!0;function GK(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var wD=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||qK===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},KK=function(e,n,r){wD(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function WK(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var YK={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},XK=/[A-Z]|^ms/g,QK=/_EMO_([^_]+?)_([^]*?)_EMO_/g,_D=function(e){return e.charCodeAt(1)===45},FC=function(e){return e!=null&&typeof e!="boolean"},I0=PK(function(t){return _D(t)?t:t.replace(XK,"-$&").toLowerCase()}),HC=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(QK,function(r,i,o){return ds={name:i,styles:o,next:ds},i})}return YK[e]!==1&&!_D(e)&&typeof n=="number"&&n!==0?n+"px":n};function fh(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return ds={name:i.name,styles:i.styles,next:ds},i.name;var o=n;if(o.styles!==void 0){var l=o.next;if(l!==void 0)for(;l!==void 0;)ds={name:l.name,styles:l.styles,next:ds},l=l.next;var c=o.styles+";";return c}return ZK(t,e,n)}case"function":{if(t!==void 0){var d=ds,f=n(t);return ds=d,fh(t,e,f)}break}}var p=n;return p}function ZK(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=fh(t,e,n[i])+";";else for(var o in n){var l=n[o];if(typeof l!="object"){var c=l;FC(c)&&(r+=I0(o)+":"+HC(o,c)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&e==null)for(var d=0;d<l.length;d++)FC(l[d])&&(r+=I0(o)+":"+HC(o,l[d])+";");else{var f=fh(t,e,l);switch(o){case"animation":case"animationName":{r+=I0(o)+":"+f+";";break}default:r+=o+"{"+f+"}"}}}return r}var $C=/label:\s*([^\s;{]+)\s*(;|$)/g,ds;function SD(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";ds=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=fh(n,e,o);else{var l=o;i+=l[0]}for(var c=1;c<t.length;c++)if(i+=fh(n,e,t[c]),r){var d=o;i+=d[c]}$C.lastIndex=0;for(var f="",p;(p=$C.exec(i))!==null;)f+="-"+p[1];var y=WK(i)+f;return{name:y,styles:i,next:ds}}var JK=function(e){return e()},eW=KT.useInsertionEffect?KT.useInsertionEffect:!1,tW=eW||JK,TD=A.createContext(typeof HTMLElement<"u"?BK({key:"css"}):null);TD.Provider;var nW=function(e){return A.forwardRef(function(n,r){var i=A.useContext(TD);return e(n,i,r)})},rW=A.createContext({}),b_={}.hasOwnProperty,rx="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",iW=function(e,n){var r={};for(var i in n)b_.call(n,i)&&(r[i]=n[i]);return r[rx]=e,r},sW=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return wD(n,r,i),tW(function(){return KK(n,r,i)}),null},aW=nW(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[rx],o=[r],l="";typeof t.className=="string"?l=GK(e.registered,o,t.className):t.className!=null&&(l=t.className+" ");var c=SD(o,void 0,A.useContext(rW));l+=e.key+"-"+c.name;var d={};for(var f in t)b_.call(t,f)&&f!=="css"&&f!==rx&&(d[f]=t[f]);return d.className=l,n&&(d.ref=n),A.createElement(A.Fragment,null,A.createElement(sW,{cache:e,serialized:c,isStringTag:typeof i=="string"}),A.createElement(i,d))}),oW=aW,He=function(e,n){var r=arguments;if(n==null||!b_.call(n,"css"))return A.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=oW,o[1]=iW(e,n);for(var l=2;l<i;l++)o[l]=r[l];return A.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(He||(He={}));function x_(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return SD(e)}function lW(){var t=x_.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function uW(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var cW=XR();const dW=Math.min,hW=Math.max,Fp=Math.round,Cm=Math.floor,Hp=t=>({x:t,y:t});function fW(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Hg(){return typeof window<"u"}function ED(t){return CD(t)?(t.nodeName||"").toLowerCase():"#document"}function ma(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function AD(t){var e;return(e=(CD(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function CD(t){return Hg()?t instanceof Node||t instanceof ma(t).Node:!1}function mW(t){return Hg()?t instanceof Element||t instanceof ma(t).Element:!1}function w_(t){return Hg()?t instanceof HTMLElement||t instanceof ma(t).HTMLElement:!1}function qC(t){return!Hg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ma(t).ShadowRoot}const pW=new Set(["inline","contents"]);function RD(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=__(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!pW.has(i)}function gW(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const vW=new Set(["html","body","#document"]);function yW(t){return vW.has(ED(t))}function __(t){return ma(t).getComputedStyle(t)}function bW(t){if(ED(t)==="html")return t;const e=t.assignedSlot||t.parentNode||qC(t)&&t.host||AD(t);return qC(e)?e.host:e}function ND(t){const e=bW(t);return yW(e)?t.ownerDocument?t.ownerDocument.body:t.body:w_(e)&&RD(e)?e:ND(e)}function $p(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=ND(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),l=ma(i);if(o){const c=ix(l);return e.concat(l,l.visualViewport||[],RD(i)?i:[],c&&n?$p(c):[])}return e.concat(i,$p(i,[],n))}function ix(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function xW(t){const e=__(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=w_(t),o=i?t.offsetWidth:n,l=i?t.offsetHeight:r,c=Fp(n)!==o||Fp(r)!==l;return c&&(n=o,r=l),{width:n,height:r,$:c}}function S_(t){return mW(t)?t:t.contextElement}function GC(t){const e=S_(t);if(!w_(e))return Hp(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=xW(e);let l=(o?Fp(n.width):n.width)/r,c=(o?Fp(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const wW=Hp(0);function _W(t){const e=ma(t);return!gW()||!e.visualViewport?wW:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function SW(t,e,n){return!1}function KC(t,e,n,r){e===void 0&&(e=!1);const i=t.getBoundingClientRect(),o=S_(t);let l=Hp(1);e&&(l=GC(t));const c=SW()?_W(o):Hp(0);let d=(i.left+c.x)/l.x,f=(i.top+c.y)/l.y,p=i.width/l.x,y=i.height/l.y;if(o){const x=ma(o),E=r;let N=x,P=ix(N);for(;P&&r&&E!==N;){const V=GC(P),D=P.getBoundingClientRect(),B=__(P),F=D.left+(P.clientLeft+parseFloat(B.paddingLeft))*V.x,Y=D.top+(P.clientTop+parseFloat(B.paddingTop))*V.y;d*=V.x,f*=V.y,p*=V.x,y*=V.y,d+=F,f+=Y,N=ma(P),P=ix(N)}}return fW({width:p,height:y,x:d,y:f})}function ID(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function TW(t,e){let n=null,r;const i=AD(t);function o(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),o();const f=t.getBoundingClientRect(),{left:p,top:y,width:x,height:E}=f;if(c||e(),!x||!E)return;const N=Cm(y),P=Cm(i.clientWidth-(p+x)),V=Cm(i.clientHeight-(y+E)),D=Cm(p),F={rootMargin:-N+"px "+-P+"px "+-V+"px "+-D+"px",threshold:hW(0,dW(1,d))||1};let Y=!0;function M(O){const C=O[0].intersectionRatio;if(C!==d){if(!Y)return l();C?l(!1,C):r=setTimeout(()=>{l(!1,1e-7)},1e3)}C===1&&!ID(f,t.getBoundingClientRect())&&l(),Y=!1}try{n=new IntersectionObserver(M,{...F,root:i.ownerDocument})}catch{n=new IntersectionObserver(M,F)}n.observe(t)}return l(!0),o}function EW(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,f=S_(t),p=i||o?[...f?$p(f):[],...$p(e)]:[];p.forEach(D=>{i&&D.addEventListener("scroll",n,{passive:!0}),o&&D.addEventListener("resize",n)});const y=f&&c?TW(f,n):null;let x=-1,E=null;l&&(E=new ResizeObserver(D=>{let[B]=D;B&&B.target===f&&E&&(E.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var F;(F=E)==null||F.observe(e)})),n()}),f&&!d&&E.observe(f),E.observe(e));let N,P=d?KC(t):null;d&&V();function V(){const D=KC(t);P&&!ID(P,D)&&n(),P=D,N=requestAnimationFrame(V)}return n(),()=>{var D;p.forEach(B=>{i&&B.removeEventListener("scroll",n),o&&B.removeEventListener("resize",n)}),y?.(),(D=E)==null||D.disconnect(),E=null,d&&cancelAnimationFrame(N)}}var sx=A.useLayoutEffect,AW=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],qp=function(){};function CW(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function RW(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=[].concat(r);if(e&&t)for(var l in e)e.hasOwnProperty(l)&&e[l]&&o.push("".concat(CW(t,l)));return o.filter(function(c){return c}).map(function(c){return String(c).trim()}).join(" ")}var WC=function(e){return LW(e)?e.filter(Boolean):bl(e)==="object"&&e!==null?[e]:[]},MD=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=ga(e,AW);return Xe({},n)},bn=function(e,n,r){var i=e.cx,o=e.getStyles,l=e.getClassNames,c=e.className;return{css:o(n,e),className:i(r??{},l(n,e),c)}};function $g(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function NW(t){return $g(t)?window.innerHeight:t.clientHeight}function OD(t){return $g(t)?window.pageYOffset:t.scrollTop}function Gp(t,e){if($g(t)){window.scrollTo(0,e);return}t.scrollTop=e}function IW(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function MW(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function Rm(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:qp,i=OD(t),o=e-i,l=10,c=0;function d(){c+=l;var f=MW(c,i,o,n);Gp(t,f),c<n?window.requestAnimationFrame(d):r(t)}d()}function YC(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?Gp(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&Gp(t,Math.max(e.offsetTop-i,0))}function OW(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function XC(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function PW(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var PD=!1,DW={get passive(){return PD=!0}},Nm=typeof window<"u"?window:{};Nm.addEventListener&&Nm.removeEventListener&&(Nm.addEventListener("p",qp,DW),Nm.removeEventListener("p",qp,!1));var jW=PD;function kW(t){return t!=null}function LW(t){return Array.isArray(t)}function Im(t,e,n){return t?e:n}var VW=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=Object.entries(e).filter(function(l){var c=oa(l,1),d=c[0];return!r.includes(d)});return o.reduce(function(l,c){var d=oa(c,2),f=d[0],p=d[1];return l[f]=p,l},{})},UW=["children","innerProps"],zW=["children","innerProps"];function BW(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,o=t.shouldScroll,l=t.isFixedPosition,c=t.controlHeight,d=IW(n),f={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return f;var p=d.getBoundingClientRect(),y=p.height,x=n.getBoundingClientRect(),E=x.bottom,N=x.height,P=x.top,V=n.offsetParent.getBoundingClientRect(),D=V.top,B=l?window.innerHeight:NW(d),F=OD(d),Y=parseInt(getComputedStyle(n).marginBottom,10),M=parseInt(getComputedStyle(n).marginTop,10),O=D-M,C=B-P,I=O+F,R=y-F-P,T=E-B+F+Y,U=F+P-M,$=160;switch(i){case"auto":case"bottom":if(C>=N)return{placement:"bottom",maxHeight:e};if(R>=N&&!l)return o&&Rm(d,T,$),{placement:"bottom",maxHeight:e};if(!l&&R>=r||l&&C>=r){o&&Rm(d,T,$);var j=l?C-Y:R-Y;return{placement:"bottom",maxHeight:j}}if(i==="auto"||l){var G=e,Z=l?O:I;return Z>=r&&(G=Math.min(Z-Y-c,e)),{placement:"top",maxHeight:G}}if(i==="bottom")return o&&Gp(d,T),{placement:"bottom",maxHeight:e};break;case"top":if(O>=N)return{placement:"top",maxHeight:e};if(I>=N&&!l)return o&&Rm(d,U,$),{placement:"top",maxHeight:e};if(!l&&I>=r||l&&O>=r){var H=e;return(!l&&I>=r||l&&O>=r)&&(H=l?O-M:I-M),o&&Rm(d,U,$),{placement:"top",maxHeight:H}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return f}function FW(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var DD=function(e){return e==="auto"?"bottom":e},HW=function(e,n){var r,i=e.placement,o=e.theme,l=o.borderRadius,c=o.spacing,d=o.colors;return Xe((r={label:"menu"},Od(r,FW(i),"100%"),Od(r,"position","absolute"),Od(r,"width","100%"),Od(r,"zIndex",1),r),n?{}:{backgroundColor:d.neutral0,borderRadius:l,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:c.menuGutter,marginTop:c.menuGutter})},jD=A.createContext(null),$W=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,o=e.menuPlacement,l=e.menuPosition,c=e.menuShouldScrollIntoView,d=e.theme,f=A.useContext(jD)||{},p=f.setPortalPlacement,y=A.useRef(null),x=A.useState(i),E=oa(x,2),N=E[0],P=E[1],V=A.useState(null),D=oa(V,2),B=D[0],F=D[1],Y=d.spacing.controlHeight;return sx(function(){var M=y.current;if(M){var O=l==="fixed",C=c&&!O,I=BW({maxHeight:i,menuEl:M,minHeight:r,placement:o,shouldScroll:C,isFixedPosition:O,controlHeight:Y});P(I.maxHeight),F(I.placement),p?.(I.placement)}},[i,o,l,c,r,p,Y]),n({ref:y,placerProps:Xe(Xe({},e),{},{placement:B||DD(o),maxHeight:N})})},qW=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return He("div",nt({},bn(e,"menu",{menu:!0}),{ref:r},i),n)},GW=qW,KW=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return Xe({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},WW=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,o=e.isMulti;return He("div",nt({},bn(e,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:i},r),n)},kD=function(e,n){var r=e.theme,i=r.spacing.baseUnit,o=r.colors;return Xe({textAlign:"center"},n?{}:{color:o.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},YW=kD,XW=kD,QW=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,o=ga(e,UW);return He("div",nt({},bn(Xe(Xe({},o),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},ZW=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,o=ga(e,zW);return He("div",nt({},bn(Xe(Xe({},o),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},JW=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},eY=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,o=e.innerProps,l=e.menuPlacement,c=e.menuPosition,d=A.useRef(null),f=A.useRef(null),p=A.useState(DD(l)),y=oa(p,2),x=y[0],E=y[1],N=A.useMemo(function(){return{setPortalPlacement:E}},[]),P=A.useState(null),V=oa(P,2),D=V[0],B=V[1],F=A.useCallback(function(){if(i){var C=OW(i),I=c==="fixed"?0:window.pageYOffset,R=C[x]+I;(R!==D?.offset||C.left!==D?.rect.left||C.width!==D?.rect.width)&&B({offset:R,rect:C})}},[i,c,x,D?.offset,D?.rect.left,D?.rect.width]);sx(function(){F()},[F]);var Y=A.useCallback(function(){typeof f.current=="function"&&(f.current(),f.current=null),i&&d.current&&(f.current=EW(i,d.current,F,{elementResize:"ResizeObserver"in window}))},[i,F]);sx(function(){Y()},[Y]);var M=A.useCallback(function(C){d.current=C,Y()},[Y]);if(!n&&c!=="fixed"||!D)return null;var O=He("div",nt({ref:M},bn(Xe(Xe({},e),{},{offset:D.offset,position:c,rect:D.rect}),"menuPortal",{"menu-portal":!0}),o),r);return He(jD.Provider,{value:N},n?cW.createPortal(O,n):O)},tY=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},nY=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,o=e.isRtl;return He("div",nt({},bn(e,"container",{"--is-disabled":i,"--is-rtl":o}),r),n)},rY=function(e,n){var r=e.theme.spacing,i=e.isMulti,o=e.hasValue,l=e.selectProps.controlShouldRenderValue;return Xe({alignItems:"center",display:i&&o&&l?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},iY=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,o=e.hasValue;return He("div",nt({},bn(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":o}),r),n)},sY=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},aY=function(e){var n=e.children,r=e.innerProps;return He("div",nt({},bn(e,"indicatorsContainer",{indicators:!0}),r),n)},QC,oY=["size"],lY=["innerProps","isRtl","size"],uY={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},LD=function(e){var n=e.size,r=ga(e,oY);return He("svg",nt({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:uY},r))},T_=function(e){return He(LD,nt({size:20},e),He("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},VD=function(e){return He(LD,nt({size:20},e),He("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},UD=function(e,n){var r=e.isFocused,i=e.theme,o=i.spacing.baseUnit,l=i.colors;return Xe({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?l.neutral60:l.neutral20,padding:o*2,":hover":{color:r?l.neutral80:l.neutral40}})},cY=UD,dY=function(e){var n=e.children,r=e.innerProps;return He("div",nt({},bn(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||He(VD,null))},hY=UD,fY=function(e){var n=e.children,r=e.innerProps;return He("div",nt({},bn(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||He(T_,null))},mY=function(e,n){var r=e.isDisabled,i=e.theme,o=i.spacing.baseUnit,l=i.colors;return Xe({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?l.neutral10:l.neutral20,marginBottom:o*2,marginTop:o*2})},pY=function(e){var n=e.innerProps;return He("span",nt({},n,bn(e,"indicatorSeparator",{"indicator-separator":!0})))},gY=lW(QC||(QC=uW([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),vY=function(e,n){var r=e.isFocused,i=e.size,o=e.theme,l=o.colors,c=o.spacing.baseUnit;return Xe({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?l.neutral60:l.neutral20,padding:c*2})},M0=function(e){var n=e.delay,r=e.offset;return He("span",{css:x_({animation:"".concat(gY," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},yY=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,o=i===void 0?4:i,l=ga(e,lY);return He("div",nt({},bn(Xe(Xe({},l),{},{innerProps:n,isRtl:r,size:o}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),He(M0,{delay:0,offset:r}),He(M0,{delay:160,offset:!0}),He(M0,{delay:320,offset:!r}))},bY=function(e,n){var r=e.isDisabled,i=e.isFocused,o=e.theme,l=o.colors,c=o.borderRadius,d=o.spacing;return Xe({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:d.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?l.neutral5:l.neutral0,borderColor:r?l.neutral10:i?l.primary:l.neutral20,borderRadius:c,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(l.primary):void 0,"&:hover":{borderColor:i?l.primary:l.neutral30}})},xY=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,o=e.innerRef,l=e.innerProps,c=e.menuIsOpen;return He("div",nt({ref:o},bn(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":c}),l,{"aria-disabled":r||void 0}),n)},wY=xY,_Y=["data"],SY=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},TY=function(e){var n=e.children,r=e.cx,i=e.getStyles,o=e.getClassNames,l=e.Heading,c=e.headingProps,d=e.innerProps,f=e.label,p=e.theme,y=e.selectProps;return He("div",nt({},bn(e,"group",{group:!0}),d),He(l,nt({},c,{selectProps:y,theme:p,getStyles:i,getClassNames:o,cx:r}),f),He("div",null,n))},EY=function(e,n){var r=e.theme,i=r.colors,o=r.spacing;return Xe({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"})},AY=function(e){var n=MD(e);n.data;var r=ga(n,_Y);return He("div",nt({},bn(e,"groupHeading",{"group-heading":!0}),r))},CY=TY,RY=["innerRef","isDisabled","isHidden","inputClassName"],NY=function(e,n){var r=e.isDisabled,i=e.value,o=e.theme,l=o.spacing,c=o.colors;return Xe(Xe({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},IY),n?{}:{margin:l.baseUnit/2,paddingBottom:l.baseUnit/2,paddingTop:l.baseUnit/2,color:c.neutral80})},zD={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},IY={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Xe({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},zD)},MY=function(e){return Xe({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},zD)},OY=function(e){var n=e.cx,r=e.value,i=MD(e),o=i.innerRef,l=i.isDisabled,c=i.isHidden,d=i.inputClassName,f=ga(i,RY);return He("div",nt({},bn(e,"input",{"input-container":!0}),{"data-value":r||""}),He("input",nt({className:n({input:!0},d),ref:o,style:MY(c),disabled:l},f)))},PY=OY,DY=function(e,n){var r=e.theme,i=r.spacing,o=r.borderRadius,l=r.colors;return Xe({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:l.neutral10,borderRadius:o/2,margin:i.baseUnit/2})},jY=function(e,n){var r=e.theme,i=r.borderRadius,o=r.colors,l=e.cropWithEllipsis;return Xe({overflow:"hidden",textOverflow:l||l===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},kY=function(e,n){var r=e.theme,i=r.spacing,o=r.borderRadius,l=r.colors,c=e.isFocused;return Xe({alignItems:"center",display:"flex"},n?{}:{borderRadius:o/2,backgroundColor:c?l.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:l.dangerLight,color:l.danger}})},BD=function(e){var n=e.children,r=e.innerProps;return He("div",r,n)},LY=BD,VY=BD;function UY(t){var e=t.children,n=t.innerProps;return He("div",nt({role:"button"},n),e||He(T_,{size:14}))}var zY=function(e){var n=e.children,r=e.components,i=e.data,o=e.innerProps,l=e.isDisabled,c=e.removeProps,d=e.selectProps,f=r.Container,p=r.Label,y=r.Remove;return He(f,{data:i,innerProps:Xe(Xe({},bn(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":l})),o),selectProps:d},He(p,{data:i,innerProps:Xe({},bn(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:d},n),He(y,{data:i,innerProps:Xe(Xe({},bn(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},c),selectProps:d}))},BY=zY,FY=function(e,n){var r=e.isDisabled,i=e.isFocused,o=e.isSelected,l=e.theme,c=l.spacing,d=l.colors;return Xe({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:o?d.primary:i?d.primary25:"transparent",color:r?d.neutral20:o?d.neutral0:"inherit",padding:"".concat(c.baseUnit*2,"px ").concat(c.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:o?d.primary:d.primary50}})},HY=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,o=e.isSelected,l=e.innerRef,c=e.innerProps;return He("div",nt({},bn(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":o}),{ref:l,"aria-disabled":r},c),n)},$Y=HY,qY=function(e,n){var r=e.theme,i=r.spacing,o=r.colors;return Xe({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:o.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},GY=function(e){var n=e.children,r=e.innerProps;return He("div",nt({},bn(e,"placeholder",{placeholder:!0}),r),n)},KY=GY,WY=function(e,n){var r=e.isDisabled,i=e.theme,o=i.spacing,l=i.colors;return Xe({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?l.neutral40:l.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},YY=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return He("div",nt({},bn(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},XY=YY,qg={ClearIndicator:fY,Control:wY,DropdownIndicator:dY,DownChevron:VD,CrossIcon:T_,Group:CY,GroupHeading:AY,IndicatorsContainer:aY,IndicatorSeparator:pY,Input:PY,LoadingIndicator:yY,Menu:GW,MenuList:WW,MenuPortal:eY,LoadingMessage:ZW,NoOptionsMessage:QW,MultiValue:BY,MultiValueContainer:LY,MultiValueLabel:VY,MultiValueRemove:UY,Option:$Y,Placeholder:KY,SelectContainer:nY,SingleValue:XY,ValueContainer:iY},QY=function(e){return Xe(Xe({},qg),e.components)},ZC=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function ZY(t,e){return!!(t===e||ZC(t)&&ZC(e))}function JY(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!ZY(t[n],e[n]))return!1;return!0}function eX(t,e){e===void 0&&(e=JY);var n=null;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var l=t.apply(this,i);return n={lastResult:l,lastArgs:i,lastThis:this},l}return r.clear=function(){n=null},r}var tX={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},nX=function(e){return He("span",nt({css:tX},e))},JC=nX,rX={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,o=e.context,l=e.isInitialFocus;switch(o){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return l?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,o=e.labels,l=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return l?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,o=e.label,l=o===void 0?"":o,c=e.selectValue,d=e.isDisabled,f=e.isSelected,p=e.isAppleDevice,y=function(P,V){return P&&P.length?"".concat(P.indexOf(V)+1," of ").concat(P.length):""};if(n==="value"&&c)return"value ".concat(l," focused, ").concat(y(c,r),".");if(n==="menu"&&p){var x=d?" disabled":"",E="".concat(f?" selected":"").concat(x);return"".concat(l).concat(E,", ").concat(y(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},iX=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,o=e.focusableOptions,l=e.isFocused,c=e.selectValue,d=e.selectProps,f=e.id,p=e.isAppleDevice,y=d.ariaLiveMessages,x=d.getOptionLabel,E=d.inputValue,N=d.isMulti,P=d.isOptionDisabled,V=d.isSearchable,D=d.menuIsOpen,B=d.options,F=d.screenReaderStatus,Y=d.tabSelectsValue,M=d.isLoading,O=d["aria-label"],C=d["aria-live"],I=A.useMemo(function(){return Xe(Xe({},rX),y||{})},[y]),R=A.useMemo(function(){var Z="";if(n&&I.onChange){var H=n.option,S=n.options,J=n.removedValue,W=n.removedValues,w=n.value,z=function(Ee){return Array.isArray(Ee)?null:Ee},X=J||H||z(w),Q=X?x(X):"",ne=S||W||void 0,se=ne?ne.map(x):[],le=Xe({isDisabled:X&&P(X,c),label:Q,labels:se},n);Z=I.onChange(le)}return Z},[n,I,P,c,x]),T=A.useMemo(function(){var Z="",H=r||i,S=!!(r&&c&&c.includes(r));if(H&&I.onFocus){var J={focused:H,label:x(H),isDisabled:P(H,c),isSelected:S,options:o,context:H===r?"menu":"value",selectValue:c,isAppleDevice:p};Z=I.onFocus(J)}return Z},[r,i,x,P,I,o,c,p]),U=A.useMemo(function(){var Z="";if(D&&B.length&&!M&&I.onFilter){var H=F({count:o.length});Z=I.onFilter({inputValue:E,resultsMessage:H})}return Z},[o,E,D,I,B,F,M]),$=n?.action==="initial-input-focus",j=A.useMemo(function(){var Z="";if(I.guidance){var H=i?"value":D?"menu":"input";Z=I.guidance({"aria-label":O,context:H,isDisabled:r&&P(r,c),isMulti:N,isSearchable:V,tabSelectsValue:Y,isInitialFocus:$})}return Z},[O,r,i,N,P,V,D,I,c,Y,$]),G=He(A.Fragment,null,He("span",{id:"aria-selection"},R),He("span",{id:"aria-focused"},T),He("span",{id:"aria-results"},U),He("span",{id:"aria-guidance"},j));return He(A.Fragment,null,He(JC,{id:f},$&&G),He(JC,{"aria-live":C,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},l&&!$&&G))},sX=iX,ax=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],aX=new RegExp("["+ax.map(function(t){return t.letters}).join("")+"]","g"),FD={};for(var O0=0;O0<ax.length;O0++)for(var P0=ax[O0],D0=0;D0<P0.letters.length;D0++)FD[P0.letters[D0]]=P0.base;var HD=function(e){return e.replace(aX,function(n){return FD[n]})},oX=eX(HD),eR=function(e){return e.replace(/^\s+|\s+$/g,"")},lX=function(e){return"".concat(e.label," ").concat(e.value)},uX=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=Xe({ignoreCase:!0,ignoreAccents:!0,stringify:lX,trim:!0,matchFrom:"any"},e),o=i.ignoreCase,l=i.ignoreAccents,c=i.stringify,d=i.trim,f=i.matchFrom,p=d?eR(r):r,y=d?eR(c(n)):c(n);return o&&(p=p.toLowerCase(),y=y.toLowerCase()),l&&(p=oX(p),y=HD(y)),f==="start"?y.substr(0,p.length)===p:y.indexOf(p)>-1}},cX=["innerRef"];function dX(t){var e=t.innerRef,n=ga(t,cX),r=VW(n,"onExited","in","enter","exit","appear");return He("input",nt({ref:e},r,{css:x_({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var hX=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function fX(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,o=t.onTopLeave,l=A.useRef(!1),c=A.useRef(!1),d=A.useRef(0),f=A.useRef(null),p=A.useCallback(function(V,D){if(f.current!==null){var B=f.current,F=B.scrollTop,Y=B.scrollHeight,M=B.clientHeight,O=f.current,C=D>0,I=Y-M-F,R=!1;I>D&&l.current&&(r&&r(V),l.current=!1),C&&c.current&&(o&&o(V),c.current=!1),C&&D>I?(n&&!l.current&&n(V),O.scrollTop=Y,R=!0,l.current=!0):!C&&-D>F&&(i&&!c.current&&i(V),O.scrollTop=0,R=!0,c.current=!0),R&&hX(V)}},[n,r,i,o]),y=A.useCallback(function(V){p(V,V.deltaY)},[p]),x=A.useCallback(function(V){d.current=V.changedTouches[0].clientY},[]),E=A.useCallback(function(V){var D=d.current-V.changedTouches[0].clientY;p(V,D)},[p]),N=A.useCallback(function(V){if(V){var D=jW?{passive:!1}:!1;V.addEventListener("wheel",y,D),V.addEventListener("touchstart",x,D),V.addEventListener("touchmove",E,D)}},[E,x,y]),P=A.useCallback(function(V){V&&(V.removeEventListener("wheel",y,!1),V.removeEventListener("touchstart",x,!1),V.removeEventListener("touchmove",E,!1))},[E,x,y]);return A.useEffect(function(){if(e){var V=f.current;return N(V),function(){P(V)}}},[e,N,P]),function(V){f.current=V}}var tR=["boxSizing","height","overflow","paddingRight","position"],nR={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function rR(t){t.cancelable&&t.preventDefault()}function iR(t){t.stopPropagation()}function sR(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function aR(){return"ontouchstart"in window||navigator.maxTouchPoints}var oR=!!(typeof window<"u"&&window.document&&window.document.createElement),vd=0,cu={capture:!1,passive:!1};function mX(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=A.useRef({}),o=A.useRef(null),l=A.useCallback(function(d){if(oR){var f=document.body,p=f&&f.style;if(r&&tR.forEach(function(N){var P=p&&p[N];i.current[N]=P}),r&&vd<1){var y=parseInt(i.current.paddingRight,10)||0,x=document.body?document.body.clientWidth:0,E=window.innerWidth-x+y||0;Object.keys(nR).forEach(function(N){var P=nR[N];p&&(p[N]=P)}),p&&(p.paddingRight="".concat(E,"px"))}f&&aR()&&(f.addEventListener("touchmove",rR,cu),d&&(d.addEventListener("touchstart",sR,cu),d.addEventListener("touchmove",iR,cu))),vd+=1}},[r]),c=A.useCallback(function(d){if(oR){var f=document.body,p=f&&f.style;vd=Math.max(vd-1,0),r&&vd<1&&tR.forEach(function(y){var x=i.current[y];p&&(p[y]=x)}),f&&aR()&&(f.removeEventListener("touchmove",rR,cu),d&&(d.removeEventListener("touchstart",sR,cu),d.removeEventListener("touchmove",iR,cu)))}},[r]);return A.useEffect(function(){if(e){var d=o.current;return l(d),function(){c(d)}}},[e,l,c]),function(d){o.current=d}}var pX=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},gX={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function vX(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,o=t.onBottomArrive,l=t.onBottomLeave,c=t.onTopArrive,d=t.onTopLeave,f=fX({isEnabled:i,onBottomArrive:o,onBottomLeave:l,onTopArrive:c,onTopLeave:d}),p=mX({isEnabled:n}),y=function(E){f(E),p(E)};return He(A.Fragment,null,n&&He("div",{onClick:pX,css:gX}),e(y))}var yX={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},bX=function(e){var n=e.name,r=e.onFocus;return He("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:yX,value:"",onChange:function(){}})},xX=bX;function E_(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function wX(){return E_(/^iPhone/i)}function $D(){return E_(/^Mac/i)}function _X(){return E_(/^iPad/i)||$D()&&navigator.maxTouchPoints>1}function SX(){return wX()||_X()}function TX(){return $D()||SX()}var EX=function(e){return e.label},AX=function(e){return e.label},CX=function(e){return e.value},RX=function(e){return!!e.isDisabled},NX={clearIndicator:hY,container:tY,control:bY,dropdownIndicator:cY,group:SY,groupHeading:EY,indicatorsContainer:sY,indicatorSeparator:mY,input:NY,loadingIndicator:vY,loadingMessage:XW,menu:HW,menuList:KW,menuPortal:JW,multiValue:DY,multiValueLabel:jY,multiValueRemove:kY,noOptionsMessage:YW,option:FY,placeholder:qY,singleValue:WY,valueContainer:rY},IX={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},MX=4,qD=4,OX=38,PX=qD*2,DX={baseUnit:qD,controlHeight:OX,menuGutter:PX},j0={borderRadius:MX,colors:IX,spacing:DX},jX={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:XC(),captureMenuScroll:!XC(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:uX(),formatGroupLabel:EX,getOptionLabel:AX,getOptionValue:CX,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:RX,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!PW(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function lR(t,e,n,r){var i=WD(t,e,n),o=YD(t,e,n),l=KD(t,e),c=Kp(t,e);return{type:"option",data:e,isDisabled:i,isSelected:o,label:l,value:c,index:r}}function rp(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(l,c){return lR(t,l,e,c)}).filter(function(l){return cR(t,l)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var o=lR(t,n,e,r);return cR(t,o)?o:void 0}).filter(kW)}function GD(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,p_(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function uR(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,p_(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function kX(t,e){return GD(rp(t,e))}function cR(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,o=e.isSelected,l=e.label,c=e.value;return(!QD(t)||!o)&&XD(t,{label:l,value:c,data:i},r)}function LX(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var o=e.indexOf(n);if(o>-1)return n;if(i<e.length)return e[i]}return null}function VX(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var k0=function(e,n){var r,i=(r=e.find(function(o){return o.data===n}))===null||r===void 0?void 0:r.id;return i||null},KD=function(e,n){return e.getOptionLabel(n)},Kp=function(e,n){return e.getOptionValue(n)};function WD(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function YD(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=Kp(t,e);return n.some(function(i){return Kp(t,i)===r})}function XD(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var QD=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},UX=1,ZD=function(t){sK(n,t);var e=lK(n);function n(r){var i;if(rK(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.controlRef=null,i.getControlRef=function(d){i.controlRef=d},i.focusedOptionRef=null,i.getFocusedOptionRef=function(d){i.focusedOptionRef=d},i.menuListRef=null,i.getMenuListRef=function(d){i.menuListRef=d},i.inputRef=null,i.getInputRef=function(d){i.inputRef=d},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(d,f){var p=i.props,y=p.onChange,x=p.name;f.name=x,i.ariaOnChange(d,f),y(d,f)},i.setValue=function(d,f,p){var y=i.props,x=y.closeMenuOnSelect,E=y.isMulti,N=y.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:N}),x&&(i.setState({inputIsHiddenAfterUpdate:!E}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(d,{action:f,option:p})},i.selectOption=function(d){var f=i.props,p=f.blurInputOnSelect,y=f.isMulti,x=f.name,E=i.state.selectValue,N=y&&i.isOptionSelected(d,E),P=i.isOptionDisabled(d,E);if(N){var V=i.getOptionValue(d);i.setValue(E.filter(function(D){return i.getOptionValue(D)!==V}),"deselect-option",d)}else if(!P)y?i.setValue([].concat(p_(E),[d]),"select-option",d):i.setValue(d,"select-option");else{i.ariaOnChange(d,{action:"select-option",option:d,name:x});return}p&&i.blurInput()},i.removeValue=function(d){var f=i.props.isMulti,p=i.state.selectValue,y=i.getOptionValue(d),x=p.filter(function(N){return i.getOptionValue(N)!==y}),E=Im(f,x,x[0]||null);i.onChange(E,{action:"remove-value",removedValue:d}),i.focusInput()},i.clearValue=function(){var d=i.state.selectValue;i.onChange(Im(i.props.isMulti,[],null),{action:"clear",removedValues:d})},i.popValue=function(){var d=i.props.isMulti,f=i.state.selectValue,p=f[f.length-1],y=f.slice(0,f.length-1),x=Im(d,y,y[0]||null);p&&i.onChange(x,{action:"pop-value",removedValue:p})},i.getFocusedOptionId=function(d){return k0(i.state.focusableOptionsWithIds,d)},i.getFocusableOptionsWithIds=function(){return uR(rp(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var d=arguments.length,f=new Array(d),p=0;p<d;p++)f[p]=arguments[p];return RW.apply(void 0,[i.props.classNamePrefix].concat(f))},i.getOptionLabel=function(d){return KD(i.props,d)},i.getOptionValue=function(d){return Kp(i.props,d)},i.getStyles=function(d,f){var p=i.props.unstyled,y=NX[d](f,p);y.boxSizing="border-box";var x=i.props.styles[d];return x?x(y,f):y},i.getClassNames=function(d,f){var p,y;return(p=(y=i.props.classNames)[d])===null||p===void 0?void 0:p.call(y,f)},i.getElementId=function(d){return"".concat(i.state.instancePrefix,"-").concat(d)},i.getComponents=function(){return QY(i.props)},i.buildCategorizedOptions=function(){return rp(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return GD(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(d,f){i.setState({ariaSelection:Xe({value:d},f)})},i.onMenuMouseDown=function(d){d.button===0&&(d.stopPropagation(),d.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(d){i.blockOptionHover=!1},i.onControlMouseDown=function(d){if(!d.defaultPrevented){var f=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&i.onMenuClose():f&&i.openMenu("first"):(f&&(i.openAfterFocus=!0),i.focusInput()),d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&d.preventDefault()}},i.onDropdownIndicatorMouseDown=function(d){if(!(d&&d.type==="mousedown"&&d.button!==0)&&!i.props.isDisabled){var f=i.props,p=f.isMulti,y=f.menuIsOpen;i.focusInput(),y?(i.setState({inputIsHiddenAfterUpdate:!p}),i.onMenuClose()):i.openMenu("first"),d.preventDefault()}},i.onClearIndicatorMouseDown=function(d){d&&d.type==="mousedown"&&d.button!==0||(i.clearValue(),d.preventDefault(),i.openAfterFocus=!1,d.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(d){typeof i.props.closeMenuOnScroll=="boolean"?d.target instanceof HTMLElement&&$g(d.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(d)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(d){var f=d.touches,p=f&&f.item(0);p&&(i.initialTouchX=p.clientX,i.initialTouchY=p.clientY,i.userIsDragging=!1)},i.onTouchMove=function(d){var f=d.touches,p=f&&f.item(0);if(p){var y=Math.abs(p.clientX-i.initialTouchX),x=Math.abs(p.clientY-i.initialTouchY),E=5;i.userIsDragging=y>E||x>E}},i.onTouchEnd=function(d){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(d.target)&&i.menuListRef&&!i.menuListRef.contains(d.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(d){i.userIsDragging||i.onControlMouseDown(d)},i.onClearIndicatorTouchEnd=function(d){i.userIsDragging||i.onClearIndicatorMouseDown(d)},i.onDropdownIndicatorTouchEnd=function(d){i.userIsDragging||i.onDropdownIndicatorMouseDown(d)},i.handleInputChange=function(d){var f=i.props.inputValue,p=d.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(p,{action:"input-change",prevInputValue:f}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(d){i.props.onFocus&&i.props.onFocus(d),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(d){var f=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(d),i.onInputChange("",{action:"input-blur",prevInputValue:f}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(d){if(!(i.blockOptionHover||i.state.focusedOption===d)){var f=i.getFocusableOptions(),p=f.indexOf(d);i.setState({focusedOption:d,focusedOptionId:p>-1?i.getFocusedOptionId(d):null})}},i.shouldHideSelectedOptions=function(){return QD(i.props)},i.onValueInputFocus=function(d){d.preventDefault(),d.stopPropagation(),i.focus()},i.onKeyDown=function(d){var f=i.props,p=f.isMulti,y=f.backspaceRemovesValue,x=f.escapeClearsValue,E=f.inputValue,N=f.isClearable,P=f.isDisabled,V=f.menuIsOpen,D=f.onKeyDown,B=f.tabSelectsValue,F=f.openMenuOnFocus,Y=i.state,M=Y.focusedOption,O=Y.focusedValue,C=Y.selectValue;if(!P&&!(typeof D=="function"&&(D(d),d.defaultPrevented))){switch(i.blockOptionHover=!0,d.key){case"ArrowLeft":if(!p||E)return;i.focusValue("previous");break;case"ArrowRight":if(!p||E)return;i.focusValue("next");break;case"Delete":case"Backspace":if(E)return;if(O)i.removeValue(O);else{if(!y)return;p?i.popValue():N&&i.clearValue()}break;case"Tab":if(i.isComposing||d.shiftKey||!V||!B||!M||F&&i.isOptionSelected(M,C))return;i.selectOption(M);break;case"Enter":if(d.keyCode===229)break;if(V){if(!M||i.isComposing)return;i.selectOption(M);break}return;case"Escape":V?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:E}),i.onMenuClose()):N&&x&&i.clearValue();break;case" ":if(E)return;if(!V){i.openMenu("first");break}if(!M)return;i.selectOption(M);break;case"ArrowUp":V?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":V?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!V)return;i.focusOption("pageup");break;case"PageDown":if(!V)return;i.focusOption("pagedown");break;case"Home":if(!V)return;i.focusOption("first");break;case"End":if(!V)return;i.focusOption("last");break;default:return}d.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++UX),i.state.selectValue=WC(r.value),r.menuIsOpen&&i.state.selectValue.length){var o=i.getFocusableOptionsWithIds(),l=i.buildFocusableOptions(),c=l.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=o,i.state.focusedOption=l[c],i.state.focusedOptionId=k0(o,l[c])}return i}return iK(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&YC(this.menuListRef,this.focusedOptionRef),TX()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(i){var o=this.props,l=o.isDisabled,c=o.menuIsOpen,d=this.state.isFocused;(d&&!l&&i.isDisabled||d&&c&&!i.menuIsOpen)&&this.focusInput(),d&&l&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!d&&!l&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(YC(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,o){this.props.onInputChange(i,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var o=this,l=this.state,c=l.selectValue,d=l.isFocused,f=this.buildFocusableOptions(),p=i==="first"?0:f.length-1;if(!this.props.isMulti){var y=f.indexOf(c[0]);y>-1&&(p=y)}this.scrollToFocusedOptionOnUpdate=!(d&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:f[p],focusedOptionId:this.getFocusedOptionId(f[p])},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(i){var o=this.state,l=o.selectValue,c=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var d=l.indexOf(c);c||(d=-1);var f=l.length-1,p=-1;if(l.length){switch(i){case"previous":d===0?p=0:d===-1?p=f:p=d-1;break;case"next":d>-1&&d<f&&(p=d+1);break}this.setState({inputIsHidden:p!==-1,focusedValue:l[p]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,l=this.state.focusedOption,c=this.getFocusableOptions();if(c.length){var d=0,f=c.indexOf(l);l||(f=-1),i==="up"?d=f>0?f-1:c.length-1:i==="down"?d=(f+1)%c.length:i==="pageup"?(d=f-o,d<0&&(d=0)):i==="pagedown"?(d=f+o,d>c.length-1&&(d=c.length-1)):i==="last"&&(d=c.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:c[d],focusedValue:null,focusedOptionId:this.getFocusedOptionId(c[d])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(j0):Xe(Xe({},j0),this.props.theme):j0}},{key:"getCommonProps",value:function(){var i=this.clearValue,o=this.cx,l=this.getStyles,c=this.getClassNames,d=this.getValue,f=this.selectOption,p=this.setValue,y=this.props,x=y.isMulti,E=y.isRtl,N=y.options,P=this.hasValue();return{clearValue:i,cx:o,getStyles:l,getClassNames:c,getValue:d,hasValue:P,isMulti:x,isRtl:E,options:N,selectOption:f,selectProps:y,setValue:p,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,o=i.isClearable,l=i.isMulti;return o===void 0?l:o}},{key:"isOptionDisabled",value:function(i,o){return WD(this.props,i,o)}},{key:"isOptionSelected",value:function(i,o){return YD(this.props,i,o)}},{key:"filterOption",value:function(i,o){return XD(this.props,i,o)}},{key:"formatOptionLabel",value:function(i,o){if(typeof this.props.formatOptionLabel=="function"){var l=this.props.inputValue,c=this.state.selectValue;return this.props.formatOptionLabel(i,{context:o,inputValue:l,selectValue:c})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,o=i.isDisabled,l=i.isSearchable,c=i.inputId,d=i.inputValue,f=i.tabIndex,p=i.form,y=i.menuIsOpen,x=i.required,E=this.getComponents(),N=E.Input,P=this.state,V=P.inputIsHidden,D=P.ariaSelection,B=this.commonProps,F=c||this.getElementId("input"),Y=Xe(Xe(Xe({"aria-autocomplete":"list","aria-expanded":y,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":x,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},y&&{"aria-controls":this.getElementId("listbox")}),!l&&{"aria-readonly":!0}),this.hasValue()?D?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return l?A.createElement(N,nt({},B,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:F,innerRef:this.getInputRef,isDisabled:o,isHidden:V,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:f,form:p,type:"text",value:d},Y)):A.createElement(dX,nt({id:F,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:qp,onFocus:this.onInputFocus,disabled:o,tabIndex:f,inputMode:"none",form:p,value:""},Y))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,o=this.getComponents(),l=o.MultiValue,c=o.MultiValueContainer,d=o.MultiValueLabel,f=o.MultiValueRemove,p=o.SingleValue,y=o.Placeholder,x=this.commonProps,E=this.props,N=E.controlShouldRenderValue,P=E.isDisabled,V=E.isMulti,D=E.inputValue,B=E.placeholder,F=this.state,Y=F.selectValue,M=F.focusedValue,O=F.isFocused;if(!this.hasValue()||!N)return D?null:A.createElement(y,nt({},x,{key:"placeholder",isDisabled:P,isFocused:O,innerProps:{id:this.getElementId("placeholder")}}),B);if(V)return Y.map(function(I,R){var T=I===M,U="".concat(i.getOptionLabel(I),"-").concat(i.getOptionValue(I));return A.createElement(l,nt({},x,{components:{Container:c,Label:d,Remove:f},isFocused:T,isDisabled:P,key:U,index:R,removeProps:{onClick:function(){return i.removeValue(I)},onTouchEnd:function(){return i.removeValue(I)},onMouseDown:function(j){j.preventDefault()}},data:I}),i.formatOptionLabel(I,"value"))});if(D)return null;var C=Y[0];return A.createElement(p,nt({},x,{data:C,isDisabled:P}),this.formatOptionLabel(C,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),o=i.ClearIndicator,l=this.commonProps,c=this.props,d=c.isDisabled,f=c.isLoading,p=this.state.isFocused;if(!this.isClearable()||!o||d||!this.hasValue()||f)return null;var y={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return A.createElement(o,nt({},l,{innerProps:y,isFocused:p}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),o=i.LoadingIndicator,l=this.commonProps,c=this.props,d=c.isDisabled,f=c.isLoading,p=this.state.isFocused;if(!o||!f)return null;var y={"aria-hidden":"true"};return A.createElement(o,nt({},l,{innerProps:y,isDisabled:d,isFocused:p}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator,l=i.IndicatorSeparator;if(!o||!l)return null;var c=this.commonProps,d=this.props.isDisabled,f=this.state.isFocused;return A.createElement(l,nt({},c,{isDisabled:d,isFocused:f}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator;if(!o)return null;var l=this.commonProps,c=this.props.isDisabled,d=this.state.isFocused,f={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return A.createElement(o,nt({},l,{innerProps:f,isDisabled:c,isFocused:d}))}},{key:"renderMenu",value:function(){var i=this,o=this.getComponents(),l=o.Group,c=o.GroupHeading,d=o.Menu,f=o.MenuList,p=o.MenuPortal,y=o.LoadingMessage,x=o.NoOptionsMessage,E=o.Option,N=this.commonProps,P=this.state.focusedOption,V=this.props,D=V.captureMenuScroll,B=V.inputValue,F=V.isLoading,Y=V.loadingMessage,M=V.minMenuHeight,O=V.maxMenuHeight,C=V.menuIsOpen,I=V.menuPlacement,R=V.menuPosition,T=V.menuPortalTarget,U=V.menuShouldBlockScroll,$=V.menuShouldScrollIntoView,j=V.noOptionsMessage,G=V.onMenuScrollToTop,Z=V.onMenuScrollToBottom;if(!C)return null;var H=function(Q,ne){var se=Q.type,le=Q.data,ve=Q.isDisabled,Ee=Q.isSelected,Pe=Q.label,Ne=Q.value,ze=P===le,Ye=ve?void 0:function(){return i.onOptionHover(le)},Qe=ve?void 0:function(){return i.selectOption(le)},me="".concat(i.getElementId("option"),"-").concat(ne),Ce={id:me,onClick:Qe,onMouseMove:Ye,onMouseOver:Ye,tabIndex:-1,role:"option","aria-selected":i.state.isAppleDevice?void 0:Ee};return A.createElement(E,nt({},N,{innerProps:Ce,data:le,isDisabled:ve,isSelected:Ee,key:me,label:Pe,type:se,value:Ne,isFocused:ze,innerRef:ze?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(Q.data,"menu"))},S;if(this.hasOptions())S=this.getCategorizedOptions().map(function(X){if(X.type==="group"){var Q=X.data,ne=X.options,se=X.index,le="".concat(i.getElementId("group"),"-").concat(se),ve="".concat(le,"-heading");return A.createElement(l,nt({},N,{key:le,data:Q,options:ne,Heading:c,headingProps:{id:ve,data:X.data},label:i.formatGroupLabel(X.data)}),X.options.map(function(Ee){return H(Ee,"".concat(se,"-").concat(Ee.index))}))}else if(X.type==="option")return H(X,"".concat(X.index))});else if(F){var J=Y({inputValue:B});if(J===null)return null;S=A.createElement(y,N,J)}else{var W=j({inputValue:B});if(W===null)return null;S=A.createElement(x,N,W)}var w={minMenuHeight:M,maxMenuHeight:O,menuPlacement:I,menuPosition:R,menuShouldScrollIntoView:$},z=A.createElement($W,nt({},N,w),function(X){var Q=X.ref,ne=X.placerProps,se=ne.placement,le=ne.maxHeight;return A.createElement(d,nt({},N,w,{innerRef:Q,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:F,placement:se}),A.createElement(vX,{captureEnabled:D,onTopArrive:G,onBottomArrive:Z,lockEnabled:U},function(ve){return A.createElement(f,nt({},N,{innerRef:function(Pe){i.getMenuListRef(Pe),ve(Pe)},innerProps:{role:"listbox","aria-multiselectable":N.isMulti,id:i.getElementId("listbox")},isLoading:F,maxHeight:le,focusedOption:P}),S)}))});return T||R==="fixed"?A.createElement(p,nt({},N,{appendTo:T,controlElement:this.controlRef,menuPlacement:I,menuPosition:R}),z):z}},{key:"renderFormField",value:function(){var i=this,o=this.props,l=o.delimiter,c=o.isDisabled,d=o.isMulti,f=o.name,p=o.required,y=this.state.selectValue;if(p&&!this.hasValue()&&!c)return A.createElement(xX,{name:f,onFocus:this.onValueInputFocus});if(!(!f||c))if(d)if(l){var x=y.map(function(P){return i.getOptionValue(P)}).join(l);return A.createElement("input",{name:f,type:"hidden",value:x})}else{var E=y.length>0?y.map(function(P,V){return A.createElement("input",{key:"i-".concat(V),name:f,type:"hidden",value:i.getOptionValue(P)})}):A.createElement("input",{name:f,type:"hidden",value:""});return A.createElement("div",null,E)}else{var N=y[0]?this.getOptionValue(y[0]):"";return A.createElement("input",{name:f,type:"hidden",value:N})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,o=this.state,l=o.ariaSelection,c=o.focusedOption,d=o.focusedValue,f=o.isFocused,p=o.selectValue,y=this.getFocusableOptions();return A.createElement(sX,nt({},i,{id:this.getElementId("live-region"),ariaSelection:l,focusedOption:c,focusedValue:d,isFocused:f,selectValue:p,focusableOptions:y,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),o=i.Control,l=i.IndicatorsContainer,c=i.SelectContainer,d=i.ValueContainer,f=this.props,p=f.className,y=f.id,x=f.isDisabled,E=f.menuIsOpen,N=this.state.isFocused,P=this.commonProps=this.getCommonProps();return A.createElement(c,nt({},P,{className:p,innerProps:{id:y,onKeyDown:this.onKeyDown},isDisabled:x,isFocused:N}),this.renderLiveRegion(),A.createElement(o,nt({},P,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:x,isFocused:N,menuIsOpen:E}),A.createElement(d,nt({},P,{isDisabled:x}),this.renderPlaceholderOrValue(),this.renderInput()),A.createElement(l,nt({},P,{isDisabled:x}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,o){var l=o.prevProps,c=o.clearFocusValueOnUpdate,d=o.inputIsHiddenAfterUpdate,f=o.ariaSelection,p=o.isFocused,y=o.prevWasFocused,x=o.instancePrefix,E=i.options,N=i.value,P=i.menuIsOpen,V=i.inputValue,D=i.isMulti,B=WC(N),F={};if(l&&(N!==l.value||E!==l.options||P!==l.menuIsOpen||V!==l.inputValue)){var Y=P?kX(i,B):[],M=P?uR(rp(i,B),"".concat(x,"-option")):[],O=c?LX(o,B):null,C=VX(o,Y),I=k0(M,C);F={selectValue:B,focusedOption:C,focusedOptionId:I,focusableOptionsWithIds:M,focusedValue:O,clearFocusValueOnUpdate:!1}}var R=d!=null&&i!==l?{inputIsHidden:d,inputIsHiddenAfterUpdate:void 0}:{},T=f,U=p&&y;return p&&!U&&(T={value:Im(D,B,B[0]||null),options:B,action:"initial-input-focus"},U=!y),f?.action==="initial-input-focus"&&(T=null),Xe(Xe(Xe({},F),R),{},{prevProps:i,ariaSelection:T,prevWasFocused:U})}}]),n}(A.Component);ZD.defaultProps=jX;var zX=A.forwardRef(function(t,e){var n=nK(t);return A.createElement(ZD,nt({ref:e},n))}),mh=zX;const BX=JSON.parse(`[{"value":"AF","label":"Afghanistan"},{"value":"AX","label":"Åland Islands"},{"value":"AL","label":"Albania"},{"value":"DZ","label":"Algeria"},{"value":"AS","label":"American Samoa"},{"value":"AD","label":"Andorra"},{"value":"AO","label":"Angola"},{"value":"AI","label":"Anguilla"},{"value":"AQ","label":"Antarctica"},{"value":"AG","label":"Antigua and Barbuda"},{"value":"AR","label":"Argentina"},{"value":"AM","label":"Armenia"},{"value":"AW","label":"Aruba"},{"value":"AU","label":"Australia"},{"value":"AT","label":"Austria"},{"value":"AZ","label":"Azerbaijan"},{"value":"BS","label":"Bahamas"},{"value":"BH","label":"Bahrain"},{"value":"BD","label":"Bangladesh"},{"value":"BB","label":"Barbados"},{"value":"BY","label":"Belarus"},{"value":"BE","label":"Belgium"},{"value":"BZ","label":"Belize"},{"value":"BJ","label":"Benin"},{"value":"BM","label":"Bermuda"},{"value":"BT","label":"Bhutan"},{"value":"BO","label":"Bolivia, Plurinational State of"},{"value":"BQ","label":"Bonaire, Sint Eustatius and Saba"},{"value":"BA","label":"Bosnia and Herzegovina"},{"value":"BW","label":"Botswana"},{"value":"BV","label":"Bouvet Island"},{"value":"BR","label":"Brazil"},{"value":"IO","label":"British Indian Ocean Territory"},{"value":"BN","label":"Brunei Darussalam"},{"value":"BG","label":"Bulgaria"},{"value":"BF","label":"Burkina Faso"},{"value":"BI","label":"Burundi"},{"value":"CV","label":"Cabo Verde"},{"value":"KH","label":"Cambodia"},{"value":"CM","label":"Cameroon"},{"value":"CA","label":"Canada"},{"value":"KY","label":"Cayman Islands"},{"value":"CF","label":"Central African Republic"},{"value":"TD","label":"Chad"},{"value":"CL","label":"Chile"},{"value":"CN","label":"China"},{"value":"CX","label":"Christmas Island"},{"value":"CC","label":"Cocos (Keeling) Islands"},{"value":"CO","label":"Colombia"},{"value":"KM","label":"Comoros"},{"value":"CG","label":"Congo"},{"value":"CD","label":"Congo, Democratic Republic of the"},{"value":"CK","label":"Cook Islands"},{"value":"CR","label":"Costa Rica"},{"value":"HR","label":"Croatia"},{"value":"CU","label":"Cuba"},{"value":"CW","label":"Curaçao"},{"value":"CY","label":"Cyprus"},{"value":"CZ","label":"Czechia"},{"value":"CI","label":"Côte d'Ivoire"},{"value":"DK","label":"Denmark"},{"value":"DJ","label":"Djibouti"},{"value":"DM","label":"Dominica"},{"value":"DO","label":"Dominican Republic"},{"value":"EC","label":"Ecuador"},{"value":"EG","label":"Egypt"},{"value":"SV","label":"El Salvador"},{"value":"GQ","label":"Equatorial Guinea"},{"value":"ER","label":"Eritrea"},{"value":"EE","label":"Estonia"},{"value":"SZ","label":"Eswatini"},{"value":"ET","label":"Ethiopia"},{"value":"FK","label":"Falkland Islands (Malvinas)"},{"value":"FO","label":"Faroe Islands"},{"value":"FJ","label":"Fiji"},{"value":"FI","label":"Finland"},{"value":"FR","label":"France"},{"value":"GF","label":"French Guiana"},{"value":"PF","label":"French Polynesia"},{"value":"TF","label":"French Southern Territories"},{"value":"GA","label":"Gabon"},{"value":"GM","label":"Gambia"},{"value":"GE","label":"Georgia"},{"value":"DE","label":"Germany"},{"value":"GH","label":"Ghana"},{"value":"GI","label":"Gibraltar"},{"value":"GR","label":"Greece"},{"value":"GL","label":"Greenland"},{"value":"GD","label":"Grenada"},{"value":"GP","label":"Guadeloupe"},{"value":"GU","label":"Guam"},{"value":"GT","label":"Guatemala"},{"value":"GG","label":"Guernsey"},{"value":"GN","label":"Guinea"},{"value":"GW","label":"Guinea-Bissau"},{"value":"GY","label":"Guyana"},{"value":"HT","label":"Haiti"},{"value":"HM","label":"Heard Island and McDonald Islands"},{"value":"VA","label":"Holy See"},{"value":"HN","label":"Honduras"},{"value":"HK","label":"Hong Kong"},{"value":"HU","label":"Hungary"},{"value":"IS","label":"Iceland"},{"value":"IN","label":"India"},{"value":"ID","label":"Indonesia"},{"value":"IR","label":"Iran, Islamic Republic of"},{"value":"IQ","label":"Iraq"},{"value":"IE","label":"Ireland"},{"value":"IM","label":"Isle of Man"},{"value":"IL","label":"Israel"},{"value":"IT","label":"Italy"},{"value":"JM","label":"Jamaica"},{"value":"JP","label":"Japan"},{"value":"JE","label":"Jersey"},{"value":"JO","label":"Jordan"},{"value":"KZ","label":"Kazakhstan"},{"value":"KE","label":"Kenya"},{"value":"KI","label":"Kiribati"},{"value":"KP","label":"Korea, Democratic People's Republic of"},{"value":"KR","label":"Korea, Republic of"},{"value":"KW","label":"Kuwait"},{"value":"KG","label":"Kyrgyzstan"},{"value":"LA","label":"Lao People's Democratic Republic"},{"value":"LV","label":"Latvia"},{"value":"LB","label":"Lebanon"},{"value":"LS","label":"Lesotho"},{"value":"LR","label":"Liberia"},{"value":"LY","label":"Libya"},{"value":"LI","label":"Liechtenstein"},{"value":"LT","label":"Lithuania"},{"value":"LU","label":"Luxembourg"},{"value":"MO","label":"Macao"},{"value":"MG","label":"Madagascar"},{"value":"MW","label":"Malawi"},{"value":"MY","label":"Malaysia"},{"value":"MV","label":"Maldives"},{"value":"ML","label":"Mali"},{"value":"MT","label":"Malta"},{"value":"MH","label":"Marshall Islands"},{"value":"MQ","label":"Martinique"},{"value":"MR","label":"Mauritania"},{"value":"MU","label":"Mauritius"},{"value":"YT","label":"Mayotte"},{"value":"MX","label":"Mexico"},{"value":"FM","label":"Micronesia, Federated States of"},{"value":"MD","label":"Moldova, Republic of"},{"value":"MC","label":"Monaco"},{"value":"MN","label":"Mongolia"},{"value":"ME","label":"Montenegro"},{"value":"MS","label":"Montserrat"},{"value":"MA","label":"Morocco"},{"value":"MZ","label":"Mozambique"},{"value":"MM","label":"Myanmar"},{"value":"NA","label":"Namibia"},{"value":"NR","label":"Nauru"},{"value":"NP","label":"Nepal"},{"value":"NL","label":"Netherlands"},{"value":"NC","label":"New Caledonia"},{"value":"NZ","label":"New Zealand"},{"value":"NI","label":"Nicaragua"},{"value":"NE","label":"Niger"},{"value":"NG","label":"Nigeria"},{"value":"NU","label":"Niue"},{"value":"NF","label":"Norfolk Island"},{"value":"MK","label":"North Macedonia"},{"value":"MP","label":"Northern Mariana Islands"},{"value":"NO","label":"Norway"},{"value":"OM","label":"Oman"},{"value":"PK","label":"Pakistan"},{"value":"PW","label":"Palau"},{"value":"PS","label":"Palestine, State of"},{"value":"PA","label":"Panama"},{"value":"PG","label":"Papua New Guinea"},{"value":"PY","label":"Paraguay"},{"value":"PE","label":"Peru"},{"value":"PH","label":"Philippines"},{"value":"PN","label":"Pitcairn"},{"value":"PL","label":"Poland"},{"value":"PT","label":"Portugal"},{"value":"PR","label":"Puerto Rico"},{"value":"QA","label":"Qatar"},{"value":"RO","label":"Romania"},{"value":"RU","label":"Russian Federation"},{"value":"RW","label":"Rwanda"},{"value":"RE","label":"Réunion"},{"value":"BL","label":"Saint Barthélemy"},{"value":"SH","label":"Saint Helena, Ascension and Tristan da Cunha"},{"value":"KN","label":"Saint Kitts and Nevis"},{"value":"LC","label":"Saint Lucia"},{"value":"MF","label":"Saint Martin (French part)"},{"value":"PM","label":"Saint Pierre and Miquelon"},{"value":"VC","label":"Saint Vincent and the Grenadines"},{"value":"WS","label":"Samoa"},{"value":"SM","label":"San Marino"},{"value":"ST","label":"Sao Tome and Principe"},{"value":"SA","label":"Saudi Arabia"},{"value":"SN","label":"Senegal"},{"value":"RS","label":"Serbia"},{"value":"SC","label":"Seychelles"},{"value":"SL","label":"Sierra Leone"},{"value":"SG","label":"Singapore"},{"value":"SX","label":"Sint Maarten (Dutch part)"},{"value":"SK","label":"Slovakia"},{"value":"SI","label":"Slovenia"},{"value":"SB","label":"Solomon Islands"},{"value":"SO","label":"Somalia"},{"value":"ZA","label":"South Africa"},{"value":"GS","label":"South Georgia and the South Sandwich Islands"},{"value":"SS","label":"South Sudan"},{"value":"ES","label":"Spain"},{"value":"LK","label":"Sri Lanka"},{"value":"SD","label":"Sudan"},{"value":"SR","label":"Suriname"},{"value":"SJ","label":"Svalbard and Jan Mayen"},{"value":"SE","label":"Sweden"},{"value":"CH","label":"Switzerland"},{"value":"SY","label":"Syrian Arab Republic"},{"value":"TW","label":"Taiwan, Province of China"},{"value":"TJ","label":"Tajikistan"},{"value":"TZ","label":"Tanzania, United Republic of"},{"value":"TH","label":"Thailand"},{"value":"TL","label":"Timor-Leste"},{"value":"TG","label":"Togo"},{"value":"TK","label":"Tokelau"},{"value":"TO","label":"Tonga"},{"value":"TT","label":"Trinidad and Tobago"},{"value":"TN","label":"Tunisia"},{"value":"TR","label":"Turkey"},{"value":"TM","label":"Turkmenistan"},{"value":"TC","label":"Turks and Caicos Islands"},{"value":"TV","label":"Tuvalu"},{"value":"UG","label":"Uganda"},{"value":"UA","label":"Ukraine"},{"value":"AE","label":"United Arab Emirates"},{"value":"GB","label":"United Kingdom"},{"value":"UM","label":"United States Minor Outlying Islands"},{"value":"US","label":"United States"},{"value":"UY","label":"Uruguay"},{"value":"UZ","label":"Uzbekistan"},{"value":"VU","label":"Vanuatu"},{"value":"VE","label":"Venezuela, Bolivarian Republic of"},{"value":"VN","label":"Viet Nam"},{"value":"VG","label":"Virgin Islands, British"},{"value":"VI","label":"Virgin Islands, U.S."},{"value":"WF","label":"Wallis and Futuna"},{"value":"EH","label":"Western Sahara"},{"value":"YE","label":"Yemen"},{"value":"ZM","label":"Zambia"},{"value":"ZW","label":"Zimbabwe"}]`),FX=JSON.parse(`[{"value":"AF","label":"افغانستان"},{"value":"AX","label":"Åland"},{"value":"AL","label":"Shqipëria"},{"value":"DZ","label":"الجزائر"},{"value":"AS","label":"American Samoa"},{"value":"AD","label":"Andorra"},{"value":"AO","label":"Angola"},{"value":"AI","label":"Anguilla"},{"value":"AQ","label":"Antarctica"},{"value":"AG","label":"Antigua and Barbuda"},{"value":"AR","label":"Argentina"},{"value":"AM","label":"Հայաստան"},{"value":"AW","label":"Aruba"},{"value":"AU","label":"Australia"},{"value":"AT","label":"Österreich"},{"value":"AZ","label":"Azərbaycan"},{"value":"BS","label":"Bahamas"},{"value":"BH","label":"‏البحرين"},{"value":"BD","label":"Bangladesh"},{"value":"BB","label":"Barbados"},{"value":"BY","label":"Белару́сь"},{"value":"BE","label":"België"},{"value":"BZ","label":"Belize"},{"value":"BJ","label":"Bénin"},{"value":"BM","label":"Bermuda"},{"value":"BT","label":"ʼbrug-yul"},{"value":"BO","label":"Bolivia"},{"value":"BQ","label":"Bonaire"},{"value":"BA","label":"Bosna i Hercegovina"},{"value":"BW","label":"Botswana"},{"value":"BV","label":"Bouvetøya"},{"value":"BR","label":"Brasil"},{"value":"IO","label":"British Indian Ocean Territory"},{"value":"BN","label":"Negara Brunei Darussalam"},{"value":"BG","label":"България"},{"value":"BF","label":"Burkina Faso"},{"value":"BI","label":"Burundi"},{"value":"KH","label":"Kâmpŭchéa"},{"value":"CM","label":"Cameroon"},{"value":"CA","label":"Canada"},{"value":"CV","label":"Cabo Verde"},{"value":"KY","label":"Cayman Islands"},{"value":"CF","label":"Ködörösêse tî Bêafrîka"},{"value":"TD","label":"Tchad"},{"value":"CL","label":"Chile"},{"value":"CN","label":"中国"},{"value":"CX","label":"Christmas Island"},{"value":"CC","label":"Cocos (Keeling) Islands"},{"value":"CO","label":"Colombia"},{"value":"KM","label":"Komori"},{"value":"CG","label":"République du Congo"},{"value":"CD","label":"République démocratique du Congo"},{"value":"CK","label":"Cook Islands"},{"value":"CR","label":"Costa Rica"},{"value":"CI","label":"Côte d'Ivoire"},{"value":"HR","label":"Hrvatska"},{"value":"CU","label":"Cuba"},{"value":"CW","label":"Curaçao"},{"value":"CY","label":"Κύπρος"},{"value":"CZ","label":"Česká republika"},{"value":"DK","label":"Danmark"},{"value":"DJ","label":"Djibouti"},{"value":"DM","label":"Dominica"},{"value":"DO","label":"República Dominicana"},{"value":"EC","label":"Ecuador"},{"value":"EG","label":"مصر‎"},{"value":"SV","label":"El Salvador"},{"value":"GQ","label":"Guinea Ecuatorial"},{"value":"ER","label":"ኤርትራ"},{"value":"EE","label":"Eesti"},{"value":"ET","label":"ኢትዮጵያ"},{"value":"FK","label":"Falkland Islands"},{"value":"FO","label":"Føroyar"},{"value":"FJ","label":"Fiji"},{"value":"FI","label":"Suomi"},{"value":"FR","label":"France"},{"value":"GF","label":"Guyane française"},{"value":"PF","label":"Polynésie française"},{"value":"TF","label":"Territoire des Terres australes et antarctiques fr"},{"value":"GA","label":"Gabon"},{"value":"GM","label":"Gambia"},{"value":"GE","label":"საქართველო"},{"value":"DE","label":"Deutschland"},{"value":"GH","label":"Ghana"},{"value":"GI","label":"Gibraltar"},{"value":"GR","label":"Ελλάδα"},{"value":"GL","label":"Kalaallit Nunaat"},{"value":"GD","label":"Grenada"},{"value":"GP","label":"Guadeloupe"},{"value":"GU","label":"Guam"},{"value":"GT","label":"Guatemala"},{"value":"GG","label":"Guernsey"},{"value":"GN","label":"Guinée"},{"value":"GW","label":"Guiné-Bissau"},{"value":"GY","label":"Guyana"},{"value":"HT","label":"Haïti"},{"value":"HM","label":"Heard Island and McDonald Islands"},{"value":"VA","label":"Vaticano"},{"value":"HN","label":"Honduras"},{"value":"HK","label":"香港"},{"value":"HU","label":"Magyarország"},{"value":"IS","label":"Ísland"},{"value":"IN","label":"भारत"},{"value":"ID","label":"Indonesia"},{"value":"IR","label":"ایران"},{"value":"IQ","label":"العراق"},{"value":"IE","label":"Éire"},{"value":"IM","label":"Isle of Man"},{"value":"IL","label":"יִשְׂרָאֵל"},{"value":"IT","label":"Italia"},{"value":"JM","label":"Jamaica"},{"value":"JP","label":"日本"},{"value":"JE","label":"Jersey"},{"value":"JO","label":"الأردن"},{"value":"KZ","label":"Қазақстан"},{"value":"KE","label":"Kenya"},{"value":"KI","label":"Kiribati"},{"value":"KP","label":"북한"},{"value":"KR","label":"대한민국"},{"value":"KW","label":"الكويت"},{"value":"KG","label":"Кыргызстан"},{"value":"LA","label":"ສປປລາວ"},{"value":"LV","label":"Latvija"},{"value":"LB","label":"لبنان"},{"value":"LS","label":"Lesotho"},{"value":"LR","label":"Liberia"},{"value":"LY","label":"‏ليبيا"},{"value":"LI","label":"Liechtenstein"},{"value":"LT","label":"Lietuva"},{"value":"LU","label":"Luxembourg"},{"value":"MO","label":"澳門"},{"value":"MK","label":"Северна Македонија"},{"value":"MG","label":"Madagasikara"},{"value":"MW","label":"Malawi"},{"value":"MY","label":"Malaysia"},{"value":"MV","label":"Maldives"},{"value":"ML","label":"Mali"},{"value":"MT","label":"Malta"},{"value":"MH","label":"M̧ajeļ"},{"value":"MQ","label":"Martinique"},{"value":"MR","label":"موريتانيا"},{"value":"MU","label":"Maurice"},{"value":"YT","label":"Mayotte"},{"value":"MX","label":"México"},{"value":"FM","label":"Micronesia"},{"value":"MD","label":"Moldova"},{"value":"MC","label":"Monaco"},{"value":"MN","label":"Монгол улс"},{"value":"ME","label":"Црна Гора"},{"value":"MS","label":"Montserrat"},{"value":"MA","label":"المغرب"},{"value":"MZ","label":"Moçambique"},{"value":"MM","label":"မြန်မာ"},{"value":"NA","label":"Namibia"},{"value":"NR","label":"Nauru"},{"value":"NP","label":"नपल"},{"value":"NL","label":"Nederland"},{"value":"NC","label":"Nouvelle-Calédonie"},{"value":"NZ","label":"New Zealand"},{"value":"NI","label":"Nicaragua"},{"value":"NE","label":"Niger"},{"value":"NG","label":"Nigeria"},{"value":"NU","label":"Niuē"},{"value":"NF","label":"Norfolk Island"},{"value":"MP","label":"Northern Mariana Islands"},{"value":"NO","label":"Norge"},{"value":"OM","label":"عمان"},{"value":"PK","label":"Pakistan"},{"value":"PW","label":"Palau"},{"value":"PS","label":"فلسطين"},{"value":"PA","label":"Panamá"},{"value":"PG","label":"Papua Niugini"},{"value":"PY","label":"Paraguay"},{"value":"PE","label":"Perú"},{"value":"PH","label":"Pilipinas"},{"value":"PN","label":"Pitcairn Islands"},{"value":"PL","label":"Polska"},{"value":"PT","label":"Portugal"},{"value":"PR","label":"Puerto Rico"},{"value":"QA","label":"قطر"},{"value":"RE","label":"La Réunion"},{"value":"RO","label":"România"},{"value":"RU","label":"Россия"},{"value":"RW","label":"Rwanda"},{"value":"BL","label":"Saint-Barthélemy"},{"value":"SH","label":"Saint Helena"},{"value":"KN","label":"Saint Kitts and Nevis"},{"value":"LC","label":"Saint Lucia"},{"value":"MF","label":"Saint-Martin"},{"value":"PM","label":"Saint-Pierre-et-Miquelon"},{"value":"VC","label":"Saint Vincent and the Grenadines"},{"value":"WS","label":"Samoa"},{"value":"SM","label":"San Marino"},{"value":"ST","label":"São Tomé e Príncipe"},{"value":"SA","label":"العربية السعودية"},{"value":"SN","label":"Sénégal"},{"value":"RS","label":"Србија"},{"value":"SC","label":"Seychelles"},{"value":"SL","label":"Sierra Leone"},{"value":"SG","label":"Singapore"},{"value":"SX","label":"Sint Maarten"},{"value":"SK","label":"Slovensko"},{"value":"SI","label":"Slovenija"},{"value":"SB","label":"Solomon Islands"},{"value":"SO","label":"Soomaaliya"},{"value":"ZA","label":"South Africa"},{"value":"GS","label":"South Georgia"},{"value":"SS","label":"South Sudan"},{"value":"ES","label":"España"},{"value":"LK","label":"śrī laṃkāva"},{"value":"SD","label":"السودان"},{"value":"SR","label":"Suriname"},{"value":"SJ","label":"Svalbard og Jan Mayen"},{"value":"SZ","label":"Swaziland"},{"value":"SE","label":"Sverige"},{"value":"CH","label":"Schweiz"},{"value":"SY","label":"سوريا"},{"value":"TW","label":"臺灣"},{"value":"TJ","label":"Тоҷикистон"},{"value":"TZ","label":"Tanzania"},{"value":"TH","label":"ประเทศไทย"},{"value":"TL","label":"Timor-Leste"},{"value":"TG","label":"Togo"},{"value":"TK","label":"Tokelau"},{"value":"TO","label":"Tonga"},{"value":"TT","label":"Trinidad and Tobago"},{"value":"TN","label":"تونس"},{"value":"TR","label":"Türkiye"},{"value":"TM","label":"Türkmenistan"},{"value":"TC","label":"Turks and Caicos Islands"},{"value":"TV","label":"Tuvalu"},{"value":"UG","label":"Uganda"},{"value":"UA","label":"Україна"},{"value":"AE","label":"دولة الإمارات العربية المتحدة"},{"value":"GB","label":"United Kingdom"},{"value":"US","label":"United States"},{"value":"UM","label":"United States Minor Outlying Islands"},{"value":"UY","label":"Uruguay"},{"value":"UZ","label":"O‘zbekiston"},{"value":"VU","label":"Vanuatu"},{"value":"VE","label":"Venezuela"},{"value":"VN","label":"Việt Nam"},{"value":"VG","label":"British Virgin Islands"},{"value":"VI","label":"United States Virgin Islands"},{"value":"WF","label":"Wallis et Futuna"},{"value":"EH","label":"الصحراء الغربية"},{"value":"YE","label":"اليَمَن"},{"value":"ZM","label":"Zambia"},{"value":"ZW","label":"Zimbabwe"}]`);var L0,dR;function HX(){if(dR)return L0;dR=1;class t{constructor(){this.data=BX,this.labelMap={},this.valueMap={},this.data.forEach(r=>{this.labelMap[r.label.toLowerCase()]=r.value,this.valueMap[r.value.toLowerCase()]=r.label})}getValue(r){return this.labelMap[r.toLowerCase()]}getLabel(r){return this.valueMap[r.toLowerCase()]}getLabels(){return this.data.map(r=>r.label)}getValues(){return this.data.map(r=>r.value)}getLabelList(){return this.labelMap}getValueList(){return this.valueMap}getData(){return this.data}setLabel(r,i){return this.data.forEach(o=>{o.value===r&&(o.label=i,this.valueMap[o.value.toLowerCase()]=o.label)}),this}setEmpty(r){return this.data.unshift({value:"",label:r}),this.valueMap[""]=r,this.labelMap[r]="",this}native(){return this.nativeData=FX,this.nativeData.forEach(r=>{this.labelMap[r.label.toLowerCase()]=r.value,this.valueMap[r.value.toLowerCase()]=r.label}),this}}return L0=()=>{if(!(this instanceof t))return new t},L0}var $X=HX();const ox=Xp($X),hs=[{id:"gardening",label:"Gardening Tools",img:"https://images.unsplash.com/photo-1598670207032-cc9236c34d08?auto=format&fit=crop&w=400"},{id:"crochet",label:"Crochet Fashion",img:"https://images.unsplash.com/photo-1599736762058-8eea1774fd5a?auto=format&fit=crop&w=400"},{id:"womens",label:"Women's Clothing",img:"https://images.unsplash.com/photo-1552374196-c4e7ffc6e126?auto=format&fit=crop&w=400"},{id:"mens",label:"Men's Clothing",img:"https://images.unsplash.com/photo-1512436991641-6745cdb1723f?auto=format&fit=crop&w=400"},{id:"hiking",label:"Hiking Gear",img:"https://images.unsplash.com/photo-1542317854-8aa9083bbc24?auto=format&fit=crop&w=400"},{id:"smart_home",label:"Smart Home",img:"https://images.unsplash.com/photo-1600585154340-be6161a56a0c?auto=format&fit=crop&w=400"},{id:"pet",label:"Pet Supplies",img:"https://images.unsplash.com/photo-1560807707-8cc77767d783?auto=format&fit=crop&w=400"},{id:"art_supplies",label:"Art Supplies",img:"https://images.unsplash.com/photo-1523978591478-c753949ff840?auto=format&fit=crop&w=400"},{id:"gaming",label:"Indie Gaming",img:"https://images.unsplash.com/photo-1585079543471-bbacd6e8b468?auto=format&fit=crop&w=400"},{id:"eco",label:"Eco Products",img:"https://images.unsplash.com/photo-1501004318641-b39e6451bec6?auto=format&fit=crop&w=400"},{id:"photography",label:"Photography",img:"https://images.unsplash.com/photo-1499084732479-de2c02d45fc4?auto=format&fit=crop&w=400"},{id:"yoga",label:"Yoga & Wellness",img:"https://images.unsplash.com/photo-1540213292854-43eeb5ddd3f0?auto=format&fit=crop&w=400"},{id:"cooking",label:"Cooking",img:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=400"},{id:"baking",label:"Baking",img:"https://images.unsplash.com/photo-1511690743698-d9d85f2fbf38?auto=format&fit=crop&w=400"},{id:"travel",label:"Travel",img:"https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=400"},{id:"fitness",label:"Fitness",img:"https://images.unsplash.com/photo-1554284126-aa88f22d8f70?auto=format&fit=crop&w=400"},{id:"cycling",label:"Cycling",img:"https://images.unsplash.com/photo-1520975928730-3ccadf0ecdad?auto=format&fit=crop&w=400"},{id:"running",label:"Running",img:"https://images.unsplash.com/photo-1508606572321-901ea4437077?auto=format&fit=crop&w=400"},{id:"camping",label:"Camping",img:"https://images.unsplash.com/photo-1502874757204-7c3b4b6706c6?auto=format&fit=crop&w=400"},{id:"music",label:"Music",img:"https://images.unsplash.com/photo-1511671782779-c97d3d27a1d4?auto=format&fit=crop&w=400"},{id:"movies",label:"Movies",img:"https://images.unsplash.com/photo-1524985069026-dd778a71c7b4?auto=format&fit=crop&w=400"},{id:"books",label:"Books",img:"https://images.unsplash.com/photo-1512820790803-83ca734da794?auto=format&fit=crop&w=400"},{id:"tech",label:"Tech Gadgets",img:"https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=400"},{id:"gaming_pc",label:"PC Gaming",img:"https://images.unsplash.com/photo-1587202372775-1e5f86b142a6?auto=format&fit=crop&w=400"},{id:"board_games",label:"Board Games",img:"https://images.unsplash.com/photo-1518684079-efe9a892b0ca?auto=format&fit=crop&w=400"},{id:"skincare",label:"Skincare",img:"https://images.unsplash.com/photo-1542831371-29b0f74f9713?auto=format&fit=crop&w=400"},{id:"makeup",label:"Makeup",img:"https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?auto=format&fit=crop&w=400"},{id:"jewelry",label:"Jewelry",img:"https://images.unsplash.com/photo-1522312346375-d1a52e2b99b3?auto=format&fit=crop&w=400"},{id:"watches",label:"Watches",img:"https://images.unsplash.com/photo-1518447694973-9dfb4b4fd477?auto=format&fit=crop&w=400"},{id:"coffee",label:"Coffee",img:"https://images.unsplash.com/photo-1509042239860-f550ce710b93?auto=format&fit=crop&w=400"},{id:"tea",label:"Tea",img:"https://images.unsplash.com/photo-1509042239860-f550ce710b93?auto=format&fit=crop&w=400"},{id:"wine",label:"Wine",img:"https://images.unsplash.com/photo-1510626176961-4b587103a3fb?auto=format&fit=crop&w=400"},{id:"beer",label:"Craft Beer",img:"https://images.unsplash.com/photo-1504123010108-59da3b3c7f33?auto=format&fit=crop&w=400"},{id:"fitness_tracker",label:"Wearables",img:"https://images.unsplash.com/photo-1579389083078-889ff329f64c?auto=format&fit=crop&w=400"},{id:"podcasting",label:"Podcasting",img:"https://images.unsplash.com/photo-1517677208171-0bc6725a3e60?auto=format&fit=crop&w=400"},{id:"gardening_flowers",label:"Flower Gardening",img:"https://images.unsplash.com/photo-1490845178177-8e1a6125b208?auto=format&fit=crop&w=400"},{id:"landscaping",label:"Landscaping",img:"https://images.unsplash.com/photo-1501004318641-b39e6451bec6?auto=format&fit=crop&w=400"},{id:"woodworking",label:"Woodworking",img:"https://images.unsplash.com/photo-1509021436665-8f07dbf5bf1d?auto=format&fit=crop&w=400"},{id:"diy",label:"DIY Projects",img:"https://images.unsplash.com/photo-1528756514091-dee94aca7121?auto=format&fit=crop&w=400"},{id:"coding",label:"Coding",img:"https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=400"},{id:"robotics",label:"Robotics",img:"https://images.unsplash.com/photo-1542751110-97427bbecf20?auto=format&fit=crop&w=400"},{id:"cryptocurrency",label:"Cryptocurrency",img:"https://images.unsplash.com/photo-1541731381301-512bc588bea7?auto=format&fit=crop&w=400"},{id:"investing",label:"Investing",img:"https://images.unsplash.com/photo-1554224154-22dec7ec8818?auto=format&fit=crop&w=400"},{id:"cars",label:"Cars",img:"https://images.unsplash.com/photo-1517949908111-96b77d5005b2?auto=format&fit=crop&w=400"},{id:"motorcycles",label:"Motorcycles",img:"https://images.unsplash.com/photo-1512436991641-6745cdb1723f?auto=format&fit=crop&w=400"},{id:"boats",label:"Boating",img:"https://images.unsplash.com/photo-1507537297725-24a1c029d3ca?auto=format&fit=crop&w=400"},{id:"fitness_classes",label:"Group Fitness",img:"https://images.unsplash.com/photo-1571019614076-7cd7282917d3?auto=format&fit=crop&w=400"},{id:"design",label:"Graphic Design",img:"https://images.unsplash.com/photo-1504384308090-c894fdcc538d?auto=format&fit=crop&w=400"},{id:"illustration",label:"Illustration",img:"https://images.unsplash.com/photo-1517694712202-14dd9538aa97?auto=format&fit=crop&w=400"},{id:"mindfulness",label:"Mindfulness",img:"https://images.unsplash.com/photo-1501080612430-3f04532c0d69?auto=format&fit=crop&w=400"},{id:"journaling",label:"Journaling",img:"https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?auto=format&fit=crop&w=400"},{id:"parenting",label:"Parenting",img:"https://images.unsplash.com/photo-1519791883280-8e4bce8f3b55?auto=format&fit=crop&w=400"},{id:"language_learning",label:"Language Learning",img:"https://images.unsplash.com/photo-1529070538774-1843cb3265df?auto=format&fit=crop&w=400"},{id:"education",label:"Education",img:"https://images.unsplash.com/photo-1556740749-887f6717d7e4?auto=format&fit=crop&w=400"},{id:"environment",label:"Environmentalism",img:"https://images.unsplash.com/photo-1501004318641-b39e6451bec6?auto=format&fit=crop&w=400"},{id:"charity",label:"Charity",img:"https://images.unsplash.com/photo-1528747045269-390fe33c19a5?auto=format&fit=crop&w=400"},{id:"volunteering",label:"Volunteering",img:"https://images.unsplash.com/photo-1496386478603-3046d061fdd3?auto=format&fit=crop&w=400"},{id:"pets_dogs",label:"Dogs",img:"https://images.unsplash.com/photo-1518717758536-85ae29035b6d?auto=format&fit=crop&w=400"},{id:"pets_cats",label:"Cats",img:"https://images.unsplash.com/photo-1518791841217-8f162f1e1131?auto=format&fit=crop&w=400"}],lx=[{label:"English",value:"en"},{label:"Español",value:"es"},{label:"Français",value:"fr"}];function qX({onClick:t}){return m.jsxs(ge.button,{whileTap:{scale:.9},onClick:t,className:"flex items-center gap-1 text-sm opacity-80 hover:opacity-100 mb-4 cursor-pointer transition-all duration-300",children:[m.jsx(Lh,{size:18})," Back"]})}function A_(){const t=UG();return A.useEffect(()=>{t.start({opacity:1})},[t]),m.jsx(ge.div,{className:"w-8 h-8 border-6 border-primary border-t-transparent rounded-full animate-spin","aria-label":"Loading",role:"status",initial:{opacity:0},animate:t,transition:{duration:.4,ease:"easeOut"}})}const GX=t=>{const e=["bg-[#4B3B2A]","bg-[#6F4E37]","bg-[#A68A64]","bg-[#8C6E54]","bg-[#7C5C45]","bg-[#D1BFA3]","bg-[#A89F91]","bg-[#C2B280]","bg-[#5E503F]","bg-[#3B3228]","bg-[#556B2F]","bg-[#4B5320]","bg-[#2E4E3F]","bg-[#3C5A4C]","bg-[#6A6051]","bg-[#746C57]","bg-[#91876E]","bg-[#5C544E]"];let n=0;for(let i=0;i<t.length;i++)n=t.charCodeAt(i)+((n<<5)-n);const r=Math.abs(n)%e.length;return e[r]},ux=t=>t?t.toUpperCase().replace(/./g,e=>String.fromCodePoint(127397+e.charCodeAt(0))):"",ea=t=>/^[a-zA-Z0-9_]+$/.test(t),C_=async(t,e)=>{try{const n=xt(Ve,"users"),r=cn(n,Zt("username","==",t)),i=await ln(r);return e?i.docs.some(o=>o.id!==e):!i.empty}catch(n){return console.error("Error checking username existence:",n),!1}},R_=async t=>{try{const{doc:e,getDoc:n}=await Iw(async()=>{const{doc:i,getDoc:o}=await Promise.resolve().then(()=>YU);return{doc:i,getDoc:o}},void 0),r=await n(e(Ve,"users",t));return r.exists()?r.data():null}catch(e){return console.error("Error fetching user data:",e),null}},JD=async t=>{try{const e=cn(xt(Ve,"users"),Zt("username","==",t)),n=await ln(e);if(!n.empty){const r=n.docs[0];return{uid:r.id,...r.data()}}return null}catch(e){return console.error("Error fetching user by username:",e),null}},N_=async t=>{try{const e=cn(xt(Ve,"trades"),Zt("uid","==",t));return(await ln(e)).docs.map(r=>({id:r.id,...r.data()})).filter(r=>r.isAvailable!==!1)}catch(e){return console.error("Error fetching user trades:",e),[]}},I_=async t=>{try{const e=cn(xt(Ve,"users",t,"saves")),r=(await ln(e)).docs.map(l=>l.id);if(r.length===0)return[];const i=cn(xt(Ve,"posts"),Zt("__name__","in",r));return(await ln(i)).docs.map(l=>({id:l.id,...l.data()}))}catch(e){return console.error("Error fetching saved posts:",e),[]}},ej=Object.freeze(Object.defineProperty({__proto__:null,checkUsernameExists:C_,fetchSavedPosts:I_,fetchUserByUsername:JD,fetchUserData:R_,fetchUserTrades:N_},Symbol.toStringTag,{value:"Module"})),yd="bg-primary text-primary-foreground hover:bg-primary/80 cursor-pointer transition-all duration-200 active:scale-95 uppercase tracking-widest font-bold disabled:opacity-40 disabled:cursor-not-allowed py-3 sm:py-2 text-base sm:text-sm",bd="rounded-md bg-muted px-3 py-3 sm:py-2 text-base sm:text-base outline-none focus:ring-2 ring-primary/80 transition-all duration-200 w-full",xd={initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}},hR={control:t=>({...t,background:"#1b1b1b",border:"none",minHeight:"2.6rem",cursor:"pointer"}),singleValue:t=>({...t,color:"#fff"}),input:t=>({...t,color:"#fff"}),placeholder:t=>({...t,color:"#888"}),menu:t=>({...t,background:"#1b1b1b"}),option:(t,e)=>({...t,background:e.isFocused?"#2a2a2a":"#1b1b1b",color:"#fff",cursor:"pointer"}),indicatorSeparator:()=>({display:"none"})},fR=t=>m.jsx(qg.DropdownIndicator,{...t,children:m.jsx(Vh,{size:18,className:"text-muted-foreground"})}),KX=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,WX=t=>KX.test(t),YX=t=>/^(?=.*[A-Z])(?=.*\d)(?=.*[^A-Za-z0-9]).{8,}$/.test(t);function mR(){const t=vr(),[e,n]=A.useState("email"),[r,i]=A.useState(""),[o,l]=A.useState(""),[c,d]=A.useState(""),[f,p]=A.useState(null),[y,x]=A.useState(null),[E,N]=A.useState(""),[P,V]=A.useState(new Set),[D,B]=A.useState(""),[F,Y]=A.useState(!1),[M,O]=A.useState(null),C=WX(r),I=o.trim().length>1&&c.trim().length>2&&ea(c)&&f&&y,R=P.size>0,T=YX(D),{user:U,pending:$}=Ar(),j=async()=>{if(!C)return O("Please enter a valid email address");try{const J=await MV(Di,r),W=J.length>0;console.log("Email check result:",{email:r,isExisting:W,methods:J}),Y(W),n(W?"verify":"basic")}catch{O("Failed to check email. Please try again later.")}},G=async()=>{if(!I)return!o.trim()||!c.trim()||!f||!y||ea(c)?O("Fill out all required fields"):O("Username can only contain letters, numbers, and underscores");if(await C_(c)){O("Username already exists. Please choose a different one.");return}n("interests")},Z=()=>{if(!R)return O("Select at least one interest");n("verify")},H=async()=>{if(!T)return O("Password must be at least 8 characters, include one uppercase, one number, and one special character");try{if(F)await NV(Di,r,D);else{const J=await RV(Di,r,D);await jN(J.user,{displayName:o}),await ml(Jt(Ve,"users",J.user.uid),{displayName:o,username:c,avatar:J.user.photoURL||"",country:f?.value||"",language:y?.value||"",interests:Array.from(P)})}t("/dashboard")}catch{O("Authentication failed. Please check your credentials.")}},S=()=>{t("/dashboard")};return m.jsxs("div",{className:"mx-auto w-full max-w-sm px-4 py-8 sm:px-6 sm:py-12 text-center",children:[m.jsx(ge.img,{src:"/icon.png",alt:"logo",className:"w-20 h-20 sm:w-24 sm:h-24 mx-auto mb-4 sm:mb-6",initial:{y:-10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,ease:"backOut"}}),$?m.jsx("div",{className:"flex justify-center items-center h-24",children:m.jsx(A_,{})}):U?m.jsxs(ge.div,{...xd,className:"mt-4",children:[m.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-extrabold mb-2 text-white",children:"Welcome"}),m.jsxs("p",{className:"text-sm sm:text-base mb-6 text-white/70",children:["Continue to your ",m.jsx("span",{className:"text-primary",children:"dashboard"}),"."]}),m.jsx(ge.button,{whileTap:{scale:.97},onClick:S,className:`w-full rounded-md py-2 ${yd}`,children:"Go to Dashboard"})]}):m.jsxs(m.Fragment,{children:[M&&m.jsx("div",{className:"bg-red-500/20 text-destructive text-sm sm:text-base rounded-md px-3 py-2 mb-4",role:"alert",children:M}),e!=="email"&&m.jsx(qX,{onClick:()=>{e==="basic"?n("email"):e==="interests"?n("basic"):e==="verify"&&n(F?"email":"interests")}}),m.jsxs(fn,{mode:"wait",children:[e==="email"&&m.jsxs(ge.div,{...xd,children:[m.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-extrabold mb-2 text-white",children:"Welcome"}),m.jsxs("p",{className:"text-sm sm:text-base mb-6 text-white/70",children:["Enter your ",m.jsx("span",{className:"text-primary",children:"email"})," to continue."]}),m.jsx("label",{className:"block text-sm sm:text-base text-left mb-1",children:"Email"}),m.jsxs("div",{className:"relative",children:[m.jsx(wO,{className:"absolute left-3 top-1/2 -translate-y-1/2 opacity-50",size:18}),m.jsx("input",{type:"email",value:r,onChange:J=>{i(J.target.value),O(null)},className:`pl-10 w-full ${bd}`,placeholder:"you@example.com"})]}),m.jsx(ge.button,{onClick:j,className:`mt-6 w-full rounded-md py-2 ${yd}`,disabled:!C,children:"Continue"})]},"email"),e==="basic"&&m.jsxs(ge.div,{...xd,children:[m.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-extrabold mb-2 text-white",children:"Basic Info"}),m.jsxs("p",{className:"text-sm sm:text-base mb-6 text-white/70",children:["Let us get to ",m.jsx("span",{className:"text-primary",children:"know"})," you better."]}),m.jsx("label",{className:"block text-sm sm:text-base text-left mb-1",children:"Name"}),m.jsx("input",{value:o,onChange:J=>{l(J.target.value),O(null)},placeholder:"John Doe",className:`w-full mb-3 ${bd}`}),m.jsx("label",{className:"block text-sm sm:text-base text-left mb-1",children:"Username"}),m.jsx("input",{value:c,onChange:J=>{d(J.target.value),O(null)},placeholder:"johndoe123",className:`w-full mb-3 ${bd} ${c&&!ea(c)?"border-red-500 focus:border-red-500":c&&ea(c)?"border-green-500 focus:border-green-500":""}`}),c&&!ea(c)&&m.jsx("p",{className:"text-red-500 text-xs mb-3",children:"Username can only contain letters, numbers, and underscores"}),!c&&m.jsx("p",{className:"text-neutral-400 text-xs mb-3",children:"Only letters, numbers, and underscores allowed"}),m.jsx("label",{className:"block text-sm sm:text-base text-left mb-1",children:"Country"}),m.jsx(mh,{instanceId:"country",options:ox().getData(),value:f,onChange:J=>{p(J),O(null)},placeholder:"Select country",styles:hR,components:{DropdownIndicator:fR},className:"mb-3 text-left w-full",menuShouldScrollIntoView:!1}),m.jsx("label",{className:"block text-sm sm:text-base text-left mb-1",children:"Language"}),m.jsx(mh,{instanceId:"language",options:lx,value:y,onChange:J=>{x(J),O(null)},placeholder:"Select language",styles:hR,components:{DropdownIndicator:fR},className:"mb-3 text-left w-full"}),m.jsx(ge.button,{onClick:G,className:`mt-8 w-full rounded-md py-2 ${yd}`,disabled:!I,children:"Continue"})]},"basic"),e==="interests"&&m.jsxs(ge.div,{...xd,children:[m.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-extrabold mb-2 text-white",children:"Interests"}),m.jsxs("p",{className:"text-sm sm:text-base mb-6 text-white/70",children:["These help us"," ",m.jsx("span",{className:"text-primary",children:"personalize"})," your experience."]}),m.jsx("input",{type:"text",placeholder:"Search",value:E,onChange:J=>N(J.target.value),className:`w-full mb-4 ${bd}`}),m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 sm:gap-4 max-h-64 sm:max-h-72 overflow-y-auto pr-1",children:hs.filter(({label:J})=>J.toLowerCase().includes(E.toLowerCase())).map(({id:J,label:W,img:w})=>{const z=P.has(J);return m.jsxs("div",{onClick:()=>{V(X=>{const Q=new Set(X);return Q.has(J)?Q.delete(J):Q.add(J),Q}),O(null)},className:`relative cursor-pointer rounded-xl overflow-hidden border-2 ${z?"border-primary":"border-transparent"}`,children:[m.jsx("img",{src:w,alt:W,className:"w-full h-16 sm:h-20 md:h-24 object-cover"}),z&&m.jsx("div",{className:"absolute top-1 right-1 bg-primary p-1 rounded-full",children:m.jsx(Ow,{size:14,className:"text-white"})}),m.jsx("p",{className:"text-xs sm:text-sm mt-1 sm:mt-2 px-1 pb-2 truncate",children:W})]},J)})}),m.jsx(ge.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Z,className:`w-full rounded-md py-2 mt-6 ${yd}`,disabled:!R,children:"Continue"})]},"interests"),e==="verify"&&m.jsxs(ge.div,{...xd,children:[m.jsxs("h2",{className:"text-xl sm:text-2xl md:text-3xl font-extrabold mb-2 text-white",children:[" ",F?"Enter Password":"Create Password"]}),m.jsx("p",{className:"text-sm sm:text-base mb-6 text-white/70",children:F?"Welcome back, please enter your password.":"Create a strong password to finish signing up."}),m.jsx("label",{className:"block text-sm sm:text-base text-left mb-1",children:"Password"}),m.jsx("input",{type:"password",value:D,onChange:J=>{B(J.target.value),O(null)},className:`w-full mb-4 ${bd}`,placeholder:"••••••••"}),m.jsx(ge.button,{whileTap:{scale:.97},onClick:H,className:`w-full rounded-md py-2 ${yd}`,disabled:!D,children:"Continue"}),F&&m.jsx(ge.button,{whileTap:{scale:.97},onClick:()=>{console.log("Reset password button clicked"),t("/reset-password")},className:"w-full mt-3 text-sm text-primary hover:text-primary/80 transition-colors cursor-pointer py-2 px-4 rounded-md hover:bg-primary/10 border border-primary/20",children:"Forgot your password?"})]},"verify")]})]})]})}const pR={initial:{opacity:0,y:40},animate:{opacity:1,y:0,transition:{duration:.5,ease:Dp,staggerChildren:.15,delayChildren:.2}},exit:{opacity:0,y:-20,transition:{duration:.4,ease:Dp}}},Mm={initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.4,ease:Pp}}};function XX(){const[t,e]=Ug();return m.jsxs(ge.div,{className:"flex flex-col md:flex-row justify-center h-screen overflow-hidden",variants:pR,initial:"initial",animate:"animate",exit:"exit",children:[m.jsxs(ge.div,{className:"w-full md:w-1/2 px-6 py-8 md:p-20 flex flex-col min-h-screen justify-start md:justify-between text-center md:text-left space-y-6 md:space-y-8",variants:pR,children:[m.jsx(ge.h1,{className:"text-5xl md:text-7xl xl:text-8xl font-semibold leading-tight",variants:Mm,children:"Welcome to Mangrov"}),m.jsxs(ge.p,{className:"text-base sm:text-lg md:text-3xl xl:text-4xl leading-relaxed text-neutral-300",variants:Mm,children:["A"," ",m.jsx("span",{className:"text-primary font-semibold",children:"shopping experience"})," ","designed by meaningful, raw,"," ",m.jsx("span",{className:"text-primary font-semibold",children:"human experiences"}),"."]}),m.jsx(ge.div,{className:"block md:hidden mt-4",variants:Mm,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.4,ease:Pp},children:m.jsx(mR,{})}),m.jsx(ge.div,{variants:Mm,className:"self-center md:self-start",children:m.jsx(YG,{})})]}),m.jsx(ge.div,{className:"hidden md:flex w-full md:w-1/2 items-center justify-center p-6 md:p-0",initial:{opacity:0,x:40},animate:{opacity:1,x:0},transition:{delay:.8,duration:.5,ease:Pp},children:m.jsx(mR,{})}),m.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:m.jsx($h,{start:{x:-200,y:e*3/4},end:{x:(t+400)/2,y:-300},speed:12,className:"absolute bottom-0 left-0 w-full h-screen",imgHeightTW:"h-32 sm:h-40 md:h-44",imgWidthTW:"w-44 sm:w-52 md:w-56"})})]})}function kr({children:t,className:e=""}){return m.jsx(ge.div,{className:e,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.35,ease:"easeInOut"},children:t})}function QX(){const t=vr(),[e,n]=A.useState(window.innerWidth),[r,i]=A.useState(!1),{scrollYProgress:o}=OG(),l=Au(o,[0,1],[0,-200]);return A.useEffect(()=>{const c=()=>n(window.innerWidth);return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]),A.useEffect(()=>{const c=()=>{i(window.scrollY>500)};return window.addEventListener("scroll",c),()=>window.removeEventListener("scroll",c)},[]),A.useEffect(()=>(document.body.classList.add("allow-scroll"),()=>{document.body.classList.remove("allow-scroll")}),[]),m.jsxs(kr,{className:"min-h-screen bg-neutral-950 overflow-hidden",children:[m.jsxs("section",{className:"relative h-screen flex items-center justify-center",children:[m.jsx(ge.div,{style:{y:l},className:"absolute inset-0",children:m.jsx($h,{start:{x:-200,y:200},end:{x:e+200,y:200},speed:25,className:"opacity-15"})}),m.jsx("div",{className:"relative z-10 text-center px-4 max-w-4xl mx-auto",children:m.jsxs(ge.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},children:[m.jsxs("div",{className:"flex items-center justify-center mb-6",children:[m.jsx("img",{src:"/icon.png",alt:"Mangrov Logo",className:"w-12 h-12 mr-4"}),m.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-white",children:["Meet ",m.jsx("span",{className:"text-primary",children:"Mangrov"})]})]}),m.jsxs("p",{className:"text-xl md:text-2xl text-neutral-300 mb-8 leading-relaxed",children:["Where"," ",m.jsx("span",{className:"text-primary font-semibold",children:"personalized shopping"})," ","meets",m.jsxs("span",{className:"text-primary font-semibold",children:[" ","sustainable brands"]})]}),m.jsxs("div",{className:"flex items-center justify-center space-x-8 text-neutral-400",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx(uA,{className:"w-5 h-5 text-primary mr-2"}),m.jsx("span",{children:"AI-Powered"})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx(Ku,{className:"w-5 h-5 text-primary mr-2"}),m.jsx("span",{children:"Sustainable"})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx(cA,{className:"w-5 h-5 text-primary mr-2"}),m.jsx("span",{children:"Community"})]})]})]})})]}),m.jsx("section",{id:"problem-section",className:"py-20 px-4",children:m.jsxs("div",{className:"max-w-6xl mx-auto",children:[m.jsxs(ge.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[m.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["The ",m.jsx("span",{className:"text-primary",children:"Harsh Reality"})]}),m.jsxs("p",{className:"text-xl text-neutral-300 max-w-3xl mx-auto leading-relaxed",children:[m.jsx("span",{className:"text-primary font-semibold",children:"60% of global greenhouse gas emissions"})," ","are caused by consumers, yet most don't care about sustainability. A few eco-conscious individuals won't tackle the climate crisis alone."]})]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[m.jsx(ge.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:.2},viewport:{once:!0},children:m.jsxs("div",{className:"bg-neutral-900 p-8 rounded-2xl border border-neutral-800",children:[m.jsxs("div",{className:"flex items-center mb-4",children:[m.jsx(Ib,{className:"w-8 h-8 text-primary mr-3"}),m.jsx("h3",{className:"text-2xl font-bold text-white",children:"The Challenge"})]}),m.jsxs("p",{className:"text-neutral-300 leading-relaxed",children:["Traditional sustainability messaging falls on deaf ears. Consumers need",m.jsxs("span",{className:"text-primary font-semibold",children:[" ","tangible value"]})," ","they can feel when making eco-friendly choices."]})]})}),m.jsx(ge.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:.4},viewport:{once:!0},children:m.jsxs("div",{className:"bg-neutral-900 p-8 rounded-2xl border border-neutral-800",children:[m.jsxs("div",{className:"flex items-center mb-4",children:[m.jsx(CB,{className:"w-8 h-8 text-primary mr-3"}),m.jsx("h3",{className:"text-2xl font-bold text-white",children:"Our Solution"})]}),m.jsxs("p",{className:"text-neutral-300 leading-relaxed",children:['Instead of just repeating "eco-friendly", we offer',m.jsxs("span",{className:"text-primary font-semibold",children:[" ","personalized experiences"]})," ","that make sustainable shopping feel natural and rewarding."]})]})})]})]})}),m.jsx("section",{id:"features-section",className:"py-20 px-4 bg-neutral-900/50",children:m.jsxs("div",{className:"max-w-6xl mx-auto",children:[m.jsxs(ge.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[m.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["The ",m.jsx("span",{className:"text-primary",children:"Mangrov"})," Experience"]}),m.jsx("p",{className:"text-xl text-neutral-300 max-w-3xl mx-auto",children:"We're creating the most seamless and personal shopping experience that's sustainable."})]}),m.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:uA,title:"AI-Powered Recommendations",description:"Precise product suggestions powered by advanced AI searches that understand your unique preferences.",color:"text-blue-400"},{icon:Du,title:"Unique Product Display",description:"Swipe through interactive cards to discover products in an engaging, intuitive way.",color:"text-green-400"},{icon:cA,title:"Community Trading",description:"Trade items with other users to give products a second life and reduce waste together.",color:"text-purple-400"}].map((c,d)=>m.jsxs(ge.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:d*.2},viewport:{once:!0},className:"bg-neutral-900 p-8 rounded-2xl border border-neutral-800 hover:border-primary/50 transition-colors",children:[m.jsx("div",{className:"w-16 h-16 bg-neutral-800 rounded-2xl flex items-center justify-center mb-6",children:m.jsx(c.icon,{className:`w-8 h-8 ${c.color}`})}),m.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:c.title}),m.jsx("p",{className:"text-neutral-300 leading-relaxed",children:c.description})]},d))})]})}),m.jsx("section",{id:"stats-section",className:"py-20 px-4",children:m.jsxs("div",{className:"max-w-6xl mx-auto",children:[m.jsx(ge.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:m.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Ready for ",m.jsx("span",{className:"text-primary",children:"Launch"})]})}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[m.jsx(ge.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:.2},viewport:{once:!0},children:m.jsxs("div",{className:"space-y-8",children:[m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx(Op,{className:"w-8 h-8 text-primary"}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-2xl font-bold text-white",children:"Prototype Complete"}),m.jsx("p",{className:"text-neutral-300",children:"Fully functional platform ready for launch"})]})]}),m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx(Op,{className:"w-8 h-8 text-primary"}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-2xl font-bold text-white",children:"Community-Driven"}),m.jsx("p",{className:"text-neutral-300",children:"Built for users who care about sustainability"})]})]})]})}),m.jsxs(ge.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:.4},viewport:{once:!0},className:"bg-gradient-to-br from-primary/20 to-primary/5 p-8 rounded-2xl border border-primary/20",children:[m.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Our Mission"}),m.jsxs("p",{className:"text-neutral-300 leading-relaxed mb-6",children:["To create a global shift in consumer behavior by making sustainable shopping",m.jsxs("span",{className:"text-primary font-semibold",children:[" ","personal, engaging, and rewarding"]}),"."]}),m.jsxs("div",{className:"flex items-center text-primary font-semibold cursor-pointer hover:text-primary/80 transition-colors",onClick:()=>t("/dashboard"),children:[m.jsx("span",{children:"Join the revolution"}),m.jsx(Ig,{className:"w-5 h-5 ml-2"})]})]})]})]})}),m.jsx("section",{id:"cta-section",className:"py-20 px-4 bg-neutral-900",children:m.jsx("div",{className:"max-w-4xl mx-auto text-center",children:m.jsxs(ge.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},children:[m.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Be Part of the ",m.jsx("span",{className:"text-primary",children:"Change"})]}),m.jsx("p",{className:"text-xl text-neutral-300 mb-8 max-w-2xl mx-auto",children:"Experience shopping that doesn't just feel good—it does good. Join us in creating a sustainable future, one purchase at a time."}),m.jsx(ge.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("/dashboard"),className:"bg-primary text-white px-8 py-4 rounded-xl font-semibold text-lg hover:bg-primary/80 transition-colors",children:"Get Started Today"})]})})}),m.jsx("footer",{className:"bg-neutral-950 py-12 px-4 border-t border-neutral-800",children:m.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[m.jsxs("div",{className:"flex items-center justify-center mb-6",children:[m.jsx("img",{src:"/icon.png",alt:"Mangrov Logo",className:"w-8 h-8 mr-3"}),m.jsx("h3",{className:"text-2xl font-bold text-white",children:"Mangrov"})]}),m.jsx("p",{className:"text-neutral-400 text-base mb-6 leading-relaxed",children:"Where personalized shopping meets sustainable brands"}),m.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-2 sm:space-y-0 sm:space-x-6 text-neutral-400",children:[m.jsx("span",{className:"text-sm",children:"© 2024 Mangrov. All rights reserved."}),m.jsx("span",{className:"hidden sm:inline text-sm",children:"•"}),m.jsx("span",{className:"text-sm",children:"Privacy Policy"}),m.jsx("span",{className:"hidden sm:inline text-sm",children:"•"}),m.jsx("span",{className:"text-sm",children:"Terms of Service"})]})]})}),m.jsx(ge.button,{initial:{opacity:0,scale:0},animate:{opacity:r?1:0,scale:r?1:0},transition:{duration:.3},onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-20 right-8 z-50 bg-primary text-white p-4 rounded-full shadow-lg hover:bg-primary/80 transition-colors",children:m.jsx(Iz,{className:"w-6 h-6"})})]})}function M_({trade:t,isOpen:e,onClose:n,onTradeUpdate:r}){const{user:i}=Ar(),[o,l]=A.useState(!1),[c,d]=A.useState(!1),[f,p]=A.useState(!1),[y,x]=A.useState({title:"",description:"",quantity:1,isAvailable:!0});A.useEffect(()=>{c&&t&&x({title:t.title||"",description:t.description||"",quantity:t.quantity||1,isAvailable:t.isAvailable!==!1})},[c,t]);const E=i?.uid===t?.uid,N=async()=>{if(!(!t||!i||i.uid!==t.uid))try{p(!0),await aa(Jt(Ve,"trades",t.id),{title:y.title,description:y.description,quantity:y.quantity,isAvailable:y.isAvailable}),d(!1),r&&r({...t,title:y.title,description:y.description,quantity:y.quantity,isAvailable:y.isAvailable}),n()}catch(V){console.error("Error updating trade:",V)}finally{p(!1)}},P=async()=>{if(!(!t||!i||i.uid!==t.uid)&&window.confirm("Are you sure you want to delete this trade?"))try{await Cp(Jt(Ve,"trades",t.id)),n()}catch(V){console.error("Error deleting trade:",V)}};return t?m.jsx(fn,{children:e&&m.jsx(ge.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:m.jsxs(ge.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-gradient-to-br from-neutral-900 via-neutral-800 to-neutral-900 rounded-3xl p-8 w-full max-w-md max-h-[90vh] overflow-y-auto border border-neutral-700 shadow-2xl",children:[m.jsxs("div",{className:"relative mb-6",children:[m.jsxs("div",{className:"absolute top-0 right-0 flex gap-2",children:[E&&m.jsx("button",{onClick:()=>l(!o),className:"text-neutral-400 hover:text-white transition cursor-pointer",children:m.jsx(fB,{size:20})}),m.jsx("button",{onClick:n,className:"text-neutral-400 hover:text-white transition cursor-pointer",children:m.jsx(Ui,{size:20})})]}),m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary to-primary/60 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx(Mw,{size:32,className:"text-white"})}),m.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:t.title}),m.jsx("div",{className:"flex justify-center gap-2 mb-4",children:t.niche.map(V=>m.jsx("span",{className:"px-3 py-1 bg-primary/20 text-primary rounded-full text-xs font-bold",children:V},V))})]})]}),m.jsxs("div",{className:"relative mb-6",children:[m.jsx("img",{src:t.images[0],alt:t.title,className:"w-full h-48 object-cover rounded-2xl border-2 border-neutral-700"}),!t.isAvailable&&m.jsx("div",{className:"absolute top-4 left-4 bg-red-600 text-white px-3 py-1 rounded-full text-sm font-bold",children:"UNAVAILABLE"})]}),m.jsxs("div",{className:"space-y-4 mb-6",children:[m.jsx("div",{className:"bg-neutral-800/50 rounded-xl p-4",children:m.jsx("p",{className:"text-neutral-300 text-sm leading-relaxed",children:t.description})}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"bg-neutral-800/30 rounded-xl p-3 text-center",children:[m.jsx("div",{className:"text-neutral-400 text-xs mb-1",children:"QUANTITY"}),m.jsx("div",{className:"text-white font-bold text-lg",children:t.quantity})]}),m.jsxs("div",{className:"bg-neutral-800/30 rounded-xl p-3 text-center",children:[m.jsx("div",{className:"text-neutral-400 text-xs mb-1",children:"STATUS"}),m.jsx("div",{className:`font-bold text-sm ${t.isAvailable?"text-green-400":"text-red-400"}`,children:t.isAvailable?"AVAILABLE":"UNAVAILABLE"})]})]}),t.keywords.length>0&&m.jsxs("div",{className:"bg-neutral-800/30 rounded-xl p-3",children:[m.jsx("div",{className:"text-neutral-400 text-xs mb-2",children:"KEYWORDS"}),m.jsx("div",{className:"flex flex-wrap gap-1",children:t.keywords.map(V=>m.jsx("span",{className:"px-2 py-1 bg-neutral-700 text-neutral-300 rounded text-xs",children:V},V))})]})]}),m.jsx(fn,{children:o&&m.jsx(ge.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-neutral-700 pt-4 mt-4",children:c?m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs text-neutral-400 mb-1",children:"TITLE"}),m.jsx("input",{value:y.title,onChange:V=>x({...y,title:V.target.value}),className:"w-full bg-neutral-800 text-white px-3 py-2 rounded-md border border-neutral-700 focus:border-primary outline-none text-sm"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs text-neutral-400 mb-1",children:"DESCRIPTION"}),m.jsx("textarea",{value:y.description,onChange:V=>x({...y,description:V.target.value}),className:"w-full bg-neutral-800 text-white px-3 py-2 rounded-md border border-neutral-700 focus:border-primary outline-none text-sm h-20 resize-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs text-neutral-400 mb-1",children:"QUANTITY"}),m.jsx("input",{type:"number",min:"1",value:y.quantity,onChange:V=>x({...y,quantity:parseInt(V.target.value)||1}),className:"w-full bg-neutral-800 text-white px-3 py-2 rounded-md border border-neutral-700 focus:border-primary outline-none text-sm"})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:y.isAvailable,onChange:V=>x({...y,isAvailable:V.target.checked}),className:"sr-only peer"}),m.jsx("div",{className:"w-11 h-6 bg-neutral-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]}),m.jsx("span",{className:"text-white text-sm cursor-pointer",children:"Available for trade"})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:N,disabled:f,className:"flex-1 bg-primary text-white px-3 py-2 rounded-md hover:bg-primary/80 transition text-sm flex items-center justify-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed",children:[f?m.jsx(bO,{size:14,className:"animate-spin"}):m.jsx(Ow,{size:14}),f?"Saving...":"Save"]}),m.jsx("button",{onClick:()=>d(!1),disabled:f,className:"flex-1 bg-neutral-700 text-white px-3 py-2 rounded-md hover:bg-neutral-600 transition text-sm disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",children:"Cancel"})]})]}):m.jsxs("div",{className:"space-y-2",children:[m.jsxs("button",{onClick:()=>d(!0),className:"w-full bg-primary text-white px-4 py-2 rounded-md hover:bg-primary/80 transition flex items-center justify-center gap-2 text-sm cursor-pointer",children:[m.jsx(bB,{size:14}),"Edit Trade"]}),m.jsxs("button",{onClick:P,className:"w-full bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition flex items-center justify-center gap-2 text-sm cursor-pointer",children:[m.jsx(_O,{size:14}),"Delete Trade"]})]})})})]})})}):null}var ip={exports:{}},ZX=ip.exports,gR;function JX(){return gR||(gR=1,function(t,e){(function(n,r){t.exports=r()})(ZX,function(){var n=1e3,r=6e4,i=36e5,o="millisecond",l="second",c="minute",d="hour",f="day",p="week",y="month",x="quarter",E="year",N="date",P="Invalid Date",V=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,D=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,B={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(G){var Z=["th","st","nd","rd"],H=G%100;return"["+G+(Z[(H-20)%10]||Z[H]||Z[0])+"]"}},F=function(G,Z,H){var S=String(G);return!S||S.length>=Z?G:""+Array(Z+1-S.length).join(H)+G},Y={s:F,z:function(G){var Z=-G.utcOffset(),H=Math.abs(Z),S=Math.floor(H/60),J=H%60;return(Z<=0?"+":"-")+F(S,2,"0")+":"+F(J,2,"0")},m:function G(Z,H){if(Z.date()<H.date())return-G(H,Z);var S=12*(H.year()-Z.year())+(H.month()-Z.month()),J=Z.clone().add(S,y),W=H-J<0,w=Z.clone().add(S+(W?-1:1),y);return+(-(S+(H-J)/(W?J-w:w-J))||0)},a:function(G){return G<0?Math.ceil(G)||0:Math.floor(G)},p:function(G){return{M:y,y:E,w:p,d:f,D:N,h:d,m:c,s:l,ms:o,Q:x}[G]||String(G||"").toLowerCase().replace(/s$/,"")},u:function(G){return G===void 0}},M="en",O={};O[M]=B;var C="$isDayjsObject",I=function(G){return G instanceof $||!(!G||!G[C])},R=function G(Z,H,S){var J;if(!Z)return M;if(typeof Z=="string"){var W=Z.toLowerCase();O[W]&&(J=W),H&&(O[W]=H,J=W);var w=Z.split("-");if(!J&&w.length>1)return G(w[0])}else{var z=Z.name;O[z]=Z,J=z}return!S&&J&&(M=J),J||!S&&M},T=function(G,Z){if(I(G))return G.clone();var H=typeof Z=="object"?Z:{};return H.date=G,H.args=arguments,new $(H)},U=Y;U.l=R,U.i=I,U.w=function(G,Z){return T(G,{locale:Z.$L,utc:Z.$u,x:Z.$x,$offset:Z.$offset})};var $=function(){function G(H){this.$L=R(H.locale,null,!0),this.parse(H),this.$x=this.$x||H.x||{},this[C]=!0}var Z=G.prototype;return Z.parse=function(H){this.$d=function(S){var J=S.date,W=S.utc;if(J===null)return new Date(NaN);if(U.u(J))return new Date;if(J instanceof Date)return new Date(J);if(typeof J=="string"&&!/Z$/i.test(J)){var w=J.match(V);if(w){var z=w[2]-1||0,X=(w[7]||"0").substring(0,3);return W?new Date(Date.UTC(w[1],z,w[3]||1,w[4]||0,w[5]||0,w[6]||0,X)):new Date(w[1],z,w[3]||1,w[4]||0,w[5]||0,w[6]||0,X)}}return new Date(J)}(H),this.init()},Z.init=function(){var H=this.$d;this.$y=H.getFullYear(),this.$M=H.getMonth(),this.$D=H.getDate(),this.$W=H.getDay(),this.$H=H.getHours(),this.$m=H.getMinutes(),this.$s=H.getSeconds(),this.$ms=H.getMilliseconds()},Z.$utils=function(){return U},Z.isValid=function(){return this.$d.toString()!==P},Z.isSame=function(H,S){var J=T(H);return this.startOf(S)<=J&&J<=this.endOf(S)},Z.isAfter=function(H,S){return T(H)<this.startOf(S)},Z.isBefore=function(H,S){return this.endOf(S)<T(H)},Z.$g=function(H,S,J){return U.u(H)?this[S]:this.set(J,H)},Z.unix=function(){return Math.floor(this.valueOf()/1e3)},Z.valueOf=function(){return this.$d.getTime()},Z.startOf=function(H,S){var J=this,W=!!U.u(S)||S,w=U.p(H),z=function(Pe,Ne){var ze=U.w(J.$u?Date.UTC(J.$y,Ne,Pe):new Date(J.$y,Ne,Pe),J);return W?ze:ze.endOf(f)},X=function(Pe,Ne){return U.w(J.toDate()[Pe].apply(J.toDate("s"),(W?[0,0,0,0]:[23,59,59,999]).slice(Ne)),J)},Q=this.$W,ne=this.$M,se=this.$D,le="set"+(this.$u?"UTC":"");switch(w){case E:return W?z(1,0):z(31,11);case y:return W?z(1,ne):z(0,ne+1);case p:var ve=this.$locale().weekStart||0,Ee=(Q<ve?Q+7:Q)-ve;return z(W?se-Ee:se+(6-Ee),ne);case f:case N:return X(le+"Hours",0);case d:return X(le+"Minutes",1);case c:return X(le+"Seconds",2);case l:return X(le+"Milliseconds",3);default:return this.clone()}},Z.endOf=function(H){return this.startOf(H,!1)},Z.$set=function(H,S){var J,W=U.p(H),w="set"+(this.$u?"UTC":""),z=(J={},J[f]=w+"Date",J[N]=w+"Date",J[y]=w+"Month",J[E]=w+"FullYear",J[d]=w+"Hours",J[c]=w+"Minutes",J[l]=w+"Seconds",J[o]=w+"Milliseconds",J)[W],X=W===f?this.$D+(S-this.$W):S;if(W===y||W===E){var Q=this.clone().set(N,1);Q.$d[z](X),Q.init(),this.$d=Q.set(N,Math.min(this.$D,Q.daysInMonth())).$d}else z&&this.$d[z](X);return this.init(),this},Z.set=function(H,S){return this.clone().$set(H,S)},Z.get=function(H){return this[U.p(H)]()},Z.add=function(H,S){var J,W=this;H=Number(H);var w=U.p(S),z=function(ne){var se=T(W);return U.w(se.date(se.date()+Math.round(ne*H)),W)};if(w===y)return this.set(y,this.$M+H);if(w===E)return this.set(E,this.$y+H);if(w===f)return z(1);if(w===p)return z(7);var X=(J={},J[c]=r,J[d]=i,J[l]=n,J)[w]||1,Q=this.$d.getTime()+H*X;return U.w(Q,this)},Z.subtract=function(H,S){return this.add(-1*H,S)},Z.format=function(H){var S=this,J=this.$locale();if(!this.isValid())return J.invalidDate||P;var W=H||"YYYY-MM-DDTHH:mm:ssZ",w=U.z(this),z=this.$H,X=this.$m,Q=this.$M,ne=J.weekdays,se=J.months,le=J.meridiem,ve=function(Ne,ze,Ye,Qe){return Ne&&(Ne[ze]||Ne(S,W))||Ye[ze].slice(0,Qe)},Ee=function(Ne){return U.s(z%12||12,Ne,"0")},Pe=le||function(Ne,ze,Ye){var Qe=Ne<12?"AM":"PM";return Ye?Qe.toLowerCase():Qe};return W.replace(D,function(Ne,ze){return ze||function(Ye){switch(Ye){case"YY":return String(S.$y).slice(-2);case"YYYY":return U.s(S.$y,4,"0");case"M":return Q+1;case"MM":return U.s(Q+1,2,"0");case"MMM":return ve(J.monthsShort,Q,se,3);case"MMMM":return ve(se,Q);case"D":return S.$D;case"DD":return U.s(S.$D,2,"0");case"d":return String(S.$W);case"dd":return ve(J.weekdaysMin,S.$W,ne,2);case"ddd":return ve(J.weekdaysShort,S.$W,ne,3);case"dddd":return ne[S.$W];case"H":return String(z);case"HH":return U.s(z,2,"0");case"h":return Ee(1);case"hh":return Ee(2);case"a":return Pe(z,X,!0);case"A":return Pe(z,X,!1);case"m":return String(X);case"mm":return U.s(X,2,"0");case"s":return String(S.$s);case"ss":return U.s(S.$s,2,"0");case"SSS":return U.s(S.$ms,3,"0");case"Z":return w}return null}(Ne)||w.replace(":","")})},Z.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Z.diff=function(H,S,J){var W,w=this,z=U.p(S),X=T(H),Q=(X.utcOffset()-this.utcOffset())*r,ne=this-X,se=function(){return U.m(w,X)};switch(z){case E:W=se()/12;break;case y:W=se();break;case x:W=se()/3;break;case p:W=(ne-Q)/6048e5;break;case f:W=(ne-Q)/864e5;break;case d:W=ne/i;break;case c:W=ne/r;break;case l:W=ne/n;break;default:W=ne}return J?W:U.a(W)},Z.daysInMonth=function(){return this.endOf(y).$D},Z.$locale=function(){return O[this.$L]},Z.locale=function(H,S){if(!H)return this.$L;var J=this.clone(),W=R(H,S,!0);return W&&(J.$L=W),J},Z.clone=function(){return U.w(this.$d,this)},Z.toDate=function(){return new Date(this.valueOf())},Z.toJSON=function(){return this.isValid()?this.toISOString():null},Z.toISOString=function(){return this.$d.toISOString()},Z.toString=function(){return this.$d.toUTCString()},G}(),j=$.prototype;return T.prototype=j,[["$ms",o],["$s",l],["$m",c],["$H",d],["$W",f],["$M",y],["$y",E],["$D",N]].forEach(function(G){j[G[1]]=function(Z){return this.$g(Z,G[0],G[1])}}),T.extend=function(G,Z){return G.$i||(G(Z,$,T),G.$i=!0),T},T.locale=R,T.isDayjs=I,T.unix=function(G){return T(1e3*G)},T.en=O[M],T.Ls=O,T.p={},T})}(ip)),ip.exports}var eQ=JX();const tQ=Xp(eQ);function nQ({comment:t,onReplyClick:e,isReplying:n,replyText:r,onReplyChange:i,onReplySubmit:o,isSubmitting:l=!1}){const[c,d]=A.useState(null),[f,p]=A.useState(null),[y,x]=A.useState(!1),[E,N]=A.useState(""),[P,V]=A.useState(!0);A.useEffect(()=>{(async()=>{try{V(!0);const M=await wi(Jt(Ve,"users",t.user));M.exists()&&d(M.data())}catch(M){console.error("Error fetching user data:",M)}finally{V(!1)}})()},[t.user]),A.useEffect(()=>{(async()=>{if(t.replyToUserId)try{const M=await wi(Jt(Ve,"users",t.replyToUserId));if(M.exists()){const O=M.data();p(O.name)}}catch(M){console.error("Error fetching reply user data:",M)}})()},[t.replyToUserId]),A.useEffect(()=>{if(t.timestamp){const Y=tQ(t.timestamp.toDate()).format("HH:mm");N(Y)}},[t.timestamp]);const D=()=>{if(t.replyToId){const Y=document.querySelector(`[data-id='${t.replyToId}']`);Y&&Y.classList.add("bg-primary/20"),x(!0)}},B=()=>{if(t.replyToId){const Y=document.querySelector(`[data-id='${t.replyToId}']`);Y&&Y.classList.remove("bg-primary/20"),x(!1)}},F=Y=>{Y.key==="Enter"&&!Y.shiftKey&&(Y.preventDefault(),o(t.id,t.user))};return P?m.jsx("div",{className:"animate-pulse",children:m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsx("div",{className:"w-8 h-8 bg-neutral-700 rounded-full"}),m.jsxs("div",{className:"flex-1 space-y-2",children:[m.jsx("div",{className:"h-4 bg-neutral-700 rounded w-24"}),m.jsx("div",{className:"h-3 bg-neutral-700 rounded w-full"})]})]})}):m.jsxs(ge.div,{"data-id":t.id,onMouseEnter:D,onMouseLeave:B,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2},className:`group relative rounded-lg p-3 transition-all duration-200 ${t.replyToId?"ml-6 border-l-2 border-primary/30 pl-4 bg-neutral-800/30":"bg-neutral-800/20"} ${y?"bg-primary/20":""}`,children:[m.jsxs("div",{className:"flex items-start gap-3",children:[m.jsxs("div",{className:"flex-shrink-0",children:[c?.avatar?m.jsx("img",{src:c.avatar,alt:`${c.name}'s avatar`,className:"w-8 h-8 rounded-full object-cover border border-white/10",onError:Y=>{const M=Y.target;M.style.display="none",M.nextElementSibling?.classList.remove("hidden")}}):null,m.jsx("div",{className:`w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center text-primary text-sm font-semibold ${c?.avatar?"hidden":""}`,children:c?.name?.charAt(0)?.toUpperCase()||"U"})]}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx("span",{className:"font-semibold text-primary text-sm",children:c?.name||"Unknown User"}),f&&m.jsxs("span",{className:"text-xs text-neutral-400",children:["replying to @",f]}),m.jsx("span",{className:"text-xs text-neutral-500 ml-auto",children:E})]}),m.jsx("div",{className:"text-white/90 text-sm leading-relaxed break-words",children:t.text}),m.jsx("div",{className:"flex items-center mt-2",children:m.jsxs("button",{onClick:()=>e(t.id),disabled:l,className:"flex items-center gap-1 text-xs text-neutral-400 hover:text-primary transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[m.jsx(lB,{size:12}),"Reply"]})})]})]}),n&&m.jsxs(ge.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3 flex items-center gap-2 bg-neutral-800/50 rounded-lg p-3",children:[m.jsx("input",{value:r,onChange:Y=>i(Y.target.value),onKeyPress:F,placeholder:`Reply to ${c?.name||"user"}...`,disabled:l,className:"flex-1 bg-transparent text-white placeholder-white/60 text-sm outline-none"}),m.jsx(ge.button,{whileTap:{scale:.95},onClick:()=>o(t.id,t.user),disabled:!r.trim()||l,className:"text-primary hover:text-primary/80 disabled:text-white/40 disabled:cursor-not-allowed transition-colors",children:m.jsx(Mg,{size:14})})]})]})}var V0={},U0={},wd={},z0={},vR;function rQ(){return vR||(vR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e}(z0)),z0}var B0,yR;function iQ(){if(yR)return B0;yR=1;var t="Expected a function",e=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,d=typeof um=="object"&&um&&um.Object===Object&&um,f=typeof self=="object"&&self&&self.Object===Object&&self,p=d||f||Function("return this")(),y=Object.prototype,x=y.toString,E=Math.max,N=Math.min,P=function(){return p.Date.now()};function V(M,O,C){var I,R,T,U,$,j,G=0,Z=!1,H=!1,S=!0;if(typeof M!="function")throw new TypeError(t);O=Y(O)||0,D(C)&&(Z=!!C.leading,H="maxWait"in C,T=H?E(Y(C.maxWait)||0,O):T,S="trailing"in C?!!C.trailing:S);function J(ve){var Ee=I,Pe=R;return I=R=void 0,G=ve,U=M.apply(Pe,Ee),U}function W(ve){return G=ve,$=setTimeout(X,O),Z?J(ve):U}function w(ve){var Ee=ve-j,Pe=ve-G,Ne=O-Ee;return H?N(Ne,T-Pe):Ne}function z(ve){var Ee=ve-j,Pe=ve-G;return j===void 0||Ee>=O||Ee<0||H&&Pe>=T}function X(){var ve=P();if(z(ve))return Q(ve);$=setTimeout(X,w(ve))}function Q(ve){return $=void 0,S&&I?J(ve):(I=R=void 0,U)}function ne(){$!==void 0&&clearTimeout($),G=0,I=j=R=$=void 0}function se(){return $===void 0?U:Q(P())}function le(){var ve=P(),Ee=z(ve);if(I=arguments,R=this,j=ve,Ee){if($===void 0)return W(j);if(H)return $=setTimeout(X,O),J(j)}return $===void 0&&($=setTimeout(X,O)),U}return le.cancel=ne,le.flush=se,le}function D(M){var O=typeof M;return!!M&&(O=="object"||O=="function")}function B(M){return!!M&&typeof M=="object"}function F(M){return typeof M=="symbol"||B(M)&&x.call(M)==n}function Y(M){if(typeof M=="number")return M;if(F(M))return e;if(D(M)){var O=typeof M.valueOf=="function"?M.valueOf():M;M=D(O)?O+"":O}if(typeof M!="string")return M===0?M:+M;M=M.replace(r,"");var C=o.test(M);return C||l.test(M)?c(M.slice(2),C?2:8):i.test(M)?e:+M}return B0=V,B0}var F0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var bR;function Gg(){return bR||(bR=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(o=i(o,r(c)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var c in o)e.call(o,c)&&o[c]&&(l=i(l,c));return l}function i(o,l){return l?o?o+" "+l:o+l:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(F0)),F0.exports}var Me={},H0={},xR;function tj(){return xR||(xR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(Rs());function n(i){return i&&i.__esModule?i:{default:i}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(o){return e.default.createElement("ul",{style:{display:"block"}},o)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(o){return e.default.createElement("button",null,o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};t.default=r}(H0)),H0}var wR;function Gh(){if(wR)return Me;wR=1,Object.defineProperty(Me,"__esModule",{value:!0}),Me.checkSpecKeys=Me.checkNavigable=Me.changeSlide=Me.canUseDOM=Me.canGoNext=void 0,Me.clamp=f,Me.extractObject=void 0,Me.filterSettings=J,Me.validSettings=Me.swipeStart=Me.swipeMove=Me.swipeEnd=Me.slidesOnRight=Me.slidesOnLeft=Me.slideHandler=Me.siblingDirection=Me.safePreventDefault=Me.lazyStartIndex=Me.lazySlidesOnRight=Me.lazySlidesOnLeft=Me.lazyEndIndex=Me.keyHandler=Me.initializedState=Me.getWidth=Me.getTrackLeft=Me.getTrackCSS=Me.getTrackAnimateCSS=Me.getTotalSlides=Me.getSwipeDirection=Me.getSlideCount=Me.getRequiredLazySlides=Me.getPreClones=Me.getPostClones=Me.getOnDemandLazySlides=Me.getNavigableIndexes=Me.getHeight=void 0;var t=n(Rs()),e=n(tj());function n(W){return W&&W.__esModule?W:{default:W}}function r(W){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},r(W)}function i(W,w){var z=Object.keys(W);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(W);w&&(X=X.filter(function(Q){return Object.getOwnPropertyDescriptor(W,Q).enumerable})),z.push.apply(z,X)}return z}function o(W){for(var w=1;w<arguments.length;w++){var z=arguments[w]!=null?arguments[w]:{};w%2?i(Object(z),!0).forEach(function(X){l(W,X,z[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(z)):i(Object(z)).forEach(function(X){Object.defineProperty(W,X,Object.getOwnPropertyDescriptor(z,X))})}return W}function l(W,w,z){return w=c(w),w in W?Object.defineProperty(W,w,{value:z,enumerable:!0,configurable:!0,writable:!0}):W[w]=z,W}function c(W){var w=d(W,"string");return r(w)=="symbol"?w:String(w)}function d(W,w){if(r(W)!="object"||!W)return W;var z=W[Symbol.toPrimitive];if(z!==void 0){var X=z.call(W,w);if(r(X)!="object")return X;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(W)}function f(W,w,z){return Math.max(w,Math.min(W,z))}var p=Me.safePreventDefault=function(w){var z=["onTouchStart","onTouchMove","onWheel"];z.includes(w._reactName)||w.preventDefault()},y=Me.getOnDemandLazySlides=function(w){for(var z=[],X=x(w),Q=E(w),ne=X;ne<Q;ne++)w.lazyLoadedList.indexOf(ne)<0&&z.push(ne);return z};Me.getRequiredLazySlides=function(w){for(var z=[],X=x(w),Q=E(w),ne=X;ne<Q;ne++)z.push(ne);return z};var x=Me.lazyStartIndex=function(w){return w.currentSlide-N(w)},E=Me.lazyEndIndex=function(w){return w.currentSlide+P(w)},N=Me.lazySlidesOnLeft=function(w){return w.centerMode?Math.floor(w.slidesToShow/2)+(parseInt(w.centerPadding)>0?1:0):0},P=Me.lazySlidesOnRight=function(w){return w.centerMode?Math.floor((w.slidesToShow-1)/2)+1+(parseInt(w.centerPadding)>0?1:0):w.slidesToShow},V=Me.getWidth=function(w){return w&&w.offsetWidth||0},D=Me.getHeight=function(w){return w&&w.offsetHeight||0},B=Me.getSwipeDirection=function(w){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,X,Q,ne,se;return X=w.startX-w.curX,Q=w.startY-w.curY,ne=Math.atan2(Q,X),se=Math.round(ne*180/Math.PI),se<0&&(se=360-Math.abs(se)),se<=45&&se>=0||se<=360&&se>=315?"left":se>=135&&se<=225?"right":z===!0?se>=35&&se<=135?"up":"down":"vertical"},F=Me.canGoNext=function(w){var z=!0;return w.infinite||(w.centerMode&&w.currentSlide>=w.slideCount-1||w.slideCount<=w.slidesToShow||w.currentSlide>=w.slideCount-w.slidesToShow)&&(z=!1),z};Me.extractObject=function(w,z){var X={};return z.forEach(function(Q){return X[Q]=w[Q]}),X},Me.initializedState=function(w){var z=t.default.Children.count(w.children),X=w.listRef,Q=Math.ceil(V(X)),ne=w.trackRef&&w.trackRef.node,se=Math.ceil(V(ne)),le;if(w.vertical)le=Q;else{var ve=w.centerMode&&parseInt(w.centerPadding)*2;typeof w.centerPadding=="string"&&w.centerPadding.slice(-1)==="%"&&(ve*=Q/100),le=Math.ceil((Q-ve)/w.slidesToShow)}var Ee=X&&D(X.querySelector('[data-index="0"]')),Pe=Ee*w.slidesToShow,Ne=w.currentSlide===void 0?w.initialSlide:w.currentSlide;w.rtl&&w.currentSlide===void 0&&(Ne=z-1-w.initialSlide);var ze=w.lazyLoadedList||[],Ye=y(o(o({},w),{},{currentSlide:Ne,lazyLoadedList:ze}));ze=ze.concat(Ye);var Qe={slideCount:z,slideWidth:le,listWidth:Q,trackWidth:se,currentSlide:Ne,slideHeight:Ee,listHeight:Pe,lazyLoadedList:ze};return w.autoplaying===null&&w.autoplay&&(Qe.autoplaying="playing"),Qe},Me.slideHandler=function(w){var z=w.waitForAnimate,X=w.animating,Q=w.fade,ne=w.infinite,se=w.index,le=w.slideCount,ve=w.lazyLoad,Ee=w.currentSlide,Pe=w.centerMode,Ne=w.slidesToScroll,ze=w.slidesToShow,Ye=w.useCSS,Qe=w.lazyLoadedList;if(z&&X)return{};var me=se,Ce,$e,Ie,Je={},mt={},ot=ne?se:f(se,0,le-1);if(Q){if(!ne&&(se<0||se>=le))return{};se<0?me=se+le:se>=le&&(me=se-le),ve&&Qe.indexOf(me)<0&&(Qe=Qe.concat(me)),Je={animating:!0,currentSlide:me,lazyLoadedList:Qe,targetSlide:me},mt={animating:!1,targetSlide:me}}else Ce=me,me<0?(Ce=me+le,ne?le%Ne!==0&&(Ce=le-le%Ne):Ce=0):!F(w)&&me>Ee?me=Ce=Ee:Pe&&me>=le?(me=ne?le:le-1,Ce=ne?0:le-1):me>=le&&(Ce=me-le,ne?le%Ne!==0&&(Ce=0):Ce=le-ze),!ne&&me+ze>=le&&(Ce=le-ze),$e=T(o(o({},w),{},{slideIndex:me})),Ie=T(o(o({},w),{},{slideIndex:Ce})),ne||($e===Ie&&(me=Ce),$e=Ie),ve&&(Qe=Qe.concat(y(o(o({},w),{},{currentSlide:me})))),Ye?(Je={animating:!0,currentSlide:Ce,trackStyle:R(o(o({},w),{},{left:$e})),lazyLoadedList:Qe,targetSlide:ot},mt={animating:!1,currentSlide:Ce,trackStyle:I(o(o({},w),{},{left:Ie})),swipeLeft:null,targetSlide:ot}):Je={currentSlide:Ce,trackStyle:I(o(o({},w),{},{left:Ie})),lazyLoadedList:Qe,targetSlide:ot};return{state:Je,nextState:mt}},Me.changeSlide=function(w,z){var X,Q,ne,se,le,ve=w.slidesToScroll,Ee=w.slidesToShow,Pe=w.slideCount,Ne=w.currentSlide,ze=w.targetSlide,Ye=w.lazyLoad,Qe=w.infinite;if(se=Pe%ve!==0,X=se?0:(Pe-Ne)%ve,z.message==="previous")ne=X===0?ve:Ee-X,le=Ne-ne,Ye&&!Qe&&(Q=Ne-ne,le=Q===-1?Pe-1:Q),Qe||(le=ze-ve);else if(z.message==="next")ne=X===0?ve:X,le=Ne+ne,Ye&&!Qe&&(le=(Ne+ve)%Pe+X),Qe||(le=ze+ve);else if(z.message==="dots")le=z.index*z.slidesToScroll;else if(z.message==="children"){if(le=z.index,Qe){var me=G(o(o({},w),{},{targetSlide:le}));le>z.currentSlide&&me==="left"?le=le-Pe:le<z.currentSlide&&me==="right"&&(le=le+Pe)}}else z.message==="index"&&(le=Number(z.index));return le},Me.keyHandler=function(w,z,X){return w.target.tagName.match("TEXTAREA|INPUT|SELECT")||!z?"":w.keyCode===37?X?"next":"previous":w.keyCode===39?X?"previous":"next":""},Me.swipeStart=function(w,z,X){return w.target.tagName==="IMG"&&p(w),!z||!X&&w.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:w.touches?w.touches[0].pageX:w.clientX,startY:w.touches?w.touches[0].pageY:w.clientY,curX:w.touches?w.touches[0].pageX:w.clientX,curY:w.touches?w.touches[0].pageY:w.clientY}}},Me.swipeMove=function(w,z){var X=z.scrolling,Q=z.animating,ne=z.vertical,se=z.swipeToSlide,le=z.verticalSwiping,ve=z.rtl,Ee=z.currentSlide,Pe=z.edgeFriction,Ne=z.edgeDragged,ze=z.onEdge,Ye=z.swiped,Qe=z.swiping,me=z.slideCount,Ce=z.slidesToScroll,$e=z.infinite,Ie=z.touchObject,Je=z.swipeEvent,mt=z.listHeight,ot=z.listWidth;if(!X){if(Q)return p(w);ne&&se&&le&&p(w);var Rt,ht={},pn=T(z);Ie.curX=w.touches?w.touches[0].pageX:w.clientX,Ie.curY=w.touches?w.touches[0].pageY:w.clientY,Ie.swipeLength=Math.round(Math.sqrt(Math.pow(Ie.curX-Ie.startX,2)));var or=Math.round(Math.sqrt(Math.pow(Ie.curY-Ie.startY,2)));if(!le&&!Qe&&or>10)return{scrolling:!0};le&&(Ie.swipeLength=or);var Cn=(ve?-1:1)*(Ie.curX>Ie.startX?1:-1);le&&(Cn=Ie.curY>Ie.startY?1:-1);var pt=Math.ceil(me/Ce),qe=B(z.touchObject,le),sn=Ie.swipeLength;return $e||(Ee===0&&(qe==="right"||qe==="down")||Ee+1>=pt&&(qe==="left"||qe==="up")||!F(z)&&(qe==="left"||qe==="up"))&&(sn=Ie.swipeLength*Pe,Ne===!1&&ze&&(ze(qe),ht.edgeDragged=!0)),!Ye&&Je&&(Je(qe),ht.swiped=!0),ne?Rt=pn+sn*(mt/ot)*Cn:ve?Rt=pn-sn*Cn:Rt=pn+sn*Cn,le&&(Rt=pn+sn*Cn),ht=o(o({},ht),{},{touchObject:Ie,swipeLeft:Rt,trackStyle:I(o(o({},z),{},{left:Rt}))}),Math.abs(Ie.curX-Ie.startX)<Math.abs(Ie.curY-Ie.startY)*.8||Ie.swipeLength>10&&(ht.swiping=!0,p(w)),ht}},Me.swipeEnd=function(w,z){var X=z.dragging,Q=z.swipe,ne=z.touchObject,se=z.listWidth,le=z.touchThreshold,ve=z.verticalSwiping,Ee=z.listHeight,Pe=z.swipeToSlide,Ne=z.scrolling,ze=z.onSwipe,Ye=z.targetSlide,Qe=z.currentSlide,me=z.infinite;if(!X)return Q&&p(w),{};var Ce=ve?Ee/le:se/le,$e=B(ne,ve),Ie={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(Ne||!ne.swipeLength)return Ie;if(ne.swipeLength>Ce){p(w),ze&&ze($e);var Je,mt,ot=me?Qe:Ye;switch($e){case"left":case"up":mt=ot+O(z),Je=Pe?M(z,mt):mt,Ie.currentDirection=0;break;case"right":case"down":mt=ot-O(z),Je=Pe?M(z,mt):mt,Ie.currentDirection=1;break;default:Je=ot}Ie.triggerSlideHandler=Je}else{var Rt=T(z);Ie.trackStyle=R(o(o({},z),{},{left:Rt}))}return Ie};var Y=Me.getNavigableIndexes=function(w){for(var z=w.infinite?w.slideCount*2:w.slideCount,X=w.infinite?w.slidesToShow*-1:0,Q=w.infinite?w.slidesToShow*-1:0,ne=[];X<z;)ne.push(X),X=Q+w.slidesToScroll,Q+=Math.min(w.slidesToScroll,w.slidesToShow);return ne},M=Me.checkNavigable=function(w,z){var X=Y(w),Q=0;if(z>X[X.length-1])z=X[X.length-1];else for(var ne in X){if(z<X[ne]){z=Q;break}Q=X[ne]}return z},O=Me.getSlideCount=function(w){var z=w.centerMode?w.slideWidth*Math.floor(w.slidesToShow/2):0;if(w.swipeToSlide){var X,Q=w.listRef,ne=Q.querySelectorAll&&Q.querySelectorAll(".slick-slide")||[];if(Array.from(ne).every(function(ve){if(w.vertical){if(ve.offsetTop+D(ve)/2>w.swipeLeft*-1)return X=ve,!1}else if(ve.offsetLeft-z+V(ve)/2>w.swipeLeft*-1)return X=ve,!1;return!0}),!X)return 0;var se=w.rtl===!0?w.slideCount-w.currentSlide:w.currentSlide,le=Math.abs(X.dataset.index-se)||1;return le}else return w.slidesToScroll},C=Me.checkSpecKeys=function(w,z){return z.reduce(function(X,Q){return X&&w.hasOwnProperty(Q)},!0)?null:console.error("Keys Missing:",w)},I=Me.getTrackCSS=function(w){C(w,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var z,X,Q=w.slideCount+2*w.slidesToShow;w.vertical?X=Q*w.slideHeight:z=j(w)*w.slideWidth;var ne={opacity:1,transition:"",WebkitTransition:""};if(w.useTransform){var se=w.vertical?"translate3d(0px, "+w.left+"px, 0px)":"translate3d("+w.left+"px, 0px, 0px)",le=w.vertical?"translate3d(0px, "+w.left+"px, 0px)":"translate3d("+w.left+"px, 0px, 0px)",ve=w.vertical?"translateY("+w.left+"px)":"translateX("+w.left+"px)";ne=o(o({},ne),{},{WebkitTransform:se,transform:le,msTransform:ve})}else w.vertical?ne.top=w.left:ne.left=w.left;return w.fade&&(ne={opacity:1}),z&&(ne.width=z),X&&(ne.height=X),window&&!window.addEventListener&&window.attachEvent&&(w.vertical?ne.marginTop=w.left+"px":ne.marginLeft=w.left+"px"),ne},R=Me.getTrackAnimateCSS=function(w){C(w,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var z=I(w);return w.useTransform?(z.WebkitTransition="-webkit-transform "+w.speed+"ms "+w.cssEase,z.transition="transform "+w.speed+"ms "+w.cssEase):w.vertical?z.transition="top "+w.speed+"ms "+w.cssEase:z.transition="left "+w.speed+"ms "+w.cssEase,z},T=Me.getTrackLeft=function(w){if(w.unslick)return 0;C(w,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var z=w.slideIndex,X=w.trackRef,Q=w.infinite,ne=w.centerMode,se=w.slideCount,le=w.slidesToShow,ve=w.slidesToScroll,Ee=w.slideWidth,Pe=w.listWidth,Ne=w.variableWidth,ze=w.slideHeight,Ye=w.fade,Qe=w.vertical,me=0,Ce,$e,Ie=0;if(Ye||w.slideCount===1)return 0;var Je=0;if(Q?(Je=-U(w),se%ve!==0&&z+ve>se&&(Je=-(z>se?le-(z-se):se%ve)),ne&&(Je+=parseInt(le/2))):(se%ve!==0&&z+ve>se&&(Je=le-se%ve),ne&&(Je=parseInt(le/2))),me=Je*Ee,Ie=Je*ze,Qe?Ce=z*ze*-1+Ie:Ce=z*Ee*-1+me,Ne===!0){var mt,ot=X&&X.node;if(mt=z+U(w),$e=ot&&ot.childNodes[mt],Ce=$e?$e.offsetLeft*-1:0,ne===!0){mt=Q?z+U(w):z,$e=ot&&ot.children[mt],Ce=0;for(var Rt=0;Rt<mt;Rt++)Ce-=ot&&ot.children[Rt]&&ot.children[Rt].offsetWidth;Ce-=parseInt(w.centerPadding),Ce+=$e&&(Pe-$e.offsetWidth)/2}}return Ce},U=Me.getPreClones=function(w){return w.unslick||!w.infinite?0:w.variableWidth?w.slideCount:w.slidesToShow+(w.centerMode?1:0)},$=Me.getPostClones=function(w){return w.unslick||!w.infinite?0:w.slideCount},j=Me.getTotalSlides=function(w){return w.slideCount===1?1:U(w)+w.slideCount+$(w)},G=Me.siblingDirection=function(w){return w.targetSlide>w.currentSlide?w.targetSlide>w.currentSlide+Z(w)?"left":"right":w.targetSlide<w.currentSlide-H(w)?"right":"left"},Z=Me.slidesOnRight=function(w){var z=w.slidesToShow,X=w.centerMode,Q=w.rtl,ne=w.centerPadding;if(X){var se=(z-1)/2+1;return parseInt(ne)>0&&(se+=1),Q&&z%2===0&&(se+=1),se}return Q?0:z-1},H=Me.slidesOnLeft=function(w){var z=w.slidesToShow,X=w.centerMode,Q=w.rtl,ne=w.centerPadding;if(X){var se=(z-1)/2+1;return parseInt(ne)>0&&(se+=1),!Q&&z%2===0&&(se+=1),se}return Q?z-1:0};Me.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var S=Me.validSettings=Object.keys(e.default);function J(W){return S.reduce(function(w,z){return W.hasOwnProperty(z)&&(w[z]=W[z]),w},{})}return Me}var _d={},_R;function sQ(){if(_R)return _d;_R=1,Object.defineProperty(_d,"__esModule",{value:!0}),_d.Track=void 0;var t=r(Rs()),e=r(Gg()),n=Gh();function r(R){return R&&R.__esModule?R:{default:R}}function i(R){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},i(R)}function o(){return o=Object.assign?Object.assign.bind():function(R){for(var T=1;T<arguments.length;T++){var U=arguments[T];for(var $ in U)Object.prototype.hasOwnProperty.call(U,$)&&(R[$]=U[$])}return R},o.apply(this,arguments)}function l(R,T){if(!(R instanceof T))throw new TypeError("Cannot call a class as a function")}function c(R,T){for(var U=0;U<T.length;U++){var $=T[U];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(R,F($.key),$)}}function d(R,T,U){return T&&c(R.prototype,T),Object.defineProperty(R,"prototype",{writable:!1}),R}function f(R,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(T&&T.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),T&&p(R,T)}function p(R,T){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,j){return $.__proto__=j,$},p(R,T)}function y(R){var T=N();return function(){var $=P(R),j;if(T){var G=P(this).constructor;j=Reflect.construct($,arguments,G)}else j=$.apply(this,arguments);return x(this,j)}}function x(R,T){if(T&&(i(T)==="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E(R)}function E(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function N(){try{var R=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N=function(){return!!R})()}function P(R){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(U){return U.__proto__||Object.getPrototypeOf(U)},P(R)}function V(R,T){var U=Object.keys(R);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(R);T&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(R,j).enumerable})),U.push.apply(U,$)}return U}function D(R){for(var T=1;T<arguments.length;T++){var U=arguments[T]!=null?arguments[T]:{};T%2?V(Object(U),!0).forEach(function($){B(R,$,U[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(U)):V(Object(U)).forEach(function($){Object.defineProperty(R,$,Object.getOwnPropertyDescriptor(U,$))})}return R}function B(R,T,U){return T=F(T),T in R?Object.defineProperty(R,T,{value:U,enumerable:!0,configurable:!0,writable:!0}):R[T]=U,R}function F(R){var T=Y(R,"string");return i(T)=="symbol"?T:String(T)}function Y(R,T){if(i(R)!="object"||!R)return R;var U=R[Symbol.toPrimitive];if(U!==void 0){var $=U.call(R,T);if(i($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(R)}var M=function(T){var U,$,j,G,Z;T.rtl?Z=T.slideCount-1-T.index:Z=T.index,j=Z<0||Z>=T.slideCount,T.centerMode?(G=Math.floor(T.slidesToShow/2),$=(Z-T.currentSlide)%T.slideCount===0,Z>T.currentSlide-G-1&&Z<=T.currentSlide+G&&(U=!0)):U=T.currentSlide<=Z&&Z<T.currentSlide+T.slidesToShow;var H;T.targetSlide<0?H=T.targetSlide+T.slideCount:T.targetSlide>=T.slideCount?H=T.targetSlide-T.slideCount:H=T.targetSlide;var S=Z===H;return{"slick-slide":!0,"slick-active":U,"slick-center":$,"slick-cloned":j,"slick-current":S}},O=function(T){var U={};return(T.variableWidth===void 0||T.variableWidth===!1)&&(U.width=T.slideWidth),T.fade&&(U.position="relative",T.vertical?U.top=-T.index*parseInt(T.slideHeight):U.left=-T.index*parseInt(T.slideWidth),U.opacity=T.currentSlide===T.index?1:0,U.zIndex=T.currentSlide===T.index?999:998,T.useCSS&&(U.transition="opacity "+T.speed+"ms "+T.cssEase+", visibility "+T.speed+"ms "+T.cssEase)),U},C=function(T,U){return T.key||U},I=function(T){var U,$=[],j=[],G=[],Z=t.default.Children.count(T.children),H=(0,n.lazyStartIndex)(T),S=(0,n.lazyEndIndex)(T);return t.default.Children.forEach(T.children,function(J,W){var w,z={message:"children",index:W,slidesToScroll:T.slidesToScroll,currentSlide:T.currentSlide};!T.lazyLoad||T.lazyLoad&&T.lazyLoadedList.indexOf(W)>=0?w=J:w=t.default.createElement("div",null);var X=O(D(D({},T),{},{index:W})),Q=w.props.className||"",ne=M(D(D({},T),{},{index:W}));if($.push(t.default.cloneElement(w,{key:"original"+C(w,W),"data-index":W,className:(0,e.default)(ne,Q),tabIndex:"-1","aria-hidden":!ne["slick-active"],style:D(D({outline:"none"},w.props.style||{}),X),onClick:function(ve){w.props&&w.props.onClick&&w.props.onClick(ve),T.focusOnSelect&&T.focusOnSelect(z)}})),T.infinite&&T.fade===!1){var se=Z-W;se<=(0,n.getPreClones)(T)&&(U=-se,U>=H&&(w=J),ne=M(D(D({},T),{},{index:U})),j.push(t.default.cloneElement(w,{key:"precloned"+C(w,U),"data-index":U,tabIndex:"-1",className:(0,e.default)(ne,Q),"aria-hidden":!ne["slick-active"],style:D(D({},w.props.style||{}),X),onClick:function(ve){w.props&&w.props.onClick&&w.props.onClick(ve),T.focusOnSelect&&T.focusOnSelect(z)}}))),U=Z+W,U<S&&(w=J),ne=M(D(D({},T),{},{index:U})),G.push(t.default.cloneElement(w,{key:"postcloned"+C(w,U),"data-index":U,tabIndex:"-1",className:(0,e.default)(ne,Q),"aria-hidden":!ne["slick-active"],style:D(D({},w.props.style||{}),X),onClick:function(ve){w.props&&w.props.onClick&&w.props.onClick(ve),T.focusOnSelect&&T.focusOnSelect(z)}}))}}),T.rtl?j.concat($,G).reverse():j.concat($,G)};return _d.Track=function(R){f(U,R);var T=y(U);function U(){var $;l(this,U);for(var j=arguments.length,G=new Array(j),Z=0;Z<j;Z++)G[Z]=arguments[Z];return $=T.call.apply(T,[this].concat(G)),B(E($),"node",null),B(E($),"handleRef",function(H){$.node=H}),$}return d(U,[{key:"render",value:function(){var j=I(this.props),G=this.props,Z=G.onMouseEnter,H=G.onMouseOver,S=G.onMouseLeave,J={onMouseEnter:Z,onMouseOver:H,onMouseLeave:S};return t.default.createElement("div",o({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},J),j)}}]),U}(t.default.PureComponent),_d}var Sd={},SR;function aQ(){if(SR)return Sd;SR=1;function t(M){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},t(M)}Object.defineProperty(Sd,"__esModule",{value:!0}),Sd.Dots=void 0;var e=i(Rs()),n=i(Gg()),r=Gh();function i(M){return M&&M.__esModule?M:{default:M}}function o(M,O){var C=Object.keys(M);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(M);O&&(I=I.filter(function(R){return Object.getOwnPropertyDescriptor(M,R).enumerable})),C.push.apply(C,I)}return C}function l(M){for(var O=1;O<arguments.length;O++){var C=arguments[O]!=null?arguments[O]:{};O%2?o(Object(C),!0).forEach(function(I){c(M,I,C[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(C)):o(Object(C)).forEach(function(I){Object.defineProperty(M,I,Object.getOwnPropertyDescriptor(C,I))})}return M}function c(M,O,C){return O=y(O),O in M?Object.defineProperty(M,O,{value:C,enumerable:!0,configurable:!0,writable:!0}):M[O]=C,M}function d(M,O){if(!(M instanceof O))throw new TypeError("Cannot call a class as a function")}function f(M,O){for(var C=0;C<O.length;C++){var I=O[C];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,y(I.key),I)}}function p(M,O,C){return O&&f(M.prototype,O),Object.defineProperty(M,"prototype",{writable:!1}),M}function y(M){var O=x(M,"string");return t(O)=="symbol"?O:String(O)}function x(M,O){if(t(M)!="object"||!M)return M;var C=M[Symbol.toPrimitive];if(C!==void 0){var I=C.call(M,O);if(t(I)!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(M)}function E(M,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(O&&O.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),O&&N(M,O)}function N(M,O){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,R){return I.__proto__=R,I},N(M,O)}function P(M){var O=B();return function(){var I=F(M),R;if(O){var T=F(this).constructor;R=Reflect.construct(I,arguments,T)}else R=I.apply(this,arguments);return V(this,R)}}function V(M,O){if(O&&(t(O)==="object"||typeof O=="function"))return O;if(O!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return D(M)}function D(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}function B(){try{var M=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B=function(){return!!M})()}function F(M){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)},F(M)}var Y=function(O){var C;return O.infinite?C=Math.ceil(O.slideCount/O.slidesToScroll):C=Math.ceil((O.slideCount-O.slidesToShow)/O.slidesToScroll)+1,C};return Sd.Dots=function(M){E(C,M);var O=P(C);function C(){return d(this,C),O.apply(this,arguments)}return p(C,[{key:"clickHandler",value:function(R,T){T.preventDefault(),this.props.clickHandler(R)}},{key:"render",value:function(){for(var R=this.props,T=R.onMouseEnter,U=R.onMouseOver,$=R.onMouseLeave,j=R.infinite,G=R.slidesToScroll,Z=R.slidesToShow,H=R.slideCount,S=R.currentSlide,J=Y({slideCount:H,slidesToScroll:G,slidesToShow:Z,infinite:j}),W={onMouseEnter:T,onMouseOver:U,onMouseLeave:$},w=[],z=0;z<J;z++){var X=(z+1)*G-1,Q=j?X:(0,r.clamp)(X,0,H-1),ne=Q-(G-1),se=j?ne:(0,r.clamp)(ne,0,H-1),le=(0,n.default)({"slick-active":j?S>=se&&S<=Q:S===se}),ve={message:"dots",index:z,slidesToScroll:G,currentSlide:S},Ee=this.clickHandler.bind(this,ve);w=w.concat(e.default.createElement("li",{key:z,className:le},e.default.cloneElement(this.props.customPaging(z),{onClick:Ee})))}return e.default.cloneElement(this.props.appendDots(w),l({className:this.props.dotsClass},W))}}]),C}(e.default.PureComponent),Sd}var Xo={},TR;function oQ(){if(TR)return Xo;TR=1;function t(M){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},t(M)}Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.PrevArrow=Xo.NextArrow=void 0;var e=i(Rs()),n=i(Gg()),r=Gh();function i(M){return M&&M.__esModule?M:{default:M}}function o(){return o=Object.assign?Object.assign.bind():function(M){for(var O=1;O<arguments.length;O++){var C=arguments[O];for(var I in C)Object.prototype.hasOwnProperty.call(C,I)&&(M[I]=C[I])}return M},o.apply(this,arguments)}function l(M,O){var C=Object.keys(M);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(M);O&&(I=I.filter(function(R){return Object.getOwnPropertyDescriptor(M,R).enumerable})),C.push.apply(C,I)}return C}function c(M){for(var O=1;O<arguments.length;O++){var C=arguments[O]!=null?arguments[O]:{};O%2?l(Object(C),!0).forEach(function(I){d(M,I,C[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(C)):l(Object(C)).forEach(function(I){Object.defineProperty(M,I,Object.getOwnPropertyDescriptor(C,I))})}return M}function d(M,O,C){return O=x(O),O in M?Object.defineProperty(M,O,{value:C,enumerable:!0,configurable:!0,writable:!0}):M[O]=C,M}function f(M,O){if(!(M instanceof O))throw new TypeError("Cannot call a class as a function")}function p(M,O){for(var C=0;C<O.length;C++){var I=O[C];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,x(I.key),I)}}function y(M,O,C){return O&&p(M.prototype,O),Object.defineProperty(M,"prototype",{writable:!1}),M}function x(M){var O=E(M,"string");return t(O)=="symbol"?O:String(O)}function E(M,O){if(t(M)!="object"||!M)return M;var C=M[Symbol.toPrimitive];if(C!==void 0){var I=C.call(M,O);if(t(I)!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(M)}function N(M,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(O&&O.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),O&&P(M,O)}function P(M,O){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,R){return I.__proto__=R,I},P(M,O)}function V(M){var O=F();return function(){var I=Y(M),R;if(O){var T=Y(this).constructor;R=Reflect.construct(I,arguments,T)}else R=I.apply(this,arguments);return D(this,R)}}function D(M,O){if(O&&(t(O)==="object"||typeof O=="function"))return O;if(O!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B(M)}function B(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}function F(){try{var M=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F=function(){return!!M})()}function Y(M){return Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)},Y(M)}return Xo.PrevArrow=function(M){N(C,M);var O=V(C);function C(){return f(this,C),O.apply(this,arguments)}return y(C,[{key:"clickHandler",value:function(R,T){T&&T.preventDefault(),this.props.clickHandler(R,T)}},{key:"render",value:function(){var R={"slick-arrow":!0,"slick-prev":!0},T=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(R["slick-disabled"]=!0,T=null);var U={key:"0","data-role":"none",className:(0,n.default)(R),style:{display:"block"},onClick:T},$={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},j;return this.props.prevArrow?j=e.default.cloneElement(this.props.prevArrow,c(c({},U),$)):j=e.default.createElement("button",o({key:"0",type:"button"},U)," ","Previous"),j}}]),C}(e.default.PureComponent),Xo.NextArrow=function(M){N(C,M);var O=V(C);function C(){return f(this,C),O.apply(this,arguments)}return y(C,[{key:"clickHandler",value:function(R,T){T&&T.preventDefault(),this.props.clickHandler(R,T)}},{key:"render",value:function(){var R={"slick-arrow":!0,"slick-next":!0},T=this.clickHandler.bind(this,{message:"next"});(0,r.canGoNext)(this.props)||(R["slick-disabled"]=!0,T=null);var U={key:"1","data-role":"none",className:(0,n.default)(R),style:{display:"block"},onClick:T},$={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},j;return this.props.nextArrow?j=e.default.cloneElement(this.props.nextArrow,c(c({},U),$)):j=e.default.createElement("button",o({key:"1",type:"button"},U)," ","Next"),j}}]),C}(e.default.PureComponent),Xo}var nj=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var l=o[i];n.call(r,l[1],l[0])}},e}()}(),cx=typeof window<"u"&&typeof document<"u"&&window.document===document,Wp=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),lQ=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Wp):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),uQ=2;function cQ(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&c()}function l(){lQ(o)}function c(){var d=Date.now();if(n){if(d-i<uQ)return;r=!0}else n=!0,r=!1,setTimeout(l,e);i=d}return c}var dQ=20,hQ=["top","right","bottom","left","width","height","size","weight"],fQ=typeof MutationObserver<"u",mQ=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=cQ(this.refresh.bind(this),dQ)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!cx||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),fQ?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!cx||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=hQ.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),rj=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},Ju=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Wp},ij=Kg(0,0,0,0);function Yp(t){return parseFloat(t)||0}function ER(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var o=t["border-"+i+"-width"];return r+Yp(o)},0)}function pQ(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var o=i[r],l=t["padding-"+o];n[o]=Yp(l)}return n}function gQ(t){var e=t.getBBox();return Kg(0,0,e.width,e.height)}function vQ(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return ij;var r=Ju(t).getComputedStyle(t),i=pQ(r),o=i.left+i.right,l=i.top+i.bottom,c=Yp(r.width),d=Yp(r.height);if(r.boxSizing==="border-box"&&(Math.round(c+o)!==e&&(c-=ER(r,"left","right")+o),Math.round(d+l)!==n&&(d-=ER(r,"top","bottom")+l)),!bQ(t)){var f=Math.round(c+o)-e,p=Math.round(d+l)-n;Math.abs(f)!==1&&(c-=f),Math.abs(p)!==1&&(d-=p)}return Kg(i.left,i.top,c,d)}var yQ=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Ju(t).SVGGraphicsElement}:function(t){return t instanceof Ju(t).SVGElement&&typeof t.getBBox=="function"}}();function bQ(t){return t===Ju(t).document.documentElement}function xQ(t){return cx?yQ(t)?gQ(t):vQ(t):ij}function wQ(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,l=Object.create(o.prototype);return rj(l,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),l}function Kg(t,e,n,r){return{x:t,y:e,width:n,height:r}}var _Q=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Kg(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=xQ(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),SQ=function(){function t(e,n){var r=wQ(n);rj(this,{target:e,contentRect:r})}return t}(),TQ=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new nj,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Ju(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new _Q(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Ju(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new SQ(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),sj=typeof WeakMap<"u"?new WeakMap:new nj,aj=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=mQ.getInstance(),r=new TQ(e,n,this);sj.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){aj.prototype[t]=function(){var e;return(e=sj.get(this))[t].apply(e,arguments)}});var EQ=function(){return typeof Wp.ResizeObserver<"u"?Wp.ResizeObserver:aj}();const AQ=Object.freeze(Object.defineProperty({__proto__:null,default:EQ},Symbol.toStringTag,{value:"Module"})),CQ=P4(AQ);var AR;function RQ(){if(AR)return wd;AR=1,Object.defineProperty(wd,"__esModule",{value:!0}),wd.InnerSlider=void 0;var t=f(Rs()),e=f(rQ()),n=f(iQ()),r=f(Gg()),i=Gh(),o=sQ(),l=aQ(),c=oQ(),d=f(CQ);function f(j){return j&&j.__esModule?j:{default:j}}function p(j){"@babel/helpers - typeof";return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},p(j)}function y(){return y=Object.assign?Object.assign.bind():function(j){for(var G=1;G<arguments.length;G++){var Z=arguments[G];for(var H in Z)Object.prototype.hasOwnProperty.call(Z,H)&&(j[H]=Z[H])}return j},y.apply(this,arguments)}function x(j,G){if(j==null)return{};var Z=E(j,G),H,S;if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(j);for(S=0;S<J.length;S++)H=J[S],!(G.indexOf(H)>=0)&&Object.prototype.propertyIsEnumerable.call(j,H)&&(Z[H]=j[H])}return Z}function E(j,G){if(j==null)return{};var Z={},H=Object.keys(j),S,J;for(J=0;J<H.length;J++)S=H[J],!(G.indexOf(S)>=0)&&(Z[S]=j[S]);return Z}function N(j,G){var Z=Object.keys(j);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(j);G&&(H=H.filter(function(S){return Object.getOwnPropertyDescriptor(j,S).enumerable})),Z.push.apply(Z,H)}return Z}function P(j){for(var G=1;G<arguments.length;G++){var Z=arguments[G]!=null?arguments[G]:{};G%2?N(Object(Z),!0).forEach(function(H){T(j,H,Z[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(Z)):N(Object(Z)).forEach(function(H){Object.defineProperty(j,H,Object.getOwnPropertyDescriptor(Z,H))})}return j}function V(j,G){if(!(j instanceof G))throw new TypeError("Cannot call a class as a function")}function D(j,G){for(var Z=0;Z<G.length;Z++){var H=G[Z];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(j,U(H.key),H)}}function B(j,G,Z){return G&&D(j.prototype,G),Object.defineProperty(j,"prototype",{writable:!1}),j}function F(j,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(G&&G.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),G&&Y(j,G)}function Y(j,G){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(H,S){return H.__proto__=S,H},Y(j,G)}function M(j){var G=I();return function(){var H=R(j),S;if(G){var J=R(this).constructor;S=Reflect.construct(H,arguments,J)}else S=H.apply(this,arguments);return O(this,S)}}function O(j,G){if(G&&(p(G)==="object"||typeof G=="function"))return G;if(G!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C(j)}function C(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function I(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I=function(){return!!j})()}function R(j){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Z){return Z.__proto__||Object.getPrototypeOf(Z)},R(j)}function T(j,G,Z){return G=U(G),G in j?Object.defineProperty(j,G,{value:Z,enumerable:!0,configurable:!0,writable:!0}):j[G]=Z,j}function U(j){var G=$(j,"string");return p(G)=="symbol"?G:String(G)}function $(j,G){if(p(j)!="object"||!j)return j;var Z=j[Symbol.toPrimitive];if(Z!==void 0){var H=Z.call(j,G);if(p(H)!="object")return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return(G==="string"?String:Number)(j)}return wd.InnerSlider=function(j){F(Z,j);var G=M(Z);function Z(H){var S;V(this,Z),S=G.call(this,H),T(C(S),"listRefHandler",function(W){return S.list=W}),T(C(S),"trackRefHandler",function(W){return S.track=W}),T(C(S),"adaptHeight",function(){if(S.props.adaptiveHeight&&S.list){var W=S.list.querySelector('[data-index="'.concat(S.state.currentSlide,'"]'));S.list.style.height=(0,i.getHeight)(W)+"px"}}),T(C(S),"componentDidMount",function(){if(S.props.onInit&&S.props.onInit(),S.props.lazyLoad){var W=(0,i.getOnDemandLazySlides)(P(P({},S.props),S.state));W.length>0&&(S.setState(function(z){return{lazyLoadedList:z.lazyLoadedList.concat(W)}}),S.props.onLazyLoad&&S.props.onLazyLoad(W))}var w=P({listRef:S.list,trackRef:S.track},S.props);S.updateState(w,!0,function(){S.adaptHeight(),S.props.autoplay&&S.autoPlay("update")}),S.props.lazyLoad==="progressive"&&(S.lazyLoadTimer=setInterval(S.progressiveLazyLoad,1e3)),S.ro=new d.default(function(){S.state.animating?(S.onWindowResized(!1),S.callbackTimers.push(setTimeout(function(){return S.onWindowResized()},S.props.speed))):S.onWindowResized()}),S.ro.observe(S.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(z){z.onfocus=S.props.pauseOnFocus?S.onSlideFocus:null,z.onblur=S.props.pauseOnFocus?S.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",S.onWindowResized):window.attachEvent("onresize",S.onWindowResized)}),T(C(S),"componentWillUnmount",function(){S.animationEndCallback&&clearTimeout(S.animationEndCallback),S.lazyLoadTimer&&clearInterval(S.lazyLoadTimer),S.callbackTimers.length&&(S.callbackTimers.forEach(function(W){return clearTimeout(W)}),S.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",S.onWindowResized):window.detachEvent("onresize",S.onWindowResized),S.autoplayTimer&&clearInterval(S.autoplayTimer),S.ro.disconnect()}),T(C(S),"componentDidUpdate",function(W){if(S.checkImagesLoad(),S.props.onReInit&&S.props.onReInit(),S.props.lazyLoad){var w=(0,i.getOnDemandLazySlides)(P(P({},S.props),S.state));w.length>0&&(S.setState(function(Q){return{lazyLoadedList:Q.lazyLoadedList.concat(w)}}),S.props.onLazyLoad&&S.props.onLazyLoad(w))}S.adaptHeight();var z=P(P({listRef:S.list,trackRef:S.track},S.props),S.state),X=S.didPropsChange(W);X&&S.updateState(z,X,function(){S.state.currentSlide>=t.default.Children.count(S.props.children)&&S.changeSlide({message:"index",index:t.default.Children.count(S.props.children)-S.props.slidesToShow,currentSlide:S.state.currentSlide}),S.props.autoplay?S.autoPlay("update"):S.pause("paused")})}),T(C(S),"onWindowResized",function(W){S.debouncedResize&&S.debouncedResize.cancel(),S.debouncedResize=(0,n.default)(function(){return S.resizeWindow(W)},50),S.debouncedResize()}),T(C(S),"resizeWindow",function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,w=!!(S.track&&S.track.node);if(w){var z=P(P({listRef:S.list,trackRef:S.track},S.props),S.state);S.updateState(z,W,function(){S.props.autoplay?S.autoPlay("update"):S.pause("paused")}),S.setState({animating:!1}),clearTimeout(S.animationEndCallback),delete S.animationEndCallback}}),T(C(S),"updateState",function(W,w,z){var X=(0,i.initializedState)(W);W=P(P(P({},W),X),{},{slideIndex:X.currentSlide});var Q=(0,i.getTrackLeft)(W);W=P(P({},W),{},{left:Q});var ne=(0,i.getTrackCSS)(W);(w||t.default.Children.count(S.props.children)!==t.default.Children.count(W.children))&&(X.trackStyle=ne),S.setState(X,z)}),T(C(S),"ssrInit",function(){if(S.props.variableWidth){var W=0,w=0,z=[],X=(0,i.getPreClones)(P(P(P({},S.props),S.state),{},{slideCount:S.props.children.length})),Q=(0,i.getPostClones)(P(P(P({},S.props),S.state),{},{slideCount:S.props.children.length}));S.props.children.forEach(function($e){z.push($e.props.style.width),W+=$e.props.style.width});for(var ne=0;ne<X;ne++)w+=z[z.length-1-ne],W+=z[z.length-1-ne];for(var se=0;se<Q;se++)W+=z[se];for(var le=0;le<S.state.currentSlide;le++)w+=z[le];var ve={width:W+"px",left:-w+"px"};if(S.props.centerMode){var Ee="".concat(z[S.state.currentSlide],"px");ve.left="calc(".concat(ve.left," + (100% - ").concat(Ee,") / 2 ) ")}return{trackStyle:ve}}var Pe=t.default.Children.count(S.props.children),Ne=P(P(P({},S.props),S.state),{},{slideCount:Pe}),ze=(0,i.getPreClones)(Ne)+(0,i.getPostClones)(Ne)+Pe,Ye=100/S.props.slidesToShow*ze,Qe=100/ze,me=-Qe*((0,i.getPreClones)(Ne)+S.state.currentSlide)*Ye/100;S.props.centerMode&&(me+=(100-Qe*Ye/100)/2);var Ce={width:Ye+"%",left:me+"%"};return{slideWidth:Qe+"%",trackStyle:Ce}}),T(C(S),"checkImagesLoad",function(){var W=S.list&&S.list.querySelectorAll&&S.list.querySelectorAll(".slick-slide img")||[],w=W.length,z=0;Array.prototype.forEach.call(W,function(X){var Q=function(){return++z&&z>=w&&S.onWindowResized()};if(!X.onclick)X.onclick=function(){return X.parentNode.focus()};else{var ne=X.onclick;X.onclick=function(se){ne(se),X.parentNode.focus()}}X.onload||(S.props.lazyLoad?X.onload=function(){S.adaptHeight(),S.callbackTimers.push(setTimeout(S.onWindowResized,S.props.speed))}:(X.onload=Q,X.onerror=function(){Q(),S.props.onLazyLoadError&&S.props.onLazyLoadError()}))})}),T(C(S),"progressiveLazyLoad",function(){for(var W=[],w=P(P({},S.props),S.state),z=S.state.currentSlide;z<S.state.slideCount+(0,i.getPostClones)(w);z++)if(S.state.lazyLoadedList.indexOf(z)<0){W.push(z);break}for(var X=S.state.currentSlide-1;X>=-(0,i.getPreClones)(w);X--)if(S.state.lazyLoadedList.indexOf(X)<0){W.push(X);break}W.length>0?(S.setState(function(Q){return{lazyLoadedList:Q.lazyLoadedList.concat(W)}}),S.props.onLazyLoad&&S.props.onLazyLoad(W)):S.lazyLoadTimer&&(clearInterval(S.lazyLoadTimer),delete S.lazyLoadTimer)}),T(C(S),"slideHandler",function(W){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,z=S.props,X=z.asNavFor,Q=z.beforeChange,ne=z.onLazyLoad,se=z.speed,le=z.afterChange,ve=S.state.currentSlide,Ee=(0,i.slideHandler)(P(P(P({index:W},S.props),S.state),{},{trackRef:S.track,useCSS:S.props.useCSS&&!w})),Pe=Ee.state,Ne=Ee.nextState;if(Pe){Q&&Q(ve,Pe.currentSlide);var ze=Pe.lazyLoadedList.filter(function(Ye){return S.state.lazyLoadedList.indexOf(Ye)<0});ne&&ze.length>0&&ne(ze),!S.props.waitForAnimate&&S.animationEndCallback&&(clearTimeout(S.animationEndCallback),le&&le(ve),delete S.animationEndCallback),S.setState(Pe,function(){X&&S.asNavForIndex!==W&&(S.asNavForIndex=W,X.innerSlider.slideHandler(W)),Ne&&(S.animationEndCallback=setTimeout(function(){var Ye=Ne.animating,Qe=x(Ne,["animating"]);S.setState(Qe,function(){S.callbackTimers.push(setTimeout(function(){return S.setState({animating:Ye})},10)),le&&le(Pe.currentSlide),delete S.animationEndCallback})},se))})}}),T(C(S),"changeSlide",function(W){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,z=P(P({},S.props),S.state),X=(0,i.changeSlide)(z,W);if(!(X!==0&&!X)&&(w===!0?S.slideHandler(X,w):S.slideHandler(X),S.props.autoplay&&S.autoPlay("update"),S.props.focusOnSelect)){var Q=S.list.querySelectorAll(".slick-current");Q[0]&&Q[0].focus()}}),T(C(S),"clickHandler",function(W){S.clickable===!1&&(W.stopPropagation(),W.preventDefault()),S.clickable=!0}),T(C(S),"keyHandler",function(W){var w=(0,i.keyHandler)(W,S.props.accessibility,S.props.rtl);w!==""&&S.changeSlide({message:w})}),T(C(S),"selectHandler",function(W){S.changeSlide(W)}),T(C(S),"disableBodyScroll",function(){var W=function(z){z=z||window.event,z.preventDefault&&z.preventDefault(),z.returnValue=!1};window.ontouchmove=W}),T(C(S),"enableBodyScroll",function(){window.ontouchmove=null}),T(C(S),"swipeStart",function(W){S.props.verticalSwiping&&S.disableBodyScroll();var w=(0,i.swipeStart)(W,S.props.swipe,S.props.draggable);w!==""&&S.setState(w)}),T(C(S),"swipeMove",function(W){var w=(0,i.swipeMove)(W,P(P(P({},S.props),S.state),{},{trackRef:S.track,listRef:S.list,slideIndex:S.state.currentSlide}));w&&(w.swiping&&(S.clickable=!1),S.setState(w))}),T(C(S),"swipeEnd",function(W){var w=(0,i.swipeEnd)(W,P(P(P({},S.props),S.state),{},{trackRef:S.track,listRef:S.list,slideIndex:S.state.currentSlide}));if(w){var z=w.triggerSlideHandler;delete w.triggerSlideHandler,S.setState(w),z!==void 0&&(S.slideHandler(z),S.props.verticalSwiping&&S.enableBodyScroll())}}),T(C(S),"touchEnd",function(W){S.swipeEnd(W),S.clickable=!0}),T(C(S),"slickPrev",function(){S.callbackTimers.push(setTimeout(function(){return S.changeSlide({message:"previous"})},0))}),T(C(S),"slickNext",function(){S.callbackTimers.push(setTimeout(function(){return S.changeSlide({message:"next"})},0))}),T(C(S),"slickGoTo",function(W){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(W=Number(W),isNaN(W))return"";S.callbackTimers.push(setTimeout(function(){return S.changeSlide({message:"index",index:W,currentSlide:S.state.currentSlide},w)},0))}),T(C(S),"play",function(){var W;if(S.props.rtl)W=S.state.currentSlide-S.props.slidesToScroll;else if((0,i.canGoNext)(P(P({},S.props),S.state)))W=S.state.currentSlide+S.props.slidesToScroll;else return!1;S.slideHandler(W)}),T(C(S),"autoPlay",function(W){S.autoplayTimer&&clearInterval(S.autoplayTimer);var w=S.state.autoplaying;if(W==="update"){if(w==="hovered"||w==="focused"||w==="paused")return}else if(W==="leave"){if(w==="paused"||w==="focused")return}else if(W==="blur"&&(w==="paused"||w==="hovered"))return;S.autoplayTimer=setInterval(S.play,S.props.autoplaySpeed+50),S.setState({autoplaying:"playing"})}),T(C(S),"pause",function(W){S.autoplayTimer&&(clearInterval(S.autoplayTimer),S.autoplayTimer=null);var w=S.state.autoplaying;W==="paused"?S.setState({autoplaying:"paused"}):W==="focused"?(w==="hovered"||w==="playing")&&S.setState({autoplaying:"focused"}):w==="playing"&&S.setState({autoplaying:"hovered"})}),T(C(S),"onDotsOver",function(){return S.props.autoplay&&S.pause("hovered")}),T(C(S),"onDotsLeave",function(){return S.props.autoplay&&S.state.autoplaying==="hovered"&&S.autoPlay("leave")}),T(C(S),"onTrackOver",function(){return S.props.autoplay&&S.pause("hovered")}),T(C(S),"onTrackLeave",function(){return S.props.autoplay&&S.state.autoplaying==="hovered"&&S.autoPlay("leave")}),T(C(S),"onSlideFocus",function(){return S.props.autoplay&&S.pause("focused")}),T(C(S),"onSlideBlur",function(){return S.props.autoplay&&S.state.autoplaying==="focused"&&S.autoPlay("blur")}),T(C(S),"render",function(){var W=(0,r.default)("slick-slider",S.props.className,{"slick-vertical":S.props.vertical,"slick-initialized":!0}),w=P(P({},S.props),S.state),z=(0,i.extractObject)(w,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),X=S.props.pauseOnHover;z=P(P({},z),{},{onMouseEnter:X?S.onTrackOver:null,onMouseLeave:X?S.onTrackLeave:null,onMouseOver:X?S.onTrackOver:null,focusOnSelect:S.props.focusOnSelect&&S.clickable?S.selectHandler:null});var Q;if(S.props.dots===!0&&S.state.slideCount>=S.props.slidesToShow){var ne=(0,i.extractObject)(w,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),se=S.props.pauseOnDotsHover;ne=P(P({},ne),{},{clickHandler:S.changeSlide,onMouseEnter:se?S.onDotsLeave:null,onMouseOver:se?S.onDotsOver:null,onMouseLeave:se?S.onDotsLeave:null}),Q=t.default.createElement(l.Dots,ne)}var le,ve,Ee=(0,i.extractObject)(w,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);Ee.clickHandler=S.changeSlide,S.props.arrows&&(le=t.default.createElement(c.PrevArrow,Ee),ve=t.default.createElement(c.NextArrow,Ee));var Pe=null;S.props.vertical&&(Pe={height:S.state.listHeight});var Ne=null;S.props.vertical===!1?S.props.centerMode===!0&&(Ne={padding:"0px "+S.props.centerPadding}):S.props.centerMode===!0&&(Ne={padding:S.props.centerPadding+" 0px"});var ze=P(P({},Pe),Ne),Ye=S.props.touchMove,Qe={className:"slick-list",style:ze,onClick:S.clickHandler,onMouseDown:Ye?S.swipeStart:null,onMouseMove:S.state.dragging&&Ye?S.swipeMove:null,onMouseUp:Ye?S.swipeEnd:null,onMouseLeave:S.state.dragging&&Ye?S.swipeEnd:null,onTouchStart:Ye?S.swipeStart:null,onTouchMove:S.state.dragging&&Ye?S.swipeMove:null,onTouchEnd:Ye?S.touchEnd:null,onTouchCancel:S.state.dragging&&Ye?S.swipeEnd:null,onKeyDown:S.props.accessibility?S.keyHandler:null},me={className:W,dir:"ltr",style:S.props.style};return S.props.unslick&&(Qe={className:"slick-list"},me={className:W}),t.default.createElement("div",me,S.props.unslick?"":le,t.default.createElement("div",y({ref:S.listRefHandler},Qe),t.default.createElement(o.Track,y({ref:S.trackRefHandler},z),S.props.children)),S.props.unslick?"":ve,S.props.unslick?"":Q)}),S.list=null,S.track=null,S.state=P(P({},e.default),{},{currentSlide:S.props.initialSlide,targetSlide:S.props.initialSlide?S.props.initialSlide:0,slideCount:t.default.Children.count(S.props.children)}),S.callbackTimers=[],S.clickable=!0,S.debouncedResize=null;var J=S.ssrInit();return S.state=P(P({},S.state),J),S}return B(Z,[{key:"didPropsChange",value:function(S){for(var J=!1,W=0,w=Object.keys(this.props);W<w.length;W++){var z=w[W];if(!S.hasOwnProperty(z)){J=!0;break}if(!(p(S[z])==="object"||typeof S[z]=="function"||isNaN(S[z]))&&S[z]!==this.props[z]){J=!0;break}}return J||t.default.Children.count(this.props.children)!==t.default.Children.count(S.children)}}]),Z}(t.default.Component),wd}var $0,CR;function NQ(){if(CR)return $0;CR=1;var t=function(e){return e.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()}).toLowerCase()};return $0=t,$0}var q0,RR;function IQ(){if(RR)return q0;RR=1;var t=NQ(),e=function(i){var o=/[height|width]$/;return o.test(i)},n=function(i){var o="",l=Object.keys(i);return l.forEach(function(c,d){var f=i[c];c=t(c),e(c)&&typeof f=="number"&&(f=f+"px"),f===!0?o+=c:f===!1?o+="not "+c:o+="("+c+": "+f+")",d<l.length-1&&(o+=" and ")}),o},r=function(i){var o="";return typeof i=="string"?i:i instanceof Array?(i.forEach(function(l,c){o+=n(l),c<i.length-1&&(o+=", ")}),o):n(i)};return q0=r,q0}var G0,NR;function MQ(){if(NR)return G0;NR=1;function t(e){this.options=e,!e.deferSetup&&this.setup()}return t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},G0=t,G0}var K0,IR;function oj(){if(IR)return K0;IR=1;function t(r,i){var o=0,l=r.length,c;for(o;o<l&&(c=i(r[o],o),c!==!1);o++);}function e(r){return Object.prototype.toString.apply(r)==="[object Array]"}function n(r){return typeof r=="function"}return K0={isFunction:n,isArray:e,each:t},K0}var W0,MR;function OQ(){if(MR)return W0;MR=1;var t=MQ(),e=oj().each;function n(r,i){this.query=r,this.isUnconditional=i,this.handlers=[],this.mql=window.matchMedia(r);var o=this;this.listener=function(l){o.mql=l.currentTarget||l,o.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(r){var i=new t(r);this.handlers.push(i),this.matches()&&i.on()},removeHandler:function(r){var i=this.handlers;e(i,function(o,l){if(o.equals(r))return o.destroy(),!i.splice(l,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";e(this.handlers,function(i){i[r]()})}},W0=n,W0}var Y0,OR;function PQ(){if(OR)return Y0;OR=1;var t=OQ(),e=oj(),n=e.each,r=e.isFunction,i=e.isArray;function o(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return o.prototype={constructor:o,register:function(l,c,d){var f=this.queries,p=d&&this.browserIsIncapable;return f[l]||(f[l]=new t(l,p)),r(c)&&(c={match:c}),i(c)||(c=[c]),n(c,function(y){r(y)&&(y={match:y}),f[l].addHandler(y)}),this},unregister:function(l,c){var d=this.queries[l];return d&&(c?d.removeHandler(c):(d.clear(),delete this.queries[l])),this}},Y0=o,Y0}var X0,PR;function DQ(){if(PR)return X0;PR=1;var t=PQ();return X0=new t,X0}var DR;function jQ(){return DR||(DR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=l(Rs()),n=RQ(),r=l(IQ()),i=l(tj()),o=Gh();function l(R){return R&&R.__esModule?R:{default:R}}function c(R){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},c(R)}function d(){return d=Object.assign?Object.assign.bind():function(R){for(var T=1;T<arguments.length;T++){var U=arguments[T];for(var $ in U)Object.prototype.hasOwnProperty.call(U,$)&&(R[$]=U[$])}return R},d.apply(this,arguments)}function f(R,T){var U=Object.keys(R);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(R);T&&($=$.filter(function(j){return Object.getOwnPropertyDescriptor(R,j).enumerable})),U.push.apply(U,$)}return U}function p(R){for(var T=1;T<arguments.length;T++){var U=arguments[T]!=null?arguments[T]:{};T%2?f(Object(U),!0).forEach(function($){M(R,$,U[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(U)):f(Object(U)).forEach(function($){Object.defineProperty(R,$,Object.getOwnPropertyDescriptor(U,$))})}return R}function y(R,T){if(!(R instanceof T))throw new TypeError("Cannot call a class as a function")}function x(R,T){for(var U=0;U<T.length;U++){var $=T[U];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(R,O($.key),$)}}function E(R,T,U){return T&&x(R.prototype,T),Object.defineProperty(R,"prototype",{writable:!1}),R}function N(R,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(T&&T.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),T&&P(R,T)}function P(R,T){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,j){return $.__proto__=j,$},P(R,T)}function V(R){var T=F();return function(){var $=Y(R),j;if(T){var G=Y(this).constructor;j=Reflect.construct($,arguments,G)}else j=$.apply(this,arguments);return D(this,j)}}function D(R,T){if(T&&(c(T)==="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B(R)}function B(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function F(){try{var R=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F=function(){return!!R})()}function Y(R){return Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(U){return U.__proto__||Object.getPrototypeOf(U)},Y(R)}function M(R,T,U){return T=O(T),T in R?Object.defineProperty(R,T,{value:U,enumerable:!0,configurable:!0,writable:!0}):R[T]=U,R}function O(R){var T=C(R,"string");return c(T)=="symbol"?T:String(T)}function C(R,T){if(c(R)!="object"||!R)return R;var U=R[Symbol.toPrimitive];if(U!==void 0){var $=U.call(R,T);if(c($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(R)}var I=(0,o.canUseDOM)()&&DQ();t.default=function(R){N(U,R);var T=V(U);function U($){var j;return y(this,U),j=T.call(this,$),M(B(j),"innerSliderRefHandler",function(G){return j.innerSlider=G}),M(B(j),"slickPrev",function(){return j.innerSlider.slickPrev()}),M(B(j),"slickNext",function(){return j.innerSlider.slickNext()}),M(B(j),"slickGoTo",function(G){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return j.innerSlider.slickGoTo(G,Z)}),M(B(j),"slickPause",function(){return j.innerSlider.pause("paused")}),M(B(j),"slickPlay",function(){return j.innerSlider.autoPlay("play")}),j.state={breakpoint:null},j._responsiveMediaHandlers=[],j}return E(U,[{key:"media",value:function(j,G){I.register(j,G),this._responsiveMediaHandlers.push({query:j,handler:G})}},{key:"componentDidMount",value:function(){var j=this;if(this.props.responsive){var G=this.props.responsive.map(function(H){return H.breakpoint});G.sort(function(H,S){return H-S}),G.forEach(function(H,S){var J;S===0?J=(0,r.default)({minWidth:0,maxWidth:H}):J=(0,r.default)({minWidth:G[S-1]+1,maxWidth:H}),(0,o.canUseDOM)()&&j.media(J,function(){j.setState({breakpoint:H})})});var Z=(0,r.default)({minWidth:G.slice(-1)[0]});(0,o.canUseDOM)()&&this.media(Z,function(){j.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(j){I.unregister(j.query,j.handler)})}},{key:"render",value:function(){var j=this,G,Z;this.state.breakpoint?(Z=this.props.responsive.filter(function(se){return se.breakpoint===j.state.breakpoint}),G=Z[0].settings==="unslick"?"unslick":p(p(p({},i.default),this.props),Z[0].settings)):G=p(p({},i.default),this.props),G.centerMode&&(G.slidesToScroll>1,G.slidesToScroll=1),G.fade&&(G.slidesToShow>1,G.slidesToScroll>1,G.slidesToShow=1,G.slidesToScroll=1);var H=e.default.Children.toArray(this.props.children);H=H.filter(function(se){return typeof se=="string"?!!se.trim():!!se}),G.variableWidth&&(G.rows>1||G.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),G.variableWidth=!1);for(var S=[],J=null,W=0;W<H.length;W+=G.rows*G.slidesPerRow){for(var w=[],z=W;z<W+G.rows*G.slidesPerRow;z+=G.slidesPerRow){for(var X=[],Q=z;Q<z+G.slidesPerRow&&(G.variableWidth&&H[Q].props.style&&(J=H[Q].props.style.width),!(Q>=H.length));Q+=1)X.push(e.default.cloneElement(H[Q],{key:100*W+10*z+Q,tabIndex:-1,style:{width:"".concat(100/G.slidesPerRow,"%"),display:"inline-block"}}));w.push(e.default.createElement("div",{key:10*W+z},X))}G.variableWidth?S.push(e.default.createElement("div",{key:W,style:{width:J}},w)):S.push(e.default.createElement("div",{key:W},w))}if(G==="unslick"){var ne="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:ne},H)}else S.length<=G.slidesToShow&&!G.infinite&&(G.unslick=!0);return e.default.createElement(n.InnerSlider,d({style:this.props.style,ref:this.innerSliderRefHandler},(0,o.filterSettings)(G)),S)}}]),U}(e.default.Component)}(U0)),U0}var jR;function kQ(){return jR||(jR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(jQ());function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default}(V0)),V0}var LQ=kQ();const VQ=Xp(LQ);function UQ(t){const[e,n]=A.useState([]);return A.useEffect(()=>{t&&(async()=>{const r=await ln(xt(Ve,"businesses",t,"products"));n(r.docs.map(i=>({id:i.id,...i.data()})))})()},[t]),e}function zQ({products:t}){const{cart:e,addToCart:n,updateQuantity:r}=Lg();return m.jsx(ge.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.2},className:"absolute z-50 bottom-10 right-0 bg-neutral-900 rounded-xl p-4 w-72 shadow-xl border border-neutral-700 space-y-3",children:t.map(i=>{const o=e.find(l=>l.id===i.productId);return m.jsxs("div",{className:"flex items-center justify-between text-sm",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"font-medium",children:i.name}),m.jsxs("p",{className:"text-xs text-neutral-400",children:["$",i.price?.toFixed(2)]})]}),o?m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>r(i.productId,o.quantity-1),className:"px-2 text-white cursor-pointer hover:text-primary",children:"−"}),m.jsx("input",{min:1,className:"w-10 text-center bg-transparent border border-neutral-700 rounded text-white hover:border-primary focus:outline-none focus:ring-1 focus:ring-primary",value:o.quantity,onChange:l=>r(i.productId,Math.max(1,parseInt(l.target.value)||1))}),m.jsx("button",{onClick:()=>r(i.productId,o.quantity+1),className:"px-2 text-white cursor-pointer hover:text-primary",children:"+"})]}):m.jsx("button",{onClick:()=>n({id:i.productId,name:i.name,price:i.price,image:i.image||"",quantity:1}),className:"bg-primary text-sm px-3 py-1 rounded cursor-pointer hover:opacity-90",children:"Add to Cart"})]},i.productId)})})}const kR={initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9}};function O_({post:t,onClose:e,user:n,liked:r,saved:i,handleLike:o,handleSave:l}){const[c,d]=A.useState([]),[f,p]=A.useState(""),[y,x]=A.useState(null),[E,N]=A.useState(""),[P,V]=A.useState(!1),[D,B]=A.useState(!1),[F,Y]=A.useState(!1),M=A.useRef(null),O=A.useRef(null),C=UQ(t.business),I=async()=>{if(!(!f.trim()||F)){Y(!0);try{await As(xt(Ve,"posts",t.id,"comments"),{text:f.trim(),user:n.uid,timestamp:Vi()}),p("")}catch(U){console.error("Error posting comment:",U)}finally{Y(!1)}}},R=async(U,$)=>{if(!(!E.trim()||F)){Y(!0);try{await As(xt(Ve,"posts",t.id,"comments"),{text:E.trim(),user:n.uid,timestamp:Vi(),replyToId:U,replyToUserId:$}),N(""),x(null)}catch(j){console.error("Error posting reply:",j)}finally{Y(!1)}}},T=U=>{U.key==="Enter"&&!U.shiftKey&&(U.preventDefault(),I())};return A.useEffect(()=>{const U=cn(xt(Ve,"posts",t.id,"comments"),qu("timestamp","asc")),$=Gu(U,j=>{d(j.docs.map(G=>({id:G.id,...G.data()})))});return()=>$()},[t.id]),A.useEffect(()=>{function U($){M.current&&!M.current.contains($.target)&&B(!1)}return D&&document.addEventListener("mousedown",U),()=>{document.removeEventListener("mousedown",U)}},[D]),m.jsxs(ge.div,{...kR,transition:{duration:.25},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-2 sm:p-4",children:[m.jsx("button",{onClick:e,className:"absolute top-6 right-6 sm:top-8 sm:right-8 text-white hover:bg-neutral-800/80 p-3 rounded-xl transition-all duration-200 z-50 cursor-pointer backdrop-blur-sm",children:m.jsx(Ui,{size:18,className:"sm:w-5 sm:h-5"})}),m.jsxs(ge.div,{...kR,transition:{duration:.3},className:"bg-neutral-900 text-white w-full max-w-5xl h-[95vh] sm:h-[90vh] rounded-xl overflow-hidden flex flex-col lg:flex-row max-h-screen",children:[m.jsxs("div",{className:"w-full lg:w-2/3 bg-black flex items-center justify-center relative h-1/2 lg:h-full overflow-hidden",children:[!P&&m.jsx("div",{className:"absolute inset-0 bg-neutral-800 animate-pulse"}),m.jsx(VQ,{dots:!0,infinite:!0,speed:400,slidesToShow:1,slidesToScroll:1,arrows:!1,className:"w-full h-full",appendDots:U=>m.jsx("div",{style:{bottom:"10px"},children:m.jsx("ul",{className:"flex justify-center gap-2",children:U})}),customPaging:()=>m.jsx("div",{className:"w-2 h-2 bg-white/50 rounded-full"}),children:t.images.map((U,$)=>m.jsx("div",{className:"flex justify-center items-center h-full w-full",children:m.jsx("img",{src:U,alt:`Image ${$+1}`,onLoad:()=>V(!0),className:`h-full w-full object-cover transition-opacity duration-500 ${P?"opacity-100":"opacity-0"}`})},$))})]}),m.jsxs("div",{className:"w-full lg:w-1/3 border-t lg:border-l border-neutral-800 flex flex-col justify-between h-1/2 lg:h-full",children:[m.jsxs("div",{className:"p-3 sm:p-4 border-b border-neutral-800",children:[m.jsx("h2",{className:"text-base sm:text-lg font-semibold line-clamp-2",children:t.title}),m.jsx("p",{className:"text-xs sm:text-sm text-primary/80 mt-1",children:t.niche}),t.description&&m.jsx("p",{className:"text-xs sm:text-sm text-white/80 mt-1 line-clamp-3",children:t.description}),m.jsx("p",{className:"text-xs text-neutral-400 mt-2",children:t.timestamp?.toDate().toLocaleString()})]}),m.jsx("div",{className:"flex-1 overflow-y-auto p-3 sm:p-4 min-h-0",children:m.jsx("div",{className:"space-y-2 sm:space-y-3",children:c.length===0?m.jsxs("div",{className:"text-center py-4 sm:py-8",children:[m.jsx("p",{className:"text-xs sm:text-sm text-white/60",children:"No comments yet."}),m.jsx("p",{className:"text-xs text-white/40 mt-1",children:"Be the first to comment!"})]}):c.map(U=>m.jsx(nQ,{postId:t.id,comment:U,onReplyClick:$=>x(y===$?null:$),isReplying:y===U.id,replyText:E,onReplyChange:N,onReplySubmit:R,isSubmitting:F},U.id))})}),m.jsxs("div",{className:"border-t border-neutral-800 p-3 sm:p-4 space-y-3 sm:space-y-4",children:[m.jsxs("div",{className:"flex items-center gap-4 sm:gap-6",children:[t.likes!==!1&&m.jsx(ge.button,{whileTap:{scale:.9},onClick:o,className:"cursor-pointer hover:scale-105 transition-transform p-2",children:r?m.jsx(Ku,{size:20,className:"sm:w-6 sm:h-6 text-red-500",fill:"currentColor"}):m.jsx(Ku,{size:20,className:"sm:w-6 sm:h-6 text-white hover:text-red-400"})}),t.saves!==!1&&m.jsx(ge.button,{whileTap:{scale:.9},onClick:l,className:"cursor-pointer hover:scale-105 transition-transform p-2",children:i?m.jsx(gl,{size:20,className:"sm:w-6 sm:h-6 text-primary",fill:"currentColor"}):m.jsx(gl,{size:20,className:"sm:w-6 sm:h-6 text-white hover:text-primary"})}),m.jsxs("div",{className:"ml-auto flex items-center gap-2 sm:gap-3",children:[m.jsxs("div",{className:"relative",ref:M,children:[m.jsx("button",{onClick:()=>B(!D),className:"cursor-pointer hover:scale-105 transition-transform p-2",children:m.jsx(gB,{size:20,className:"sm:w-6 sm:h-6 text-white hover:text-primary"})}),m.jsx(fn,{children:D&&m.jsx(zQ,{products:C.filter(U=>t.productIds.includes(U.id))})})]}),t.business&&m.jsx("a",{href:`/business/${t.business}`,target:"_blank",className:"cursor-pointer hover:scale-105 transition-transform p-2",children:m.jsx(Bz,{size:20,className:"sm:w-6 sm:h-6 text-white hover:text-primary"})})]})]}),t.comments!==!1&&m.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 bg-neutral-800/50 rounded-lg p-2 sm:p-3",children:[m.jsx("input",{ref:O,className:"flex-1 bg-transparent text-white placeholder-white/60 text-xs sm:text-sm outline-none",placeholder:"Add a comment...",value:f,onChange:U=>p(U.target.value),onKeyPress:T,disabled:F}),m.jsx(ge.button,{whileTap:{scale:.95},onClick:I,disabled:!f.trim()||F,className:"text-primary hover:text-primary/80 disabled:text-white/40 disabled:cursor-not-allowed transition-colors p-1",children:m.jsx(Mg,{size:16,className:"sm:w-5 sm:h-5"})})]})]})]})]},"modal")]})}function BQ(){const{user:t}=Ar(),{totalUnread:e}=Vg(),n=vr(),[r,i]=A.useState(null),[o,l]=A.useState([]),[c,d]=A.useState([]),[f,p]=A.useState({totalTrades:0,savedPosts:0,unreadMessages:0,recentActivity:0}),[y,x]=A.useState(!0),[E,N]=A.useState(""),[P,V]=A.useState(null),[D,B]=A.useState(!1),[F,Y]=A.useState(!1),[M,O]=A.useState(null),[C,I]=A.useState(null);A.useEffect(()=>{if(!t)return;(async()=>{try{x(!0);const[H,S,J]=await Promise.all([R_(t.uid),N_(t.uid),I_(t.uid)]);i(H),l(S),d(J),p({totalTrades:S.length,savedPosts:J.length,unreadMessages:e,recentActivity:S.filter(W=>W.timestamp?.toDate&&new Date(W.timestamp.toDate())>new Date(Date.now()-7*24*60*60*1e3)).length})}catch(H){console.error("Error loading dashboard data:",H)}finally{x(!1)}})()},[t]),A.useEffect(()=>{p(Z=>({...Z,unreadMessages:e}))},[e]);const R=()=>{const Z=new Date().getHours();return Z<12?"Good Morning":Z<17?"Good Afternoon":"Good Evening"},T=Z=>{O(Z),B(!0)},U=Z=>{I(Z),Y(!0)},$=hs.filter(Z=>Z.label.toLowerCase().includes(E.toLowerCase())),j=o.slice(0,4),G=c.slice(0,4);return y?m.jsx(kr,{className:"flex h-screen w-full bg-neutral-950 text-white",children:m.jsx("div",{className:"flex-1 p-6",children:m.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-full",children:Array.from({length:6}).map((Z,H)=>m.jsxs("div",{className:"bg-neutral-900 rounded-2xl p-6 animate-pulse",children:[m.jsx("div",{className:"h-6 bg-neutral-800 rounded mb-4"}),m.jsxs("div",{className:"space-y-3",children:[m.jsx("div",{className:"h-4 bg-neutral-800 rounded"}),m.jsx("div",{className:"h-4 bg-neutral-800 rounded w-3/4"})]})]},H))})})}):m.jsxs(kr,{className:"min-h-screen w-full bg-neutral-950 text-white",children:[m.jsxs("div",{className:"p-4 sm:p-6",children:[m.jsx(ge.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 sm:mb-8",children:m.jsx("div",{className:"flex items-center justify-between mb-4",children:m.jsxs("div",{children:[m.jsxs("h1",{className:"text-2xl sm:text-4xl font-bold",children:[R(),", ",r?.name||t?.displayName||"User"]}),m.jsx("p",{className:"text-neutral-400 mt-1 text-sm sm:text-base",children:r?.country&&m.jsxs("span",{className:"flex items-center gap-2",children:[m.jsx("span",{children:ux(r.country)}),m.jsx("span",{children:r.country})]})})]})})}),m.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[m.jsx(Om,{title:"Active Trades",value:f.totalTrades,icon:m.jsx(Ib,{className:"w-5 h-5"}),color:"text-green-400",onClick:()=>n("/user?tab=trades")}),m.jsx(Om,{title:"Saved Posts",value:f.savedPosts,icon:m.jsx(gl,{className:"w-5 h-5"}),color:"text-blue-400",onClick:()=>n("/user?tab=saved")}),m.jsx(Om,{title:"Unread Messages",value:f.unreadMessages,icon:m.jsx(Nb,{className:"w-5 h-5"}),color:"text-purple-400",onClick:()=>n("/messages")}),m.jsx(Om,{title:"Recent Activity",value:f.recentActivity,icon:m.jsx(Ez,{className:"w-5 h-5"}),color:"text-orange-400",onClick:()=>n("/trade")})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[m.jsxs(ge.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"lg:col-span-2 bg-neutral-900 rounded-xl sm:rounded-2xl p-4 sm:p-6",children:[m.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[m.jsx(vl,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"}),m.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Discover Interests"})]}),m.jsx("div",{className:"mb-4 sm:mb-6",children:m.jsx("input",{type:"text",placeholder:"Search interests...",value:E,onChange:Z=>N(Z.target.value),className:"w-full bg-neutral-800 text-white px-3 sm:px-4 py-2 sm:py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base"})}),m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4 max-h-80 sm:max-h-96 overflow-y-auto",children:$.map(Z=>m.jsx(HQ,{interest:Z,selectedInterest:P,onSelect:V},Z.id))})]}),m.jsxs(ge.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-neutral-900 rounded-xl sm:rounded-2xl p-4 sm:p-6",children:[m.jsxs("div",{className:"mb-6 sm:mb-8",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[m.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Recent Trades"}),m.jsx(Zr,{to:"/user?tab=trades",className:"text-primary hover:underline text-sm",children:"View All"})]}),m.jsx("div",{className:"space-y-4",children:j.length>0?j.map(Z=>m.jsx(FQ,{trade:Z,onClick:()=>T(Z)},Z.id)):m.jsxs("div",{className:"text-center py-8 text-neutral-400",children:[m.jsx(Ib,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),m.jsx("p",{children:"No trades yet"}),m.jsx("button",{onClick:()=>n("/add"),className:"text-primary hover:underline text-sm mt-2",children:"Add your first trade"})]})})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[m.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Saved Posts"}),m.jsx(Zr,{to:"/user?tab=saved",className:"text-primary hover:underline text-sm",children:"View All"})]}),m.jsx("div",{className:"space-y-4",children:G.length>0?G.map(Z=>m.jsx($Q,{post:Z,onClick:()=>U(Z)},Z.id)):m.jsxs("div",{className:"text-center py-8 text-neutral-400",children:[m.jsx(gl,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),m.jsx("p",{children:"No saved posts"}),m.jsx("p",{className:"text-xs mt-1",children:"Posts you save will appear here"})]})})]})]}),m.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"lg:col-span-3 bg-neutral-900 rounded-xl sm:rounded-2xl p-4 sm:p-6",children:[m.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Mangrov"}),m.jsxs("p",{className:"text-neutral-400",children:["Shop through ",m.jsx("span",{className:"text-primary",children:"sustainable"})," ","products enabling",m.jsx("span",{className:"text-primary",children:" memorable experiences"})]})]}),m.jsxs("div",{className:"flex flex-row items-center gap-3 sm:gap-4",children:[m.jsx(Zr,{to:"/about",className:"border-2 border-primary rounded-lg bg-transparent tracking-widest text-white px-4 sm:px-8 py-1.5 sm:py-2 text-xs sm:text-sm uppercase font-bold hover:bg-primary transition-all duration-300",children:"About"}),m.jsx(Zr,{to:"https://instagram.com/_mangrov_",target:"_blank",children:m.jsx(uD,{className:"text-white w-6 h-6 sm:w-8 sm:h-8 hover:text-primary transition-colors"})}),m.jsx(Zr,{to:"https://youtube.com",target:"_blank",children:m.jsx(cD,{className:"text-white w-6 h-6 sm:w-8 sm:h-8 hover:text-primary transition-colors"})})]})]}),m.jsx("p",{className:"text-xs text-neutral-500 mt-4",children:"© 2025 Mangrov"})]})]})]}),m.jsxs(fn,{mode:"wait",children:[D&&M&&m.jsx(M_,{trade:M,isOpen:D,onClose:()=>{B(!1),O(null)},onTradeUpdate:Z=>{l(H=>H.map(S=>S.id===Z.id?{...S,...Z}:S)),O(Z)}}),F&&C&&m.jsx(O_,{post:C,onClose:()=>{Y(!1),I(null)},user:t,liked:!1,saved:!0,handleLike:()=>{},handleSave:()=>{}})]})]})}function Om({title:t,value:e,icon:n,color:r,onClick:i}){return m.jsxs(ge.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:i,className:"bg-neutral-900 rounded-xl p-4 cursor-pointer hover:bg-neutral-800 transition-colors",children:[m.jsxs("div",{className:"flex items-center justify-between mb-2",children:[m.jsx("div",{className:`${r}`,children:n}),m.jsx(Ig,{className:"w-4 h-4 text-neutral-400"})]}),m.jsx("div",{className:"text-2xl font-bold",children:e}),m.jsx("div",{className:"text-sm text-neutral-400",children:t})]})}function FQ({trade:t,onClick:e}){return m.jsx(ge.div,{whileHover:{scale:1.02},className:"bg-neutral-800 rounded-lg p-3 cursor-pointer hover:bg-neutral-700 transition-colors",onClick:e,children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("img",{src:t.images?.[0],alt:t.title,className:"w-12 h-12 rounded-lg object-cover"}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h4",{className:"font-semibold text-white truncate",children:t.title}),m.jsx("p",{className:"text-xs text-neutral-400",children:t.timestamp?.toDate?.()?new Date(t.timestamp.toDate()).toLocaleDateString():"Recently"})]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(Hz,{className:"w-4 h-4 text-neutral-400"}),m.jsx("span",{className:"text-xs text-neutral-400",children:"0"})]})]})})}function HQ({interest:t,selectedInterest:e,onSelect:n}){const[r,i]=A.useState(!1),[o,l]=A.useState(!1),c=vr(),d=()=>{n(t.id),c(`/search?interest=${t.id}`)};return m.jsxs(ge.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:d,className:`relative aspect-square rounded-xl overflow-hidden cursor-pointer transition-all duration-200 ${e===t.id?"ring-2 ring-primary":"hover:ring-2 hover:ring-primary/50"}`,children:[!r&&!o&&m.jsx("div",{className:"absolute inset-0 bg-neutral-800 animate-pulse"}),o&&m.jsx("div",{className:"absolute inset-0 bg-neutral-800 flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-8 h-8 bg-neutral-700 rounded-full mx-auto mb-2"}),m.jsx("p",{className:"text-xs text-neutral-400",children:t.label})]})}),m.jsx("img",{src:t.img,alt:t.label,className:`w-full h-full object-cover transition-opacity duration-300 ${r?"opacity-100":"opacity-0"}`,onLoad:()=>i(!0),onError:()=>l(!0),loading:"lazy"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"}),m.jsx("div",{className:"absolute bottom-3 left-3 right-3",children:m.jsx("p",{className:"text-white text-sm font-semibold",children:t.label})})]})}function $Q({post:t,onClick:e}){return m.jsx(ge.div,{whileHover:{scale:1.02},className:"bg-neutral-800 rounded-lg p-3 cursor-pointer hover:bg-neutral-700 transition-colors",onClick:e,children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("img",{src:t.images?.[0],alt:t.title,className:"w-12 h-12 rounded-lg object-cover"}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h4",{className:"font-semibold text-white truncate",children:t.title}),m.jsx("p",{className:"text-xs text-neutral-400",children:t.timestamp?.toDate?.()?new Date(t.timestamp.toDate()).toLocaleDateString():"Recently"})]}),m.jsx(gl,{className:"w-4 h-4 text-primary fill-current"})]})})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var dx=function(t,e){return dx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},dx(t,e)};function qQ(t,e){dx(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Gd=function(){return Gd=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Gd.apply(this,arguments)};function GQ(t,e,n,r){var i,o=!1,l=0;function c(){i&&clearTimeout(i)}function d(){c(),o=!0}typeof e!="boolean"&&(r=n,n=e,e=void 0);function f(){var p=this,y=Date.now()-l,x=arguments;if(o)return;function E(){l=Date.now(),n.apply(p,x)}function N(){i=void 0}r&&!i&&E(),c(),r===void 0&&y>t?E():e!==!0&&(i=setTimeout(r?N:E,r===void 0?t-y:t))}return f.cancel=d,f}var ku={Pixel:"Pixel",Percent:"Percent"},LR={unit:ku.Percent,value:.8};function VR(t){return typeof t=="number"?{unit:ku.Percent,value:t*100}:typeof t=="string"?t.match(/^(\d*(\.\d+)?)px$/)?{unit:ku.Pixel,value:parseFloat(t)}:t.match(/^(\d*(\.\d+)?)%$/)?{unit:ku.Percent,value:parseFloat(t)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),LR):(console.warn("scrollThreshold should be string or number"),LR)}var KQ=function(t){qQ(e,t);function e(n){var r=t.call(this,n)||this;return r.lastScrollTop=0,r.actionTriggered=!1,r.startY=0,r.currentY=0,r.dragging=!1,r.maxPullDownDistance=0,r.getScrollableTarget=function(){return r.props.scrollableTarget instanceof HTMLElement?r.props.scrollableTarget:typeof r.props.scrollableTarget=="string"?document.getElementById(r.props.scrollableTarget):(r.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},r.onStart=function(i){r.lastScrollTop||(r.dragging=!0,i instanceof MouseEvent?r.startY=i.pageY:i instanceof TouchEvent&&(r.startY=i.touches[0].pageY),r.currentY=r.startY,r._infScroll&&(r._infScroll.style.willChange="transform",r._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},r.onMove=function(i){r.dragging&&(i instanceof MouseEvent?r.currentY=i.pageY:i instanceof TouchEvent&&(r.currentY=i.touches[0].pageY),!(r.currentY<r.startY)&&(r.currentY-r.startY>=Number(r.props.pullDownToRefreshThreshold)&&r.setState({pullToRefreshThresholdBreached:!0}),!(r.currentY-r.startY>r.maxPullDownDistance*1.5)&&r._infScroll&&(r._infScroll.style.overflow="visible",r._infScroll.style.transform="translate3d(0px, "+(r.currentY-r.startY)+"px, 0px)")))},r.onEnd=function(){r.startY=0,r.currentY=0,r.dragging=!1,r.state.pullToRefreshThresholdBreached&&(r.props.refreshFunction&&r.props.refreshFunction(),r.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){r._infScroll&&(r._infScroll.style.overflow="auto",r._infScroll.style.transform="none",r._infScroll.style.willChange="unset")})},r.onScrollListener=function(i){typeof r.props.onScroll=="function"&&setTimeout(function(){return r.props.onScroll&&r.props.onScroll(i)},0);var o=r.props.height||r._scrollableNode?i.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!r.actionTriggered){var l=r.props.inverse?r.isElementAtTop(o,r.props.scrollThreshold):r.isElementAtBottom(o,r.props.scrollThreshold);l&&r.props.hasMore&&(r.actionTriggered=!0,r.setState({showLoader:!0}),r.props.next&&r.props.next()),r.lastScrollTop=o.scrollTop}},r.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:n.dataLength},r.throttledOnScrollListener=GQ(150,r.onScrollListener).bind(r),r.onStart=r.onStart.bind(r),r.onMove=r.onMove.bind(r),r.onEnd=r.onEnd.bind(r),r}return e.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},e.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},e.prototype.componentDidUpdate=function(n){this.props.dataLength!==n.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},e.getDerivedStateFromProps=function(n,r){var i=n.dataLength!==r.prevDataLength;return i?Gd(Gd({},r),{prevDataLength:n.dataLength}):null},e.prototype.isElementAtTop=function(n,r){r===void 0&&(r=.8);var i=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,o=VR(r);return o.unit===ku.Pixel?n.scrollTop<=o.value+i-n.scrollHeight+1:n.scrollTop<=o.value/100+i-n.scrollHeight+1},e.prototype.isElementAtBottom=function(n,r){r===void 0&&(r=.8);var i=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,o=VR(r);return o.unit===ku.Pixel?n.scrollTop+i>=n.scrollHeight-o.value:n.scrollTop+i>=o.value/100*n.scrollHeight},e.prototype.render=function(){var n=this,r=Gd({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),i=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),o=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return el.createElement("div",{style:o,className:"infinite-scroll-component__outerdiv"},el.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(l){return n._infScroll=l},style:r},this.props.pullDownToRefresh&&el.createElement("div",{style:{position:"relative"},ref:function(l){return n._pullDown=l}},el.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!i&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},e}(A.Component);function WQ({post:t,index:e,isLoaded:n,onImageLoad:r,userSavedPosts:i=[]}){const{user:o}=Ar(),[l,c]=A.useState(!1),[d,f]=A.useState(0),[p,y]=A.useState(!1),[x,E]=A.useState(!1),[N,P]=A.useState(!1);A.useEffect(()=>{if(!o||!t?.id)return;const B=Jt(Ve,"posts",t.id,"likes",o.uid),F=xt(Ve,"posts",t.id,"likes"),Y=Gu(F,M=>{f(M.size)});return wi(B).then(M=>{c(M.exists())}),y(i.includes(t.id)),()=>Y()},[o,t,i]);const V=async()=>{if(c(!l),!o)return;const B=Jt(Ve,"posts",t.id,"likes",o.uid);l?await Cp(B):await ml(B,{timestamp:Date.now()})},D=async()=>{y(!p);const B=Jt(Ve,"users",o?.uid,"saves",t.id);p?await Cp(B):await ml(B,{timestamp:Date.now()})};return m.jsxs(m.Fragment,{children:[m.jsxs(ge.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:e*.03,duration:.3,ease:"easeOut"},className:"relative group rounded-xl overflow-hidden shadow-md bg-neutral-800 w-full cursor-pointer",onClick:()=>P(!0),children:[!n&&m.jsx("div",{className:"absolute inset-0 animate-pulse rounded-xl bg-neutral-700 z-50"}),m.jsx("img",{src:t.images[0],alt:t.title,loading:"lazy",onLoad:r,className:`w-full h-auto object-cover rounded-xl transition-all duration-500 ${n?"opacity-100":"opacity-0"}`,style:{aspectRatio:"3 / 4"}}),m.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-3 z-20",children:m.jsxs("div",{className:"flex justify-between items-end w-full gap-4",children:[m.jsxs("div",{className:"flex flex-col text-white text-left",children:[m.jsx("div",{className:"text-base font-semibold mb-1",children:t.title}),m.jsx(fn,{children:m.jsx(ge.div,{layout:!0,initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"text-sm overflow-hidden",children:m.jsx("p",{className:x?"":"truncate",children:t.keywords.concat(t.niche).map(B=>B[0].toUpperCase()+B.slice(1).toLowerCase()).join(", ")})})}),t.keywords.concat(t.niche).join(", ").length>40&&m.jsxs(ge.button,{layout:!0,onClick:B=>{B.stopPropagation(),E(!x)},className:"text-xs text-blue-300 hover:underline mt-1 flex items-center gap-1",children:[x?"View less":"View more",x?m.jsx(vO,{size:12}):m.jsx(Vh,{size:12})]})]}),m.jsxs("div",{className:"flex-shrink-0 flex flex-row items-end gap-2 text-white text-base",onClick:B=>B.stopPropagation(),children:[t.likes&&m.jsxs("button",{onClick:V,className:"flex items-center gap-1 cursor-pointer",children:[m.jsx(Ku,{size:28,className:l?"text-red-500":"text-white",strokeWidth:2,fill:l?"currentColor":"none"}),m.jsx("span",{className:"text-sm",children:d})]}),t.saves&&m.jsx("button",{onClick:D,className:"flex items-center gap-1 cursor-pointer",children:m.jsx(gl,{size:28,className:p?"text-green-500":"text-white",strokeWidth:2,fill:p?"currentColor":"none"})})]})]})})]}),m.jsx(fn,{children:N&&m.jsx(O_,{post:t,user:o,onClose:()=>P(!1),liked:l,saved:p,handleLike:V,handleSave:D})})]})}function YQ(){const{user:t}=Ar(),[e,n]=Nw(),[r,i]=A.useState([]),[o,l]=A.useState([]),[c,d]=A.useState([]),[f,p]=A.useState([]),[y,x]=A.useState(""),[E,N]=A.useState(""),[P,V]=A.useState(null),[D,B]=A.useState(!0),[F,Y]=A.useState(null),[M,O]=A.useState(!1),[C,I]=A.useState([0,1e3]),[R,T]=A.useState("recent"),[U,$]=A.useState(""),j=20,[G,Z]=A.useState([]);A.useEffect(()=>{document.body.style.overflow="auto"},[]),A.useEffect(()=>{const Q=e.get("interest");Q&&(Y(Q),O(!0))},[e]),A.useEffect(()=>{const Q=setTimeout(()=>{N(y.trim().toLowerCase())},300);return()=>clearTimeout(Q)},[y]);const H=async()=>{const Q=xt(Ve,"posts"),ne=cn(Q,qu("timestamp","desc"),_b(j)),se=await ln(ne),le=se.docs.map(ve=>({id:ve.id,...ve.data()}));i(le),d(le),p(le),V(se.docs[se.docs.length-1]),B(se.docs.length===j)},S=async()=>{if(!D||!P)return;const Q=xt(Ve,"posts"),ne=cn(Q,qu("timestamp","desc"),SM(P),_b(j)),se=await ln(ne);if(se.empty){B(!1);return}const le=se.docs.map(ve=>({id:ve.id,...ve.data()}));i(ve=>[...ve,...le]),V(se.docs[se.docs.length-1])},J=()=>{const Q=f.length,ne=c.slice(Q,Q+j);p(se=>[...se,...ne])},W=A.useCallback(async()=>{if(!t)return;const Q=xt(Ve,"users",t.uid,"saves"),se=(await ln(Q)).docs.map(Pe=>Pe.id);if(se.length===0){l([]);return}const le=cn(xt(Ve,"posts"),Zt("__name__","in",se)),Ee=(await ln(le)).docs.map(Pe=>({id:Pe.id,...Pe.data()}));l(Ee)},[t]);A.useEffect(()=>{H(),W()},[W]),A.useEffect(()=>{let Q=r;E&&(Q=Q.filter(ne=>ne.title?.toLowerCase().includes(E)||ne.description?.toLowerCase().includes(E)||(ne.niche?.[0]?.toLowerCase()||"").includes(E))),F&&(Q=Q.filter(ne=>(ne.niche?.[0]?.toLowerCase()||"")===F.toLowerCase())),Q=Q.filter(ne=>{const se=ne.price||0;return se>=C[0]&&se<=C[1]}),Q=[...Q].sort((ne,se)=>{switch(R){case"price-low":return(ne.price||0)-(se.price||0);case"price-high":return(se.price||0)-(ne.price||0);case"popular":return(se.views||0)-(ne.views||0);case"recent":default:return new Date(se.timestamp?.toDate?.()||0).getTime()-new Date(ne.timestamp?.toDate?.()||0).getTime()}}),d(Q),p(Q.slice(0,j))},[r,E,F,C,R]);const w=Q=>{Z(ne=>[...ne,Q])},z=()=>{c.length>f.length?J():S()},X=()=>{Y(null),I([0,1e3]),T("recent"),x(""),$(""),n({})};return m.jsx(kr,{className:"min-h-screen bg-neutral-950 text-white overflow-scroll",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[m.jsxs("div",{className:"mb-8",children:[m.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Discover Products"}),m.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[m.jsxs("div",{className:"flex-1 relative",children:[m.jsx(vl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-neutral-400 w-5 h-5"}),m.jsx("input",{type:"text",placeholder:"Search products...",value:y,onChange:Q=>x(Q.target.value),className:"w-full bg-neutral-900 border border-neutral-700 rounded-lg pl-10 pr-4 py-3 text-white placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),m.jsxs("button",{onClick:()=>O(!M),className:"flex items-center gap-2 bg-neutral-900 border border-neutral-700 rounded-lg px-4 py-3 hover:bg-neutral-800 transition-colors",children:[m.jsx(gu,{className:"w-5 h-5"}),"Filters"]})]}),(F||C[0]>0||C[1]<1e3||R!=="recent")&&m.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[m.jsx("span",{className:"text-sm text-neutral-400",children:"Active filters:"}),F&&m.jsx("span",{className:"bg-primary/20 text-primary px-2 py-1 rounded text-sm",children:hs.find(Q=>Q.id===F)?.label||F}),(C[0]>0||C[1]<1e3)&&m.jsxs("span",{className:"bg-primary/20 text-primary px-2 py-1 rounded text-sm",children:["$",C[0]," - $",C[1]]}),R!=="recent"&&m.jsx("span",{className:"bg-primary/20 text-primary px-2 py-1 rounded text-sm capitalize",children:R.replace("-"," ")}),m.jsxs("button",{onClick:X,className:"text-neutral-400 hover:text-white text-sm flex items-center gap-1",children:[m.jsx(Ui,{className:"w-4 h-4"}),"Clear all"]})]})]}),m.jsx(fn,{children:M&&m.jsx(ge.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-neutral-900 rounded-lg p-6 mb-6 overflow-hidden",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold mb-3",children:"Category"}),m.jsx("div",{className:"mb-3",children:m.jsx("input",{type:"text",placeholder:"Search categories...",value:U,onChange:Q=>$(Q.target.value),className:"w-full bg-neutral-800 border border-neutral-700 rounded px-3 py-2 text-sm text-white placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-primary"})}),m.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto",children:hs.filter(Q=>Q.label.toLowerCase().includes(U.toLowerCase())).map(Q=>m.jsx("button",{onClick:()=>Y(F===Q.id?null:Q.id),className:`p-2 rounded text-sm transition-colors ${F===Q.id?"bg-primary text-white":"bg-neutral-800 text-neutral-300 hover:bg-neutral-700"}`,children:Q.label},Q.id))}),hs.filter(Q=>Q.label.toLowerCase().includes(U.toLowerCase())).length>0&&m.jsxs("p",{className:"text-xs text-neutral-400 mt-2",children:[hs.filter(Q=>Q.label.toLowerCase().includes(U.toLowerCase())).length," ","categories available"]}),U&&hs.filter(Q=>Q.label.toLowerCase().includes(U.toLowerCase())).length===0&&m.jsxs("p",{className:"text-xs text-neutral-400 mt-2",children:['No categories found matching "',U,'"']})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold mb-3",children:"Price Range"}),m.jsx("div",{className:"space-y-4",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"block text-xs text-neutral-400 mb-1",children:"Min"}),m.jsx("input",{type:"number",placeholder:"0",value:C[0],onChange:Q=>I([Number(Q.target.value),C[1]]),className:"w-full bg-neutral-800 border border-neutral-700 rounded px-3 py-2 text-sm text-white placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),m.jsx("div",{className:"flex items-center justify-center pt-6",children:m.jsx("span",{className:"text-neutral-400 text-sm font-medium",children:"to"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"block text-xs text-neutral-400 mb-1",children:"Max"}),m.jsx("input",{type:"number",placeholder:"1000",value:C[1],onChange:Q=>I([C[0],Number(Q.target.value)]),className:"w-full bg-neutral-800 border border-neutral-700 rounded px-3 py-2 text-sm text-white placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]})]})})]}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold mb-3",children:"Sort By"}),m.jsx("div",{className:"space-y-2",children:[{value:"recent",label:"Most Recent"},{value:"price-low",label:"Price: Low to High"},{value:"price-high",label:"Price: High to Low"},{value:"popular",label:"Most Popular"}].map(Q=>m.jsx("button",{onClick:()=>T(Q.value),className:`w-full text-left p-2 rounded text-sm transition-colors ${R===Q.value?"bg-primary text-white":"bg-neutral-800 text-neutral-300 hover:bg-neutral-700"}`,children:Q.label},Q.value))})]})]})})}),m.jsx("div",{className:"mb-6",children:m.jsxs("p",{className:"text-neutral-400",children:[c.length," product",c.length!==1?"s":""," found"]})}),m.jsx(KQ,{dataLength:f.length,next:z,hasMore:D||f.length<c.length,loader:m.jsx("div",{className:"flex justify-center py-8",children:m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}),className:"overflow-hidden",children:m.jsx("div",{className:"columns-1 sm:columns-2 md:columns-3 lg:columns-4 xl:columns-5 gap-4 space-y-4",children:f.map((Q,ne)=>m.jsx(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ne*.1},className:"break-inside-avoid mb-4",children:m.jsx(WQ,{post:Q,index:ne,isLoaded:G.includes(ne),onImageLoad:()=>w(ne),userSavedPosts:o.map(se=>se.id)})},Q.id))})}),c.length===0&&m.jsxs("div",{className:"text-center py-16",children:[m.jsx("div",{className:"w-16 h-16 bg-neutral-800 rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx(vl,{className:"w-8 h-8 text-neutral-400"})}),m.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No products found"}),m.jsx("p",{className:"text-neutral-400 mb-4",children:"Try adjusting your search terms or filters"}),m.jsx("button",{onClick:X,className:"bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/80 transition-colors",children:"Clear all filters"})]})]})})}function XQ(){return m.jsxs(ge.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5,ease:"easeOut"},className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-neutral-950/90 backdrop-blur-sm",children:[m.jsx(ge.img,{src:"/icon.png",alt:"logo",className:"w-20 h-20 md:w-24 md:h-24",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.5,ease:"easeOut"}}),m.jsx(ge.h1,{className:"text-4xl md:text-5xl font-bold text-white mt-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{delay:.1,duration:.6},children:"Mangrov"}),m.jsx(ge.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{delay:.2,duration:.4},className:"mt-6",children:m.jsx(A_,{})})]})}const QQ={control:t=>({...t,background:"#1b1b1b",border:"none",minHeight:"2.6rem",cursor:"pointer"}),singleValue:t=>({...t,color:"#fff"}),input:t=>({...t,color:"#fff"}),placeholder:t=>({...t,color:"#888"}),menu:t=>({...t,background:"#1b1b1b"}),option:(t,e)=>({...t,background:e.isFocused?"#2a2a2a":"#1b1b1b",color:"#fff",cursor:"pointer"}),indicatorSeparator:()=>({display:"none"})},ZQ=t=>m.jsx(qg.DropdownIndicator,{...t,children:m.jsx(Vh,{size:18,className:"text-neutral-400"})}),JQ="bg-primary text-primary-foreground hover:bg-primary/80 transition duration-200 active:scale-95 uppercase tracking-wide font-bold py-2 rounded-md w-full cursor-pointer disabled:opacity-50",UR="rounded-md bg-muted px-3 py-2 text-sm sm:text-base outline-none focus:ring-2 ring-primary focus:border-primary hover:border-primary transition duration-200 w-full border border-transparent",eZ={initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}};function tZ({type:t,setStage:e}){const{user:n}=Ar(),[r,i]=A.useState(""),[o,l]=A.useState(""),[c,d]=A.useState([]),[f,p]=A.useState([]),[y,x]=A.useState(""),[E,N]=A.useState("0"),[P,V]=A.useState("1"),[D,B]=A.useState("1"),[F,Y]=A.useState(""),[M,O]=A.useState(null),[C,I]=A.useState(null),[R,T]=A.useState(!1),[U,$]=A.useState(!1),[j,G]=A.useState(null),Z=()=>!(!r.trim()||!o.trim()||t==="post"&&c.length<1||t==="trade"&&c.length!==1||t==="post"&&(!E||!P)||t==="trade"&&!D||!M),H=()=>{const z=y.trim();z&&!f.includes(z)&&(p([...f,z]),x(""))},S=z=>{if(!z.target.files)return;const X=Array.from(z.target.files);d(t==="trade"?[X[0]]:[...c,...X])},J=z=>d(c.filter((X,Q)=>Q!==z)),W=z=>p(f.filter(X=>X!==z)),w=async()=>{if(!Z()){I("Please fill in all required fields correctly.");return}if(!n){I("You must be logged in to create content.");return}try{T(!0);const z=t==="post"?"post-images":"trade-images",X=[];for(const se of c){const le=Ag(Cg,`${z}/${Date.now()}_${se.name}`);await Tg(le,se);const ve=await Eg(le);X.push(ve)}const Q={title:r,description:o,images:X,keywords:f,niche:[M?.label],timestamp:tn.now(),uid:n.uid},ne=await As(xt(Ve,t==="post"?"posts":"trades"),t==="post"?{...Q,price:parseFloat(E),quantity:parseInt(P)||1,url:F||null}:{...Q,quantity:parseInt(D)||1,isAvailable:!0});console.log("Document written: ",ne.id),t==="trade"?(G(ne.id),$(!0)):e("select")}catch(z){console.error(z),I("Upload failed, please try again.")}finally{T(!1)}};return U&&j?m.jsxs(ge.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-md mx-auto py-20 px-8 text-white text-center",children:[m.jsxs(ge.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"mb-8",children:[m.jsx("div",{className:"w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4",children:m.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),m.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Trade Created Successfully!"}),m.jsx("p",{className:"text-neutral-400",children:"Your trade is now live and ready for discovery."})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx(ge.button,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},onClick:()=>window.location.href=`/trades/${j}`,className:"w-full bg-primary text-primary-foreground hover:bg-primary/80 cursor-pointer transition-all duration-200 active:scale-95 uppercase tracking-wide font-bold py-3 rounded-md",children:"View Trade"}),m.jsx(ge.button,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},onClick:()=>e("select"),className:"w-full bg-neutral-800 text-white hover:bg-neutral-700 cursor-pointer transition-all duration-200 active:scale-95 uppercase tracking-wide font-bold py-3 rounded-md",children:"Create Another"})]})]}):m.jsxs(ge.div,{...eZ,className:"max-w-2xl mx-auto py-10 px-8 text-white space-y-6 overflow-y-scroll h-screen w-full",children:[m.jsxs("h2",{className:"text-2xl font-bold mb-4 capitalize",children:["Add ",t]}),C&&m.jsx("p",{className:"text-red-500",children:C}),m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"flex items-center justify-between text-sm text-neutral-400",children:[m.jsx("label",{children:"Title"}),m.jsxs("span",{children:[r.length,"/30"]})]}),m.jsx("input",{value:r,onChange:z=>i(z.target.value.slice(0,30)),placeholder:"Enter a short title",className:"w-full rounded-md bg-neutral-900 text-white placeholder-neutral-500 px-4 py-2 outline-none border border-neutral-700 focus:border-green-500 transition"})]}),m.jsxs("div",{className:"space-y-1",children:[m.jsxs("div",{className:"flex items-center justify-between text-sm text-neutral-400",children:[m.jsx("label",{children:"Description"}),m.jsxs("span",{children:[o.length,"/300"]})]}),m.jsx("textarea",{value:o,onChange:z=>l(z.target.value.slice(0,300)),placeholder:"Enter a brief description",className:"w-full rounded-md bg-neutral-900 text-white placeholder-neutral-500 px-4 py-2 h-28 resize-none outline-none border border-neutral-700 focus:border-green-500 transition"})]}),t==="post"&&m.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"text-sm text-neutral-400 block mb-1",children:"Price ($)"}),m.jsx("div",{className:"flex items-center rounded-md border border-neutral-700 bg-neutral-900",children:m.jsx("input",{inputMode:"decimal",min:"0",step:"0.01",value:E,onChange:z=>{const X=parseFloat(z.target.value);!isNaN(X)&&X>=0?N(X):z.target.value===""&&N("")},className:"w-full bg-transparent text-white text-sm px-2 py-2.5 outline-none no-spinner"})})]}),m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"text-sm text-neutral-400 block mb-1",children:"Quantity"}),m.jsxs("div",{className:"flex items-center rounded-md border border-neutral-700 bg-neutral-900",children:[m.jsx("button",{type:"button",onClick:()=>V(z=>Math.max(0,parseInt(z||"0")-1)),className:"px-3 py-2 text-neutral-300 hover:text-white hover:bg-neutral-800 transition-colors duration-150 cursor-pointer",children:"-"}),m.jsx("input",{inputMode:"numeric",min:"0",value:P,onChange:z=>{const X=parseInt(z.target.value);!isNaN(X)&&X>=0?V(X):z.target.value===""&&V("")},className:"w-full bg-transparent text-white text-sm px-2 py-2 outline-none no-spinner"}),m.jsx("button",{type:"button",onClick:()=>V(z=>parseInt(z||"0")+1),className:"px-3 py-2 text-neutral-300 hover:text-white hover:bg-neutral-800 transition-colors duration-150 cursor-pointer",children:"+"})]})]})]}),t==="trade"&&m.jsxs("div",{className:"flex-1",children:[m.jsx("label",{className:"text-sm text-neutral-400 block mb-1",children:"Quantity Available"}),m.jsxs("div",{className:"flex items-center rounded-md border border-neutral-700 bg-neutral-900",children:[m.jsx("button",{type:"button",onClick:()=>B(z=>Math.max(1,parseInt(z||"1")-1)),className:"px-3 py-2 text-neutral-300 hover:text-white hover:bg-neutral-800 transition-colors duration-150 cursor-pointer",children:"-"}),m.jsx("input",{inputMode:"numeric",min:"1",value:D,onChange:z=>{const X=parseInt(z.target.value);!isNaN(X)&&X>=1?B(X):z.target.value===""&&B("")},className:"w-full bg-transparent text-white text-sm px-2 py-2 outline-none no-spinner"}),m.jsx("button",{type:"button",onClick:()=>B(z=>parseInt(z||"1")+1),className:"px-3 py-2 text-neutral-300 hover:text-white hover:bg-neutral-800 transition-colors duration-150 cursor-pointer",children:"+"})]})]}),t==="post"&&m.jsx("input",{className:UR,placeholder:"External Link (optional)",value:F,onChange:z=>Y(z.target.value)}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("label",{className:"text-sm text-neutral-400 block",children:["Upload ",t==="trade"?"exactly 1 image":"one or more images"]}),!(t==="trade"&&c.length>=1)&&m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"file",accept:"image/*",multiple:t==="post",onChange:S,id:"file-upload",className:"hidden"}),m.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer border border-dashed border-white/30 hover:border-green-500 transition-colors duration-200 w-full flex flex-col items-center justify-center py-6 px-4 bg-neutral-900 rounded-lg text-sm text-white text-center hover:bg-neutral-800",children:[m.jsx(Yu,{size:32,className:"mb-2 text-primary"}),m.jsxs("span",{children:["Click to ",c.length?"add more":"upload"," image",t==="post"?"s":""]})]})]}),c.length>0&&m.jsx("div",{className:"flex justify-center mt-4",children:c.map((z,X)=>m.jsxs("div",{className:"relative group w-full max-w-md",children:[m.jsx("img",{src:URL.createObjectURL(z),alt:"preview",className:"w-full h-auto object-contain rounded-md border border-white/10"}),m.jsx("button",{onClick:()=>J(X),className:"absolute top-1 right-1 bg-black/70 hover:bg-red-600 transition p-1 rounded-full text-white cursor-pointer",title:"Remove",children:m.jsx(Ui,{size:14})})]},X))})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsx("input",{className:UR,placeholder:"Add keyword",value:y,onChange:z=>x(z.target.value),onKeyDown:z=>z.key==="Enter"&&H()}),m.jsx("button",{onClick:H,className:"bg-primary px-3 rounded-md hover:bg-primary/80",children:m.jsx(Yu,{size:20})})]}),m.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:f.map(z=>m.jsxs("div",{className:"bg-muted px-3 py-1 rounded-lg flex items-center gap-2",children:[m.jsx("span",{children:z}),m.jsx("button",{onClick:()=>W(z),children:m.jsx(Ui,{size:16,className:"text-red-400"})})]},z))})]}),m.jsx(mh,{placeholder:"Select niche",options:hs.map(z=>({label:z.label,value:z.id})),menuShouldScrollIntoView:!1,styles:QQ,components:{DropdownIndicator:ZQ},value:M,onChange:z=>O(z)}),R?m.jsx("div",{className:"flex items-center justify-center",children:m.jsx(XQ,{})}):m.jsxs("button",{className:JQ,disabled:!Z()||R,onClick:w,children:["Submit ",t]})]},"form")}function nZ(){const[t,e]=A.useState("form"),[n]=A.useState("trade"),r=200,i=(d,f)=>d==="left"?f==="start"?-r-Math.random()*200:o+r+Math.random()*200:f==="start"?o+r+Math.random()*200:-r-Math.random()*200,[o,l]=Ug(),[c]=A.useState(()=>{const d=Math.random()>.5?"left":"right";return{start:{x:i(d,"start"),y:-r},end:{x:i(d,"end"),y:l+r}}});return m.jsxs(m.Fragment,{children:[m.jsx(kr,{className:"relative h-screen overflow-hidden",children:m.jsx(fn,{mode:"wait",children:t==="form"&&n&&m.jsx(tZ,{type:n,setStage:e})})}),m.jsx("div",{className:"lg:hidden",children:m.jsx(lD,{})}),m.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:m.jsx($h,{start:c.start,end:c.end,speed:12,className:"absolute bottom-0 left-0 opacity-25 w-full h-screen",imgHeightTW:"h-32 sm:h-40 md:h-44",imgWidthTW:"w-44 sm:w-52 md:w-56"})})]})}const rZ="Left",iZ="Right",sZ="Up",aZ="Down",Cu={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},hx={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},zR="mousemove",BR="mouseup",oZ="touchend",lZ="touchmove",uZ="touchstart";function cZ(t,e,n,r){return t>e?n>0?iZ:rZ:r>0?aZ:sZ}function FR(t,e){if(e===0)return t;const n=Math.PI/180*e,r=t[0]*Math.cos(n)+t[1]*Math.sin(n),i=t[1]*Math.cos(n)-t[0]*Math.sin(n);return[r,i]}function dZ(t,e){const n=p=>{const y="touches"in p;y&&p.touches.length>1||t((x,E)=>{E.trackMouse&&!y&&(document.addEventListener(zR,r),document.addEventListener(BR,l));const{clientX:N,clientY:P}=y?p.touches[0]:p,V=FR([N,P],E.rotationAngle);return E.onTouchStartOrOnMouseDown&&E.onTouchStartOrOnMouseDown({event:p}),Object.assign(Object.assign(Object.assign({},x),hx),{initial:V.slice(),xy:V,start:p.timeStamp||0})})},r=p=>{t((y,x)=>{const E="touches"in p;if(E&&p.touches.length>1)return y;if(p.timeStamp-y.start>x.swipeDuration)return y.swiping?Object.assign(Object.assign({},y),{swiping:!1}):y;const{clientX:N,clientY:P}=E?p.touches[0]:p,[V,D]=FR([N,P],x.rotationAngle),B=V-y.xy[0],F=D-y.xy[1],Y=Math.abs(B),M=Math.abs(F),O=(p.timeStamp||0)-y.start,C=Math.sqrt(Y*Y+M*M)/(O||1),I=[B/(O||1),F/(O||1)],R=cZ(Y,M,B,F),T=typeof x.delta=="number"?x.delta:x.delta[R.toLowerCase()]||Cu.delta;if(Y<T&&M<T&&!y.swiping)return y;const U={absX:Y,absY:M,deltaX:B,deltaY:F,dir:R,event:p,first:y.first,initial:y.initial,velocity:C,vxvy:I};U.first&&x.onSwipeStart&&x.onSwipeStart(U),x.onSwiping&&x.onSwiping(U);let $=!1;return(x.onSwiping||x.onSwiped||x[`onSwiped${R}`])&&($=!0),$&&x.preventScrollOnSwipe&&x.trackTouch&&p.cancelable&&p.preventDefault(),Object.assign(Object.assign({},y),{first:!1,eventData:U,swiping:!0})})},i=p=>{t((y,x)=>{let E;if(y.swiping&&y.eventData){if(p.timeStamp-y.start<x.swipeDuration){E=Object.assign(Object.assign({},y.eventData),{event:p}),x.onSwiped&&x.onSwiped(E);const N=x[`onSwiped${E.dir}`];N&&N(E)}}else x.onTap&&x.onTap({event:p});return x.onTouchEndOrOnMouseUp&&x.onTouchEndOrOnMouseUp({event:p}),Object.assign(Object.assign(Object.assign({},y),hx),{eventData:E})})},o=()=>{document.removeEventListener(zR,r),document.removeEventListener(BR,l)},l=p=>{o(),i(p)},c=(p,y)=>{let x=()=>{};if(p&&p.addEventListener){const E=Object.assign(Object.assign({},Cu.touchEventOptions),y.touchEventOptions),N=[[uZ,n,E],[lZ,r,Object.assign(Object.assign({},E),y.preventScrollOnSwipe?{passive:!1}:{})],[oZ,i,E]];N.forEach(([P,V,D])=>p.addEventListener(P,V,D)),x=()=>N.forEach(([P,V])=>p.removeEventListener(P,V))}return x},f={ref:p=>{p!==null&&t((y,x)=>{if(y.el===p)return y;const E={};return y.el&&y.el!==p&&y.cleanUpTouch&&(y.cleanUpTouch(),E.cleanUpTouch=void 0),x.trackTouch&&p&&(E.cleanUpTouch=c(p,x)),Object.assign(Object.assign(Object.assign({},y),{el:p}),E)})}};return e.trackMouse&&(f.onMouseDown=n),[f,c]}function hZ(t,e,n,r){return!e.trackTouch||!t.el?(t.cleanUpTouch&&t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:void 0})):t.cleanUpTouch?e.preventScrollOnSwipe!==n.preventScrollOnSwipe||e.touchEventOptions.passive!==n.touchEventOptions.passive?(t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:r(t.el,e)})):t:Object.assign(Object.assign({},t),{cleanUpTouch:r(t.el,e)})}function fZ(t){const{trackMouse:e}=t,n=A.useRef(Object.assign({},hx)),r=A.useRef(Object.assign({},Cu)),i=A.useRef(Object.assign({},r.current));i.current=Object.assign({},r.current),r.current=Object.assign(Object.assign({},Cu),t);let o;for(o in Cu)r.current[o]===void 0&&(r.current[o]=Cu[o]);const[l,c]=A.useMemo(()=>dZ(d=>n.current=d(n.current,r.current),{trackMouse:e}),[e]);return n.current=hZ(n.current,r.current,i.current,c),l}function mZ(){const{user:t}=Ar(),e=vr(),[n,r]=A.useState([]),[i,o]=A.useState([]),[l,c]=A.useState(0),[d,f]=A.useState([]),[p,y]=A.useState([]),[x,E]=A.useState(!1),[N,P]=A.useState(null),[V,D]=A.useState(!1),[B,F]=A.useState(!1),[Y,M]=A.useState(null),[O,C]=A.useState([]),[I,R]=A.useState("swipe"),[T,U]=A.useState(!0),[$,j]=A.useState(!1),[G,Z]=A.useState(!0),[H,S]=A.useState(!1),[J,W]=A.useState(new Set),[w,z]=A.useState(!1);A.useEffect(()=>{if(!t)return;(async()=>{const $e=(await wi(Jt(Ve,"users",t.uid))).data();$e?.interests&&(y($e.interests),f($e.interests)),U(!1)})()},[t]),A.useEffect(()=>{if(!t)return;(async()=>{const Ce=cn(xt(Ve,"trades"),Zt("uid","==",t.uid)),Ie=(await ln(Ce)).docs.map(Je=>({id:Je.id,...Je.data()}));o(Ie)})()},[t]),A.useEffect(()=>{if(!t)return;Z(!0),(async()=>{const Ce=cn(xt(Ve,"tradeMatches"),Zt("fromUser","==",t.uid)),$e=cn(xt(Ve,"tradeMatches"),Zt("toUser","==",t.uid)),[Ie,Je]=await Promise.all([ln(Ce),ln($e)]),ot=[...Ie.docs.map(ht=>({id:ht.id,...ht.data()})),...Je.docs.map(ht=>({id:ht.id,...ht.data()}))].filter(ht=>ht.fromLiked&&ht.toLiked);console.log("Total matches found:",ot.length);const Rt=await Promise.all(ot.map(async ht=>{let pn="",or="",Cn="",pt="";try{console.log("Processing match:",ht);const[qe,sn]=await Promise.all([wi(Jt(Ve,"users",ht.fromUser)),wi(Jt(Ve,"users",ht.toUser))]);if(qe.exists()){const an=qe.data();pn=an?.name||an?.username||"Unknown User",console.log("From user data:",an)}if(sn.exists()){const an=sn.data();or=an?.name||an?.username||"Unknown User",console.log("To user data:",an)}const nn=[];ht.fromItem&&ht.fromItem.trim()!==""?(console.log("Fetching fromItem:",ht.fromItem),nn.push(wi(Jt(Ve,"trades",ht.fromItem)))):(console.log("fromItem is empty or null"),nn.push(Promise.resolve(null))),ht.toItem&&ht.toItem.trim()!==""?(console.log("Fetching toItem:",ht.toItem),nn.push(wi(Jt(Ve,"trades",ht.toItem)))):(console.log("toItem is empty or null"),nn.push(Promise.resolve(null)));const[$i,lr]=await Promise.all(nn);if($i&&$i.exists()){const an=$i.data();Cn=an?.title||"Unknown Item",console.log("From item data:",an)}else Cn="Item not selected yet",console.log("From item not found or empty");if(lr&&lr.exists()){const an=lr.data();pt=an?.title||"Unknown Item",console.log("To item data:",an)}else pt="Unknown Item",console.log("To item not found or empty");console.log("Final enriched match:",{fromUserName:pn,toUserName:or,fromItemTitle:Cn,toItemTitle:pt})}catch(qe){console.error("Error fetching match details:",qe),pn="Unknown User",or="Unknown User",Cn="Unknown Item",pt="Unknown Item"}return{...ht,fromUserName:pn,toUserName:or,fromItemTitle:Cn,toItemTitle:pt}}));console.log("Final enriched matches:",Rt),C(Rt),Z(!1)})()},[t]),A.useEffect(()=>{if(!t)return;(async()=>{try{const Ce=xt(Ve,"users",t.uid,"passes"),$e=await ln(Ce),Ie=new Set($e.docs.map(Je=>Je.id));W(Ie)}catch(Ce){console.error("Error fetching passed trades:",Ce)}})()},[t]);const X=A.useCallback(async()=>{j(!0);let me=[],Ce=[];if(t){const Ie=cn(xt(Ve,"tradeMatches"),Zt("fromUser","==",t.uid));Ce=(await ln(Ie)).docs.map(mt=>({id:mt.id,...mt.data()}))}const $e=new Set(Ce.map(Ie=>Ie.toItem));if(V)me=(await ln(xt(Ve,"trades"))).docs.filter(Je=>Je.data().uid!==t?.uid&&!J.has(Je.id)&&!$e.has(Je.id)).map(Je=>({id:Je.id,...Je.data()}));else if(d.length>0){const Ie=[];for(let ot=0;ot<d.length;ot+=10){const Rt=d.slice(ot,ot+10),ht=cn(xt(Ve,"trades"),Zt("niche","array-contains-any",Rt));Ie.push(ln(ht))}me=(await Promise.all(Ie)).flatMap(ot=>ot.docs.map(Rt=>({id:Rt.id,...Rt.data()})));const mt=new Set;me=me.filter(ot=>mt.has(ot.id)||ot.uid===t?.uid||J.has(ot.id)||$e.has(ot.id)?!1:(mt.add(ot.id),!0))}r(me),c(0),z(me.length===0&&(J.size>0||$e.size>0)),j(!1)},[d,V,t,J]),Q=A.useCallback(me=>{D(me)},[]),ne=A.useCallback(me=>{const Ce=Array.from(me.target.selectedOptions,$e=>$e.value);f(Ce),D(!1)},[]);A.useEffect(()=>{X()},[d,V,t,J]);const se=async()=>{const me=n[l];if(me&&t)try{await ml(Jt(Ve,"users",t.uid,"passes",me.id),{tradeId:me.id,timestamp:new Date}),W(Ce=>new Set([...Ce,me.id]))}catch(Ce){console.error("Error adding to passed trades:",Ce)}c(Ce=>Math.min(Ce+1,n.length-1))},le=async()=>{const me=n[l];if(me&&t)try{const Ce=cn(xt(Ve,"tradeMatches"),Zt("fromUser","==",t.uid),Zt("toUser","==",me.uid),Zt("toItem","==",me.id)),$e=cn(xt(Ve,"tradeMatches"),Zt("fromUser","==",me.uid),Zt("toUser","==",t.uid),Zt("toItem","==",me.id)),[Ie,Je]=await Promise.all([ln(Ce),ln($e)]);if(Ie.empty)if(Je.empty)await As(xt(Ve,"tradeMatches"),{fromUser:t.uid,toUser:me.uid,fromItem:"",toItem:me.id,fromLiked:!0,toLiked:!1,timestamp:new Date});else{const mt=Je.docs[0];await aa(Jt(Ve,"tradeMatches",mt.id),{toLiked:!0})}else{const mt=Ie.docs[0];await aa(Jt(Ve,"tradeMatches",mt.id),{fromLiked:!0})}}catch(Ce){console.error("Error handling swipe right:",Ce)}c(Ce=>Math.min(Ce+1,n.length-1))},ve=me=>{x||(me==="left"?(M(n[l]),F(!0)):(P(me),E(!0),setTimeout(()=>{le(),E(!1),P(null)},350)))},Ee=async me=>{if(!(!Y||!t)){try{const Ce=cn(xt(Ve,"tradeMatches"),Zt("fromUser","==",Y.uid),Zt("toUser","==",t.uid),Zt("toItem","==",me.id)),$e=await ln(Ce);if($e.empty)await As(xt(Ve,"tradeMatches"),{fromUser:t.uid,toUser:Y.uid,fromItem:me.id,toItem:Y.id,fromLiked:!0,toLiked:!1,timestamp:new Date});else{const Ie=$e.docs[0];await aa(Jt(Ve,"tradeMatches",Ie.id),{fromItem:me.id,toLiked:!0})}}catch(Ce){console.error("Error handling item selection:",Ce)}F(!1),M(null),se()}},Pe=async()=>{if(t)try{const me=xt(Ve,"users",t.uid,"passes"),$e=(await ln(me)).docs.map(Ie=>ml(Ie.ref,{},{merge:!1}));await Promise.all($e),W(new Set),z(!1),X()}catch(me){console.error("Error resetting passed trades:",me)}},Ne=fZ({onSwipedLeft:()=>ve("left"),onSwipedRight:()=>ve("right"),trackMouse:!0}),ze=A.useMemo(()=>m.jsxs("div",{className:"relative w-full max-w-2xl flex items-center justify-center select-none",children:[n.slice(l,l+2).map((me,Ce)=>{const $e=Ce===0,Ie=Ce*10,Je=1-Ce*.04;return m.jsx(fn,{children:$e?A.createElement(ge.div,{...Ne,key:me.id,className:" max-w-lg w-full flex flex-col items-center justify-center cursor-pointer",style:{zIndex:2},initial:{x:0,opacity:1,scale:1},animate:{x:x?N==="left"?-500:500:0,opacity:x?0:1,scale:1},exit:{x:N==="left"?-500:500,opacity:0,scale:.95},transition:{duration:.35}},m.jsxs("div",{className:"relative w-full rounded-3xl shadow-2xl overflow-hidden",children:[m.jsx("img",{src:me.images?.[0],alt:me.title,className:"w-full h-auto object-cover"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),m.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:[m.jsx("h2",{className:"text-xl font-bold mb-2",children:me.title}),m.jsx("p",{className:"text-sm text-neutral-200 leading-relaxed",children:me.description})]})]})):m.jsx(ge.div,{className:"absolute w-full flex flex-col items-center justify-center",style:{zIndex:1,top:Ie,scale:Je,opacity:.7},initial:{scale:.96,opacity:.7},animate:{scale:Je,opacity:.7},exit:{opacity:0},transition:{duration:.2},children:m.jsxs("div",{className:"relative w-full rounded-3xl shadow-xl overflow-hidden",children:[m.jsx("img",{src:me.images?.[0],alt:me.title,className:"w-full h-auto object-cover"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),m.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:m.jsx("h2",{className:"text-lg font-bold",children:me.title})})]})},me.id)},me.id)}),$?m.jsx("div",{className:"w-full flex flex-col items-center justify-center text-center px-6 py-16",children:m.jsxs("div",{className:"mb-8 w-full max-w-lg",children:[m.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-neutral-800 to-neutral-700 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg animate-pulse",children:m.jsx(gu,{size:48,className:"text-neutral-400"})}),m.jsx("div",{className:"w-64 h-8 bg-neutral-800 rounded mb-4 animate-pulse mx-auto"}),m.jsx("div",{className:"w-96 h-4 bg-neutral-800 rounded animate-pulse mx-auto"})]})}):n.length===0&&m.jsx("div",{className:"w-full flex flex-col items-center justify-center text-center px-6 py-16",children:m.jsxs("div",{className:"mb-8 w-full max-w-lg",children:[m.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-neutral-800 to-neutral-700 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:w?m.jsx(lA,{size:48,className:"text-neutral-400"}):m.jsx(gu,{size:48,className:"text-neutral-400"})}),m.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:w?"No More Trades to View":d.length===0&&!V?"No Trades Found":"No Trades Available"}),m.jsx("p",{className:"text-lg text-neutral-400 leading-relaxed",children:w?m.jsxs(m.Fragment,{children:["You've seen all available trades."," ",m.jsx("span",{className:"text-primary font-semibold",children:"Reset"})," ","to view passed trades again or try different"," ",m.jsx("span",{className:"text-primary font-semibold",children:"filters"}),"."]}):d.length===0&&!V?m.jsxs(m.Fragment,{children:["There are no trades found for your"," ",m.jsx("span",{className:"text-primary font-semibold",children:"interests"}),". Try enabling"," ",m.jsx("span",{className:"text-primary font-semibold",children:"Random Mode"})," ","or select some interests to discover more trades!"]}):m.jsxs(m.Fragment,{children:["No trades match your current"," ",m.jsx("span",{className:"text-primary font-semibold",children:"filters"}),". Try adjusting your"," ",m.jsx("span",{className:"text-primary font-semibold",children:"preferences"})," ","or enabling Random Mode."]})}),w&&m.jsx("div",{className:"mt-6",children:m.jsxs("button",{onClick:Pe,className:"px-6 py-3 bg-gradient-to-r from-primary to-primary/80 text-white rounded-lg hover:from-primary/90 hover:to-primary/70 transition-all duration-200 flex items-center gap-2 mx-auto cursor-pointer shadow-lg",children:[m.jsx(lA,{size:20}),"Reset Passed Trades"]})})]})})]}),[n,l,N,x,Ne,d,V,w]),Ye="bg-primary text-primary-foreground hover:bg-primary/80 cursor-pointer transition-all duration-200 active:scale-95 uppercase tracking-widest font-bold disabled:opacity-40 disabled:cursor-not-allowed",Qe="rounded-md bg-muted px-3 py-2 text-sm sm:text-base outline-none focus:ring-2 ring-primary/80 transition-all duration-200";return T?m.jsxs(kr,{className:"flex flex-col items-center justify-center min-h-screen space-y-6 bg-neutral-950",children:[m.jsxs("div",{className:"w-full max-w-md flex border-b border-neutral-700",children:[m.jsx("div",{className:"flex-1 py-2",children:m.jsx("div",{className:"w-16 h-4 bg-neutral-700 rounded mx-auto animate-pulse"})}),m.jsx("div",{className:"flex-1 py-2",children:m.jsx("div",{className:"w-20 h-4 bg-neutral-700 rounded mx-auto animate-pulse"})})]}),m.jsx("div",{className:"relative w-full max-w-md h-[500px] flex items-center justify-center",children:m.jsxs("div",{className:"w-full h-full bg-neutral-900 rounded-2xl shadow-2xl p-4 flex flex-col items-center text-center border-2 border-neutral-800",children:[m.jsx("div",{className:"w-full h-64 bg-neutral-800 rounded-xl mb-4 animate-pulse"}),m.jsx("div",{className:"w-3/4 h-8 bg-neutral-800 rounded mb-2 animate-pulse"}),m.jsx("div",{className:"w-full h-4 bg-neutral-800 rounded animate-pulse"})]})}),m.jsx("div",{className:"w-32 h-4 bg-neutral-700 rounded animate-pulse"}),m.jsxs("div",{className:"flex space-x-8 mt-2 w-full max-w-xs",children:[m.jsx("div",{className:"w-1/2 h-12 bg-neutral-700 rounded-md animate-pulse"}),m.jsx("div",{className:"w-1/2 h-12 bg-neutral-700 rounded-md animate-pulse"})]})]}):m.jsxs(kr,{className:"min-h-screen bg-neutral-950",children:[m.jsx("div",{className:"sticky top-0 z-10 bg-neutral-950/95 backdrop-blur-sm border-b border-neutral-800",children:m.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:m.jsx("div",{className:"flex justify-center",children:m.jsxs("div",{className:"flex border-b border-neutral-700",children:[m.jsxs("button",{onClick:()=>R("swipe"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium transition cursor-pointer ${I==="swipe"?"text-primary border-b-2 border-primary":"text-neutral-400 hover:text-neutral-300"}`,children:[m.jsx(gu,{size:16}),"Discover"]}),m.jsxs("button",{onClick:()=>R("matches"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium transition cursor-pointer ${I==="matches"?"text-primary border-b-2 border-primary":"text-neutral-400 hover:text-neutral-300"}`,children:[m.jsx(Nb,{size:16}),"Matches (",O.length,")"]})]})})})}),m.jsx("div",{className:"relative max-w-6xl mx-auto px-4 py-6",children:m.jsx(fn,{mode:"wait",children:I==="swipe"?m.jsx(ge.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},className:"flex flex-col items-center",children:m.jsxs("div",{className:"flex flex-col items-center justify-center space-y-6 w-full",children:[ze,m.jsx("div",{className:"text-neutral-400 text-sm mb-2",children:n.length>0&&m.jsxs("span",{children:["Card ",l+1," of ",n.length]})}),m.jsxs("div",{className:"flex space-x-8 mt-2 w-full max-w-xs",children:[m.jsxs("button",{onClick:()=>ve("left"),disabled:x||l>=n.length,className:`w-1/2 rounded-md py-4 ${Ye}`,children:[m.jsx(Ku,{className:"w-6 h-6 mx-auto"}),"Like"]}),m.jsxs("button",{onClick:()=>ve("right"),disabled:x||l>=n.length,className:`w-1/2 rounded-md py-4 ${Ye}`,children:[m.jsx(Ui,{className:"w-6 h-6 mx-auto"}),"Pass"]})]}),m.jsx("div",{className:"mt-8",children:m.jsxs("button",{onClick:()=>S(!H),className:`flex items-center gap-2 px-6 py-3 rounded-full shadow-lg transition-all duration-300 cursor-pointer ${H?"bg-primary text-white":"bg-neutral-800 text-neutral-300 hover:bg-neutral-700"}`,children:[m.jsx(gu,{size:20}),"Filters",H?m.jsx(Vh,{size:16}):m.jsx(vO,{size:16})]})})]})},"swipe"):m.jsx(ge.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"max-w-2xl mx-auto",children:m.jsx("div",{className:"space-y-4",children:G?m.jsx("div",{className:"space-y-4",children:[1,2,3].map(me=>m.jsxs("div",{className:"bg-neutral-900 rounded-xl p-6 border border-neutral-700",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("div",{className:"w-16 h-4 bg-neutral-700 rounded animate-pulse"}),m.jsx("div",{className:"w-8 h-8 bg-neutral-700 rounded animate-pulse"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("div",{className:"w-full h-4 bg-neutral-700 rounded animate-pulse"}),m.jsx("div",{className:"w-3/4 h-4 bg-neutral-700 rounded animate-pulse"}),m.jsx("div",{className:"w-1/2 h-3 bg-neutral-700 rounded animate-pulse"})]})]},me))}):O.length===0?m.jsxs("div",{className:"text-center text-neutral-400 py-16",children:[m.jsx(Ku,{className:"w-16 h-16 mx-auto mb-6 opacity-50"}),m.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No matches yet"}),m.jsx("p",{className:"text-neutral-500",children:"Start swiping to find trades!"})]}):O.map(me=>{const Ce=me.fromUser===t?.uid,$e=Ce?me.toUser:me.fromUser,Ie=Ce?me.toUserName:me.fromUserName,Je=Ce?me.fromItemTitle:me.toItemTitle,mt=Ce?me.toItemTitle:me.fromItemTitle;return m.jsxs(ge.div,{onClick:()=>e(`/messages/${$e}`),className:"bg-gradient-to-br from-neutral-900 to-neutral-800 rounded-2xl p-6 border border-neutral-700/50 cursor-pointer hover:border-primary/50 hover:from-neutral-800 hover:to-neutral-700 transition-all duration-300 shadow-lg hover:shadow-xl",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{scale:1.02},whileTap:{scale:.98},children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-3 h-3 bg-primary rounded-full animate-pulse"}),m.jsx("span",{className:"text-sm font-medium text-neutral-300 uppercase tracking-wide",children:"Match"})]}),m.jsx("button",{onClick:ot=>{ot.stopPropagation(),e(`/messages/${$e}`)},className:"text-primary hover:text-white transition-all duration-200 p-2 rounded-xl hover:bg-primary/20 group",children:m.jsx(Nb,{className:"w-5 h-5 group-hover:scale-110 transition-transform"})})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"flex items-center gap-3 p-4 bg-neutral-800/50 rounded-xl border border-neutral-700/50",children:m.jsx("div",{className:"flex-1",children:m.jsxs("p",{className:"text-white text-sm leading-relaxed",children:[m.jsx("span",{className:"text-primary font-semibold cursor-pointer hover:underline transition-colors",onClick:ot=>{ot.stopPropagation();const Rt=$e===me.fromUser?me.fromUserName:me.toUserName;Rt&&e(`/user/${Rt}`)},children:Ie})," ","wants to trade"," ",m.jsxs("span",{className:"text-primary font-semibold",children:['"',mt,'"']})," ","for your"," ",m.jsxs("span",{className:"text-primary font-semibold",children:['"',Je,'"']})]})})}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:`w-2 h-2 rounded-full ${me.fromLiked&&me.toLiked?"bg-green-500 animate-pulse":"bg-yellow-500"}`}),m.jsx("p",{className:`text-xs font-medium ${me.fromLiked&&me.toLiked?"text-green-400":"text-yellow-400"}`,children:me.fromLiked&&me.toLiked?"Mutual match!":"Pending response"})]}),m.jsx("div",{className:"text-xs text-neutral-500",children:me.timestamp?.toDate?.()?new Date(me.timestamp.toDate()).toLocaleDateString():"Recently"})]})]})]},me.id)})})},"matches")})}),m.jsx(fn,{children:H&&I==="swipe"&&m.jsx(ge.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed bottom-0 left-0 right-0 z-10 bg-neutral-900 border-t border-neutral-800 shadow-2xl",children:m.jsx("div",{className:"max-w-6xl mx-auto px-4 py-6",children:m.jsxs("div",{className:"bg-neutral-800 rounded-xl p-6 border border-neutral-700",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[m.jsx(gu,{size:20}),"Filters"]}),m.jsx("button",{onClick:()=>S(!1),className:"text-neutral-400 hover:text-white transition cursor-pointer",children:m.jsx(Ui,{size:20})})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:V,onChange:me=>Q(me.target.checked),className:"sr-only peer"}),m.jsx("div",{className:"w-11 h-6 bg-neutral-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]}),m.jsx("span",{className:"text-white text-sm",children:"Random Mode (show all)"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Filter by Interests"}),m.jsx("select",{className:`w-full ${Qe} cursor-pointer`,value:d,onChange:ne,multiple:!0,disabled:V,size:Math.min(p.length,6)||2,children:p.map(me=>m.jsx("option",{value:me,children:hs.find(Ce=>Ce.id===me)?.label||me},me))}),!V&&p.length>1&&m.jsx("div",{className:"text-xs text-neutral-400 mt-1",children:"Hold Ctrl (Cmd on Mac) to select multiple interests"})]})]})]})})})}),m.jsx(fn,{children:B&&m.jsx(ge.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:m.jsxs(ge.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-neutral-900 rounded-xl p-6 w-full max-w-md max-h-[80vh] overflow-y-auto",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h3",{className:"text-xl font-bold text-white",children:"Select Your Item to Trade"}),m.jsx("button",{onClick:()=>F(!1),className:"text-neutral-400 hover:text-white cursor-pointer transition-colors",children:m.jsx(Ui,{className:"w-6 h-6"})})]}),m.jsx("div",{className:"space-y-3",children:i.map(me=>m.jsxs(ge.div,{onClick:()=>Ee(me),className:"flex items-center gap-3 p-3 rounded-lg border border-neutral-700 hover:border-primary cursor-pointer transition-all duration-200 hover:bg-neutral-800",whileHover:{scale:1.02},whileTap:{scale:.98},children:[m.jsx("img",{src:me.images?.[0],alt:me.title,className:"w-16 h-16 object-cover rounded-lg"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h4",{className:"text-white font-medium",children:me.title}),m.jsx("p",{className:"text-sm text-neutral-400",children:me.description})]}),m.jsx(Ig,{className:"w-5 h-5 text-neutral-400"})]},me.id))}),i.length===0&&m.jsxs("div",{className:"text-center text-neutral-400 py-8",children:[m.jsx("p",{children:"You need to add some trades first!"}),m.jsx(ge.button,{onClick:()=>e("/add"),className:"mt-4 px-6 py-2 rounded-md text-sm bg-primary text-white hover:bg-primary/80 cursor-pointer transition-all duration-200 active:scale-95 uppercase tracking-wide font-bold",whileHover:{scale:1.05},whileTap:{scale:.95},children:"ADD TRADE"})]})]})})})]})}function pZ(){const{tradeId:t}=Tw(),e=vr(),[n,r]=A.useState(null),[i,o]=A.useState(!0);return A.useEffect(()=>{if(!t)return;(async()=>{try{const c=await wi(Jt(Ve,"trades",t));c.exists()&&r({id:c.id,...c.data()})}finally{o(!1)}})()},[t]),i?null:m.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:m.jsx(M_,{trade:n,isOpen:!!n,onClose:()=>e(-1)})})}function gZ(t){const[e,n]=el.useState(()=>window.matchMedia(t).matches);return el.useEffect(()=>{const r=window.matchMedia(t),i=()=>n(r.matches);return r.addEventListener("change",i),()=>r.removeEventListener("change",i)},[t]),e}const vZ=A.memo(({selectedChat:t,otherUser:e,messages:n,onNavigateToProfile:r,isLoading:i=!1})=>{const{user:o}=Ar(),[l,c]=A.useState(""),d=A.useRef(null),f=A.useRef(null),[p,y]=A.useState(!0);A.useEffect(()=>{if(t&&d.current&&f.current){const D=()=>{d.current&&f.current&&(f.current.scrollTop=f.current.scrollHeight,d.current.scrollIntoView({behavior:"instant"}),y(!0))};D(),setTimeout(D,0),setTimeout(D,100),setTimeout(D,200),setTimeout(D,500)}},[t?.id,n.length]),A.useEffect(()=>{d.current&&p&&n.length>0&&d.current.scrollIntoView({behavior:"smooth"})},[n,p]);const x=()=>{if(!f.current)return;const{scrollTop:D,scrollHeight:B,clientHeight:F}=f.current,Y=D+F>=B-10;y(Y)};A.useEffect(()=>{if(!t||!o)return;const D=new IntersectionObserver(F=>{F.forEach(Y=>{if(Y.isIntersecting){const M=Y.target.getAttribute("data-message-id"),O=Y.target.getAttribute("data-system-message")==="true";M&&!O&&aa(Jt(Ve,"messages",M),{read:!0}).catch(console.error)}})},{threshold:.5});return document.querySelectorAll("[data-message-id]").forEach(F=>{const Y=F.getAttribute("data-message-id"),M=F.getAttribute("data-sender-id"),O=F.getAttribute("data-system-message")==="true";Y&&M&&M!==o.uid&&!O&&D.observe(F)}),()=>D.disconnect()},[n,t,o]);const E=async(D,B)=>{if(!(!t||!o||!D.trim()&&!B))try{const F={chatId:t.id,text:D.trim(),senderId:o.uid,receiverId:t.participants.find(Y=>Y!==o.uid),timestamp:Vi(),read:!1};B&&(F.imageUrl=B),await As(xt(Ve,"messages"),F),await aa(Jt(Ve,"chats",t.id),{lastMessage:{text:D.trim()||"Image",senderId:o.uid},lastMessageTime:Vi()}),c("")}catch(F){console.error("Error sending message:",F)}},N=async D=>{if(!(!t||!o))try{const B=Ag(Cg,`chat-images/${t.id}/${Date.now()}-${D.name}`),F=await Tg(B,D),Y=await Eg(F.ref);await E("",Y)}catch(B){console.error("Error uploading image:",B)}},P=D=>{D.preventDefault(),l.trim()&&E(l)},V=D=>{if(!D)return"";try{const B=D.toDate(),M=(new Date().getTime()-B.getTime())/(1e3*60),O=M/60,C=O/24;return M<1?"now":M<60?`${Math.floor(M)}m`:O<24?`${Math.floor(O)}h`:C<7?`${Math.floor(C)}d`:B.toLocaleDateString("en-US",{month:"short",day:"numeric"})}catch{return""}};return t?i?m.jsxs("div",{className:"flex-1 flex flex-col min-h-0 bg-neutral-950",children:[m.jsx("div",{className:"p-6 border-b border-neutral-800 bg-neutral-900 flex-shrink-0",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 bg-neutral-700 rounded-full animate-pulse flex-shrink-0"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"w-40 h-6 bg-neutral-700 rounded animate-pulse mb-2"}),m.jsx("div",{className:"w-32 h-4 bg-neutral-700 rounded animate-pulse"})]})]})}),m.jsx("div",{className:"flex-1 p-6 space-y-6",children:[1,2,3,4,5].map(D=>m.jsx("div",{className:`flex ${D%2===0?"justify-end":"justify-start"}`,children:m.jsx("div",{className:`max-w-[60%] min-w-[200px] ${D%2===0?"bg-primary":"bg-neutral-700"} rounded-2xl p-4`,children:m.jsx("div",{className:`w-48 h-4 ${D%2===0?"bg-primary/80":"bg-neutral-600"} rounded animate-pulse`})})},D))}),m.jsx("div",{className:"p-6 border-t border-neutral-800 bg-neutral-900 flex-shrink-0",children:m.jsxs("div",{className:"flex gap-3",children:[m.jsx("div",{className:"flex-1 h-12 bg-neutral-700 rounded-xl animate-pulse"}),m.jsx("div",{className:"w-12 h-12 bg-neutral-700 rounded-xl animate-pulse"}),m.jsx("div",{className:"w-12 h-12 bg-neutral-700 rounded-xl animate-pulse"})]})})]}):m.jsxs("div",{className:"flex-1 flex flex-col min-h-0 bg-neutral-950",children:[m.jsx("div",{className:"p-6 border-b border-neutral-800 bg-neutral-900 flex-shrink-0",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[e?.avatar?m.jsx("img",{src:e.avatar,alt:e.displayName||e.username,className:"w-12 h-12 rounded-full object-cover border-2 border-primary/20 flex-shrink-0",onError:D=>{D.currentTarget.style.display="none",D.currentTarget.nextElementSibling?.classList.remove("hidden")}}):null,m.jsx("div",{className:`w-12 h-12 bg-gradient-to-br from-primary to-primary/60 rounded-full flex items-center justify-center text-white font-bold text-lg flex-shrink-0 ${e?.avatar?"hidden":""}`,children:e?.displayName?.charAt(0)||e?.username?.charAt(0)||"U"}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h2",{className:"text-xl font-bold text-white cursor-pointer hover:text-primary transition-colors truncate",onClick:()=>{e?.username&&r(e.username)},children:e?.displayName||e?.username||"Unknown User"}),m.jsx("p",{className:"text-sm text-neutral-400 truncate",children:e?.username?`@${e.username}`:""})]})]}),m.jsx("div",{className:"flex items-center gap-2",children:m.jsx("button",{onClick:()=>{e?.username&&r(e.username)},className:"p-2 text-neutral-400 hover:text-white hover:bg-neutral-800 rounded-lg transition-all",children:m.jsx(yl,{size:20})})})]})}),m.jsxs("div",{ref:f,onScroll:x,className:"flex-1 overflow-y-auto p-6 space-y-4 min-h-0",children:[n.map(D=>m.jsx("div",{className:`flex ${D.isSystemMessage?"justify-center":D.senderId===o?.uid?"justify-end":"justify-start"}`,children:m.jsxs("div",{"data-message-id":D.id,"data-sender-id":D.senderId,"data-system-message":D.isSystemMessage?"true":"false",className:`${D.isSystemMessage?"bg-neutral-800 text-neutral-400 text-center text-sm px-4 py-2 max-w-[400px] whitespace-nowrap rounded-full":D.senderId===o?.uid?"bg-primary text-white max-w-[60%] min-w-[100px] rounded-2xl rounded-br-md":"bg-neutral-700 text-white max-w-[60%] min-w-[100px] rounded-2xl rounded-bl-md"} p-4 break-words whitespace-pre-wrap shadow-lg`,children:[D.imageUrl&&m.jsx("img",{src:D.imageUrl,alt:"Message attachment",className:"w-full h-auto rounded-lg mb-3 max-h-64 object-cover"}),m.jsx("p",{className:"text-sm leading-relaxed",children:D.text}),!D.isSystemMessage&&m.jsx("p",{className:"text-xs opacity-70 mt-2 text-right",children:V(D.timestamp)})]})},D.id)),m.jsx("div",{ref:d})]}),m.jsx("div",{className:"p-6 border-t border-neutral-800 bg-neutral-900 flex-shrink-0",children:m.jsxs("form",{onSubmit:P,className:"flex items-center gap-3",children:[m.jsx("input",{type:"text",value:l,onChange:D=>c(D.target.value),placeholder:"Type a message...",className:"flex-1 bg-neutral-800 text-white px-4 py-3 rounded-xl border border-neutral-700 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all"}),m.jsxs("label",{className:"cursor-pointer p-3 hover:bg-neutral-800 rounded-xl transition-colors",children:[m.jsx("input",{type:"file",accept:"image/*",onChange:D=>{const B=D.target.files?.[0];B&&N(B)},className:"hidden"}),m.jsx(yO,{size:24,className:"text-neutral-400 hover:text-white transition-colors"})]}),m.jsx("button",{type:"submit",disabled:!l.trim(),className:"bg-primary text-white p-3 rounded-xl hover:bg-primary/80 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center shadow-lg",children:m.jsx(Mg,{size:20})})]})})]}):m.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center bg-neutral-950",children:[m.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-primary to-primary/60 rounded-full flex items-center justify-center mb-6",children:m.jsx(Wu,{size:48,className:"text-white"})}),m.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:"Messages"}),m.jsx("p",{className:"text-neutral-400 mb-6 max-w-md",children:"Select a conversation from the sidebar to start messaging"}),m.jsx("div",{className:"w-16 h-1 bg-gradient-to-r from-primary to-primary/60 rounded-full"})]})}),yZ=A.memo(({selectedChat:t,otherUser:e,messages:n,onNavigateToProfile:r,onBackToChats:i,isLoading:o=!1})=>{const{user:l}=Ar(),[c,d]=A.useState(""),f=A.useRef(null),p=A.useRef(null),[y,x]=A.useState(!0);A.useEffect(()=>{if(t&&f.current&&p.current){const B=()=>{f.current&&p.current&&(p.current.scrollTop=p.current.scrollHeight,f.current.scrollIntoView({behavior:"instant"}),x(!0))};B(),setTimeout(B,0),setTimeout(B,100),setTimeout(B,200),setTimeout(B,500)}},[t?.id,n.length]),A.useEffect(()=>{f.current&&y&&n.length>0&&f.current.scrollIntoView({behavior:"smooth"})},[n,y]);const E=()=>{if(!p.current)return;const{scrollTop:B,scrollHeight:F,clientHeight:Y}=p.current,M=B+Y>=F-10;x(M)};A.useEffect(()=>{if(!t||!l)return;const B=new IntersectionObserver(Y=>{Y.forEach(M=>{if(M.isIntersecting){const O=M.target.getAttribute("data-message-id"),C=M.target.getAttribute("data-system-message")==="true";O&&!C&&aa(Jt(Ve,"messages",O),{read:!0}).catch(console.error)}})},{threshold:.5});return document.querySelectorAll("[data-message-id]").forEach(Y=>{const M=Y.getAttribute("data-message-id"),O=Y.getAttribute("data-sender-id"),C=Y.getAttribute("data-system-message")==="true";M&&O&&O!==l.uid&&!C&&B.observe(Y)}),()=>B.disconnect()},[n,t,l]);const N=async(B,F)=>{if(!(!t||!l||!B.trim()&&!F))try{const Y={chatId:t.id,text:B.trim(),senderId:l.uid,receiverId:t.participants.find(M=>M!==l.uid),timestamp:Vi(),read:!1};F&&(Y.imageUrl=F),await As(xt(Ve,"messages"),Y),await aa(Jt(Ve,"chats",t.id),{lastMessage:{text:B.trim(),timestamp:Vi()},lastMessageTime:Vi()}),d("")}catch(Y){console.error("Error sending message:",Y)}},P=async B=>{if(!(!t||!l))try{const F=Ag(Cg,`chat-images/${t.id}/${Date.now()}-${B.name}`),Y=await Tg(F,B),M=await Eg(Y.ref);await N("",M)}catch(F){console.error("Error uploading image:",F)}},V=B=>{B.preventDefault(),c.trim()&&N(c)},D=B=>{if(!B)return"";try{const F=B.toDate(),O=(new Date().getTime()-F.getTime())/(1e3*60),C=O/60,I=C/24;return O<1?"now":O<60?`${Math.floor(O)}m`:C<24?`${Math.floor(C)}h`:I<7?`${Math.floor(I)}d`:F.toLocaleDateString("en-US",{month:"short",day:"numeric"})}catch{return""}};return m.jsxs(ge.div,{initial:{opacity:0,x:"100%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"100%"},transition:{duration:.3,ease:"easeInOut"},className:"fixed inset-0 bg-neutral-950 z-50 flex flex-col",children:[m.jsx("div",{className:"p-4 border-b border-neutral-800 bg-neutral-900 flex-shrink-0",children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:i,className:"p-2 text-neutral-400 hover:text-white transition-colors",children:m.jsx(Lh,{size:24})}),e?.avatar?m.jsx("img",{src:e.avatar,alt:e.displayName||e.username,className:"w-10 h-10 rounded-full object-cover border border-white/10 flex-shrink-0",onError:B=>{B.currentTarget.style.display="none",B.currentTarget.nextElementSibling?.classList.remove("hidden")}}):null,m.jsx("span",{className:`w-10 h-10 bg-gradient-to-br from-primary to-primary/60 rounded-full flex items-center justify-center text-white font-bold ${e?.avatar?"hidden":""}`,children:e?.displayName?.charAt(0)||e?.username?.charAt(0)||"U"}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h3",{className:"text-white font-semibold truncate",children:e?.displayName||e?.username||"Unknown User"}),m.jsx("p",{className:"text-sm text-neutral-400",children:e?.username?`@${e.username}`:""})]}),m.jsx("button",{onClick:()=>{e?.username&&r(e.username)},className:"p-2 text-neutral-400 hover:text-white transition-colors",children:m.jsx(yl,{size:20})})]})}),m.jsxs("div",{ref:p,onScroll:E,className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:[o?m.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(B=>m.jsx("div",{className:`flex ${B%2===0?"justify-end":"justify-start"}`,children:m.jsx("div",{className:`max-w-[70%] min-w-[200px] ${B%2===0?"bg-primary":"bg-neutral-700"} rounded-lg p-3`,children:m.jsx("div",{className:`w-48 h-4 ${B%2===0?"bg-primary/80":"bg-neutral-600"} rounded animate-pulse`})})},B))}):n.map(B=>m.jsx("div",{className:`flex ${B.isSystemMessage?"justify-center":B.senderId===l?.uid?"justify-end":"justify-start"}`,children:m.jsxs("div",{"data-message-id":B.id,"data-sender-id":B.senderId,"data-system-message":B.isSystemMessage?"true":"false",className:`${B.isSystemMessage?"bg-neutral-800 text-neutral-400 text-center text-xs px-3 py-1.5 max-w-[400px] whitespace-nowrap":B.senderId===l?.uid?"bg-primary text-white max-w-[70%] min-w-[80px]":"bg-neutral-700 text-white max-w-[70%] min-w-[80px]"} rounded-lg p-2.5 break-words whitespace-pre-wrap`,children:[B.imageUrl&&m.jsx("img",{src:B.imageUrl,alt:"Message attachment",className:"w-full h-auto rounded mb-2"}),m.jsx("p",{className:"text-sm",children:B.text}),!B.isSystemMessage&&m.jsx("p",{className:"text-xs opacity-70 mt-1",children:D(B.timestamp)})]})},B.id)),m.jsx("div",{ref:f})]}),m.jsx("div",{className:"p-4 border-t border-neutral-800 bg-neutral-900 flex-shrink-0",children:m.jsxs("form",{onSubmit:V,className:"flex items-center gap-3",children:[m.jsx("input",{type:"text",value:c,onChange:B=>d(B.target.value),placeholder:"Type a message...",className:"flex-1 bg-neutral-800 text-white px-4 py-3 rounded-lg border border-neutral-700 focus:border-primary outline-none"}),m.jsxs("label",{className:"cursor-pointer p-2 hover:bg-neutral-800 rounded-lg transition-colors",children:[m.jsx("input",{type:"file",accept:"image/*",onChange:B=>{const F=B.target.files?.[0];F&&P(F)},className:"hidden"}),m.jsx(yO,{size:24,className:"text-neutral-400 hover:text-white transition-colors"})]}),m.jsx("button",{type:"submit",disabled:!c.trim(),className:"bg-primary text-white p-2 rounded-lg hover:bg-primary/80 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:m.jsx(Mg,{size:20})})]})})]})}),bZ=A.memo(({chats:t,selectedChatId:e,onChatSelect:n,hasUnread:r,getUnreadCount:i,formatTime:o,searchQuery:l,setSearchQuery:c,chatListLoading:d})=>{const f=A.useMemo(()=>t.filter(p=>p.otherUser?.displayName?.toLowerCase().includes(l.toLowerCase())||p.otherUser?.username?.toLowerCase().includes(l.toLowerCase())),[t,l]);return m.jsxs(ge.div,{initial:{opacity:0,x:"-100%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"-100%"},transition:{duration:.3,ease:"easeInOut"},className:"h-full flex flex-col",children:[m.jsxs("div",{className:"p-4 border-b border-neutral-800 bg-neutral-900 flex-shrink-0",children:[m.jsx("div",{className:"flex items-center justify-between mb-4",children:m.jsx("h1",{className:"text-2xl font-bold text-primary",children:"Messages"})}),m.jsxs("div",{className:"relative",children:[m.jsx(vl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-neutral-400",size:16}),m.jsx("input",{type:"text",placeholder:"Search messages",value:l,onChange:p=>c(p.target.value),className:"w-full bg-neutral-800 text-white px-10 py-3 rounded-lg border border-neutral-700 focus:border-primary outline-none"})]})]}),m.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:d?m.jsx("div",{className:"p-4 space-y-4",children:[1,2,3,4,5].map(p=>m.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.1},className:"flex items-center gap-3 p-3 rounded-lg",children:[m.jsx("div",{className:"w-12 h-12 bg-neutral-700 rounded-full animate-pulse flex-shrink-0"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"w-24 h-4 bg-neutral-700 rounded mb-2 animate-pulse"}),m.jsx("div",{className:"w-32 h-3 bg-neutral-700 rounded animate-pulse"})]})]},p))}):f.length===0?m.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center h-full text-neutral-400 p-8",children:[m.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-primary to-primary/60 rounded-full flex items-center justify-center mb-4",children:m.jsx(Wu,{size:40,className:"text-white"})}),m.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"No Messages Yet"}),m.jsx("p",{className:"text-sm text-center",children:"Start connecting with other users to see your conversations here"})]}):m.jsx("div",{className:"p-4 space-y-2",children:f.map((p,y)=>m.jsx(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.1},onClick:()=>n(p),className:`p-4 rounded-xl cursor-pointer transition-all duration-200 ${e===p.id?"bg-neutral-800":"hover:bg-neutral-800/50"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsxs("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-primary/60 rounded-full flex items-center justify-center overflow-hidden flex-shrink-0",children:[p.otherUser?.avatar?m.jsx("img",{src:p.otherUser.avatar,alt:p.otherUser.displayName||p.otherUser.username,className:"w-full h-full object-cover",onError:x=>{x.currentTarget.style.display="none",x.currentTarget.nextElementSibling?.classList.remove("hidden")}}):null,m.jsx("span",{className:`text-white font-bold text-lg ${p.otherUser?.avatar?"hidden":""}`,children:p.otherUser?.displayName?.charAt(0)||p.otherUser?.username?.charAt(0)||"U"})]}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h3",{className:"text-white font-semibold truncate",children:p.otherUser?.displayName||p.otherUser?.username||"Unknown User"}),p.lastMessageTime&&m.jsx("span",{className:"text-xs text-neutral-400 flex-shrink-0 ml-2",children:o(p.lastMessageTime)})]}),m.jsx("p",{className:"text-sm text-neutral-400 truncate",children:p.lastMessage?.imageUrl?"Image":p.lastMessage?.text||"No messages yet"})]}),r(p.id)&&m.jsx(ge.div,{initial:{scale:0},animate:{scale:1},className:"flex items-center justify-center w-5 h-5 bg-red-500 text-white text-xs font-semibold rounded-full flex-shrink-0",children:i(p.id)>99?"99+":i(p.id)})]})},p.id))})})]})}),xZ=A.memo(({chats:t,selectedChatId:e,onChatSelect:n,hasUnread:r,getUnreadCount:i,formatTime:o,searchQuery:l,setSearchQuery:c,chatListLoading:d})=>{const f=A.useMemo(()=>t.filter(p=>p.otherUser?.displayName?.toLowerCase().includes(l.toLowerCase())||p.otherUser?.username?.toLowerCase().includes(l.toLowerCase())),[t,l]);return m.jsxs("div",{className:"w-80 border-r border-neutral-800 bg-neutral-900 flex flex-col h-full",children:[m.jsxs("div",{className:"p-6 border-b border-neutral-800 flex-shrink-0",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("h1",{className:"text-2xl font-bold text-primary",children:"Messages"}),m.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded-lg flex items-center justify-center",children:m.jsx(Wu,{size:20,className:"text-primary"})})]}),m.jsxs("div",{className:"relative",children:[m.jsx(vl,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-neutral-400",size:18}),m.jsx("input",{type:"text",placeholder:"Search conversations...",value:l,onChange:p=>c(p.target.value),className:"w-full bg-neutral-800 text-white px-12 py-3 rounded-xl border border-neutral-700 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all"})]})]}),m.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:d?m.jsx("div",{className:"p-4 space-y-4",children:[1,2,3,4,5,6].map(p=>m.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl",children:[m.jsx("div",{className:"w-14 h-14 bg-neutral-700 rounded-full animate-pulse flex-shrink-0"}),m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"w-28 h-5 bg-neutral-700 rounded mb-2 animate-pulse"}),m.jsx("div",{className:"w-40 h-4 bg-neutral-700 rounded animate-pulse"})]})]},p))}):f.length===0?m.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-neutral-400 p-8",children:[m.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-primary to-primary/60 rounded-full flex items-center justify-center mb-4",children:m.jsx(Wu,{size:40,className:"text-white"})}),m.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"No Messages Yet"}),m.jsx("p",{className:"text-sm text-center max-w-xs",children:"Start connecting with other users to see your conversations here"})]}):m.jsx("div",{className:"p-4 space-y-2",children:f.map((p,y)=>m.jsx(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.05},onClick:()=>n(p),className:`p-4 rounded-xl cursor-pointer transition-all duration-200 ${e===p.id?"bg-neutral-800 border border-primary/20":"hover:bg-neutral-800/50"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsxs("div",{className:"relative",children:[m.jsxs("div",{className:"w-14 h-14 bg-gradient-to-br from-primary to-primary/60 rounded-full flex items-center justify-center overflow-hidden flex-shrink-0",children:[p.otherUser?.avatar?m.jsx("img",{src:p.otherUser.avatar,alt:p.otherUser.displayName||p.otherUser.username,className:"w-full h-full object-cover",onError:x=>{x.currentTarget.style.display="none",x.currentTarget.nextElementSibling?.classList.remove("hidden")}}):null,m.jsx("span",{className:`text-white font-bold text-lg ${p.otherUser?.avatar?"hidden":""}`,children:p.otherUser?.displayName?.charAt(0)||p.otherUser?.username?.charAt(0)||"U"})]}),r(p.id)&&m.jsx(ge.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 flex items-center justify-center w-6 h-6 bg-red-500 text-white text-xs font-bold rounded-full flex-shrink-0 border-2 border-neutral-900",children:i(p.id)>99?"99+":i(p.id)})]}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center justify-between mb-1",children:[m.jsx("h3",{className:"text-white font-semibold truncate",children:p.otherUser?.displayName||p.otherUser?.username||"Unknown User"}),p.lastMessageTime&&m.jsx("span",{className:"text-xs text-neutral-400 flex-shrink-0 ml-2",children:o(p.lastMessageTime)})]}),m.jsx("p",{className:"text-sm text-neutral-400 truncate",children:p.lastMessage?.imageUrl?"📷 Image":p.lastMessage?.text||"No messages yet"})]})]})},p.id))})})]})});function HR(){const{user:t}=Ar(),{userId:e}=Tw(),n=vr(),r=gZ("(min-width: 768px)"),{hasUnread:i,getUnreadCount:o}=Vg(),[l,c]=A.useState([]),[d,f]=A.useState(null),[p,y]=A.useState([]),[x,E]=A.useState(null),[N,P]=A.useState(!0),[V,D]=A.useState(!1),[B,F]=A.useState(""),[Y,M]=A.useState(!1),O=A.useCallback(j=>{if(j){const G=j.participants.find(Z=>Z!==t?.uid);G&&window.history.replaceState(null,"",`/messages/${G}`)}else window.history.replaceState(null,"","/messages")},[t?.uid]),C=A.useCallback(async j=>{try{const G=cn(xt(Ve,"messages"),Zt("chatId","==",j),Zt("isSystemMessage","==",!0));(await ln(G)).empty&&await As(xt(Ve,"messages"),{chatId:j,text:"🎉 You both were matched because of a trade!",senderId:"system",receiverId:"system",timestamp:Vi(),read:!0,isSystemMessage:!0,readable:!1})}catch(G){console.error("Error creating trade match message:",G)}},[]),I=A.useCallback(async j=>{if(t)try{const G=cn(xt(Ve,"chats"),Zt("participants","array-contains",t.uid)),H=(await ln(G)).docs.find(W=>{const w=W.data();return w.participants.includes(j)&&w.participants.length===2});if(H){const W=H.data(),w={id:H.id,participants:W.participants,lastMessageTime:W.lastMessageTime,unreadCount:W.unreadCount||0};f(w),D(!0),await C(w.id);return}const J={id:(await As(xt(Ve,"chats"),{participants:[t.uid,j].sort(),lastMessageTime:Vi(),unreadCount:0})).id,participants:[t.uid,j].sort(),lastMessageTime:Vi(),unreadCount:0};f(J),D(!0),await C(J.id)}catch(G){console.error("Error creating chat:",G)}},[t,C]);A.useEffect(()=>{if(!t)return;const j=cn(xt(Ve,"chats"),Zt("participants","array-contains",t.uid),qu("lastMessageTime","desc")),G=Gu(j,async Z=>{const H=[],S=new Set;for(const J of Z.docs){const W=J.data();W.id=J.id;const w=W.participants.find(z=>z!==t.uid);if(w){const z=[t.uid,w].sort().join("_");if(S.has(z))continue;S.add(z);try{const X=await wi(Jt(Ve,"users",w));if(X.exists()){const Q=X.data();W.otherUser=Q}}catch(X){console.error("Error fetching user data:",X)}H.push(W)}}c(H),P(!1)});return()=>G()},[t]),A.useEffect(()=>{if(!(!t||!l.length))if(e){const j=l.find(G=>G.participants.includes(e));j?(f(j),D(!0)):I(e)}else!e&&d&&f(null)},[e,t,l.length,I]),A.useEffect(()=>{if(!d||!t)return;const j=cn(xt(Ve,"messages"),Zt("chatId","==",d.id),qu("timestamp","asc")),G=Gu(j,Z=>{const H=Z.docs.map(S=>({id:S.id,...S.data()}));y(H),D(!1)});return()=>G()},[d,t]),A.useEffect(()=>{if(!d||!t){E(null);return}const j=d.participants.find(G=>G!==t.uid);if(j){let G=!0;return wi(Jt(Ve,"users",j)).then(Z=>{if(G)if(Z.exists()){const H=Z.data();E(H)}else E(null)}).catch(Z=>{G&&(console.error("Error fetching other user:",Z),E(null))}),()=>{G=!1}}else E(null)},[d?.id,t?.uid]);const R=A.useCallback(j=>{D(!0),f(j),r&&M(!0),O(j)},[O,r]),T=A.useCallback(j=>{if(!j)return"";try{const G=j.toDate(),S=(new Date().getTime()-G.getTime())/(1e3*60),J=S/60,W=J/24;return S<1?"now":S<60?`${Math.floor(S)}m`:J<24?`${Math.floor(J)}h`:W<7?`${Math.floor(W)}d`:G.toLocaleDateString("en-US",{month:"short",day:"numeric"})}catch{return""}},[]),U=A.useCallback(()=>{f(null),O(null)},[O]),$=A.useCallback(()=>{M(!1),f(null),O(null)},[O]);return A.useEffect(()=>{const j=()=>{r&&$()};return window.addEventListener("clearChatWindow",j),()=>{window.removeEventListener("clearChatWindow",j)}},[r,$]),m.jsx(kr,{className:"h-screen bg-neutral-950 overflow-hidden",children:r?m.jsxs("div",{className:"flex h-full",children:[m.jsx(xZ,{chats:l,selectedChatId:d?.id,onChatSelect:R,hasUnread:i,getUnreadCount:o,formatTime:T,searchQuery:B,setSearchQuery:F,chatListLoading:N}),m.jsx(vZ,{selectedChat:Y?d:null,otherUser:x,messages:p,onNavigateToProfile:j=>n(`/user/${j}`),onClose:$,isLoading:V})]}):m.jsx(fn,{mode:"wait",children:d?m.jsx(yZ,{selectedChat:d,otherUser:x,messages:p,onNavigateToProfile:j=>n(`/user/${j}`),onBackToChats:U,isLoading:V},"chat-window"):m.jsx(bZ,{chats:l,selectedChatId:void 0,onChatSelect:R,hasUnread:i,getUnreadCount:o,formatTime:T,searchQuery:B,setSearchQuery:F,chatListLoading:N},"chat-list")})})}const wZ="bg-primary text-primary-foreground hover:bg-primary/80 cursor-pointer transition-all duration-200 active:scale-95 uppercase tracking-widest font-bold disabled:opacity-40 disabled:cursor-not-allowed rounded-md",Q0="rounded-md bg-muted px-3 py-2 text-sm outline-none focus:ring-2 ring-primary/80 transition-all duration-200",$R={initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9}},qR={control:t=>({...t,background:"#1b1b1b",border:"none",minHeight:"2.6rem",cursor:"pointer"}),singleValue:t=>({...t,color:"#fff"}),input:t=>({...t,color:"#fff"}),placeholder:t=>({...t,color:"#888"}),menu:t=>({...t,background:"#1b1b1b"}),option:(t,e)=>({...t,background:e.isFocused?"#2a2a2a":"#1b1b1b",color:"#fff",cursor:"pointer"}),indicatorSeparator:()=>({display:"none"})},GR=t=>m.jsx(qg.DropdownIndicator,{...t,children:m.jsx(Vh,{size:18,className:"text-muted-foreground"})});function _Z({initialData:t,setData:e,onClose:n}){const[r,i]=A.useState(t?.displayName||""),[o,l]=A.useState(t?.username||""),[c,d]=A.useState(t?.country||null),[f,p]=A.useState(t?.language||null),[y,x]=A.useState(""),[E,N]=A.useState(new Set(t?.interests||[])),[P,V]=A.useState(t?.avatar||""),[D,B]=A.useState(null),[F,Y]=A.useState(!1),M=async()=>{if(!r.trim())return B("Name is required");if(!o.trim())return B("Username is required");if(o.trim().length<3)return B("Username must be at least 3 characters");if(!ea(o))return B("Username can only contain letters, numbers, and underscores");Y(!0);const I=GN().currentUser;if(!I)return B("You must be logged in.");if(await C_(o,I.uid)){B("Username already exists. Please choose a different one."),Y(!1);return}let T=P;if(P&&P.startsWith("data:")){const $=await fetch(P).then(G=>G.blob()),j=Ag(Cg,`avatars/${I.uid}.jpg`);await Tg(j,$),T=await Eg(j)}const U={displayName:r,username:o,avatar:T,country:c?.value||t.country,language:f?.value||t.language,interests:Array.from(E)};await ml(Jt(Ve,"users",I.uid),U,{merge:!0}),await jN(I,{displayName:r,photoURL:T}),e(U),Y(!1),n()},O=C=>{const I=C.target.files?.[0];if(!I)return;const R=new FileReader;R.onloadend=()=>V(R.result),R.readAsDataURL(I)};return m.jsx(ge.div,{...$R,transition:{duration:.25},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-6",children:m.jsxs(ge.div,{...$R,transition:{duration:.25},className:"bg-neutral-900 text-white w-full max-w-2xl rounded-xl relative p-5 sm:p-6 h-full flex flex-col",children:[m.jsx("button",{onClick:n,className:"absolute top-4 right-4 cursor-pointer hover:bg-neutral-800 p-2 rounded-xl transition-colors",children:m.jsx(Ui,{size:24})}),m.jsx("h2",{className:"text-2xl font-bold mb-1 text-primary",children:"Edit Profile"}),m.jsx("p",{className:"text-sm mb-4 text-muted-foreground",children:"Update your profile information."}),m.jsxs("div",{className:"flex items-center gap-4 mb-5",children:[m.jsxs("label",{htmlFor:"avatar",className:"relative cursor-pointer shrink-0",children:[P?m.jsx("img",{src:P,className:"w-16 h-16 rounded-full object-cover border",alt:"Avatar"}):m.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center border",children:m.jsx(yl,{className:"text-muted-foreground",size:28})}),m.jsx("div",{className:"absolute bottom-0 right-0 p-1 bg-primary rounded-full",children:m.jsx(Uz,{size:14})}),m.jsx("input",{id:"avatar",type:"file",accept:"image/*",className:"hidden",onChange:O})]}),m.jsx("input",{className:`${Q0} w-full`,value:r,onChange:C=>{i(C.target.value),B(null)},placeholder:"Your name"})]}),m.jsxs("div",{className:"mb-5",children:[m.jsx("label",{className:"block text-sm mb-1",children:"Username"}),m.jsx("input",{className:`${Q0} w-full ${o&&!ea(o)?"border-red-500 focus:border-red-500":o&&ea(o)?"border-green-500 focus:border-green-500":""}`,value:o,onChange:C=>{l(C.target.value),B(null)},placeholder:"johndoe123"}),o&&!ea(o)&&m.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Username can only contain letters, numbers, and underscores"}),!o&&m.jsx("p",{className:"text-neutral-400 text-xs mt-1",children:"Only letters, numbers, and underscores allowed"})]}),m.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-5",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm mb-1",children:"Country"}),m.jsx(mh,{instanceId:"country",options:ox().getData(),value:typeof c=="string"?ox().getData().find(C=>C.value===t.country):c,onChange:C=>{d(C),B(null)},placeholder:"Select country",styles:qR,components:{DropdownIndicator:GR},menuShouldScrollIntoView:!1})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm mb-1",children:"Language"}),m.jsx(mh,{instanceId:"language",options:lx,value:typeof f=="string"?lx.find(C=>C.value===t.language):f,onChange:C=>{p(C),B(null)},placeholder:"Select language",styles:qR,components:{DropdownIndicator:GR},menuShouldScrollIntoView:!1})]})]}),m.jsx("h3",{className:"text-xl font-semibold mb-1",children:"Interests"}),m.jsxs("p",{className:"text-sm mb-3",children:["These help us ",m.jsx("span",{className:"text-primary",children:"personalize"})," your experience."]}),m.jsx("input",{type:"text",placeholder:"Search interests",value:y,onChange:C=>x(C.target.value),className:`w-full mb-3 ${Q0}`}),m.jsx("div",{className:"flex-grow overflow-y-auto pr-1 mb-4",children:m.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:hs.filter(({label:C})=>C.toLowerCase().includes(y.toLowerCase())).map(({id:C,label:I,img:R})=>{const T=E.has(C);return m.jsxs("div",{onClick:()=>{N(U=>{const $=new Set(U);return $.has(C)?$.delete(C):$.add(C),$}),B(null)},className:`relative cursor-pointer rounded-xl overflow-hidden border-2 ${T?"border-primary":"border-transparent"}`,children:[m.jsx("img",{src:R,alt:I,className:"w-full h-20 object-cover"}),T&&m.jsx("div",{className:"absolute top-1 right-1 bg-primary p-1 rounded-full",children:m.jsx(Ow,{size:14,className:"text-white"})}),m.jsx("p",{className:"text-xs mt-2 px-1 pb-2 truncate text-center",children:I})]},C)})})}),D&&m.jsx("p",{className:"text-red-500 text-sm mb-3",children:D}),m.jsx("div",{className:"flex justify-center",children:F?m.jsx(A_,{}):m.jsx("button",{onClick:M,className:`${wZ} px-6 py-2 text-sm`,disabled:F,children:"Save Changes"})})]},"modal")})}const Pm={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};function SZ(){const{user:t}=Ar(),{username:e}=Tw(),n=vr(),[r]=Nw(),[i,o]=A.useState(null),[l,c]=A.useState([]),[d,f]=A.useState([]),[p,y]=A.useState(!1),[x,E]=A.useState(!1),[N,P]=A.useState(!1),[V,D]=A.useState(null),[B,F]=A.useState(null),[Y,M]=A.useState("trades"),[O,C]=A.useState(!0),[I,R]=A.useState(!1),T=!e||t&&i&&t.uid===i.uid;A.useEffect(()=>{!e&&t&&i?.username&&!I&&window.location.pathname==="/user"&&(R(!0),n(`/user/${i.username}`,{replace:!0}))},[e,t,i,n,I]),A.useEffect(()=>{(async()=>{try{let Z,H;if(e){if(H=await JD(e),!H){n("/error");return}Z=H.uid}else{if(!t)return;if(H=await R_(t.uid),!H){n("/error");return}Z=t.uid}const[S,J]=await Promise.all([N_(Z),T?I_(Z):Promise.resolve([])]);o(H),c(S),f(J)}catch(Z){console.error("Failed to fetch profile data:",Z),n("/error")}finally{C(!1)}})()},[e,t,n,T]),A.useEffect(()=>{if(!T)return;const G=r.get("tab");M(G==="saved"?"saved":"trades")},[r,T]);const U=G=>{D(G),E(!0)},$=G=>{F(G),P(!0)},j=G=>{c(Z=>Z.map(H=>H.id===G.id?{...H,...G}:H)),D(G)};return O||I?m.jsxs(kr,{className:"px-4 py-8 text-white max-w-4xl mx-auto",children:[m.jsxs("div",{className:"flex items-center justify-between mb-8",children:[m.jsxs("div",{className:"flex items-center gap-5",children:[m.jsx("div",{className:"w-24 h-24 rounded-full bg-neutral-700 animate-pulse"}),m.jsxs("div",{children:[m.jsx("div",{className:"w-48 h-8 bg-neutral-700 rounded mb-2 animate-pulse"}),m.jsx("div",{className:"w-32 h-4 bg-neutral-700 rounded animate-pulse"})]})]}),T&&m.jsx("div",{className:"w-24 h-10 bg-neutral-700 rounded animate-pulse"})]}),m.jsx("div",{className:"mt-6 mb-8",children:m.jsx("div",{className:"flex flex-wrap gap-3",children:[1,2,3].map(G=>m.jsx("div",{className:"w-24 h-8 bg-neutral-700 rounded-lg animate-pulse"},G))})}),T&&m.jsx("div",{className:"flex justify-center border-t border-white/10 mb-4",children:[1,2].map(G=>m.jsx("div",{className:"w-1/2 py-3",children:m.jsx("div",{className:"w-16 h-4 bg-neutral-700 rounded mx-auto animate-pulse"})},G))}),m.jsx("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(G=>m.jsx("div",{className:"aspect-square bg-neutral-700 rounded-xl animate-pulse"},G))})]}):m.jsxs(kr,{className:"px-4 py-8 text-white max-w-4xl mx-auto",children:[i&&m.jsxs(m.Fragment,{children:[!T&&m.jsx(ge.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"mb-6",children:m.jsxs("button",{onClick:()=>n(-1),className:"flex items-center gap-2 text-neutral-400 hover:text-white transition-colors p-2 rounded-lg hover:bg-neutral-800",children:[m.jsx(Lh,{size:20}),m.jsx("span",{className:"text-sm",children:"Back"})]})}),m.jsxs(ge.div,{variants:Pm,initial:"hidden",animate:"visible",transition:{duration:.4},className:"mb-8",children:[m.jsx("div",{className:"md:hidden",children:m.jsxs("div",{className:"flex flex-col items-center text-center mb-6",children:[i.avatar?m.jsx("img",{src:i.avatar,alt:"Profile",className:"w-20 h-20 rounded-full object-cover border border-white/10 mb-4"}):m.jsx("div",{className:"w-20 h-20 rounded-full border border-white/10 bg-white/10 flex items-center justify-center mb-4",children:m.jsx(yl,{size:32,className:"text-white/60"})}),m.jsxs("div",{className:"mb-4",children:[m.jsxs("h1",{className:"text-xl font-bold text-white mb-1",children:[i.displayName||"User",i.country&&m.jsx("span",{className:"ml-2",children:ux(i.country)})]}),i.username&&m.jsxs("p",{className:"text-sm text-white/60 mb-1",children:["@",i.username]}),T&&m.jsx("p",{className:"text-sm text-white/60 break-all",children:t?.email}),!T&&i.bio&&m.jsx("p",{className:"text-sm text-white/60 mt-1",children:i.bio})]}),T&&m.jsx("button",{onClick:()=>y(!0),className:"w-full max-w-xs px-6 py-2.5 text-sm bg-primary text-primary-foreground hover:bg-primary/80 cursor-pointer transition-all duration-200 active:scale-95 uppercase tracking-wide font-bold disabled:opacity-40 disabled:cursor-not-allowed rounded-lg",children:"EDIT PROFILE"})]})}),m.jsxs("div",{className:"hidden md:flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-5",children:[i.avatar?m.jsx("img",{src:i.avatar,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border border-white/10"}):m.jsx("div",{className:"w-24 h-24 rounded-full border border-white/10 bg-white/10 flex items-center justify-center",children:m.jsx(yl,{size:40,className:"text-white/60"})}),m.jsxs("div",{children:[m.jsxs("h1",{className:"text-3xl font-bold text-white",children:[i.displayName||"User",i.country&&m.jsx("span",{className:"ml-2",children:ux(i.country)})]}),i.username&&m.jsxs("p",{className:"text-sm text-white/60 mb-1",children:["@",i.username]}),T?m.jsx("p",{className:"text-sm text-white/60",children:t?.email}):i.bio&&m.jsx("p",{className:"text-sm text-white/60",children:i.bio})]})]}),T&&m.jsx("button",{onClick:()=>y(!0),className:"px-6 rounded-md py-1.5 text-sm bg-primary text-primary-foreground hover:bg-primary/80 cursor-pointer transition-all duration-200 active:scale-95 uppercase tracking-wide font-bold disabled:opacity-40 disabled:cursor-not-allowed",children:"EDIT PROFILE"})]})]}),i.interests&&i.interests.length>0&&m.jsx(ge.div,{variants:Pm,initial:"hidden",animate:"visible",transition:{delay:.2,duration:.4},className:"mt-6 mb-8",children:m.jsx("div",{className:"flex flex-wrap gap-3",children:i.interests.map(G=>m.jsx("span",{className:`px-4 py-2 rounded-lg text-sm font-semibold text-white ${GX(G)}`,children:G.replace("_"," ").split(" ").map(Z=>Z.charAt(0).toUpperCase()+Z.slice(1)).join(" ")},G))})}),T&&m.jsxs(ge.div,{variants:Pm,initial:"hidden",animate:"visible",transition:{delay:.3,duration:.4},className:"flex justify-center border-t border-white/10 mb-4",children:[m.jsxs("button",{onClick:()=>M("trades"),className:`flex items-center justify-center gap-1 px-6 py-3 text-sm font-medium transition w-1/2 cursor-pointer ${Y==="trades"?"border-t-2 border-white":"text-white/40"}`,children:[m.jsx(Gz,{size:18}),"Trades"]}),m.jsxs("button",{onClick:()=>M("saved"),className:`flex items-center justify-center gap-1 px-6 py-3 text-sm font-medium transition w-1/2 cursor-pointer ${Y==="saved"?"border-t-2 border-white":"text-white/40"}`,children:[m.jsx(gl,{size:18}),"Saved"]})]}),m.jsx(ge.div,{variants:Pm,initial:"hidden",animate:"visible",transition:{delay:.4,duration:.4},className:"mt-6",children:T?m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(Y==="trades"?l:d).map((G,Z)=>m.jsxs(ge.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:Z*.05},className:`relative aspect-square overflow-hidden rounded-xl bg-white/10 cursor-pointer hover:scale-105 transition-transform duration-200 ${Y==="trades"?"hover:border-2 hover:border-primary":""}`,onClick:()=>Y==="trades"?U(G):$(G),children:[m.jsx("img",{src:G.images?.[0],alt:G.title||G.caption||"Item",className:"object-cover w-full h-full"}),Y==="trades"&&!G.isAvailable&&m.jsx("div",{className:"absolute top-2 right-2 bg-red-600 text-white px-2 py-1 rounded-full text-xs font-bold",children:"UNAVAILABLE"})]},G.id)),Y==="trades"&&l.length===0&&m.jsx("p",{className:"text-sm text-white/40 col-span-full text-center",children:"You haven't added any trades yet."}),Y==="saved"&&d.length===0&&m.jsx("p",{className:"text-sm text-white/40 col-span-full text-center",children:"No saved posts yet."})]}):l.length===0?m.jsx("div",{className:"flex justify-center items-center",children:m.jsxs("div",{className:"text-center text-neutral-400 py-16",children:[m.jsx(sB,{className:"w-16 h-16 mx-auto mb-6 opacity-50"}),m.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No trades available"}),m.jsx("p",{className:"text-neutral-500",children:"This user hasn't added any trades yet."})]})}):m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:l.map((G,Z)=>m.jsx(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Z*.1},className:"aspect-square bg-neutral-900 rounded-xl border border-neutral-700 overflow-hidden hover:border-primary transition-colors cursor-pointer",onClick:()=>n(`/trades/${G.id}`),children:m.jsx("img",{src:G.images?.[0],alt:G.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-200"})},G.id))})})]}),m.jsxs(fn,{mode:"wait",children:[p&&m.jsx(_Z,{initialData:i,setData:G=>o(G),onClose:()=>y(!1)}),x&&m.jsx(M_,{trade:V,isOpen:x,onClose:()=>{E(!1),D(null)},onTradeUpdate:j}),N&&B&&m.jsx(O_,{post:B,onClose:()=>{P(!1),F(null)},user:t,liked:!1,saved:!0,handleLike:()=>{},handleSave:()=>{}})]})]})}const TZ={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3}},EZ={animate:{transition:{staggerChildren:.1}}};function AZ(){const{cart:t,totalPrice:e,updateQuantity:n,removeFromCart:r}=Lg();return m.jsx(kr,{className:"min-h-screen bg-neutral-950",children:m.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8 md:py-12",children:[m.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"text-center mb-8 md:mb-12",children:[m.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[m.jsx("div",{className:"w-12 h-12 bg-primary/20 rounded-full flex items-center justify-center",children:m.jsx(Du,{className:"w-6 h-6 text-primary"})}),m.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white",children:"Your Cart"})]}),m.jsx("p",{className:"text-neutral-400 text-sm md:text-base",children:t.length===0?"Start adding items to your cart":`${t.length} item${t.length===1?"":"s"} in your cart`})]}),t.length===0?m.jsxs(ge.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"flex flex-col items-center justify-center py-16 md:py-24",children:[m.jsx("div",{className:"w-24 h-24 bg-neutral-800 rounded-full flex items-center justify-center mb-6",children:m.jsx(Du,{className:"w-12 h-12 text-neutral-400"})}),m.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-white mb-2",children:"Your cart is empty"}),m.jsx("p",{className:"text-neutral-400 text-center max-w-md",children:"Looks like you haven't added any items to your cart yet. Start exploring our collection!"})]}):m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[m.jsx(ge.div,{variants:EZ,initial:"initial",animate:"animate",className:"lg:col-span-2 space-y-4",children:t.map(i=>m.jsx(ge.div,{variants:TZ,className:"bg-neutral-900 border border-neutral-800 rounded-xl p-4 md:p-6 hover:border-neutral-700 transition-colors",children:m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[m.jsx("div",{className:"flex-shrink-0",children:i.image?m.jsx("img",{src:i.image,alt:i.name,className:"w-20 h-20 md:w-24 md:h-24 rounded-lg object-cover border border-neutral-700"}):m.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 rounded-lg bg-neutral-800 border border-neutral-700 flex items-center justify-center",children:m.jsx(Du,{className:"w-8 h-8 text-neutral-400"})})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h3",{className:"font-semibold text-white text-lg mb-1 truncate",children:i.name}),m.jsxs("p",{className:"text-neutral-400 text-sm mb-3",children:["$",i.price?.toFixed(2)??0," each"]}),m.jsxs("div",{className:"flex items-center justify-between md:hidden",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:()=>n(i.id,i.quantity-1),className:"w-8 h-8 bg-neutral-800 hover:bg-neutral-700 rounded-lg flex items-center justify-center text-white transition-colors",disabled:i.quantity<=1,children:m.jsx(oA,{size:16})}),m.jsx("span",{className:"w-12 text-center text-white font-medium",children:i.quantity}),m.jsx("button",{onClick:()=>n(i.id,i.quantity+1),className:"w-8 h-8 bg-neutral-800 hover:bg-neutral-700 rounded-lg flex items-center justify-center text-white transition-colors",children:m.jsx(Yu,{size:16})})]}),m.jsx("button",{onClick:()=>r(i.id),className:"text-red-400 hover:text-red-300 transition-colors p-2",children:m.jsx(_O,{size:18})})]})]}),m.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:()=>n(i.id,i.quantity-1),className:"w-8 h-8 bg-neutral-800 hover:bg-neutral-700 rounded-lg flex items-center justify-center text-white transition-colors",disabled:i.quantity<=1,children:m.jsx(oA,{size:16})}),m.jsx("span",{className:"w-12 text-center text-white font-medium",children:i.quantity}),m.jsx("button",{onClick:()=>n(i.id,i.quantity+1),className:"w-8 h-8 bg-neutral-800 hover:bg-neutral-700 rounded-lg flex items-center justify-center text-white transition-colors",children:m.jsx(Yu,{size:16})})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"text-lg font-semibold text-white",children:["$",((i.price??0)*i.quantity).toFixed(2)]}),m.jsx("button",{onClick:()=>r(i.id),className:"text-red-400 hover:text-red-300 transition-colors text-sm mt-1",children:"Remove"})]})]})]})},i.id))}),m.jsx(ge.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.2},className:"lg:col-span-1",children:m.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 rounded-xl p-6 sticky top-8",children:[m.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Order Summary"}),m.jsxs("div",{className:"space-y-4 mb-6",children:[m.jsxs("div",{className:"flex justify-between text-neutral-400",children:[m.jsx("span",{children:"Subtotal"}),m.jsxs("span",{children:["$",e.toFixed(2)]})]}),m.jsxs("div",{className:"flex justify-between text-neutral-400",children:[m.jsx("span",{children:"Shipping"}),m.jsx("span",{className:"text-green-400",children:"Free"})]}),m.jsx("div",{className:"border-t border-neutral-800 pt-4",children:m.jsxs("div",{className:"flex justify-between text-lg font-semibold text-white",children:[m.jsx("span",{children:"Total"}),m.jsxs("span",{className:"text-primary",children:["$",e.toFixed(2)]})]})})]}),m.jsxs("button",{className:"w-full bg-primary hover:bg-primary/90 text-white font-semibold py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:["Proceed to Checkout",m.jsx(Ig,{size:18})]}),m.jsx("p",{className:"text-xs text-neutral-500 text-center mt-4",children:"Secure checkout powered by Stripe"})]})})]})]})})}const CZ="bg-primary text-primary-foreground hover:bg-primary/80 cursor-pointer transition-all duration-200 active:scale-95 uppercase tracking-widest font-bold disabled:opacity-40 disabled:cursor-not-allowed py-3 sm:py-2 text-base sm:text-sm w-full rounded-md",RZ="rounded-md bg-muted px-3 py-3 sm:py-2 text-base sm:text-base outline-none focus:ring-2 ring-primary/80 transition-all duration-200 w-full",KR={initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}},NZ=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,WR=t=>NZ.test(t);function IZ(){const t=vr(),[e,n]=A.useState(""),[r,i]=A.useState(!1),[o,l]=A.useState(!1),[c,d]=A.useState(null),[f,p]=Ug(),[y]=A.useState(()=>{const N=Math.random()>.5?"left":"right",P=200;return{start:{x:N==="left"?-P-Math.random()*200:f+P+Math.random()*200,y:-P},end:{x:N==="left"?f+P+Math.random()*200:-P-Math.random()*200,y:p+P}}}),x=async()=>{if(!WR(e)){d("Please enter a valid email address");return}i(!0),d(null);try{await EV(Di,e),l(!0)}catch(N){N.code==="auth/user-not-found"?d("No account found with this email address"):N.code==="auth/too-many-requests"?d("Too many attempts. Please try again later"):d("Failed to send reset email. Please try again")}finally{i(!1)}},E=()=>{t("/")};return m.jsx(m.Fragment,{children:m.jsxs(kr,{className:"relative h-screen overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:m.jsx($h,{start:y.start,end:y.end,speed:12,className:"absolute bottom-0 left-0 opacity-25 w-full h-screen",imgHeightTW:"h-32 sm:h-40 md:h-44",imgWidthTW:"w-44 sm:w-52 md:w-56"})}),m.jsx("div",{className:"relative z-10 min-h-screen flex flex-col justify-center px-4 sm:px-6",children:m.jsxs("div",{className:"mx-auto w-full max-w-sm",children:[m.jsxs(ge.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},onClick:E,className:"flex items-center gap-2 text-white/70 hover:text-white transition-colors mb-8 cursor-pointer",children:[m.jsx(Lh,{size:20}),m.jsx("span",{className:"text-sm",children:"Back to Sign In"})]}),m.jsx(ge.img,{src:"/icon.png",alt:"logo",className:"w-20 h-20 sm:w-24 sm:h-24 mx-auto mb-6",initial:{y:-10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,ease:"backOut"}}),c&&m.jsx(ge.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500/20 text-red-400 text-sm sm:text-base rounded-md px-3 py-2 mb-6",role:"alert",children:c}),o?m.jsx(ge.div,{...KR,children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-6",children:m.jsx(Op,{className:"w-8 h-8 text-primary"})}),m.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold mb-4 text-white",children:"Check Your Email"}),m.jsxs("p",{className:"text-sm sm:text-base mb-6 text-white/70",children:["We've sent a password reset link to"," ",m.jsx("span",{className:"text-primary font-semibold",children:e})]}),m.jsx("div",{className:"bg-neutral-900/50 rounded-lg p-4 mb-6",children:m.jsx("p",{className:"text-xs text-white/50 leading-relaxed",children:"Click the link in your email to reset your password. If you don't see it, check your spam folder."})}),m.jsx(ge.button,{whileTap:{scale:.97},onClick:E,className:"w-full rounded-md py-3 bg-neutral-800 text-white hover:bg-neutral-700 transition-colors cursor-pointer",children:"Back to Sign In"}),m.jsx("div",{className:"mt-4",children:m.jsx("button",{onClick:()=>{l(!1),n(""),d(null)},className:"text-sm text-primary hover:text-primary/80 transition-colors cursor-pointer",children:"Send to a different email"})})]})}):m.jsxs(ge.div,{...KR,children:[m.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold mb-2 text-white text-center",children:"Reset Password"}),m.jsx("p",{className:"text-sm sm:text-base mb-8 text-white/70 text-center",children:"Enter your email address and we'll send you a link to reset your password."}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm sm:text-base text-left mb-2 text-white/80",children:"Email Address"}),m.jsxs("div",{className:"relative",children:[m.jsx(wO,{className:"absolute left-3 top-1/2 -translate-y-1/2 opacity-50",size:18}),m.jsx("input",{type:"email",value:e,onChange:N=>{n(N.target.value),d(null)},className:`pl-10 ${RZ}`,placeholder:"you@example.com",disabled:r})]})]}),m.jsx(ge.button,{whileTap:{scale:.97},onClick:x,className:CZ,disabled:!WR(e)||r,children:r?"Sending...":"Send Reset Link"})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsxs("p",{className:"text-xs text-white/50",children:["Remember your password?"," ",m.jsx("button",{onClick:E,className:"text-primary hover:text-primary/80 transition-colors cursor-pointer",children:"Sign in"})]})})]})]})})]})})}const MZ="bg-primary text-primary-foreground hover:bg-primary/80 cursor-pointer transition-all duration-200 active:scale-95 uppercase tracking-widest font-bold disabled:opacity-40 disabled:cursor-not-allowed py-3 sm:py-2 text-base sm:text-sm w-full rounded-md",YR="rounded-md bg-muted px-3 py-3 sm:py-2 text-base sm:text-base outline-none focus:ring-2 ring-primary/80 transition-all duration-200 w-full",Dm={initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}};function OZ(){const t=vr(),[e]=Nw(),[n,r]=A.useState(!0),[i,o]=A.useState(null),[l,c]=A.useState(!1),[d,f]=A.useState(null),[p,y]=A.useState(""),[x,E]=A.useState(""),[N,P]=A.useState(null),[V,D]=Ug(),[B]=A.useState(()=>{const C=Math.random()>.5?"left":"right",I=200;return{start:{x:C==="left"?-I-Math.random()*200:V+I+Math.random()*200,y:-I},end:{x:C==="left"?V+I+Math.random()*200:-I-Math.random()*200,y:D+I}}});A.useEffect(()=>{(async()=>{const I=e.get("mode"),R=e.get("oobCode");if(!I||!R){o("Invalid action link. Please try requesting a new one."),r(!1);return}f(I);try{const T=await CV(Di,R);switch(P(T.data.email||null),I){case"resetPassword":r(!1);break;case"verifyEmail":await wE(Di,R),c(!0),r(!1);break;case"recoverEmail":await wE(Di,R),c(!0),r(!1);break;default:o("Unknown action type."),r(!1)}}catch(T){console.error("Auth action error:",T),T.code==="auth/invalid-action-code"?o("This link has expired or is invalid. Please request a new one."):T.code==="auth/expired-action-code"?o("This link has expired. Please request a new one."):o("An error occurred. Please try again."),r(!1)}})()},[e]);const F=async()=>{if(p!==x){o("Passwords do not match.");return}if(p.length<8){o("Password must be at least 8 characters long.");return}r(!0),o(null);try{const C=e.get("oobCode");if(!C){o("Invalid reset code.");return}await AV(Di,C,p),c(!0)}catch(C){console.error("Password reset error:",C),C.code==="auth/weak-password"?o("Password is too weak. Please choose a stronger password."):o("Failed to reset password. Please try again.")}finally{r(!1)}},Y=()=>{t("/")},M=()=>{switch(d){case"resetPassword":return"Reset Password";case"verifyEmail":return"Verify Email";case"recoverEmail":return"Recover Email";default:return"Account Action"}},O=()=>{switch(d){case"resetPassword":return"Enter your new password below.";case"verifyEmail":return"Your email has been verified successfully!";case"recoverEmail":return"Your email has been recovered successfully!";default:return""}};return m.jsx(m.Fragment,{children:m.jsxs(kr,{className:"relative h-screen overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:m.jsx($h,{start:B.start,end:B.end,speed:12,className:"absolute bottom-0 left-0 opacity-25 w-full h-screen",imgHeightTW:"h-32 sm:h-40 md:h-44",imgWidthTW:"w-44 sm:w-52 md:w-56"})}),m.jsx("div",{className:"relative z-10 min-h-screen flex flex-col justify-center px-4 sm:px-6",children:m.jsxs("div",{className:"mx-auto w-full max-w-sm",children:[m.jsxs(ge.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},onClick:Y,className:"flex items-center gap-2 text-white/70 hover:text-white transition-colors mb-8 cursor-pointer",children:[m.jsx(Lh,{size:20}),m.jsx("span",{className:"text-sm",children:"Back to Sign In"})]}),m.jsx(ge.img,{src:"/icon.png",alt:"logo",className:"w-20 h-20 sm:w-24 sm:h-24 mx-auto mb-6",initial:{y:-10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,ease:"backOut"}}),n?m.jsxs(ge.div,{...Dm,className:"text-center",children:[m.jsx("div",{className:"flex justify-center mb-4",children:m.jsx(bO,{className:"w-8 h-8 text-primary animate-spin"})}),m.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold mb-2 text-white",children:"Processing..."}),m.jsx("p",{className:"text-sm sm:text-base text-white/70",children:"Please wait while we process your request."})]}):i?m.jsxs(ge.div,{...Dm,className:"text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:m.jsx(Lz,{className:"w-8 h-8 text-red-500"})}),m.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold mb-4 text-white",children:"Error"}),m.jsx("p",{className:"text-sm sm:text-base mb-6 text-white/70",children:i}),m.jsx(ge.button,{whileTap:{scale:.97},onClick:Y,className:"w-full rounded-md py-3 bg-neutral-800 text-white hover:bg-neutral-700 transition-colors cursor-pointer",children:"Back to Sign In"})]}):l?m.jsxs(ge.div,{...Dm,className:"text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-6",children:m.jsx(Op,{className:"w-8 h-8 text-primary"})}),m.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold mb-4 text-white",children:"Success!"}),m.jsx("p",{className:"text-sm sm:text-base mb-6 text-white/70",children:O()}),m.jsx(ge.button,{whileTap:{scale:.97},onClick:Y,className:"w-full rounded-md py-3 bg-primary text-white hover:bg-primary/80 transition-colors cursor-pointer",children:"Continue to Sign In"})]}):d==="resetPassword"?m.jsxs(ge.div,{...Dm,children:[m.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold mb-2 text-white text-center",children:M()}),m.jsx("p",{className:"text-sm sm:text-base mb-6 text-white/70 text-center",children:O()}),N&&m.jsx("div",{className:"bg-neutral-900/50 rounded-lg p-4 mb-6",children:m.jsxs("p",{className:"text-xs text-white/50",children:["Resetting password for:"," ",m.jsx("span",{className:"text-primary font-semibold",children:N})]})}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm sm:text-base text-left mb-2 text-white/80",children:"New Password"}),m.jsx("input",{type:"password",value:p,onChange:C=>{y(C.target.value),o(null)},className:YR,placeholder:"••••••••"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm sm:text-base text-left mb-2 text-white/80",children:"Confirm Password"}),m.jsx("input",{type:"password",value:x,onChange:C=>{E(C.target.value),o(null)},className:YR,placeholder:"••••••••"})]}),m.jsx(ge.button,{whileTap:{scale:.97},onClick:F,className:MZ,disabled:!p||!x||n,children:n?"Resetting...":"Reset Password"})]})]}):null]})})]})})}function PZ(){const t=vr();return m.jsx(kr,{className:"min-h-screen bg-neutral-950",children:m.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen px-4",children:m.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center max-w-md",children:[m.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-2xl",children:m.jsx(SO,{size:48,className:"text-white"})}),m.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Oops! Something went wrong"}),m.jsx("p",{className:"text-lg text-neutral-400 mb-8 leading-relaxed",children:"We encountered an unexpected error. Don't worry, it's not your fault!"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs(ge.button,{onClick:()=>t("/"),className:"w-full bg-gradient-to-r from-primary to-primary/80 text-white px-8 py-4 rounded-xl hover:from-primary/90 hover:to-primary/70 transition-all duration-200 flex items-center justify-center gap-3 font-semibold shadow-lg cursor-pointer",whileHover:{scale:1.02},whileTap:{scale:.98},children:[m.jsx(Pw,{size:20}),"Return to Home"]}),m.jsx(ge.button,{onClick:()=>window.location.reload(),className:"w-full bg-neutral-800 text-white px-8 py-4 rounded-xl hover:bg-neutral-700 transition-all duration-200 font-semibold cursor-pointer",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Try Again"})]}),m.jsx("div",{className:"mt-12 text-sm text-neutral-500",children:m.jsx("p",{children:"If the problem persists, please contact support."})})]})})})}const DZ=sz([{path:"/",Component:GG,children:[{index:!0,Component:XX},{path:"about",Component:QX},{path:"dashboard",Component:BQ},{path:"search",Component:YQ},{path:"add",Component:nZ},{path:"trade",Component:mZ},{path:"trades/:tradeId",Component:pZ},{path:"messages",Component:HR},{path:"messages/:userId",Component:HR},{path:"cart",Component:AZ},{path:"user/:username?",Component:SZ},{path:"reset-password",Component:IZ},{path:"auth/action",Component:OZ}],errorElement:m.jsx(PZ,{})}]);F4.createRoot(document.getElementById("root")).render(m.jsx(A.StrictMode,{children:m.jsx(l8,{children:m.jsx(zG,{children:m.jsx(I7,{router:DZ})})})}));
