function fj(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var rm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function hj(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Cy={exports:{}},Jc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NT;function mj(){if(NT)return Jc;NT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var c in i)c!=="key"&&(o[c]=i[c])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:o}}return Jc.Fragment=e,Jc.jsx=n,Jc.jsxs=n,Jc}var IT;function pj(){return IT||(IT=1,Cy.exports=mj()),Cy.exports}var g=pj(),Ry={exports:{}},ft={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OT;function gj(){if(OT)return ft;OT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function w(x){return x===null||typeof x!="object"?null:(x=y&&x[y]||x["@@iterator"],typeof x=="function"?x:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,P={};function U(x,z,Y){this.props=x,this.context=z,this.refs=P,this.updater=Y||A}U.prototype.isReactComponent={},U.prototype.setState=function(x,z){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,z,"setState")},U.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function j(){}j.prototype=U.prototype;function q(x,z,Y){this.props=x,this.context=z,this.refs=P,this.updater=Y||A}var H=q.prototype=new j;H.constructor=q,N(H,U.prototype),H.isPureReactComponent=!0;var X=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},M=Object.prototype.hasOwnProperty;function C(x,z,Y,W,ne,ae){return Y=ae.ref,{$$typeof:t,type:x,key:z,ref:Y!==void 0?Y:null,props:ae}}function I(x,z){return C(x.type,z,void 0,void 0,void 0,x.props)}function E(x){return typeof x=="object"&&x!==null&&x.$$typeof===t}function S(x){var z={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(Y){return z[Y]})}var k=/\/+/g;function F(x,z){return typeof x=="object"&&x!==null&&x.key!=null?S(""+x.key):z.toString(36)}function L(){}function Q(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(L,L):(x.status="pending",x.then(function(z){x.status==="pending"&&(x.status="fulfilled",x.value=z)},function(z){x.status==="pending"&&(x.status="rejected",x.reason=z)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function Z(x,z,Y,W,ne){var ae=typeof x;(ae==="undefined"||ae==="boolean")&&(x=null);var le=!1;if(x===null)le=!0;else switch(ae){case"bigint":case"string":case"number":le=!0;break;case"object":switch(x.$$typeof){case t:case e:le=!0;break;case p:return le=x._init,Z(le(x._payload),z,Y,W,ne)}}if(le)return ne=ne(x),le=W===""?"."+F(x,0):W,X(ne)?(Y="",le!=null&&(Y=le.replace(k,"$&/")+"/"),Z(ne,z,Y,"",function(Pe){return Pe})):ne!=null&&(E(ne)&&(ne=I(ne,Y+(ne.key==null||x&&x.key===ne.key?"":(""+ne.key).replace(k,"$&/")+"/")+le)),z.push(ne)),1;le=0;var ge=W===""?".":W+":";if(X(x))for(var Ee=0;Ee<x.length;Ee++)W=x[Ee],ae=ge+F(W,Ee),le+=Z(W,z,Y,ae,ne);else if(Ee=w(x),typeof Ee=="function")for(x=Ee.call(x),Ee=0;!(W=x.next()).done;)W=W.value,ae=ge+F(W,Ee++),le+=Z(W,z,Y,ae,ne);else if(ae==="object"){if(typeof x.then=="function")return Z(Q(x),z,Y,W,ne);throw z=String(x),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return le}function B(x,z,Y){if(x==null)return x;var W=[],ne=0;return Z(x,W,"","",function(ae){return z.call(Y,ae,ne++)}),W}function T(x){if(x._status===-1){var z=x._result;z=z(),z.then(function(Y){(x._status===0||x._status===-1)&&(x._status=1,x._result=Y)},function(Y){(x._status===0||x._status===-1)&&(x._status=2,x._result=Y)}),x._status===-1&&(x._status=0,x._result=z)}if(x._status===1)return x._result.default;throw x._result}var J=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function K(){}return ft.Children={map:B,forEach:function(x,z,Y){B(x,function(){z.apply(this,arguments)},Y)},count:function(x){var z=0;return B(x,function(){z++}),z},toArray:function(x){return B(x,function(z){return z})||[]},only:function(x){if(!E(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},ft.Component=U,ft.Fragment=n,ft.Profiler=i,ft.PureComponent=q,ft.StrictMode=r,ft.Suspense=d,ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,ft.__COMPILER_RUNTIME={__proto__:null,c:function(x){return O.H.useMemoCache(x)}},ft.cache=function(x){return function(){return x.apply(null,arguments)}},ft.cloneElement=function(x,z,Y){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var W=N({},x.props),ne=x.key,ae=void 0;if(z!=null)for(le in z.ref!==void 0&&(ae=void 0),z.key!==void 0&&(ne=""+z.key),z)!M.call(z,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&z.ref===void 0||(W[le]=z[le]);var le=arguments.length-2;if(le===1)W.children=Y;else if(1<le){for(var ge=Array(le),Ee=0;Ee<le;Ee++)ge[Ee]=arguments[Ee+2];W.children=ge}return C(x.type,ne,void 0,void 0,ae,W)},ft.createContext=function(x){return x={$$typeof:l,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:o,_context:x},x},ft.createElement=function(x,z,Y){var W,ne={},ae=null;if(z!=null)for(W in z.key!==void 0&&(ae=""+z.key),z)M.call(z,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ne[W]=z[W]);var le=arguments.length-2;if(le===1)ne.children=Y;else if(1<le){for(var ge=Array(le),Ee=0;Ee<le;Ee++)ge[Ee]=arguments[Ee+2];ne.children=ge}if(x&&x.defaultProps)for(W in le=x.defaultProps,le)ne[W]===void 0&&(ne[W]=le[W]);return C(x,ae,void 0,void 0,null,ne)},ft.createRef=function(){return{current:null}},ft.forwardRef=function(x){return{$$typeof:c,render:x}},ft.isValidElement=E,ft.lazy=function(x){return{$$typeof:p,_payload:{_status:-1,_result:x},_init:T}},ft.memo=function(x,z){return{$$typeof:h,type:x,compare:z===void 0?null:z}},ft.startTransition=function(x){var z=O.T,Y={};O.T=Y;try{var W=x(),ne=O.S;ne!==null&&ne(Y,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(K,J)}catch(ae){J(ae)}finally{O.T=z}},ft.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},ft.use=function(x){return O.H.use(x)},ft.useActionState=function(x,z,Y){return O.H.useActionState(x,z,Y)},ft.useCallback=function(x,z){return O.H.useCallback(x,z)},ft.useContext=function(x){return O.H.useContext(x)},ft.useDebugValue=function(){},ft.useDeferredValue=function(x,z){return O.H.useDeferredValue(x,z)},ft.useEffect=function(x,z,Y){var W=O.H;if(typeof Y=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(x,z)},ft.useId=function(){return O.H.useId()},ft.useImperativeHandle=function(x,z,Y){return O.H.useImperativeHandle(x,z,Y)},ft.useInsertionEffect=function(x,z){return O.H.useInsertionEffect(x,z)},ft.useLayoutEffect=function(x,z){return O.H.useLayoutEffect(x,z)},ft.useMemo=function(x,z){return O.H.useMemo(x,z)},ft.useOptimistic=function(x,z){return O.H.useOptimistic(x,z)},ft.useReducer=function(x,z,Y){return O.H.useReducer(x,z,Y)},ft.useRef=function(x){return O.H.useRef(x)},ft.useState=function(x){return O.H.useState(x)},ft.useSyncExternalStore=function(x,z,Y){return O.H.useSyncExternalStore(x,z,Y)},ft.useTransition=function(){return O.H.useTransition()},ft.version="19.1.0",ft}var MT;function xa(){return MT||(MT=1,Ry.exports=gj()),Ry.exports}var R=xa();const vd=Fp(R),PT=fj({__proto__:null,default:vd},[R]);var Ny={exports:{}},ed={},Iy={exports:{}},Oy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DT;function vj(){return DT||(DT=1,function(t){function e(B,T){var J=B.length;B.push(T);e:for(;0<J;){var K=J-1>>>1,x=B[K];if(0<i(x,T))B[K]=T,B[J]=x,J=K;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var T=B[0],J=B.pop();if(J!==T){B[0]=J;e:for(var K=0,x=B.length,z=x>>>1;K<z;){var Y=2*(K+1)-1,W=B[Y],ne=Y+1,ae=B[ne];if(0>i(W,J))ne<x&&0>i(ae,W)?(B[K]=ae,B[ne]=J,K=ne):(B[K]=W,B[Y]=J,K=Y);else if(ne<x&&0>i(ae,J))B[K]=ae,B[ne]=J,K=ne;else break e}}return T}function i(B,T){var J=B.sortIndex-T.sortIndex;return J!==0?J:B.id-T.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],h=[],p=1,y=null,w=3,A=!1,N=!1,P=!1,U=!1,j=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function X(B){for(var T=n(h);T!==null;){if(T.callback===null)r(h);else if(T.startTime<=B)r(h),T.sortIndex=T.expirationTime,e(d,T);else break;T=n(h)}}function O(B){if(P=!1,X(B),!N)if(n(d)!==null)N=!0,M||(M=!0,F());else{var T=n(h);T!==null&&Z(O,T.startTime-B)}}var M=!1,C=-1,I=5,E=-1;function S(){return U?!0:!(t.unstable_now()-E<I)}function k(){if(U=!1,M){var B=t.unstable_now();E=B;var T=!0;try{e:{N=!1,P&&(P=!1,q(C),C=-1),A=!0;var J=w;try{t:{for(X(B),y=n(d);y!==null&&!(y.expirationTime>B&&S());){var K=y.callback;if(typeof K=="function"){y.callback=null,w=y.priorityLevel;var x=K(y.expirationTime<=B);if(B=t.unstable_now(),typeof x=="function"){y.callback=x,X(B),T=!0;break t}y===n(d)&&r(d),X(B)}else r(d);y=n(d)}if(y!==null)T=!0;else{var z=n(h);z!==null&&Z(O,z.startTime-B),T=!1}}break e}finally{y=null,w=J,A=!1}T=void 0}}finally{T?F():M=!1}}}var F;if(typeof H=="function")F=function(){H(k)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,Q=L.port2;L.port1.onmessage=k,F=function(){Q.postMessage(null)}}else F=function(){j(k,0)};function Z(B,T){C=j(function(){B(t.unstable_now())},T)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(B){switch(w){case 1:case 2:case 3:var T=3;break;default:T=w}var J=w;w=T;try{return B()}finally{w=J}},t.unstable_requestPaint=function(){U=!0},t.unstable_runWithPriority=function(B,T){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var J=w;w=B;try{return T()}finally{w=J}},t.unstable_scheduleCallback=function(B,T,J){var K=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?K+J:K):J=K,B){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=J+x,B={id:p++,callback:T,priorityLevel:B,startTime:J,expirationTime:x,sortIndex:-1},J>K?(B.sortIndex=J,e(h,B),n(d)===null&&B===n(h)&&(P?(q(C),C=-1):P=!0,Z(O,J-K))):(B.sortIndex=x,e(d,B),N||A||(N=!0,M||(M=!0,F()))),B},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(B){var T=w;return function(){var J=w;w=T;try{return B.apply(this,arguments)}finally{w=J}}}}(Oy)),Oy}var jT;function yj(){return jT||(jT=1,Iy.exports=vj()),Iy.exports}var My={exports:{}},dr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kT;function bj(){if(kT)return dr;kT=1;var t=xa();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(d,h,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:y==null?null:""+y,children:d,containerInfo:h,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return dr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,dr.createPortal=function(d,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(d,h,null,p)},dr.flushSync=function(d){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=h,r.p=p,r.d.f()}},dr.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},dr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},dr.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var p=h.as,y=c(p,h.crossOrigin),w=typeof h.integrity=="string"?h.integrity:void 0,A=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:A}):p==="script"&&r.d.X(d,{crossOrigin:y,integrity:w,fetchPriority:A,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},dr.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=c(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},dr.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,y=c(p,h.crossOrigin);r.d.L(d,p,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},dr.preloadModule=function(d,h){if(typeof d=="string")if(h){var p=c(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},dr.requestFormReset=function(d){r.d.r(d)},dr.unstable_batchedUpdates=function(d,h){return d(h)},dr.useFormState=function(d,h,p){return l.H.useFormState(d,h,p)},dr.useFormStatus=function(){return l.H.useHostTransitionStatus()},dr.version="19.1.0",dr}var LT;function MR(){if(LT)return My.exports;LT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),My.exports=bj(),My.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VT;function wj(){if(VT)return ed;VT=1;var t=yj(),e=xa(),n=MR();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,u=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(u=s.return),a=s.return;while(a)}return s.tag===3?u:null}function l(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function c(a){if(o(a)!==a)throw Error(r(188))}function d(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var u=a,f=s;;){var v=u.return;if(v===null)break;var b=v.alternate;if(b===null){if(f=v.return,f!==null){u=f;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===u)return c(v),a;if(b===f)return c(v),s;b=b.sibling}throw Error(r(188))}if(u.return!==f.return)u=v,f=b;else{for(var V=!1,$=v.child;$;){if($===u){V=!0,u=v,f=b;break}if($===f){V=!0,f=v,u=b;break}$=$.sibling}if(!V){for($=b.child;$;){if($===u){V=!0,u=b,f=v;break}if($===f){V=!0,f=b,u=v;break}$=$.sibling}if(!V)throw Error(r(189))}}if(u.alternate!==f)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?a:s}function h(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=h(a),s!==null)return s;a=a.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),H=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),S=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function F(a){return a===null||typeof a!="object"?null:(a=k&&a[k]||a["@@iterator"],typeof a=="function"?a:null)}var L=Symbol.for("react.client.reference");function Q(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===L?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case N:return"Fragment";case U:return"Profiler";case P:return"StrictMode";case O:return"Suspense";case M:return"SuspenseList";case E:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case A:return"Portal";case H:return(a.displayName||"Context")+".Provider";case q:return(a._context.displayName||"Context")+".Consumer";case X:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case C:return s=a.displayName||null,s!==null?s:Q(a.type)||"Memo";case I:s=a._payload,a=a._init;try{return Q(a(s))}catch{}}return null}var Z=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},K=[],x=-1;function z(a){return{current:a}}function Y(a){0>x||(a.current=K[x],K[x]=null,x--)}function W(a,s){x++,K[x]=a.current,a.current=s}var ne=z(null),ae=z(null),le=z(null),ge=z(null);function Ee(a,s){switch(W(le,s),W(ae,a),W(ne,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?rT(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=rT(s),a=iT(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Y(ne),W(ne,a)}function Pe(){Y(ne),Y(ae),Y(le)}function Ne(a){a.memoizedState!==null&&W(ge,a);var s=ne.current,u=iT(s,a.type);s!==u&&(W(ae,a),W(ne,u))}function Ue(a){ae.current===a&&(Y(ne),Y(ae)),ge.current===a&&(Y(ge),Wc._currentValue=J)}var We=Object.prototype.hasOwnProperty,Xe=t.unstable_scheduleCallback,me=t.unstable_cancelCallback,Ce=t.unstable_shouldYield,$e=t.unstable_requestPaint,Ie=t.unstable_now,Ze=t.unstable_getCurrentPriorityLevel,mt=t.unstable_ImmediatePriority,ot=t.unstable_UserBlockingPriority,Dt=t.unstable_NormalPriority,dt=t.unstable_LowPriority,hn=t.unstable_IdlePriority,or=t.log,An=t.unstable_setDisableYieldValue,pt=null,qe=null;function nn(a){if(typeof or=="function"&&An(a),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(pt,a)}catch{}}var Jt=Math.clz32?Math.clz32:an,Ui=Math.log,lr=Math.LN2;function an(a){return a>>>=0,a===0?32:31-(Ui(a)/lr|0)|0}var zi=256,Bi=4194304;function jr(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Aa(a,s,u){var f=a.pendingLanes;if(f===0)return 0;var v=0,b=a.suspendedLanes,V=a.pingedLanes;a=a.warmLanes;var $=f&134217727;return $!==0?(f=$&~b,f!==0?v=jr(f):(V&=$,V!==0?v=jr(V):u||(u=$&~a,u!==0&&(v=jr(u))))):($=f&~b,$!==0?v=jr($):V!==0?v=jr(V):u||(u=f&~a,u!==0&&(v=jr(u)))),v===0?0:s!==0&&s!==v&&(s&b)===0&&(b=v&-v,u=s&-s,b>=u||b===32&&(u&4194048)!==0)?s:v}function ei(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function ms(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ca(){var a=zi;return zi<<=1,(zi&4194048)===0&&(zi=256),a}function vo(){var a=Bi;return Bi<<=1,(Bi&62914560)===0&&(Bi=4194304),a}function ti(a){for(var s=[],u=0;31>u;u++)s.push(a);return s}function Ti(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function ps(a,s,u,f,v,b){var V=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var $=a.entanglements,ee=a.expirationTimes,de=a.hiddenUpdates;for(u=V&~u;0<u;){var ye=31-Jt(u),we=1<<ye;$[ye]=0,ee[ye]=-1;var fe=de[ye];if(fe!==null)for(de[ye]=null,ye=0;ye<fe.length;ye++){var he=fe[ye];he!==null&&(he.lane&=-536870913)}u&=~we}f!==0&&vr(a,f,0),b!==0&&v===0&&a.tag!==0&&(a.suspendedLanes|=b&~(V&~s))}function vr(a,s,u){a.pendingLanes|=s,a.suspendedLanes&=~s;var f=31-Jt(s);a.entangledLanes|=s,a.entanglements[f]=a.entanglements[f]|1073741824|u&4194090}function Fi(a,s){var u=a.entangledLanes|=s;for(a=a.entanglements;u;){var f=31-Jt(u),v=1<<f;v&s|a[f]&s&&(a[f]|=s),u&=~v}}function Hi(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function gs(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function te(){var a=T.p;return a!==0?a:(a=window.event,a===void 0?32:ST(a.type))}function se(a,s){var u=T.p;try{return T.p=a,s()}finally{T.p=u}}var ce=Math.random().toString(36).slice(2),xe="__reactFiber$"+ce,Te="__reactProps$"+ce,De="__reactContainer$"+ce,Ge="__reactEvents$"+ce,je="__reactListeners$"+ce,Ve="__reactHandles$"+ce,Le="__reactResources$"+ce,Je="__reactMarker$"+ce;function Ke(a){delete a[xe],delete a[Te],delete a[Ge],delete a[je],delete a[Ve]}function it(a){var s=a[xe];if(s)return s;for(var u=a.parentNode;u;){if(s=u[De]||u[xe]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(a=lT(a);a!==null;){if(u=a[xe])return u;a=lT(a)}return s}a=u,u=a.parentNode}return null}function wt(a){if(a=a[xe]||a[De]){var s=a.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return a}return null}function Ut(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function Mt(a){var s=a[Le];return s||(s=a[Le]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ct(a){a[Je]=!0}var yt=new Set,ni={};function kn(a,s){yr(a,s),yr(a+"Capture",s)}function yr(a,s){for(ni[a]=s,a=0;a<s.length;a++)yt.add(s[a])}var Jn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$i={},kr={};function vs(a){return We.call(kr,a)?!0:We.call($i,a)?!1:Jn.test(a)?kr[a]=!0:($i[a]=!0,!1)}function ur(a,s,u){if(vs(s))if(u===null)a.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var f=s.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+u)}}function br(a,s,u){if(u===null)a.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+u)}}function lt(a,s,u,f){if(f===null)a.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(s,u,""+f)}}var Cn,Lr;function Ar(a){if(Cn===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);Cn=s&&s[1]||"",Lr=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cn+a+Lr}var qi=!1;function Yt(a,s){if(!a||qi)return"";qi=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(s){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(he){var fe=he}Reflect.construct(a,[],we)}else{try{we.call()}catch(he){fe=he}a.call(we.prototype)}}else{try{throw Error()}catch(he){fe=he}(we=a())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(he){if(he&&fe&&typeof he.stack=="string")return[he.stack,fe.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),V=b[0],$=b[1];if(V&&$){var ee=V.split(`
`),de=$.split(`
`);for(v=f=0;f<ee.length&&!ee[f].includes("DetermineComponentFrameRoot");)f++;for(;v<de.length&&!de[v].includes("DetermineComponentFrameRoot");)v++;if(f===ee.length||v===de.length)for(f=ee.length-1,v=de.length-1;1<=f&&0<=v&&ee[f]!==de[v];)v--;for(;1<=f&&0<=v;f--,v--)if(ee[f]!==de[v]){if(f!==1||v!==1)do if(f--,v--,0>v||ee[f]!==de[v]){var ye=`
`+ee[f].replace(" at new "," at ");return a.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",a.displayName)),ye}while(1<=f&&0<=v);break}}}finally{qi=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Ar(u):""}function ri(a){switch(a.tag){case 26:case 27:case 5:return Ar(a.type);case 16:return Ar("Lazy");case 13:return Ar("Suspense");case 19:return Ar("SuspenseList");case 0:case 15:return Yt(a.type,!1);case 11:return Yt(a.type.render,!1);case 1:return Yt(a.type,!0);case 31:return Ar("Activity");default:return""}}function Ra(a){try{var s="";do s+=ri(a),a=a.return;while(a);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function er(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function nc(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Og(a){var s=nc(a)?"checked":"value",u=Object.getOwnPropertyDescriptor(a.constructor.prototype,s),f=""+a[s];if(!a.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,b=u.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return v.call(this)},set:function(V){f=""+V,b.call(this,V)}}),Object.defineProperty(a,s,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(V){f=""+V},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function xl(a){a._valueTracker||(a._valueTracker=Og(a))}function rc(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var u=s.getValue(),f="";return a&&(f=nc(a)?a.checked?"true":"false":a.value),a=f,a!==u?(s.setValue(a),!0):!1}function yo(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Mg=/[\n"\\]/g;function Rn(a){return a.replace(Mg,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Vr(a,s,u,f,v,b,V,$){a.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?a.type=V:a.removeAttribute("type"),s!=null?V==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+er(s)):a.value!==""+er(s)&&(a.value=""+er(s)):V!=="submit"&&V!=="reset"||a.removeAttribute("value"),s!=null?ys(a,V,er(s)):u!=null?ys(a,V,er(u)):f!=null&&a.removeAttribute("value"),v==null&&b!=null&&(a.defaultChecked=!!b),v!=null&&(a.checked=v&&typeof v!="function"&&typeof v!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?a.name=""+er($):a.removeAttribute("name")}function bo(a,s,u,f,v,b,V,$){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(a.type=b),s!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||s!=null))return;u=u!=null?""+er(u):"",s=s!=null?""+er(s):u,$||s===a.value||(a.value=s),a.defaultValue=s}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,a.checked=$?a.checked:!!f,a.defaultChecked=!!f,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(a.name=V)}function ys(a,s,u){s==="number"&&yo(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function Na(a,s,u,f){if(a=a.options,s){s={};for(var v=0;v<u.length;v++)s["$"+u[v]]=!0;for(u=0;u<a.length;u++)v=s.hasOwnProperty("$"+a[u].value),a[u].selected!==v&&(a[u].selected=v),v&&f&&(a[u].defaultSelected=!0)}else{for(u=""+er(u),s=null,v=0;v<a.length;v++){if(a[v].value===u){a[v].selected=!0,f&&(a[v].defaultSelected=!0);return}s!==null||a[v].disabled||(s=a[v])}s!==null&&(s.selected=!0)}}function qt(a,s,u){if(s!=null&&(s=""+er(s),s!==a.value&&(a.value=s),u==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=u!=null?""+er(u):""}function wo(a,s,u,f){if(s==null){if(f!=null){if(u!=null)throw Error(r(92));if(Z(f)){if(1<f.length)throw Error(r(93));f=f[0]}u=f}u==null&&(u=""),s=u}u=er(s),a.defaultValue=u,f=a.textContent,f===u&&f!==""&&f!==null&&(a.value=f)}function ii(a,s){if(s){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=s;return}}a.textContent=s}var xo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ff(a,s,u){var f=s.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":f?a.setProperty(s,u):typeof u!="number"||u===0||xo.has(s)?s==="float"?a.cssFloat=u:a[s]=(""+u).trim():a[s]=u+"px"}function ic(a,s,u){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||s!=null&&s.hasOwnProperty(f)||(f.indexOf("--")===0?a.setProperty(f,""):f==="float"?a.cssFloat="":a[f]="");for(var v in s)f=s[v],s.hasOwnProperty(v)&&u[v]!==f&&Ff(a,v,f)}else for(var b in s)s.hasOwnProperty(b)&&Ff(a,b,s[b])}function ac(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _l(a){return Dg.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Ia=null;function ai(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Oa=null,Ma=null;function sc(a){var s=wt(a);if(s&&(a=s.stateNode)){var u=a[Te]||null;e:switch(a=s.stateNode,s.type){case"input":if(Vr(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),s=u.name,u.type==="radio"&&s!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Rn(""+s)+'"][type="radio"]'),s=0;s<u.length;s++){var f=u[s];if(f!==a&&f.form===a.form){var v=f[Te]||null;if(!v)throw Error(r(90));Vr(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(s=0;s<u.length;s++)f=u[s],f.form===a.form&&rc(f)}break e;case"textarea":qt(a,u.value,u.defaultValue);break e;case"select":s=u.value,s!=null&&Na(a,!!u.multiple,s,!1)}}}var Gi=!1;function Hf(a,s,u){if(Gi)return a(s,u);Gi=!0;try{var f=a(s);return f}finally{if(Gi=!1,(Oa!==null||Ma!==null)&&(kh(),Oa&&(s=Oa,a=Ma,Ma=Oa=null,sc(s),a)))for(s=0;s<a.length;s++)sc(a[s])}}function _o(a,s){var u=a.stateNode;if(u===null)return null;var f=u[Te]||null;if(f===null)return null;u=f[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(a=a.type,f=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(r(231,s,typeof u));return u}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),si=!1;if(Ei)try{var So={};Object.defineProperty(So,"passive",{get:function(){si=!0}}),window.addEventListener("test",So,So),window.removeEventListener("test",So,So)}catch{si=!1}var Ki=null,bs=null,Pa=null;function oc(){if(Pa)return Pa;var a,s=bs,u=s.length,f,v="value"in Ki?Ki.value:Ki.textContent,b=v.length;for(a=0;a<u&&s[a]===v[a];a++);var V=u-a;for(f=1;f<=V&&s[u-f]===v[b-f];f++);return Pa=v.slice(a,1<f?1-f:void 0)}function Wi(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function Yi(){return!0}function lc(){return!1}function Fn(a){function s(u,f,v,b,V){this._reactName=u,this._targetInst=v,this.type=f,this.nativeEvent=b,this.target=V,this.currentTarget=null;for(var $ in a)a.hasOwnProperty($)&&(u=a[$],this[$]=u?u(b):b[$]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Yi:lc,this.isPropagationStopped=lc,this}return p(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),s}var zt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sl=Fn(zt),To=p({},zt,{view:0,detail:0}),$f=Fn(To),Tl,El,Xi,Eo=p({},To,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ro,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Xi&&(Xi&&a.type==="mousemove"?(Tl=a.screenX-Xi.screenX,El=a.screenY-Xi.screenY):El=Tl=0,Xi=a),Tl)},movementY:function(a){return"movementY"in a?a.movementY:El}}),oi=Fn(Eo),qf=p({},Eo,{dataTransfer:0}),jg=Fn(qf),Ao=p({},To,{relatedTarget:0}),Al=Fn(Ao),uc=p({},zt,{animationName:0,elapsedTime:0,pseudoElement:0}),Cl=Fn(uc),Gf=p({},zt,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Rl=Fn(Gf),kg=p({},zt,{data:0}),cc=Fn(kg),Co={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dc(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=Wf[a])?!!s[a]:!1}function Ro(){return dc}var Yf=p({},To,{key:function(a){if(a.key){var s=Co[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Wi(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Kf[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ro,charCode:function(a){return a.type==="keypress"?Wi(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Wi(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Nl=Fn(Yf),Xf=p({},Eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fc=Fn(Xf),Da=p({},To,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ro}),Qf=Fn(Da),Zf=p({},zt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jf=Fn(Zf),eh=p({},Eo,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Il=Fn(eh),wr=p({},zt,{newState:0,oldState:0}),th=Fn(wr),nh=[9,13,27,32],Qi=Ei&&"CompositionEvent"in window,m=null;Ei&&"documentMode"in document&&(m=document.documentMode);var _=Ei&&"TextEvent"in window&&!m,D=Ei&&(!Qi||m&&8<m&&11>=m),G=" ",oe=!1;function pe(a,s){switch(a){case"keyup":return nh.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ae(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Rt=!1;function Ln(a,s){switch(a){case"compositionend":return Ae(s);case"keypress":return s.which!==32?null:(oe=!0,G);case"textInput":return a=s.data,a===G&&oe?null:a;default:return null}}function Nt(a,s){if(Rt)return a==="compositionend"||!Qi&&pe(a,s)?(a=oc(),Pa=bs=Ki=null,Rt=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return D&&s.locale!=="ko"?null:s.data;default:return null}}var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!Hn[a.type]:s==="textarea"}function ja(a,s,u,f){Oa?Ma?Ma.push(f):Ma=[f]:Oa=f,s=Fh(s,"onChange"),0<s.length&&(u=new Sl("onChange","change",null,u,f),a.push({event:u,listeners:s}))}var tr=null,Zi=null;function hc(a){ZS(a,0)}function rh(a){var s=Ut(a);if(rc(s))return a}function b_(a,s){if(a==="change")return s}var w_=!1;if(Ei){var Lg;if(Ei){var Vg="oninput"in document;if(!Vg){var x_=document.createElement("div");x_.setAttribute("oninput","return;"),Vg=typeof x_.oninput=="function"}Lg=Vg}else Lg=!1;w_=Lg&&(!document.documentMode||9<document.documentMode)}function __(){tr&&(tr.detachEvent("onpropertychange",S_),Zi=tr=null)}function S_(a){if(a.propertyName==="value"&&rh(Zi)){var s=[];ja(s,Zi,a,ai(a)),Hf(hc,s)}}function FD(a,s,u){a==="focusin"?(__(),tr=s,Zi=u,tr.attachEvent("onpropertychange",S_)):a==="focusout"&&__()}function HD(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return rh(Zi)}function $D(a,s){if(a==="click")return rh(s)}function qD(a,s){if(a==="input"||a==="change")return rh(s)}function GD(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var Ur=typeof Object.is=="function"?Object.is:GD;function mc(a,s){if(Ur(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var u=Object.keys(a),f=Object.keys(s);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var v=u[f];if(!We.call(s,v)||!Ur(a[v],s[v]))return!1}return!0}function T_(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function E_(a,s){var u=T_(a);a=0;for(var f;u;){if(u.nodeType===3){if(f=a+u.textContent.length,a<=s&&f>=s)return{node:u,offset:s-a};a=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=T_(u)}}function A_(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?A_(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function C_(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=yo(a.document);s instanceof a.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)a=s.contentWindow;else break;s=yo(a.document)}return s}function Ug(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var KD=Ei&&"documentMode"in document&&11>=document.documentMode,Ol=null,zg=null,pc=null,Bg=!1;function R_(a,s,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Bg||Ol==null||Ol!==yo(f)||(f=Ol,"selectionStart"in f&&Ug(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),pc&&mc(pc,f)||(pc=f,f=Fh(zg,"onSelect"),0<f.length&&(s=new Sl("onSelect","select",null,s,u),a.push({event:s,listeners:f}),s.target=Ol)))}function No(a,s){var u={};return u[a.toLowerCase()]=s.toLowerCase(),u["Webkit"+a]="webkit"+s,u["Moz"+a]="moz"+s,u}var Ml={animationend:No("Animation","AnimationEnd"),animationiteration:No("Animation","AnimationIteration"),animationstart:No("Animation","AnimationStart"),transitionrun:No("Transition","TransitionRun"),transitionstart:No("Transition","TransitionStart"),transitioncancel:No("Transition","TransitionCancel"),transitionend:No("Transition","TransitionEnd")},Fg={},N_={};Ei&&(N_=document.createElement("div").style,"AnimationEvent"in window||(delete Ml.animationend.animation,delete Ml.animationiteration.animation,delete Ml.animationstart.animation),"TransitionEvent"in window||delete Ml.transitionend.transition);function Io(a){if(Fg[a])return Fg[a];if(!Ml[a])return a;var s=Ml[a],u;for(u in s)if(s.hasOwnProperty(u)&&u in N_)return Fg[a]=s[u];return a}var I_=Io("animationend"),O_=Io("animationiteration"),M_=Io("animationstart"),WD=Io("transitionrun"),YD=Io("transitionstart"),XD=Io("transitioncancel"),P_=Io("transitionend"),D_=new Map,Hg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hg.push("scrollEnd");function Ai(a,s){D_.set(a,s),kn(s,[a])}var j_=new WeakMap;function li(a,s){if(typeof a=="object"&&a!==null){var u=j_.get(a);return u!==void 0?u:(s={value:a,source:s,stack:Ra(s)},j_.set(a,s),s)}return{value:a,source:s,stack:Ra(s)}}var ui=[],Pl=0,$g=0;function ih(){for(var a=Pl,s=$g=Pl=0;s<a;){var u=ui[s];ui[s++]=null;var f=ui[s];ui[s++]=null;var v=ui[s];ui[s++]=null;var b=ui[s];if(ui[s++]=null,f!==null&&v!==null){var V=f.pending;V===null?v.next=v:(v.next=V.next,V.next=v),f.pending=v}b!==0&&k_(u,v,b)}}function ah(a,s,u,f){ui[Pl++]=a,ui[Pl++]=s,ui[Pl++]=u,ui[Pl++]=f,$g|=f,a.lanes|=f,a=a.alternate,a!==null&&(a.lanes|=f)}function qg(a,s,u,f){return ah(a,s,u,f),sh(a)}function Dl(a,s){return ah(a,null,null,s),sh(a)}function k_(a,s,u){a.lanes|=u;var f=a.alternate;f!==null&&(f.lanes|=u);for(var v=!1,b=a.return;b!==null;)b.childLanes|=u,f=b.alternate,f!==null&&(f.childLanes|=u),b.tag===22&&(a=b.stateNode,a===null||a._visibility&1||(v=!0)),a=b,b=b.return;return a.tag===3?(b=a.stateNode,v&&s!==null&&(v=31-Jt(u),a=b.hiddenUpdates,f=a[v],f===null?a[v]=[s]:f.push(s),s.lane=u|536870912),b):null}function sh(a){if(50<zc)throw zc=0,Qv=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var jl={};function QD(a,s,u,f){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(a,s,u,f){return new QD(a,s,u,f)}function Gg(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ka(a,s){var u=a.alternate;return u===null?(u=zr(a.tag,s,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=s,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,s=a.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function L_(a,s){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,s=u.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function oh(a,s,u,f,v,b){var V=0;if(f=a,typeof a=="function")Gg(a)&&(V=1);else if(typeof a=="string")V=J4(a,u,ne.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case E:return a=zr(31,u,s,v),a.elementType=E,a.lanes=b,a;case N:return Oo(u.children,v,b,s);case P:V=8,v|=24;break;case U:return a=zr(12,u,s,v|2),a.elementType=U,a.lanes=b,a;case O:return a=zr(13,u,s,v),a.elementType=O,a.lanes=b,a;case M:return a=zr(19,u,s,v),a.elementType=M,a.lanes=b,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case j:case H:V=10;break e;case q:V=9;break e;case X:V=11;break e;case C:V=14;break e;case I:V=16,f=null;break e}V=29,u=Error(r(130,a===null?"null":typeof a,"")),f=null}return s=zr(V,u,s,v),s.elementType=a,s.type=f,s.lanes=b,s}function Oo(a,s,u,f){return a=zr(7,a,f,s),a.lanes=u,a}function Kg(a,s,u){return a=zr(6,a,null,s),a.lanes=u,a}function Wg(a,s,u){return s=zr(4,a.children!==null?a.children:[],a.key,s),s.lanes=u,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var kl=[],Ll=0,lh=null,uh=0,ci=[],di=0,Mo=null,La=1,Va="";function Po(a,s){kl[Ll++]=uh,kl[Ll++]=lh,lh=a,uh=s}function V_(a,s,u){ci[di++]=La,ci[di++]=Va,ci[di++]=Mo,Mo=a;var f=La;a=Va;var v=32-Jt(f)-1;f&=~(1<<v),u+=1;var b=32-Jt(s)+v;if(30<b){var V=v-v%5;b=(f&(1<<V)-1).toString(32),f>>=V,v-=V,La=1<<32-Jt(s)+v|u<<v|f,Va=b+a}else La=1<<b|u<<v|f,Va=a}function Yg(a){a.return!==null&&(Po(a,1),V_(a,1,0))}function Xg(a){for(;a===lh;)lh=kl[--Ll],kl[Ll]=null,uh=kl[--Ll],kl[Ll]=null;for(;a===Mo;)Mo=ci[--di],ci[di]=null,Va=ci[--di],ci[di]=null,La=ci[--di],ci[di]=null}var xr=null,mn=null,jt=!1,Do=null,Ji=!1,Qg=Error(r(519));function jo(a){var s=Error(r(418,""));throw yc(li(s,a)),Qg}function U_(a){var s=a.stateNode,u=a.type,f=a.memoizedProps;switch(s[xe]=a,s[Te]=f,u){case"dialog":_t("cancel",s),_t("close",s);break;case"iframe":case"object":case"embed":_t("load",s);break;case"video":case"audio":for(u=0;u<Fc.length;u++)_t(Fc[u],s);break;case"source":_t("error",s);break;case"img":case"image":case"link":_t("error",s),_t("load",s);break;case"details":_t("toggle",s);break;case"input":_t("invalid",s),bo(s,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),xl(s);break;case"select":_t("invalid",s);break;case"textarea":_t("invalid",s),wo(s,f.value,f.defaultValue,f.children),xl(s)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||s.textContent===""+u||f.suppressHydrationWarning===!0||nT(s.textContent,u)?(f.popover!=null&&(_t("beforetoggle",s),_t("toggle",s)),f.onScroll!=null&&_t("scroll",s),f.onScrollEnd!=null&&_t("scrollend",s),f.onClick!=null&&(s.onclick=Hh),s=!0):s=!1,s||jo(a)}function z_(a){for(xr=a.return;xr;)switch(xr.tag){case 5:case 13:Ji=!1;return;case 27:case 3:Ji=!0;return;default:xr=xr.return}}function gc(a){if(a!==xr)return!1;if(!jt)return z_(a),jt=!0,!1;var s=a.tag,u;if((u=s!==3&&s!==27)&&((u=s===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||hy(a.type,a.memoizedProps)),u=!u),u&&mn&&jo(a),z_(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,s=0;a;){if(a.nodeType===8)if(u=a.data,u==="/$"){if(s===0){mn=Ri(a.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++;a=a.nextSibling}mn=null}}else s===27?(s=mn,js(a.type)?(a=vy,vy=null,mn=a):mn=s):mn=xr?Ri(a.stateNode.nextSibling):null;return!0}function vc(){mn=xr=null,jt=!1}function B_(){var a=Do;return a!==null&&(Nr===null?Nr=a:Nr.push.apply(Nr,a),Do=null),a}function yc(a){Do===null?Do=[a]:Do.push(a)}var Zg=z(null),ko=null,Ua=null;function ws(a,s,u){W(Zg,s._currentValue),s._currentValue=u}function za(a){a._currentValue=Zg.current,Y(Zg)}function Jg(a,s,u){for(;a!==null;){var f=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),a===u)break;a=a.return}}function ev(a,s,u,f){var v=a.child;for(v!==null&&(v.return=a);v!==null;){var b=v.dependencies;if(b!==null){var V=v.child;b=b.firstContext;e:for(;b!==null;){var $=b;b=v;for(var ee=0;ee<s.length;ee++)if($.context===s[ee]){b.lanes|=u,$=b.alternate,$!==null&&($.lanes|=u),Jg(b.return,u,a),f||(V=null);break e}b=$.next}}else if(v.tag===18){if(V=v.return,V===null)throw Error(r(341));V.lanes|=u,b=V.alternate,b!==null&&(b.lanes|=u),Jg(V,u,a),V=null}else V=v.child;if(V!==null)V.return=v;else for(V=v;V!==null;){if(V===a){V=null;break}if(v=V.sibling,v!==null){v.return=V.return,V=v;break}V=V.return}v=V}}function bc(a,s,u,f){a=null;for(var v=s,b=!1;v!==null;){if(!b){if((v.flags&524288)!==0)b=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var V=v.alternate;if(V===null)throw Error(r(387));if(V=V.memoizedProps,V!==null){var $=v.type;Ur(v.pendingProps.value,V.value)||(a!==null?a.push($):a=[$])}}else if(v===ge.current){if(V=v.alternate,V===null)throw Error(r(387));V.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(a!==null?a.push(Wc):a=[Wc])}v=v.return}a!==null&&ev(s,a,u,f),s.flags|=262144}function ch(a){for(a=a.firstContext;a!==null;){if(!Ur(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Lo(a){ko=a,Ua=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function cr(a){return F_(ko,a)}function dh(a,s){return ko===null&&Lo(a),F_(a,s)}function F_(a,s){var u=s._currentValue;if(s={context:s,memoizedValue:u,next:null},Ua===null){if(a===null)throw Error(r(308));Ua=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else Ua=Ua.next=s;return u}var ZD=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(u,f){a.push(f)}};this.abort=function(){s.aborted=!0,a.forEach(function(u){return u()})}},JD=t.unstable_scheduleCallback,e4=t.unstable_NormalPriority,Un={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tv(){return{controller:new ZD,data:new Map,refCount:0}}function wc(a){a.refCount--,a.refCount===0&&JD(e4,function(){a.controller.abort()})}var xc=null,nv=0,Vl=0,Ul=null;function t4(a,s){if(xc===null){var u=xc=[];nv=0,Vl=iy(),Ul={status:"pending",value:void 0,then:function(f){u.push(f)}}}return nv++,s.then(H_,H_),s}function H_(){if(--nv===0&&xc!==null){Ul!==null&&(Ul.status="fulfilled");var a=xc;xc=null,Vl=0,Ul=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function n4(a,s){var u=[],f={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return a.then(function(){f.status="fulfilled",f.value=s;for(var v=0;v<u.length;v++)(0,u[v])(s)},function(v){for(f.status="rejected",f.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),f}var $_=B.S;B.S=function(a,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&t4(a,s),$_!==null&&$_(a,s)};var Vo=z(null);function rv(){var a=Vo.current;return a!==null?a:en.pooledCache}function fh(a,s){s===null?W(Vo,Vo.current):W(Vo,s.pool)}function q_(){var a=rv();return a===null?null:{parent:Un._currentValue,pool:a}}var _c=Error(r(460)),G_=Error(r(474)),hh=Error(r(542)),iv={then:function(){}};function K_(a){return a=a.status,a==="fulfilled"||a==="rejected"}function mh(){}function W_(a,s,u){switch(u=a[u],u===void 0?a.push(s):u!==s&&(s.then(mh,mh),s=u),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,X_(a),a;default:if(typeof s.status=="string")s.then(mh,mh);else{if(a=en,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(f){if(s.status==="pending"){var v=s;v.status="fulfilled",v.value=f}},function(f){if(s.status==="pending"){var v=s;v.status="rejected",v.reason=f}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,X_(a),a}throw Sc=s,_c}}var Sc=null;function Y_(){if(Sc===null)throw Error(r(459));var a=Sc;return Sc=null,a}function X_(a){if(a===_c||a===hh)throw Error(r(483))}var xs=!1;function av(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sv(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function _s(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ss(a,s,u){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,(Ht&2)!==0){var v=f.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),f.pending=s,s=sh(a),k_(a,null,u),s}return ah(a,f,s,u),sh(a)}function Tc(a,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194048)!==0)){var f=s.lanes;f&=a.pendingLanes,u|=f,s.lanes=u,Fi(a,u)}}function ov(a,s){var u=a.updateQueue,f=a.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var v=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var V={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?v=b=V:b=b.next=V,u=u.next}while(u!==null);b===null?v=b=s:b=b.next=s}else v=b=s;u={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=s:a.next=s,u.lastBaseUpdate=s}var lv=!1;function Ec(){if(lv){var a=Ul;if(a!==null)throw a}}function Ac(a,s,u,f){lv=!1;var v=a.updateQueue;xs=!1;var b=v.firstBaseUpdate,V=v.lastBaseUpdate,$=v.shared.pending;if($!==null){v.shared.pending=null;var ee=$,de=ee.next;ee.next=null,V===null?b=de:V.next=de,V=ee;var ye=a.alternate;ye!==null&&(ye=ye.updateQueue,$=ye.lastBaseUpdate,$!==V&&($===null?ye.firstBaseUpdate=de:$.next=de,ye.lastBaseUpdate=ee))}if(b!==null){var we=v.baseState;V=0,ye=de=ee=null,$=b;do{var fe=$.lane&-536870913,he=fe!==$.lane;if(he?(It&fe)===fe:(f&fe)===fe){fe!==0&&fe===Vl&&(lv=!0),ye!==null&&(ye=ye.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var at=a,Qe=$;fe=s;var Wt=u;switch(Qe.tag){case 1:if(at=Qe.payload,typeof at=="function"){we=at.call(Wt,we,fe);break e}we=at;break e;case 3:at.flags=at.flags&-65537|128;case 0:if(at=Qe.payload,fe=typeof at=="function"?at.call(Wt,we,fe):at,fe==null)break e;we=p({},we,fe);break e;case 2:xs=!0}}fe=$.callback,fe!==null&&(a.flags|=64,he&&(a.flags|=8192),he=v.callbacks,he===null?v.callbacks=[fe]:he.push(fe))}else he={lane:fe,tag:$.tag,payload:$.payload,callback:$.callback,next:null},ye===null?(de=ye=he,ee=we):ye=ye.next=he,V|=fe;if($=$.next,$===null){if($=v.shared.pending,$===null)break;he=$,$=he.next,he.next=null,v.lastBaseUpdate=he,v.shared.pending=null}}while(!0);ye===null&&(ee=we),v.baseState=ee,v.firstBaseUpdate=de,v.lastBaseUpdate=ye,b===null&&(v.shared.lanes=0),Os|=V,a.lanes=V,a.memoizedState=we}}function Q_(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function Z_(a,s){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)Q_(u[a],s)}var zl=z(null),ph=z(0);function J_(a,s){a=Ka,W(ph,a),W(zl,s),Ka=a|s.baseLanes}function uv(){W(ph,Ka),W(zl,zl.current)}function cv(){Ka=ph.current,Y(zl),Y(ph)}var Ts=0,gt=null,Gt=null,Nn=null,gh=!1,Bl=!1,Uo=!1,vh=0,Cc=0,Fl=null,r4=0;function xn(){throw Error(r(321))}function dv(a,s){if(s===null)return!1;for(var u=0;u<s.length&&u<a.length;u++)if(!Ur(a[u],s[u]))return!1;return!0}function fv(a,s,u,f,v,b){return Ts=b,gt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,B.H=a===null||a.memoizedState===null?k1:L1,Uo=!1,b=u(f,v),Uo=!1,Bl&&(b=t1(s,u,f,v)),e1(a),b}function e1(a){B.H=Sh;var s=Gt!==null&&Gt.next!==null;if(Ts=0,Nn=Gt=gt=null,gh=!1,Cc=0,Fl=null,s)throw Error(r(300));a===null||$n||(a=a.dependencies,a!==null&&ch(a)&&($n=!0))}function t1(a,s,u,f){gt=a;var v=0;do{if(Bl&&(Fl=null),Cc=0,Bl=!1,25<=v)throw Error(r(301));if(v+=1,Nn=Gt=null,a.updateQueue!=null){var b=a.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}B.H=c4,b=s(u,f)}while(Bl);return b}function i4(){var a=B.H,s=a.useState()[0];return s=typeof s.then=="function"?Rc(s):s,a=a.useState()[0],(Gt!==null?Gt.memoizedState:null)!==a&&(gt.flags|=1024),s}function hv(){var a=vh!==0;return vh=0,a}function mv(a,s,u){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~u}function pv(a){if(gh){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}gh=!1}Ts=0,Nn=Gt=gt=null,Bl=!1,Cc=vh=0,Fl=null}function Cr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?gt.memoizedState=Nn=a:Nn=Nn.next=a,Nn}function In(){if(Gt===null){var a=gt.alternate;a=a!==null?a.memoizedState:null}else a=Gt.next;var s=Nn===null?gt.memoizedState:Nn.next;if(s!==null)Nn=s,Gt=a;else{if(a===null)throw gt.alternate===null?Error(r(467)):Error(r(310));Gt=a,a={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},Nn===null?gt.memoizedState=Nn=a:Nn=Nn.next=a}return Nn}function gv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rc(a){var s=Cc;return Cc+=1,Fl===null&&(Fl=[]),a=W_(Fl,a,s),s=gt,(Nn===null?s.memoizedState:Nn.next)===null&&(s=s.alternate,B.H=s===null||s.memoizedState===null?k1:L1),a}function yh(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Rc(a);if(a.$$typeof===H)return cr(a)}throw Error(r(438,String(a)))}function vv(a){var s=null,u=gt.updateQueue;if(u!==null&&(s=u.memoCache),s==null){var f=gt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(s={data:f.data.map(function(v){return v.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),u===null&&(u=gv(),gt.updateQueue=u),u.memoCache=s,u=s.data[s.index],u===void 0)for(u=s.data[s.index]=Array(a),f=0;f<a;f++)u[f]=S;return s.index++,u}function Ba(a,s){return typeof s=="function"?s(a):s}function bh(a){var s=In();return yv(s,Gt,a)}function yv(a,s,u){var f=a.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=u;var v=a.baseQueue,b=f.pending;if(b!==null){if(v!==null){var V=v.next;v.next=b.next,b.next=V}s.baseQueue=v=b,f.pending=null}if(b=a.baseState,v===null)a.memoizedState=b;else{s=v.next;var $=V=null,ee=null,de=s,ye=!1;do{var we=de.lane&-536870913;if(we!==de.lane?(It&we)===we:(Ts&we)===we){var fe=de.revertLane;if(fe===0)ee!==null&&(ee=ee.next={lane:0,revertLane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),we===Vl&&(ye=!0);else if((Ts&fe)===fe){de=de.next,fe===Vl&&(ye=!0);continue}else we={lane:0,revertLane:de.revertLane,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},ee===null?($=ee=we,V=b):ee=ee.next=we,gt.lanes|=fe,Os|=fe;we=de.action,Uo&&u(b,we),b=de.hasEagerState?de.eagerState:u(b,we)}else fe={lane:we,revertLane:de.revertLane,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},ee===null?($=ee=fe,V=b):ee=ee.next=fe,gt.lanes|=we,Os|=we;de=de.next}while(de!==null&&de!==s);if(ee===null?V=b:ee.next=$,!Ur(b,a.memoizedState)&&($n=!0,ye&&(u=Ul,u!==null)))throw u;a.memoizedState=b,a.baseState=V,a.baseQueue=ee,f.lastRenderedState=b}return v===null&&(f.lanes=0),[a.memoizedState,f.dispatch]}function bv(a){var s=In(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=a;var f=u.dispatch,v=u.pending,b=s.memoizedState;if(v!==null){u.pending=null;var V=v=v.next;do b=a(b,V.action),V=V.next;while(V!==v);Ur(b,s.memoizedState)||($n=!0),s.memoizedState=b,s.baseQueue===null&&(s.baseState=b),u.lastRenderedState=b}return[b,f]}function n1(a,s,u){var f=gt,v=In(),b=jt;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=s();var V=!Ur((Gt||v).memoizedState,u);V&&(v.memoizedState=u,$n=!0),v=v.queue;var $=a1.bind(null,f,v,a);if(Nc(2048,8,$,[a]),v.getSnapshot!==s||V||Nn!==null&&Nn.memoizedState.tag&1){if(f.flags|=2048,Hl(9,wh(),i1.bind(null,f,v,u,s),null),en===null)throw Error(r(349));b||(Ts&124)!==0||r1(f,s,u)}return u}function r1(a,s,u){a.flags|=16384,a={getSnapshot:s,value:u},s=gt.updateQueue,s===null?(s=gv(),gt.updateQueue=s,s.stores=[a]):(u=s.stores,u===null?s.stores=[a]:u.push(a))}function i1(a,s,u,f){s.value=u,s.getSnapshot=f,s1(s)&&o1(a)}function a1(a,s,u){return u(function(){s1(s)&&o1(a)})}function s1(a){var s=a.getSnapshot;a=a.value;try{var u=s();return!Ur(a,u)}catch{return!0}}function o1(a){var s=Dl(a,2);s!==null&&qr(s,a,2)}function wv(a){var s=Cr();if(typeof a=="function"){var u=a;if(a=u(),Uo){nn(!0);try{u()}finally{nn(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:a},s}function l1(a,s,u,f){return a.baseState=u,yv(a,Gt,typeof f=="function"?f:Ba)}function a4(a,s,u,f,v){if(_h(a))throw Error(r(485));if(a=s.action,a!==null){var b={payload:v,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){b.listeners.push(V)}};B.T!==null?u(!0):b.isTransition=!1,f(b),u=s.pending,u===null?(b.next=s.pending=b,u1(s,b)):(b.next=u.next,s.pending=u.next=b)}}function u1(a,s){var u=s.action,f=s.payload,v=a.state;if(s.isTransition){var b=B.T,V={};B.T=V;try{var $=u(v,f),ee=B.S;ee!==null&&ee(V,$),c1(a,s,$)}catch(de){xv(a,s,de)}finally{B.T=b}}else try{b=u(v,f),c1(a,s,b)}catch(de){xv(a,s,de)}}function c1(a,s,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){d1(a,s,f)},function(f){return xv(a,s,f)}):d1(a,s,u)}function d1(a,s,u){s.status="fulfilled",s.value=u,f1(s),a.state=u,s=a.pending,s!==null&&(u=s.next,u===s?a.pending=null:(u=u.next,s.next=u,u1(a,u)))}function xv(a,s,u){var f=a.pending;if(a.pending=null,f!==null){f=f.next;do s.status="rejected",s.reason=u,f1(s),s=s.next;while(s!==f)}a.action=null}function f1(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function h1(a,s){return s}function m1(a,s){if(jt){var u=en.formState;if(u!==null){e:{var f=gt;if(jt){if(mn){t:{for(var v=mn,b=Ji;v.nodeType!==8;){if(!b){v=null;break t}if(v=Ri(v.nextSibling),v===null){v=null;break t}}b=v.data,v=b==="F!"||b==="F"?v:null}if(v){mn=Ri(v.nextSibling),f=v.data==="F!";break e}}jo(f)}f=!1}f&&(s=u[0])}}return u=Cr(),u.memoizedState=u.baseState=s,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:h1,lastRenderedState:s},u.queue=f,u=P1.bind(null,gt,f),f.dispatch=u,f=wv(!1),b=Av.bind(null,gt,!1,f.queue),f=Cr(),v={state:s,dispatch:null,action:a,pending:null},f.queue=v,u=a4.bind(null,gt,v,b,u),v.dispatch=u,f.memoizedState=a,[s,u,!1]}function p1(a){var s=In();return g1(s,Gt,a)}function g1(a,s,u){if(s=yv(a,s,h1)[0],a=bh(Ba)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var f=Rc(s)}catch(V){throw V===_c?hh:V}else f=s;s=In();var v=s.queue,b=v.dispatch;return u!==s.memoizedState&&(gt.flags|=2048,Hl(9,wh(),s4.bind(null,v,u),null)),[f,b,a]}function s4(a,s){a.action=s}function v1(a){var s=In(),u=Gt;if(u!==null)return g1(s,u,a);In(),s=s.memoizedState,u=In();var f=u.queue.dispatch;return u.memoizedState=a,[s,f,!1]}function Hl(a,s,u,f){return a={tag:a,create:u,deps:f,inst:s,next:null},s=gt.updateQueue,s===null&&(s=gv(),gt.updateQueue=s),u=s.lastEffect,u===null?s.lastEffect=a.next=a:(f=u.next,u.next=a,a.next=f,s.lastEffect=a),a}function wh(){return{destroy:void 0,resource:void 0}}function y1(){return In().memoizedState}function xh(a,s,u,f){var v=Cr();f=f===void 0?null:f,gt.flags|=a,v.memoizedState=Hl(1|s,wh(),u,f)}function Nc(a,s,u,f){var v=In();f=f===void 0?null:f;var b=v.memoizedState.inst;Gt!==null&&f!==null&&dv(f,Gt.memoizedState.deps)?v.memoizedState=Hl(s,b,u,f):(gt.flags|=a,v.memoizedState=Hl(1|s,b,u,f))}function b1(a,s){xh(8390656,8,a,s)}function w1(a,s){Nc(2048,8,a,s)}function x1(a,s){return Nc(4,2,a,s)}function _1(a,s){return Nc(4,4,a,s)}function S1(a,s){if(typeof s=="function"){a=a();var u=s(a);return function(){typeof u=="function"?u():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function T1(a,s,u){u=u!=null?u.concat([a]):null,Nc(4,4,S1.bind(null,s,a),u)}function _v(){}function E1(a,s){var u=In();s=s===void 0?null:s;var f=u.memoizedState;return s!==null&&dv(s,f[1])?f[0]:(u.memoizedState=[a,s],a)}function A1(a,s){var u=In();s=s===void 0?null:s;var f=u.memoizedState;if(s!==null&&dv(s,f[1]))return f[0];if(f=a(),Uo){nn(!0);try{a()}finally{nn(!1)}}return u.memoizedState=[f,s],f}function Sv(a,s,u){return u===void 0||(Ts&1073741824)!==0?a.memoizedState=s:(a.memoizedState=u,a=NS(),gt.lanes|=a,Os|=a,u)}function C1(a,s,u,f){return Ur(u,s)?u:zl.current!==null?(a=Sv(a,u,f),Ur(a,s)||($n=!0),a):(Ts&42)===0?($n=!0,a.memoizedState=u):(a=NS(),gt.lanes|=a,Os|=a,s)}function R1(a,s,u,f,v){var b=T.p;T.p=b!==0&&8>b?b:8;var V=B.T,$={};B.T=$,Av(a,!1,s,u);try{var ee=v(),de=B.S;if(de!==null&&de($,ee),ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var ye=n4(ee,f);Ic(a,s,ye,$r(a))}else Ic(a,s,f,$r(a))}catch(we){Ic(a,s,{then:function(){},status:"rejected",reason:we},$r())}finally{T.p=b,B.T=V}}function o4(){}function Tv(a,s,u,f){if(a.tag!==5)throw Error(r(476));var v=N1(a).queue;R1(a,v,s,J,u===null?o4:function(){return I1(a),u(f)})}function N1(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:J},next:null};var u={};return s.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ba,lastRenderedState:u},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function I1(a){var s=N1(a).next.queue;Ic(a,s,{},$r())}function Ev(){return cr(Wc)}function O1(){return In().memoizedState}function M1(){return In().memoizedState}function l4(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var u=$r();a=_s(u);var f=Ss(s,a,u);f!==null&&(qr(f,s,u),Tc(f,s,u)),s={cache:tv()},a.payload=s;return}s=s.return}}function u4(a,s,u){var f=$r();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},_h(a)?D1(s,u):(u=qg(a,s,u,f),u!==null&&(qr(u,a,f),j1(u,s,f)))}function P1(a,s,u){var f=$r();Ic(a,s,u,f)}function Ic(a,s,u,f){var v={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(_h(a))D1(s,v);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=s.lastRenderedReducer,b!==null))try{var V=s.lastRenderedState,$=b(V,u);if(v.hasEagerState=!0,v.eagerState=$,Ur($,V))return ah(a,s,v,0),en===null&&ih(),!1}catch{}finally{}if(u=qg(a,s,v,f),u!==null)return qr(u,a,f),j1(u,s,f),!0}return!1}function Av(a,s,u,f){if(f={lane:2,revertLane:iy(),action:f,hasEagerState:!1,eagerState:null,next:null},_h(a)){if(s)throw Error(r(479))}else s=qg(a,u,f,2),s!==null&&qr(s,a,2)}function _h(a){var s=a.alternate;return a===gt||s!==null&&s===gt}function D1(a,s){Bl=gh=!0;var u=a.pending;u===null?s.next=s:(s.next=u.next,u.next=s),a.pending=s}function j1(a,s,u){if((u&4194048)!==0){var f=s.lanes;f&=a.pendingLanes,u|=f,s.lanes=u,Fi(a,u)}}var Sh={readContext:cr,use:yh,useCallback:xn,useContext:xn,useEffect:xn,useImperativeHandle:xn,useLayoutEffect:xn,useInsertionEffect:xn,useMemo:xn,useReducer:xn,useRef:xn,useState:xn,useDebugValue:xn,useDeferredValue:xn,useTransition:xn,useSyncExternalStore:xn,useId:xn,useHostTransitionStatus:xn,useFormState:xn,useActionState:xn,useOptimistic:xn,useMemoCache:xn,useCacheRefresh:xn},k1={readContext:cr,use:yh,useCallback:function(a,s){return Cr().memoizedState=[a,s===void 0?null:s],a},useContext:cr,useEffect:b1,useImperativeHandle:function(a,s,u){u=u!=null?u.concat([a]):null,xh(4194308,4,S1.bind(null,s,a),u)},useLayoutEffect:function(a,s){return xh(4194308,4,a,s)},useInsertionEffect:function(a,s){xh(4,2,a,s)},useMemo:function(a,s){var u=Cr();s=s===void 0?null:s;var f=a();if(Uo){nn(!0);try{a()}finally{nn(!1)}}return u.memoizedState=[f,s],f},useReducer:function(a,s,u){var f=Cr();if(u!==void 0){var v=u(s);if(Uo){nn(!0);try{u(s)}finally{nn(!1)}}}else v=s;return f.memoizedState=f.baseState=v,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:v},f.queue=a,a=a.dispatch=u4.bind(null,gt,a),[f.memoizedState,a]},useRef:function(a){var s=Cr();return a={current:a},s.memoizedState=a},useState:function(a){a=wv(a);var s=a.queue,u=P1.bind(null,gt,s);return s.dispatch=u,[a.memoizedState,u]},useDebugValue:_v,useDeferredValue:function(a,s){var u=Cr();return Sv(u,a,s)},useTransition:function(){var a=wv(!1);return a=R1.bind(null,gt,a.queue,!0,!1),Cr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,u){var f=gt,v=Cr();if(jt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=s(),en===null)throw Error(r(349));(It&124)!==0||r1(f,s,u)}v.memoizedState=u;var b={value:u,getSnapshot:s};return v.queue=b,b1(a1.bind(null,f,b,a),[a]),f.flags|=2048,Hl(9,wh(),i1.bind(null,f,b,u,s),null),u},useId:function(){var a=Cr(),s=en.identifierPrefix;if(jt){var u=Va,f=La;u=(f&~(1<<32-Jt(f)-1)).toString(32)+u,s=""+s+"R"+u,u=vh++,0<u&&(s+="H"+u.toString(32)),s+=""}else u=r4++,s=""+s+"r"+u.toString(32)+"";return a.memoizedState=s},useHostTransitionStatus:Ev,useFormState:m1,useActionState:m1,useOptimistic:function(a){var s=Cr();s.memoizedState=s.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=u,s=Av.bind(null,gt,!0,u),u.dispatch=s,[a,s]},useMemoCache:vv,useCacheRefresh:function(){return Cr().memoizedState=l4.bind(null,gt)}},L1={readContext:cr,use:yh,useCallback:E1,useContext:cr,useEffect:w1,useImperativeHandle:T1,useInsertionEffect:x1,useLayoutEffect:_1,useMemo:A1,useReducer:bh,useRef:y1,useState:function(){return bh(Ba)},useDebugValue:_v,useDeferredValue:function(a,s){var u=In();return C1(u,Gt.memoizedState,a,s)},useTransition:function(){var a=bh(Ba)[0],s=In().memoizedState;return[typeof a=="boolean"?a:Rc(a),s]},useSyncExternalStore:n1,useId:O1,useHostTransitionStatus:Ev,useFormState:p1,useActionState:p1,useOptimistic:function(a,s){var u=In();return l1(u,Gt,a,s)},useMemoCache:vv,useCacheRefresh:M1},c4={readContext:cr,use:yh,useCallback:E1,useContext:cr,useEffect:w1,useImperativeHandle:T1,useInsertionEffect:x1,useLayoutEffect:_1,useMemo:A1,useReducer:bv,useRef:y1,useState:function(){return bv(Ba)},useDebugValue:_v,useDeferredValue:function(a,s){var u=In();return Gt===null?Sv(u,a,s):C1(u,Gt.memoizedState,a,s)},useTransition:function(){var a=bv(Ba)[0],s=In().memoizedState;return[typeof a=="boolean"?a:Rc(a),s]},useSyncExternalStore:n1,useId:O1,useHostTransitionStatus:Ev,useFormState:v1,useActionState:v1,useOptimistic:function(a,s){var u=In();return Gt!==null?l1(u,Gt,a,s):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:vv,useCacheRefresh:M1},$l=null,Oc=0;function Th(a){var s=Oc;return Oc+=1,$l===null&&($l=[]),W_($l,a,s)}function Mc(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function Eh(a,s){throw s.$$typeof===y?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function V1(a){var s=a._init;return s(a._payload)}function U1(a){function s(ie,re){if(a){var ue=ie.deletions;ue===null?(ie.deletions=[re],ie.flags|=16):ue.push(re)}}function u(ie,re){if(!a)return null;for(;re!==null;)s(ie,re),re=re.sibling;return null}function f(ie){for(var re=new Map;ie!==null;)ie.key!==null?re.set(ie.key,ie):re.set(ie.index,ie),ie=ie.sibling;return re}function v(ie,re){return ie=ka(ie,re),ie.index=0,ie.sibling=null,ie}function b(ie,re,ue){return ie.index=ue,a?(ue=ie.alternate,ue!==null?(ue=ue.index,ue<re?(ie.flags|=67108866,re):ue):(ie.flags|=67108866,re)):(ie.flags|=1048576,re)}function V(ie){return a&&ie.alternate===null&&(ie.flags|=67108866),ie}function $(ie,re,ue,be){return re===null||re.tag!==6?(re=Kg(ue,ie.mode,be),re.return=ie,re):(re=v(re,ue),re.return=ie,re)}function ee(ie,re,ue,be){var ke=ue.type;return ke===N?ye(ie,re,ue.props.children,be,ue.key):re!==null&&(re.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===I&&V1(ke)===re.type)?(re=v(re,ue.props),Mc(re,ue),re.return=ie,re):(re=oh(ue.type,ue.key,ue.props,null,ie.mode,be),Mc(re,ue),re.return=ie,re)}function de(ie,re,ue,be){return re===null||re.tag!==4||re.stateNode.containerInfo!==ue.containerInfo||re.stateNode.implementation!==ue.implementation?(re=Wg(ue,ie.mode,be),re.return=ie,re):(re=v(re,ue.children||[]),re.return=ie,re)}function ye(ie,re,ue,be,ke){return re===null||re.tag!==7?(re=Oo(ue,ie.mode,be,ke),re.return=ie,re):(re=v(re,ue),re.return=ie,re)}function we(ie,re,ue){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return re=Kg(""+re,ie.mode,ue),re.return=ie,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case w:return ue=oh(re.type,re.key,re.props,null,ie.mode,ue),Mc(ue,re),ue.return=ie,ue;case A:return re=Wg(re,ie.mode,ue),re.return=ie,re;case I:var be=re._init;return re=be(re._payload),we(ie,re,ue)}if(Z(re)||F(re))return re=Oo(re,ie.mode,ue,null),re.return=ie,re;if(typeof re.then=="function")return we(ie,Th(re),ue);if(re.$$typeof===H)return we(ie,dh(ie,re),ue);Eh(ie,re)}return null}function fe(ie,re,ue,be){var ke=re!==null?re.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return ke!==null?null:$(ie,re,""+ue,be);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case w:return ue.key===ke?ee(ie,re,ue,be):null;case A:return ue.key===ke?de(ie,re,ue,be):null;case I:return ke=ue._init,ue=ke(ue._payload),fe(ie,re,ue,be)}if(Z(ue)||F(ue))return ke!==null?null:ye(ie,re,ue,be,null);if(typeof ue.then=="function")return fe(ie,re,Th(ue),be);if(ue.$$typeof===H)return fe(ie,re,dh(ie,ue),be);Eh(ie,ue)}return null}function he(ie,re,ue,be,ke){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return ie=ie.get(ue)||null,$(re,ie,""+be,ke);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case w:return ie=ie.get(be.key===null?ue:be.key)||null,ee(re,ie,be,ke);case A:return ie=ie.get(be.key===null?ue:be.key)||null,de(re,ie,be,ke);case I:var bt=be._init;return be=bt(be._payload),he(ie,re,ue,be,ke)}if(Z(be)||F(be))return ie=ie.get(ue)||null,ye(re,ie,be,ke,null);if(typeof be.then=="function")return he(ie,re,ue,Th(be),ke);if(be.$$typeof===H)return he(ie,re,ue,dh(re,be),ke);Eh(re,be)}return null}function at(ie,re,ue,be){for(var ke=null,bt=null,Fe=re,et=re=0,Gn=null;Fe!==null&&et<ue.length;et++){Fe.index>et?(Gn=Fe,Fe=null):Gn=Fe.sibling;var Pt=fe(ie,Fe,ue[et],be);if(Pt===null){Fe===null&&(Fe=Gn);break}a&&Fe&&Pt.alternate===null&&s(ie,Fe),re=b(Pt,re,et),bt===null?ke=Pt:bt.sibling=Pt,bt=Pt,Fe=Gn}if(et===ue.length)return u(ie,Fe),jt&&Po(ie,et),ke;if(Fe===null){for(;et<ue.length;et++)Fe=we(ie,ue[et],be),Fe!==null&&(re=b(Fe,re,et),bt===null?ke=Fe:bt.sibling=Fe,bt=Fe);return jt&&Po(ie,et),ke}for(Fe=f(Fe);et<ue.length;et++)Gn=he(Fe,ie,et,ue[et],be),Gn!==null&&(a&&Gn.alternate!==null&&Fe.delete(Gn.key===null?et:Gn.key),re=b(Gn,re,et),bt===null?ke=Gn:bt.sibling=Gn,bt=Gn);return a&&Fe.forEach(function(zs){return s(ie,zs)}),jt&&Po(ie,et),ke}function Qe(ie,re,ue,be){if(ue==null)throw Error(r(151));for(var ke=null,bt=null,Fe=re,et=re=0,Gn=null,Pt=ue.next();Fe!==null&&!Pt.done;et++,Pt=ue.next()){Fe.index>et?(Gn=Fe,Fe=null):Gn=Fe.sibling;var zs=fe(ie,Fe,Pt.value,be);if(zs===null){Fe===null&&(Fe=Gn);break}a&&Fe&&zs.alternate===null&&s(ie,Fe),re=b(zs,re,et),bt===null?ke=zs:bt.sibling=zs,bt=zs,Fe=Gn}if(Pt.done)return u(ie,Fe),jt&&Po(ie,et),ke;if(Fe===null){for(;!Pt.done;et++,Pt=ue.next())Pt=we(ie,Pt.value,be),Pt!==null&&(re=b(Pt,re,et),bt===null?ke=Pt:bt.sibling=Pt,bt=Pt);return jt&&Po(ie,et),ke}for(Fe=f(Fe);!Pt.done;et++,Pt=ue.next())Pt=he(Fe,ie,et,Pt.value,be),Pt!==null&&(a&&Pt.alternate!==null&&Fe.delete(Pt.key===null?et:Pt.key),re=b(Pt,re,et),bt===null?ke=Pt:bt.sibling=Pt,bt=Pt);return a&&Fe.forEach(function(dj){return s(ie,dj)}),jt&&Po(ie,et),ke}function Wt(ie,re,ue,be){if(typeof ue=="object"&&ue!==null&&ue.type===N&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case w:e:{for(var ke=ue.key;re!==null;){if(re.key===ke){if(ke=ue.type,ke===N){if(re.tag===7){u(ie,re.sibling),be=v(re,ue.props.children),be.return=ie,ie=be;break e}}else if(re.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===I&&V1(ke)===re.type){u(ie,re.sibling),be=v(re,ue.props),Mc(be,ue),be.return=ie,ie=be;break e}u(ie,re);break}else s(ie,re);re=re.sibling}ue.type===N?(be=Oo(ue.props.children,ie.mode,be,ue.key),be.return=ie,ie=be):(be=oh(ue.type,ue.key,ue.props,null,ie.mode,be),Mc(be,ue),be.return=ie,ie=be)}return V(ie);case A:e:{for(ke=ue.key;re!==null;){if(re.key===ke)if(re.tag===4&&re.stateNode.containerInfo===ue.containerInfo&&re.stateNode.implementation===ue.implementation){u(ie,re.sibling),be=v(re,ue.children||[]),be.return=ie,ie=be;break e}else{u(ie,re);break}else s(ie,re);re=re.sibling}be=Wg(ue,ie.mode,be),be.return=ie,ie=be}return V(ie);case I:return ke=ue._init,ue=ke(ue._payload),Wt(ie,re,ue,be)}if(Z(ue))return at(ie,re,ue,be);if(F(ue)){if(ke=F(ue),typeof ke!="function")throw Error(r(150));return ue=ke.call(ue),Qe(ie,re,ue,be)}if(typeof ue.then=="function")return Wt(ie,re,Th(ue),be);if(ue.$$typeof===H)return Wt(ie,re,dh(ie,ue),be);Eh(ie,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint"?(ue=""+ue,re!==null&&re.tag===6?(u(ie,re.sibling),be=v(re,ue),be.return=ie,ie=be):(u(ie,re),be=Kg(ue,ie.mode,be),be.return=ie,ie=be),V(ie)):u(ie,re)}return function(ie,re,ue,be){try{Oc=0;var ke=Wt(ie,re,ue,be);return $l=null,ke}catch(Fe){if(Fe===_c||Fe===hh)throw Fe;var bt=zr(29,Fe,null,ie.mode);return bt.lanes=be,bt.return=ie,bt}finally{}}}var ql=U1(!0),z1=U1(!1),fi=z(null),ea=null;function Es(a){var s=a.alternate;W(zn,zn.current&1),W(fi,a),ea===null&&(s===null||zl.current!==null||s.memoizedState!==null)&&(ea=a)}function B1(a){if(a.tag===22){if(W(zn,zn.current),W(fi,a),ea===null){var s=a.alternate;s!==null&&s.memoizedState!==null&&(ea=a)}}else As()}function As(){W(zn,zn.current),W(fi,fi.current)}function Fa(a){Y(fi),ea===a&&(ea=null),Y(zn)}var zn=z(0);function Ah(a){for(var s=a;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||gy(u)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function Cv(a,s,u,f){s=a.memoizedState,u=u(f,s),u=u==null?s:p({},s,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var Rv={enqueueSetState:function(a,s,u){a=a._reactInternals;var f=$r(),v=_s(f);v.payload=s,u!=null&&(v.callback=u),s=Ss(a,v,f),s!==null&&(qr(s,a,f),Tc(s,a,f))},enqueueReplaceState:function(a,s,u){a=a._reactInternals;var f=$r(),v=_s(f);v.tag=1,v.payload=s,u!=null&&(v.callback=u),s=Ss(a,v,f),s!==null&&(qr(s,a,f),Tc(s,a,f))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var u=$r(),f=_s(u);f.tag=2,s!=null&&(f.callback=s),s=Ss(a,f,u),s!==null&&(qr(s,a,u),Tc(s,a,u))}};function F1(a,s,u,f,v,b,V){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,b,V):s.prototype&&s.prototype.isPureReactComponent?!mc(u,f)||!mc(v,b):!0}function H1(a,s,u,f){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,f),s.state!==a&&Rv.enqueueReplaceState(s,s.state,null)}function zo(a,s){var u=s;if("ref"in s){u={};for(var f in s)f!=="ref"&&(u[f]=s[f])}if(a=a.defaultProps){u===s&&(u=p({},u));for(var v in a)u[v]===void 0&&(u[v]=a[v])}return u}var Ch=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function $1(a){Ch(a)}function q1(a){console.error(a)}function G1(a){Ch(a)}function Rh(a,s){try{var u=a.onUncaughtError;u(s.value,{componentStack:s.stack})}catch(f){setTimeout(function(){throw f})}}function K1(a,s,u){try{var f=a.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Nv(a,s,u){return u=_s(u),u.tag=3,u.payload={element:null},u.callback=function(){Rh(a,s)},u}function W1(a){return a=_s(a),a.tag=3,a}function Y1(a,s,u,f){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var b=f.value;a.payload=function(){return v(b)},a.callback=function(){K1(s,u,f)}}var V=u.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(a.callback=function(){K1(s,u,f),typeof v!="function"&&(Ms===null?Ms=new Set([this]):Ms.add(this));var $=f.stack;this.componentDidCatch(f.value,{componentStack:$!==null?$:""})})}function d4(a,s,u,f,v){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(s=u.alternate,s!==null&&bc(s,u,v,!0),u=fi.current,u!==null){switch(u.tag){case 13:return ea===null?Jv():u.alternate===null&&pn===0&&(pn=3),u.flags&=-257,u.flags|=65536,u.lanes=v,f===iv?u.flags|=16384:(s=u.updateQueue,s===null?u.updateQueue=new Set([f]):s.add(f),ty(a,f,v)),!1;case 22:return u.flags|=65536,f===iv?u.flags|=16384:(s=u.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=s):(u=s.retryQueue,u===null?s.retryQueue=new Set([f]):u.add(f)),ty(a,f,v)),!1}throw Error(r(435,u.tag))}return ty(a,f,v),Jv(),!1}if(jt)return s=fi.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=v,f!==Qg&&(a=Error(r(422),{cause:f}),yc(li(a,u)))):(f!==Qg&&(s=Error(r(423),{cause:f}),yc(li(s,u))),a=a.current.alternate,a.flags|=65536,v&=-v,a.lanes|=v,f=li(f,u),v=Nv(a.stateNode,f,v),ov(a,v),pn!==4&&(pn=2)),!1;var b=Error(r(520),{cause:f});if(b=li(b,u),Uc===null?Uc=[b]:Uc.push(b),pn!==4&&(pn=2),s===null)return!0;f=li(f,u),u=s;do{switch(u.tag){case 3:return u.flags|=65536,a=v&-v,u.lanes|=a,a=Nv(u.stateNode,f,a),ov(u,a),!1;case 1:if(s=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ms===null||!Ms.has(b))))return u.flags|=65536,v&=-v,u.lanes|=v,v=W1(v),Y1(v,a,u,f),ov(u,v),!1}u=u.return}while(u!==null);return!1}var X1=Error(r(461)),$n=!1;function nr(a,s,u,f){s.child=a===null?z1(s,null,u,f):ql(s,a.child,u,f)}function Q1(a,s,u,f,v){u=u.render;var b=s.ref;if("ref"in f){var V={};for(var $ in f)$!=="ref"&&(V[$]=f[$])}else V=f;return Lo(s),f=fv(a,s,u,V,b,v),$=hv(),a!==null&&!$n?(mv(a,s,v),Ha(a,s,v)):(jt&&$&&Yg(s),s.flags|=1,nr(a,s,f,v),s.child)}function Z1(a,s,u,f,v){if(a===null){var b=u.type;return typeof b=="function"&&!Gg(b)&&b.defaultProps===void 0&&u.compare===null?(s.tag=15,s.type=b,J1(a,s,b,f,v)):(a=oh(u.type,null,f,s,s.mode,v),a.ref=s.ref,a.return=s,s.child=a)}if(b=a.child,!Lv(a,v)){var V=b.memoizedProps;if(u=u.compare,u=u!==null?u:mc,u(V,f)&&a.ref===s.ref)return Ha(a,s,v)}return s.flags|=1,a=ka(b,f),a.ref=s.ref,a.return=s,s.child=a}function J1(a,s,u,f,v){if(a!==null){var b=a.memoizedProps;if(mc(b,f)&&a.ref===s.ref)if($n=!1,s.pendingProps=f=b,Lv(a,v))(a.flags&131072)!==0&&($n=!0);else return s.lanes=a.lanes,Ha(a,s,v)}return Iv(a,s,u,f,v)}function eS(a,s,u){var f=s.pendingProps,v=f.children,b=a!==null?a.memoizedState:null;if(f.mode==="hidden"){if((s.flags&128)!==0){if(f=b!==null?b.baseLanes|u:u,a!==null){for(v=s.child=a.child,b=0;v!==null;)b=b|v.lanes|v.childLanes,v=v.sibling;s.childLanes=b&~f}else s.childLanes=0,s.child=null;return tS(a,s,f,u)}if((u&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&fh(s,b!==null?b.cachePool:null),b!==null?J_(s,b):uv(),B1(s);else return s.lanes=s.childLanes=536870912,tS(a,s,b!==null?b.baseLanes|u:u,u)}else b!==null?(fh(s,b.cachePool),J_(s,b),As(),s.memoizedState=null):(a!==null&&fh(s,null),uv(),As());return nr(a,s,v,u),s.child}function tS(a,s,u,f){var v=rv();return v=v===null?null:{parent:Un._currentValue,pool:v},s.memoizedState={baseLanes:u,cachePool:v},a!==null&&fh(s,null),uv(),B1(s),a!==null&&bc(a,s,f,!0),null}function Nh(a,s){var u=s.ref;if(u===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(a===null||a.ref!==u)&&(s.flags|=4194816)}}function Iv(a,s,u,f,v){return Lo(s),u=fv(a,s,u,f,void 0,v),f=hv(),a!==null&&!$n?(mv(a,s,v),Ha(a,s,v)):(jt&&f&&Yg(s),s.flags|=1,nr(a,s,u,v),s.child)}function nS(a,s,u,f,v,b){return Lo(s),s.updateQueue=null,u=t1(s,f,u,v),e1(a),f=hv(),a!==null&&!$n?(mv(a,s,b),Ha(a,s,b)):(jt&&f&&Yg(s),s.flags|=1,nr(a,s,u,b),s.child)}function rS(a,s,u,f,v){if(Lo(s),s.stateNode===null){var b=jl,V=u.contextType;typeof V=="object"&&V!==null&&(b=cr(V)),b=new u(f,b),s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Rv,s.stateNode=b,b._reactInternals=s,b=s.stateNode,b.props=f,b.state=s.memoizedState,b.refs={},av(s),V=u.contextType,b.context=typeof V=="object"&&V!==null?cr(V):jl,b.state=s.memoizedState,V=u.getDerivedStateFromProps,typeof V=="function"&&(Cv(s,u,V,f),b.state=s.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(V=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),V!==b.state&&Rv.enqueueReplaceState(b,b.state,null),Ac(s,f,b,v),Ec(),b.state=s.memoizedState),typeof b.componentDidMount=="function"&&(s.flags|=4194308),f=!0}else if(a===null){b=s.stateNode;var $=s.memoizedProps,ee=zo(u,$);b.props=ee;var de=b.context,ye=u.contextType;V=jl,typeof ye=="object"&&ye!==null&&(V=cr(ye));var we=u.getDerivedStateFromProps;ye=typeof we=="function"||typeof b.getSnapshotBeforeUpdate=="function",$=s.pendingProps!==$,ye||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||($||de!==V)&&H1(s,b,f,V),xs=!1;var fe=s.memoizedState;b.state=fe,Ac(s,f,b,v),Ec(),de=s.memoizedState,$||fe!==de||xs?(typeof we=="function"&&(Cv(s,u,we,f),de=s.memoizedState),(ee=xs||F1(s,u,ee,f,fe,de,V))?(ye||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(s.flags|=4194308)):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=de),b.props=f,b.state=de,b.context=V,f=ee):(typeof b.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{b=s.stateNode,sv(a,s),V=s.memoizedProps,ye=zo(u,V),b.props=ye,we=s.pendingProps,fe=b.context,de=u.contextType,ee=jl,typeof de=="object"&&de!==null&&(ee=cr(de)),$=u.getDerivedStateFromProps,(de=typeof $=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(V!==we||fe!==ee)&&H1(s,b,f,ee),xs=!1,fe=s.memoizedState,b.state=fe,Ac(s,f,b,v),Ec();var he=s.memoizedState;V!==we||fe!==he||xs||a!==null&&a.dependencies!==null&&ch(a.dependencies)?(typeof $=="function"&&(Cv(s,u,$,f),he=s.memoizedState),(ye=xs||F1(s,u,ye,f,fe,he,ee)||a!==null&&a.dependencies!==null&&ch(a.dependencies))?(de||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,he,ee),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,he,ee)),typeof b.componentDidUpdate=="function"&&(s.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof b.componentDidUpdate!="function"||V===a.memoizedProps&&fe===a.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||V===a.memoizedProps&&fe===a.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=he),b.props=f,b.state=he,b.context=ee,f=ye):(typeof b.componentDidUpdate!="function"||V===a.memoizedProps&&fe===a.memoizedState||(s.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||V===a.memoizedProps&&fe===a.memoizedState||(s.flags|=1024),f=!1)}return b=f,Nh(a,s),f=(s.flags&128)!==0,b||f?(b=s.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:b.render(),s.flags|=1,a!==null&&f?(s.child=ql(s,a.child,null,v),s.child=ql(s,null,u,v)):nr(a,s,u,v),s.memoizedState=b.state,a=s.child):a=Ha(a,s,v),a}function iS(a,s,u,f){return vc(),s.flags|=256,nr(a,s,u,f),s.child}var Ov={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mv(a){return{baseLanes:a,cachePool:q_()}}function Pv(a,s,u){return a=a!==null?a.childLanes&~u:0,s&&(a|=hi),a}function aS(a,s,u){var f=s.pendingProps,v=!1,b=(s.flags&128)!==0,V;if((V=b)||(V=a!==null&&a.memoizedState===null?!1:(zn.current&2)!==0),V&&(v=!0,s.flags&=-129),V=(s.flags&32)!==0,s.flags&=-33,a===null){if(jt){if(v?Es(s):As(),jt){var $=mn,ee;if(ee=$){e:{for(ee=$,$=Ji;ee.nodeType!==8;){if(!$){$=null;break e}if(ee=Ri(ee.nextSibling),ee===null){$=null;break e}}$=ee}$!==null?(s.memoizedState={dehydrated:$,treeContext:Mo!==null?{id:La,overflow:Va}:null,retryLane:536870912,hydrationErrors:null},ee=zr(18,null,null,0),ee.stateNode=$,ee.return=s,s.child=ee,xr=s,mn=null,ee=!0):ee=!1}ee||jo(s)}if($=s.memoizedState,$!==null&&($=$.dehydrated,$!==null))return gy($)?s.lanes=32:s.lanes=536870912,null;Fa(s)}return $=f.children,f=f.fallback,v?(As(),v=s.mode,$=Ih({mode:"hidden",children:$},v),f=Oo(f,v,u,null),$.return=s,f.return=s,$.sibling=f,s.child=$,v=s.child,v.memoizedState=Mv(u),v.childLanes=Pv(a,V,u),s.memoizedState=Ov,f):(Es(s),Dv(s,$))}if(ee=a.memoizedState,ee!==null&&($=ee.dehydrated,$!==null)){if(b)s.flags&256?(Es(s),s.flags&=-257,s=jv(a,s,u)):s.memoizedState!==null?(As(),s.child=a.child,s.flags|=128,s=null):(As(),v=f.fallback,$=s.mode,f=Ih({mode:"visible",children:f.children},$),v=Oo(v,$,u,null),v.flags|=2,f.return=s,v.return=s,f.sibling=v,s.child=f,ql(s,a.child,null,u),f=s.child,f.memoizedState=Mv(u),f.childLanes=Pv(a,V,u),s.memoizedState=Ov,s=v);else if(Es(s),gy($)){if(V=$.nextSibling&&$.nextSibling.dataset,V)var de=V.dgst;V=de,f=Error(r(419)),f.stack="",f.digest=V,yc({value:f,source:null,stack:null}),s=jv(a,s,u)}else if($n||bc(a,s,u,!1),V=(u&a.childLanes)!==0,$n||V){if(V=en,V!==null&&(f=u&-u,f=(f&42)!==0?1:Hi(f),f=(f&(V.suspendedLanes|u))!==0?0:f,f!==0&&f!==ee.retryLane))throw ee.retryLane=f,Dl(a,f),qr(V,a,f),X1;$.data==="$?"||Jv(),s=jv(a,s,u)}else $.data==="$?"?(s.flags|=192,s.child=a.child,s=null):(a=ee.treeContext,mn=Ri($.nextSibling),xr=s,jt=!0,Do=null,Ji=!1,a!==null&&(ci[di++]=La,ci[di++]=Va,ci[di++]=Mo,La=a.id,Va=a.overflow,Mo=s),s=Dv(s,f.children),s.flags|=4096);return s}return v?(As(),v=f.fallback,$=s.mode,ee=a.child,de=ee.sibling,f=ka(ee,{mode:"hidden",children:f.children}),f.subtreeFlags=ee.subtreeFlags&65011712,de!==null?v=ka(de,v):(v=Oo(v,$,u,null),v.flags|=2),v.return=s,f.return=s,f.sibling=v,s.child=f,f=v,v=s.child,$=a.child.memoizedState,$===null?$=Mv(u):(ee=$.cachePool,ee!==null?(de=Un._currentValue,ee=ee.parent!==de?{parent:de,pool:de}:ee):ee=q_(),$={baseLanes:$.baseLanes|u,cachePool:ee}),v.memoizedState=$,v.childLanes=Pv(a,V,u),s.memoizedState=Ov,f):(Es(s),u=a.child,a=u.sibling,u=ka(u,{mode:"visible",children:f.children}),u.return=s,u.sibling=null,a!==null&&(V=s.deletions,V===null?(s.deletions=[a],s.flags|=16):V.push(a)),s.child=u,s.memoizedState=null,u)}function Dv(a,s){return s=Ih({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function Ih(a,s){return a=zr(22,a,null,s),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function jv(a,s,u){return ql(s,a.child,null,u),a=Dv(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function sS(a,s,u){a.lanes|=s;var f=a.alternate;f!==null&&(f.lanes|=s),Jg(a.return,s,u)}function kv(a,s,u,f,v){var b=a.memoizedState;b===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:v}:(b.isBackwards=s,b.rendering=null,b.renderingStartTime=0,b.last=f,b.tail=u,b.tailMode=v)}function oS(a,s,u){var f=s.pendingProps,v=f.revealOrder,b=f.tail;if(nr(a,s,f.children,u),f=zn.current,(f&2)!==0)f=f&1|2,s.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&sS(a,u,s);else if(a.tag===19)sS(a,u,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}f&=1}switch(W(zn,f),v){case"forwards":for(u=s.child,v=null;u!==null;)a=u.alternate,a!==null&&Ah(a)===null&&(v=u),u=u.sibling;u=v,u===null?(v=s.child,s.child=null):(v=u.sibling,u.sibling=null),kv(s,!1,v,u,b);break;case"backwards":for(u=null,v=s.child,s.child=null;v!==null;){if(a=v.alternate,a!==null&&Ah(a)===null){s.child=v;break}a=v.sibling,v.sibling=u,u=v,v=a}kv(s,!0,u,null,b);break;case"together":kv(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ha(a,s,u){if(a!==null&&(s.dependencies=a.dependencies),Os|=s.lanes,(u&s.childLanes)===0)if(a!==null){if(bc(a,s,u,!1),(u&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,u=ka(a,a.pendingProps),s.child=u,u.return=s;a.sibling!==null;)a=a.sibling,u=u.sibling=ka(a,a.pendingProps),u.return=s;u.sibling=null}return s.child}function Lv(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&ch(a)))}function f4(a,s,u){switch(s.tag){case 3:Ee(s,s.stateNode.containerInfo),ws(s,Un,a.memoizedState.cache),vc();break;case 27:case 5:Ne(s);break;case 4:Ee(s,s.stateNode.containerInfo);break;case 10:ws(s,s.type,s.memoizedProps.value);break;case 13:var f=s.memoizedState;if(f!==null)return f.dehydrated!==null?(Es(s),s.flags|=128,null):(u&s.child.childLanes)!==0?aS(a,s,u):(Es(s),a=Ha(a,s,u),a!==null?a.sibling:null);Es(s);break;case 19:var v=(a.flags&128)!==0;if(f=(u&s.childLanes)!==0,f||(bc(a,s,u,!1),f=(u&s.childLanes)!==0),v){if(f)return oS(a,s,u);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),W(zn,zn.current),f)break;return null;case 22:case 23:return s.lanes=0,eS(a,s,u);case 24:ws(s,Un,a.memoizedState.cache)}return Ha(a,s,u)}function lS(a,s,u){if(a!==null)if(a.memoizedProps!==s.pendingProps)$n=!0;else{if(!Lv(a,u)&&(s.flags&128)===0)return $n=!1,f4(a,s,u);$n=(a.flags&131072)!==0}else $n=!1,jt&&(s.flags&1048576)!==0&&V_(s,uh,s.index);switch(s.lanes=0,s.tag){case 16:e:{a=s.pendingProps;var f=s.elementType,v=f._init;if(f=v(f._payload),s.type=f,typeof f=="function")Gg(f)?(a=zo(f,a),s.tag=1,s=rS(null,s,f,a,u)):(s.tag=0,s=Iv(null,s,f,a,u));else{if(f!=null){if(v=f.$$typeof,v===X){s.tag=11,s=Q1(null,s,f,a,u);break e}else if(v===C){s.tag=14,s=Z1(null,s,f,a,u);break e}}throw s=Q(f)||f,Error(r(306,s,""))}}return s;case 0:return Iv(a,s,s.type,s.pendingProps,u);case 1:return f=s.type,v=zo(f,s.pendingProps),rS(a,s,f,v,u);case 3:e:{if(Ee(s,s.stateNode.containerInfo),a===null)throw Error(r(387));f=s.pendingProps;var b=s.memoizedState;v=b.element,sv(a,s),Ac(s,f,null,u);var V=s.memoizedState;if(f=V.cache,ws(s,Un,f),f!==b.cache&&ev(s,[Un],u,!0),Ec(),f=V.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:V.cache},s.updateQueue.baseState=b,s.memoizedState=b,s.flags&256){s=iS(a,s,f,u);break e}else if(f!==v){v=li(Error(r(424)),s),yc(v),s=iS(a,s,f,u);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(mn=Ri(a.firstChild),xr=s,jt=!0,Do=null,Ji=!0,u=z1(s,null,f,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(vc(),f===v){s=Ha(a,s,u);break e}nr(a,s,f,u)}s=s.child}return s;case 26:return Nh(a,s),a===null?(u=fT(s.type,null,s.pendingProps,null))?s.memoizedState=u:jt||(u=s.type,a=s.pendingProps,f=$h(le.current).createElement(u),f[xe]=s,f[Te]=a,ir(f,u,a),Ct(f),s.stateNode=f):s.memoizedState=fT(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return Ne(s),a===null&&jt&&(f=s.stateNode=uT(s.type,s.pendingProps,le.current),xr=s,Ji=!0,v=mn,js(s.type)?(vy=v,mn=Ri(f.firstChild)):mn=v),nr(a,s,s.pendingProps.children,u),Nh(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&jt&&((v=f=mn)&&(f=z4(f,s.type,s.pendingProps,Ji),f!==null?(s.stateNode=f,xr=s,mn=Ri(f.firstChild),Ji=!1,v=!0):v=!1),v||jo(s)),Ne(s),v=s.type,b=s.pendingProps,V=a!==null?a.memoizedProps:null,f=b.children,hy(v,b)?f=null:V!==null&&hy(v,V)&&(s.flags|=32),s.memoizedState!==null&&(v=fv(a,s,i4,null,null,u),Wc._currentValue=v),Nh(a,s),nr(a,s,f,u),s.child;case 6:return a===null&&jt&&((a=u=mn)&&(u=B4(u,s.pendingProps,Ji),u!==null?(s.stateNode=u,xr=s,mn=null,a=!0):a=!1),a||jo(s)),null;case 13:return aS(a,s,u);case 4:return Ee(s,s.stateNode.containerInfo),f=s.pendingProps,a===null?s.child=ql(s,null,f,u):nr(a,s,f,u),s.child;case 11:return Q1(a,s,s.type,s.pendingProps,u);case 7:return nr(a,s,s.pendingProps,u),s.child;case 8:return nr(a,s,s.pendingProps.children,u),s.child;case 12:return nr(a,s,s.pendingProps.children,u),s.child;case 10:return f=s.pendingProps,ws(s,s.type,f.value),nr(a,s,f.children,u),s.child;case 9:return v=s.type._context,f=s.pendingProps.children,Lo(s),v=cr(v),f=f(v),s.flags|=1,nr(a,s,f,u),s.child;case 14:return Z1(a,s,s.type,s.pendingProps,u);case 15:return J1(a,s,s.type,s.pendingProps,u);case 19:return oS(a,s,u);case 31:return f=s.pendingProps,u=s.mode,f={mode:f.mode,children:f.children},a===null?(u=Ih(f,u),u.ref=s.ref,s.child=u,u.return=s,s=u):(u=ka(a.child,f),u.ref=s.ref,s.child=u,u.return=s,s=u),s;case 22:return eS(a,s,u);case 24:return Lo(s),f=cr(Un),a===null?(v=rv(),v===null&&(v=en,b=tv(),v.pooledCache=b,b.refCount++,b!==null&&(v.pooledCacheLanes|=u),v=b),s.memoizedState={parent:f,cache:v},av(s),ws(s,Un,v)):((a.lanes&u)!==0&&(sv(a,s),Ac(s,null,null,u),Ec()),v=a.memoizedState,b=s.memoizedState,v.parent!==f?(v={parent:f,cache:f},s.memoizedState=v,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=v),ws(s,Un,f)):(f=b.cache,ws(s,Un,f),f!==v.cache&&ev(s,[Un],u,!0))),nr(a,s,s.pendingProps.children,u),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function $a(a){a.flags|=4}function uS(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!vT(s)){if(s=fi.current,s!==null&&((It&4194048)===It?ea!==null:(It&62914560)!==It&&(It&536870912)===0||s!==ea))throw Sc=iv,G_;a.flags|=8192}}function Oh(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?vo():536870912,a.lanes|=s,Yl|=s)}function Pc(a,s){if(!jt)switch(a.tailMode){case"hidden":s=a.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function ln(a){var s=a.alternate!==null&&a.alternate.child===a.child,u=0,f=0;if(s)for(var v=a.child;v!==null;)u|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)u|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=f,a.childLanes=u,s}function h4(a,s,u){var f=s.pendingProps;switch(Xg(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(s),null;case 1:return ln(s),null;case 3:return u=s.stateNode,f=null,a!==null&&(f=a.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),za(Un),Pe(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(gc(s)?$a(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,B_())),ln(s),null;case 26:return u=s.memoizedState,a===null?($a(s),u!==null?(ln(s),uS(s,u)):(ln(s),s.flags&=-16777217)):u?u!==a.memoizedState?($a(s),ln(s),uS(s,u)):(ln(s),s.flags&=-16777217):(a.memoizedProps!==f&&$a(s),ln(s),s.flags&=-16777217),null;case 27:Ue(s),u=le.current;var v=s.type;if(a!==null&&s.stateNode!=null)a.memoizedProps!==f&&$a(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return ln(s),null}a=ne.current,gc(s)?U_(s):(a=uT(v,f,u),s.stateNode=a,$a(s))}return ln(s),null;case 5:if(Ue(s),u=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==f&&$a(s);else{if(!f){if(s.stateNode===null)throw Error(r(166));return ln(s),null}if(a=ne.current,gc(s))U_(s);else{switch(v=$h(le.current),a){case 1:a=v.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:a=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":a=v.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":a=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":a=v.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof f.is=="string"?v.createElement("select",{is:f.is}):v.createElement("select"),f.multiple?a.multiple=!0:f.size&&(a.size=f.size);break;default:a=typeof f.is=="string"?v.createElement(u,{is:f.is}):v.createElement(u)}}a[xe]=s,a[Te]=f;e:for(v=s.child;v!==null;){if(v.tag===5||v.tag===6)a.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===s)break e;for(;v.sibling===null;){if(v.return===null||v.return===s)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}s.stateNode=a;e:switch(ir(a,u,f),u){case"button":case"input":case"select":case"textarea":a=!!f.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&$a(s)}}return ln(s),s.flags&=-16777217,null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==f&&$a(s);else{if(typeof f!="string"&&s.stateNode===null)throw Error(r(166));if(a=le.current,gc(s)){if(a=s.stateNode,u=s.memoizedProps,f=null,v=xr,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}a[xe]=s,a=!!(a.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||nT(a.nodeValue,u)),a||jo(s)}else a=$h(a).createTextNode(f),a[xe]=s,s.stateNode=a}return ln(s),null;case 13:if(f=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(v=gc(s),f!==null&&f.dehydrated!==null){if(a===null){if(!v)throw Error(r(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[xe]=s}else vc(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ln(s),v=!1}else v=B_(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=v),v=!0;if(!v)return s.flags&256?(Fa(s),s):(Fa(s),null)}if(Fa(s),(s.flags&128)!==0)return s.lanes=u,s;if(u=f!==null,a=a!==null&&a.memoizedState!==null,u){f=s.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool);var b=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==v&&(f.flags|=2048)}return u!==a&&u&&(s.child.flags|=8192),Oh(s,s.updateQueue),ln(s),null;case 4:return Pe(),a===null&&ly(s.stateNode.containerInfo),ln(s),null;case 10:return za(s.type),ln(s),null;case 19:if(Y(zn),v=s.memoizedState,v===null)return ln(s),null;if(f=(s.flags&128)!==0,b=v.rendering,b===null)if(f)Pc(v,!1);else{if(pn!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(b=Ah(a),b!==null){for(s.flags|=128,Pc(v,!1),a=b.updateQueue,s.updateQueue=a,Oh(s,a),s.subtreeFlags=0,a=u,u=s.child;u!==null;)L_(u,a),u=u.sibling;return W(zn,zn.current&1|2),s.child}a=a.sibling}v.tail!==null&&Ie()>Dh&&(s.flags|=128,f=!0,Pc(v,!1),s.lanes=4194304)}else{if(!f)if(a=Ah(b),a!==null){if(s.flags|=128,f=!0,a=a.updateQueue,s.updateQueue=a,Oh(s,a),Pc(v,!0),v.tail===null&&v.tailMode==="hidden"&&!b.alternate&&!jt)return ln(s),null}else 2*Ie()-v.renderingStartTime>Dh&&u!==536870912&&(s.flags|=128,f=!0,Pc(v,!1),s.lanes=4194304);v.isBackwards?(b.sibling=s.child,s.child=b):(a=v.last,a!==null?a.sibling=b:s.child=b,v.last=b)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=Ie(),s.sibling=null,a=zn.current,W(zn,f?a&1|2:a&1),s):(ln(s),null);case 22:case 23:return Fa(s),cv(),f=s.memoizedState!==null,a!==null?a.memoizedState!==null!==f&&(s.flags|=8192):f&&(s.flags|=8192),f?(u&536870912)!==0&&(s.flags&128)===0&&(ln(s),s.subtreeFlags&6&&(s.flags|=8192)):ln(s),u=s.updateQueue,u!==null&&Oh(s,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),f=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(f=s.memoizedState.cachePool.pool),f!==u&&(s.flags|=2048),a!==null&&Y(Vo),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),za(Un),ln(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function m4(a,s){switch(Xg(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return za(Un),Pe(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return Ue(s),null;case 13:if(Fa(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));vc()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return Y(zn),null;case 4:return Pe(),null;case 10:return za(s.type),null;case 22:case 23:return Fa(s),cv(),a!==null&&Y(Vo),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return za(Un),null;case 25:return null;default:return null}}function cS(a,s){switch(Xg(s),s.tag){case 3:za(Un),Pe();break;case 26:case 27:case 5:Ue(s);break;case 4:Pe();break;case 13:Fa(s);break;case 19:Y(zn);break;case 10:za(s.type);break;case 22:case 23:Fa(s),cv(),a!==null&&Y(Vo);break;case 24:za(Un)}}function Dc(a,s){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var v=f.next;u=v;do{if((u.tag&a)===a){f=void 0;var b=u.create,V=u.inst;f=b(),V.destroy=f}u=u.next}while(u!==v)}}catch($){Xt(s,s.return,$)}}function Cs(a,s,u){try{var f=s.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var b=v.next;f=b;do{if((f.tag&a)===a){var V=f.inst,$=V.destroy;if($!==void 0){V.destroy=void 0,v=s;var ee=u,de=$;try{de()}catch(ye){Xt(v,ee,ye)}}}f=f.next}while(f!==b)}}catch(ye){Xt(s,s.return,ye)}}function dS(a){var s=a.updateQueue;if(s!==null){var u=a.stateNode;try{Z_(s,u)}catch(f){Xt(a,a.return,f)}}}function fS(a,s,u){u.props=zo(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(f){Xt(a,s,f)}}function jc(a,s){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var f=a.stateNode;break;case 30:f=a.stateNode;break;default:f=a.stateNode}typeof u=="function"?a.refCleanup=u(f):u.current=f}}catch(v){Xt(a,s,v)}}function ta(a,s){var u=a.ref,f=a.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(v){Xt(a,s,v)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){Xt(a,s,v)}else u.current=null}function hS(a){var s=a.type,u=a.memoizedProps,f=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(v){Xt(a,a.return,v)}}function Vv(a,s,u){try{var f=a.stateNode;j4(f,a.type,u,s),f[Te]=s}catch(v){Xt(a,a.return,v)}}function mS(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&js(a.type)||a.tag===4}function Uv(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||mS(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&js(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function zv(a,s,u){var f=a.tag;if(f===5||f===6)a=a.stateNode,s?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,s):(s=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,s.appendChild(a),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Hh));else if(f!==4&&(f===27&&js(a.type)&&(u=a.stateNode,s=null),a=a.child,a!==null))for(zv(a,s,u),a=a.sibling;a!==null;)zv(a,s,u),a=a.sibling}function Mh(a,s,u){var f=a.tag;if(f===5||f===6)a=a.stateNode,s?u.insertBefore(a,s):u.appendChild(a);else if(f!==4&&(f===27&&js(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(Mh(a,s,u),a=a.sibling;a!==null;)Mh(a,s,u),a=a.sibling}function pS(a){var s=a.stateNode,u=a.memoizedProps;try{for(var f=a.type,v=s.attributes;v.length;)s.removeAttributeNode(v[0]);ir(s,f,u),s[xe]=a,s[Te]=u}catch(b){Xt(a,a.return,b)}}var qa=!1,_n=!1,Bv=!1,gS=typeof WeakSet=="function"?WeakSet:Set,qn=null;function p4(a,s){if(a=a.containerInfo,dy=Xh,a=C_(a),Ug(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var v=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var V=0,$=-1,ee=-1,de=0,ye=0,we=a,fe=null;t:for(;;){for(var he;we!==u||v!==0&&we.nodeType!==3||($=V+v),we!==b||f!==0&&we.nodeType!==3||(ee=V+f),we.nodeType===3&&(V+=we.nodeValue.length),(he=we.firstChild)!==null;)fe=we,we=he;for(;;){if(we===a)break t;if(fe===u&&++de===v&&($=V),fe===b&&++ye===f&&(ee=V),(he=we.nextSibling)!==null)break;we=fe,fe=we.parentNode}we=he}u=$===-1||ee===-1?null:{start:$,end:ee}}else u=null}u=u||{start:0,end:0}}else u=null;for(fy={focusedElem:a,selectionRange:u},Xh=!1,qn=s;qn!==null;)if(s=qn,a=s.child,(s.subtreeFlags&1024)!==0&&a!==null)a.return=s,qn=a;else for(;qn!==null;){switch(s=qn,b=s.alternate,a=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&b!==null){a=void 0,u=s,v=b.memoizedProps,b=b.memoizedState,f=u.stateNode;try{var at=zo(u.type,v,u.elementType===u.type);a=f.getSnapshotBeforeUpdate(at,b),f.__reactInternalSnapshotBeforeUpdate=a}catch(Qe){Xt(u,u.return,Qe)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,u=a.nodeType,u===9)py(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":py(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,qn=a;break}qn=s.return}}function vS(a,s,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Rs(a,u),f&4&&Dc(5,u);break;case 1:if(Rs(a,u),f&4)if(a=u.stateNode,s===null)try{a.componentDidMount()}catch(V){Xt(u,u.return,V)}else{var v=zo(u.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(v,s,a.__reactInternalSnapshotBeforeUpdate)}catch(V){Xt(u,u.return,V)}}f&64&&dS(u),f&512&&jc(u,u.return);break;case 3:if(Rs(a,u),f&64&&(a=u.updateQueue,a!==null)){if(s=null,u.child!==null)switch(u.child.tag){case 27:case 5:s=u.child.stateNode;break;case 1:s=u.child.stateNode}try{Z_(a,s)}catch(V){Xt(u,u.return,V)}}break;case 27:s===null&&f&4&&pS(u);case 26:case 5:Rs(a,u),s===null&&f&4&&hS(u),f&512&&jc(u,u.return);break;case 12:Rs(a,u);break;case 13:Rs(a,u),f&4&&wS(a,u),f&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=T4.bind(null,u),F4(a,u))));break;case 22:if(f=u.memoizedState!==null||qa,!f){s=s!==null&&s.memoizedState!==null||_n,v=qa;var b=_n;qa=f,(_n=s)&&!b?Ns(a,u,(u.subtreeFlags&8772)!==0):Rs(a,u),qa=v,_n=b}break;case 30:break;default:Rs(a,u)}}function yS(a){var s=a.alternate;s!==null&&(a.alternate=null,yS(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&Ke(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var sn=null,Rr=!1;function Ga(a,s,u){for(u=u.child;u!==null;)bS(a,s,u),u=u.sibling}function bS(a,s,u){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(pt,u)}catch{}switch(u.tag){case 26:_n||ta(u,s),Ga(a,s,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:_n||ta(u,s);var f=sn,v=Rr;js(u.type)&&(sn=u.stateNode,Rr=!1),Ga(a,s,u),$c(u.stateNode),sn=f,Rr=v;break;case 5:_n||ta(u,s);case 6:if(f=sn,v=Rr,sn=null,Ga(a,s,u),sn=f,Rr=v,sn!==null)if(Rr)try{(sn.nodeType===9?sn.body:sn.nodeName==="HTML"?sn.ownerDocument.body:sn).removeChild(u.stateNode)}catch(b){Xt(u,s,b)}else try{sn.removeChild(u.stateNode)}catch(b){Xt(u,s,b)}break;case 18:sn!==null&&(Rr?(a=sn,oT(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),Zc(a)):oT(sn,u.stateNode));break;case 4:f=sn,v=Rr,sn=u.stateNode.containerInfo,Rr=!0,Ga(a,s,u),sn=f,Rr=v;break;case 0:case 11:case 14:case 15:_n||Cs(2,u,s),_n||Cs(4,u,s),Ga(a,s,u);break;case 1:_n||(ta(u,s),f=u.stateNode,typeof f.componentWillUnmount=="function"&&fS(u,s,f)),Ga(a,s,u);break;case 21:Ga(a,s,u);break;case 22:_n=(f=_n)||u.memoizedState!==null,Ga(a,s,u),_n=f;break;default:Ga(a,s,u)}}function wS(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Zc(a)}catch(u){Xt(s,s.return,u)}}function g4(a){switch(a.tag){case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new gS),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new gS),s;default:throw Error(r(435,a.tag))}}function Fv(a,s){var u=g4(a);s.forEach(function(f){var v=E4.bind(null,a,f);u.has(f)||(u.add(f),f.then(v,v))})}function Br(a,s){var u=s.deletions;if(u!==null)for(var f=0;f<u.length;f++){var v=u[f],b=a,V=s,$=V;e:for(;$!==null;){switch($.tag){case 27:if(js($.type)){sn=$.stateNode,Rr=!1;break e}break;case 5:sn=$.stateNode,Rr=!1;break e;case 3:case 4:sn=$.stateNode.containerInfo,Rr=!0;break e}$=$.return}if(sn===null)throw Error(r(160));bS(b,V,v),sn=null,Rr=!1,b=v.alternate,b!==null&&(b.return=null),v.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)xS(s,a),s=s.sibling}var Ci=null;function xS(a,s){var u=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Br(s,a),Fr(a),f&4&&(Cs(3,a,a.return),Dc(3,a),Cs(5,a,a.return));break;case 1:Br(s,a),Fr(a),f&512&&(_n||u===null||ta(u,u.return)),f&64&&qa&&(a=a.updateQueue,a!==null&&(f=a.callbacks,f!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var v=Ci;if(Br(s,a),Fr(a),f&512&&(_n||u===null||ta(u,u.return)),f&4){var b=u!==null?u.memoizedState:null;if(f=a.memoizedState,u===null)if(f===null)if(a.stateNode===null){e:{f=a.type,u=a.memoizedProps,v=v.ownerDocument||v;t:switch(f){case"title":b=v.getElementsByTagName("title")[0],(!b||b[Je]||b[xe]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=v.createElement(f),v.head.insertBefore(b,v.querySelector("head > title"))),ir(b,f,u),b[xe]=a,Ct(b),f=b;break e;case"link":var V=pT("link","href",v).get(f+(u.href||""));if(V){for(var $=0;$<V.length;$++)if(b=V[$],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){V.splice($,1);break t}}b=v.createElement(f),ir(b,f,u),v.head.appendChild(b);break;case"meta":if(V=pT("meta","content",v).get(f+(u.content||""))){for($=0;$<V.length;$++)if(b=V[$],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){V.splice($,1);break t}}b=v.createElement(f),ir(b,f,u),v.head.appendChild(b);break;default:throw Error(r(468,f))}b[xe]=a,Ct(b),f=b}a.stateNode=f}else gT(v,a.type,a.stateNode);else a.stateNode=mT(v,f,a.memoizedProps);else b!==f?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,f===null?gT(v,a.type,a.stateNode):mT(v,f,a.memoizedProps)):f===null&&a.stateNode!==null&&Vv(a,a.memoizedProps,u.memoizedProps)}break;case 27:Br(s,a),Fr(a),f&512&&(_n||u===null||ta(u,u.return)),u!==null&&f&4&&Vv(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Br(s,a),Fr(a),f&512&&(_n||u===null||ta(u,u.return)),a.flags&32){v=a.stateNode;try{ii(v,"")}catch(he){Xt(a,a.return,he)}}f&4&&a.stateNode!=null&&(v=a.memoizedProps,Vv(a,v,u!==null?u.memoizedProps:v)),f&1024&&(Bv=!0);break;case 6:if(Br(s,a),Fr(a),f&4){if(a.stateNode===null)throw Error(r(162));f=a.memoizedProps,u=a.stateNode;try{u.nodeValue=f}catch(he){Xt(a,a.return,he)}}break;case 3:if(Kh=null,v=Ci,Ci=qh(s.containerInfo),Br(s,a),Ci=v,Fr(a),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Zc(s.containerInfo)}catch(he){Xt(a,a.return,he)}Bv&&(Bv=!1,_S(a));break;case 4:f=Ci,Ci=qh(a.stateNode.containerInfo),Br(s,a),Fr(a),Ci=f;break;case 12:Br(s,a),Fr(a);break;case 13:Br(s,a),Fr(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Wv=Ie()),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Fv(a,f)));break;case 22:v=a.memoizedState!==null;var ee=u!==null&&u.memoizedState!==null,de=qa,ye=_n;if(qa=de||v,_n=ye||ee,Br(s,a),_n=ye,qa=de,Fr(a),f&8192)e:for(s=a.stateNode,s._visibility=v?s._visibility&-2:s._visibility|1,v&&(u===null||ee||qa||_n||Bo(a)),u=null,s=a;;){if(s.tag===5||s.tag===26){if(u===null){ee=u=s;try{if(b=ee.stateNode,v)V=b.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{$=ee.stateNode;var we=ee.memoizedProps.style,fe=we!=null&&we.hasOwnProperty("display")?we.display:null;$.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(he){Xt(ee,ee.return,he)}}}else if(s.tag===6){if(u===null){ee=s;try{ee.stateNode.nodeValue=v?"":ee.memoizedProps}catch(he){Xt(ee,ee.return,he)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;u===s&&(u=null),s=s.return}u===s&&(u=null),s.sibling.return=s.return,s=s.sibling}f&4&&(f=a.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,Fv(a,u))));break;case 19:Br(s,a),Fr(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Fv(a,f)));break;case 30:break;case 21:break;default:Br(s,a),Fr(a)}}function Fr(a){var s=a.flags;if(s&2){try{for(var u,f=a.return;f!==null;){if(mS(f)){u=f;break}f=f.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,b=Uv(a);Mh(a,b,v);break;case 5:var V=u.stateNode;u.flags&32&&(ii(V,""),u.flags&=-33);var $=Uv(a);Mh(a,$,V);break;case 3:case 4:var ee=u.stateNode.containerInfo,de=Uv(a);zv(a,de,ee);break;default:throw Error(r(161))}}catch(ye){Xt(a,a.return,ye)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function _S(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;_S(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function Rs(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)vS(a,s.alternate,s),s=s.sibling}function Bo(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:Cs(4,s,s.return),Bo(s);break;case 1:ta(s,s.return);var u=s.stateNode;typeof u.componentWillUnmount=="function"&&fS(s,s.return,u),Bo(s);break;case 27:$c(s.stateNode);case 26:case 5:ta(s,s.return),Bo(s);break;case 22:s.memoizedState===null&&Bo(s);break;case 30:Bo(s);break;default:Bo(s)}a=a.sibling}}function Ns(a,s,u){for(u=u&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var f=s.alternate,v=a,b=s,V=b.flags;switch(b.tag){case 0:case 11:case 15:Ns(v,b,u),Dc(4,b);break;case 1:if(Ns(v,b,u),f=b,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(de){Xt(f,f.return,de)}if(f=b,v=f.updateQueue,v!==null){var $=f.stateNode;try{var ee=v.shared.hiddenCallbacks;if(ee!==null)for(v.shared.hiddenCallbacks=null,v=0;v<ee.length;v++)Q_(ee[v],$)}catch(de){Xt(f,f.return,de)}}u&&V&64&&dS(b),jc(b,b.return);break;case 27:pS(b);case 26:case 5:Ns(v,b,u),u&&f===null&&V&4&&hS(b),jc(b,b.return);break;case 12:Ns(v,b,u);break;case 13:Ns(v,b,u),u&&V&4&&wS(v,b);break;case 22:b.memoizedState===null&&Ns(v,b,u),jc(b,b.return);break;case 30:break;default:Ns(v,b,u)}s=s.sibling}}function Hv(a,s){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&wc(u))}function $v(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&wc(a))}function na(a,s,u,f){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)SS(a,s,u,f),s=s.sibling}function SS(a,s,u,f){var v=s.flags;switch(s.tag){case 0:case 11:case 15:na(a,s,u,f),v&2048&&Dc(9,s);break;case 1:na(a,s,u,f);break;case 3:na(a,s,u,f),v&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&wc(a)));break;case 12:if(v&2048){na(a,s,u,f),a=s.stateNode;try{var b=s.memoizedProps,V=b.id,$=b.onPostCommit;typeof $=="function"&&$(V,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(ee){Xt(s,s.return,ee)}}else na(a,s,u,f);break;case 13:na(a,s,u,f);break;case 23:break;case 22:b=s.stateNode,V=s.alternate,s.memoizedState!==null?b._visibility&2?na(a,s,u,f):kc(a,s):b._visibility&2?na(a,s,u,f):(b._visibility|=2,Gl(a,s,u,f,(s.subtreeFlags&10256)!==0)),v&2048&&Hv(V,s);break;case 24:na(a,s,u,f),v&2048&&$v(s.alternate,s);break;default:na(a,s,u,f)}}function Gl(a,s,u,f,v){for(v=v&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var b=a,V=s,$=u,ee=f,de=V.flags;switch(V.tag){case 0:case 11:case 15:Gl(b,V,$,ee,v),Dc(8,V);break;case 23:break;case 22:var ye=V.stateNode;V.memoizedState!==null?ye._visibility&2?Gl(b,V,$,ee,v):kc(b,V):(ye._visibility|=2,Gl(b,V,$,ee,v)),v&&de&2048&&Hv(V.alternate,V);break;case 24:Gl(b,V,$,ee,v),v&&de&2048&&$v(V.alternate,V);break;default:Gl(b,V,$,ee,v)}s=s.sibling}}function kc(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var u=a,f=s,v=f.flags;switch(f.tag){case 22:kc(u,f),v&2048&&Hv(f.alternate,f);break;case 24:kc(u,f),v&2048&&$v(f.alternate,f);break;default:kc(u,f)}s=s.sibling}}var Lc=8192;function Kl(a){if(a.subtreeFlags&Lc)for(a=a.child;a!==null;)TS(a),a=a.sibling}function TS(a){switch(a.tag){case 26:Kl(a),a.flags&Lc&&a.memoizedState!==null&&tj(Ci,a.memoizedState,a.memoizedProps);break;case 5:Kl(a);break;case 3:case 4:var s=Ci;Ci=qh(a.stateNode.containerInfo),Kl(a),Ci=s;break;case 22:a.memoizedState===null&&(s=a.alternate,s!==null&&s.memoizedState!==null?(s=Lc,Lc=16777216,Kl(a),Lc=s):Kl(a));break;default:Kl(a)}}function ES(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function Vc(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var f=s[u];qn=f,CS(f,a)}ES(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)AS(a),a=a.sibling}function AS(a){switch(a.tag){case 0:case 11:case 15:Vc(a),a.flags&2048&&Cs(9,a,a.return);break;case 3:Vc(a);break;case 12:Vc(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,Ph(a)):Vc(a);break;default:Vc(a)}}function Ph(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var u=0;u<s.length;u++){var f=s[u];qn=f,CS(f,a)}ES(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:Cs(8,s,s.return),Ph(s);break;case 22:u=s.stateNode,u._visibility&2&&(u._visibility&=-3,Ph(s));break;default:Ph(s)}a=a.sibling}}function CS(a,s){for(;qn!==null;){var u=qn;switch(u.tag){case 0:case 11:case 15:Cs(8,u,s);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:wc(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,qn=f;else e:for(u=a;qn!==null;){f=qn;var v=f.sibling,b=f.return;if(yS(f),f===u){qn=null;break e}if(v!==null){v.return=b,qn=v;break e}qn=b}}}var v4={getCacheForType:function(a){var s=cr(Un),u=s.data.get(a);return u===void 0&&(u=a(),s.data.set(a,u)),u}},y4=typeof WeakMap=="function"?WeakMap:Map,Ht=0,en=null,xt=null,It=0,$t=0,Hr=null,Is=!1,Wl=!1,qv=!1,Ka=0,pn=0,Os=0,Fo=0,Gv=0,hi=0,Yl=0,Uc=null,Nr=null,Kv=!1,Wv=0,Dh=1/0,jh=null,Ms=null,rr=0,Ps=null,Xl=null,Ql=0,Yv=0,Xv=null,RS=null,zc=0,Qv=null;function $r(){if((Ht&2)!==0&&It!==0)return It&-It;if(B.T!==null){var a=Vl;return a!==0?a:iy()}return te()}function NS(){hi===0&&(hi=(It&536870912)===0||jt?Ca():536870912);var a=fi.current;return a!==null&&(a.flags|=32),hi}function qr(a,s,u){(a===en&&($t===2||$t===9)||a.cancelPendingCommit!==null)&&(Zl(a,0),Ds(a,It,hi,!1)),Ti(a,u),((Ht&2)===0||a!==en)&&(a===en&&((Ht&2)===0&&(Fo|=u),pn===4&&Ds(a,It,hi,!1)),ra(a))}function IS(a,s,u){if((Ht&6)!==0)throw Error(r(327));var f=!u&&(s&124)===0&&(s&a.expiredLanes)===0||ei(a,s),v=f?x4(a,s):ey(a,s,!0),b=f;do{if(v===0){Wl&&!f&&Ds(a,s,0,!1);break}else{if(u=a.current.alternate,b&&!b4(u)){v=ey(a,s,!1),b=!1;continue}if(v===2){if(b=s,a.errorRecoveryDisabledLanes&b)var V=0;else V=a.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){s=V;e:{var $=a;v=Uc;var ee=$.current.memoizedState.isDehydrated;if(ee&&(Zl($,V).flags|=256),V=ey($,V,!1),V!==2){if(qv&&!ee){$.errorRecoveryDisabledLanes|=b,Fo|=b,v=4;break e}b=Nr,Nr=v,b!==null&&(Nr===null?Nr=b:Nr.push.apply(Nr,b))}v=V}if(b=!1,v!==2)continue}}if(v===1){Zl(a,0),Ds(a,s,0,!0);break}e:{switch(f=a,b=v,b){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ds(f,s,hi,!Is);break e;case 2:Nr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(v=Wv+300-Ie(),10<v)){if(Ds(f,s,hi,!Is),Aa(f,0,!0)!==0)break e;f.timeoutHandle=aT(OS.bind(null,f,u,Nr,jh,Kv,s,hi,Fo,Yl,Is,b,2,-0,0),v);break e}OS(f,u,Nr,jh,Kv,s,hi,Fo,Yl,Is,b,0,-0,0)}}break}while(!0);ra(a)}function OS(a,s,u,f,v,b,V,$,ee,de,ye,we,fe,he){if(a.timeoutHandle=-1,we=s.subtreeFlags,(we&8192||(we&16785408)===16785408)&&(Kc={stylesheets:null,count:0,unsuspend:ej},TS(s),we=nj(),we!==null)){a.cancelPendingCommit=we(VS.bind(null,a,s,b,u,f,v,V,$,ee,ye,1,fe,he)),Ds(a,b,V,!de);return}VS(a,s,b,u,f,v,V,$,ee)}function b4(a){for(var s=a;;){var u=s.tag;if((u===0||u===11||u===15)&&s.flags&16384&&(u=s.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var v=u[f],b=v.getSnapshot;v=v.value;try{if(!Ur(b(),v))return!1}catch{return!1}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ds(a,s,u,f){s&=~Gv,s&=~Fo,a.suspendedLanes|=s,a.pingedLanes&=~s,f&&(a.warmLanes|=s),f=a.expirationTimes;for(var v=s;0<v;){var b=31-Jt(v),V=1<<b;f[b]=-1,v&=~V}u!==0&&vr(a,u,s)}function kh(){return(Ht&6)===0?(Bc(0),!1):!0}function Zv(){if(xt!==null){if($t===0)var a=xt.return;else a=xt,Ua=ko=null,pv(a),$l=null,Oc=0,a=xt;for(;a!==null;)cS(a.alternate,a),a=a.return;xt=null}}function Zl(a,s){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,L4(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),Zv(),en=a,xt=u=ka(a.current,null),It=s,$t=0,Hr=null,Is=!1,Wl=ei(a,s),qv=!1,Yl=hi=Gv=Fo=Os=pn=0,Nr=Uc=null,Kv=!1,(s&8)!==0&&(s|=s&32);var f=a.entangledLanes;if(f!==0)for(a=a.entanglements,f&=s;0<f;){var v=31-Jt(f),b=1<<v;s|=a[v],f&=~b}return Ka=s,ih(),u}function MS(a,s){gt=null,B.H=Sh,s===_c||s===hh?(s=Y_(),$t=3):s===G_?(s=Y_(),$t=4):$t=s===X1?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Hr=s,xt===null&&(pn=1,Rh(a,li(s,a.current)))}function PS(){var a=B.H;return B.H=Sh,a===null?Sh:a}function DS(){var a=B.A;return B.A=v4,a}function Jv(){pn=4,Is||(It&4194048)!==It&&fi.current!==null||(Wl=!0),(Os&134217727)===0&&(Fo&134217727)===0||en===null||Ds(en,It,hi,!1)}function ey(a,s,u){var f=Ht;Ht|=2;var v=PS(),b=DS();(en!==a||It!==s)&&(jh=null,Zl(a,s)),s=!1;var V=pn;e:do try{if($t!==0&&xt!==null){var $=xt,ee=Hr;switch($t){case 8:Zv(),V=6;break e;case 3:case 2:case 9:case 6:fi.current===null&&(s=!0);var de=$t;if($t=0,Hr=null,Jl(a,$,ee,de),u&&Wl){V=0;break e}break;default:de=$t,$t=0,Hr=null,Jl(a,$,ee,de)}}w4(),V=pn;break}catch(ye){MS(a,ye)}while(!0);return s&&a.shellSuspendCounter++,Ua=ko=null,Ht=f,B.H=v,B.A=b,xt===null&&(en=null,It=0,ih()),V}function w4(){for(;xt!==null;)jS(xt)}function x4(a,s){var u=Ht;Ht|=2;var f=PS(),v=DS();en!==a||It!==s?(jh=null,Dh=Ie()+500,Zl(a,s)):Wl=ei(a,s);e:do try{if($t!==0&&xt!==null){s=xt;var b=Hr;t:switch($t){case 1:$t=0,Hr=null,Jl(a,s,b,1);break;case 2:case 9:if(K_(b)){$t=0,Hr=null,kS(s);break}s=function(){$t!==2&&$t!==9||en!==a||($t=7),ra(a)},b.then(s,s);break e;case 3:$t=7;break e;case 4:$t=5;break e;case 7:K_(b)?($t=0,Hr=null,kS(s)):($t=0,Hr=null,Jl(a,s,b,7));break;case 5:var V=null;switch(xt.tag){case 26:V=xt.memoizedState;case 5:case 27:var $=xt;if(!V||vT(V)){$t=0,Hr=null;var ee=$.sibling;if(ee!==null)xt=ee;else{var de=$.return;de!==null?(xt=de,Lh(de)):xt=null}break t}}$t=0,Hr=null,Jl(a,s,b,5);break;case 6:$t=0,Hr=null,Jl(a,s,b,6);break;case 8:Zv(),pn=6;break e;default:throw Error(r(462))}}_4();break}catch(ye){MS(a,ye)}while(!0);return Ua=ko=null,B.H=f,B.A=v,Ht=u,xt!==null?0:(en=null,It=0,ih(),pn)}function _4(){for(;xt!==null&&!Ce();)jS(xt)}function jS(a){var s=lS(a.alternate,a,Ka);a.memoizedProps=a.pendingProps,s===null?Lh(a):xt=s}function kS(a){var s=a,u=s.alternate;switch(s.tag){case 15:case 0:s=nS(u,s,s.pendingProps,s.type,void 0,It);break;case 11:s=nS(u,s,s.pendingProps,s.type.render,s.ref,It);break;case 5:pv(s);default:cS(u,s),s=xt=L_(s,Ka),s=lS(u,s,Ka)}a.memoizedProps=a.pendingProps,s===null?Lh(a):xt=s}function Jl(a,s,u,f){Ua=ko=null,pv(s),$l=null,Oc=0;var v=s.return;try{if(d4(a,v,s,u,It)){pn=1,Rh(a,li(u,a.current)),xt=null;return}}catch(b){if(v!==null)throw xt=v,b;pn=1,Rh(a,li(u,a.current)),xt=null;return}s.flags&32768?(jt||f===1?a=!0:Wl||(It&536870912)!==0?a=!1:(Is=a=!0,(f===2||f===9||f===3||f===6)&&(f=fi.current,f!==null&&f.tag===13&&(f.flags|=16384))),LS(s,a)):Lh(s)}function Lh(a){var s=a;do{if((s.flags&32768)!==0){LS(s,Is);return}a=s.return;var u=h4(s.alternate,s,Ka);if(u!==null){xt=u;return}if(s=s.sibling,s!==null){xt=s;return}xt=s=a}while(s!==null);pn===0&&(pn=5)}function LS(a,s){do{var u=m4(a.alternate,a);if(u!==null){u.flags&=32767,xt=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!s&&(a=a.sibling,a!==null)){xt=a;return}xt=a=u}while(a!==null);pn=6,xt=null}function VS(a,s,u,f,v,b,V,$,ee){a.cancelPendingCommit=null;do Vh();while(rr!==0);if((Ht&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(b=s.lanes|s.childLanes,b|=$g,ps(a,u,b,V,$,ee),a===en&&(xt=en=null,It=0),Xl=s,Ps=a,Ql=u,Yv=b,Xv=v,RS=f,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,A4(Dt,function(){return HS(),null})):(a.callbackNode=null,a.callbackPriority=0),f=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||f){f=B.T,B.T=null,v=T.p,T.p=2,V=Ht,Ht|=4;try{p4(a,s,u)}finally{Ht=V,T.p=v,B.T=f}}rr=1,US(),zS(),BS()}}function US(){if(rr===1){rr=0;var a=Ps,s=Xl,u=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||u){u=B.T,B.T=null;var f=T.p;T.p=2;var v=Ht;Ht|=4;try{xS(s,a);var b=fy,V=C_(a.containerInfo),$=b.focusedElem,ee=b.selectionRange;if(V!==$&&$&&$.ownerDocument&&A_($.ownerDocument.documentElement,$)){if(ee!==null&&Ug($)){var de=ee.start,ye=ee.end;if(ye===void 0&&(ye=de),"selectionStart"in $)$.selectionStart=de,$.selectionEnd=Math.min(ye,$.value.length);else{var we=$.ownerDocument||document,fe=we&&we.defaultView||window;if(fe.getSelection){var he=fe.getSelection(),at=$.textContent.length,Qe=Math.min(ee.start,at),Wt=ee.end===void 0?Qe:Math.min(ee.end,at);!he.extend&&Qe>Wt&&(V=Wt,Wt=Qe,Qe=V);var ie=E_($,Qe),re=E_($,Wt);if(ie&&re&&(he.rangeCount!==1||he.anchorNode!==ie.node||he.anchorOffset!==ie.offset||he.focusNode!==re.node||he.focusOffset!==re.offset)){var ue=we.createRange();ue.setStart(ie.node,ie.offset),he.removeAllRanges(),Qe>Wt?(he.addRange(ue),he.extend(re.node,re.offset)):(ue.setEnd(re.node,re.offset),he.addRange(ue))}}}}for(we=[],he=$;he=he.parentNode;)he.nodeType===1&&we.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<we.length;$++){var be=we[$];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}Xh=!!dy,fy=dy=null}finally{Ht=v,T.p=f,B.T=u}}a.current=s,rr=2}}function zS(){if(rr===2){rr=0;var a=Ps,s=Xl,u=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||u){u=B.T,B.T=null;var f=T.p;T.p=2;var v=Ht;Ht|=4;try{vS(a,s.alternate,s)}finally{Ht=v,T.p=f,B.T=u}}rr=3}}function BS(){if(rr===4||rr===3){rr=0,$e();var a=Ps,s=Xl,u=Ql,f=RS;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?rr=5:(rr=0,Xl=Ps=null,FS(a,a.pendingLanes));var v=a.pendingLanes;if(v===0&&(Ms=null),gs(u),s=s.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(pt,s,void 0,(s.current.flags&128)===128)}catch{}if(f!==null){s=B.T,v=T.p,T.p=2,B.T=null;try{for(var b=a.onRecoverableError,V=0;V<f.length;V++){var $=f[V];b($.value,{componentStack:$.stack})}}finally{B.T=s,T.p=v}}(Ql&3)!==0&&Vh(),ra(a),v=a.pendingLanes,(u&4194090)!==0&&(v&42)!==0?a===Qv?zc++:(zc=0,Qv=a):zc=0,Bc(0)}}function FS(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,wc(s)))}function Vh(a){return US(),zS(),BS(),HS()}function HS(){if(rr!==5)return!1;var a=Ps,s=Yv;Yv=0;var u=gs(Ql),f=B.T,v=T.p;try{T.p=32>u?32:u,B.T=null,u=Xv,Xv=null;var b=Ps,V=Ql;if(rr=0,Xl=Ps=null,Ql=0,(Ht&6)!==0)throw Error(r(331));var $=Ht;if(Ht|=4,AS(b.current),SS(b,b.current,V,u),Ht=$,Bc(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(pt,b)}catch{}return!0}finally{T.p=v,B.T=f,FS(a,s)}}function $S(a,s,u){s=li(u,s),s=Nv(a.stateNode,s,2),a=Ss(a,s,2),a!==null&&(Ti(a,2),ra(a))}function Xt(a,s,u){if(a.tag===3)$S(a,a,u);else for(;s!==null;){if(s.tag===3){$S(s,a,u);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ms===null||!Ms.has(f))){a=li(u,a),u=W1(2),f=Ss(s,u,2),f!==null&&(Y1(u,f,s,a),Ti(f,2),ra(f));break}}s=s.return}}function ty(a,s,u){var f=a.pingCache;if(f===null){f=a.pingCache=new y4;var v=new Set;f.set(s,v)}else v=f.get(s),v===void 0&&(v=new Set,f.set(s,v));v.has(u)||(qv=!0,v.add(u),a=S4.bind(null,a,s,u),s.then(a,a))}function S4(a,s,u){var f=a.pingCache;f!==null&&f.delete(s),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,en===a&&(It&u)===u&&(pn===4||pn===3&&(It&62914560)===It&&300>Ie()-Wv?(Ht&2)===0&&Zl(a,0):Gv|=u,Yl===It&&(Yl=0)),ra(a)}function qS(a,s){s===0&&(s=vo()),a=Dl(a,s),a!==null&&(Ti(a,s),ra(a))}function T4(a){var s=a.memoizedState,u=0;s!==null&&(u=s.retryLane),qS(a,u)}function E4(a,s){var u=0;switch(a.tag){case 13:var f=a.stateNode,v=a.memoizedState;v!==null&&(u=v.retryLane);break;case 19:f=a.stateNode;break;case 22:f=a.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(s),qS(a,u)}function A4(a,s){return Xe(a,s)}var Uh=null,eu=null,ny=!1,zh=!1,ry=!1,Ho=0;function ra(a){a!==eu&&a.next===null&&(eu===null?Uh=eu=a:eu=eu.next=a),zh=!0,ny||(ny=!0,R4())}function Bc(a,s){if(!ry&&zh){ry=!0;do for(var u=!1,f=Uh;f!==null;){if(a!==0){var v=f.pendingLanes;if(v===0)var b=0;else{var V=f.suspendedLanes,$=f.pingedLanes;b=(1<<31-Jt(42|a)+1)-1,b&=v&~(V&~$),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,YS(f,b))}else b=It,b=Aa(f,f===en?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||ei(f,b)||(u=!0,YS(f,b));f=f.next}while(u);ry=!1}}function C4(){GS()}function GS(){zh=ny=!1;var a=0;Ho!==0&&(k4()&&(a=Ho),Ho=0);for(var s=Ie(),u=null,f=Uh;f!==null;){var v=f.next,b=KS(f,s);b===0?(f.next=null,u===null?Uh=v:u.next=v,v===null&&(eu=u)):(u=f,(a!==0||(b&3)!==0)&&(zh=!0)),f=v}Bc(a)}function KS(a,s){for(var u=a.suspendedLanes,f=a.pingedLanes,v=a.expirationTimes,b=a.pendingLanes&-62914561;0<b;){var V=31-Jt(b),$=1<<V,ee=v[V];ee===-1?(($&u)===0||($&f)!==0)&&(v[V]=ms($,s)):ee<=s&&(a.expiredLanes|=$),b&=~$}if(s=en,u=It,u=Aa(a,a===s?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f=a.callbackNode,u===0||a===s&&($t===2||$t===9)||a.cancelPendingCommit!==null)return f!==null&&f!==null&&me(f),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||ei(a,u)){if(s=u&-u,s===a.callbackPriority)return s;switch(f!==null&&me(f),gs(u)){case 2:case 8:u=ot;break;case 32:u=Dt;break;case 268435456:u=hn;break;default:u=Dt}return f=WS.bind(null,a),u=Xe(u,f),a.callbackPriority=s,a.callbackNode=u,s}return f!==null&&f!==null&&me(f),a.callbackPriority=2,a.callbackNode=null,2}function WS(a,s){if(rr!==0&&rr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(Vh()&&a.callbackNode!==u)return null;var f=It;return f=Aa(a,a===en?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f===0?null:(IS(a,f,s),KS(a,Ie()),a.callbackNode!=null&&a.callbackNode===u?WS.bind(null,a):null)}function YS(a,s){if(Vh())return null;IS(a,s,!0)}function R4(){V4(function(){(Ht&6)!==0?Xe(mt,C4):GS()})}function iy(){return Ho===0&&(Ho=Ca()),Ho}function XS(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:_l(""+a)}function QS(a,s){var u=s.ownerDocument.createElement("input");return u.name=s.name,u.value=s.value,a.id&&u.setAttribute("form",a.id),s.parentNode.insertBefore(u,s),a=new FormData(a),u.parentNode.removeChild(u),a}function N4(a,s,u,f,v){if(s==="submit"&&u&&u.stateNode===v){var b=XS((v[Te]||null).action),V=f.submitter;V&&(s=(s=V[Te]||null)?XS(s.formAction):V.getAttribute("formAction"),s!==null&&(b=s,V=null));var $=new Sl("action","action",null,f,v);a.push({event:$,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Ho!==0){var ee=V?QS(v,V):new FormData(v);Tv(u,{pending:!0,data:ee,method:v.method,action:b},null,ee)}}else typeof b=="function"&&($.preventDefault(),ee=V?QS(v,V):new FormData(v),Tv(u,{pending:!0,data:ee,method:v.method,action:b},b,ee))},currentTarget:v}]})}}for(var ay=0;ay<Hg.length;ay++){var sy=Hg[ay],I4=sy.toLowerCase(),O4=sy[0].toUpperCase()+sy.slice(1);Ai(I4,"on"+O4)}Ai(I_,"onAnimationEnd"),Ai(O_,"onAnimationIteration"),Ai(M_,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(WD,"onTransitionRun"),Ai(YD,"onTransitionStart"),Ai(XD,"onTransitionCancel"),Ai(P_,"onTransitionEnd"),yr("onMouseEnter",["mouseout","mouseover"]),yr("onMouseLeave",["mouseout","mouseover"]),yr("onPointerEnter",["pointerout","pointerover"]),yr("onPointerLeave",["pointerout","pointerover"]),kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fc));function ZS(a,s){s=(s&4)!==0;for(var u=0;u<a.length;u++){var f=a[u],v=f.event;f=f.listeners;e:{var b=void 0;if(s)for(var V=f.length-1;0<=V;V--){var $=f[V],ee=$.instance,de=$.currentTarget;if($=$.listener,ee!==b&&v.isPropagationStopped())break e;b=$,v.currentTarget=de;try{b(v)}catch(ye){Ch(ye)}v.currentTarget=null,b=ee}else for(V=0;V<f.length;V++){if($=f[V],ee=$.instance,de=$.currentTarget,$=$.listener,ee!==b&&v.isPropagationStopped())break e;b=$,v.currentTarget=de;try{b(v)}catch(ye){Ch(ye)}v.currentTarget=null,b=ee}}}}function _t(a,s){var u=s[Ge];u===void 0&&(u=s[Ge]=new Set);var f=a+"__bubble";u.has(f)||(JS(s,a,2,!1),u.add(f))}function oy(a,s,u){var f=0;s&&(f|=4),JS(u,a,f,s)}var Bh="_reactListening"+Math.random().toString(36).slice(2);function ly(a){if(!a[Bh]){a[Bh]=!0,yt.forEach(function(u){u!=="selectionchange"&&(M4.has(u)||oy(u,!1,a),oy(u,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Bh]||(s[Bh]=!0,oy("selectionchange",!1,s))}}function JS(a,s,u,f){switch(ST(s)){case 2:var v=aj;break;case 8:v=sj;break;default:v=_y}u=v.bind(null,s,u,a),v=void 0,!si||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),f?v!==void 0?a.addEventListener(s,u,{capture:!0,passive:v}):a.addEventListener(s,u,!0):v!==void 0?a.addEventListener(s,u,{passive:v}):a.addEventListener(s,u,!1)}function uy(a,s,u,f,v){var b=f;if((s&1)===0&&(s&2)===0&&f!==null)e:for(;;){if(f===null)return;var V=f.tag;if(V===3||V===4){var $=f.stateNode.containerInfo;if($===v)break;if(V===4)for(V=f.return;V!==null;){var ee=V.tag;if((ee===3||ee===4)&&V.stateNode.containerInfo===v)return;V=V.return}for(;$!==null;){if(V=it($),V===null)return;if(ee=V.tag,ee===5||ee===6||ee===26||ee===27){f=b=V;continue e}$=$.parentNode}}f=f.return}Hf(function(){var de=b,ye=ai(u),we=[];e:{var fe=D_.get(a);if(fe!==void 0){var he=Sl,at=a;switch(a){case"keypress":if(Wi(u)===0)break e;case"keydown":case"keyup":he=Nl;break;case"focusin":at="focus",he=Al;break;case"focusout":at="blur",he=Al;break;case"beforeblur":case"afterblur":he=Al;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=oi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=jg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=Qf;break;case I_:case O_:case M_:he=Cl;break;case P_:he=Jf;break;case"scroll":case"scrollend":he=$f;break;case"wheel":he=Il;break;case"copy":case"cut":case"paste":he=Rl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=fc;break;case"toggle":case"beforetoggle":he=th}var Qe=(s&4)!==0,Wt=!Qe&&(a==="scroll"||a==="scrollend"),ie=Qe?fe!==null?fe+"Capture":null:fe;Qe=[];for(var re=de,ue;re!==null;){var be=re;if(ue=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||ue===null||ie===null||(be=_o(re,ie),be!=null&&Qe.push(Hc(re,be,ue))),Wt)break;re=re.return}0<Qe.length&&(fe=new he(fe,at,null,u,ye),we.push({event:fe,listeners:Qe}))}}if((s&7)===0){e:{if(fe=a==="mouseover"||a==="pointerover",he=a==="mouseout"||a==="pointerout",fe&&u!==Ia&&(at=u.relatedTarget||u.fromElement)&&(it(at)||at[De]))break e;if((he||fe)&&(fe=ye.window===ye?ye:(fe=ye.ownerDocument)?fe.defaultView||fe.parentWindow:window,he?(at=u.relatedTarget||u.toElement,he=de,at=at?it(at):null,at!==null&&(Wt=o(at),Qe=at.tag,at!==Wt||Qe!==5&&Qe!==27&&Qe!==6)&&(at=null)):(he=null,at=de),he!==at)){if(Qe=oi,be="onMouseLeave",ie="onMouseEnter",re="mouse",(a==="pointerout"||a==="pointerover")&&(Qe=fc,be="onPointerLeave",ie="onPointerEnter",re="pointer"),Wt=he==null?fe:Ut(he),ue=at==null?fe:Ut(at),fe=new Qe(be,re+"leave",he,u,ye),fe.target=Wt,fe.relatedTarget=ue,be=null,it(ye)===de&&(Qe=new Qe(ie,re+"enter",at,u,ye),Qe.target=ue,Qe.relatedTarget=Wt,be=Qe),Wt=be,he&&at)t:{for(Qe=he,ie=at,re=0,ue=Qe;ue;ue=tu(ue))re++;for(ue=0,be=ie;be;be=tu(be))ue++;for(;0<re-ue;)Qe=tu(Qe),re--;for(;0<ue-re;)ie=tu(ie),ue--;for(;re--;){if(Qe===ie||ie!==null&&Qe===ie.alternate)break t;Qe=tu(Qe),ie=tu(ie)}Qe=null}else Qe=null;he!==null&&eT(we,fe,he,Qe,!1),at!==null&&Wt!==null&&eT(we,Wt,at,Qe,!0)}}e:{if(fe=de?Ut(de):window,he=fe.nodeName&&fe.nodeName.toLowerCase(),he==="select"||he==="input"&&fe.type==="file")var ke=b_;else if(Vn(fe))if(w_)ke=qD;else{ke=HD;var bt=FD}else he=fe.nodeName,!he||he.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?de&&ac(de.elementType)&&(ke=b_):ke=$D;if(ke&&(ke=ke(a,de))){ja(we,ke,u,ye);break e}bt&&bt(a,fe,de),a==="focusout"&&de&&fe.type==="number"&&de.memoizedProps.value!=null&&ys(fe,"number",fe.value)}switch(bt=de?Ut(de):window,a){case"focusin":(Vn(bt)||bt.contentEditable==="true")&&(Ol=bt,zg=de,pc=null);break;case"focusout":pc=zg=Ol=null;break;case"mousedown":Bg=!0;break;case"contextmenu":case"mouseup":case"dragend":Bg=!1,R_(we,u,ye);break;case"selectionchange":if(KD)break;case"keydown":case"keyup":R_(we,u,ye)}var Fe;if(Qi)e:{switch(a){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else Rt?pe(a,u)&&(et="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(et="onCompositionStart");et&&(D&&u.locale!=="ko"&&(Rt||et!=="onCompositionStart"?et==="onCompositionEnd"&&Rt&&(Fe=oc()):(Ki=ye,bs="value"in Ki?Ki.value:Ki.textContent,Rt=!0)),bt=Fh(de,et),0<bt.length&&(et=new cc(et,a,null,u,ye),we.push({event:et,listeners:bt}),Fe?et.data=Fe:(Fe=Ae(u),Fe!==null&&(et.data=Fe)))),(Fe=_?Ln(a,u):Nt(a,u))&&(et=Fh(de,"onBeforeInput"),0<et.length&&(bt=new cc("onBeforeInput","beforeinput",null,u,ye),we.push({event:bt,listeners:et}),bt.data=Fe)),N4(we,a,de,u,ye)}ZS(we,s)})}function Hc(a,s,u){return{instance:a,listener:s,currentTarget:u}}function Fh(a,s){for(var u=s+"Capture",f=[];a!==null;){var v=a,b=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||b===null||(v=_o(a,u),v!=null&&f.unshift(Hc(a,v,b)),v=_o(a,s),v!=null&&f.push(Hc(a,v,b))),a.tag===3)return f;a=a.return}return[]}function tu(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function eT(a,s,u,f,v){for(var b=s._reactName,V=[];u!==null&&u!==f;){var $=u,ee=$.alternate,de=$.stateNode;if($=$.tag,ee!==null&&ee===f)break;$!==5&&$!==26&&$!==27||de===null||(ee=de,v?(de=_o(u,b),de!=null&&V.unshift(Hc(u,de,ee))):v||(de=_o(u,b),de!=null&&V.push(Hc(u,de,ee)))),u=u.return}V.length!==0&&a.push({event:s,listeners:V})}var P4=/\r\n?/g,D4=/\u0000|\uFFFD/g;function tT(a){return(typeof a=="string"?a:""+a).replace(P4,`
`).replace(D4,"")}function nT(a,s){return s=tT(s),tT(a)===s}function Hh(){}function Kt(a,s,u,f,v,b){switch(u){case"children":typeof f=="string"?s==="body"||s==="textarea"&&f===""||ii(a,f):(typeof f=="number"||typeof f=="bigint")&&s!=="body"&&ii(a,""+f);break;case"className":br(a,"class",f);break;case"tabIndex":br(a,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":br(a,u,f);break;case"style":ic(a,f,b);break;case"data":if(s!=="object"){br(a,"data",f);break}case"src":case"href":if(f===""&&(s!=="a"||u!=="href")){a.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(u);break}f=_l(""+f),a.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(s!=="input"&&Kt(a,s,"name",v.name,v,null),Kt(a,s,"formEncType",v.formEncType,v,null),Kt(a,s,"formMethod",v.formMethod,v,null),Kt(a,s,"formTarget",v.formTarget,v,null)):(Kt(a,s,"encType",v.encType,v,null),Kt(a,s,"method",v.method,v,null),Kt(a,s,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(u);break}f=_l(""+f),a.setAttribute(u,f);break;case"onClick":f!=null&&(a.onclick=Hh);break;case"onScroll":f!=null&&_t("scroll",a);break;case"onScrollEnd":f!=null&&_t("scrollend",a);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"multiple":a.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":a.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){a.removeAttribute("xlink:href");break}u=_l(""+f),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,""+f):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":f===!0?a.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,f):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?a.setAttribute(u,f):a.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?a.removeAttribute(u):a.setAttribute(u,f);break;case"popover":_t("beforetoggle",a),_t("toggle",a),ur(a,"popover",f);break;case"xlinkActuate":lt(a,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":lt(a,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":lt(a,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":lt(a,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":lt(a,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":lt(a,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":lt(a,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":lt(a,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":lt(a,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":ur(a,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Pg.get(u)||u,ur(a,u,f))}}function cy(a,s,u,f,v,b){switch(u){case"style":ic(a,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(v.children!=null)throw Error(r(60));a.innerHTML=u}}break;case"children":typeof f=="string"?ii(a,f):(typeof f=="number"||typeof f=="bigint")&&ii(a,""+f);break;case"onScroll":f!=null&&_t("scroll",a);break;case"onScrollEnd":f!=null&&_t("scrollend",a);break;case"onClick":f!=null&&(a.onclick=Hh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ni.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),s=u.slice(2,v?u.length-7:void 0),b=a[Te]||null,b=b!=null?b[u]:null,typeof b=="function"&&a.removeEventListener(s,b,v),typeof f=="function")){typeof b!="function"&&b!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(s,f,v);break e}u in a?a[u]=f:f===!0?a.setAttribute(u,""):ur(a,u,f)}}}function ir(a,s,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_t("error",a),_t("load",a);var f=!1,v=!1,b;for(b in u)if(u.hasOwnProperty(b)){var V=u[b];if(V!=null)switch(b){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Kt(a,s,b,V,u,null)}}v&&Kt(a,s,"srcSet",u.srcSet,u,null),f&&Kt(a,s,"src",u.src,u,null);return;case"input":_t("invalid",a);var $=b=V=v=null,ee=null,de=null;for(f in u)if(u.hasOwnProperty(f)){var ye=u[f];if(ye!=null)switch(f){case"name":v=ye;break;case"type":V=ye;break;case"checked":ee=ye;break;case"defaultChecked":de=ye;break;case"value":b=ye;break;case"defaultValue":$=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,s));break;default:Kt(a,s,f,ye,u,null)}}bo(a,b,$,ee,de,V,v,!1),xl(a);return;case"select":_t("invalid",a),f=V=b=null;for(v in u)if(u.hasOwnProperty(v)&&($=u[v],$!=null))switch(v){case"value":b=$;break;case"defaultValue":V=$;break;case"multiple":f=$;default:Kt(a,s,v,$,u,null)}s=b,u=V,a.multiple=!!f,s!=null?Na(a,!!f,s,!1):u!=null&&Na(a,!!f,u,!0);return;case"textarea":_t("invalid",a),b=v=f=null;for(V in u)if(u.hasOwnProperty(V)&&($=u[V],$!=null))switch(V){case"value":f=$;break;case"defaultValue":v=$;break;case"children":b=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(r(91));break;default:Kt(a,s,V,$,u,null)}wo(a,f,v,b),xl(a);return;case"option":for(ee in u)if(u.hasOwnProperty(ee)&&(f=u[ee],f!=null))switch(ee){case"selected":a.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Kt(a,s,ee,f,u,null)}return;case"dialog":_t("beforetoggle",a),_t("toggle",a),_t("cancel",a),_t("close",a);break;case"iframe":case"object":_t("load",a);break;case"video":case"audio":for(f=0;f<Fc.length;f++)_t(Fc[f],a);break;case"image":_t("error",a),_t("load",a);break;case"details":_t("toggle",a);break;case"embed":case"source":case"link":_t("error",a),_t("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(de in u)if(u.hasOwnProperty(de)&&(f=u[de],f!=null))switch(de){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Kt(a,s,de,f,u,null)}return;default:if(ac(s)){for(ye in u)u.hasOwnProperty(ye)&&(f=u[ye],f!==void 0&&cy(a,s,ye,f,u,void 0));return}}for($ in u)u.hasOwnProperty($)&&(f=u[$],f!=null&&Kt(a,s,$,f,u,null))}function j4(a,s,u,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,b=null,V=null,$=null,ee=null,de=null,ye=null;for(he in u){var we=u[he];if(u.hasOwnProperty(he)&&we!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":ee=we;default:f.hasOwnProperty(he)||Kt(a,s,he,null,f,we)}}for(var fe in f){var he=f[fe];if(we=u[fe],f.hasOwnProperty(fe)&&(he!=null||we!=null))switch(fe){case"type":b=he;break;case"name":v=he;break;case"checked":de=he;break;case"defaultChecked":ye=he;break;case"value":V=he;break;case"defaultValue":$=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,s));break;default:he!==we&&Kt(a,s,fe,he,f,we)}}Vr(a,V,$,ee,de,ye,b,v);return;case"select":he=V=$=fe=null;for(b in u)if(ee=u[b],u.hasOwnProperty(b)&&ee!=null)switch(b){case"value":break;case"multiple":he=ee;default:f.hasOwnProperty(b)||Kt(a,s,b,null,f,ee)}for(v in f)if(b=f[v],ee=u[v],f.hasOwnProperty(v)&&(b!=null||ee!=null))switch(v){case"value":fe=b;break;case"defaultValue":$=b;break;case"multiple":V=b;default:b!==ee&&Kt(a,s,v,b,f,ee)}s=$,u=V,f=he,fe!=null?Na(a,!!u,fe,!1):!!f!=!!u&&(s!=null?Na(a,!!u,s,!0):Na(a,!!u,u?[]:"",!1));return;case"textarea":he=fe=null;for($ in u)if(v=u[$],u.hasOwnProperty($)&&v!=null&&!f.hasOwnProperty($))switch($){case"value":break;case"children":break;default:Kt(a,s,$,null,f,v)}for(V in f)if(v=f[V],b=u[V],f.hasOwnProperty(V)&&(v!=null||b!=null))switch(V){case"value":fe=v;break;case"defaultValue":he=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==b&&Kt(a,s,V,v,f,b)}qt(a,fe,he);return;case"option":for(var at in u)if(fe=u[at],u.hasOwnProperty(at)&&fe!=null&&!f.hasOwnProperty(at))switch(at){case"selected":a.selected=!1;break;default:Kt(a,s,at,null,f,fe)}for(ee in f)if(fe=f[ee],he=u[ee],f.hasOwnProperty(ee)&&fe!==he&&(fe!=null||he!=null))switch(ee){case"selected":a.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:Kt(a,s,ee,fe,f,he)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in u)fe=u[Qe],u.hasOwnProperty(Qe)&&fe!=null&&!f.hasOwnProperty(Qe)&&Kt(a,s,Qe,null,f,fe);for(de in f)if(fe=f[de],he=u[de],f.hasOwnProperty(de)&&fe!==he&&(fe!=null||he!=null))switch(de){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,s));break;default:Kt(a,s,de,fe,f,he)}return;default:if(ac(s)){for(var Wt in u)fe=u[Wt],u.hasOwnProperty(Wt)&&fe!==void 0&&!f.hasOwnProperty(Wt)&&cy(a,s,Wt,void 0,f,fe);for(ye in f)fe=f[ye],he=u[ye],!f.hasOwnProperty(ye)||fe===he||fe===void 0&&he===void 0||cy(a,s,ye,fe,f,he);return}}for(var ie in u)fe=u[ie],u.hasOwnProperty(ie)&&fe!=null&&!f.hasOwnProperty(ie)&&Kt(a,s,ie,null,f,fe);for(we in f)fe=f[we],he=u[we],!f.hasOwnProperty(we)||fe===he||fe==null&&he==null||Kt(a,s,we,fe,f,he)}var dy=null,fy=null;function $h(a){return a.nodeType===9?a:a.ownerDocument}function rT(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iT(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function hy(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var my=null;function k4(){var a=window.event;return a&&a.type==="popstate"?a===my?!1:(my=a,!0):(my=null,!1)}var aT=typeof setTimeout=="function"?setTimeout:void 0,L4=typeof clearTimeout=="function"?clearTimeout:void 0,sT=typeof Promise=="function"?Promise:void 0,V4=typeof queueMicrotask=="function"?queueMicrotask:typeof sT<"u"?function(a){return sT.resolve(null).then(a).catch(U4)}:aT;function U4(a){setTimeout(function(){throw a})}function js(a){return a==="head"}function oT(a,s){var u=s,f=0,v=0;do{var b=u.nextSibling;if(a.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"){if(0<f&&8>f){u=f;var V=a.ownerDocument;if(u&1&&$c(V.documentElement),u&2&&$c(V.body),u&4)for(u=V.head,$c(u),V=u.firstChild;V;){var $=V.nextSibling,ee=V.nodeName;V[Je]||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&V.rel.toLowerCase()==="stylesheet"||u.removeChild(V),V=$}}if(v===0){a.removeChild(b),Zc(s);return}v--}else u==="$"||u==="$?"||u==="$!"?v++:f=u.charCodeAt(0)-48;else f=0;u=b}while(u);Zc(s)}function py(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var u=s;switch(s=s.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":py(u),Ke(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function z4(a,s,u,f){for(;a.nodeType===1;){var v=u;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!f&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(f){if(!a[Je])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(b=a.getAttribute("rel"),b==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(b!==v.rel||a.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||a.getAttribute("title")!==(v.title==null?null:v.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(b=a.getAttribute("src"),(b!==(v.src==null?null:v.src)||a.getAttribute("type")!==(v.type==null?null:v.type)||a.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&b&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var b=v.name==null?null:""+v.name;if(v.type==="hidden"&&a.getAttribute("name")===b)return a}else return a;if(a=Ri(a.nextSibling),a===null)break}return null}function B4(a,s,u){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Ri(a.nextSibling),a===null))return null;return a}function gy(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function F4(a,s){var u=a.ownerDocument;if(a.data!=="$?"||u.readyState==="complete")s();else{var f=function(){s(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),a._reactRetry=f}}function Ri(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return a}var vy=null;function lT(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return a;s--}else u==="/$"&&s++}a=a.previousSibling}return null}function uT(a,s,u){switch(s=$h(u),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function $c(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);Ke(a)}var mi=new Map,cT=new Set;function qh(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Wa=T.d;T.d={f:H4,r:$4,D:q4,C:G4,L:K4,m:W4,X:X4,S:Y4,M:Q4};function H4(){var a=Wa.f(),s=kh();return a||s}function $4(a){var s=wt(a);s!==null&&s.tag===5&&s.type==="form"?I1(s):Wa.r(a)}var nu=typeof document>"u"?null:document;function dT(a,s,u){var f=nu;if(f&&typeof s=="string"&&s){var v=Rn(s);v='link[rel="'+a+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),cT.has(v)||(cT.add(v),a={rel:a,crossOrigin:u,href:s},f.querySelector(v)===null&&(s=f.createElement("link"),ir(s,"link",a),Ct(s),f.head.appendChild(s)))}}function q4(a){Wa.D(a),dT("dns-prefetch",a,null)}function G4(a,s){Wa.C(a,s),dT("preconnect",a,s)}function K4(a,s,u){Wa.L(a,s,u);var f=nu;if(f&&a&&s){var v='link[rel="preload"][as="'+Rn(s)+'"]';s==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Rn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Rn(u.imageSizes)+'"]')):v+='[href="'+Rn(a)+'"]';var b=v;switch(s){case"style":b=ru(a);break;case"script":b=iu(a)}mi.has(b)||(a=p({rel:"preload",href:s==="image"&&u&&u.imageSrcSet?void 0:a,as:s},u),mi.set(b,a),f.querySelector(v)!==null||s==="style"&&f.querySelector(qc(b))||s==="script"&&f.querySelector(Gc(b))||(s=f.createElement("link"),ir(s,"link",a),Ct(s),f.head.appendChild(s)))}}function W4(a,s){Wa.m(a,s);var u=nu;if(u&&a){var f=s&&typeof s.as=="string"?s.as:"script",v='link[rel="modulepreload"][as="'+Rn(f)+'"][href="'+Rn(a)+'"]',b=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=iu(a)}if(!mi.has(b)&&(a=p({rel:"modulepreload",href:a},s),mi.set(b,a),u.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Gc(b)))return}f=u.createElement("link"),ir(f,"link",a),Ct(f),u.head.appendChild(f)}}}function Y4(a,s,u){Wa.S(a,s,u);var f=nu;if(f&&a){var v=Mt(f).hoistableStyles,b=ru(a);s=s||"default";var V=v.get(b);if(!V){var $={loading:0,preload:null};if(V=f.querySelector(qc(b)))$.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":s},u),(u=mi.get(b))&&yy(a,u);var ee=V=f.createElement("link");Ct(ee),ir(ee,"link",a),ee._p=new Promise(function(de,ye){ee.onload=de,ee.onerror=ye}),ee.addEventListener("load",function(){$.loading|=1}),ee.addEventListener("error",function(){$.loading|=2}),$.loading|=4,Gh(V,s,f)}V={type:"stylesheet",instance:V,count:1,state:$},v.set(b,V)}}}function X4(a,s){Wa.X(a,s);var u=nu;if(u&&a){var f=Mt(u).hoistableScripts,v=iu(a),b=f.get(v);b||(b=u.querySelector(Gc(v)),b||(a=p({src:a,async:!0},s),(s=mi.get(v))&&by(a,s),b=u.createElement("script"),Ct(b),ir(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(v,b))}}function Q4(a,s){Wa.M(a,s);var u=nu;if(u&&a){var f=Mt(u).hoistableScripts,v=iu(a),b=f.get(v);b||(b=u.querySelector(Gc(v)),b||(a=p({src:a,async:!0,type:"module"},s),(s=mi.get(v))&&by(a,s),b=u.createElement("script"),Ct(b),ir(b,"link",a),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(v,b))}}function fT(a,s,u,f){var v=(v=le.current)?qh(v):null;if(!v)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(s=ru(u.href),u=Mt(v).hoistableStyles,f=u.get(s),f||(f={type:"style",instance:null,count:0,state:null},u.set(s,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=ru(u.href);var b=Mt(v).hoistableStyles,V=b.get(a);if(V||(v=v.ownerDocument||v,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(a,V),(b=v.querySelector(qc(a)))&&!b._p&&(V.instance=b,V.state.loading=5),mi.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},mi.set(a,u),b||Z4(v,a,u,V.state))),s&&f===null)throw Error(r(528,""));return V}if(s&&f!==null)throw Error(r(529,""));return null;case"script":return s=u.async,u=u.src,typeof u=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=iu(u),u=Mt(v).hoistableScripts,f=u.get(s),f||(f={type:"script",instance:null,count:0,state:null},u.set(s,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function ru(a){return'href="'+Rn(a)+'"'}function qc(a){return'link[rel="stylesheet"]['+a+"]"}function hT(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function Z4(a,s,u,f){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?f.loading=1:(s=a.createElement("link"),f.preload=s,s.addEventListener("load",function(){return f.loading|=1}),s.addEventListener("error",function(){return f.loading|=2}),ir(s,"link",u),Ct(s),a.head.appendChild(s))}function iu(a){return'[src="'+Rn(a)+'"]'}function Gc(a){return"script[async]"+a}function mT(a,s,u){if(s.count++,s.instance===null)switch(s.type){case"style":var f=a.querySelector('style[data-href~="'+Rn(u.href)+'"]');if(f)return s.instance=f,Ct(f),f;var v=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(a.ownerDocument||a).createElement("style"),Ct(f),ir(f,"style",v),Gh(f,u.precedence,a),s.instance=f;case"stylesheet":v=ru(u.href);var b=a.querySelector(qc(v));if(b)return s.state.loading|=4,s.instance=b,Ct(b),b;f=hT(u),(v=mi.get(v))&&yy(f,v),b=(a.ownerDocument||a).createElement("link"),Ct(b);var V=b;return V._p=new Promise(function($,ee){V.onload=$,V.onerror=ee}),ir(b,"link",f),s.state.loading|=4,Gh(b,u.precedence,a),s.instance=b;case"script":return b=iu(u.src),(v=a.querySelector(Gc(b)))?(s.instance=v,Ct(v),v):(f=u,(v=mi.get(b))&&(f=p({},u),by(f,v)),a=a.ownerDocument||a,v=a.createElement("script"),Ct(v),ir(v,"link",f),a.head.appendChild(v),s.instance=v);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(f=s.instance,s.state.loading|=4,Gh(f,u.precedence,a));return s.instance}function Gh(a,s,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,b=v,V=0;V<f.length;V++){var $=f[V];if($.dataset.precedence===s)b=$;else if(b!==v)break}b?b.parentNode.insertBefore(a,b.nextSibling):(s=u.nodeType===9?u.head:u,s.insertBefore(a,s.firstChild))}function yy(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function by(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var Kh=null;function pT(a,s,u){if(Kh===null){var f=new Map,v=Kh=new Map;v.set(u,f)}else v=Kh,f=v.get(u),f||(f=new Map,v.set(u,f));if(f.has(a))return f;for(f.set(a,null),u=u.getElementsByTagName(a),v=0;v<u.length;v++){var b=u[v];if(!(b[Je]||b[xe]||a==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var V=b.getAttribute(s)||"";V=a+V;var $=f.get(V);$?$.push(b):f.set(V,[b])}}return f}function gT(a,s,u){a=a.ownerDocument||a,a.head.insertBefore(u,s==="title"?a.querySelector("head > title"):null)}function J4(a,s,u){if(u===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function vT(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Kc=null;function ej(){}function tj(a,s,u){if(Kc===null)throw Error(r(475));var f=Kc;if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var v=ru(u.href),b=a.querySelector(qc(v));if(b){a=b._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(f.count++,f=Wh.bind(f),a.then(f,f)),s.state.loading|=4,s.instance=b,Ct(b);return}b=a.ownerDocument||a,u=hT(u),(v=mi.get(v))&&yy(u,v),b=b.createElement("link"),Ct(b);var V=b;V._p=new Promise(function($,ee){V.onload=$,V.onerror=ee}),ir(b,"link",u),s.instance=b}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(f.count++,s=Wh.bind(f),a.addEventListener("load",s),a.addEventListener("error",s))}}function nj(){if(Kc===null)throw Error(r(475));var a=Kc;return a.stylesheets&&a.count===0&&wy(a,a.stylesheets),0<a.count?function(s){var u=setTimeout(function(){if(a.stylesheets&&wy(a,a.stylesheets),a.unsuspend){var f=a.unsuspend;a.unsuspend=null,f()}},6e4);return a.unsuspend=s,function(){a.unsuspend=null,clearTimeout(u)}}:null}function Wh(){if(this.count--,this.count===0){if(this.stylesheets)wy(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Yh=null;function wy(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Yh=new Map,s.forEach(rj,a),Yh=null,Wh.call(a))}function rj(a,s){if(!(s.state.loading&4)){var u=Yh.get(a);if(u)var f=u.get(null);else{u=new Map,Yh.set(a,u);for(var v=a.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<v.length;b++){var V=v[b];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(u.set(V.dataset.precedence,V),f=V)}f&&u.set(null,f)}v=s.instance,V=v.getAttribute("data-precedence"),b=u.get(V)||f,b===f&&u.set(null,v),u.set(V,v),this.count++,f=Wh.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),b?b.parentNode.insertBefore(v,b.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(v,a.firstChild)),s.state.loading|=4}}var Wc={$$typeof:H,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function ij(a,s,u,f,v,b,V,$){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.hiddenUpdates=ti(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=b,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function yT(a,s,u,f,v,b,V,$,ee,de,ye,we){return a=new ij(a,s,u,V,$,ee,de,we),s=1,b===!0&&(s|=24),b=zr(3,null,null,s),a.current=b,b.stateNode=a,s=tv(),s.refCount++,a.pooledCache=s,s.refCount++,b.memoizedState={element:f,isDehydrated:u,cache:s},av(b),a}function bT(a){return a?(a=jl,a):jl}function wT(a,s,u,f,v,b){v=bT(v),f.context===null?f.context=v:f.pendingContext=v,f=_s(s),f.payload={element:u},b=b===void 0?null:b,b!==null&&(f.callback=b),u=Ss(a,f,s),u!==null&&(qr(u,a,s),Tc(u,a,s))}function xT(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<s?u:s}}function xy(a,s){xT(a,s),(a=a.alternate)&&xT(a,s)}function _T(a){if(a.tag===13){var s=Dl(a,67108864);s!==null&&qr(s,a,67108864),xy(a,67108864)}}var Xh=!0;function aj(a,s,u,f){var v=B.T;B.T=null;var b=T.p;try{T.p=2,_y(a,s,u,f)}finally{T.p=b,B.T=v}}function sj(a,s,u,f){var v=B.T;B.T=null;var b=T.p;try{T.p=8,_y(a,s,u,f)}finally{T.p=b,B.T=v}}function _y(a,s,u,f){if(Xh){var v=Sy(f);if(v===null)uy(a,s,f,Qh,u),TT(a,f);else if(lj(v,a,s,u,f))f.stopPropagation();else if(TT(a,f),s&4&&-1<oj.indexOf(a)){for(;v!==null;){var b=wt(v);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var V=jr(b.pendingLanes);if(V!==0){var $=b;for($.pendingLanes|=2,$.entangledLanes|=2;V;){var ee=1<<31-Jt(V);$.entanglements[1]|=ee,V&=~ee}ra(b),(Ht&6)===0&&(Dh=Ie()+500,Bc(0))}}break;case 13:$=Dl(b,2),$!==null&&qr($,b,2),kh(),xy(b,2)}if(b=Sy(f),b===null&&uy(a,s,f,Qh,u),b===v)break;v=b}v!==null&&f.stopPropagation()}else uy(a,s,f,null,u)}}function Sy(a){return a=ai(a),Ty(a)}var Qh=null;function Ty(a){if(Qh=null,a=it(a),a!==null){var s=o(a);if(s===null)a=null;else{var u=s.tag;if(u===13){if(a=l(s),a!==null)return a;a=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return Qh=a,null}function ST(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ze()){case mt:return 2;case ot:return 8;case Dt:case dt:return 32;case hn:return 268435456;default:return 32}default:return 32}}var Ey=!1,ks=null,Ls=null,Vs=null,Yc=new Map,Xc=new Map,Us=[],oj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function TT(a,s){switch(a){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":Yc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xc.delete(s.pointerId)}}function Qc(a,s,u,f,v,b){return a===null||a.nativeEvent!==b?(a={blockedOn:s,domEventName:u,eventSystemFlags:f,nativeEvent:b,targetContainers:[v]},s!==null&&(s=wt(s),s!==null&&_T(s)),a):(a.eventSystemFlags|=f,s=a.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),a)}function lj(a,s,u,f,v){switch(s){case"focusin":return ks=Qc(ks,a,s,u,f,v),!0;case"dragenter":return Ls=Qc(Ls,a,s,u,f,v),!0;case"mouseover":return Vs=Qc(Vs,a,s,u,f,v),!0;case"pointerover":var b=v.pointerId;return Yc.set(b,Qc(Yc.get(b)||null,a,s,u,f,v)),!0;case"gotpointercapture":return b=v.pointerId,Xc.set(b,Qc(Xc.get(b)||null,a,s,u,f,v)),!0}return!1}function ET(a){var s=it(a.target);if(s!==null){var u=o(s);if(u!==null){if(s=u.tag,s===13){if(s=l(u),s!==null){a.blockedOn=s,se(a.priority,function(){if(u.tag===13){var f=$r();f=Hi(f);var v=Dl(u,f);v!==null&&qr(v,u,f),xy(u,f)}});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Zh(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var u=Sy(a.nativeEvent);if(u===null){u=a.nativeEvent;var f=new u.constructor(u.type,u);Ia=f,u.target.dispatchEvent(f),Ia=null}else return s=wt(u),s!==null&&_T(s),a.blockedOn=u,!1;s.shift()}return!0}function AT(a,s,u){Zh(a)&&u.delete(s)}function uj(){Ey=!1,ks!==null&&Zh(ks)&&(ks=null),Ls!==null&&Zh(Ls)&&(Ls=null),Vs!==null&&Zh(Vs)&&(Vs=null),Yc.forEach(AT),Xc.forEach(AT)}function Jh(a,s){a.blockedOn===s&&(a.blockedOn=null,Ey||(Ey=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,uj)))}var em=null;function CT(a){em!==a&&(em=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){em===a&&(em=null);for(var s=0;s<a.length;s+=3){var u=a[s],f=a[s+1],v=a[s+2];if(typeof f!="function"){if(Ty(f||u)===null)continue;break}var b=wt(u);b!==null&&(a.splice(s,3),s-=3,Tv(b,{pending:!0,data:v,method:u.method,action:f},f,v))}}))}function Zc(a){function s(ee){return Jh(ee,a)}ks!==null&&Jh(ks,a),Ls!==null&&Jh(Ls,a),Vs!==null&&Jh(Vs,a),Yc.forEach(s),Xc.forEach(s);for(var u=0;u<Us.length;u++){var f=Us[u];f.blockedOn===a&&(f.blockedOn=null)}for(;0<Us.length&&(u=Us[0],u.blockedOn===null);)ET(u),u.blockedOn===null&&Us.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var v=u[f],b=u[f+1],V=v[Te]||null;if(typeof b=="function")V||CT(u);else if(V){var $=null;if(b&&b.hasAttribute("formAction")){if(v=b,V=b[Te]||null)$=V.formAction;else if(Ty(v)!==null)continue}else $=V.action;typeof $=="function"?u[f+1]=$:(u.splice(f,3),f-=3),CT(u)}}}function Ay(a){this._internalRoot=a}tm.prototype.render=Ay.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var u=s.current,f=$r();wT(u,f,a,s,null,null)},tm.prototype.unmount=Ay.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;wT(a.current,2,null,a,null,null),kh(),s[De]=null}};function tm(a){this._internalRoot=a}tm.prototype.unstable_scheduleHydration=function(a){if(a){var s=te();a={blockedOn:null,target:a,priority:s};for(var u=0;u<Us.length&&s!==0&&s<Us[u].priority;u++);Us.splice(u,0,a),u===0&&ET(a)}};var RT=e.version;if(RT!=="19.1.0")throw Error(r(527,RT,"19.1.0"));T.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=d(s),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var cj={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nm.isDisabled&&nm.supportsFiber)try{pt=nm.inject(cj),qe=nm}catch{}}return ed.createRoot=function(a,s){if(!i(a))throw Error(r(299));var u=!1,f="",v=$1,b=q1,V=G1,$=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(b=s.onCaughtError),s.onRecoverableError!==void 0&&(V=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&($=s.unstable_transitionCallbacks)),s=yT(a,1,!1,null,null,u,f,v,b,V,$,null),a[De]=s.current,ly(a),new Ay(s)},ed.hydrateRoot=function(a,s,u){if(!i(a))throw Error(r(299));var f=!1,v="",b=$1,V=q1,$=G1,ee=null,de=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(V=u.onCaughtError),u.onRecoverableError!==void 0&&($=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(ee=u.unstable_transitionCallbacks),u.formState!==void 0&&(de=u.formState)),s=yT(a,1,!0,s,u??null,f,v,b,V,$,ee,de),s.context=bT(null),u=s.current,f=$r(),f=Hi(f),v=_s(f),v.callback=null,Ss(u,v,f),u=f,s.current.lanes=u,Ti(s,u),ra(s),a[De]=s.current,ly(a),new tm(s)},ed.version="19.1.0",ed}var UT;function xj(){if(UT)return Ny.exports;UT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ny.exports=wj(),Ny.exports}var _j=xj();const Sj=()=>{};var zT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Tj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],l=t[n++],c=t[n++],d=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},DR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],l=i+1<t.length,c=l?t[i+1]:0,d=i+2<t.length,h=d?t[i+2]:0,p=o>>2,y=(o&3)<<4|c>>4;let w=(c&15)<<2|h>>6,A=h&63;d||(A=64,l||(w=64)),r.push(n[p],n[y],n[w],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(PR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Tj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const y=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||h==null||y==null)throw new Ej;const w=o<<2|c>>4;if(r.push(w),h!==64){const A=c<<4&240|h>>2;if(r.push(A),y!==64){const N=h<<6&192|y;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ej extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Aj=function(t){const e=PR(t);return DR.encodeByteArray(e,!0)},Zm=function(t){return Aj(t).replace(/\./g,"")},jR=function(t){try{return DR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj=()=>Cj().__FIREBASE_DEFAULTS__,Nj=()=>{if(typeof process>"u"||typeof zT>"u")return;const t=zT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ij=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jR(t[1]);return e&&JSON.parse(e)},Hp=()=>{try{return Sj()||Rj()||Nj()||Ij()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},kR=t=>{var e,n;return(n=(e=Hp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},LR=t=>{const e=kR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},VR=()=>{var t;return(t=Hp())===null||t===void 0?void 0:t.config},UR=t=>{var e;return(e=Hp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oj=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zm(JSON.stringify(n)),Zm(JSON.stringify(l)),""].join(".")}const Cd={};function Mj(){const t={prod:[],emulator:[]};for(const e of Object.keys(Cd))Cd[e]?t.emulator.push(e):t.prod.push(e);return t}function Pj(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let BT=!1;function Zb(t,e){if(typeof window>"u"||typeof document>"u"||!fo(window.location.host)||Cd[t]===e||Cd[t]||BT)return;Cd[t]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",o=Mj().prod.length>0;function l(){const w=document.getElementById(r);w&&w.remove()}function c(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function d(w,A){w.setAttribute("width","24"),w.setAttribute("id",A),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function h(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{BT=!0,l()},w}function p(w,A){w.setAttribute("id",A),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function y(){const w=Pj(r),A=n("text"),N=document.getElementById(A)||document.createElement("span"),P=n("learnmore"),U=document.getElementById(P)||document.createElement("a"),j=n("preprendIcon"),q=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const H=w.element;c(H),p(U,P);const X=h();d(q,j),H.append(q,N,U,X),document.body.appendChild(H)}o?(N.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Dj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gr())}function jj(){var t;const e=(t=Hp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Lj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Vj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Uj(){const t=gr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function zj(){return!jj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bj(){try{return typeof indexedDB=="object"}catch{return!1}}function Fj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj="FirebaseError";class _a extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Hj,Object.setPrototypeOf(this,_a.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ff.prototype.create)}}class ff{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?$j(o,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new _a(i,c,r)}}function $j(t,e){return t.replace(qj,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const qj=/\{\$([^}]+)}/g;function Gj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function il(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],l=e[i];if(FT(o)&&FT(l)){if(!il(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function FT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function yd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function bd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Kj(t,e){const n=new Wj(t,e);return n.subscribe.bind(n)}class Wj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Yj(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Py),i.error===void 0&&(i.error=Py),i.complete===void 0&&(i.complete=Py);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Py(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(t){return t&&t._delegate?t._delegate:t}class no{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Oj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Zj(e))try{this.getOrInitializeService({instanceIdentifier:Ko})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ko){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ko){return this.instances.has(e)}getOptions(e=Ko){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Qj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ko){return this.component?this.component.multipleInstances?e:Ko:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Qj(t){return t===Ko?void 0:t}function Zj(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Xj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Et||(Et={}));const ek={debug:Et.DEBUG,verbose:Et.VERBOSE,info:Et.INFO,warn:Et.WARN,error:Et.ERROR,silent:Et.SILENT},tk=Et.INFO,nk={[Et.DEBUG]:"log",[Et.VERBOSE]:"log",[Et.INFO]:"info",[Et.WARN]:"warn",[Et.ERROR]:"error"},rk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=nk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jb{constructor(e){this.name=e,this._logLevel=tk,this._logHandler=rk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ek[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Et.DEBUG,...e),this._logHandler(this,Et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Et.VERBOSE,...e),this._logHandler(this,Et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Et.INFO,...e),this._logHandler(this,Et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Et.WARN,...e),this._logHandler(this,Et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Et.ERROR,...e),this._logHandler(this,Et.ERROR,...e)}}const ik=(t,e)=>e.some(n=>t instanceof n);let HT,$T;function ak(){return HT||(HT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sk(){return $T||($T=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BR=new WeakMap,j0=new WeakMap,FR=new WeakMap,Dy=new WeakMap,ew=new WeakMap;function ok(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Qs(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&BR.set(n,t)}).catch(()=>{}),ew.set(e,t),e}function lk(t){if(j0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});j0.set(t,e)}let k0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return j0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||FR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uk(t){k0=t(k0)}function ck(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(jy(this),e,...n);return FR.set(r,e.sort?e.sort():[e]),Qs(r)}:sk().includes(t)?function(...e){return t.apply(jy(this),e),Qs(BR.get(this))}:function(...e){return Qs(t.apply(jy(this),e))}}function dk(t){return typeof t=="function"?ck(t):(t instanceof IDBTransaction&&lk(t),ik(t,ak())?new Proxy(t,k0):t)}function Qs(t){if(t instanceof IDBRequest)return ok(t);if(Dy.has(t))return Dy.get(t);const e=dk(t);return e!==t&&(Dy.set(t,e),ew.set(e,t)),e}const jy=t=>ew.get(t);function fk(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(t,e),c=Qs(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Qs(l.result),d.oldVersion,d.newVersion,Qs(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const hk=["get","getKey","getAll","getAllKeys","count"],mk=["put","add","delete","clear"],ky=new Map;function qT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ky.get(e))return ky.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=mk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||hk.includes(n)))return;const o=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),i&&d.done]))[0]};return ky.set(e,o),o}uk(t=>({...t,get:(e,n,r)=>qT(e,n)||t.get(e,n,r),has:(e,n)=>!!qT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function gk(t){const e=t.getComponent();return e?.type==="VERSION"}const L0="@firebase/app",GT="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new Jb("@firebase/app"),vk="@firebase/app-compat",yk="@firebase/analytics-compat",bk="@firebase/analytics",wk="@firebase/app-check-compat",xk="@firebase/app-check",_k="@firebase/auth",Sk="@firebase/auth-compat",Tk="@firebase/database",Ek="@firebase/data-connect",Ak="@firebase/database-compat",Ck="@firebase/functions",Rk="@firebase/functions-compat",Nk="@firebase/installations",Ik="@firebase/installations-compat",Ok="@firebase/messaging",Mk="@firebase/messaging-compat",Pk="@firebase/performance",Dk="@firebase/performance-compat",jk="@firebase/remote-config",kk="@firebase/remote-config-compat",Lk="@firebase/storage",Vk="@firebase/storage-compat",Uk="@firebase/firestore",zk="@firebase/ai",Bk="@firebase/firestore-compat",Fk="firebase",Hk="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="[DEFAULT]",$k={[L0]:"fire-core",[vk]:"fire-core-compat",[bk]:"fire-analytics",[yk]:"fire-analytics-compat",[xk]:"fire-app-check",[wk]:"fire-app-check-compat",[_k]:"fire-auth",[Sk]:"fire-auth-compat",[Tk]:"fire-rtdb",[Ek]:"fire-data-connect",[Ak]:"fire-rtdb-compat",[Ck]:"fire-fn",[Rk]:"fire-fn-compat",[Nk]:"fire-iid",[Ik]:"fire-iid-compat",[Ok]:"fire-fcm",[Mk]:"fire-fcm-compat",[Pk]:"fire-perf",[Dk]:"fire-perf-compat",[jk]:"fire-rc",[kk]:"fire-rc-compat",[Lk]:"fire-gcs",[Vk]:"fire-gcs-compat",[Uk]:"fire-fst",[Bk]:"fire-fst-compat",[zk]:"fire-vertex","fire-js":"fire-js",[Fk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm=new Map,qk=new Map,U0=new Map;function KT(t,e){try{t.container.addComponent(e)}catch(n){is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function al(t){const e=t.name;if(U0.has(e))return is.debug(`There were multiple attempts to register component ${e}.`),!1;U0.set(e,t);for(const n of Jm.values())KT(n,t);for(const n of qk.values())KT(n,t);return!0}function $p(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Wr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zs=new ff("app","Firebase",Gk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new no("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=Hk;function HR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:V0,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Zs.create("bad-app-name",{appName:String(i)});if(n||(n=VR()),!n)throw Zs.create("no-options");const o=Jm.get(i);if(o){if(il(n,o.options)&&il(r,o.config))return o;throw Zs.create("duplicate-app",{appName:i})}const l=new Jj(i);for(const d of U0.values())l.addComponent(d);const c=new Kk(n,r,l);return Jm.set(i,c),c}function tw(t=V0){const e=Jm.get(t);if(!e&&t===V0&&VR())return HR();if(!e)throw Zs.create("no-app",{appName:t});return e}function la(t,e,n){var r;let i=(r=$k[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),is.warn(c.join(" "));return}al(new no(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk="firebase-heartbeat-database",Yk=1,Fd="firebase-heartbeat-store";let Ly=null;function $R(){return Ly||(Ly=fk(Wk,Yk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zs.create("idb-open",{originalErrorMessage:t.message})})),Ly}async function Xk(t){try{const n=(await $R()).transaction(Fd),r=await n.objectStore(Fd).get(qR(t));return await n.done,r}catch(e){if(e instanceof _a)is.warn(e.message);else{const n=Zs.create("idb-get",{originalErrorMessage:e?.message});is.warn(n.message)}}}async function WT(t,e){try{const r=(await $R()).transaction(Fd,"readwrite");await r.objectStore(Fd).put(e,qR(t)),await r.done}catch(n){if(n instanceof _a)is.warn(n.message);else{const r=Zs.create("idb-set",{originalErrorMessage:n?.message});is.warn(r.message)}}}function qR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk=1024,Zk=30;class Jk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=YT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Zk){const l=nL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){is.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=YT(),{heartbeatsToSend:r,unsentEntries:i}=eL(this._heartbeatsCache.heartbeats),o=Zm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return is.warn(n),""}}}function YT(){return new Date().toISOString().substring(0,10)}function eL(t,e=Qk){const n=[];let r=t.slice();for(const i of t){const o=n.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),XT(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),XT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class tL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Bj()?Fj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Xk(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return WT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return WT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function XT(t){return Zm(JSON.stringify({version:2,heartbeats:t})).length}function nL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(t){al(new no("platform-logger",e=>new pk(e),"PRIVATE")),al(new no("heartbeat",e=>new Jk(e),"PRIVATE")),la(L0,GT,t),la(L0,GT,"esm2017"),la("fire-js","")}rL("");var iL="firebase",aL="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */la(iL,aL,"app");function nw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function GR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sL=GR,KR=new ff("auth","Firebase",GR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep=new Jb("@firebase/auth");function oL(t,...e){ep.logLevel<=Et.WARN&&ep.warn(`Auth (${ml}): ${t}`,...e)}function Rm(t,...e){ep.logLevel<=Et.ERROR&&ep.error(`Auth (${ml}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(t,...e){throw rw(t,...e)}function ua(t,...e){return rw(t,...e)}function WR(t,e,n){const r=Object.assign(Object.assign({},sL()),{[e]:n});return new ff("auth","Firebase",r).create(e,{appName:t.name})}function Za(t){return WR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return KR.create(t,...e)}function nt(t,e,...n){if(!t)throw rw(e,...n)}function Xa(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rm(e),new Error(e)}function as(t,e){t||Xa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function YR(){return QT()==="http:"||QT()==="https:"}function QT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YR()||Lj()||"connection"in navigator)?navigator.onLine:!0}function uL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n){this.shortDelay=e,this.longDelay=n,as(n>e,"Short delay should be less than long delay!"),this.isMobile=Dj()||Vj()}get(){return lL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(t,e){as(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fL=new mf(3e4,6e4);function fs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Sa(t,e,n,r,i={}){return QR(t,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=hf(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:d},o);return kj()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&fo(t.emulatorConfig.host)&&(h.credentials="include"),XR.fetch()(await ZR(t,t.config.apiHost,n,c),h)})}async function QR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},cL),e);try{const i=new mL(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw im(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw im(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw im(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw im(t,"user-disabled",l);const p=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw WR(t,p,h);ji(t,p)}}catch(i){if(i instanceof _a)throw i;ji(t,"network-request-failed",{message:String(i)})}}async function pf(t,e,n,r,i={}){const o=await Sa(t,e,n,r,i);return"mfaPendingCredential"in o&&ji(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function ZR(t,e,n,r){const i=`${e}${n}?${r}`,o=t,l=o.config.emulator?iw(t.config,i):`${t.config.apiScheme}://${i}`;return dL.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function hL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ua(this.auth,"network-request-failed")),fL.get())})}}function im(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ua(t,e,r);return i.customData._tokenResponse=n,i}function ZT(t){return t!==void 0&&t.enterprise!==void 0}class pL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return hL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function gL(t,e){return Sa(t,"GET","/v2/recaptchaConfig",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vL(t,e){return Sa(t,"POST","/v1/accounts:delete",e)}async function np(t,e){return Sa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yL(t,e=!1){const n=on(t),r=await n.getIdToken(e),i=aw(r);nt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o?.sign_in_provider;return{claims:i,token:r,authTime:Rd(Vy(i.auth_time)),issuedAtTime:Rd(Vy(i.iat)),expirationTime:Rd(Vy(i.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Vy(t){return Number(t)*1e3}function aw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Rm("JWT malformed, contained fewer than 3 sections"),null;try{const i=jR(n);return i?JSON.parse(i):(Rm("Failed to decode base64 JWT payload"),null)}catch(i){return Rm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function JT(t){const e=aw(t);return nt(e,"internal-error"),nt(typeof e.exp<"u","internal-error"),nt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ou(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof _a&&bL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function bL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rd(this.lastLoginAt),this.creationTime=Rd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ou(t,np(n,{idToken:r}));nt(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?JR(o.providerUserInfo):[],c=_L(t.providerData,l),d=t.isAnonymous,h=!(t.email&&o.passwordHash)&&!c?.length,p=d?h:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new z0(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function xL(t){const e=on(t);await rp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _L(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function JR(t){return t.map(e=>{var{providerId:n}=e,r=nw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SL(t,e){const n=await QR(t,{},async()=>{const r=hf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,l=await ZR(t,i,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&fo(t.emulatorConfig.host)&&(d.credentials="include"),XR.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function TL(t,e){return Sa(t,"POST","/v2/accounts:revokeToken",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){nt(e.idToken,"internal-error"),nt(typeof e.idToken<"u","internal-error"),nt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):JT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){nt(e.length!==0,"internal-error");const n=JT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(nt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await SL(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,l=new Su;return r&&(nt(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(nt(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(nt(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Su,this.toJSON())}_performRefresh(){return Xa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(t,e){nt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Oi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=nw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new z0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ou(this,this.stsTokenManager.getToken(this.auth,e));return nt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yL(this,e)}reload(){return xL(this)}_assign(e){this!==e&&(nt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Oi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await rp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wr(this.auth.app))return Promise.reject(Za(this.auth));const e=await this.getIdToken();return await Ou(this,vL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,l,c,d,h,p;const y=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(i=n.email)!==null&&i!==void 0?i:void 0,A=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,N=(l=n.photoURL)!==null&&l!==void 0?l:void 0,P=(c=n.tenantId)!==null&&c!==void 0?c:void 0,U=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,j=(h=n.createdAt)!==null&&h!==void 0?h:void 0,q=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:H,emailVerified:X,isAnonymous:O,providerData:M,stsTokenManager:C}=n;nt(H&&C,e,"internal-error");const I=Su.fromJSON(this.name,C);nt(typeof H=="string",e,"internal-error"),Bs(y,e.name),Bs(w,e.name),nt(typeof X=="boolean",e,"internal-error"),nt(typeof O=="boolean",e,"internal-error"),Bs(A,e.name),Bs(N,e.name),Bs(P,e.name),Bs(U,e.name),Bs(j,e.name),Bs(q,e.name);const E=new Oi({uid:H,auth:e,email:w,emailVerified:X,displayName:y,isAnonymous:O,photoURL:N,phoneNumber:A,tenantId:P,stsTokenManager:I,createdAt:j,lastLoginAt:q});return M&&Array.isArray(M)&&(E.providerData=M.map(S=>Object.assign({},S))),U&&(E._redirectEventId=U),E}static async _fromIdTokenResponse(e,n,r=!1){const i=new Su;i.updateFromServerResponse(n);const o=new Oi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await rp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];nt(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?JR(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!o?.length,c=new Su;c.updateFromIdToken(r);const d=new Oi({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new z0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=new Map;function Qa(t){as(t instanceof Function,"Expected a class definition");let e=eE.get(t);return e?(as(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}eN.type="NONE";const tE=eN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(t,e,n){return`firebase:${t}:${e}:${n}`}class Tu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Nm(this.userKey,i.apiKey,o),this.fullPersistenceKey=Nm("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await np(this.auth,{idToken:e}).catch(()=>{});return n?Oi._fromGetAccountInfoResponse(this.auth,n,e):null}return Oi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Tu(Qa(tE),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=i[0]||Qa(tE);const l=Nm(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const p=await h._get(l);if(p){let y;if(typeof p=="string"){const w=await np(e,{idToken:p}).catch(()=>{});if(!w)break;y=await Oi._fromGetAccountInfoResponse(e,w,p)}else y=Oi._fromJSON(e,p);h!==o&&(c=y),o=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Tu(o,e,r):(o=d[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==o)try{await h._remove(l)}catch{}})),new Tu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sN(e))return"Blackberry";if(oN(e))return"Webos";if(nN(e))return"Safari";if((e.includes("chrome/")||rN(e))&&!e.includes("edge/"))return"Chrome";if(aN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function tN(t=gr()){return/firefox\//i.test(t)}function nN(t=gr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rN(t=gr()){return/crios\//i.test(t)}function iN(t=gr()){return/iemobile/i.test(t)}function aN(t=gr()){return/android/i.test(t)}function sN(t=gr()){return/blackberry/i.test(t)}function oN(t=gr()){return/webos/i.test(t)}function sw(t=gr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function EL(t=gr()){var e;return sw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function AL(){return Uj()&&document.documentMode===10}function lN(t=gr()){return sw(t)||aN(t)||oN(t)||sN(t)||/windows phone/i.test(t)||iN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(t,e=[]){let n;switch(t){case"Browser":n=nE(gr());break;case"Worker":n=`${nE(gr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ml}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,c)=>{try{const d=e(o);l(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RL(t,e={}){return Sa(t,"GET","/v2/passwordPolicy",fs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=6;class IL{constructor(e){var n,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:NL,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rE(this),this.idTokenSubscription=new rE(this),this.beforeStateQueue=new CL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qa(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Tu.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await np(this,{idToken:e}),r=await Oi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Wr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return nt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await rp(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wr(this.app))return Promise.reject(Za(this));const n=e?on(e):null;return n&&nt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&nt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wr(this.app)?Promise.reject(Za(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wr(this.app)?Promise.reject(Za(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await RL(this),n=new IL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ff("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await TL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qa(e)||this._popupRedirectResolver;nt(n,this,"argument-error"),this.redirectPersistenceManager=await Tu.create(this,[Qa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(nt(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return nt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Wr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&oL(`Error while retrieving App Check token: ${n.error}`),n?.token}}function pl(t){return on(t)}class rE{constructor(e){this.auth=e,this.observer=null,this.addObserver=Kj(n=>this.observer=n)}get next(){return nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ML(t){qp=t}function cN(t){return qp.loadJS(t)}function PL(){return qp.recaptchaEnterpriseScript}function DL(){return qp.gapiScript}function jL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class kL{constructor(){this.enterprise=new LL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class LL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const VL="recaptcha-enterprise",dN="NO_RECAPTCHA";class UL{constructor(e){this.type=VL,this.auth=pl(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{gL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new pL(d);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,l(h.siteKey)}}).catch(d=>{c(d)})})}function i(o,l,c){const d=window.grecaptcha;ZT(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(h=>{l(h)}).catch(()=>{l(dN)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kL().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(c=>{if(!n&&ZT(window.grecaptcha))i(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=PL();d.length!==0&&(d+=c),cN(d).then(()=>{i(c,o,l)}).catch(h=>{l(h)})}}).catch(c=>{l(c)})})}}async function iE(t,e,n,r=!1,i=!1){const o=new UL(t);let l;if(i)l=dN;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function B0(t,e,n,r,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await iE(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await iE(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zL(t,e){const n=$p(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(il(o,e??{}))return i;ji(i,"already-initialized")}return n.initialize({options:e})}function BL(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Qa);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function FL(t,e,n){const r=pl(t);nt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=fN(e),{host:l,port:c}=HL(e),d=c===null?"":`:${c}`,h={url:`${o}//${l}${d}/`},p=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){nt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),nt(il(h,r.config.emulator)&&il(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,fo(l)?(Qb(`${o}//${l}${d}`),Zb("Auth",!0)):$L()}function fN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function HL(t){const e=fN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:aE(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:aE(l)}}}function aE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $L(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xa("not implemented")}_getIdTokenResponse(e){return Xa("not implemented")}_linkToIdToken(e,n){return Xa("not implemented")}_getReauthenticationResolver(e){return Xa("not implemented")}}async function qL(t,e){return Sa(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GL(t,e){return pf(t,"POST","/v1/accounts:signInWithPassword",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KL(t,e){return pf(t,"POST","/v1/accounts:signInWithEmailLink",fs(t,e))}async function WL(t,e){return pf(t,"POST","/v1/accounts:signInWithEmailLink",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd extends ow{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Hd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Hd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return B0(e,n,"signInWithPassword",GL);case"emailLink":return KL(e,{email:this._email,oobCode:this._password});default:ji(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return B0(e,r,"signUpPassword",qL);case"emailLink":return WL(e,{idToken:n,email:this._email,oobCode:this._password});default:ji(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eu(t,e){return pf(t,"POST","/v1/accounts:signInWithIdp",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL="http://localhost";class sl extends ow{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new sl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ji("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=nw(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new sl(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Eu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Eu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Eu(e,n)}buildRequest(){const e={requestUri:YL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QL(t){const e=yd(bd(t)).link,n=e?yd(bd(e)).deep_link_id:null,r=yd(bd(t)).deep_link_id;return(r?yd(bd(r)).link:null)||r||n||e||t}class lw{constructor(e){var n,r,i,o,l,c;const d=yd(bd(e)),h=(n=d.apiKey)!==null&&n!==void 0?n:null,p=(r=d.oobCode)!==null&&r!==void 0?r:null,y=XL((i=d.mode)!==null&&i!==void 0?i:null);nt(h&&p&&y,"argument-error"),this.apiKey=h,this.operation=y,this.code=p,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.lang)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=QL(e);try{return new lw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(){this.providerId=Gu.PROVIDER_ID}static credential(e,n){return Hd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=lw.parseLink(n);return nt(r,"argument-error"),Hd._fromEmailAndCode(e,r.code,r.tenantId)}}Gu.PROVIDER_ID="password";Gu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Gu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf extends hN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends gf{constructor(){super("facebook.com")}static credential(e){return sl._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $s.credential(e.oauthAccessToken)}catch{return null}}}$s.FACEBOOK_SIGN_IN_METHOD="facebook.com";$s.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends gf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return sl._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return qs.credential(n,r)}catch{return null}}}qs.GOOGLE_SIGN_IN_METHOD="google.com";qs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends gf{constructor(){super("github.com")}static credential(e){return sl._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gs.credential(e.oauthAccessToken)}catch{return null}}}Gs.GITHUB_SIGN_IN_METHOD="github.com";Gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends gf{constructor(){super("twitter.com")}static credential(e,n){return sl._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ks.credential(n,r)}catch{return null}}}Ks.TWITTER_SIGN_IN_METHOD="twitter.com";Ks.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZL(t,e){return pf(t,"POST","/v1/accounts:signUp",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Oi._fromIdTokenResponse(e,r,i),l=sE(r);return new ol({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=sE(r);return new ol({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function sE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip extends _a{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ip.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ip(e,n,r,i)}}function mN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ip._fromErrorAndOperation(t,o,e,r):o})}async function JL(t,e,n=!1){const r=await Ou(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ol._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eV(t,e,n=!1){const{auth:r}=t;if(Wr(r.app))return Promise.reject(Za(r));const i="reauthenticate";try{const o=await Ou(t,mN(r,i,e,t),n);nt(o.idToken,r,"internal-error");const l=aw(o.idToken);nt(l,r,"internal-error");const{sub:c}=l;return nt(t.uid===c,r,"user-mismatch"),ol._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&ji(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pN(t,e,n=!1){if(Wr(t.app))return Promise.reject(Za(t));const r="signIn",i=await mN(t,r,e),o=await ol._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function tV(t,e){return pN(pl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gN(t){const e=pl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function nV(t,e,n){if(Wr(t.app))return Promise.reject(Za(t));const r=pl(t),l=await B0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ZL).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&gN(t),d}),c=await ol._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function rV(t,e,n){return Wr(t.app)?Promise.reject(Za(t)):tV(on(t),Gu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&gN(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iV(t,e){return Sa(t,"POST","/v1/accounts:createAuthUri",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aV(t,e){const n=YR()?tp():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await iV(on(t),r);return i||[]}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sV(t,e){return Sa(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vN(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=on(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await Ou(r,sV(r.auth,o));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function oV(t,e,n,r){return on(t).onIdTokenChanged(e,n,r)}function lV(t,e,n){return on(t).beforeAuthStateChanged(e,n)}const ap="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ap,"1"),this.storage.removeItem(ap),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=1e3,cV=10;class bN extends yN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);AL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,cV):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},uV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bN.type="LOCAL";const dV=bN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN extends yN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}wN.type="SESSION";const xN=wN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Gp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async h=>h(n.origin,o)),d=await fV(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,d)=>{const h=uw("",20);i.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(y){const w=y;if(w.data.eventId===h)switch(w.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(w.data.response);break;default:clearTimeout(p),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(){return window}function mV(t){ca().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(){return typeof ca().WorkerGlobalScope<"u"&&typeof ca().importScripts=="function"}async function pV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gV(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function vV(){return _N()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="firebaseLocalStorageDb",yV=1,sp="firebaseLocalStorage",TN="fbase_key";class vf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Kp(t,e){return t.transaction([sp],e?"readwrite":"readonly").objectStore(sp)}function bV(){const t=indexedDB.deleteDatabase(SN);return new vf(t).toPromise()}function F0(){const t=indexedDB.open(SN,yV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(sp,{keyPath:TN})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(sp)?e(r):(r.close(),await bV(),e(await F0()))})})}async function oE(t,e,n){const r=Kp(t,!0).put({[TN]:e,value:n});return new vf(r).toPromise()}async function wV(t,e){const n=Kp(t,!1).get(e),r=await new vf(n).toPromise();return r===void 0?null:r.value}function lE(t,e){const n=Kp(t,!0).delete(e);return new vf(n).toPromise()}const xV=800,_V=3;class EN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await F0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>_V)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _N()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gp._getInstance(vV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await pV(),!this.activeServiceWorker)return;this.sender=new hV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await F0();return await oE(e,ap,"1"),await lE(e,ap),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>oE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>wV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>lE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Kp(i,!1).getAll();return new vf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EN.type="LOCAL";const SV=EN;new mf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TV(t,e){return e?Qa(e):(nt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw extends ow{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Eu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Eu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Eu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function EV(t){return pN(t.auth,new cw(t),t.bypassAuthState)}function AV(t){const{auth:e,user:n}=t;return nt(n,e,"internal-error"),eV(n,new cw(t),t.bypassAuthState)}async function CV(t){const{auth:e,user:n}=t;return nt(n,e,"internal-error"),JL(n,new cw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EV;case"linkViaPopup":case"linkViaRedirect":return CV;case"reauthViaPopup":case"reauthViaRedirect":return AV;default:ji(this.auth,"internal-error")}}resolve(e){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV=new mf(2e3,1e4);class fu extends AN{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,fu.currentPopupAction&&fu.currentPopupAction.cancel(),fu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return nt(e,this.auth,"internal-error"),e}async onExecution(){as(this.filter.length===1,"Popup operations only handle one event");const e=uw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ua(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ua(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ua(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,RV.get())};e()}}fu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV="pendingRedirect",Im=new Map;class IV extends AN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Im.get(this.auth._key());if(!e){try{const r=await OV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Im.set(this.auth._key(),e)}return this.bypassAuthState||Im.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OV(t,e){const n=DV(e),r=PV(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function MV(t,e){Im.set(t._key(),e)}function PV(t){return Qa(t._redirectPersistence)}function DV(t){return Nm(NV,t.config.apiKey,t.name)}async function jV(t,e,n=!1){if(Wr(t.app))return Promise.reject(Za(t));const r=pl(t),i=TV(r,e),l=await new IV(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV=10*60*1e3;class LV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!CN(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ua(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kV&&this.cachedEventUids.clear(),this.cachedEventUids.has(uE(e))}saveEventToCache(e){this.cachedEventUids.add(uE(e)),this.lastProcessedEventTime=Date.now()}}function uE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function CN({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function VV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UV(t,e={}){return Sa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BV=/^https?/;async function FV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await UV(t);for(const n of e)try{if(HV(n))return}catch{}ji(t,"unauthorized-domain")}function HV(t){const e=tp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!BV.test(n))return!1;if(zV.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=new mf(3e4,6e4);function cE(){const t=ca().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function qV(t){return new Promise((e,n)=>{var r,i,o;function l(){cE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cE(),n(ua(t,"network-request-failed"))},timeout:$V.get()})}if(!((i=(r=ca().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ca().gapi)===null||o===void 0)&&o.load)l();else{const c=jL("iframefcb");return ca()[c]=()=>{gapi.load?l():n(ua(t,"network-request-failed"))},cN(`${DL()}?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw Om=null,e})}let Om=null;function GV(t){return Om=Om||qV(t),Om}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV=new mf(5e3,15e3),WV="__/auth/iframe",YV="emulator/auth/iframe",XV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZV(t){const e=t.config;nt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?iw(e,YV):`https://${t.config.authDomain}/${WV}`,r={apiKey:e.apiKey,appName:t.name,v:ml},i=QV.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${hf(r).slice(1)}`}async function JV(t){const e=await GV(t),n=ca().gapi;return nt(n,t,"internal-error"),e.open({where:document.body,url:ZV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XV,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=ua(t,"network-request-failed"),c=ca().setTimeout(()=>{o(l)},KV.get());function d(){ca().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},t3=500,n3=600,r3="_blank",i3="http://localhost";class dE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function a3(t,e,n,r=t3,i=n3){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d=Object.assign(Object.assign({},e3),{width:r.toString(),height:i.toString(),top:o,left:l}),h=gr().toLowerCase();n&&(c=rN(h)?r3:n),tN(h)&&(e=e||i3,d.scrollbars="yes");const p=Object.entries(d).reduce((w,[A,N])=>`${w}${A}=${N},`,"");if(EL(h)&&c!=="_self")return s3(e||"",c),new dE(null);const y=window.open(e||"",c,p);nt(y,t,"popup-blocked");try{y.focus()}catch{}return new dE(y)}function s3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3="__/auth/handler",l3="emulator/auth/handler",u3=encodeURIComponent("fac");async function fE(t,e,n,r,i,o){nt(t.config.authDomain,t,"auth-domain-config-required"),nt(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ml,eventId:i};if(e instanceof hN){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",Gj(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,y]of Object.entries({}))l[p]=y}if(e instanceof gf){const p=e.getScopes().filter(y=>y!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const d=await t._getAppCheckToken(),h=d?`#${u3}=${encodeURIComponent(d)}`:"";return`${c3(t)}?${hf(c).slice(1)}${h}`}function c3({config:t}){return t.emulator?iw(t,l3):`https://${t.authDomain}/${o3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="webStorageSupport";class d3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xN,this._completeRedirectFn=jV,this._overrideRedirectResult=MV}async _openPopup(e,n,r,i){var o;as((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await fE(e,n,r,tp(),i);return a3(e,l,uw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await fE(e,n,r,tp(),i);return mV(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(as(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await JV(e),r=new LV(e);return n.register("authEvent",i=>(nt(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Uy,{type:Uy},i=>{var o;const l=(o=i?.[0])===null||o===void 0?void 0:o[Uy];l!==void 0&&n(!!l),ji(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=FV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lN()||nN()||sw()}}const f3=d3;var hE="@firebase/auth",mE="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function p3(t){al(new no("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;nt(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uN(t)},h=new OL(r,i,o,d);return BL(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),al(new no("auth-internal",e=>{const n=pl(e.getProvider("auth").getImmediate());return(r=>new h3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),la(hE,mE,m3(t)),la(hE,mE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=5*60,v3=UR("authIdTokenMaxAge")||g3;let pE=null;const y3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>v3)return;const i=n?.token;pE!==i&&(pE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function RN(t=tw()){const e=$p(t,"auth");if(e.isInitialized())return e.getImmediate();const n=zL(t,{popupRedirectResolver:f3,persistence:[SV,dV,xN]}),r=UR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=y3(o.toString());lV(n,l,()=>l(n.currentUser)),oV(n,c=>l(c))}}const i=kR("auth");return i&&FL(n,`http://${i}`),n}function b3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ML({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=ua("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",b3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});p3("Browser");var gE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Js,NN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,I){function E(){}E.prototype=I.prototype,C.D=I.prototype,C.prototype=new E,C.prototype.constructor=C,C.C=function(S,k,F){for(var L=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)L[Q-2]=arguments[Q];return I.prototype[k].apply(S,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,I,E){E||(E=0);var S=Array(16);if(typeof I=="string")for(var k=0;16>k;++k)S[k]=I.charCodeAt(E++)|I.charCodeAt(E++)<<8|I.charCodeAt(E++)<<16|I.charCodeAt(E++)<<24;else for(k=0;16>k;++k)S[k]=I[E++]|I[E++]<<8|I[E++]<<16|I[E++]<<24;I=C.g[0],E=C.g[1],k=C.g[2];var F=C.g[3],L=I+(F^E&(k^F))+S[0]+3614090360&4294967295;I=E+(L<<7&4294967295|L>>>25),L=F+(k^I&(E^k))+S[1]+3905402710&4294967295,F=I+(L<<12&4294967295|L>>>20),L=k+(E^F&(I^E))+S[2]+606105819&4294967295,k=F+(L<<17&4294967295|L>>>15),L=E+(I^k&(F^I))+S[3]+3250441966&4294967295,E=k+(L<<22&4294967295|L>>>10),L=I+(F^E&(k^F))+S[4]+4118548399&4294967295,I=E+(L<<7&4294967295|L>>>25),L=F+(k^I&(E^k))+S[5]+1200080426&4294967295,F=I+(L<<12&4294967295|L>>>20),L=k+(E^F&(I^E))+S[6]+2821735955&4294967295,k=F+(L<<17&4294967295|L>>>15),L=E+(I^k&(F^I))+S[7]+4249261313&4294967295,E=k+(L<<22&4294967295|L>>>10),L=I+(F^E&(k^F))+S[8]+1770035416&4294967295,I=E+(L<<7&4294967295|L>>>25),L=F+(k^I&(E^k))+S[9]+2336552879&4294967295,F=I+(L<<12&4294967295|L>>>20),L=k+(E^F&(I^E))+S[10]+4294925233&4294967295,k=F+(L<<17&4294967295|L>>>15),L=E+(I^k&(F^I))+S[11]+2304563134&4294967295,E=k+(L<<22&4294967295|L>>>10),L=I+(F^E&(k^F))+S[12]+1804603682&4294967295,I=E+(L<<7&4294967295|L>>>25),L=F+(k^I&(E^k))+S[13]+4254626195&4294967295,F=I+(L<<12&4294967295|L>>>20),L=k+(E^F&(I^E))+S[14]+2792965006&4294967295,k=F+(L<<17&4294967295|L>>>15),L=E+(I^k&(F^I))+S[15]+1236535329&4294967295,E=k+(L<<22&4294967295|L>>>10),L=I+(k^F&(E^k))+S[1]+4129170786&4294967295,I=E+(L<<5&4294967295|L>>>27),L=F+(E^k&(I^E))+S[6]+3225465664&4294967295,F=I+(L<<9&4294967295|L>>>23),L=k+(I^E&(F^I))+S[11]+643717713&4294967295,k=F+(L<<14&4294967295|L>>>18),L=E+(F^I&(k^F))+S[0]+3921069994&4294967295,E=k+(L<<20&4294967295|L>>>12),L=I+(k^F&(E^k))+S[5]+3593408605&4294967295,I=E+(L<<5&4294967295|L>>>27),L=F+(E^k&(I^E))+S[10]+38016083&4294967295,F=I+(L<<9&4294967295|L>>>23),L=k+(I^E&(F^I))+S[15]+3634488961&4294967295,k=F+(L<<14&4294967295|L>>>18),L=E+(F^I&(k^F))+S[4]+3889429448&4294967295,E=k+(L<<20&4294967295|L>>>12),L=I+(k^F&(E^k))+S[9]+568446438&4294967295,I=E+(L<<5&4294967295|L>>>27),L=F+(E^k&(I^E))+S[14]+3275163606&4294967295,F=I+(L<<9&4294967295|L>>>23),L=k+(I^E&(F^I))+S[3]+4107603335&4294967295,k=F+(L<<14&4294967295|L>>>18),L=E+(F^I&(k^F))+S[8]+1163531501&4294967295,E=k+(L<<20&4294967295|L>>>12),L=I+(k^F&(E^k))+S[13]+2850285829&4294967295,I=E+(L<<5&4294967295|L>>>27),L=F+(E^k&(I^E))+S[2]+4243563512&4294967295,F=I+(L<<9&4294967295|L>>>23),L=k+(I^E&(F^I))+S[7]+1735328473&4294967295,k=F+(L<<14&4294967295|L>>>18),L=E+(F^I&(k^F))+S[12]+2368359562&4294967295,E=k+(L<<20&4294967295|L>>>12),L=I+(E^k^F)+S[5]+4294588738&4294967295,I=E+(L<<4&4294967295|L>>>28),L=F+(I^E^k)+S[8]+2272392833&4294967295,F=I+(L<<11&4294967295|L>>>21),L=k+(F^I^E)+S[11]+1839030562&4294967295,k=F+(L<<16&4294967295|L>>>16),L=E+(k^F^I)+S[14]+4259657740&4294967295,E=k+(L<<23&4294967295|L>>>9),L=I+(E^k^F)+S[1]+2763975236&4294967295,I=E+(L<<4&4294967295|L>>>28),L=F+(I^E^k)+S[4]+1272893353&4294967295,F=I+(L<<11&4294967295|L>>>21),L=k+(F^I^E)+S[7]+4139469664&4294967295,k=F+(L<<16&4294967295|L>>>16),L=E+(k^F^I)+S[10]+3200236656&4294967295,E=k+(L<<23&4294967295|L>>>9),L=I+(E^k^F)+S[13]+681279174&4294967295,I=E+(L<<4&4294967295|L>>>28),L=F+(I^E^k)+S[0]+3936430074&4294967295,F=I+(L<<11&4294967295|L>>>21),L=k+(F^I^E)+S[3]+3572445317&4294967295,k=F+(L<<16&4294967295|L>>>16),L=E+(k^F^I)+S[6]+76029189&4294967295,E=k+(L<<23&4294967295|L>>>9),L=I+(E^k^F)+S[9]+3654602809&4294967295,I=E+(L<<4&4294967295|L>>>28),L=F+(I^E^k)+S[12]+3873151461&4294967295,F=I+(L<<11&4294967295|L>>>21),L=k+(F^I^E)+S[15]+530742520&4294967295,k=F+(L<<16&4294967295|L>>>16),L=E+(k^F^I)+S[2]+3299628645&4294967295,E=k+(L<<23&4294967295|L>>>9),L=I+(k^(E|~F))+S[0]+4096336452&4294967295,I=E+(L<<6&4294967295|L>>>26),L=F+(E^(I|~k))+S[7]+1126891415&4294967295,F=I+(L<<10&4294967295|L>>>22),L=k+(I^(F|~E))+S[14]+2878612391&4294967295,k=F+(L<<15&4294967295|L>>>17),L=E+(F^(k|~I))+S[5]+4237533241&4294967295,E=k+(L<<21&4294967295|L>>>11),L=I+(k^(E|~F))+S[12]+1700485571&4294967295,I=E+(L<<6&4294967295|L>>>26),L=F+(E^(I|~k))+S[3]+2399980690&4294967295,F=I+(L<<10&4294967295|L>>>22),L=k+(I^(F|~E))+S[10]+4293915773&4294967295,k=F+(L<<15&4294967295|L>>>17),L=E+(F^(k|~I))+S[1]+2240044497&4294967295,E=k+(L<<21&4294967295|L>>>11),L=I+(k^(E|~F))+S[8]+1873313359&4294967295,I=E+(L<<6&4294967295|L>>>26),L=F+(E^(I|~k))+S[15]+4264355552&4294967295,F=I+(L<<10&4294967295|L>>>22),L=k+(I^(F|~E))+S[6]+2734768916&4294967295,k=F+(L<<15&4294967295|L>>>17),L=E+(F^(k|~I))+S[13]+1309151649&4294967295,E=k+(L<<21&4294967295|L>>>11),L=I+(k^(E|~F))+S[4]+4149444226&4294967295,I=E+(L<<6&4294967295|L>>>26),L=F+(E^(I|~k))+S[11]+3174756917&4294967295,F=I+(L<<10&4294967295|L>>>22),L=k+(I^(F|~E))+S[2]+718787259&4294967295,k=F+(L<<15&4294967295|L>>>17),L=E+(F^(k|~I))+S[9]+3951481745&4294967295,C.g[0]=C.g[0]+I&4294967295,C.g[1]=C.g[1]+(k+(L<<21&4294967295|L>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+F&4294967295}r.prototype.u=function(C,I){I===void 0&&(I=C.length);for(var E=I-this.blockSize,S=this.B,k=this.h,F=0;F<I;){if(k==0)for(;F<=E;)i(this,C,F),F+=this.blockSize;if(typeof C=="string"){for(;F<I;)if(S[k++]=C.charCodeAt(F++),k==this.blockSize){i(this,S),k=0;break}}else for(;F<I;)if(S[k++]=C[F++],k==this.blockSize){i(this,S),k=0;break}}this.h=k,this.o+=I},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var I=1;I<C.length-8;++I)C[I]=0;var E=8*this.o;for(I=C.length-8;I<C.length;++I)C[I]=E&255,E/=256;for(this.u(C),C=Array(16),I=E=0;4>I;++I)for(var S=0;32>S;S+=8)C[E++]=this.g[I]>>>S&255;return C};function o(C,I){var E=c;return Object.prototype.hasOwnProperty.call(E,C)?E[C]:E[C]=I(C)}function l(C,I){this.h=I;for(var E=[],S=!0,k=C.length-1;0<=k;k--){var F=C[k]|0;S&&F==I||(E[k]=F,S=!1)}this.g=E}var c={};function d(C){return-128<=C&&128>C?o(C,function(I){return new l([I|0],0>I?-1:0)}):new l([C|0],0>C?-1:0)}function h(C){if(isNaN(C)||!isFinite(C))return y;if(0>C)return U(h(-C));for(var I=[],E=1,S=0;C>=E;S++)I[S]=C/E|0,E*=4294967296;return new l(I,0)}function p(C,I){if(C.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(C.charAt(0)=="-")return U(p(C.substring(1),I));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=h(Math.pow(I,8)),S=y,k=0;k<C.length;k+=8){var F=Math.min(8,C.length-k),L=parseInt(C.substring(k,k+F),I);8>F?(F=h(Math.pow(I,F)),S=S.j(F).add(h(L))):(S=S.j(E),S=S.add(h(L)))}return S}var y=d(0),w=d(1),A=d(16777216);t=l.prototype,t.m=function(){if(P(this))return-U(this).m();for(var C=0,I=1,E=0;E<this.g.length;E++){var S=this.i(E);C+=(0<=S?S:4294967296+S)*I,I*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(N(this))return"0";if(P(this))return"-"+U(this).toString(C);for(var I=h(Math.pow(C,6)),E=this,S="";;){var k=X(E,I).g;E=j(E,k.j(I));var F=((0<E.g.length?E.g[0]:E.h)>>>0).toString(C);if(E=k,N(E))return F+S;for(;6>F.length;)F="0"+F;S=F+S}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function N(C){if(C.h!=0)return!1;for(var I=0;I<C.g.length;I++)if(C.g[I]!=0)return!1;return!0}function P(C){return C.h==-1}t.l=function(C){return C=j(this,C),P(C)?-1:N(C)?0:1};function U(C){for(var I=C.g.length,E=[],S=0;S<I;S++)E[S]=~C.g[S];return new l(E,~C.h).add(w)}t.abs=function(){return P(this)?U(this):this},t.add=function(C){for(var I=Math.max(this.g.length,C.g.length),E=[],S=0,k=0;k<=I;k++){var F=S+(this.i(k)&65535)+(C.i(k)&65535),L=(F>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);S=L>>>16,F&=65535,L&=65535,E[k]=L<<16|F}return new l(E,E[E.length-1]&-2147483648?-1:0)};function j(C,I){return C.add(U(I))}t.j=function(C){if(N(this)||N(C))return y;if(P(this))return P(C)?U(this).j(U(C)):U(U(this).j(C));if(P(C))return U(this.j(U(C)));if(0>this.l(A)&&0>C.l(A))return h(this.m()*C.m());for(var I=this.g.length+C.g.length,E=[],S=0;S<2*I;S++)E[S]=0;for(S=0;S<this.g.length;S++)for(var k=0;k<C.g.length;k++){var F=this.i(S)>>>16,L=this.i(S)&65535,Q=C.i(k)>>>16,Z=C.i(k)&65535;E[2*S+2*k]+=L*Z,q(E,2*S+2*k),E[2*S+2*k+1]+=F*Z,q(E,2*S+2*k+1),E[2*S+2*k+1]+=L*Q,q(E,2*S+2*k+1),E[2*S+2*k+2]+=F*Q,q(E,2*S+2*k+2)}for(S=0;S<I;S++)E[S]=E[2*S+1]<<16|E[2*S];for(S=I;S<2*I;S++)E[S]=0;return new l(E,0)};function q(C,I){for(;(C[I]&65535)!=C[I];)C[I+1]+=C[I]>>>16,C[I]&=65535,I++}function H(C,I){this.g=C,this.h=I}function X(C,I){if(N(I))throw Error("division by zero");if(N(C))return new H(y,y);if(P(C))return I=X(U(C),I),new H(U(I.g),U(I.h));if(P(I))return I=X(C,U(I)),new H(U(I.g),I.h);if(30<C.g.length){if(P(C)||P(I))throw Error("slowDivide_ only works with positive integers.");for(var E=w,S=I;0>=S.l(C);)E=O(E),S=O(S);var k=M(E,1),F=M(S,1);for(S=M(S,2),E=M(E,2);!N(S);){var L=F.add(S);0>=L.l(C)&&(k=k.add(E),F=L),S=M(S,1),E=M(E,1)}return I=j(C,k.j(I)),new H(k,I)}for(k=y;0<=C.l(I);){for(E=Math.max(1,Math.floor(C.m()/I.m())),S=Math.ceil(Math.log(E)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),F=h(E),L=F.j(I);P(L)||0<L.l(C);)E-=S,F=h(E),L=F.j(I);N(F)&&(F=w),k=k.add(F),C=j(C,L)}return new H(k,C)}t.A=function(C){return X(this,C).h},t.and=function(C){for(var I=Math.max(this.g.length,C.g.length),E=[],S=0;S<I;S++)E[S]=this.i(S)&C.i(S);return new l(E,this.h&C.h)},t.or=function(C){for(var I=Math.max(this.g.length,C.g.length),E=[],S=0;S<I;S++)E[S]=this.i(S)|C.i(S);return new l(E,this.h|C.h)},t.xor=function(C){for(var I=Math.max(this.g.length,C.g.length),E=[],S=0;S<I;S++)E[S]=this.i(S)^C.i(S);return new l(E,this.h^C.h)};function O(C){for(var I=C.g.length+1,E=[],S=0;S<I;S++)E[S]=C.i(S)<<1|C.i(S-1)>>>31;return new l(E,C.h)}function M(C,I){var E=I>>5;I%=32;for(var S=C.g.length-E,k=[],F=0;F<S;F++)k[F]=0<I?C.i(F+E)>>>I|C.i(F+E+1)<<32-I:C.i(F+E);return new l(k,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,NN=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,Js=l}).apply(typeof gE<"u"?gE:typeof self<"u"?self:typeof window<"u"?window:{});var am=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IN,wd,ON,Mm,H0,MN,PN,DN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,_,D){return m==Array.prototype||m==Object.prototype||(m[_]=D.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof am=="object"&&am];for(var _=0;_<m.length;++_){var D=m[_];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var r=n(this);function i(m,_){if(_)e:{var D=r;m=m.split(".");for(var G=0;G<m.length-1;G++){var oe=m[G];if(!(oe in D))break e;D=D[oe]}m=m[m.length-1],G=D[m],_=_(G),_!=G&&_!=null&&e(D,m,{configurable:!0,writable:!0,value:_})}}function o(m,_){m instanceof String&&(m+="");var D=0,G=!1,oe={next:function(){if(!G&&D<m.length){var pe=D++;return{value:_(pe,m[pe]),done:!1}}return G=!0,{done:!0,value:void 0}}};return oe[Symbol.iterator]=function(){return oe},oe}i("Array.prototype.values",function(m){return m||function(){return o(this,function(_,D){return D})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(m){var _=typeof m;return _=_!="object"?_:m?Array.isArray(m)?"array":_:"null",_=="array"||_=="object"&&typeof m.length=="number"}function h(m){var _=typeof m;return _=="object"&&m!=null||_=="function"}function p(m,_,D){return m.call.apply(m.bind,arguments)}function y(m,_,D){if(!m)throw Error();if(2<arguments.length){var G=Array.prototype.slice.call(arguments,2);return function(){var oe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(oe,G),m.apply(_,oe)}}return function(){return m.apply(_,arguments)}}function w(m,_,D){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,w.apply(null,arguments)}function A(m,_){var D=Array.prototype.slice.call(arguments,1);return function(){var G=D.slice();return G.push.apply(G,arguments),m.apply(this,G)}}function N(m,_){function D(){}D.prototype=_.prototype,m.aa=_.prototype,m.prototype=new D,m.prototype.constructor=m,m.Qb=function(G,oe,pe){for(var Ae=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)Ae[Rt-2]=arguments[Rt];return _.prototype[oe].apply(G,Ae)}}function P(m){const _=m.length;if(0<_){const D=Array(_);for(let G=0;G<_;G++)D[G]=m[G];return D}return[]}function U(m,_){for(let D=1;D<arguments.length;D++){const G=arguments[D];if(d(G)){const oe=m.length||0,pe=G.length||0;m.length=oe+pe;for(let Ae=0;Ae<pe;Ae++)m[oe+Ae]=G[Ae]}else m.push(G)}}class j{constructor(_,D){this.i=_,this.j=D,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function q(m){return/^[\s\xa0]*$/.test(m)}function H(){var m=c.navigator;return m&&(m=m.userAgent)?m:""}function X(m){return X[" "](m),m}X[" "]=function(){};var O=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function M(m,_,D){for(const G in m)_.call(D,m[G],G,m)}function C(m,_){for(const D in m)_.call(void 0,m[D],D,m)}function I(m){const _={};for(const D in m)_[D]=m[D];return _}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(m,_){let D,G;for(let oe=1;oe<arguments.length;oe++){G=arguments[oe];for(D in G)m[D]=G[D];for(let pe=0;pe<E.length;pe++)D=E[pe],Object.prototype.hasOwnProperty.call(G,D)&&(m[D]=G[D])}}function k(m){var _=1;m=m.split(":");const D=[];for(;0<_&&m.length;)D.push(m.shift()),_--;return m.length&&D.push(m.join(":")),D}function F(m){c.setTimeout(()=>{throw m},0)}function L(){var m=K;let _=null;return m.g&&(_=m.g,m.g=m.g.next,m.g||(m.h=null),_.next=null),_}class Q{constructor(){this.h=this.g=null}add(_,D){const G=Z.get();G.set(_,D),this.h?this.h.next=G:this.g=G,this.h=G}}var Z=new j(()=>new B,m=>m.reset());class B{constructor(){this.next=this.g=this.h=null}set(_,D){this.h=_,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let T,J=!1,K=new Q,x=()=>{const m=c.Promise.resolve(void 0);T=()=>{m.then(z)}};var z=()=>{for(var m;m=L();){try{m.h.call(m.g)}catch(D){F(D)}var _=Z;_.j(m),100>_.h&&(_.h++,m.next=_.g,_.g=m)}J=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(m,_){this.type=m,this.g=this.target=_,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ne=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,_=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const D=()=>{};c.addEventListener("test",D,_),c.removeEventListener("test",D,_)}catch{}return m}();function ae(m,_){if(W.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var D=this.type=m.type,G=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=_,_=m.relatedTarget){if(O){e:{try{X(_.nodeName);var oe=!0;break e}catch{}oe=!1}oe||(_=null)}}else D=="mouseover"?_=m.fromElement:D=="mouseout"&&(_=m.toElement);this.relatedTarget=_,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:le[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&ae.aa.h.call(this)}}N(ae,W);var le={2:"touch",3:"pen",4:"mouse"};ae.prototype.h=function(){ae.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function Pe(m,_,D,G,oe){this.listener=m,this.proxy=null,this.src=_,this.type=D,this.capture=!!G,this.ha=oe,this.key=++Ee,this.da=this.fa=!1}function Ne(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Ue(m){this.src=m,this.g={},this.h=0}Ue.prototype.add=function(m,_,D,G,oe){var pe=m.toString();m=this.g[pe],m||(m=this.g[pe]=[],this.h++);var Ae=Xe(m,_,G,oe);return-1<Ae?(_=m[Ae],D||(_.fa=!1)):(_=new Pe(_,this.src,pe,!!G,oe),_.fa=D,m.push(_)),_};function We(m,_){var D=_.type;if(D in m.g){var G=m.g[D],oe=Array.prototype.indexOf.call(G,_,void 0),pe;(pe=0<=oe)&&Array.prototype.splice.call(G,oe,1),pe&&(Ne(_),m.g[D].length==0&&(delete m.g[D],m.h--))}}function Xe(m,_,D,G){for(var oe=0;oe<m.length;++oe){var pe=m[oe];if(!pe.da&&pe.listener==_&&pe.capture==!!D&&pe.ha==G)return oe}return-1}var me="closure_lm_"+(1e6*Math.random()|0),Ce={};function $e(m,_,D,G,oe){if(Array.isArray(_)){for(var pe=0;pe<_.length;pe++)$e(m,_[pe],D,G,oe);return null}return D=An(D),m&&m[ge]?m.K(_,D,h(G)?!!G.capture:!1,oe):Ie(m,_,D,!1,G,oe)}function Ie(m,_,D,G,oe,pe){if(!_)throw Error("Invalid event type");var Ae=h(oe)?!!oe.capture:!!oe,Rt=hn(m);if(Rt||(m[me]=Rt=new Ue(m)),D=Rt.add(_,D,G,Ae,pe),D.proxy)return D;if(G=Ze(),D.proxy=G,G.src=m,G.listener=D,m.addEventListener)ne||(oe=Ae),oe===void 0&&(oe=!1),m.addEventListener(_.toString(),G,oe);else if(m.attachEvent)m.attachEvent(Dt(_.toString()),G);else if(m.addListener&&m.removeListener)m.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return D}function Ze(){function m(D){return _.call(m.src,m.listener,D)}const _=dt;return m}function mt(m,_,D,G,oe){if(Array.isArray(_))for(var pe=0;pe<_.length;pe++)mt(m,_[pe],D,G,oe);else G=h(G)?!!G.capture:!!G,D=An(D),m&&m[ge]?(m=m.i,_=String(_).toString(),_ in m.g&&(pe=m.g[_],D=Xe(pe,D,G,oe),-1<D&&(Ne(pe[D]),Array.prototype.splice.call(pe,D,1),pe.length==0&&(delete m.g[_],m.h--)))):m&&(m=hn(m))&&(_=m.g[_.toString()],m=-1,_&&(m=Xe(_,D,G,oe)),(D=-1<m?_[m]:null)&&ot(D))}function ot(m){if(typeof m!="number"&&m&&!m.da){var _=m.src;if(_&&_[ge])We(_.i,m);else{var D=m.type,G=m.proxy;_.removeEventListener?_.removeEventListener(D,G,m.capture):_.detachEvent?_.detachEvent(Dt(D),G):_.addListener&&_.removeListener&&_.removeListener(G),(D=hn(_))?(We(D,m),D.h==0&&(D.src=null,_[me]=null)):Ne(m)}}}function Dt(m){return m in Ce?Ce[m]:Ce[m]="on"+m}function dt(m,_){if(m.da)m=!0;else{_=new ae(_,this);var D=m.listener,G=m.ha||m.src;m.fa&&ot(m),m=D.call(G,_)}return m}function hn(m){return m=m[me],m instanceof Ue?m:null}var or="__closure_events_fn_"+(1e9*Math.random()>>>0);function An(m){return typeof m=="function"?m:(m[or]||(m[or]=function(_){return m.handleEvent(_)}),m[or])}function pt(){Y.call(this),this.i=new Ue(this),this.M=this,this.F=null}N(pt,Y),pt.prototype[ge]=!0,pt.prototype.removeEventListener=function(m,_,D,G){mt(this,m,_,D,G)};function qe(m,_){var D,G=m.F;if(G)for(D=[];G;G=G.F)D.push(G);if(m=m.M,G=_.type||_,typeof _=="string")_=new W(_,m);else if(_ instanceof W)_.target=_.target||m;else{var oe=_;_=new W(G,m),S(_,oe)}if(oe=!0,D)for(var pe=D.length-1;0<=pe;pe--){var Ae=_.g=D[pe];oe=nn(Ae,G,!0,_)&&oe}if(Ae=_.g=m,oe=nn(Ae,G,!0,_)&&oe,oe=nn(Ae,G,!1,_)&&oe,D)for(pe=0;pe<D.length;pe++)Ae=_.g=D[pe],oe=nn(Ae,G,!1,_)&&oe}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var m=this.i,_;for(_ in m.g){for(var D=m.g[_],G=0;G<D.length;G++)Ne(D[G]);delete m.g[_],m.h--}}this.F=null},pt.prototype.K=function(m,_,D,G){return this.i.add(String(m),_,!1,D,G)},pt.prototype.L=function(m,_,D,G){return this.i.add(String(m),_,!0,D,G)};function nn(m,_,D,G){if(_=m.i.g[String(_)],!_)return!0;_=_.concat();for(var oe=!0,pe=0;pe<_.length;++pe){var Ae=_[pe];if(Ae&&!Ae.da&&Ae.capture==D){var Rt=Ae.listener,Ln=Ae.ha||Ae.src;Ae.fa&&We(m.i,Ae),oe=Rt.call(Ln,G)!==!1&&oe}}return oe&&!G.defaultPrevented}function Jt(m,_,D){if(typeof m=="function")D&&(m=w(m,D));else if(m&&typeof m.handleEvent=="function")m=w(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:c.setTimeout(m,_||0)}function Ui(m){m.g=Jt(()=>{m.g=null,m.i&&(m.i=!1,Ui(m))},m.l);const _=m.h;m.h=null,m.m.apply(null,_)}class lr extends Y{constructor(_,D){super(),this.m=_,this.l=D,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ui(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function an(m){Y.call(this),this.h=m,this.g={}}N(an,Y);var zi=[];function Bi(m){M(m.g,function(_,D){this.g.hasOwnProperty(D)&&ot(_)},m),m.g={}}an.prototype.N=function(){an.aa.N.call(this),Bi(this)},an.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jr=c.JSON.stringify,Aa=c.JSON.parse,ei=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function ms(){}ms.prototype.h=null;function Ca(m){return m.h||(m.h=m.i())}function vo(){}var ti={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ti(){W.call(this,"d")}N(Ti,W);function ps(){W.call(this,"c")}N(ps,W);var vr={},Fi=null;function Hi(){return Fi=Fi||new pt}vr.La="serverreachability";function gs(m){W.call(this,vr.La,m)}N(gs,W);function te(m){const _=Hi();qe(_,new gs(_))}vr.STAT_EVENT="statevent";function se(m,_){W.call(this,vr.STAT_EVENT,m),this.stat=_}N(se,W);function ce(m){const _=Hi();qe(_,new se(_,m))}vr.Ma="timingevent";function xe(m,_){W.call(this,vr.Ma,m),this.size=_}N(xe,W);function Te(m,_){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},_)}function De(){this.g=!0}De.prototype.xa=function(){this.g=!1};function Ge(m,_,D,G,oe,pe){m.info(function(){if(m.g)if(pe)for(var Ae="",Rt=pe.split("&"),Ln=0;Ln<Rt.length;Ln++){var Nt=Rt[Ln].split("=");if(1<Nt.length){var Hn=Nt[0];Nt=Nt[1];var Vn=Hn.split("_");Ae=2<=Vn.length&&Vn[1]=="type"?Ae+(Hn+"="+Nt+"&"):Ae+(Hn+"=redacted&")}}else Ae=null;else Ae=pe;return"XMLHTTP REQ ("+G+") [attempt "+oe+"]: "+_+`
`+D+`
`+Ae})}function je(m,_,D,G,oe,pe,Ae){m.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+oe+"]: "+_+`
`+D+`
`+pe+" "+Ae})}function Ve(m,_,D,G){m.info(function(){return"XMLHTTP TEXT ("+_+"): "+Je(m,D)+(G?" "+G:"")})}function Le(m,_){m.info(function(){return"TIMEOUT: "+_})}De.prototype.info=function(){};function Je(m,_){if(!m.g)return _;if(!_)return null;try{var D=JSON.parse(_);if(D){for(m=0;m<D.length;m++)if(Array.isArray(D[m])){var G=D[m];if(!(2>G.length)){var oe=G[1];if(Array.isArray(oe)&&!(1>oe.length)){var pe=oe[0];if(pe!="noop"&&pe!="stop"&&pe!="close")for(var Ae=1;Ae<oe.length;Ae++)oe[Ae]=""}}}}return jr(D)}catch{return _}}var Ke={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},it={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wt;function Ut(){}N(Ut,ms),Ut.prototype.g=function(){return new XMLHttpRequest},Ut.prototype.i=function(){return{}},wt=new Ut;function Mt(m,_,D,G){this.j=m,this.i=_,this.l=D,this.R=G||1,this.U=new an(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ct}function Ct(){this.i=null,this.g="",this.h=!1}var yt={},ni={};function kn(m,_,D){m.L=1,m.v=wo(Vr(_)),m.m=D,m.P=!0,yr(m,null)}function yr(m,_){m.F=Date.now(),kr(m),m.A=Vr(m.v);var D=m.A,G=m.R;Array.isArray(G)||(G=[String(G)]),sc(D.i,"t",G),m.C=0,D=m.j.J,m.h=new Ct,m.g=Jf(m.j,D?_:null,!m.m),0<m.O&&(m.M=new lr(w(m.Y,m,m.g),m.O)),_=m.U,D=m.g,G=m.ca;var oe="readystatechange";Array.isArray(oe)||(oe&&(zi[0]=oe.toString()),oe=zi);for(var pe=0;pe<oe.length;pe++){var Ae=$e(D,oe[pe],G||_.handleEvent,!1,_.h||_);if(!Ae)break;_.g[Ae.key]=Ae}_=m.H?I(m.H):{},m.m?(m.u||(m.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,_)):(m.u="GET",m.g.ea(m.A,m.u,null,_)),te(),Ge(m.i,m.u,m.A,m.l,m.R,m.m)}Mt.prototype.ca=function(m){m=m.target;const _=this.M;_&&oi(m)==3?_.j():this.Y(m)},Mt.prototype.Y=function(m){try{if(m==this.g)e:{const Vn=oi(this.g);var _=this.g.Ba();const ja=this.g.Z();if(!(3>Vn)&&(Vn!=3||this.g&&(this.h.h||this.g.oa()||qf(this.g)))){this.J||Vn!=4||_==7||(_==8||0>=ja?te(3):te(2)),ur(this);var D=this.g.Z();this.X=D;t:if(Jn(this)){var G=qf(this.g);m="";var oe=G.length,pe=oi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){lt(this),br(this);var Ae="";break t}this.h.i=new c.TextDecoder}for(_=0;_<oe;_++)this.h.h=!0,m+=this.h.i.decode(G[_],{stream:!(pe&&_==oe-1)});G.length=0,this.h.g+=m,this.C=0,Ae=this.h.g}else Ae=this.g.oa();if(this.o=D==200,je(this.i,this.u,this.A,this.l,this.R,Vn,D),this.o){if(this.T&&!this.K){t:{if(this.g){var Rt,Ln=this.g;if((Rt=Ln.g?Ln.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(Rt)){var Nt=Rt;break t}}Nt=null}if(D=Nt)Ve(this.i,this.l,D,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cn(this,D);else{this.o=!1,this.s=3,ce(12),lt(this),br(this);break e}}if(this.P){D=!0;let tr;for(;!this.J&&this.C<Ae.length;)if(tr=$i(this,Ae),tr==ni){Vn==4&&(this.s=4,ce(14),D=!1),Ve(this.i,this.l,null,"[Incomplete Response]");break}else if(tr==yt){this.s=4,ce(15),Ve(this.i,this.l,Ae,"[Invalid Chunk]"),D=!1;break}else Ve(this.i,this.l,tr,null),Cn(this,tr);if(Jn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vn!=4||Ae.length!=0||this.h.h||(this.s=1,ce(16),D=!1),this.o=this.o&&D,!D)Ve(this.i,this.l,Ae,"[Invalid Chunked Response]"),lt(this),br(this);else if(0<Ae.length&&!this.W){this.W=!0;var Hn=this.j;Hn.g==this&&Hn.ba&&!Hn.M&&(Hn.j.info("Great, no buffering proxy detected. Bytes received: "+Ae.length),Ro(Hn),Hn.M=!0,ce(11))}}else Ve(this.i,this.l,Ae,null),Cn(this,Ae);Vn==4&&lt(this),this.o&&!this.J&&(Vn==4?Xf(this.j,this):(this.o=!1,kr(this)))}else jg(this.g),D==400&&0<Ae.indexOf("Unknown SID")?(this.s=3,ce(12)):(this.s=0,ce(13)),lt(this),br(this)}}}catch{}finally{}};function Jn(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function $i(m,_){var D=m.C,G=_.indexOf(`
`,D);return G==-1?ni:(D=Number(_.substring(D,G)),isNaN(D)?yt:(G+=1,G+D>_.length?ni:(_=_.slice(G,G+D),m.C=G+D,_)))}Mt.prototype.cancel=function(){this.J=!0,lt(this)};function kr(m){m.S=Date.now()+m.I,vs(m,m.I)}function vs(m,_){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Te(w(m.ba,m),_)}function ur(m){m.B&&(c.clearTimeout(m.B),m.B=null)}Mt.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Le(this.i,this.A),this.L!=2&&(te(),ce(17)),lt(this),this.s=2,br(this)):vs(this,this.S-m)};function br(m){m.j.G==0||m.J||Xf(m.j,m)}function lt(m){ur(m);var _=m.M;_&&typeof _.ma=="function"&&_.ma(),m.M=null,Bi(m.U),m.g&&(_=m.g,m.g=null,_.abort(),_.ma())}function Cn(m,_){try{var D=m.j;if(D.G!=0&&(D.g==m||ri(D.h,m))){if(!m.K&&ri(D.h,m)&&D.G==3){try{var G=D.Da.g.parse(_)}catch{G=null}if(Array.isArray(G)&&G.length==3){var oe=G;if(oe[0]==0){e:if(!D.u){if(D.g)if(D.g.F+3e3<m.F)Nl(D),Cl(D);else break e;dc(D),ce(18)}}else D.za=oe[1],0<D.za-D.T&&37500>oe[2]&&D.F&&D.v==0&&!D.C&&(D.C=Te(w(D.Za,D),6e3));if(1>=Yt(D.h)&&D.ca){try{D.ca()}catch{}D.ca=void 0}}else Da(D,11)}else if((m.K||D.g==m)&&Nl(D),!q(_))for(oe=D.Da.g.parse(_),_=0;_<oe.length;_++){let Nt=oe[_];if(D.T=Nt[0],Nt=Nt[1],D.G==2)if(Nt[0]=="c"){D.K=Nt[1],D.ia=Nt[2];const Hn=Nt[3];Hn!=null&&(D.la=Hn,D.j.info("VER="+D.la));const Vn=Nt[4];Vn!=null&&(D.Aa=Vn,D.j.info("SVER="+D.Aa));const ja=Nt[5];ja!=null&&typeof ja=="number"&&0<ja&&(G=1.5*ja,D.L=G,D.j.info("backChannelRequestTimeoutMs_="+G)),G=D;const tr=m.g;if(tr){const Zi=tr.g?tr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zi){var pe=G.h;pe.g||Zi.indexOf("spdy")==-1&&Zi.indexOf("quic")==-1&&Zi.indexOf("h2")==-1||(pe.j=pe.l,pe.g=new Set,pe.h&&(Ra(pe,pe.h),pe.h=null))}if(G.D){const hc=tr.g?tr.g.getResponseHeader("X-HTTP-Session-Id"):null;hc&&(G.ya=hc,qt(G.I,G.D,hc))}}D.G=3,D.l&&D.l.ua(),D.ba&&(D.R=Date.now()-m.F,D.j.info("Handshake RTT: "+D.R+"ms")),G=D;var Ae=m;if(G.qa=Zf(G,G.J?G.ia:null,G.W),Ae.K){er(G.h,Ae);var Rt=Ae,Ln=G.L;Ln&&(Rt.I=Ln),Rt.B&&(ur(Rt),kr(Rt)),G.g=Ae}else Wf(G);0<D.i.length&&Rl(D)}else Nt[0]!="stop"&&Nt[0]!="close"||Da(D,7);else D.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?Da(D,7):uc(D):Nt[0]!="noop"&&D.l&&D.l.ta(Nt),D.v=0)}}te(4)}catch{}}var Lr=class{constructor(m,_){this.g=m,this.map=_}};function Ar(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qi(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Yt(m){return m.h?1:m.g?m.g.size:0}function ri(m,_){return m.h?m.h==_:m.g?m.g.has(_):!1}function Ra(m,_){m.g?m.g.add(_):m.h=_}function er(m,_){m.h&&m.h==_?m.h=null:m.g&&m.g.has(_)&&m.g.delete(_)}Ar.prototype.cancel=function(){if(this.i=nc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function nc(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let _=m.i;for(const D of m.g.values())_=_.concat(D.D);return _}return P(m.i)}function Og(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(d(m)){for(var _=[],D=m.length,G=0;G<D;G++)_.push(m[G]);return _}_=[],D=0;for(G in m)_[D++]=m[G];return _}function xl(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(d(m)||typeof m=="string"){var _=[];m=m.length;for(var D=0;D<m;D++)_.push(D);return _}_=[],D=0;for(const G in m)_[D++]=G;return _}}}function rc(m,_){if(m.forEach&&typeof m.forEach=="function")m.forEach(_,void 0);else if(d(m)||typeof m=="string")Array.prototype.forEach.call(m,_,void 0);else for(var D=xl(m),G=Og(m),oe=G.length,pe=0;pe<oe;pe++)_.call(void 0,G[pe],D&&D[pe],m)}var yo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mg(m,_){if(m){m=m.split("&");for(var D=0;D<m.length;D++){var G=m[D].indexOf("="),oe=null;if(0<=G){var pe=m[D].substring(0,G);oe=m[D].substring(G+1)}else pe=m[D];_(pe,oe?decodeURIComponent(oe.replace(/\+/g," ")):"")}}}function Rn(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Rn){this.h=m.h,bo(this,m.j),this.o=m.o,this.g=m.g,ys(this,m.s),this.l=m.l;var _=m.i,D=new Ia;D.i=_.i,_.g&&(D.g=new Map(_.g),D.h=_.h),Na(this,D),this.m=m.m}else m&&(_=String(m).match(yo))?(this.h=!1,bo(this,_[1]||"",!0),this.o=ii(_[2]||""),this.g=ii(_[3]||"",!0),ys(this,_[4]),this.l=ii(_[5]||"",!0),Na(this,_[6]||"",!0),this.m=ii(_[7]||"")):(this.h=!1,this.i=new Ia(null,this.h))}Rn.prototype.toString=function(){var m=[],_=this.j;_&&m.push(xo(_,ic,!0),":");var D=this.g;return(D||_=="file")&&(m.push("//"),(_=this.o)&&m.push(xo(_,ic,!0),"@"),m.push(encodeURIComponent(String(D)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.s,D!=null&&m.push(":",String(D))),(D=this.l)&&(this.g&&D.charAt(0)!="/"&&m.push("/"),m.push(xo(D,D.charAt(0)=="/"?Pg:ac,!0))),(D=this.i.toString())&&m.push("?",D),(D=this.m)&&m.push("#",xo(D,_l)),m.join("")};function Vr(m){return new Rn(m)}function bo(m,_,D){m.j=D?ii(_,!0):_,m.j&&(m.j=m.j.replace(/:$/,""))}function ys(m,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);m.s=_}else m.s=null}function Na(m,_,D){_ instanceof Ia?(m.i=_,Hf(m.i,m.h)):(D||(_=xo(_,Dg)),m.i=new Ia(_,m.h))}function qt(m,_,D){m.i.set(_,D)}function wo(m){return qt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function ii(m,_){return m?_?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function xo(m,_,D){return typeof m=="string"?(m=encodeURI(m).replace(_,Ff),D&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Ff(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var ic=/[#\/\?@]/g,ac=/[#\?:]/g,Pg=/[#\?]/g,Dg=/[#\?@]/g,_l=/#/g;function Ia(m,_){this.h=this.g=null,this.i=m||null,this.j=!!_}function ai(m){m.g||(m.g=new Map,m.h=0,m.i&&Mg(m.i,function(_,D){m.add(decodeURIComponent(_.replace(/\+/g," ")),D)}))}t=Ia.prototype,t.add=function(m,_){ai(this),this.i=null,m=Gi(this,m);var D=this.g.get(m);return D||this.g.set(m,D=[]),D.push(_),this.h+=1,this};function Oa(m,_){ai(m),_=Gi(m,_),m.g.has(_)&&(m.i=null,m.h-=m.g.get(_).length,m.g.delete(_))}function Ma(m,_){return ai(m),_=Gi(m,_),m.g.has(_)}t.forEach=function(m,_){ai(this),this.g.forEach(function(D,G){D.forEach(function(oe){m.call(_,oe,G,this)},this)},this)},t.na=function(){ai(this);const m=Array.from(this.g.values()),_=Array.from(this.g.keys()),D=[];for(let G=0;G<_.length;G++){const oe=m[G];for(let pe=0;pe<oe.length;pe++)D.push(_[G])}return D},t.V=function(m){ai(this);let _=[];if(typeof m=="string")Ma(this,m)&&(_=_.concat(this.g.get(Gi(this,m))));else{m=Array.from(this.g.values());for(let D=0;D<m.length;D++)_=_.concat(m[D])}return _},t.set=function(m,_){return ai(this),this.i=null,m=Gi(this,m),Ma(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[_]),this.h+=1,this},t.get=function(m,_){return m?(m=this.V(m),0<m.length?String(m[0]):_):_};function sc(m,_,D){Oa(m,_),0<D.length&&(m.i=null,m.g.set(Gi(m,_),P(D)),m.h+=D.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],_=Array.from(this.g.keys());for(var D=0;D<_.length;D++){var G=_[D];const pe=encodeURIComponent(String(G)),Ae=this.V(G);for(G=0;G<Ae.length;G++){var oe=pe;Ae[G]!==""&&(oe+="="+encodeURIComponent(String(Ae[G]))),m.push(oe)}}return this.i=m.join("&")};function Gi(m,_){return _=String(_),m.j&&(_=_.toLowerCase()),_}function Hf(m,_){_&&!m.j&&(ai(m),m.i=null,m.g.forEach(function(D,G){var oe=G.toLowerCase();G!=oe&&(Oa(this,G),sc(this,oe,D))},m)),m.j=_}function _o(m,_){const D=new De;if(c.Image){const G=new Image;G.onload=A(si,D,"TestLoadImage: loaded",!0,_,G),G.onerror=A(si,D,"TestLoadImage: error",!1,_,G),G.onabort=A(si,D,"TestLoadImage: abort",!1,_,G),G.ontimeout=A(si,D,"TestLoadImage: timeout",!1,_,G),c.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=m}else _(!1)}function Ei(m,_){const D=new De,G=new AbortController,oe=setTimeout(()=>{G.abort(),si(D,"TestPingServer: timeout",!1,_)},1e4);fetch(m,{signal:G.signal}).then(pe=>{clearTimeout(oe),pe.ok?si(D,"TestPingServer: ok",!0,_):si(D,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(oe),si(D,"TestPingServer: error",!1,_)})}function si(m,_,D,G,oe){try{oe&&(oe.onload=null,oe.onerror=null,oe.onabort=null,oe.ontimeout=null),G(D)}catch{}}function So(){this.g=new ei}function Ki(m,_,D){const G=D||"";try{rc(m,function(oe,pe){let Ae=oe;h(oe)&&(Ae=jr(oe)),_.push(G+pe+"="+encodeURIComponent(Ae))})}catch(oe){throw _.push(G+"type="+encodeURIComponent("_badmap")),oe}}function bs(m){this.l=m.Ub||null,this.j=m.eb||!1}N(bs,ms),bs.prototype.g=function(){return new Pa(this.l,this.j)},bs.prototype.i=function(m){return function(){return m}}({});function Pa(m,_){pt.call(this),this.D=m,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Pa,pt),t=Pa.prototype,t.open=function(m,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=_,this.readyState=1,Yi(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(_.body=m),(this.D||c).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wi(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Yi(this)),this.g&&(this.readyState=3,Yi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;oc(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function oc(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var _=m.value?m.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!m.done}))&&(this.response=this.responseText+=_)}m.done?Wi(this):Yi(this),this.readyState==3&&oc(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,Wi(this))},t.Qa=function(m){this.g&&(this.response=m,Wi(this))},t.ga=function(){this.g&&Wi(this)};function Wi(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Yi(m)}t.setRequestHeader=function(m,_){this.u.append(m,_)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],_=this.h.entries();for(var D=_.next();!D.done;)D=D.value,m.push(D[0]+": "+D[1]),D=_.next();return m.join(`\r
`)};function Yi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Pa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function lc(m){let _="";return M(m,function(D,G){_+=G,_+=":",_+=D,_+=`\r
`}),_}function Fn(m,_,D){e:{for(G in D){var G=!1;break e}G=!0}G||(D=lc(D),typeof m=="string"?D!=null&&encodeURIComponent(String(D)):qt(m,_,D))}function zt(m){pt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(zt,pt);var Sl=/^https?$/i,To=["POST","PUT"];t=zt.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,_,D,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);_=_?_.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wt.g(),this.v=this.o?Ca(this.o):Ca(wt),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(_,String(m),!0),this.B=!1}catch(pe){$f(this,pe);return}if(m=D||"",D=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var oe in G)D.set(oe,G[oe]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const pe of G.keys())D.set(pe,G.get(pe));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(D.keys()).find(pe=>pe.toLowerCase()=="content-type"),oe=c.FormData&&m instanceof c.FormData,!(0<=Array.prototype.indexOf.call(To,_,void 0))||G||oe||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[pe,Ae]of D)this.g.setRequestHeader(pe,Ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Eo(this),this.u=!0,this.g.send(m),this.u=!1}catch(pe){$f(this,pe)}};function $f(m,_){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=_,m.m=5,Tl(m),Xi(m)}function Tl(m){m.A||(m.A=!0,qe(m,"complete"),qe(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,qe(this,"complete"),qe(this,"abort"),Xi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),zt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?El(this):this.bb())},t.bb=function(){El(this)};function El(m){if(m.h&&typeof l<"u"&&(!m.v[1]||oi(m)!=4||m.Z()!=2)){if(m.u&&oi(m)==4)Jt(m.Ea,0,m);else if(qe(m,"readystatechange"),oi(m)==4){m.h=!1;try{const Ae=m.Z();e:switch(Ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var D;if(!(D=_)){var G;if(G=Ae===0){var oe=String(m.D).match(yo)[1]||null;!oe&&c.self&&c.self.location&&(oe=c.self.location.protocol.slice(0,-1)),G=!Sl.test(oe?oe.toLowerCase():"")}D=G}if(D)qe(m,"complete"),qe(m,"success");else{m.m=6;try{var pe=2<oi(m)?m.g.statusText:""}catch{pe=""}m.l=pe+" ["+m.Z()+"]",Tl(m)}}finally{Xi(m)}}}}function Xi(m,_){if(m.g){Eo(m);const D=m.g,G=m.v[0]?()=>{}:null;m.g=null,m.v=null,_||qe(m,"ready");try{D.onreadystatechange=G}catch{}}}function Eo(m){m.I&&(c.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function oi(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<oi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var _=this.g.responseText;return m&&_.indexOf(m)==0&&(_=_.substring(m.length)),Aa(_)}};function qf(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function jg(m){const _={};m=(m.g&&2<=oi(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<m.length;G++){if(q(m[G]))continue;var D=k(m[G]);const oe=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const pe=_[oe]||[];_[oe]=pe,pe.push(D)}C(_,function(G){return G.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ao(m,_,D){return D&&D.internalChannelParams&&D.internalChannelParams[m]||_}function Al(m){this.Aa=0,this.i=[],this.j=new De,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ao("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ao("baseRetryDelayMs",5e3,m),this.cb=Ao("retryDelaySeedMs",1e4,m),this.Wa=Ao("forwardChannelMaxRetries",2,m),this.wa=Ao("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Ar(m&&m.concurrentRequestLimit),this.Da=new So,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Al.prototype,t.la=8,t.G=1,t.connect=function(m,_,D,G){ce(0),this.W=m,this.H=_||{},D&&G!==void 0&&(this.H.OSID=D,this.H.OAID=G),this.F=this.X,this.I=Zf(this,null,this.W),Rl(this)};function uc(m){if(Gf(m),m.G==3){var _=m.U++,D=Vr(m.I);if(qt(D,"SID",m.K),qt(D,"RID",_),qt(D,"TYPE","terminate"),Co(m,D),_=new Mt(m,m.j,_),_.L=2,_.v=wo(Vr(D)),D=!1,c.navigator&&c.navigator.sendBeacon)try{D=c.navigator.sendBeacon(_.v.toString(),"")}catch{}!D&&c.Image&&(new Image().src=_.v,D=!0),D||(_.g=Jf(_.j,null),_.g.ea(_.v)),_.F=Date.now(),kr(_)}Qf(m)}function Cl(m){m.g&&(Ro(m),m.g.cancel(),m.g=null)}function Gf(m){Cl(m),m.u&&(c.clearTimeout(m.u),m.u=null),Nl(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&c.clearTimeout(m.s),m.s=null)}function Rl(m){if(!qi(m.h)&&!m.s){m.s=!0;var _=m.Ga;T||x(),J||(T(),J=!0),K.add(_,m),m.B=0}}function kg(m,_){return Yt(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=_.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Te(w(m.Ga,m,_),fc(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const oe=new Mt(this,this.j,m);let pe=this.o;if(this.S&&(pe?(pe=I(pe),S(pe,this.S)):pe=this.S),this.m!==null||this.O||(oe.H=pe,pe=null),this.P)e:{for(var _=0,D=0;D<this.i.length;D++){t:{var G=this.i[D];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(_+=G,4096<_){_=D;break e}if(_===4096||D===this.i.length-1){_=D+1;break e}}_=1e3}else _=1e3;_=Kf(this,oe,_),D=Vr(this.I),qt(D,"RID",m),qt(D,"CVER",22),this.D&&qt(D,"X-HTTP-Session-Id",this.D),Co(this,D),pe&&(this.O?_="headers="+encodeURIComponent(String(lc(pe)))+"&"+_:this.m&&Fn(D,this.m,pe)),Ra(this.h,oe),this.Ua&&qt(D,"TYPE","init"),this.P?(qt(D,"$req",_),qt(D,"SID","null"),oe.T=!0,kn(oe,D,null)):kn(oe,D,_),this.G=2}}else this.G==3&&(m?cc(this,m):this.i.length==0||qi(this.h)||cc(this))};function cc(m,_){var D;_?D=_.l:D=m.U++;const G=Vr(m.I);qt(G,"SID",m.K),qt(G,"RID",D),qt(G,"AID",m.T),Co(m,G),m.m&&m.o&&Fn(G,m.m,m.o),D=new Mt(m,m.j,D,m.B+1),m.m===null&&(D.H=m.o),_&&(m.i=_.D.concat(m.i)),_=Kf(m,D,1e3),D.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Ra(m.h,D),kn(D,G,_)}function Co(m,_){m.H&&M(m.H,function(D,G){qt(_,G,D)}),m.l&&rc({},function(D,G){qt(_,G,D)})}function Kf(m,_,D){D=Math.min(m.i.length,D);var G=m.l?w(m.l.Na,m.l,m):null;e:{var oe=m.i;let pe=-1;for(;;){const Ae=["count="+D];pe==-1?0<D?(pe=oe[0].g,Ae.push("ofs="+pe)):pe=0:Ae.push("ofs="+pe);let Rt=!0;for(let Ln=0;Ln<D;Ln++){let Nt=oe[Ln].g;const Hn=oe[Ln].map;if(Nt-=pe,0>Nt)pe=Math.max(0,oe[Ln].g-100),Rt=!1;else try{Ki(Hn,Ae,"req"+Nt+"_")}catch{G&&G(Hn)}}if(Rt){G=Ae.join("&");break e}}}return m=m.i.splice(0,D),_.D=m,G}function Wf(m){if(!m.g&&!m.u){m.Y=1;var _=m.Fa;T||x(),J||(T(),J=!0),K.add(_,m),m.v=0}}function dc(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Te(w(m.Fa,m),fc(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,Yf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Te(w(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ce(10),Cl(this),Yf(this))};function Ro(m){m.A!=null&&(c.clearTimeout(m.A),m.A=null)}function Yf(m){m.g=new Mt(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var _=Vr(m.qa);qt(_,"RID","rpc"),qt(_,"SID",m.K),qt(_,"AID",m.T),qt(_,"CI",m.F?"0":"1"),!m.F&&m.ja&&qt(_,"TO",m.ja),qt(_,"TYPE","xmlhttp"),Co(m,_),m.m&&m.o&&Fn(_,m.m,m.o),m.L&&(m.g.I=m.L);var D=m.g;m=m.ia,D.L=1,D.v=wo(Vr(_)),D.m=null,D.P=!0,yr(D,m)}t.Za=function(){this.C!=null&&(this.C=null,Cl(this),dc(this),ce(19))};function Nl(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function Xf(m,_){var D=null;if(m.g==_){Nl(m),Ro(m),m.g=null;var G=2}else if(ri(m.h,_))D=_.D,er(m.h,_),G=1;else return;if(m.G!=0){if(_.o)if(G==1){D=_.m?_.m.length:0,_=Date.now()-_.F;var oe=m.B;G=Hi(),qe(G,new xe(G,D)),Rl(m)}else Wf(m);else if(oe=_.s,oe==3||oe==0&&0<_.X||!(G==1&&kg(m,_)||G==2&&dc(m)))switch(D&&0<D.length&&(_=m.h,_.i=_.i.concat(D)),oe){case 1:Da(m,5);break;case 4:Da(m,10);break;case 3:Da(m,6);break;default:Da(m,2)}}}function fc(m,_){let D=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(D*=2),D*_}function Da(m,_){if(m.j.info("Error code "+_),_==2){var D=w(m.fb,m),G=m.Xa;const oe=!G;G=new Rn(G||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||bo(G,"https"),wo(G),oe?_o(G.toString(),D):Ei(G.toString(),D)}else ce(2);m.G=0,m.l&&m.l.sa(_),Qf(m),Gf(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),ce(2)):(this.j.info("Failed to ping google.com"),ce(1))};function Qf(m){if(m.G=0,m.ka=[],m.l){const _=nc(m.h);(_.length!=0||m.i.length!=0)&&(U(m.ka,_),U(m.ka,m.i),m.h.i.length=0,P(m.i),m.i.length=0),m.l.ra()}}function Zf(m,_,D){var G=D instanceof Rn?Vr(D):new Rn(D);if(G.g!="")_&&(G.g=_+"."+G.g),ys(G,G.s);else{var oe=c.location;G=oe.protocol,_=_?_+"."+oe.hostname:oe.hostname,oe=+oe.port;var pe=new Rn(null);G&&bo(pe,G),_&&(pe.g=_),oe&&ys(pe,oe),D&&(pe.l=D),G=pe}return D=m.D,_=m.ya,D&&_&&qt(G,D,_),qt(G,"VER",m.la),Co(m,G),G}function Jf(m,_,D){if(_&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=m.Ca&&!m.pa?new zt(new bs({eb:D})):new zt(m.pa),_.Ha(m.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function eh(){}t=eh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Il(){}Il.prototype.g=function(m,_){return new wr(m,_)};function wr(m,_){pt.call(this),this.g=new Al(_),this.l=m,this.h=_&&_.messageUrlParams||null,m=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(m?m["X-WebChannel-Content-Type"]=_.messageContentType:m={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(m?m["X-WebChannel-Client-Profile"]=_.va:m={"X-WebChannel-Client-Profile":_.va}),this.g.S=m,(m=_&&_.Sb)&&!q(m)&&(this.g.m=m),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!q(_)&&(this.g.D=_,m=this.h,m!==null&&_ in m&&(m=this.h,_ in m&&delete m[_])),this.j=new Qi(this)}N(wr,pt),wr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wr.prototype.close=function(){uc(this.g)},wr.prototype.o=function(m){var _=this.g;if(typeof m=="string"){var D={};D.__data__=m,m=D}else this.u&&(D={},D.__data__=jr(m),m=D);_.i.push(new Lr(_.Ya++,m)),_.G==3&&Rl(_)},wr.prototype.N=function(){this.g.l=null,delete this.j,uc(this.g),delete this.g,wr.aa.N.call(this)};function th(m){Ti.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var _=m.__sm__;if(_){e:{for(const D in _){m=D;break e}m=void 0}(this.i=m)&&(m=this.i,_=_!==null&&m in _?_[m]:void 0),this.data=_}else this.data=m}N(th,Ti);function nh(){ps.call(this),this.status=1}N(nh,ps);function Qi(m){this.g=m}N(Qi,eh),Qi.prototype.ua=function(){qe(this.g,"a")},Qi.prototype.ta=function(m){qe(this.g,new th(m))},Qi.prototype.sa=function(m){qe(this.g,new nh)},Qi.prototype.ra=function(){qe(this.g,"b")},Il.prototype.createWebChannel=Il.prototype.g,wr.prototype.send=wr.prototype.o,wr.prototype.open=wr.prototype.m,wr.prototype.close=wr.prototype.close,DN=function(){return new Il},PN=function(){return Hi()},MN=vr,H0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ke.NO_ERROR=0,Ke.TIMEOUT=8,Ke.HTTP_ERROR=6,Mm=Ke,it.COMPLETE="complete",ON=it,vo.EventType=ti,ti.OPEN="a",ti.CLOSE="b",ti.ERROR="c",ti.MESSAGE="d",pt.prototype.listen=pt.prototype.K,wd=vo,zt.prototype.listenOnce=zt.prototype.L,zt.prototype.getLastError=zt.prototype.Ka,zt.prototype.getLastErrorCode=zt.prototype.Ba,zt.prototype.getStatus=zt.prototype.Z,zt.prototype.getResponseJson=zt.prototype.Oa,zt.prototype.getResponseText=zt.prototype.oa,zt.prototype.send=zt.prototype.ea,zt.prototype.setWithCredentials=zt.prototype.Ha,IN=zt}).apply(typeof am<"u"?am:typeof self<"u"?self:typeof window<"u"?window:{});const vE="@firebase/firestore",yE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};mr.UNAUTHENTICATED=new mr(null),mr.GOOGLE_CREDENTIALS=new mr("google-credentials-uid"),mr.FIRST_PARTY=new mr("first-party-uid"),mr.MOCK_USER=new mr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll=new Jb("@firebase/firestore");function su(){return ll.logLevel}function Me(t,...e){if(ll.logLevel<=Et.DEBUG){const n=e.map(dw);ll.debug(`Firestore (${Ku}): ${t}`,...n)}}function ss(t,...e){if(ll.logLevel<=Et.ERROR){const n=e.map(dw);ll.error(`Firestore (${Ku}): ${t}`,...n)}}function os(t,...e){if(ll.logLevel<=Et.WARN){const n=e.map(dw);ll.warn(`Firestore (${Ku}): ${t}`,...n)}}function dw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,jN(t,r,n)}function jN(t,e,n){let r=`FIRESTORE (${Ku}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ss(r),new Error(r)}function Ft(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||jN(e,i,r)}function ct(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends _a{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class LN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mr.UNAUTHENTICATED))}shutdown(){}}class w3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class x3{constructor(e){this.t=e,this.currentUser=mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ft(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new Ja;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ja,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},c=d=>{Me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(Me("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ja)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ft(typeof r.accessToken=="string",31837,{l:r}),new kN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ft(e===null||typeof e=="string",2055,{h:e}),new mr(e)}}class _3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=mr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class S3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new _3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(mr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class bE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class T3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ft(this.o===void 0,3512);const r=o=>{o.error!=null&&Me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,Me("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new bE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new bE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=E3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function vt(t,e){return t<e?-1:t>e?1:0}function $0(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return vt(r,i);{const o=VN(),l=A3(o.encode(wE(t,n)),o.encode(wE(e,n)));return l!==0?l:vt(r,i)}}n+=r>65535?2:1}return vt(t.length,e.length)}function wE(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function A3(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return vt(t[n],e[n]);return vt(t.length,e.length)}function Mu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="__name__";class ia{constructor(e,n,r){n===void 0?n=0:n>e.length&&rt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&rt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ia.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ia?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=ia.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return vt(e.length,n.length)}static compareSegments(e,n){const r=ia.isNumericId(e),i=ia.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ia.extractNumericId(e).compare(ia.extractNumericId(n)):$0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Js.fromString(e.substring(4,e.length-2))}}class Qt extends ia{construct(e,n,r){return new Qt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(ve.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Qt(n)}static emptyPath(){return new Qt([])}}const C3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yn extends ia{construct(e,n,r){return new Yn(e,n,r)}static isValidIdentifier(e){return C3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xE}static keyField(){return new Yn([xE])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Re(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Re(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Re(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(o(),i++)}if(o(),l)throw new Re(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yn(n)}static emptyPath(){return new Yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be(Qt.fromString(e))}static fromName(e){return new Be(Qt.fromString(e).popFirst(5))}static empty(){return new Be(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new Qt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(t,e,n){if(!n)throw new Re(ve.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function zN(t,e,n,r){if(e===!0&&r===!0)throw new Re(ve.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function _E(t){if(!Be.isDocumentKey(t))throw new Re(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function SE(t){if(Be.isDocumentKey(t))throw new Re(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function BN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Yp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":rt(12329,{type:typeof t})}function Tr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Re(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yp(t);throw new Re(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(t,e){const n={typeString:t};return e&&(n.value=e),n}function yf(t,e){if(!BN(t))throw new Re(ve.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Re(ve.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=-62135596800,EE=1e6;class Zt{static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*EE);return new Zt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Re(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Re(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<TE)throw new Re(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/EE}_compareTo(e){return this.seconds===e.seconds?vt(this.nanoseconds,e.nanoseconds):vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Zt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(yf(e,Zt._jsonSchema))return new Zt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-TE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Zt._jsonSchemaVersion="firestore/timestamp/1.0",Zt._jsonSchema={type:jn("string",Zt._jsonSchemaVersion),seconds:jn("number"),nanoseconds:jn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{static fromTimestamp(e){return new ut(e)}static min(){return new ut(new Zt(0,0))}static max(){return new ut(new Zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d=-1;function R3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ut.fromTimestamp(r===1e9?new Zt(n+1,0):new Zt(n,r));return new ro(i,Be.empty(),e)}function N3(t){return new ro(t.readTime,t.key,$d)}class ro{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ro(ut.min(),Be.empty(),$d)}static max(){return new ro(ut.max(),Be.empty(),$d)}}function I3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Be.comparator(t.documentKey,e.documentKey),n!==0?n:vt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class M3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wu(t){if(t.code!==ve.FAILED_PRECONDITION||t.message!==O3)throw t;Me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new _e((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof _e?n:_e.resolve(n)}catch(n){return _e.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):_e.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):_e.reject(n)}static resolve(e){return new _e((n,r)=>{n(e)})}static reject(e){return new _e((n,r)=>{r(e)})}static waitFor(e){return new _e((n,r)=>{let i=0,o=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++o,l&&o===i&&n()},d=>r(d))}),l=!0,o===i&&n()})}static or(e){let n=_e.resolve(!1);for(const r of e)n=n.next(i=>i?_e.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new _e((r,i)=>{const o=e.length,l=new Array(o);let c=0;for(let d=0;d<o;d++){const h=d;n(e[h]).next(p=>{l[h]=p,++c,c===o&&r(l)},p=>i(p))}})}static doWhile(e,n){return new _e((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function P3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Xp.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw=-1;function Qp(t){return t==null}function op(t){return t===0&&1/t==-1/0}function D3(t){return typeof t=="number"&&Number.isInteger(t)&&!op(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="";function j3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=AE(e)),e=k3(t.get(n),e);return AE(e)}function k3(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case FN:n+="";break;default:n+=o}}return n}function AE(t){return t+FN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ho(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function HN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,n){this.comparator=e,this.root=n||ar.EMPTY}insert(e,n){return new fn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ar.BLACK,null,null))}remove(e){return new fn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ar.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sm(this.root,e,this.comparator,!1)}getReverseIterator(){return new sm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sm(this.root,e,this.comparator,!0)}}class sm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ar{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??ar.RED,this.left=i??ar.EMPTY,this.right=o??ar.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new ar(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ar.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ar.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ar.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ar.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw rt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw rt(27949);return e+(this.isRed()?0:1)}}ar.EMPTY=null,ar.RED=!0,ar.BLACK=!1;ar.EMPTY=new class{constructor(){this.size=0}get key(){throw rt(57766)}get value(){throw rt(16141)}get color(){throw rt(16727)}get left(){throw rt(29726)}get right(){throw rt(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new ar(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.comparator=e,this.data=new fn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new RE(this.data.getIterator())}getIteratorFrom(e){return new RE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Bn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Bn(this.comparator);return n.data=e,n}}class RE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.fields=e,e.sort(Yn.comparator)}static empty(){return new Xr([])}unionWith(e){let n=new Bn(Yn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Mu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new $N("Invalid base64 string: "+o):o}}(e);return new Zn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new Zn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zn.EMPTY_BYTE_STRING=new Zn("");const L3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function io(t){if(Ft(!!t,39018),typeof t=="string"){let e=0;const n=L3.exec(t);if(Ft(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tn(t.seconds),nanos:Tn(t.nanos)}}function Tn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ao(t){return typeof t=="string"?Zn.fromBase64String(t):Zn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN="server_timestamp",GN="__type__",KN="__previous_value__",WN="__local_write_time__";function Zp(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[GN])===null||n===void 0?void 0:n.stringValue)===qN}function Jp(t){const e=t.mapValue.fields[KN];return Zp(e)?Jp(e):e}function qd(t){const e=io(t.mapValue.fields[WN].timestampValue);return new Zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(e,n,r,i,o,l,c,d,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=p}}const lp="(default)";class Pu{constructor(e,n){this.projectId=e,this.database=n||lp}static empty(){return new Pu("","")}get isDefaultDatabase(){return this.database===lp}isEqual(e){return e instanceof Pu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="__type__",U3="__max__",om={mapValue:{}},XN="__vector__",up="value";function so(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zp(t)?4:B3(t)?9007199254740991:z3(t)?10:11:rt(28295,{value:t})}function ya(t,e){if(t===e)return!0;const n=so(t);if(n!==so(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qd(t).isEqual(qd(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=io(i.timestampValue),c=io(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ao(i.bytesValue).isEqual(ao(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Tn(i.geoPointValue.latitude)===Tn(o.geoPointValue.latitude)&&Tn(i.geoPointValue.longitude)===Tn(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Tn(i.integerValue)===Tn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=Tn(i.doubleValue),c=Tn(o.doubleValue);return l===c?op(l)===op(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return Mu(t.arrayValue.values||[],e.arrayValue.values||[],ya);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(CE(l)!==CE(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!ya(l[d],c[d])))return!1;return!0}(t,e);default:return rt(52216,{left:t})}}function Gd(t,e){return(t.values||[]).find(n=>ya(n,e))!==void 0}function Du(t,e){if(t===e)return 0;const n=so(t),r=so(e);if(n!==r)return vt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return vt(t.booleanValue,e.booleanValue);case 2:return function(o,l){const c=Tn(o.integerValue||o.doubleValue),d=Tn(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return NE(t.timestampValue,e.timestampValue);case 4:return NE(qd(t),qd(e));case 5:return $0(t.stringValue,e.stringValue);case 6:return function(o,l){const c=ao(o),d=ao(l);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),d=l.split("/");for(let h=0;h<c.length&&h<d.length;h++){const p=vt(c[h],d[h]);if(p!==0)return p}return vt(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,l){const c=vt(Tn(o.latitude),Tn(l.latitude));return c!==0?c:vt(Tn(o.longitude),Tn(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return IE(t.arrayValue,e.arrayValue);case 10:return function(o,l){var c,d,h,p;const y=o.fields||{},w=l.fields||{},A=(c=y[up])===null||c===void 0?void 0:c.arrayValue,N=(d=w[up])===null||d===void 0?void 0:d.arrayValue,P=vt(((h=A?.values)===null||h===void 0?void 0:h.length)||0,((p=N?.values)===null||p===void 0?void 0:p.length)||0);return P!==0?P:IE(A,N)}(t.mapValue,e.mapValue);case 11:return function(o,l){if(o===om.mapValue&&l===om.mapValue)return 0;if(o===om.mapValue)return 1;if(l===om.mapValue)return-1;const c=o.fields||{},d=Object.keys(c),h=l.fields||{},p=Object.keys(h);d.sort(),p.sort();for(let y=0;y<d.length&&y<p.length;++y){const w=$0(d[y],p[y]);if(w!==0)return w;const A=Du(c[d[y]],h[p[y]]);if(A!==0)return A}return vt(d.length,p.length)}(t.mapValue,e.mapValue);default:throw rt(23264,{le:n})}}function NE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return vt(t,e);const n=io(t),r=io(e),i=vt(n.seconds,r.seconds);return i!==0?i:vt(n.nanos,r.nanos)}function IE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Du(n[i],r[i]);if(o)return o}return vt(n.length,r.length)}function ju(t){return q0(t)}function q0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=io(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ao(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Be.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=q0(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${q0(n.fields[l])}`;return i+"}"}(t.mapValue):rt(61005,{value:t})}function Pm(t){switch(so(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jp(t);return e?16+Pm(e):16;case 5:return 2*t.stringValue.length;case 6:return ao(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Pm(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ho(r.fields,(o,l)=>{i+=o.length+Pm(l)}),i}(t.mapValue);default:throw rt(13486,{value:t})}}function cp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function G0(t){return!!t&&"integerValue"in t}function hw(t){return!!t&&"arrayValue"in t}function OE(t){return!!t&&"nullValue"in t}function ME(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Dm(t){return!!t&&"mapValue"in t}function z3(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[YN])===null||n===void 0?void 0:n.stringValue)===XN}function Nd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ho(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Nd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Nd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function B3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===U3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this.value=e}static empty(){return new Or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Dm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nd(n)}setAll(e){let n=Yn.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=Nd(l):i.push(c.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Dm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ya(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Dm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ho(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Or(Nd(this.value))}}function QN(t){const e=[];return ho(t.fields,(n,r)=>{const i=new Yn([n]);if(Dm(r)){const o=QN(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new Xr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,n,r,i,o,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new pr(e,0,ut.min(),ut.min(),ut.min(),Or.empty(),0)}static newFoundDocument(e,n,r,i){return new pr(e,1,n,ut.min(),r,i,0)}static newNoDocument(e,n){return new pr(e,2,n,ut.min(),ut.min(),Or.empty(),0)}static newUnknownDocument(e,n){return new pr(e,3,n,ut.min(),ut.min(),Or.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ut.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ut.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n){this.position=e,this.inclusive=n}}function PE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],l=t.position[i];if(o.field.isKeyField()?r=Be.comparator(Be.fromName(l.referenceValue),n.key):r=Du(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function DE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ya(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n="asc"){this.field=e,this.dir=n}}function F3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{}class Dn extends ZN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new $3(e,n,r):n==="array-contains"?new K3(e,r):n==="in"?new W3(e,r):n==="not-in"?new Y3(e,r):n==="array-contains-any"?new X3(e,r):new Dn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new q3(e,r):new G3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Du(n,this.value)):n!==null&&so(this.value)===so(n)&&this.matchesComparison(Du(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ki extends ZN{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new ki(e,n)}matches(e){return JN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function JN(t){return t.op==="and"}function eI(t){return H3(t)&&JN(t)}function H3(t){for(const e of t.filters)if(e instanceof ki)return!1;return!0}function K0(t){if(t instanceof Dn)return t.field.canonicalString()+t.op.toString()+ju(t.value);if(eI(t))return t.filters.map(e=>K0(e)).join(",");{const e=t.filters.map(n=>K0(n)).join(",");return`${t.op}(${e})`}}function tI(t,e){return t instanceof Dn?function(r,i){return i instanceof Dn&&r.op===i.op&&r.field.isEqual(i.field)&&ya(r.value,i.value)}(t,e):t instanceof ki?function(r,i){return i instanceof ki&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,c)=>o&&tI(l,i.filters[c]),!0):!1}(t,e):void rt(19439)}function nI(t){return t instanceof Dn?function(n){return`${n.field.canonicalString()} ${n.op} ${ju(n.value)}`}(t):t instanceof ki?function(n){return n.op.toString()+" {"+n.getFilters().map(nI).join(" ,")+"}"}(t):"Filter"}class $3 extends Dn{constructor(e,n,r){super(e,n,r),this.key=Be.fromName(r.referenceValue)}matches(e){const n=Be.comparator(e.key,this.key);return this.matchesComparison(n)}}class q3 extends Dn{constructor(e,n){super(e,"in",n),this.keys=rI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class G3 extends Dn{constructor(e,n){super(e,"not-in",n),this.keys=rI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function rI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Be.fromName(r.referenceValue))}class K3 extends Dn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hw(n)&&Gd(n.arrayValue,this.value)}}class W3 extends Dn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Gd(this.value.arrayValue,n)}}class Y3 extends Dn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Gd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Gd(this.value.arrayValue,n)}}class X3 extends Dn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Gd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e,n=null,r=[],i=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.Pe=null}}function jE(t,e=null,n=[],r=[],i=null,o=null,l=null){return new Q3(t,e,n,r,i,o,l)}function mw(t){const e=ct(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>K0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Qp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ju(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ju(r)).join(",")),e.Pe=n}return e.Pe}function pw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!F3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!tI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!DE(t.startAt,e.startAt)&&DE(t.endAt,e.endAt)}function W0(t){return Be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n=null,r=[],i=[],o=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=d,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function Z3(t,e,n,r,i,o,l,c){return new gl(t,e,n,r,i,o,l,c)}function eg(t){return new gl(t)}function kE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function gw(t){return t.collectionGroup!==null}function Au(t){const e=ct(t);if(e.Te===null){e.Te=[];const n=new Set;for(const o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Bn(Yn.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Kd(o,r))}),n.has(Yn.keyField().canonicalString())||e.Te.push(new Kd(Yn.keyField(),r))}return e.Te}function da(t){const e=ct(t);return e.Ie||(e.Ie=J3(e,Au(t))),e.Ie}function J3(t,e){if(t.limitType==="F")return jE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Kd(i.field,o)});const n=t.endAt?new ku(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ku(t.startAt.position,t.startAt.inclusive):null;return jE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Y0(t,e){const n=t.filters.concat([e]);return new gl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function dp(t,e,n){return new gl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function tg(t,e){return pw(da(t),da(e))&&t.limitType===e.limitType}function iI(t){return`${mw(da(t))}|lt:${t.limitType}`}function ou(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>nI(i)).join(", ")}]`),Qp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ju(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ju(i)).join(",")),`Target(${r})`}(da(t))}; limitType=${t.limitType})`}function ng(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Be.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Au(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(l,c,d){const h=PE(l,c,d);return l.inclusive?h<=0:h<0}(r.startAt,Au(r),i)||r.endAt&&!function(l,c,d){const h=PE(l,c,d);return l.inclusive?h>=0:h>0}(r.endAt,Au(r),i))}(t,e)}function e6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function aI(t){return(e,n)=>{let r=!1;for(const i of Au(t)){const o=t6(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function t6(t,e,n){const r=t.field.isKeyField()?Be.comparator(e.key,n.key):function(o,l,c){const d=l.data.field(o),h=c.data.field(o);return d!==null&&h!==null?Du(d,h):rt(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return rt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ho(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return HN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=new fn(Be.comparator);function ls(){return n6}const sI=new fn(Be.comparator);function xd(...t){let e=sI;for(const n of t)e=e.insert(n.key,n);return e}function oI(t){let e=sI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Xo(){return Id()}function lI(){return Id()}function Id(){return new vl(t=>t.toString(),(t,e)=>t.isEqual(e))}const r6=new fn(Be.comparator),i6=new Bn(Be.comparator);function At(...t){let e=i6;for(const n of t)e=e.add(n);return e}const a6=new Bn(vt);function s6(){return a6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:op(e)?"-0":e}}function uI(t){return{integerValue:""+t}}function o6(t,e){return D3(e)?uI(e):vw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(){this._=void 0}}function l6(t,e,n){return t instanceof Wd?function(i,o){const l={fields:{[GN]:{stringValue:qN},[WN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Zp(o)&&(o=Jp(o)),o&&(l.fields[KN]=o),{mapValue:l}}(n,e):t instanceof Yd?dI(t,e):t instanceof Xd?fI(t,e):function(i,o){const l=cI(i,o),c=LE(l)+LE(i.Ee);return G0(l)&&G0(i.Ee)?uI(c):vw(i.serializer,c)}(t,e)}function u6(t,e,n){return t instanceof Yd?dI(t,e):t instanceof Xd?fI(t,e):n}function cI(t,e){return t instanceof fp?function(r){return G0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Wd extends rg{}class Yd extends rg{constructor(e){super(),this.elements=e}}function dI(t,e){const n=hI(e);for(const r of t.elements)n.some(i=>ya(i,r))||n.push(r);return{arrayValue:{values:n}}}class Xd extends rg{constructor(e){super(),this.elements=e}}function fI(t,e){let n=hI(e);for(const r of t.elements)n=n.filter(i=>!ya(i,r));return{arrayValue:{values:n}}}class fp extends rg{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function LE(t){return Tn(t.integerValue||t.doubleValue)}function hI(t){return hw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,n){this.field=e,this.transform=n}}function d6(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Yd&&i instanceof Yd||r instanceof Xd&&i instanceof Xd?Mu(r.elements,i.elements,ya):r instanceof fp&&i instanceof fp?ya(r.Ee,i.Ee):r instanceof Wd&&i instanceof Wd}(t.transform,e.transform)}class f6{constructor(e,n){this.version=e,this.transformResults=n}}class wi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ig{}function mI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new yw(t.key,wi.none()):new bf(t.key,t.data,wi.none());{const n=t.data,r=Or.empty();let i=new Bn(Yn.comparator);for(let o of e.fields)if(!i.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new mo(t.key,r,new Xr(i.toArray()),wi.none())}}function h6(t,e,n){t instanceof bf?function(i,o,l){const c=i.value.clone(),d=UE(i.fieldTransforms,o,l.transformResults);c.setAll(d),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof mo?function(i,o,l){if(!jm(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=UE(i.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(pI(i)),d.setAll(c),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Od(t,e,n,r){return t instanceof bf?function(o,l,c,d){if(!jm(o.precondition,l))return c;const h=o.value.clone(),p=zE(o.fieldTransforms,d,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof mo?function(o,l,c,d){if(!jm(o.precondition,l))return c;const h=zE(o.fieldTransforms,d,l),p=l.data;return p.setAll(pI(o)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(o,l,c){return jm(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function m6(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=cI(r.transform,i||null);o!=null&&(n===null&&(n=Or.empty()),n.set(r.field,o))}return n||null}function VE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Mu(r,i,(o,l)=>d6(o,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class bf extends ig{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class mo extends ig{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function pI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function UE(t,e,n){const r=new Map;Ft(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const o=t[i],l=o.transform,c=e.data.field(o.field);r.set(o.field,u6(l,c,n[i]))}return r}function zE(t,e,n){const r=new Map;for(const i of t){const o=i.transform,l=n.data.field(i.field);r.set(i.field,l6(o,l,e))}return r}class yw extends ig{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class p6 extends ig{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&h6(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Od(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Od(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=lI();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(i.key)?null:c;const d=mI(l,c);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(ut.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),At())}isEqual(e){return this.batchId===e.batchId&&Mu(this.mutations,e.mutations,(n,r)=>VE(n,r))&&Mu(this.baseMutations,e.baseMutations,(n,r)=>VE(n,r))}}class bw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ft(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return r6}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new bw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var On,Ot;function b6(t){switch(t){case ve.OK:return rt(64938);case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0;default:return rt(15467,{code:t})}}function gI(t){if(t===void 0)return ss("GRPC error has no .code"),ve.UNKNOWN;switch(t){case On.OK:return ve.OK;case On.CANCELLED:return ve.CANCELLED;case On.UNKNOWN:return ve.UNKNOWN;case On.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case On.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case On.INTERNAL:return ve.INTERNAL;case On.UNAVAILABLE:return ve.UNAVAILABLE;case On.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case On.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case On.NOT_FOUND:return ve.NOT_FOUND;case On.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case On.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case On.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case On.ABORTED:return ve.ABORTED;case On.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case On.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case On.DATA_LOSS:return ve.DATA_LOSS;default:return rt(39323,{code:t})}}(Ot=On||(On={}))[Ot.OK=0]="OK",Ot[Ot.CANCELLED=1]="CANCELLED",Ot[Ot.UNKNOWN=2]="UNKNOWN",Ot[Ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ot[Ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ot[Ot.NOT_FOUND=5]="NOT_FOUND",Ot[Ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ot[Ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ot[Ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ot[Ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ot[Ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ot[Ot.ABORTED=10]="ABORTED",Ot[Ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ot[Ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ot[Ot.INTERNAL=13]="INTERNAL",Ot[Ot.UNAVAILABLE=14]="UNAVAILABLE",Ot[Ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6=new Js([4294967295,4294967295],0);function BE(t){const e=VN().encode(t),n=new NN;return n.update(e),new Uint8Array(n.digest())}function FE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Js([n,r],0),new Js([i,o],0)]}class ww{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _d(`Invalid padding: ${n}`);if(r<0)throw new _d(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _d(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _d(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Js.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(Js.fromNumber(r)));return i.compare(w6)===1&&(i=new Js([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=BE(e),[r,i]=FE(n);for(let o=0;o<this.hashCount;o++){const l=this.pe(r,i,o);if(!this.ye(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new ww(o,i,n);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.fe===0)return;const n=BE(e),[r,i]=FE(n);for(let o=0;o<this.hashCount;o++){const l=this.pe(r,i,o);this.we(l)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class _d extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,wf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ag(ut.min(),i,new fn(vt),ls(),At())}}class wf{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new wf(r,n,At(),At(),At())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class vI{constructor(e,n){this.targetId=e,this.De=n}}class yI{constructor(e,n,r=Zn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class HE{constructor(){this.ve=0,this.Ce=$E(),this.Fe=Zn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=At(),n=At(),r=At();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:rt(38017,{changeType:o})}}),new wf(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=$E()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class x6{constructor(e){this.We=e,this.Ge=new Map,this.ze=ls(),this.je=lm(),this.Je=lm(),this.He=new fn(vt)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:rt(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const o=i.target;if(W0(o))if(r===0){const l=new Be(o.path);this.Xe(n,l,pr.newNoDocument(l,ut.min()))}else Ft(r===1,20013,{expectedCount:r});else{const l=this.ot(n);if(l!==r){const c=this._t(e),d=c?this.ut(c,e,l):1;if(d!==0){this.rt(n);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,h)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let l,c;try{l=ao(r).toUint8Array()}catch(d){if(d instanceof $N)return os("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new ww(l,i,o)}catch(d){return os(d instanceof _d?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.fe===0?null:c}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const l=this.We.lt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Xe(n,o,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((o,l)=>{const c=this.st(l);if(c){if(o.current&&W0(c.target)){const d=new Be(c.target.path);this.Tt(d).has(l)||this.It(l,d)||this.Xe(l,d,pr.newNoDocument(d,e))}o.Ne&&(n.set(l,o.Le()),o.ke())}});let r=At();this.Je.forEach((o,l)=>{let c=!0;l.forEachWhile(d=>{const h=this.st(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ze.forEach((o,l)=>l.setReadTime(e));const i=new ag(e,n,this.He,this.ze,r);return this.ze=ls(),this.je=lm(),this.Je=lm(),this.He=new fn(vt),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new HE,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Bn(vt),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Bn(vt),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||Me("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new HE),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function lm(){return new fn(Be.comparator)}function $E(){return new fn(Be.comparator)}const _6={asc:"ASCENDING",desc:"DESCENDING"},S6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},T6={and:"AND",or:"OR"};class E6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function X0(t,e){return t.useProto3Json||Qp(e)?e:{value:e}}function hp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function A6(t,e){return hp(t,e.toTimestamp())}function fa(t){return Ft(!!t,49232),ut.fromTimestamp(function(n){const r=io(n);return new Zt(r.seconds,r.nanos)}(t))}function xw(t,e){return Q0(t,e).canonicalString()}function Q0(t,e){const n=function(i){return new Qt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function wI(t){const e=Qt.fromString(t);return Ft(EI(e),10190,{key:e.toString()}),e}function Z0(t,e){return xw(t.databaseId,e.path)}function zy(t,e){const n=wI(e);if(n.get(1)!==t.databaseId.projectId)throw new Re(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Re(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Be(_I(n))}function xI(t,e){return xw(t.databaseId,e)}function C6(t){const e=wI(t);return e.length===4?Qt.emptyPath():_I(e)}function J0(t){return new Qt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _I(t){return Ft(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function qE(t,e,n){return{name:Z0(t,e),fields:n.value.mapValue.fields}}function R6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:rt(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(h,p){return h.useProto3Json?(Ft(p===void 0||typeof p=="string",58123),Zn.fromBase64String(p||"")):(Ft(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Zn.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(h){const p=h.code===void 0?ve.UNKNOWN:gI(h.code);return new Re(p,h.message||"")}(l);n=new yI(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=zy(t,r.document.name),o=fa(r.document.updateTime),l=r.document.createTime?fa(r.document.createTime):ut.min(),c=new Or({mapValue:{fields:r.document.fields}}),d=pr.newFoundDocument(i,o,l,c),h=r.targetIds||[],p=r.removedTargetIds||[];n=new km(h,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=zy(t,r.document),o=r.readTime?fa(r.readTime):ut.min(),l=pr.newNoDocument(i,o),c=r.removedTargetIds||[];n=new km([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=zy(t,r.document),o=r.removedTargetIds||[];n=new km([],o,i,null)}else{if(!("filter"in e))return rt(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new y6(i,o),c=r.targetId;n=new vI(c,l)}}return n}function N6(t,e){let n;if(e instanceof bf)n={update:qE(t,e.key,e.value)};else if(e instanceof yw)n={delete:Z0(t,e.key)};else if(e instanceof mo)n={update:qE(t,e.key,e.data),updateMask:V6(e.fieldMask)};else{if(!(e instanceof p6))return rt(16599,{Rt:e.type});n={verify:Z0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const c=l.transform;if(c instanceof Wd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Yd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Xd)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof fp)return{fieldPath:l.field.canonicalString(),increment:c.Ee};throw rt(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:A6(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:rt(27497)}(t,e.precondition)),n}function I6(t,e){return t&&t.length>0?(Ft(e!==void 0,14353),t.map(n=>function(i,o){let l=i.updateTime?fa(i.updateTime):fa(o);return l.isEqual(ut.min())&&(l=fa(o)),new f6(l,i.transformResults||[])}(n,e))):[]}function O6(t,e){return{documents:[xI(t,e.path)]}}function M6(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xI(t,i);const o=function(h){if(h.length!==0)return TI(ki.create(h,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const l=function(h){if(h.length!==0)return h.map(p=>function(w){return{field:lu(w.field),direction:j6(w.dir)}}(p))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=X0(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{Vt:n,parent:i}}function P6(t){let e=C6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ft(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=function(y){const w=SI(y);return w instanceof ki&&eI(w)?w.getFilters():[w]}(n.where));let l=[];n.orderBy&&(l=function(y){return y.map(w=>function(N){return new Kd(uu(N.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(w))}(n.orderBy));let c=null;n.limit&&(c=function(y){let w;return w=typeof y=="object"?y.value:y,Qp(w)?null:w}(n.limit));let d=null;n.startAt&&(d=function(y){const w=!!y.before,A=y.values||[];return new ku(A,w)}(n.startAt));let h=null;return n.endAt&&(h=function(y){const w=!y.before,A=y.values||[];return new ku(A,w)}(n.endAt)),Z3(e,i,l,o,c,"F",d,h)}function D6(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rt(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function SI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=uu(n.unaryFilter.field);return Dn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=uu(n.unaryFilter.field);return Dn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=uu(n.unaryFilter.field);return Dn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=uu(n.unaryFilter.field);return Dn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return rt(61313);default:return rt(60726)}}(t):t.fieldFilter!==void 0?function(n){return Dn.create(uu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return rt(58110);default:return rt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ki.create(n.compositeFilter.filters.map(r=>SI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return rt(1026)}}(n.compositeFilter.op))}(t):rt(30097,{filter:t})}function j6(t){return _6[t]}function k6(t){return S6[t]}function L6(t){return T6[t]}function lu(t){return{fieldPath:t.canonicalString()}}function uu(t){return Yn.fromServerFormat(t.fieldPath)}function TI(t){return t instanceof Dn?function(n){if(n.op==="=="){if(ME(n.value))return{unaryFilter:{field:lu(n.field),op:"IS_NAN"}};if(OE(n.value))return{unaryFilter:{field:lu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ME(n.value))return{unaryFilter:{field:lu(n.field),op:"IS_NOT_NAN"}};if(OE(n.value))return{unaryFilter:{field:lu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lu(n.field),op:k6(n.op),value:n.value}}}(t):t instanceof ki?function(n){const r=n.getFilters().map(i=>TI(i));return r.length===1?r[0]:{compositeFilter:{op:L6(n.op),filters:r}}}(t):rt(54877,{filter:t})}function V6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function EI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n,r,i,o=ut.min(),l=ut.min(),c=Zn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Xs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e){this.gt=e}}function z6(t){const e=P6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(){this.Dn=new F6}addToCollectionParentIndex(e,n){return this.Dn.add(n),_e.resolve()}getCollectionParents(e,n){return _e.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return _e.resolve()}deleteFieldIndex(e,n){return _e.resolve()}deleteAllFieldIndexes(e){return _e.resolve()}createTargetIndexes(e,n){return _e.resolve()}getDocumentsMatchingTarget(e,n){return _e.resolve(null)}getIndexType(e,n){return _e.resolve(0)}getFieldIndexes(e,n){return _e.resolve([])}getNextCollectionGroupToUpdate(e){return _e.resolve(null)}getMinOffset(e,n){return _e.resolve(ro.min())}getMinOffsetFromCollectionGroup(e,n){return _e.resolve(ro.min())}updateCollectionGroup(e,n,r){return _e.resolve()}updateIndexEntries(e,n){return _e.resolve()}}class F6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Bn(Qt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Bn(Qt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AI=41943040;class Ir{static withCacheSize(e){return new Ir(e,Ir.DEFAULT_COLLECTION_PERCENTILE,Ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ir.DEFAULT_COLLECTION_PERCENTILE=10,Ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ir.DEFAULT=new Ir(AI,Ir.DEFAULT_COLLECTION_PERCENTILE,Ir.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ir.DISABLED=new Ir(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Lu(0)}static ur(){return new Lu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="LruGarbageCollector",H6=1048576;function WE([t,e],[n,r]){const i=vt(t,n);return i===0?vt(e,r):i}class $6{constructor(e){this.Tr=e,this.buffer=new Bn(WE),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();WE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class q6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Me(KE,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Yu(n)?Me(KE,"Ignoring IndexedDB error during garbage collection: ",n):await Wu(n)}await this.Rr(3e5)})}}class G6{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return _e.resolve(Xp.ue);const r=new $6(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Me("LruGarbageCollector","Garbage collection skipped; disabled"),_e.resolve(GE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),GE):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,l,c,d,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(Me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,l=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,c=Date.now(),this.removeTargets(e,r,n))).next(y=>(o=y,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(h=Date.now(),su()<=Et.DEBUG&&Me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${o} targets in `+(d-c)+`ms
	Removed ${y} documents in `+(h-d)+`ms
Total Duration: ${h-p}ms`),_e.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:y})))}}function K6(t,e){return new G6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(){this.changes=new vl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?_e.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Od(r.mutation,i,Xr.empty(),Zt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,At()).next(()=>r))}getLocalViewOfDocuments(e,n,r=At()){const i=Xo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let l=xd();return o.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Xo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,At()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,r,i){let o=ls();const l=Id(),c=function(){return Id()}();return n.forEach((d,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof mo)?o=o.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),Od(p.mutation,h,p.mutation.getFieldMask(),Zt.now())):l.set(h.key,Xr.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((h,p)=>l.set(h,p)),n.forEach((h,p)=>{var y;return c.set(h,new Y6(p,(y=l.get(h))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(e,n){const r=Id();let i=new fn((l,c)=>l-c),o=At();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(d=>{const h=n.get(d);if(h===null)return;let p=r.get(d)||Xr.empty();p=c.applyToLocalView(h,p),r.set(d,p);const y=(i.get(c.batchId)||At()).add(d);i=i.insert(c.batchId,y)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),h=d.key,p=d.value,y=lI();p.forEach(w=>{if(!o.has(w)){const A=mI(n.get(w),r.get(w));A!==null&&y.set(w,A),o=o.add(w)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,y))}return _e.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(l){return Be.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):gw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):_e.resolve(Xo());let c=$d,d=o;return l.next(h=>_e.forEach(h,(p,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),o.get(p)?_e.resolve():this.remoteDocumentCache.getEntry(e,p).next(w=>{d=d.insert(p,w)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,d,h,At())).next(p=>({batchId:c,changes:oI(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Be(n)).next(r=>{let i=xd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let l=xd();return this.indexManager.getCollectionParents(e,o).next(c=>_e.forEach(c,d=>{const h=function(y,w){return new gl(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(p=>{p.forEach((y,w)=>{l=l.insert(y,w)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(l=>{o.forEach((d,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,pr.newInvalidDocument(p)))});let c=xd();return l.forEach((d,h)=>{const p=o.get(d);p!==void 0&&Od(p.mutation,h,Xr.empty(),Zt.now()),ng(n,h)&&(c=c.insert(d,h))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return _e.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fa(i.createTime)}}(n)),_e.resolve()}getNamedQuery(e,n){return _e.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:z6(i.bundledQuery),readTime:fa(i.readTime)}}(n)),_e.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(){this.overlays=new fn(Be.comparator),this.kr=new Map}getOverlay(e,n){return _e.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Xo();return _e.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),_e.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),_e.resolve()}getOverlaysForCollection(e,n,r){const i=Xo(),o=n.length+1,l=new Be(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&d.largestBatchId>r&&i.set(d.getKey(),d)}return _e.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new fn((h,p)=>h-p);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=o.get(h.largestBatchId);p===null&&(p=Xo(),o=o.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const c=Xo(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,p)=>c.set(h,p)),!(c.size()>=i)););return _e.resolve(c)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new v6(n,r));let o=this.kr.get(n);o===void 0&&(o=At(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(){this.sessionToken=Zn.EMPTY_BYTE_STRING}getSessionToken(e){return _e.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,_e.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(){this.qr=new Bn(Wn.Qr),this.$r=new Bn(Wn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Wn(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Wn(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new Be(new Qt([])),r=new Wn(n,e),i=new Wn(n,e+1),o=[];return this.$r.forEachInRange([r,i],l=>{this.Wr(l),o.push(l.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Be(new Qt([])),r=new Wn(n,e),i=new Wn(n,e+1);let o=At();return this.$r.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const n=new Wn(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Wn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Be.comparator(e.key,n.key)||vt(e.Hr,n.Hr)}static Ur(e,n){return vt(e.Hr,n.Hr)||Be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Bn(Wn.Qr)}checkEmpty(e){return _e.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new g6(o,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Yr=this.Yr.add(new Wn(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return _e.resolve(l)}lookupMutationBatch(e,n){return _e.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),o=i<0?0:i;return _e.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return _e.resolve(this.mutationQueue.length===0?fw:this.er-1)}getAllMutationBatches(e){return _e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Wn(n,0),i=new Wn(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],l=>{const c=this.Zr(l.Hr);o.push(c)}),_e.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Bn(vt);return n.forEach(i=>{const o=new Wn(i,0),l=new Wn(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,l],c=>{r=r.add(c.Hr)})}),_e.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Be.isDocumentKey(o)||(o=o.child(""));const l=new Wn(new Be(o),0);let c=new Bn(vt);return this.Yr.forEachWhile(d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(d.Hr)),!0)},l),_e.resolve(this.ei(c))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ft(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return _e.forEach(n.mutations,i=>{const o=new Wn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new Wn(n,0),i=this.Yr.firstAfterOrEqual(r);return _e.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,_e.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(e){this.ni=e,this.docs=function(){return new fn(Be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,l=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return _e.resolve(r?r.document.mutableCopy():pr.newInvalidDocument(n))}getEntries(e,n){let r=ls();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():pr.newInvalidDocument(i))}),_e.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ls();const l=n.path,c=new Be(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:p}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||I3(N3(p),r)<=0||(i.has(p.key)||ng(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return _e.resolve(o)}getAllFromCollectionGroup(e,n,r,i){rt(9500)}ri(e,n){return _e.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new n5(this)}getSize(e){return _e.resolve(this.size)}}class n5 extends W6{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),_e.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e){this.persistence=e,this.ii=new vl(n=>mw(n),pw),this.lastRemoteSnapshotVersion=ut.min(),this.highestTargetId=0,this.si=0,this.oi=new _w,this.targetCount=0,this._i=Lu.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),_e.resolve()}getLastRemoteSnapshotVersion(e){return _e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _e.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),_e.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),_e.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Lu(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,_e.resolve()}updateTargetData(e,n){return this.hr(n),_e.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,_e.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.ii.forEach((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ii.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),_e.waitFor(o).next(()=>i)}getTargetCount(e){return _e.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return _e.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),_e.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),_e.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),_e.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return _e.resolve(r)}containsKey(e,n){return _e.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,n){this.ai={},this.overlays={},this.ui=new Xp(0),this.ci=!1,this.ci=!0,this.li=new J6,this.referenceDelegate=e(this),this.hi=new r5(this),this.indexManager=new B6,this.remoteDocumentCache=function(i){return new t5(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new U6(n),this.Ti=new Q6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Z6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new e5(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){Me("MemoryPersistence","Starting transaction:",e);const i=new i5(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return _e.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class i5 extends M3{constructor(e){super(),this.currentSequenceNumber=e}}class Sw{constructor(e){this.persistence=e,this.Ai=new _w,this.Ri=null}static Vi(e){return new Sw(e)}get mi(){if(this.Ri)return this.Ri;throw rt(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),_e.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),_e.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),_e.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _e.forEach(this.mi,r=>{const i=Be.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,ut.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return _e.or([()=>_e.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class mp{constructor(e,n){this.persistence=e,this.gi=new vl(r=>j3(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=K6(this,n)}static Vi(e,n){return new mp(e,n)}Ii(){}di(e){return _e.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return _e.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?_e.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,l=>this.Sr(e,l,n).next(c=>{c||(r++,o.removeEntry(l,ut.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),_e.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),_e.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),_e.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),_e.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Pm(e.data.value)),n}Sr(e,n,r){return _e.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return _e.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=At(),i=At();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Tw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return zj()?8:P3(gr())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ps(e,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new a5;return this.ws(e,n,l).next(c=>{if(o.result=c,this.Rs)return this.Ss(e,n,l,c.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(su()<=Et.DEBUG&&Me("QueryEngine","SDK will not create cache indexes for query:",ou(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),_e.resolve()):(su()<=Et.DEBUG&&Me("QueryEngine","Query:",ou(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(su()<=Et.DEBUG&&Me("QueryEngine","The SDK decides to create cache indexes for query:",ou(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,da(n))):_e.resolve())}ps(e,n){if(kE(n))return _e.resolve(null);let r=da(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=dp(n,null,"F"),r=da(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=At(...o);return this.gs.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(d=>{const h=this.bs(n,c);return this.Ds(n,h,l,d.readTime)?this.ps(e,dp(n,null,"F")):this.vs(e,h,n,d)}))})))}ys(e,n,r,i){return kE(n)||i.isEqual(ut.min())?_e.resolve(null):this.gs.getDocuments(e,r).next(o=>{const l=this.bs(n,o);return this.Ds(n,l,r,i)?_e.resolve(null):(su()<=Et.DEBUG&&Me("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ou(n)),this.vs(e,l,n,R3(i,$d)).next(c=>c))})}bs(e,n){let r=new Bn(aI(e));return n.forEach((i,o)=>{ng(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return su()<=Et.DEBUG&&Me("QueryEngine","Using full collection scan to execute query:",ou(n)),this.gs.getDocumentsMatchingQuery(e,n,ro.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="LocalStore",o5=3e8;class l5{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new fn(vt),this.Ms=new vl(o=>mw(o),pw),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new X6(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function u5(t,e,n,r){return new l5(t,e,n,r)}async function RI(t,e){const n=ct(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],c=[];let d=At();for(const h of i){l.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}for(const h of o){c.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}return n.localDocuments.getDocuments(r,d).next(h=>({Bs:h,removedBatchIds:l,addedBatchIds:c}))})})}function c5(t,e){const n=ct(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return function(c,d,h,p){const y=h.batch,w=y.keys();let A=_e.resolve();return w.forEach(N=>{A=A.next(()=>p.getEntry(d,N)).next(P=>{const U=h.docVersions.get(N);Ft(U!==null,48541),P.version.compareTo(U)<0&&(y.applyToRemoteDocument(P,h),P.isValidDocument()&&(P.setReadTime(h.commitVersion),p.addEntry(P)))})}),A.next(()=>c.mutationQueue.removeMutationBatch(d,y))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let d=At();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(d=d.add(c.batch.mutations[h].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function NI(t){const e=ct(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function d5(t,e){const n=ct(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const c=[];e.targetChanges.forEach((p,y)=>{const w=i.get(y);if(!w)return;c.push(n.hi.removeMatchingKeys(o,p.removedDocuments,y).next(()=>n.hi.addMatchingKeys(o,p.addedDocuments,y)));let A=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?A=A.withResumeToken(Zn.EMPTY_BYTE_STRING,ut.min()).withLastLimboFreeSnapshotVersion(ut.min()):p.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(p.resumeToken,r)),i=i.insert(y,A),function(P,U,j){return P.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=o5?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(w,A,p)&&c.push(n.hi.updateTargetData(o,A))});let d=ls(),h=At();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))}),c.push(f5(o,l,e.documentUpdates).next(p=>{d=p.Ls,h=p.ks})),!r.isEqual(ut.min())){const p=n.hi.getLastRemoteSnapshotVersion(o).next(y=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(p)}return _e.waitFor(c).next(()=>l.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,d,h)).next(()=>d)}).then(o=>(n.Fs=i,o))}function f5(t,e,n){let r=At(),i=At();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let l=ls();return n.forEach((c,d)=>{const h=o.get(c);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(ut.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):Me(Ew,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)}),{Ls:l,ks:i}})}function h5(t,e){const n=ct(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=fw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function m5(t,e){const n=ct(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,_e.resolve(i)):n.hi.allocateTargetId(r).next(l=>(i=new Xs(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function eb(t,e,n){const r=ct(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Yu(l))throw l;Me(Ew,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function YE(t,e,n){const r=ct(t);let i=ut.min(),o=At();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,h,p){const y=ct(d),w=y.Ms.get(p);return w!==void 0?_e.resolve(y.Fs.get(w)):y.hi.getTargetData(h,p)}(r,l,da(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(l,c.targetId).next(d=>{o=d})}).next(()=>r.Cs.getDocumentsMatchingQuery(l,e,n?i:ut.min(),n?o:At())).next(c=>(p5(r,e6(e),c),{documents:c,qs:o})))}function p5(t,e,n){let r=t.xs.get(e)||ut.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}class XE{constructor(){this.activeTargetIds=s6()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class g5{constructor(){this.Fo=new XE,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new XE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="ConnectivityMonitor";class ZE{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Me(QE,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Me(QE,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let um=null;function tb(){return um===null?um=function(){return 268435456+Math.round(2147483648*Math.random())}():um++,"0x"+um.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="RestConnection",y5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class b5{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===lp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){const l=tb(),c=this.Go(e,n.toUriEncodedString());Me(By,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(d,i,o);const{host:h}=new URL(c),p=fo(h);return this.jo(e,c,d,r,p).then(y=>(Me(By,`Received RPC '${e}' ${l}: `,y),y),y=>{throw os(By,`RPC '${e}' ${l} failed with error: `,y,"url: ",c,"request:",r),y})}Jo(e,n,r,i,o,l){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ku}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){const r=y5[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="WebChannelConnection";class x5 extends b5{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){const l=tb();return new Promise((c,d)=>{const h=new IN;h.setWithCredentials(!0),h.listenOnce(ON.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Mm.NO_ERROR:const y=h.getResponseJson();Me(fr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case Mm.TIMEOUT:Me(fr,`RPC '${e}' ${l} timed out`),d(new Re(ve.DEADLINE_EXCEEDED,"Request time out"));break;case Mm.HTTP_ERROR:const w=h.getStatus();if(Me(fr,`RPC '${e}' ${l} failed with status:`,w,"response text:",h.getResponseText()),w>0){let A=h.getResponseJson();Array.isArray(A)&&(A=A[0]);const N=A?.error;if(N&&N.status&&N.message){const P=function(j){const q=j.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(q)>=0?q:ve.UNKNOWN}(N.status);d(new Re(P,N.message))}else d(new Re(ve.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new Re(ve.UNAVAILABLE,"Connection failed."));break;default:rt(9055,{c_:e,streamId:l,l_:h.getLastErrorCode(),h_:h.getLastError()})}}finally{Me(fr,`RPC '${e}' ${l} completed.`)}});const p=JSON.stringify(i);Me(fr,`RPC '${e}' ${l} sending request:`,i),h.send(n,"POST",p,r,15)})}P_(e,n,r){const i=tb(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=DN(),c=PN(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.zo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const p=o.join("");Me(fr,`Creating RPC '${e}' stream ${i}: ${p}`,d);const y=l.createWebChannel(p,d);this.T_(y);let w=!1,A=!1;const N=new w5({Ho:U=>{A?Me(fr,`Not sending because RPC '${e}' stream ${i} is closed:`,U):(w||(Me(fr,`Opening RPC '${e}' stream ${i} transport.`),y.open(),w=!0),Me(fr,`RPC '${e}' stream ${i} sending:`,U),y.send(U))},Yo:()=>y.close()}),P=(U,j,q)=>{U.listen(j,H=>{try{q(H)}catch(X){setTimeout(()=>{throw X},0)}})};return P(y,wd.EventType.OPEN,()=>{A||(Me(fr,`RPC '${e}' stream ${i} transport opened.`),N.s_())}),P(y,wd.EventType.CLOSE,()=>{A||(A=!0,Me(fr,`RPC '${e}' stream ${i} transport closed`),N.__(),this.I_(y))}),P(y,wd.EventType.ERROR,U=>{A||(A=!0,os(fr,`RPC '${e}' stream ${i} transport errored. Name:`,U.name,"Message:",U.message),N.__(new Re(ve.UNAVAILABLE,"The operation could not be completed")))}),P(y,wd.EventType.MESSAGE,U=>{var j;if(!A){const q=U.data[0];Ft(!!q,16349);const H=q,X=H?.error||((j=H[0])===null||j===void 0?void 0:j.error);if(X){Me(fr,`RPC '${e}' stream ${i} received error:`,X);const O=X.status;let M=function(E){const S=On[E];if(S!==void 0)return gI(S)}(O),C=X.message;M===void 0&&(M=ve.INTERNAL,C="Unknown error status: "+O+" with message "+X.message),A=!0,N.__(new Re(M,C)),y.close()}else Me(fr,`RPC '${e}' stream ${i} received:`,q),N.a_(q)}}),P(c,MN.STAT_EVENT,U=>{U.stat===H0.PROXY?Me(fr,`RPC '${e}' stream ${i} detected buffering proxy`):U.stat===H0.NOPROXY&&Me(fr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{N.o_()},0),N}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Fy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(t){return new E6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&Me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="PersistentStream";class OI{constructor(e,n,r,i,o,l,c,d){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new II(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===ve.RESOURCE_EXHAUSTED?(ss(n.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new Re(ve.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Me(JE,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(Me(JE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _5 extends OI{constructor(e,n,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=R6(this.serializer,e),r=function(o){if(!("targetChange"in o))return ut.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?ut.min():l.readTime?fa(l.readTime):ut.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=J0(this.serializer),n.addTarget=function(o,l){let c;const d=l.target;if(c=W0(d)?{documents:O6(o,d)}:{query:M6(o,d).Vt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=bI(o,l.resumeToken);const h=X0(o,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(ut.min())>0){c.readTime=hp(o,l.snapshotVersion.toTimestamp());const h=X0(o,l.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);const r=D6(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=J0(this.serializer),n.removeTarget=e,this.k_(n)}}class S5 extends OI{constructor(e,n,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=I6(e.writeResults,e.commitTime),r=fa(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=J0(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>N6(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{}class E5 extends T5{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new Re(ve.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Wo(e,Q0(n,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Re(ve.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Jo(e,Q0(n,r),i,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Re(ve.UNKNOWN,l.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class A5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ss(n),this._a=!1):Me("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul="RemoteStore";class C5{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(l=>{r.enqueueAndForget(async()=>{yl(this)&&(Me(ul,"Restarting streams for network reachability change."),await async function(d){const h=ct(d);h.Ia.add(4),await xf(h),h.Aa.set("Unknown"),h.Ia.delete(4),await og(h)}(this))})}),this.Aa=new A5(r,i)}}async function og(t){if(yl(t))for(const e of t.da)await e(!0)}async function xf(t){for(const e of t.da)await e(!1)}function MI(t,e){const n=ct(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Nw(n)?Rw(n):Xu(n).x_()&&Cw(n,e))}function Aw(t,e){const n=ct(t),r=Xu(n);n.Ta.delete(e),r.x_()&&PI(n,e),n.Ta.size===0&&(r.x_()?r.B_():yl(n)&&n.Aa.set("Unknown"))}function Cw(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ut.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xu(t).H_(e)}function PI(t,e){t.Ra.$e(e),Xu(t).Y_(e)}function Rw(t){t.Ra=new x6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Xu(t).start(),t.Aa.aa()}function Nw(t){return yl(t)&&!Xu(t).M_()&&t.Ta.size>0}function yl(t){return ct(t).Ia.size===0}function DI(t){t.Ra=void 0}async function R5(t){t.Aa.set("Online")}async function N5(t){t.Ta.forEach((e,n)=>{Cw(t,e)})}async function I5(t,e){DI(t),Nw(t)?(t.Aa.la(e),Rw(t)):t.Aa.set("Unknown")}async function O5(t,e,n){if(t.Aa.set("Online"),e instanceof yI&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const c of o.targetIds)i.Ta.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ta.delete(c),i.Ra.removeTarget(c))}(t,e)}catch(r){Me(ul,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await pp(t,r)}else if(e instanceof km?t.Ra.Ye(e):e instanceof vI?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ut.min()))try{const r=await NI(t.localStore);n.compareTo(r)>=0&&await function(o,l){const c=o.Ra.Pt(l);return c.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const p=o.Ta.get(h);p&&o.Ta.set(h,p.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,h)=>{const p=o.Ta.get(d);if(!p)return;o.Ta.set(d,p.withResumeToken(Zn.EMPTY_BYTE_STRING,p.snapshotVersion)),PI(o,d);const y=new Xs(p.target,d,h,p.sequenceNumber);Cw(o,y)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){Me(ul,"Failed to raise snapshot:",r),await pp(t,r)}}async function pp(t,e,n){if(!Yu(e))throw e;t.Ia.add(1),await xf(t),t.Aa.set("Offline"),n||(n=()=>NI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Me(ul,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await og(t)})}function jI(t,e){return e().catch(n=>pp(t,n,e))}async function lg(t){const e=ct(t),n=oo(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:fw;for(;M5(e);)try{const i=await h5(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,P5(e,i)}catch(i){await pp(e,i)}kI(e)&&LI(e)}function M5(t){return yl(t)&&t.Pa.length<10}function P5(t,e){t.Pa.push(e);const n=oo(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function kI(t){return yl(t)&&!oo(t).M_()&&t.Pa.length>0}function LI(t){oo(t).start()}async function D5(t){oo(t).na()}async function j5(t){const e=oo(t);for(const n of t.Pa)e.X_(n.mutations)}async function k5(t,e,n){const r=t.Pa.shift(),i=bw.from(r,e,n);await jI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await lg(t)}async function L5(t,e){e&&oo(t).Z_&&await async function(r,i){if(function(l){return b6(l)&&l!==ve.ABORTED}(i.code)){const o=r.Pa.shift();oo(r).N_(),await jI(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await lg(r)}}(t,e),kI(t)&&LI(t)}async function eA(t,e){const n=ct(t);n.asyncQueue.verifyOperationInProgress(),Me(ul,"RemoteStore received new credentials");const r=yl(n);n.Ia.add(3),await xf(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await og(n)}async function V5(t,e){const n=ct(t);e?(n.Ia.delete(2),await og(n)):e||(n.Ia.add(2),await xf(n),n.Aa.set("Unknown"))}function Xu(t){return t.Va||(t.Va=function(n,r,i){const o=ct(n);return o.ia(),new _5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:R5.bind(null,t),e_:N5.bind(null,t),n_:I5.bind(null,t),J_:O5.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),Nw(t)?Rw(t):t.Aa.set("Unknown")):(await t.Va.stop(),DI(t))})),t.Va}function oo(t){return t.ma||(t.ma=function(n,r,i){const o=ct(n);return o.ia(),new S5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:D5.bind(null,t),n_:L5.bind(null,t),ea:j5.bind(null,t),ta:k5.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await lg(t)):(await t.ma.stop(),t.Pa.length>0&&(Me(ul,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ja,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const l=Date.now()+r,c=new Iw(e,n,l,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ow(t,e){if(ss("AsyncQueue",`${e}: ${t}`),Yu(t))return new Re(ve.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{static emptySet(e){return new Cu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Be.comparator(n.key,r.key):(n,r)=>Be.comparator(n.key,r.key),this.keyedMap=xd(),this.sortedSet=new fn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Cu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Cu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(){this.fa=new fn(Be.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):rt(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Vu{constructor(e,n,r,i,o,l,c,d,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,o){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new Vu(e,n,Cu.emptySet(n),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class z5{constructor(){this.queries=nA(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=ct(n),o=i.queries;i.queries=nA(),o.forEach((l,c)=>{for(const d of c.wa)d.onError(r)})})(this,new Re(ve.ABORTED,"Firestore shutting down"))}}function nA(){return new vl(t=>iI(t),tg)}async function Mw(t,e){const n=ct(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new U5,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await n.onListen(i,!0);break;case 1:o.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=Ow(l,`Initialization of query '${ou(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&Dw(n)}async function Pw(t,e){const n=ct(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const l=o.wa.indexOf(e);l>=0&&(o.wa.splice(l,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function B5(t,e){const n=ct(t);let r=!1;for(const i of e){const o=i.query,l=n.queries.get(o);if(l){for(const c of l.wa)c.Ca(i)&&(r=!0);l.ya=i}}r&&Dw(n)}function F5(t,e,n){const r=ct(t),i=r.queries.get(e);if(i)for(const o of i.wa)o.onError(n);r.queries.delete(e)}function Dw(t){t.Da.forEach(e=>{e.next()})}var nb,rA;(rA=nb||(nb={})).Fa="default",rA.Cache="cache";class jw{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Vu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Vu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==nb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e){this.key=e}}class UI{constructor(e){this.key=e}}class H5{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=At(),this.mutatedKeys=At(),this.Xa=aI(e),this.eu=new Cu(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new tA,i=n?n.eu:this.eu;let o=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,y)=>{const w=i.get(p),A=ng(this.query,y)?y:null,N=!!w&&this.mutatedKeys.has(w.key),P=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let U=!1;w&&A?w.data.isEqual(A.data)?N!==P&&(r.track({type:3,doc:A}),U=!0):this.iu(w,A)||(r.track({type:2,doc:A}),U=!0,(d&&this.Xa(A,d)>0||h&&this.Xa(A,h)<0)&&(c=!0)):!w&&A?(r.track({type:0,doc:A}),U=!0):w&&!A&&(r.track({type:1,doc:w}),U=!0,(d||h)&&(c=!0)),U&&(A?(l=l.add(A),o=P?o.add(p):o.delete(p)):(l=l.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{eu:l,ru:r,Ds:c,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const l=e.ru.pa();l.sort((p,y)=>function(A,N){const P=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt(20277,{At:U})}};return P(A)-P(N)}(p.type,y.type)||this.Xa(p.doc,y.doc)),this.su(r),i=i!=null&&i;const c=n&&!i?this.ou():[],d=this.Za.size===0&&this.current&&!i?1:0,h=d!==this.Ya;return this.Ya=d,l.length!==0||h?{snapshot:new Vu(this.query,e.eu,o,l,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new tA,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=At(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new UI(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new VI(r))}),n}uu(e){this.Ha=e.qs,this.Za=At();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Vu.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const kw="SyncEngine";class $5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class q5{constructor(e){this.key=e,this.lu=!1}}class G5{constructor(e,n,r,i,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.hu={},this.Pu=new vl(c=>iI(c),tg),this.Tu=new Map,this.Iu=new Set,this.du=new fn(Be.comparator),this.Eu=new Map,this.Au=new _w,this.Ru={},this.Vu=new Map,this.mu=Lu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function K5(t,e,n=!0){const r=qI(t);let i;const o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await zI(r,e,n,!0),i}async function W5(t,e){const n=qI(t);await zI(n,e,!0,!1)}async function zI(t,e,n,r){const i=await m5(t.localStore,da(e)),o=i.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let c;return r&&(c=await Y5(t,e,o,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&MI(t.remoteStore,i),c}async function Y5(t,e,n,r,i){t.gu=(y,w,A)=>async function(P,U,j,q){let H=U.view.nu(j);H.Ds&&(H=await YE(P.localStore,U.query,!1).then(({documents:C})=>U.view.nu(C,H)));const X=q&&q.targetChanges.get(U.targetId),O=q&&q.targetMismatches.get(U.targetId)!=null,M=U.view.applyChanges(H,P.isPrimaryClient,X,O);return aA(P,U.targetId,M._u),M.snapshot}(t,y,w,A);const o=await YE(t.localStore,e,!0),l=new H5(e,o.qs),c=l.nu(o.documents),d=wf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=l.applyChanges(c,t.isPrimaryClient,d);aA(t,n,h._u);const p=new $5(e,n,l);return t.Pu.set(e,p),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),h.snapshot}async function X5(t,e,n){const r=ct(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(l=>!tg(l,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await eb(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Aw(r.remoteStore,i.targetId),rb(r,i.targetId)}).catch(Wu)):(rb(r,i.targetId),await eb(r.localStore,i.targetId,!0))}async function Q5(t,e){const n=ct(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Aw(n.remoteStore,r.targetId))}async function Z5(t,e,n){const r=aU(t);try{const i=await function(l,c){const d=ct(l),h=Zt.now(),p=c.reduce((A,N)=>A.add(N.key),At());let y,w;return d.persistence.runTransaction("Locally write mutations","readwrite",A=>{let N=ls(),P=At();return d.Os.getEntries(A,p).next(U=>{N=U,N.forEach((j,q)=>{q.isValidDocument()||(P=P.add(j))})}).next(()=>d.localDocuments.getOverlayedDocuments(A,N)).next(U=>{y=U;const j=[];for(const q of c){const H=m6(q,y.get(q.key).overlayedDocument);H!=null&&j.push(new mo(q.key,H,QN(H.value.mapValue),wi.exists(!0)))}return d.mutationQueue.addMutationBatch(A,h,j,c)}).next(U=>{w=U;const j=U.applyToLocalDocumentSet(y,P);return d.documentOverlayCache.saveOverlays(A,U.batchId,j)})}).then(()=>({batchId:w.batchId,changes:oI(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,d){let h=l.Ru[l.currentUser.toKey()];h||(h=new fn(vt)),h=h.insert(c,d),l.Ru[l.currentUser.toKey()]=h}(r,i.batchId,n),await _f(r,i.changes),await lg(r.remoteStore)}catch(i){const o=Ow(i,"Failed to persist write");n.reject(o)}}async function BI(t,e){const n=ct(t);try{const r=await d5(n.localStore,e);e.targetChanges.forEach((i,o)=>{const l=n.Eu.get(o);l&&(Ft(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.lu=!0:i.modifiedDocuments.size>0?Ft(l.lu,14607):i.removedDocuments.size>0&&(Ft(l.lu,42227),l.lu=!1))}),await _f(n,r,e)}catch(r){await Wu(r)}}function iA(t,e,n){const r=ct(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((o,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const d=ct(l);d.onlineState=c;let h=!1;d.queries.forEach((p,y)=>{for(const w of y.wa)w.va(c)&&(h=!0)}),h&&Dw(d)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function J5(t,e,n){const r=ct(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),o=i&&i.key;if(o){let l=new fn(Be.comparator);l=l.insert(o,pr.newNoDocument(o,ut.min()));const c=At().add(o),d=new ag(ut.min(),new Map,new fn(vt),l,c);await BI(r,d),r.du=r.du.remove(o),r.Eu.delete(e),Lw(r)}else await eb(r.localStore,e,!1).then(()=>rb(r,e,n)).catch(Wu)}async function eU(t,e){const n=ct(t),r=e.batch.batchId;try{const i=await c5(n.localStore,e);HI(n,r,null),FI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _f(n,i)}catch(i){await Wu(i)}}async function tU(t,e,n){const r=ct(t);try{const i=await function(l,c){const d=ct(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return d.mutationQueue.lookupMutationBatch(h,c).next(y=>(Ft(y!==null,37113),p=y.keys(),d.mutationQueue.removeMutationBatch(h,y))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,p,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>d.localDocuments.getDocuments(h,p))})}(r.localStore,e);HI(r,e,n),FI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _f(r,i)}catch(i){await Wu(i)}}function FI(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function HI(t,e,n){const r=ct(t);let i=r.Ru[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function rb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||$I(t,r)})}function $I(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Aw(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),Lw(t))}function aA(t,e,n){for(const r of n)r instanceof VI?(t.Au.addReference(r.key,e),nU(t,r)):r instanceof UI?(Me(kw,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||$I(t,r.key)):rt(19791,{yu:r})}function nU(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(Me(kw,"New document in limbo: "+n),t.Iu.add(r),Lw(t))}function Lw(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Be(Qt.fromString(e)),r=t.mu.next();t.Eu.set(r,new q5(n)),t.du=t.du.insert(n,r),MI(t.remoteStore,new Xs(da(eg(n.path)),r,"TargetPurposeLimboResolution",Xp.ue))}}async function _f(t,e,n){const r=ct(t),i=[],o=[],l=[];r.Pu.isEmpty()||(r.Pu.forEach((c,d)=>{l.push(r.gu(d,e,n).then(h=>{var p;if((h||n)&&r.isPrimaryClient){const y=h?!h.fromCache:(p=n?.targetChanges.get(d.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(h){i.push(h);const y=Tw.Es(d.targetId,h);o.push(y)}}))}),await Promise.all(l),r.hu.J_(i),await async function(d,h){const p=ct(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>_e.forEach(h,w=>_e.forEach(w.Is,A=>p.persistence.referenceDelegate.addReference(y,w.targetId,A)).next(()=>_e.forEach(w.ds,A=>p.persistence.referenceDelegate.removeReference(y,w.targetId,A)))))}catch(y){if(!Yu(y))throw y;Me(Ew,"Failed to update sequence numbers: "+y)}for(const y of h){const w=y.targetId;if(!y.fromCache){const A=p.Fs.get(w),N=A.snapshotVersion,P=A.withLastLimboFreeSnapshotVersion(N);p.Fs=p.Fs.insert(w,P)}}}(r.localStore,o))}async function rU(t,e){const n=ct(t);if(!n.currentUser.isEqual(e)){Me(kw,"User change. New user:",e.toKey());const r=await RI(n.localStore,e);n.currentUser=e,function(o,l){o.Vu.forEach(c=>{c.forEach(d=>{d.reject(new Re(ve.CANCELLED,l))})}),o.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _f(n,r.Bs)}}function iU(t,e){const n=ct(t),r=n.Eu.get(e);if(r&&r.lu)return At().add(r.key);{let i=At();const o=n.Tu.get(e);if(!o)return i;for(const l of o){const c=n.Pu.get(l);i=i.unionWith(c.view.tu)}return i}}function qI(t){const e=ct(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=J5.bind(null,e),e.hu.J_=B5.bind(null,e.eventManager),e.hu.pu=F5.bind(null,e.eventManager),e}function aU(t){const e=ct(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tU.bind(null,e),e}class gp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sg(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return u5(this.persistence,new s5,e.initialUser,this.serializer)}Du(e){return new CI(Sw.Vi,this.serializer)}bu(e){return new g5}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gp.provider={build:()=>new gp};class sU extends gp{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Ft(this.persistence.referenceDelegate instanceof mp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new q6(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Ir.withCacheSize(this.cacheSizeBytes):Ir.DEFAULT;return new CI(r=>mp.Vi(r,n),this.serializer)}}class ib{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>iA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rU.bind(null,this.syncEngine),await V5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new z5}()}createDatastore(e){const n=sg(e.databaseInfo.databaseId),r=function(o){return new x5(o)}(e.databaseInfo);return function(o,l,c,d){return new E5(o,l,c,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,l,c){return new C5(r,i,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>iA(this.syncEngine,n,0),function(){return ZE.C()?new ZE:new v5}())}createSyncEngine(e,n){return function(i,o,l,c,d,h,p){const y=new G5(i,o,l,c,d,h);return p&&(y.fu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=ct(i);Me(ul,"RemoteStore shutting down."),o.Ia.add(5),await xf(o),o.Ea.shutdown(),o.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ib.provider={build:()=>new ib};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ss("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo="FirestoreClient";class oU{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mr.UNAUTHENTICATED,this.clientId=Wp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{Me(lo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(Me(lo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ja;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ow(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Hy(t,e){t.asyncQueue.verifyOperationInProgress(),Me(lo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await RI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{os("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{Me("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{os("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function sA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await lU(t);Me(lo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>eA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>eA(e.remoteStore,i)),t._onlineComponents=e}async function lU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Me(lo,"Using user provided OfflineComponentProvider");try{await Hy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ve.FAILED_PRECONDITION||i.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;os("Error using user provided cache. Falling back to memory cache: "+n),await Hy(t,new gp)}}else Me(lo,"Using default OfflineComponentProvider"),await Hy(t,new sU(void 0));return t._offlineComponents}async function GI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Me(lo,"Using user provided OnlineComponentProvider"),await sA(t,t._uninitializedComponentsProvider._online)):(Me(lo,"Using default OnlineComponentProvider"),await sA(t,new ib))),t._onlineComponents}function uU(t){return GI(t).then(e=>e.syncEngine)}async function vp(t){const e=await GI(t),n=e.eventManager;return n.onListen=K5.bind(null,e.syncEngine),n.onUnlisten=X5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=W5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Q5.bind(null,e.syncEngine),n}function cU(t,e,n={}){const r=new Ja;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,h){const p=new Vw({next:w=>{p.Ou(),l.enqueueAndForget(()=>Pw(o,y));const A=w.docs.has(c);!A&&w.fromCache?h.reject(new Re(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&w.fromCache&&d&&d.source==="server"?h.reject(new Re(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(w)},error:w=>h.reject(w)}),y=new jw(eg(c.path),p,{includeMetadataChanges:!0,ka:!0});return Mw(o,y)}(await vp(t),t.asyncQueue,e,n,r)),r.promise}function dU(t,e,n={}){const r=new Ja;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,h){const p=new Vw({next:w=>{p.Ou(),l.enqueueAndForget(()=>Pw(o,y)),w.fromCache&&d.source==="server"?h.reject(new Re(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(w)},error:w=>h.reject(w)}),y=new jw(c,p,{includeMetadataChanges:!0,ka:!0});return Mw(o,y)}(await vp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI="firestore.googleapis.com",lA=!0;class uA{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Re(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WI,this.ssl=lA}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:lA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=AI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<H6)throw new Re(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Re(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Re(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Re(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ug{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Re(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new LN;switch(r.type){case"firstParty":return new S3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Re(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=oA.get(n);r&&(Me("ComponentProvider","Removing Datastore"),oA.delete(n),r.terminate())}(this),Promise.resolve()}}function YI(t,e,n,r={}){var i;t=Tr(t,ug);const o=fo(e),l=t._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;o&&(Qb(`https://${d}`),Zb("Firestore",!0)),l.host!==WI&&l.host!==d&&os("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},l),{host:d,ssl:o,emulatorOptions:r});if(!il(h,c)&&(t._setSettings(h),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=mr.MOCK_USER;else{p=zR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Re(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new mr(w)}t._authCredentials=new w3(new kN(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Li(this.firestore,e,this._query)}}class dn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}toJSON(){return{type:dn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(yf(n,dn._jsonSchema))return new dn(e,r||null,new Be(Qt.fromString(n.referencePath)))}}dn._jsonSchemaVersion="firestore/documentReference/1.0",dn._jsonSchema={type:jn("string",dn._jsonSchemaVersion),referencePath:jn("string")};class es extends Li{constructor(e,n,r){super(e,n,eg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new Be(e))}withConverter(e){return new es(this.firestore,e,this._path)}}function Tt(t,e,...n){if(t=on(t),UN("collection","path",e),t instanceof ug){const r=Qt.fromString(e,...n);return SE(r),new es(t,null,r)}{if(!(t instanceof dn||t instanceof es))throw new Re(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qt.fromString(e,...n));return SE(r),new es(t.firestore,null,r)}}function rn(t,e,...n){if(t=on(t),arguments.length===1&&(e=Wp.newId()),UN("doc","path",e),t instanceof ug){const r=Qt.fromString(e,...n);return _E(r),new dn(t,null,new Be(r))}{if(!(t instanceof dn||t instanceof es))throw new Re(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Qt.fromString(e,...n));return _E(r),new dn(t.firestore,t instanceof es?t.converter:null,new Be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="AsyncQueue";class dA{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new II(this,"async_queue_retry"),this.oc=()=>{const r=Fy();r&&Me(cA,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=Fy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Fy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Ja;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Yu(e))throw e;Me(cA,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,ss("INTERNAL UNHANDLED ERROR: ",fA(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=Iw.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&rt(47125,{hc:fA(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function fA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class ba extends ug{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new dA,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dA(e),this._firestoreClient=void 0,await e}}}function XI(t,e){const n=typeof t=="object"?t:tw(),r=typeof t=="string"?t:lp,i=$p(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=LR("firestore");o&&YI(i,...o)}return i}function Sf(t){if(t._terminated)throw new Re(ve.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||fU(t),t._firestoreClient}function fU(t){var e,n,r;const i=t._freezeSettings(),o=function(c,d,h,p){return new V3(c,d,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,KI(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new oU(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(c){const d=c?._online.build();return{_offline:c?._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yr(Zn.fromBase64String(e))}catch(n){throw new Re(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yr(Zn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(yf(e,Yr._jsonSchema))return Yr.fromBase64String(e.bytes)}}Yr._jsonSchemaVersion="firestore/bytes/1.0",Yr._jsonSchema={type:jn("string",Yr._jsonSchemaVersion),bytes:jn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Re(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Re(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Re(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return vt(this._lat,e._lat)||vt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(e){if(yf(e,Pi._jsonSchema))return new Pi(e.latitude,e.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:jn("string",Pi._jsonSchemaVersion),latitude:jn("number"),longitude:jn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(yf(e,Di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Di(e.vectorValues);throw new Re(ve.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Di._jsonSchemaVersion="firestore/vectorValue/1.0",Di._jsonSchema={type:jn("string",Di._jsonSchemaVersion),vectorValues:jn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU=/^__.*__$/;class mU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new mo(e,this.data,this.fieldMask,n,this.fieldTransforms):new bf(e,this.data,n,this.fieldTransforms)}}class QI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new mo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ZI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt(40011,{Ec:t})}}class Uw{constructor(e,n,r,i,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Uw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return yp(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(ZI(this.Ec)&&hU.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class pU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sg(e)}Dc(e,n,r,i=!1){return new Uw({Ec:e,methodName:n,bc:r,path:Yn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Af(t){const e=t._freezeSettings(),n=sg(t._databaseId);return new pU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function JI(t,e,n,r,i,o={}){const l=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);Bw("Data must be an object, but it was:",l,r);const c=tO(r,l);let d,h;if(o.merge)d=new Xr(l.fieldMask),h=l.fieldTransforms;else if(o.mergeFields){const p=[];for(const y of o.mergeFields){const w=ab(e,y,n);if(!l.contains(w))throw new Re(ve.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);rO(p,w)||p.push(w)}d=new Xr(p),h=l.fieldTransforms.filter(y=>d.covers(y.field))}else d=null,h=l.fieldTransforms;return new mU(new Or(c),d,h)}class cg extends Ef{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cg}}class zw extends Ef{_toFieldTransform(e){return new c6(e.path,new Wd)}isEqual(e){return e instanceof zw}}function gU(t,e,n,r){const i=t.Dc(1,e,n);Bw("Data must be an object, but it was:",i,r);const o=[],l=Or.empty();ho(r,(d,h)=>{const p=Fw(e,d,n);h=on(h);const y=i.gc(p);if(h instanceof cg)o.push(p);else{const w=Cf(h,y);w!=null&&(o.push(p),l.set(p,w))}});const c=new Xr(o);return new QI(l,c,i.fieldTransforms)}function vU(t,e,n,r,i,o){const l=t.Dc(1,e,n),c=[ab(e,r,n)],d=[i];if(o.length%2!=0)throw new Re(ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)c.push(ab(e,o[w])),d.push(o[w+1]);const h=[],p=Or.empty();for(let w=c.length-1;w>=0;--w)if(!rO(h,c[w])){const A=c[w];let N=d[w];N=on(N);const P=l.gc(A);if(N instanceof cg)h.push(A);else{const U=Cf(N,P);U!=null&&(h.push(A),p.set(A,U))}}const y=new Xr(h);return new QI(p,y,l.fieldTransforms)}function eO(t,e,n,r=!1){return Cf(n,t.Dc(r?4:3,e))}function Cf(t,e){if(nO(t=on(t)))return Bw("Unsupported field value:",e,t),tO(t,e);if(t instanceof Ef)return function(r,i){if(!ZI(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const c of r){let d=Cf(c,i.yc(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=on(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return o6(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Zt.fromDate(r);return{timestampValue:hp(i.serializer,o)}}if(r instanceof Zt){const o=new Zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hp(i.serializer,o)}}if(r instanceof Pi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yr)return{bytesValue:bI(i.serializer,r._byteString)};if(r instanceof dn){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.wc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:xw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Di)return function(l,c){return{mapValue:{fields:{[YN]:{stringValue:XN},[up]:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw c.wc("VectorValues must only contain numeric values.");return vw(c.serializer,h)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${Yp(r)}`)}(t,e)}function tO(t,e){const n={};return HN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ho(t,(r,i)=>{const o=Cf(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function nO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Zt||t instanceof Pi||t instanceof Yr||t instanceof dn||t instanceof Ef||t instanceof Di)}function Bw(t,e,n){if(!nO(n)||!BN(n)){const r=Yp(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function ab(t,e,n){if((e=on(e))instanceof Tf)return e._internalPath;if(typeof e=="string")return Fw(t,e);throw yp("Field path arguments must be of type string or ",t,!1,void 0,n)}const yU=new RegExp("[~\\*/\\[\\]]");function Fw(t,e,n){if(e.search(yU)>=0)throw yp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tf(...e.split("."))._internalPath}catch{throw yp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function yp(t,e,n,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new Re(ve.INVALID_ARGUMENT,c+t+d)}function rO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(dg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class bU extends Hw{data(){return super.data()}}function dg(t,e){return typeof e=="string"?Fw(t,e):e instanceof Tf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Re(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $w{}class Rf extends $w{}function vn(t,e,...n){let r=[];e instanceof $w&&r.push(e),r=r.concat(n),function(o){const l=o.filter(d=>d instanceof fg).length,c=o.filter(d=>d instanceof Nf).length;if(l>1||l>0&&c>0)throw new Re(ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Nf extends Rf{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Nf(e,n,r)}_apply(e){const n=this._parse(e);return sO(e._query,n),new Li(e.firestore,e.converter,Y0(e._query,n))}_parse(e){const n=Af(e.firestore);return function(o,l,c,d,h,p,y){let w;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Re(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){pA(y,p);const N=[];for(const P of y)N.push(mA(d,o,P));w={arrayValue:{values:N}}}else w=mA(d,o,y)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||pA(y,p),w=eO(c,l,y,p==="in"||p==="not-in");return Dn.create(h,p,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function tn(t,e,n){const r=e,i=dg("where",t);return Nf._create(i,r,n)}class fg extends $w{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new fg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ki.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let l=i;const c=o.getFlattenedFilters();for(const d of c)sO(l,d),l=Y0(l,d)}(e._query,n),new Li(e.firestore,e.converter,Y0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class hg extends Rf{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new hg(e,n)}_apply(e){const n=function(i,o,l){if(i.startAt!==null)throw new Re(ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Re(ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Kd(o,l)}(e._query,this._field,this._direction);return new Li(e.firestore,e.converter,function(i,o){const l=i.explicitOrderBy.concat([o]);return new gl(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Uu(t,e="asc"){const n=e,r=dg("orderBy",t);return hg._create(r,n)}class mg extends Rf{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new mg(e,n,r)}_apply(e){return new Li(e.firestore,e.converter,dp(e._query,this._limit,this._limitType))}}function sb(t){return mg._create("limit",t,"F")}class pg extends Rf{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new pg(e,n,r)}_apply(e){const n=wU(e,this.type,this._docOrFields,this._inclusive);return new Li(e.firestore,e.converter,function(i,o){return new gl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,n))}}function aO(...t){return pg._create("startAfter",t,!1)}function wU(t,e,n,r){if(n[0]=on(n[0]),n[0]instanceof Hw)return function(o,l,c,d,h){if(!d)throw new Re(ve.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const p=[];for(const y of Au(o))if(y.field.isKeyField())p.push(cp(l,d.key));else{const w=d.data.field(y.field);if(Zp(w))throw new Re(ve.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){const A=y.field.canonicalString();throw new Re(ve.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${A}' (used as the orderBy) does not exist.`)}p.push(w)}return new ku(p,h)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Af(t.firestore);return function(l,c,d,h,p,y){const w=l.explicitOrderBy;if(p.length>w.length)throw new Re(ve.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const A=[];for(let N=0;N<p.length;N++){const P=p[N];if(w[N].field.isKeyField()){if(typeof P!="string")throw new Re(ve.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof P}`);if(!gw(l)&&P.indexOf("/")!==-1)throw new Re(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${P}' contains a slash.`);const U=l.path.child(Qt.fromString(P));if(!Be.isDocumentKey(U))throw new Re(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${U}' is not because it contains an odd number of segments.`);const j=new Be(U);A.push(cp(c,j))}else{const U=eO(d,h,P);A.push(U)}}return new ku(A,y)}(t._query,t.firestore._databaseId,i,e,n,r)}}function mA(t,e,n){if(typeof(n=on(n))=="string"){if(n==="")throw new Re(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gw(e)&&n.indexOf("/")!==-1)throw new Re(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Qt.fromString(n));if(!Be.isDocumentKey(r))throw new Re(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cp(t,new Be(r))}if(n instanceof dn)return cp(t,n._key);throw new Re(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yp(n)}.`)}function pA(t,e){if(!Array.isArray(t)||t.length===0)throw new Re(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sO(t,e){const n=function(i,o){for(const l of i)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Re(ve.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Re(ve.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class oO{convertValue(e,n="none"){switch(so(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw rt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ho(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[up].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Tn(l.doubleValue));return new Di(o)}convertGeoPoint(e){return new Pi(Tn(e.latitude),Tn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Jp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qd(e));default:return null}}convertTimestamp(e){const n=io(e);return new Zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Qt.fromString(e);Ft(EI(r),9688,{name:e});const i=new Pu(r.get(1),r.get(3)),o=new Be(r.popFirst(5));return i.isEqual(n)||ss(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class hu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eo extends Hw{constructor(e,n,r,i,o,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Md(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(dg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Re(ve.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=eo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}eo._jsonSchemaVersion="firestore/documentSnapshot/1.0",eo._jsonSchema={type:jn("string",eo._jsonSchemaVersion),bundleSource:jn("string","DocumentSnapshot"),bundleName:jn("string"),bundle:jn("string")};class Md extends eo{data(e={}){return super.data(e)}}class to{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new hu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Md(this._firestore,this._userDataWriter,r.key,r,new hu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Re(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const d=new Md(i._firestore,i._userDataWriter,c.doc.key,c.doc,new hu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const d=new Md(i._firestore,i._userDataWriter,c.doc.key,c.doc,new hu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:xU(c.type),doc:d,oldIndex:h,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Re(ve.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=to._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(t){t=Tr(t,dn);const e=Tr(t.firestore,ba);return cU(Sf(e),t._key).then(n=>uO(e,t,n))}to._jsonSchemaVersion="firestore/querySnapshot/1.0",to._jsonSchema={type:jn("string",to._jsonSchemaVersion),bundleSource:jn("string","QuerySnapshot"),bundleName:jn("string"),bundle:jn("string")};class qw extends oO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,n)}}function un(t){t=Tr(t,Li);const e=Tr(t.firestore,ba),n=Sf(e),r=new qw(e);return iO(t._query),dU(n,t._query).then(i=>new to(e,r,t,i))}function cl(t,e,n){t=Tr(t,dn);const r=Tr(t.firestore,ba),i=lO(t.converter,e,n);return If(r,[JI(Af(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,wi.none())])}function el(t,e,n,...r){t=Tr(t,dn);const i=Tr(t.firestore,ba),o=Af(i);let l;return l=typeof(e=on(e))=="string"||e instanceof Tf?vU(o,"updateDoc",t._key,e,n,r):gU(o,"updateDoc",t._key,e),If(i,[l.toMutation(t._key,wi.exists(!0))])}function bp(t){return If(Tr(t.firestore,ba),[new yw(t._key,wi.none())])}function us(t,e){const n=Tr(t.firestore,ba),r=rn(t),i=lO(t.converter,e);return If(n,[JI(Af(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,wi.exists(!1))]).then(()=>r)}function zu(t,...e){var n,r,i;t=on(t);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||hA(e[l])||(o=e[l++]);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(hA(e[l])){const y=e[l];e[l]=(n=y.next)===null||n===void 0?void 0:n.bind(y),e[l+1]=(r=y.error)===null||r===void 0?void 0:r.bind(y),e[l+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}let d,h,p;if(t instanceof dn)h=Tr(t.firestore,ba),p=eg(t._key.path),d={next:y=>{e[l]&&e[l](uO(h,t,y))},error:e[l+1],complete:e[l+2]};else{const y=Tr(t,Li);h=Tr(y.firestore,ba),p=y._query;const w=new qw(h);d={next:A=>{e[l]&&e[l](new to(h,w,y,A))},error:e[l+1],complete:e[l+2]},iO(t._query)}return function(w,A,N,P){const U=new Vw(P),j=new jw(A,U,N);return w.asyncQueue.enqueueAndForget(async()=>Mw(await vp(w),j)),()=>{U.Ou(),w.asyncQueue.enqueueAndForget(async()=>Pw(await vp(w),j))}}(Sf(h),p,c,d)}function If(t,e){return function(r,i){const o=new Ja;return r.asyncQueue.enqueueAndForget(async()=>Z5(await uU(r),i,o)),o.promise}(Sf(t),e)}function uO(t,e,n){const r=n.docs.get(e._key),i=new qw(t);return new eo(t,i,e._key,r,new hu(n.hasPendingWrites,n.fromCache),e.converter)}function ts(){return new zw("serverTimestamp")}(function(e,n=!0){(function(i){Ku=i})(ml),al(new no("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new ba(new x3(r.getProvider("auth-internal")),new T3(l,r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Re(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pu(h.options.projectId,p)}(l,i),l);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),la(vE,yE,e),la(vE,yE,"esm2017")})();const _U=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:oO,Bytes:Yr,CollectionReference:es,DocumentReference:dn,DocumentSnapshot:eo,FieldPath:Tf,FieldValue:Ef,Firestore:ba,FirestoreError:Re,GeoPoint:Pi,Query:Li,QueryCompositeFilterConstraint:fg,QueryConstraint:Rf,QueryDocumentSnapshot:Md,QueryFieldFilterConstraint:Nf,QueryLimitConstraint:mg,QueryOrderByConstraint:hg,QuerySnapshot:to,QueryStartAtConstraint:pg,SnapshotMetadata:hu,Timestamp:Zt,VectorValue:Di,_AutoId:Wp,_ByteString:Zn,_DatabaseId:Pu,_DocumentKey:Be,_EmptyAuthCredentialsProvider:LN,_FieldPath:Yn,_cast:Tr,_logWarn:os,_validateIsNotUsedTogether:zN,addDoc:us,collection:Tt,connectFirestoreEmulator:YI,deleteDoc:bp,doc:rn,ensureFirestoreConfigured:Sf,executeWrite:If,getDoc:yi,getDocs:un,getFirestore:XI,limit:sb,onSnapshot:zu,orderBy:Uu,query:vn,serverTimestamp:ts,setDoc:cl,startAfter:aO,updateDoc:el,where:tn},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO="firebasestorage.googleapis.com",dO="storageBucket",SU=2*60*1e3,TU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn extends _a{constructor(e,n,r=0){super($y(e),`Firebase Storage: ${n} (${$y(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return $y(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var bn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(bn||(bn={}));function $y(t){return"storage/"+t}function Gw(){const t="An unknown error occurred, please check the error payload for server response.";return new wn(bn.UNKNOWN,t)}function EU(t){return new wn(bn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function AU(t){return new wn(bn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function CU(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new wn(bn.UNAUTHENTICATED,t)}function RU(){return new wn(bn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function NU(t){return new wn(bn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function IU(){return new wn(bn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function OU(){return new wn(bn.CANCELED,"User canceled the upload/download.")}function MU(t){return new wn(bn.INVALID_URL,"Invalid URL '"+t+"'.")}function PU(t){return new wn(bn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function DU(){return new wn(bn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+dO+"' property when initializing the app?")}function jU(){return new wn(bn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function kU(){return new wn(bn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function LU(t){return new wn(bn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ob(t){return new wn(bn.INVALID_ARGUMENT,t)}function fO(){return new wn(bn.APP_DELETED,"The Firebase app was deleted.")}function VU(t){return new wn(bn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Pd(t,e){return new wn(bn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function td(t){throw new wn(bn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Qr.makeFromUrl(e,n)}catch{return new Qr(e,"")}if(r.path==="")return r;throw PU(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(X){X.path.charAt(X.path.length-1)==="/"&&(X.path_=X.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+i+l,"i"),d={bucket:1,path:3};function h(X){X.path_=decodeURIComponent(X.path)}const p="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",A=new RegExp(`^https?://${y}/${p}/b/${i}/o${w}`,"i"),N={bucket:1,path:3},P=n===cO?"(?:storage.googleapis.com|storage.cloud.google.com)":n,U="([^?#]*)",j=new RegExp(`^https?://${P}/${i}/${U}`,"i"),H=[{regex:c,indices:d,postModify:o},{regex:A,indices:N,postModify:h},{regex:j,indices:{bucket:1,path:2},postModify:h}];for(let X=0;X<H.length;X++){const O=H[X],M=O.regex.exec(e);if(M){const C=M[O.indices.bucket];let I=M[O.indices.path];I||(I=""),r=new Qr(C,I),O.postModify(r);break}}if(r==null)throw MU(e);return r}}class UU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zU(t,e,n){let r=1,i=null,o=null,l=!1,c=0;function d(){return c===2}let h=!1;function p(...U){h||(h=!0,e.apply(null,U))}function y(U){i=setTimeout(()=>{i=null,t(A,d())},U)}function w(){o&&clearTimeout(o)}function A(U,...j){if(h){w();return}if(U){w(),p.call(null,U,...j);return}if(d()||l){w(),p.call(null,U,...j);return}r<64&&(r*=2);let H;c===1?(c=2,H=0):H=(r+Math.random())*1e3,y(H)}let N=!1;function P(U){N||(N=!0,w(),!h&&(i!==null?(U||(c=2),clearTimeout(i),y(0)):U||(c=1)))}return y(0),o=setTimeout(()=>{l=!0,P(!0)},n),P}function BU(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FU(t){return t!==void 0}function HU(t){return typeof t=="object"&&!Array.isArray(t)}function Kw(t){return typeof t=="string"||t instanceof String}function gA(t){return Ww()&&t instanceof Blob}function Ww(){return typeof Blob<"u"}function vA(t,e,n,r){if(r<e)throw ob(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ob(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function hO(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var tl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(tl||(tl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e,n,r,i,o,l,c,d,h,p,y,w=!0,A=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=d,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=y,this.retry=w,this.isUsingEmulator=A,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,P)=>{this.resolve_=N,this.reject_=P,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new cm(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const d=c.loaded,h=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,h)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===tl.NO_ERROR,d=o.getStatus();if(!c||$U(d,this.additionalRetryCodes_)&&this.retry){const p=o.getErrorCode()===tl.ABORT;r(!1,new cm(!1,null,p));return}const h=this.successCodes_.indexOf(d)!==-1;r(!0,new cm(h,o))})},n=(r,i)=>{const o=this.resolve_,l=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());FU(d)?o(d):o()}catch(d){l(d)}else if(c!==null){const d=Gw();d.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,d)):l(d)}else if(i.canceled){const d=this.appDelete_?fO():OU();l(d)}else{const d=IU();l(d)}};this.canceled_?n(!1,new cm(!1,null,!0)):this.backoffId_=zU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&BU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class cm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function GU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function KU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function WU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function YU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function XU(t,e,n,r,i,o,l=!0,c=!1){const d=hO(t.urlParams),h=t.url+d,p=Object.assign({},t.headers);return WU(p,e),GU(p,n),KU(p,o),YU(p,r),new qU(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function ZU(...t){const e=QU();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Ww())return new Blob(t);throw new wn(bn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function JU(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e9(t){if(typeof atob>"u")throw LU("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class qy{constructor(e,n){this.data=e,this.contentType=n||null}}function t9(t,e){switch(t){case oa.RAW:return new qy(mO(e));case oa.BASE64:case oa.BASE64URL:return new qy(pO(t,e));case oa.DATA_URL:return new qy(r9(e),i9(e))}throw Gw()}function mO(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,l=t.charCodeAt(++n);r=65536|(o&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function n9(t){let e;try{e=decodeURIComponent(t)}catch{throw Pd(oa.DATA_URL,"Malformed data URL.")}return mO(e)}function pO(t,e){switch(t){case oa.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Pd(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case oa.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Pd(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=e9(e)}catch(i){throw i.message.includes("polyfill")?i:Pd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class gO{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Pd(oa.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=a9(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function r9(t){const e=new gO(t);return e.base64?pO(oa.BASE64,e.rest):n9(e.rest)}function i9(t){return new gO(t).contentType}function a9(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n){let r=0,i="";gA(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(gA(this.data_)){const r=this.data_,i=JU(r,e,n);return i===null?null:new Ws(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ws(r,!0)}}static getBlob(...e){if(Ww()){const n=e.map(r=>r instanceof Ws?r.data_:r);return new Ws(ZU.apply(null,n))}else{const n=e.map(l=>Kw(l)?t9(oa.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(l=>{for(let c=0;c<l.length;c++)i[o++]=l[c]}),new Ws(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(t){let e;try{e=JSON.parse(t)}catch{return null}return HU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function o9(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function yO(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(t,e){return e}class _r{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||l9}}let dm=null;function u9(t){return!Kw(t)||t.length<2?t:yO(t)}function bO(){if(dm)return dm;const t=[];t.push(new _r("bucket")),t.push(new _r("generation")),t.push(new _r("metageneration")),t.push(new _r("name","fullPath",!0));function e(o,l){return u9(l)}const n=new _r("name");n.xform=e,t.push(n);function r(o,l){return l!==void 0?Number(l):l}const i=new _r("size");return i.xform=r,t.push(i),t.push(new _r("timeCreated")),t.push(new _r("updated")),t.push(new _r("md5Hash",null,!0)),t.push(new _r("cacheControl",null,!0)),t.push(new _r("contentDisposition",null,!0)),t.push(new _r("contentEncoding",null,!0)),t.push(new _r("contentLanguage",null,!0)),t.push(new _r("contentType",null,!0)),t.push(new _r("metadata","customMetadata",!0)),dm=t,dm}function c9(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Qr(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function d9(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const l=n[o];r[l.local]=l.xform(r,e[l.server])}return c9(r,t),r}function wO(t,e,n){const r=vO(e);return r===null?null:d9(t,r,n)}function f9(t,e,n,r){const i=vO(e);if(i===null||!Kw(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(h=>{const p=t.bucket,y=t.fullPath,w="/b/"+l(p)+"/o/"+l(y),A=Yw(w,n,r),N=hO({alt:"media",token:h});return A+N})[0]}function h9(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class xO{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(t){if(!t)throw Gw()}function m9(t,e){function n(r,i){const o=wO(t,i,e);return _O(o!==null),o}return n}function p9(t,e){function n(r,i){const o=wO(t,i,e);return _O(o!==null),f9(o,i,t.host,t._protocol)}return n}function SO(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=RU():i=CU():n.getStatus()===402?i=AU(t.bucket):n.getStatus()===403?i=NU(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function g9(t){const e=SO(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=EU(t.path)),o.serverResponse=i.serverResponse,o}return n}function v9(t,e,n){const r=e.fullServerUrl(),i=Yw(r,t.host,t._protocol),o="GET",l=t.maxOperationRetryTime,c=new xO(i,o,p9(t,n),l);return c.errorHandler=g9(e),c}function y9(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function b9(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=y9(null,e)),r}function w9(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let H="";for(let X=0;X<2;X++)H=H+Math.random().toString().slice(2);return H}const d=c();l["Content-Type"]="multipart/related; boundary="+d;const h=b9(e,r,i),p=h9(h,n),y="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+d+`\r
Content-Type: `+h.contentType+`\r
\r
`,w=`\r
--`+d+"--",A=Ws.getBlob(y,r,w);if(A===null)throw jU();const N={name:h.fullPath},P=Yw(o,t.host,t._protocol),U="POST",j=t.maxUploadRetryTime,q=new xO(P,U,m9(t,n),j);return q.urlParams=N,q.headers=l,q.body=A.uploadData(),q.errorHandler=SO(e),q}class x9{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=tl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=tl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=tl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,o){if(this.sent_)throw td("cannot .send() more than once");if(fo(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw td("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw td("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw td("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw td("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class _9 extends x9{initXhr(){this.xhr_.responseType="text"}}function TO(){return new _9}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n){this._service=e,n instanceof Qr?this._location=n:this._location=Qr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new dl(e,n)}get root(){const e=new Qr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return yO(this._location.path)}get storage(){return this._service}get parent(){const e=s9(this._location.path);if(e===null)return null;const n=new Qr(this._location.bucket,e);return new dl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw VU(e)}}function S9(t,e,n){t._throwIfRoot("uploadBytes");const r=w9(t.storage,t._location,bO(),new Ws(e,!0),n);return t.storage.makeRequestWithTokens(r,TO).then(i=>({metadata:i,ref:t}))}function T9(t){t._throwIfRoot("getDownloadURL");const e=v9(t.storage,t._location,bO());return t.storage.makeRequestWithTokens(e,TO).then(n=>{if(n===null)throw kU();return n})}function E9(t,e){const n=o9(t._location.path,e),r=new Qr(t._location.bucket,n);return new dl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A9(t){return/^[A-Za-z]+:\/\//.test(t)}function C9(t,e){return new dl(t,e)}function EO(t,e){if(t instanceof Xw){const n=t;if(n._bucket==null)throw DU();const r=new dl(n,n._bucket);return e!=null?EO(r,e):r}else return e!==void 0?E9(t,e):t}function R9(t,e){if(e&&A9(e)){if(t instanceof Xw)return C9(t,e);throw ob("To use ref(service, url), the first argument must be a Storage instance.")}else return EO(t,e)}function yA(t,e){const n=e?.[dO];return n==null?null:Qr.makeFromBucketSpec(n,t)}function N9(t,e,n,r={}){t.host=`${e}:${n}`;const i=fo(e);i&&(Qb(`https://${t.host}/b`),Zb("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:zR(o,t.app.options.projectId))}class Xw{constructor(e,n,r,i,o,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=cO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=SU,this._maxUploadRetryTime=TU,this._requests=new Set,i!=null?this._bucket=Qr.makeFromBucketSpec(i,this._host):this._bucket=yA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Qr.makeFromBucketSpec(this._url,e):this._bucket=yA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){vA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){vA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Wr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new dl(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new UU(fO());{const l=XU(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const bA="@firebase/storage",wA="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO="storage";function Qw(t,e,n){return t=on(t),S9(t,e,n)}function Zw(t){return t=on(t),T9(t)}function Jw(t,e){return t=on(t),R9(t,e)}function I9(t=tw(),e){t=on(t);const r=$p(t,AO).getImmediate({identifier:e}),i=LR("storage");return i&&O9(r,...i),r}function O9(t,e,n,r={}){N9(t,e,n,r)}function M9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Xw(n,r,i,e,ml)}function P9(){al(new no(AO,M9,"PUBLIC").setMultipleInstances(!0)),la(bA,wA,""),la(bA,wA,"esm2017")}P9();const D9={apiKey:"AIzaSyBkP3gypmQHs_CrrBgiy7IXMDz_VVJDGvw",authDomain:"mangrov-cf6e2.firebaseapp.com",projectId:"mangrov-cf6e2",storageBucket:"mangrov-cf6e2.firebasestorage.app",messagingSenderId:"936868961990",appId:"1:936868961990:web:022a545478ec5b5fa501c7",measurementId:"G-PC68SEG8KL"},ex=HR(D9),Dd=RN(ex),ze=XI(ex),tx=I9(ex),CO=R.createContext(void 0);function j9({children:t}){const[e,n]=R.useState({isSignedIn:!1,pending:!0,user:null});return R.useEffect(()=>{const r=Dd.onAuthStateChanged(i=>n({user:i,pending:!1,isSignedIn:!!i}));return()=>r()},[]),g.jsx(CO.Provider,{value:{...e,auth:Dd},children:t})}function Si(){const t=R.useContext(CO);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}var nd={},xA;function k9(){if(xA)return nd;xA=1,Object.defineProperty(nd,"__esModule",{value:!0}),nd.parse=l,nd.serialize=h;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function l(w,A){const N=new o,P=w.length;if(P<2)return N;const U=A?.decode||p;let j=0;do{const q=w.indexOf("=",j);if(q===-1)break;const H=w.indexOf(";",j),X=H===-1?P:H;if(q>X){j=w.lastIndexOf(";",q-1)+1;continue}const O=c(w,j,q),M=d(w,q,O),C=w.slice(O,M);if(N[C]===void 0){let I=c(w,q+1,X),E=d(w,X,I);const S=U(w.slice(I,E));N[C]=S}j=X+1}while(j<P);return N}function c(w,A,N){do{const P=w.charCodeAt(A);if(P!==32&&P!==9)return A}while(++A<N);return N}function d(w,A,N){for(;A>N;){const P=w.charCodeAt(--A);if(P!==32&&P!==9)return A+1}return N}function h(w,A,N){const P=N?.encode||encodeURIComponent;if(!t.test(w))throw new TypeError(`argument name is invalid: ${w}`);const U=P(A);if(!e.test(U))throw new TypeError(`argument val is invalid: ${A}`);let j=w+"="+U;if(!N)return j;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);j+="; Max-Age="+N.maxAge}if(N.domain){if(!n.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);j+="; Domain="+N.domain}if(N.path){if(!r.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);j+="; Path="+N.path}if(N.expires){if(!y(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);j+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(j+="; HttpOnly"),N.secure&&(j+="; Secure"),N.partitioned&&(j+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return j}function p(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function y(w){return i.call(w)==="[object Date]"}return nd}k9();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var RO=t=>{throw TypeError(t)},L9=(t,e,n)=>e.has(t)||RO("Cannot "+n),Gy=(t,e,n)=>(L9(t,e,"read from private field"),n?n.call(t):e.get(t)),V9=(t,e,n)=>e.has(t)?RO("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),_A="popstate";function U9(t={}){function e(r,i){let{pathname:o,search:l,hash:c}=r.location;return Qd("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:uo(i)}return B9(e,n,null,t)}function St(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function En(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function z9(){return Math.random().toString(36).substring(2,10)}function SA(t,e){return{usr:t.state,key:t.key,idx:e}}function Qd(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?po(e):e,state:n,key:e&&e.key||r||z9()}}function uo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function po(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function B9(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,c="POP",d=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function y(){c="POP";let U=p(),j=U==null?null:U-h;h=U,d&&d({action:c,location:P.location,delta:j})}function w(U,j){c="PUSH";let q=Qd(P.location,U,j);h=p()+1;let H=SA(q,h),X=P.createHref(q);try{l.pushState(H,"",X)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(X)}o&&d&&d({action:c,location:P.location,delta:1})}function A(U,j){c="REPLACE";let q=Qd(P.location,U,j);h=p();let H=SA(q,h),X=P.createHref(q);l.replaceState(H,"",X),o&&d&&d({action:c,location:P.location,delta:0})}function N(U){return NO(U)}let P={get action(){return c},get location(){return t(i,l)},listen(U){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(_A,y),d=U,()=>{i.removeEventListener(_A,y),d=null}},createHref(U){return e(i,U)},createURL:N,encodeLocation(U){let j=N(U);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:w,replace:A,go(U){return l.go(U)}};return P}function NO(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),St(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:uo(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var Sd,TA=class{constructor(t){if(V9(this,Sd,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(Gy(this,Sd).has(t))return Gy(this,Sd).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){Gy(this,Sd).set(t,e)}};Sd=new WeakMap;var F9=new Set(["lazy","caseSensitive","path","id","index","children"]);function H9(t){return F9.has(t)}var $9=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function q9(t){return $9.has(t)}function G9(t){return t.index===!0}function wp(t,e,n=[],r={}){return t.map((i,o)=>{let l=[...n,String(o)],c=typeof i.id=="string"?i.id:l.join("-");if(St(i.index!==!0||!i.children,"Cannot specify children on an index route"),St(!r[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),G9(i)){let d={...i,...e(i),id:c};return r[c]=d,d}else{let d={...i,...e(i),id:c,children:void 0};return r[c]=d,i.children&&(d.children=wp(i.children,e,l,r)),d}})}function Ys(t,e,n="/"){return Lm(t,e,n,!1)}function Lm(t,e,n,r){let i=typeof e=="string"?po(e):e,o=xi(i.pathname||"/",n);if(o==null)return null;let l=IO(t);W9(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let h=a8(o);c=r8(l[d],h,r)}return c}function K9(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function IO(t,e=[],n=[],r=""){let i=(o,l,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(St(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let h=ha([r,d.relativePath]),p=n.concat(d);o.children&&o.children.length>0&&(St(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),IO(o.children,e,p,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:t8(h,o.index),routesMeta:p})};return t.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))i(o,l);else for(let c of OO(o.path))i(o,l,c)}),e}function OO(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=OO(r.join("/")),c=[];return c.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function W9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:n8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Y9=/^:[\w-]+$/,X9=3,Q9=2,Z9=1,J9=10,e8=-2,EA=t=>t==="*";function t8(t,e){let n=t.split("/"),r=n.length;return n.some(EA)&&(r+=e8),e&&(r+=Q9),n.filter(i=>!EA(i)).reduce((i,o)=>i+(Y9.test(o)?X9:o===""?Z9:J9),r)}function n8(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function r8(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],h=c===r.length-1,p=o==="/"?e:e.slice(o.length)||"/",y=xp({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),w=d.route;if(!y&&h&&n&&!r[r.length-1].route.index&&(y=xp({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!y)return null;Object.assign(i,y.params),l.push({params:i,pathname:ha([o,y.pathname]),pathnameBase:l8(ha([o,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(o=ha([o,y.pathnameBase]))}return l}function xp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=i8(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:y},w)=>{if(p==="*"){let N=c[w]||"";l=o.slice(0,o.length-N.length).replace(/(.)\/+$/,"$1")}const A=c[w];return y&&!A?h[p]=void 0:h[p]=(A||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:t}}function i8(t,e=!1,n=!0){En(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function a8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return En(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function xi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function s8(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?po(t):t;return{pathname:n?n.startsWith("/")?n:o8(n,e):e,search:u8(r),hash:c8(i)}}function o8(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ky(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function MO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function nx(t){let e=MO(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function rx(t,e,n,r=!1){let i;typeof t=="string"?i=po(t):(i={...t},St(!i.pathname||!i.pathname.includes("?"),Ky("?","pathname","search",i)),St(!i.pathname||!i.pathname.includes("#"),Ky("#","pathname","hash",i)),St(!i.search||!i.search.includes("#"),Ky("#","search","hash",i)));let o=t===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=n;else{let y=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),y-=1;i.pathname=w.join("/")}c=y>=0?e[y]:"/"}let d=s8(i,c),h=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}var ha=t=>t.join("/").replace(/\/\/+/g,"/"),l8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),u8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,c8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,_p=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Zd(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var PO=["POST","PUT","PATCH","DELETE"],d8=new Set(PO),f8=["GET",...PO],h8=new Set(f8),m8=new Set([301,302,303,307,308]),p8=new Set([307,308]),Wy={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},g8={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},rd={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ix=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,v8=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),DO="remix-router-transitions",jO=Symbol("ResetLoaderData");function y8(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";St(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],i=t.mapRouteProperties||v8,o={},l=wp(t.routes,i,void 0,o),c,d=t.basename||"/",h=t.dataStrategy||S8,p={unstable_middleware:!1,...t.future},y=null,w=new Set,A=null,N=null,P=null,U=t.hydrationData!=null,j=Ys(l,t.history.location,d),q=!1,H=null,X;if(j==null&&!t.patchRoutesOnNavigation){let te=vi(404,{pathname:t.history.location.pathname}),{matches:se,route:ce}=LA(l);X=!0,j=se,H={[ce.id]:te}}else if(j&&!t.hydrationData&&vr(j,l,t.history.location.pathname).active&&(j=null),j)if(j.some(te=>te.route.lazy))X=!1;else if(!j.some(te=>te.route.loader))X=!0;else{let te=t.hydrationData?t.hydrationData.loaderData:null,se=t.hydrationData?t.hydrationData.errors:null;if(se){let ce=j.findIndex(xe=>se[xe.route.id]!==void 0);X=j.slice(0,ce+1).every(xe=>!ub(xe.route,te,se))}else X=j.every(ce=>!ub(ce.route,te,se))}else{X=!1,j=[];let te=vr(null,l,t.history.location.pathname);te.active&&te.matches&&(q=!0,j=te.matches)}let O,M={historyAction:t.history.action,location:t.history.location,matches:j,initialized:X,navigation:Wy,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||H,fetchers:new Map,blockers:new Map},C="POP",I=!1,E,S=!1,k=new Map,F=null,L=!1,Q=!1,Z=new Set,B=new Map,T=0,J=-1,K=new Map,x=new Set,z=new Map,Y=new Map,W=new Set,ne=new Map,ae,le=null;function ge(){if(y=t.history.listen(({action:te,location:se,delta:ce})=>{if(ae){ae(),ae=void 0;return}En(ne.size===0||ce!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let xe=ms({currentLocation:M.location,nextLocation:se,historyAction:te});if(xe&&ce!=null){let Te=new Promise(De=>{ae=De});t.history.go(ce*-1),ei(xe,{state:"blocked",location:se,proceed(){ei(xe,{state:"proceeding",proceed:void 0,reset:void 0,location:se}),Te.then(()=>t.history.go(ce))},reset(){let De=new Map(M.blockers);De.set(xe,rd),Ne({blockers:De})}});return}return me(te,se)}),n){D8(e,k);let te=()=>j8(e,k);e.addEventListener("pagehide",te),F=()=>e.removeEventListener("pagehide",te)}return M.initialized||me("POP",M.location,{initialHydration:!0}),O}function Ee(){y&&y(),F&&F(),w.clear(),E&&E.abort(),M.fetchers.forEach((te,se)=>Jt(se)),M.blockers.forEach((te,se)=>Aa(se))}function Pe(te){return w.add(te),()=>w.delete(te)}function Ne(te,se={}){M={...M,...te};let ce=[],xe=[];M.fetchers.forEach((Te,De)=>{Te.state==="idle"&&(W.has(De)?ce.push(De):xe.push(De))}),W.forEach(Te=>{!M.fetchers.has(Te)&&!B.has(Te)&&ce.push(Te)}),[...w].forEach(Te=>Te(M,{deletedFetchers:ce,viewTransitionOpts:se.viewTransitionOpts,flushSync:se.flushSync===!0})),ce.forEach(Te=>Jt(Te)),xe.forEach(Te=>M.fetchers.delete(Te))}function Ue(te,se,{flushSync:ce}={}){let xe=M.actionData!=null&&M.navigation.formMethod!=null&&Kr(M.navigation.formMethod)&&M.navigation.state==="loading"&&te.state?._isRedirect!==!0,Te;se.actionData?Object.keys(se.actionData).length>0?Te=se.actionData:Te=null:xe?Te=M.actionData:Te=null;let De=se.loaderData?jA(M.loaderData,se.loaderData,se.matches||[],se.errors):M.loaderData,Ge=M.blockers;Ge.size>0&&(Ge=new Map(Ge),Ge.forEach((Le,Je)=>Ge.set(Je,rd)));let je=I===!0||M.navigation.formMethod!=null&&Kr(M.navigation.formMethod)&&te.state?._isRedirect!==!0;c&&(l=c,c=void 0),L||C==="POP"||(C==="PUSH"?t.history.push(te,te.state):C==="REPLACE"&&t.history.replace(te,te.state));let Ve;if(C==="POP"){let Le=k.get(M.location.pathname);Le&&Le.has(te.pathname)?Ve={currentLocation:M.location,nextLocation:te}:k.has(te.pathname)&&(Ve={currentLocation:te,nextLocation:M.location})}else if(S){let Le=k.get(M.location.pathname);Le?Le.add(te.pathname):(Le=new Set([te.pathname]),k.set(M.location.pathname,Le)),Ve={currentLocation:M.location,nextLocation:te}}Ne({...se,actionData:Te,loaderData:De,historyAction:C,location:te,initialized:!0,navigation:Wy,revalidation:"idle",restoreScrollPosition:ps(te,se.matches||M.matches),preventScrollReset:je,blockers:Ge},{viewTransitionOpts:Ve,flushSync:ce===!0}),C="POP",I=!1,S=!1,L=!1,Q=!1,le?.resolve(),le=null}async function We(te,se){if(typeof te=="number"){t.history.go(te);return}let ce=lb(M.location,M.matches,d,te,se?.fromRouteId,se?.relative),{path:xe,submission:Te,error:De}=AA(!1,ce,se),Ge=M.location,je=Qd(M.location,xe,se&&se.state);je={...je,...t.history.encodeLocation(je)};let Ve=se&&se.replace!=null?se.replace:void 0,Le="PUSH";Ve===!0?Le="REPLACE":Ve===!1||Te!=null&&Kr(Te.formMethod)&&Te.formAction===M.location.pathname+M.location.search&&(Le="REPLACE");let Je=se&&"preventScrollReset"in se?se.preventScrollReset===!0:void 0,Ke=(se&&se.flushSync)===!0,it=ms({currentLocation:Ge,nextLocation:je,historyAction:Le});if(it){ei(it,{state:"blocked",location:je,proceed(){ei(it,{state:"proceeding",proceed:void 0,reset:void 0,location:je}),We(te,se)},reset(){let wt=new Map(M.blockers);wt.set(it,rd),Ne({blockers:wt})}});return}await me(Le,je,{submission:Te,pendingError:De,preventScrollReset:Je,replace:se&&se.replace,enableViewTransition:se&&se.viewTransition,flushSync:Ke})}function Xe(){le||(le=k8()),An(),Ne({revalidation:"loading"});let te=le.promise;return M.navigation.state==="submitting"?te:M.navigation.state==="idle"?(me(M.historyAction,M.location,{startUninterruptedRevalidation:!0}),te):(me(C||M.historyAction,M.navigation.location,{overrideNavigation:M.navigation,enableViewTransition:S===!0}),te)}async function me(te,se,ce){E&&E.abort(),E=null,C=te,L=(ce&&ce.startUninterruptedRevalidation)===!0,Ti(M.location,M.matches),I=(ce&&ce.preventScrollReset)===!0,S=(ce&&ce.enableViewTransition)===!0;let xe=c||l,Te=ce&&ce.overrideNavigation,De=ce?.initialHydration&&M.matches&&M.matches.length>0&&!q?M.matches:Ys(xe,se,d),Ge=(ce&&ce.flushSync)===!0;if(De&&M.initialized&&!Q&&N8(M.location,se)&&!(ce&&ce.submission&&Kr(ce.submission.formMethod))){Ue(se,{matches:De},{flushSync:Ge});return}let je=vr(De,xe,se.pathname);if(je.active&&je.matches&&(De=je.matches),!De){let{error:Mt,notFoundMatches:Ct,route:yt}=Ca(se.pathname);Ue(se,{matches:Ct,loaderData:{},errors:{[yt.id]:Mt}},{flushSync:Ge});return}E=new AbortController;let Ve=cu(t.history,se,E.signal,ce&&ce.submission),Le=new TA(t.unstable_getContext?await t.unstable_getContext():void 0),Je;if(ce&&ce.pendingError)Je=[Yo(De).route.id,{type:"error",error:ce.pendingError}];else if(ce&&ce.submission&&Kr(ce.submission.formMethod)){let Mt=await Ce(Ve,se,ce.submission,De,Le,je.active,ce&&ce.initialHydration===!0,{replace:ce.replace,flushSync:Ge});if(Mt.shortCircuited)return;if(Mt.pendingActionResult){let[Ct,yt]=Mt.pendingActionResult;if(Gr(yt)&&Zd(yt.error)&&yt.error.status===404){E=null,Ue(se,{matches:Mt.matches,loaderData:{},errors:{[Ct]:yt.error}});return}}De=Mt.matches||De,Je=Mt.pendingActionResult,Te=Yy(se,ce.submission),Ge=!1,je.active=!1,Ve=cu(t.history,Ve.url,Ve.signal)}let{shortCircuited:Ke,matches:it,loaderData:wt,errors:Ut}=await $e(Ve,se,De,Le,je.active,Te,ce&&ce.submission,ce&&ce.fetcherSubmission,ce&&ce.replace,ce&&ce.initialHydration===!0,Ge,Je);Ke||(E=null,Ue(se,{matches:it||De,...kA(Je),loaderData:wt,errors:Ut}))}async function Ce(te,se,ce,xe,Te,De,Ge,je={}){An();let Ve=M8(se,ce);if(Ne({navigation:Ve},{flushSync:je.flushSync===!0}),De){let Ke=await Fi(xe,se.pathname,te.signal);if(Ke.type==="aborted")return{shortCircuited:!0};if(Ke.type==="error"){let it=Yo(Ke.partialMatches).route.id;return{matches:Ke.partialMatches,pendingActionResult:[it,{type:"error",error:Ke.error}]}}else if(Ke.matches)xe=Ke.matches;else{let{notFoundMatches:it,error:wt,route:Ut}=Ca(se.pathname);return{matches:it,pendingActionResult:[Ut.id,{type:"error",error:wt}]}}}let Le,Je=Td(xe,se);if(!Je.route.action&&!Je.route.lazy)Le={type:"error",error:vi(405,{method:te.method,pathname:se.pathname,routeId:Je.route.id})};else{let Ke=Ru(i,o,te,xe,Je,Ge?[]:r,Te),it=await hn(te,Ke,Te,null);if(Le=it[Je.route.id],!Le){for(let wt of xe)if(it[wt.route.id]){Le=it[wt.route.id];break}}if(te.signal.aborted)return{shortCircuited:!0}}if(Qo(Le)){let Ke;return je&&je.replace!=null?Ke=je.replace:Ke=MA(Le.response.headers.get("Location"),new URL(te.url),d)===M.location.pathname+M.location.search,await dt(te,Le,!0,{submission:ce,replace:Ke}),{shortCircuited:!0}}if(Gr(Le)){let Ke=Yo(xe,Je.route.id);return(je&&je.replace)!==!0&&(C="PUSH"),{matches:xe,pendingActionResult:[Ke.route.id,Le,Je.route.id]}}return{matches:xe,pendingActionResult:[Je.route.id,Le]}}async function $e(te,se,ce,xe,Te,De,Ge,je,Ve,Le,Je,Ke){let it=De||Yy(se,Ge),wt=Ge||je||UA(it),Ut=!L&&!Le;if(Te){if(Ut){let Cn=Ie(Ke);Ne({navigation:it,...Cn!==void 0?{actionData:Cn}:{}},{flushSync:Je})}let lt=await Fi(ce,se.pathname,te.signal);if(lt.type==="aborted")return{shortCircuited:!0};if(lt.type==="error"){let Cn=Yo(lt.partialMatches).route.id;return{matches:lt.partialMatches,loaderData:{},errors:{[Cn]:lt.error}}}else if(lt.matches)ce=lt.matches;else{let{error:Cn,notFoundMatches:Lr,route:Ar}=Ca(se.pathname);return{matches:Lr,loaderData:{},errors:{[Ar.id]:Cn}}}}let Mt=c||l,{dsMatches:Ct,revalidatingFetchers:yt}=CA(te,xe,i,o,t.history,M,ce,wt,se,Le?[]:r,Le===!0,Q,Z,W,z,x,Mt,d,t.patchRoutesOnNavigation!=null,Ke);if(J=++T,!t.dataStrategy&&!Ct.some(lt=>lt.shouldLoad)&&yt.length===0){let lt=zi();return Ue(se,{matches:ce,loaderData:{},errors:Ke&&Gr(Ke[1])?{[Ke[0]]:Ke[1].error}:null,...kA(Ke),...lt?{fetchers:new Map(M.fetchers)}:{}},{flushSync:Je}),{shortCircuited:!0}}if(Ut){let lt={};if(!Te){lt.navigation=it;let Cn=Ie(Ke);Cn!==void 0&&(lt.actionData=Cn)}yt.length>0&&(lt.fetchers=Ze(yt)),Ne(lt,{flushSync:Je})}yt.forEach(lt=>{lr(lt.key),lt.controller&&B.set(lt.key,lt.controller)});let ni=()=>yt.forEach(lt=>lr(lt.key));E&&E.signal.addEventListener("abort",ni);let{loaderResults:kn,fetcherResults:yr}=await or(Ct,yt,te,xe);if(te.signal.aborted)return{shortCircuited:!0};E&&E.signal.removeEventListener("abort",ni),yt.forEach(lt=>B.delete(lt.key));let Jn=fm(kn);if(Jn)return await dt(te,Jn.result,!0,{replace:Ve}),{shortCircuited:!0};if(Jn=fm(yr),Jn)return x.add(Jn.key),await dt(te,Jn.result,!0,{replace:Ve}),{shortCircuited:!0};let{loaderData:$i,errors:kr}=DA(M,ce,kn,Ke,yt,yr);Le&&M.errors&&(kr={...M.errors,...kr});let vs=zi(),ur=Bi(J),br=vs||ur||yt.length>0;return{matches:ce,loaderData:$i,errors:kr,...br?{fetchers:new Map(M.fetchers)}:{}}}function Ie(te){if(te&&!Gr(te[1]))return{[te[0]]:te[1].data};if(M.actionData)return Object.keys(M.actionData).length===0?null:M.actionData}function Ze(te){return te.forEach(se=>{let ce=M.fetchers.get(se.key),xe=id(void 0,ce?ce.data:void 0);M.fetchers.set(se.key,xe)}),new Map(M.fetchers)}async function mt(te,se,ce,xe){lr(te);let Te=(xe&&xe.flushSync)===!0,De=c||l,Ge=lb(M.location,M.matches,d,ce,se,xe?.relative),je=Ys(De,Ge,d),Ve=vr(je,De,Ge);if(Ve.active&&Ve.matches&&(je=Ve.matches),!je){qe(te,se,vi(404,{pathname:Ge}),{flushSync:Te});return}let{path:Le,submission:Je,error:Ke}=AA(!0,Ge,xe);if(Ke){qe(te,se,Ke,{flushSync:Te});return}let it=Td(je,Le),wt=new TA(t.unstable_getContext?await t.unstable_getContext():void 0),Ut=(xe&&xe.preventScrollReset)===!0;if(Je&&Kr(Je.formMethod)){await ot(te,se,Le,it,je,wt,Ve.active,Te,Ut,Je);return}z.set(te,{routeId:se,path:Le}),await Dt(te,se,Le,it,je,wt,Ve.active,Te,Ut,Je)}async function ot(te,se,ce,xe,Te,De,Ge,je,Ve,Le){An(),z.delete(te);function Je(Yt){if(!Yt.route.action&&!Yt.route.lazy){let ri=vi(405,{method:Le.formMethod,pathname:ce,routeId:se});return qe(te,se,ri,{flushSync:je}),!0}return!1}if(!Ge&&Je(xe))return;let Ke=M.fetchers.get(te);pt(te,P8(Le,Ke),{flushSync:je});let it=new AbortController,wt=cu(t.history,ce,it.signal,Le);if(Ge){let Yt=await Fi(Te,ce,wt.signal,te);if(Yt.type==="aborted")return;if(Yt.type==="error"){qe(te,se,Yt.error,{flushSync:je});return}else if(Yt.matches){if(Te=Yt.matches,xe=Td(Te,ce),Je(xe))return}else{qe(te,se,vi(404,{pathname:ce}),{flushSync:je});return}}B.set(te,it);let Ut=T,Mt=Ru(i,o,wt,Te,xe,r,De),yt=(await hn(wt,Mt,De,te))[xe.route.id];if(wt.signal.aborted){B.get(te)===it&&B.delete(te);return}if(W.has(te)){if(Qo(yt)||Gr(yt)){pt(te,Fs(void 0));return}}else{if(Qo(yt))if(B.delete(te),J>Ut){pt(te,Fs(void 0));return}else return x.add(te),pt(te,id(Le)),dt(wt,yt,!1,{fetcherSubmission:Le,preventScrollReset:Ve});if(Gr(yt)){qe(te,se,yt.error);return}}let ni=M.navigation.location||M.location,kn=cu(t.history,ni,it.signal),yr=c||l,Jn=M.navigation.state!=="idle"?Ys(yr,M.navigation.location,d):M.matches;St(Jn,"Didn't find any matches after fetcher action");let $i=++T;K.set(te,$i);let kr=id(Le,yt.data);M.fetchers.set(te,kr);let{dsMatches:vs,revalidatingFetchers:ur}=CA(kn,De,i,o,t.history,M,Jn,Le,ni,r,!1,Q,Z,W,z,x,yr,d,t.patchRoutesOnNavigation!=null,[xe.route.id,yt]);ur.filter(Yt=>Yt.key!==te).forEach(Yt=>{let ri=Yt.key,Ra=M.fetchers.get(ri),er=id(void 0,Ra?Ra.data:void 0);M.fetchers.set(ri,er),lr(ri),Yt.controller&&B.set(ri,Yt.controller)}),Ne({fetchers:new Map(M.fetchers)});let br=()=>ur.forEach(Yt=>lr(Yt.key));it.signal.addEventListener("abort",br);let{loaderResults:lt,fetcherResults:Cn}=await or(vs,ur,kn,De);if(it.signal.aborted)return;if(it.signal.removeEventListener("abort",br),K.delete(te),B.delete(te),ur.forEach(Yt=>B.delete(Yt.key)),M.fetchers.has(te)){let Yt=Fs(yt.data);M.fetchers.set(te,Yt)}let Lr=fm(lt);if(Lr)return dt(kn,Lr.result,!1,{preventScrollReset:Ve});if(Lr=fm(Cn),Lr)return x.add(Lr.key),dt(kn,Lr.result,!1,{preventScrollReset:Ve});let{loaderData:Ar,errors:qi}=DA(M,Jn,lt,void 0,ur,Cn);Bi($i),M.navigation.state==="loading"&&$i>J?(St(C,"Expected pending action"),E&&E.abort(),Ue(M.navigation.location,{matches:Jn,loaderData:Ar,errors:qi,fetchers:new Map(M.fetchers)})):(Ne({errors:qi,loaderData:jA(M.loaderData,Ar,Jn,qi),fetchers:new Map(M.fetchers)}),Q=!1)}async function Dt(te,se,ce,xe,Te,De,Ge,je,Ve,Le){let Je=M.fetchers.get(te);pt(te,id(Le,Je?Je.data:void 0),{flushSync:je});let Ke=new AbortController,it=cu(t.history,ce,Ke.signal);if(Ge){let yt=await Fi(Te,ce,it.signal,te);if(yt.type==="aborted")return;if(yt.type==="error"){qe(te,se,yt.error,{flushSync:je});return}else if(yt.matches)Te=yt.matches,xe=Td(Te,ce);else{qe(te,se,vi(404,{pathname:ce}),{flushSync:je});return}}B.set(te,Ke);let wt=T,Ut=Ru(i,o,it,Te,xe,r,De),Ct=(await hn(it,Ut,De,te))[xe.route.id];if(B.get(te)===Ke&&B.delete(te),!it.signal.aborted){if(W.has(te)){pt(te,Fs(void 0));return}if(Qo(Ct))if(J>wt){pt(te,Fs(void 0));return}else{x.add(te),await dt(it,Ct,!1,{preventScrollReset:Ve});return}if(Gr(Ct)){qe(te,se,Ct.error);return}pt(te,Fs(Ct.data))}}async function dt(te,se,ce,{submission:xe,fetcherSubmission:Te,preventScrollReset:De,replace:Ge}={}){se.response.headers.has("X-Remix-Revalidate")&&(Q=!0);let je=se.response.headers.get("Location");St(je,"Expected a Location header on the redirect Response"),je=MA(je,new URL(te.url),d);let Ve=Qd(M.location,je,{_isRedirect:!0});if(n){let Ut=!1;if(se.response.headers.has("X-Remix-Reload-Document"))Ut=!0;else if(ix.test(je)){const Mt=NO(je,!0);Ut=Mt.origin!==e.location.origin||xi(Mt.pathname,d)==null}if(Ut){Ge?e.location.replace(je):e.location.assign(je);return}}E=null;let Le=Ge===!0||se.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Je,formAction:Ke,formEncType:it}=M.navigation;!xe&&!Te&&Je&&Ke&&it&&(xe=UA(M.navigation));let wt=xe||Te;if(p8.has(se.response.status)&&wt&&Kr(wt.formMethod))await me(Le,Ve,{submission:{...wt,formAction:je},preventScrollReset:De||I,enableViewTransition:ce?S:void 0});else{let Ut=Yy(Ve,xe);await me(Le,Ve,{overrideNavigation:Ut,fetcherSubmission:Te,preventScrollReset:De||I,enableViewTransition:ce?S:void 0})}}async function hn(te,se,ce,xe){let Te,De={};try{Te=await T8(h,te,se,xe,ce,!1)}catch(Ge){return se.filter(je=>je.shouldLoad).forEach(je=>{De[je.route.id]={type:"error",error:Ge}}),De}if(te.signal.aborted)return De;for(let[Ge,je]of Object.entries(Te))if(I8(je)){let Ve=je.result;De[Ge]={type:"redirect",response:C8(Ve,te,Ge,se,d)}}else De[Ge]=await A8(je);return De}async function or(te,se,ce,xe){let Te=hn(ce,te,xe,null),De=Promise.all(se.map(async Ve=>{if(Ve.matches&&Ve.match&&Ve.request&&Ve.controller){let Je=(await hn(Ve.request,Ve.matches,xe,Ve.key))[Ve.match.route.id];return{[Ve.key]:Je}}else return Promise.resolve({[Ve.key]:{type:"error",error:vi(404,{pathname:Ve.path})}})})),Ge=await Te,je=(await De).reduce((Ve,Le)=>Object.assign(Ve,Le),{});return{loaderResults:Ge,fetcherResults:je}}function An(){Q=!0,z.forEach((te,se)=>{B.has(se)&&Z.add(se),lr(se)})}function pt(te,se,ce={}){M.fetchers.set(te,se),Ne({fetchers:new Map(M.fetchers)},{flushSync:(ce&&ce.flushSync)===!0})}function qe(te,se,ce,xe={}){let Te=Yo(M.matches,se);Jt(te),Ne({errors:{[Te.route.id]:ce},fetchers:new Map(M.fetchers)},{flushSync:(xe&&xe.flushSync)===!0})}function nn(te){return Y.set(te,(Y.get(te)||0)+1),W.has(te)&&W.delete(te),M.fetchers.get(te)||g8}function Jt(te){let se=M.fetchers.get(te);B.has(te)&&!(se&&se.state==="loading"&&K.has(te))&&lr(te),z.delete(te),K.delete(te),x.delete(te),W.delete(te),Z.delete(te),M.fetchers.delete(te)}function Ui(te){let se=(Y.get(te)||0)-1;se<=0?(Y.delete(te),W.add(te)):Y.set(te,se),Ne({fetchers:new Map(M.fetchers)})}function lr(te){let se=B.get(te);se&&(se.abort(),B.delete(te))}function an(te){for(let se of te){let ce=nn(se),xe=Fs(ce.data);M.fetchers.set(se,xe)}}function zi(){let te=[],se=!1;for(let ce of x){let xe=M.fetchers.get(ce);St(xe,`Expected fetcher: ${ce}`),xe.state==="loading"&&(x.delete(ce),te.push(ce),se=!0)}return an(te),se}function Bi(te){let se=[];for(let[ce,xe]of K)if(xe<te){let Te=M.fetchers.get(ce);St(Te,`Expected fetcher: ${ce}`),Te.state==="loading"&&(lr(ce),K.delete(ce),se.push(ce))}return an(se),se.length>0}function jr(te,se){let ce=M.blockers.get(te)||rd;return ne.get(te)!==se&&ne.set(te,se),ce}function Aa(te){M.blockers.delete(te),ne.delete(te)}function ei(te,se){let ce=M.blockers.get(te)||rd;St(ce.state==="unblocked"&&se.state==="blocked"||ce.state==="blocked"&&se.state==="blocked"||ce.state==="blocked"&&se.state==="proceeding"||ce.state==="blocked"&&se.state==="unblocked"||ce.state==="proceeding"&&se.state==="unblocked",`Invalid blocker state transition: ${ce.state} -> ${se.state}`);let xe=new Map(M.blockers);xe.set(te,se),Ne({blockers:xe})}function ms({currentLocation:te,nextLocation:se,historyAction:ce}){if(ne.size===0)return;ne.size>1&&En(!1,"A router only supports one blocker at a time");let xe=Array.from(ne.entries()),[Te,De]=xe[xe.length-1],Ge=M.blockers.get(Te);if(!(Ge&&Ge.state==="proceeding")&&De({currentLocation:te,nextLocation:se,historyAction:ce}))return Te}function Ca(te){let se=vi(404,{pathname:te}),ce=c||l,{matches:xe,route:Te}=LA(ce);return{notFoundMatches:xe,route:Te,error:se}}function vo(te,se,ce){if(A=te,P=se,N=ce||null,!U&&M.navigation===Wy){U=!0;let xe=ps(M.location,M.matches);xe!=null&&Ne({restoreScrollPosition:xe})}return()=>{A=null,P=null,N=null}}function ti(te,se){return N&&N(te,se.map(xe=>K9(xe,M.loaderData)))||te.key}function Ti(te,se){if(A&&P){let ce=ti(te,se);A[ce]=P()}}function ps(te,se){if(A){let ce=ti(te,se),xe=A[ce];if(typeof xe=="number")return xe}return null}function vr(te,se,ce){if(t.patchRoutesOnNavigation)if(te){if(Object.keys(te[0].params).length>0)return{active:!0,matches:Lm(se,ce,d,!0)}}else return{active:!0,matches:Lm(se,ce,d,!0)||[]};return{active:!1,matches:null}}async function Fi(te,se,ce,xe){if(!t.patchRoutesOnNavigation)return{type:"success",matches:te};let Te=te;for(;;){let De=c==null,Ge=c||l,je=o;try{await t.patchRoutesOnNavigation({signal:ce,path:se,matches:Te,fetcherKey:xe,patch:(Je,Ke)=>{ce.aborted||RA(Je,Ke,Ge,je,i)}})}catch(Je){return{type:"error",error:Je,partialMatches:Te}}finally{De&&!ce.aborted&&(l=[...l])}if(ce.aborted)return{type:"aborted"};let Ve=Ys(Ge,se,d);if(Ve)return{type:"success",matches:Ve};let Le=Lm(Ge,se,d,!0);if(!Le||Te.length===Le.length&&Te.every((Je,Ke)=>Je.route.id===Le[Ke].route.id))return{type:"success",matches:null};Te=Le}}function Hi(te){o={},c=wp(te,i,void 0,o)}function gs(te,se){let ce=c==null;RA(te,se,c||l,o,i),ce&&(l=[...l],Ne({}))}return O={get basename(){return d},get future(){return p},get state(){return M},get routes(){return l},get window(){return e},initialize:ge,subscribe:Pe,enableScrollRestoration:vo,navigate:We,fetch:mt,revalidate:Xe,createHref:te=>t.history.createHref(te),encodeLocation:te=>t.history.encodeLocation(te),getFetcher:nn,deleteFetcher:Ui,dispose:Ee,getBlocker:jr,deleteBlocker:Aa,patchRoutes:gs,_internalFetchControllers:B,_internalSetRoutes:Hi},O}function b8(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function lb(t,e,n,r,i,o){let l,c;if(i){l=[];for(let h of e)if(l.push(h),h.route.id===i){c=h;break}}else l=e,c=e[e.length-1];let d=rx(r||".",nx(l),xi(t.pathname,n)||t.pathname,o==="path");if(r==null&&(d.search=t.search,d.hash=t.hash),(r==null||r===""||r===".")&&c){let h=ax(d.search);if(c.route.index&&!h)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&h){let p=new URLSearchParams(d.search),y=p.getAll("index");p.delete("index"),y.filter(A=>A).forEach(A=>p.append("index",A));let w=p.toString();d.search=w?`?${w}`:""}}return n!=="/"&&(d.pathname=d.pathname==="/"?n:ha([n,d.pathname])),uo(d)}function AA(t,e,n){if(!n||!b8(n))return{path:e};if(n.formMethod&&!O8(n.formMethod))return{path:e,error:vi(405,{method:n.formMethod})};let r=()=>({path:e,error:vi(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),l=BO(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Kr(o))return r();let y=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((w,[A,N])=>`${w}${A}=${N}
`,""):String(n.body);return{path:e,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:y}}}else if(n.formEncType==="application/json"){if(!Kr(o))return r();try{let y=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:y,text:void 0}}}catch{return r()}}}St(typeof FormData=="function","FormData is not available in this environment");let c,d;if(n.formData)c=db(n.formData),d=n.formData;else if(n.body instanceof FormData)c=db(n.body),d=n.body;else if(n.body instanceof URLSearchParams)c=n.body,d=PA(c);else if(n.body==null)c=new URLSearchParams,d=new FormData;else try{c=new URLSearchParams(n.body),d=PA(c)}catch{return r()}let h={formMethod:o,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(Kr(h.formMethod))return{path:e,submission:h};let p=po(e);return t&&p.search&&ax(p.search)&&c.append("index",""),p.search=`?${c}`,{path:uo(p),submission:h}}function CA(t,e,n,r,i,o,l,c,d,h,p,y,w,A,N,P,U,j,q,H){let X=H?Gr(H[1])?H[1].error:H[1].data:void 0,O=i.createURL(o.location),M=i.createURL(d),C;if(p&&o.errors){let L=Object.keys(o.errors)[0];C=l.findIndex(Q=>Q.route.id===L)}else if(H&&Gr(H[1])){let L=H[0];C=l.findIndex(Q=>Q.route.id===L)-1}let I=H?H[1].statusCode:void 0,E=I&&I>=400,S={currentUrl:O,currentParams:o.matches[0]?.params||{},nextUrl:M,nextParams:l[0].params,...c,actionResult:X,actionStatus:I},k=l.map((L,Q)=>{let{route:Z}=L,B=null;if(C!=null&&Q>C?B=!1:Z.lazy?B=!0:Z.loader==null?B=!1:p?B=ub(Z,o.loaderData,o.errors):w8(o.loaderData,o.matches[Q],L)&&(B=!0),B!==null)return cb(n,r,t,L,h,e,B);let T=E?!1:y||O.pathname+O.search===M.pathname+M.search||O.search!==M.search||x8(o.matches[Q],L),J={...S,defaultShouldRevalidate:T},K=Sp(L,J);return cb(n,r,t,L,h,e,K,J)}),F=[];return N.forEach((L,Q)=>{if(p||!l.some(Y=>Y.route.id===L.routeId)||A.has(Q))return;let Z=o.fetchers.get(Q),B=Z&&Z.state!=="idle"&&Z.data===void 0,T=Ys(U,L.path,j);if(!T){if(q&&B)return;F.push({key:Q,routeId:L.routeId,path:L.path,matches:null,match:null,request:null,controller:null});return}if(P.has(Q))return;let J=Td(T,L.path),K=new AbortController,x=cu(i,L.path,K.signal),z=null;if(w.has(Q))w.delete(Q),z=Ru(n,r,x,T,J,h,e);else if(B)y&&(z=Ru(n,r,x,T,J,h,e));else{let Y={...S,defaultShouldRevalidate:E?!1:y};Sp(J,Y)&&(z=Ru(n,r,x,T,J,h,e,Y))}z&&F.push({key:Q,routeId:L.routeId,path:L.path,matches:z,match:J,request:x,controller:K})}),{dsMatches:k,revalidatingFetchers:F}}function ub(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function w8(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function x8(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Sp(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function RA(t,e,n,r,i){let o;if(t){let d=r[t];St(d,`No route found to patch children into: routeId = ${t}`),d.children||(d.children=[]),o=d.children}else o=n;let l=e.filter(d=>!o.some(h=>kO(d,h))),c=wp(l,i,[t||"_","patch",String(o?.length||"0")],r);o.push(...c)}function kO(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>e.children?.some(i=>kO(n,i))):!1}var NA=new WeakMap,LO=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let i=n[e.id];if(St(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let o=i.lazy[t];if(!o)return;let l=NA.get(i);l||(l={},NA.set(i,l));let c=l[t];if(c)return c;let d=(async()=>{let h=H9(t),y=i[t]!==void 0&&t!=="hasErrorBoundary";if(h)En(!h,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),l[t]=Promise.resolve();else if(y)En(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let w=await o();w!=null&&(Object.assign(i,{[t]:w}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(w=>w===void 0)&&(i.lazy=void 0))})();return l[t]=d,d},IA=new WeakMap;function _8(t,e,n,r,i){let o=n[t.id];if(St(o,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let p=IA.get(o);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let y=(async()=>{St(typeof t.lazy=="function","No lazy route function found");let w=await t.lazy(),A={};for(let N in w){let P=w[N];if(P===void 0)continue;let U=q9(N),q=o[N]!==void 0&&N!=="hasErrorBoundary";U?En(!U,"Route property "+N+" is not a supported property to be returned from a lazy route function. This property will be ignored."):q?En(!q,`Route "${o.id}" has a static property "${N}" defined but its lazy function is also returning a value for this property. The lazy route property "${N}" will be ignored.`):A[N]=P}Object.assign(o,A),Object.assign(o,{...r(o),lazy:void 0})})();return IA.set(o,y),y.catch(()=>{}),{lazyRoutePromise:y,lazyHandlerPromise:y}}let l=Object.keys(t.lazy),c=[],d;for(let p of l){if(i&&i.includes(p))continue;let y=LO({key:p,route:t,manifest:n,mapRouteProperties:r});y&&(c.push(y),p===e&&(d=y))}let h=c.length>0?Promise.all(c).then(()=>{}):void 0;return h?.catch(()=>{}),d?.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:d}}async function OA(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,o)=>{n[e[o].route.id]=i}),n}async function S8(t){return t.matches.some(e=>e.route.unstable_middleware)?VO(t,!1,()=>OA(t),(e,n)=>({[n]:{type:"error",result:e}})):OA(t)}async function VO(t,e,n,r){let{matches:i,request:o,params:l,context:c}=t,d={handlerResult:void 0};try{let h=i.flatMap(y=>y.route.unstable_middleware?y.route.unstable_middleware.map(w=>[y.route.id,w]):[]),p=await UO({request:o,params:l,context:c},h,e,d,n);return e?p:d.handlerResult}catch(h){if(!d.middlewareError)throw h;let p=await r(d.middlewareError.error,d.middlewareError.routeId);return d.handlerResult?Object.assign(d.handlerResult,p):p}}async function UO(t,e,n,r,i,o=0){let{request:l}=t;if(l.signal.aborted)throw l.signal.reason?l.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${l.method} ${l.url}`);let c=e[o];if(!c)return r.handlerResult=await i(),r.handlerResult;let[d,h]=c,p=!1,y,w=async()=>{if(p)throw new Error("You may only call `next()` once per middleware");p=!0,await UO(t,e,n,r,i,o+1)};try{let A=await h({request:t.request,params:t.params,context:t.context},w);return p?A===void 0?y:A:w()}catch(A){throw r.middlewareError?r.middlewareError.error!==A&&(r.middlewareError={routeId:d,error:A}):r.middlewareError={routeId:d,error:A},A}}function zO(t,e,n,r,i){let o=LO({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),l=_8(r.route,Kr(n.method)?"action":"loader",e,t,i);return{middleware:o,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function cb(t,e,n,r,i,o,l,c=null){let d=!1,h=zO(t,e,n,r,i);return{...r,_lazyPromises:h,shouldLoad:l,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler(p){return d=!0,c?typeof p=="boolean"?Sp(r,{...c,defaultShouldRevalidate:p}):Sp(r,c):l},resolve(p){return d||l||p&&n.method==="GET"&&(r.route.lazy||r.route.loader)?E8({request:n,match:r,lazyHandlerPromise:h?.handler,lazyRoutePromise:h?.route,handlerOverride:p,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Ru(t,e,n,r,i,o,l,c=null){return r.map(d=>d.route.id!==i.route.id?{...d,shouldLoad:!1,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler:()=>!1,_lazyPromises:zO(t,e,n,d,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:cb(t,e,n,d,o,l,!0,c))}async function T8(t,e,n,r,i,o){n.some(h=>h._lazyPromises?.middleware)&&await Promise.all(n.map(h=>h._lazyPromises?.middleware));let l={request:e,params:n[0].params,context:i,matches:n},d=await t({...l,fetcherKey:r,unstable_runClientMiddleware:h=>{let p=l;return VO(p,!1,()=>h({...p,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(y,w)=>({[w]:{type:"error",result:y}}))}});try{await Promise.all(n.flatMap(h=>[h._lazyPromises?.handler,h._lazyPromises?.route]))}catch{}return d}async function E8({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:o}){let l,c,d=Kr(t.method),h=d?"action":"loader",p=y=>{let w,A=new Promise((U,j)=>w=j);c=()=>w(),t.signal.addEventListener("abort",c);let N=U=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${h}" [routeId: ${e.route.id}]`)):y({request:t,params:e.params,context:o},...U!==void 0?[U]:[]),P=(async()=>{try{return{type:"data",result:await(i?i(j=>N(j)):N())}}catch(U){return{type:"error",result:U}}})();return Promise.race([P,A])};try{let y=d?e.route.action:e.route.loader;if(n||r)if(y){let w,[A]=await Promise.all([p(y).catch(N=>{w=N}),n,r]);if(w!==void 0)throw w;l=A}else{await n;let w=d?e.route.action:e.route.loader;if(w)[l]=await Promise.all([p(w),r]);else if(h==="action"){let A=new URL(t.url),N=A.pathname+A.search;throw vi(405,{method:t.method,pathname:N,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(y)l=await p(y);else{let w=new URL(t.url),A=w.pathname+w.search;throw vi(404,{pathname:A})}}catch(y){return{type:"error",result:y}}finally{c&&t.signal.removeEventListener("abort",c)}return l}async function A8(t){let{result:e,type:n}=t;if(FO(e)){let r;try{let i=e.headers.get("Content-Type");i&&/\bapplication\/json\b/.test(i)?e.body==null?r=null:r=await e.json():r=await e.text()}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new _p(e.status,e.statusText,r),statusCode:e.status,headers:e.headers}:{type:"data",data:r,statusCode:e.status,headers:e.headers}}return n==="error"?VA(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new _p(e.init?.status||500,void 0,e.data),statusCode:Zd(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Zd(e)?e.status:void 0}:VA(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function C8(t,e,n,r,i){let o=t.headers.get("Location");if(St(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!ix.test(o)){let l=r.slice(0,r.findIndex(c=>c.route.id===n)+1);o=lb(new URL(e.url),l,i,o),t.headers.set("Location",o)}return t}function MA(t,e,n){if(ix.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=xi(i.pathname,n)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return t}function cu(t,e,n,r){let i=t.createURL(BO(e)).toString(),o={signal:n};if(r&&Kr(r.formMethod)){let{formMethod:l,formEncType:c}=r;o.method=l.toUpperCase(),c==="application/json"?(o.headers=new Headers({"Content-Type":c}),o.body=JSON.stringify(r.json)):c==="text/plain"?o.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?o.body=db(r.formData):o.body=r.formData}return new Request(i,o)}function db(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function PA(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function R8(t,e,n,r=!1,i=!1){let o={},l=null,c,d=!1,h={},p=n&&Gr(n[1])?n[1].error:void 0;return t.forEach(y=>{if(!(y.route.id in e))return;let w=y.route.id,A=e[w];if(St(!Qo(A),"Cannot handle redirect results in processLoaderData"),Gr(A)){let N=A.error;if(p!==void 0&&(N=p,p=void 0),l=l||{},i)l[w]=N;else{let P=Yo(t,w);l[P.route.id]==null&&(l[P.route.id]=N)}r||(o[w]=jO),d||(d=!0,c=Zd(A.error)?A.error.status:500),A.headers&&(h[w]=A.headers)}else o[w]=A.data,A.statusCode&&A.statusCode!==200&&!d&&(c=A.statusCode),A.headers&&(h[w]=A.headers)}),p!==void 0&&n&&(l={[n[0]]:p},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:l,statusCode:c||200,loaderHeaders:h}}function DA(t,e,n,r,i,o){let{loaderData:l,errors:c}=R8(e,n,r);return i.filter(d=>!d.matches||d.matches.some(h=>h.shouldLoad)).forEach(d=>{let{key:h,match:p,controller:y}=d,w=o[h];if(St(w,"Did not find corresponding fetcher result"),!(y&&y.signal.aborted))if(Gr(w)){let A=Yo(t.matches,p?.route.id);c&&c[A.route.id]||(c={...c,[A.route.id]:w.error}),t.fetchers.delete(h)}else if(Qo(w))St(!1,"Unhandled fetcher revalidation redirect");else{let A=Fs(w.data);t.fetchers.set(h,A)}}),{loaderData:l,errors:c}}function jA(t,e,n,r){let i=Object.entries(e).filter(([,o])=>o!==jO).reduce((o,[l,c])=>(o[l]=c,o),{});for(let o of n){let l=o.route.id;if(!e.hasOwnProperty(l)&&t.hasOwnProperty(l)&&o.route.loader&&(i[l]=t[l]),r&&r.hasOwnProperty(l))break}return i}function kA(t){return t?Gr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Yo(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function LA(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function vi(t,{pathname:e,routeId:n,method:r,type:i,message:o}={}){let l="Unknown Server Error",c="Unknown @remix-run/router error";return t===400?(l="Bad Request",r&&e&&n?c=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(c="Unable to encode submission body")):t===403?(l="Forbidden",c=`Route "${n}" does not match URL "${e}"`):t===404?(l="Not Found",c=`No route matches URL "${e}"`):t===405&&(l="Method Not Allowed",r&&e&&n?c=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(c=`Invalid request method "${r.toUpperCase()}"`)),new _p(t||500,l,new Error(c),!0)}function fm(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(Qo(i))return{key:r,result:i}}}function BO(t){let e=typeof t=="string"?po(t):t;return uo({...e,hash:""})}function N8(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function I8(t){return FO(t.result)&&m8.has(t.result.status)}function Gr(t){return t.type==="error"}function Qo(t){return(t&&t.type)==="redirect"}function VA(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function FO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function O8(t){return h8.has(t.toUpperCase())}function Kr(t){return d8.has(t.toUpperCase())}function ax(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Td(t,e){let n=typeof e=="string"?po(e).search:e.search;if(t[t.length-1].route.index&&ax(n||""))return t[t.length-1];let r=MO(t);return r[r.length-1]}function UA(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:l}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:l,text:void 0}}}function Yy(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function M8(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function id(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function P8(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Fs(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function D8(t,e){try{let n=t.sessionStorage.getItem(DO);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function j8(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(DO,JSON.stringify(n))}catch(r){En(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function k8(){let t,e,n=new Promise((r,i)=>{t=async o=>{r(o);try{await n}catch{}},e=async o=>{i(o);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var bl=R.createContext(null);bl.displayName="DataRouter";var Of=R.createContext(null);Of.displayName="DataRouterState";var sx=R.createContext({isTransitioning:!1});sx.displayName="ViewTransition";var HO=R.createContext(new Map);HO.displayName="Fetchers";var L8=R.createContext(null);L8.displayName="Await";var Ta=R.createContext(null);Ta.displayName="Navigation";var gg=R.createContext(null);gg.displayName="Location";var Vi=R.createContext({outlet:null,matches:[],isDataRoute:!1});Vi.displayName="Route";var ox=R.createContext(null);ox.displayName="RouteError";function V8(t,{relative:e}={}){St(Mf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=R.useContext(Ta),{hash:i,pathname:o,search:l}=Pf(t,{relative:e}),c=o;return n!=="/"&&(c=o==="/"?n:ha([n,o])),r.createHref({pathname:c,search:l,hash:i})}function Mf(){return R.useContext(gg)!=null}function Ea(){return St(Mf(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(gg).location}var $O="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qO(t){R.useContext(Ta).static||R.useLayoutEffect(t)}function Jr(){let{isDataRoute:t}=R.useContext(Vi);return t?J8():U8()}function U8(){St(Mf(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(bl),{basename:e,navigator:n}=R.useContext(Ta),{matches:r}=R.useContext(Vi),{pathname:i}=Ea(),o=JSON.stringify(nx(r)),l=R.useRef(!1);return qO(()=>{l.current=!0}),R.useCallback((d,h={})=>{if(En(l.current,$O),!l.current)return;if(typeof d=="number"){n.go(d);return}let p=rx(d,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ha([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,o,i,t])}var z8=R.createContext(null);function B8(t){let e=R.useContext(Vi).outlet;return e&&R.createElement(z8.Provider,{value:t},e)}function lx(){let{matches:t}=R.useContext(Vi),e=t[t.length-1];return e?e.params:{}}function Pf(t,{relative:e}={}){let{matches:n}=R.useContext(Vi),{pathname:r}=Ea(),i=JSON.stringify(nx(n));return R.useMemo(()=>rx(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function F8(t,e,n,r){St(Mf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=R.useContext(Ta),{matches:o}=R.useContext(Vi),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let j=p&&p.path||"";GO(d,!p||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let y=Ea(),w;w=y;let A=w.pathname||"/",N=A;if(h!=="/"){let j=h.replace(/^\//,"").split("/");N="/"+A.replace(/^\//,"").split("/").slice(j.length).join("/")}let P=Ys(t,{pathname:N});return En(p||P!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),En(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),K8(P&&P.map(j=>Object.assign({},j,{params:Object.assign({},c,j.params),pathname:ha([h,i.encodeLocation?i.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?h:ha([h,i.encodeLocation?i.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,n,r)}function H8(){let t=Z8(),e=Zd(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:o},"ErrorBoundary")," or"," ",R.createElement("code",{style:o},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,l)}var $8=R.createElement(H8,null),q8=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?R.createElement(Vi.Provider,{value:this.props.routeContext},R.createElement(ox.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function G8({routeContext:t,match:e,children:n}){let r=R.useContext(bl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(Vi.Provider,{value:t},n)}function K8(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n?.errors;if(o!=null){let d=i.findIndex(h=>h.route.id&&o?.[h.route.id]!==void 0);St(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(n)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:y}=n,w=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!y||y[h.route.id]===void 0);if(h.route.lazy||w){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,h,p)=>{let y,w=!1,A=null,N=null;n&&(y=o&&h.route.id?o[h.route.id]:void 0,A=h.route.errorElement||$8,l&&(c<0&&p===0?(GO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,N=null):c===p&&(w=!0,N=h.route.hydrateFallbackElement||null)));let P=e.concat(i.slice(0,p+1)),U=()=>{let j;return y?j=A:w?j=N:h.route.Component?j=R.createElement(h.route.Component,null):h.route.element?j=h.route.element:j=d,R.createElement(G8,{match:h,routeContext:{outlet:d,matches:P,isDataRoute:n!=null},children:j})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?R.createElement(q8,{location:n.location,revalidation:n.revalidation,component:A,error:y,children:U(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):U()},null)}function ux(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function W8(t){let e=R.useContext(bl);return St(e,ux(t)),e}function Y8(t){let e=R.useContext(Of);return St(e,ux(t)),e}function X8(t){let e=R.useContext(Vi);return St(e,ux(t)),e}function cx(t){let e=X8(t),n=e.matches[e.matches.length-1];return St(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Q8(){return cx("useRouteId")}function Z8(){let t=R.useContext(ox),e=Y8("useRouteError"),n=cx("useRouteError");return t!==void 0?t:e.errors?.[n]}function J8(){let{router:t}=W8("useNavigate"),e=cx("useNavigate"),n=R.useRef(!1);return qO(()=>{n.current=!0}),R.useCallback(async(i,o={})=>{En(n.current,$O),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var zA={};function GO(t,e,n){!e&&!zA[t]&&(zA[t]=!0,En(!1,n))}var BA={};function FA(t,e){!t&&!BA[e]&&(BA[e]=!0,console.warn(e))}function e7(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&En(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:R.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&En(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:R.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&En(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:R.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var t7=["HydrateFallback","hydrateFallbackElement"],n7=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function r7({router:t,flushSync:e}){let[n,r]=R.useState(t.state),[i,o]=R.useState(),[l,c]=R.useState({isTransitioning:!1}),[d,h]=R.useState(),[p,y]=R.useState(),[w,A]=R.useState(),N=R.useRef(new Map),P=R.useCallback((H,{deletedFetchers:X,flushSync:O,viewTransitionOpts:M})=>{H.fetchers.forEach((I,E)=>{I.data!==void 0&&N.current.set(E,I.data)}),X.forEach(I=>N.current.delete(I)),FA(O===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let C=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(FA(M==null||C,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!M||!C){e&&O?e(()=>r(H)):R.startTransition(()=>r(H));return}if(e&&O){e(()=>{p&&(d&&d.resolve(),p.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:M.currentLocation,nextLocation:M.nextLocation})});let I=t.window.document.startViewTransition(()=>{e(()=>r(H))});I.finished.finally(()=>{e(()=>{h(void 0),y(void 0),o(void 0),c({isTransitioning:!1})})}),e(()=>y(I));return}p?(d&&d.resolve(),p.skipTransition(),A({state:H,currentLocation:M.currentLocation,nextLocation:M.nextLocation})):(o(H),c({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}))},[t.window,e,p,d]);R.useLayoutEffect(()=>t.subscribe(P),[t,P]),R.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new n7)},[l]),R.useEffect(()=>{if(d&&i&&t.window){let H=i,X=d.promise,O=t.window.document.startViewTransition(async()=>{R.startTransition(()=>r(H)),await X});O.finished.finally(()=>{h(void 0),y(void 0),o(void 0),c({isTransitioning:!1})}),y(O)}},[i,d,t.window]),R.useEffect(()=>{d&&i&&n.location.key===i.location.key&&d.resolve()},[d,p,n.location,i]),R.useEffect(()=>{!l.isTransitioning&&w&&(o(w.state),c({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),A(void 0))},[l.isTransitioning,w]);let U=R.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:H=>t.navigate(H),push:(H,X,O)=>t.navigate(H,{state:X,preventScrollReset:O?.preventScrollReset}),replace:(H,X,O)=>t.navigate(H,{replace:!0,state:X,preventScrollReset:O?.preventScrollReset})}),[t]),j=t.basename||"/",q=R.useMemo(()=>({router:t,navigator:U,static:!1,basename:j}),[t,U,j]);return R.createElement(R.Fragment,null,R.createElement(bl.Provider,{value:q},R.createElement(Of.Provider,{value:n},R.createElement(HO.Provider,{value:N.current},R.createElement(sx.Provider,{value:l},R.createElement(o7,{basename:j,location:n.location,navigationType:n.historyAction,navigator:U},R.createElement(i7,{routes:t.routes,future:t.future,state:n})))))),null)}var i7=R.memo(a7);function a7({routes:t,future:e,state:n}){return F8(t,void 0,n,e)}function s7(t){return B8(t.context)}function o7({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){St(!Mf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=R.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof n=="string"&&(n=po(n));let{pathname:d="/",search:h="",hash:p="",state:y=null,key:w="default"}=n,A=R.useMemo(()=>{let N=xi(d,l);return N==null?null:{location:{pathname:N,search:h,hash:p,state:y,key:w},navigationType:r}},[l,d,h,p,y,w,r]);return En(A!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:R.createElement(Ta.Provider,{value:c},R.createElement(gg.Provider,{children:e,value:A}))}var Vm="get",Um="application/x-www-form-urlencoded";function vg(t){return t!=null&&typeof t.tagName=="string"}function l7(t){return vg(t)&&t.tagName.toLowerCase()==="button"}function u7(t){return vg(t)&&t.tagName.toLowerCase()==="form"}function c7(t){return vg(t)&&t.tagName.toLowerCase()==="input"}function d7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function f7(t,e){return t.button===0&&(!e||e==="_self")&&!d7(t)}function fb(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function h7(t,e){let n=fb(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(o=>{n.append(i,o)})}),n}var hm=null;function m7(){if(hm===null)try{new FormData(document.createElement("form"),0),hm=!1}catch{hm=!0}return hm}var p7=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xy(t){return t!=null&&!p7.has(t)?(En(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Um}"`),null):t}function g7(t,e){let n,r,i,o,l;if(u7(t)){let c=t.getAttribute("action");r=c?xi(c,e):null,n=t.getAttribute("method")||Vm,i=Xy(t.getAttribute("enctype"))||Um,o=new FormData(t)}else if(l7(t)||c7(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?xi(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Vm,i=Xy(t.getAttribute("formenctype"))||Xy(c.getAttribute("enctype"))||Um,o=new FormData(c,t),!m7()){let{name:h,type:p,value:y}=t;if(p==="image"){let w=h?`${h}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else h&&o.append(h,y)}}else{if(vg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Vm,r=null,i=Um,l=t}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:l}}function dx(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function v7(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function y7(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function b7(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await v7(o,n);return l.links?l.links():[]}return[]}));return S7(r.flat(1).filter(y7).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function HA(t,e,n,r,i,o){let l=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,c=(d,h)=>n[h].pathname!==d.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,h)=>l(d,h)||c(d,h)):o==="data"?e.filter((d,h)=>{let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function w7(t,e,{includeHydrateFallback:n}={}){return x7(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function x7(t){return[...new Set(t)]}function _7(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function S7(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(_7(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var T7=new Set([100,101,204,205]);function E7(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&xi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function KO(){let t=R.useContext(bl);return dx(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function A7(){let t=R.useContext(Of);return dx(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var fx=R.createContext(void 0);fx.displayName="FrameworkContext";function WO(){let t=R.useContext(fx);return dx(t,"You must render this element inside a <HydratedRouter> element"),t}function C7(t,e){let n=R.useContext(fx),[r,i]=R.useState(!1),[o,l]=R.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:p,onTouchStart:y}=e,w=R.useRef(null);R.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let P=j=>{j.forEach(q=>{l(q.isIntersecting)})},U=new IntersectionObserver(P,{threshold:.5});return w.current&&U.observe(w.current),()=>{U.disconnect()}}},[t]),R.useEffect(()=>{if(r){let P=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(P)}}},[r]);let A=()=>{i(!0)},N=()=>{i(!1),l(!1)};return n?t!=="intent"?[o,w,{}]:[o,w,{onFocus:ad(c,A),onBlur:ad(d,N),onMouseEnter:ad(h,A),onMouseLeave:ad(p,N),onTouchStart:ad(y,A)}]:[!1,w,{}]}function ad(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function R7({page:t,...e}){let{router:n}=KO(),r=R.useMemo(()=>Ys(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?R.createElement(I7,{page:t,matches:r,...e}):null}function N7(t){let{manifest:e,routeModules:n}=WO(),[r,i]=R.useState([]);return R.useEffect(()=>{let o=!1;return b7(t,e,n).then(l=>{o||i(l)}),()=>{o=!0}},[t,e,n]),r}function I7({page:t,matches:e,...n}){let r=Ea(),{manifest:i,routeModules:o}=WO(),{basename:l}=KO(),{loaderData:c,matches:d}=A7(),h=R.useMemo(()=>HA(t,e,d,i,r,"data"),[t,e,d,i,r]),p=R.useMemo(()=>HA(t,e,d,i,r,"assets"),[t,e,d,i,r]),y=R.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let N=new Set,P=!1;if(e.forEach(j=>{let q=i.routes[j.route.id];!q||!q.hasLoader||(!h.some(H=>H.route.id===j.route.id)&&j.route.id in c&&o[j.route.id]?.shouldRevalidate||q.hasClientLoader?P=!0:N.add(j.route.id))}),N.size===0)return[];let U=E7(t,l);return P&&N.size>0&&U.searchParams.set("_routes",e.filter(j=>N.has(j.route.id)).map(j=>j.route.id).join(",")),[U.pathname+U.search]},[l,c,r,i,h,e,t,o]),w=R.useMemo(()=>w7(p,i),[p,i]),A=N7(p);return R.createElement(R.Fragment,null,y.map(N=>R.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),w.map(N=>R.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),A.map(({key:N,link:P})=>R.createElement("link",{key:N,...P})))}function O7(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var YO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{YO&&(window.__reactRouterVersion="7.6.3")}catch{}function M7(t,e){return y8({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:U9({window:e?.window}),hydrationData:P7(),routes:t,mapRouteProperties:e7,hydrationRouteProperties:t7,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function P7(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:D7(t.errors)}),t}function D7(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new _p(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let l=new o(i.message);l.stack="",n[r]=l}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}var XO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bi=R.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:c,target:d,to:h,preventScrollReset:p,viewTransition:y,...w},A){let{basename:N}=R.useContext(Ta),P=typeof h=="string"&&XO.test(h),U,j=!1;if(typeof h=="string"&&P&&(U=h,YO))try{let E=new URL(window.location.href),S=h.startsWith("//")?new URL(E.protocol+h):new URL(h),k=xi(S.pathname,N);S.origin===E.origin&&k!=null?h=k+S.search+S.hash:j=!0}catch{En(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=V8(h,{relative:i}),[H,X,O]=C7(r,w),M=V7(h,{replace:l,state:c,target:d,preventScrollReset:p,relative:i,viewTransition:y});function C(E){e&&e(E),E.defaultPrevented||M(E)}let I=R.createElement("a",{...w,...O,href:U||q,onClick:j||o?e:C,ref:O7(A,X),target:d,"data-discover":!P&&n==="render"?"true":void 0});return H&&!P?R.createElement(R.Fragment,null,I,R.createElement(R7,{page:q})):I});bi.displayName="Link";var j7=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:c,children:d,...h},p){let y=Pf(l,{relative:h.relative}),w=Ea(),A=R.useContext(Of),{navigator:N,basename:P}=R.useContext(Ta),U=A!=null&&H7(y)&&c===!0,j=N.encodeLocation?N.encodeLocation(y).pathname:y.pathname,q=w.pathname,H=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(q=q.toLowerCase(),H=H?H.toLowerCase():null,j=j.toLowerCase()),H&&P&&(H=xi(H,P)||H);const X=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let O=q===j||!i&&q.startsWith(j)&&q.charAt(X)==="/",M=H!=null&&(H===j||!i&&H.startsWith(j)&&H.charAt(j.length)==="/"),C={isActive:O,isPending:M,isTransitioning:U},I=O?e:void 0,E;typeof r=="function"?E=r(C):E=[r,O?"active":null,M?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let S=typeof o=="function"?o(C):o;return R.createElement(bi,{...h,"aria-current":I,className:E,ref:p,style:S,to:l,viewTransition:c},typeof d=="function"?d(C):d)});j7.displayName="NavLink";var k7=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:l=Vm,action:c,onSubmit:d,relative:h,preventScrollReset:p,viewTransition:y,...w},A)=>{let N=B7(),P=F7(c,{relative:h}),U=l.toLowerCase()==="get"?"get":"post",j=typeof c=="string"&&XO.test(c),q=H=>{if(d&&d(H),H.defaultPrevented)return;H.preventDefault();let X=H.nativeEvent.submitter,O=X?.getAttribute("formmethod")||l;N(X||H.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:i,state:o,relative:h,preventScrollReset:p,viewTransition:y})};return R.createElement("form",{ref:A,method:U,action:P,onSubmit:r?d:q,...w,"data-discover":!j&&t==="render"?"true":void 0})});k7.displayName="Form";function L7(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QO(t){let e=R.useContext(bl);return St(e,L7(t)),e}function V7(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let c=Jr(),d=Ea(),h=Pf(t,{relative:o});return R.useCallback(p=>{if(f7(p,e)){p.preventDefault();let y=n!==void 0?n:uo(d)===uo(h);c(t,{replace:y,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,h,n,r,e,t,i,o,l])}function ZO(t){En(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=R.useRef(fb(t)),n=R.useRef(!1),r=Ea(),i=R.useMemo(()=>h7(r.search,n.current?null:e.current),[r.search]),o=Jr(),l=R.useCallback((c,d)=>{const h=fb(typeof c=="function"?c(i):c);n.current=!0,o("?"+h,d)},[o,i]);return[i,l]}var U7=0,z7=()=>`__${String(++U7)}__`;function B7(){let{router:t}=QO("useSubmit"),{basename:e}=R.useContext(Ta),n=Q8();return R.useCallback(async(r,i={})=>{let{action:o,method:l,encType:c,formData:d,body:h}=g7(r,e);if(i.navigate===!1){let p=i.fetcherKey||z7();await t.fetch(p,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function F7(t,{relative:e}={}){let{basename:n}=R.useContext(Ta),r=R.useContext(Vi);St(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Pf(t||".",{relative:e})},l=Ea();if(t==null){o.search=l.search;let c=new URLSearchParams(o.search),d=c.getAll("index");if(d.some(p=>p==="")){c.delete("index"),d.filter(y=>y).forEach(y=>c.append("index",y));let p=c.toString();o.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:ha([n,o.pathname])),uo(o)}function H7(t,e={}){let n=R.useContext(sx);St(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=QO("useViewTransitionState"),i=Pf(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=xi(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=xi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return xp(i.pathname,l)!=null||xp(i.pathname,o)!=null}[...T7];/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $7=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),q7=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),$A=t=>{const e=q7(t);return e.charAt(0).toUpperCase()+e.slice(1)},JO=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),G7=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var K7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W7=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...c},d)=>R.createElement("svg",{ref:d,...K7,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:JO("lucide",i),...!o&&!G7(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,p])=>R.createElement(h,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=(t,e)=>{const n=R.forwardRef(({className:r,...i},o)=>R.createElement(W7,{ref:o,iconNode:e,className:JO(`lucide-${$7($A(t))}`,`lucide-${t}`,r),...i}));return n.displayName=$A(t),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y7=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],X7=ht("activity",Y7);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],hx=ht("arrow-left-right",Q7);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],mx=ht("arrow-left",Z7);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],px=ht("arrow-right",J7);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],tz=ht("arrow-up",ez);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],fl=ht("bookmark",nz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],gx=ht("check",rz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Df=ht("chevron-down",iz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],eM=ht("chevron-up",az);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],qA=ht("circle-check-big",sz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],lz=ht("circle-plus",oz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],cz=ht("cloud-upload",uz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],fz=ht("external-link",dz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mz=ht("eye",hz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],du=ht("funnel",pz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],vz=ht("grid-3x3",gz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Bu=ht("heart",yz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],tM=ht("house",bz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],xz=ht("image",wz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Sz=ht("loader-circle",_z);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ez=ht("mail",Tz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],hb=ht("message-circle",Az);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Rz=ht("message-square",Cz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Iz=ht("package",Nz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mb=ht("plus",Oz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],Pz=ht("reply",Mz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],GA=ht("rotate-ccw",Dz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Jd=ht("search",jz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Tp=ht("send",kz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vz=ht("settings",Lz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],nM=ht("shopping-bag",Uz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Bz=ht("shopping-cart",zz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],KA=ht("sparkles",Fz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],$z=ht("square-pen",Hz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Gz=ht("trash-2",qz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],pb=ht("trending-up",Kz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Yz=ht("triangle-alert",Wz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],vx=ht("user",Xz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],WA=ht("users",Qz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ns=ht("x",Zz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],eB=ht("zap",Jz),yx=R.createContext({});function wl(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const bx=typeof window<"u",jf=bx?R.useLayoutEffect:R.useEffect,yg=R.createContext(null);function wx(t,e){t.indexOf(e)===-1&&t.push(e)}function xx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const wa=(t,e,n)=>n>e?e:n<t?t:n;let ef=()=>{};const cs={},rM=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function iM(t){return typeof t=="object"&&t!==null}const aM=t=>/^0[^.\s]+$/u.test(t);function _x(t){let e;return()=>(e===void 0&&(e=t()),e)}const Pr=t=>t,tB=(t,e)=>n=>e(t(n)),kf=(...t)=>t.reduce(tB),Fu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Sx{constructor(){this.subscriptions=[]}add(e){return wx(this.subscriptions,e),()=>xx(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const l=this.subscriptions[o];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ma=t=>t*1e3,pa=t=>t/1e3;function Tx(t,e){return e?t*(1e3/e):0}const sM=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,nB=1e-7,rB=12;function iB(t,e,n,r,i){let o,l,c=0;do l=e+(n-e)/2,o=sM(l,r,i)-t,o>0?n=l:e=l;while(Math.abs(o)>nB&&++c<rB);return l}function Lf(t,e,n,r){if(t===e&&n===r)return Pr;const i=o=>iB(o,0,1,t,n);return o=>o===0||o===1?o:sM(i(o),e,r)}const oM=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,lM=t=>e=>1-t(1-e),uM=Lf(.33,1.53,.69,.99),Ex=lM(uM),cM=oM(Ex),dM=t=>(t*=2)<1?.5*Ex(t):.5*(2-Math.pow(2,-10*(t-1))),Ax=t=>1-Math.sin(Math.acos(t)),fM=lM(Ax),hM=oM(Ax),aB=Lf(.42,0,1,1),Ep=Lf(0,0,.58,1),Ap=Lf(.42,0,.58,1),sB=t=>Array.isArray(t)&&typeof t[0]!="number",mM=t=>Array.isArray(t)&&typeof t[0]=="number",oB={linear:Pr,easeIn:aB,easeInOut:Ap,easeOut:Ep,circIn:Ax,circInOut:hM,circOut:fM,backIn:Ex,backInOut:cM,backOut:uM,anticipate:dM},lB=t=>typeof t=="string",YA=t=>{if(mM(t)){ef(t.length===4);const[e,n,r,i]=t;return Lf(e,n,r,i)}else if(lB(t))return oB[t];return t},mm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],XA={value:null};function uB(t,e){let n=new Set,r=new Set,i=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},d=0;function h(y){l.has(y)&&(p.schedule(y),t()),d++,y(c)}const p={schedule:(y,w=!1,A=!1)=>{const P=A&&i?n:r;return w&&l.add(y),P.has(y)||P.add(y),y},cancel:y=>{r.delete(y),l.delete(y)},process:y=>{if(c=y,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(h),e&&XA.value&&XA.value.frameloop[e].push(d),d=0,n.clear(),i=!1,o&&(o=!1,p.process(y))}};return p}const cB=40;function pM(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=mm.reduce((H,X)=>(H[X]=uB(o,e?X:void 0),H),{}),{setup:c,read:d,resolveKeyframes:h,preUpdate:p,update:y,preRender:w,render:A,postRender:N}=l,P=()=>{const H=cs.useManualTiming?i.timestamp:performance.now();n=!1,cs.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(H-i.timestamp,cB),1)),i.timestamp=H,i.isProcessing=!0,c.process(i),d.process(i),h.process(i),p.process(i),y.process(i),w.process(i),A.process(i),N.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(P))},U=()=>{n=!0,r=!0,i.isProcessing||t(P)};return{schedule:mm.reduce((H,X)=>{const O=l[X];return H[X]=(M,C=!1,I=!1)=>(n||U(),O.schedule(M,C,I)),H},{}),cancel:H=>{for(let X=0;X<mm.length;X++)l[mm[X]].cancel(H)},state:i,steps:l}}const{schedule:Vt,cancel:_i,state:Kn,steps:Qy}=pM(typeof requestAnimationFrame<"u"?requestAnimationFrame:Pr,!0);let zm;function dB(){zm=void 0}const Mr={now:()=>(zm===void 0&&Mr.set(Kn.isProcessing||cs.useManualTiming?Kn.timestamp:performance.now()),zm),set:t=>{zm=t,queueMicrotask(dB)}},gM=t=>e=>typeof e=="string"&&e.startsWith(t),Cx=gM("--"),fB=gM("var(--"),Rx=t=>fB(t)?hB.test(t.split("/*")[0].trim()):!1,hB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Qu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},tf={...Qu,transform:t=>wa(0,1,t)},pm={...Qu,default:1},jd=t=>Math.round(t*1e5)/1e5,Nx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function mB(t){return t==null}const pB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ix=(t,e)=>n=>!!(typeof n=="string"&&pB.test(n)&&n.startsWith(t)||e&&!mB(n)&&Object.prototype.hasOwnProperty.call(n,e)),vM=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,l,c]=r.match(Nx);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},gB=t=>wa(0,255,t),Zy={...Qu,transform:t=>Math.round(gB(t))},Zo={test:Ix("rgb","red"),parse:vM("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Zy.transform(t)+", "+Zy.transform(e)+", "+Zy.transform(n)+", "+jd(tf.transform(r))+")"};function vB(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const gb={test:Ix("#"),parse:vB,transform:Zo.transform},Vf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Hs=Vf("deg"),ga=Vf("%"),st=Vf("px"),yB=Vf("vh"),bB=Vf("vw"),QA={...ga,parse:t=>ga.parse(t)/100,transform:t=>ga.transform(t*100)},mu={test:Ix("hsl","hue"),parse:vM("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ga.transform(jd(e))+", "+ga.transform(jd(n))+", "+jd(tf.transform(r))+")"},Mn={test:t=>Zo.test(t)||gb.test(t)||mu.test(t),parse:t=>Zo.test(t)?Zo.parse(t):mu.test(t)?mu.parse(t):gb.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Zo.transform(t):mu.transform(t),getAnimatableNone:t=>{const e=Mn.parse(t);return e.alpha=0,Mn.transform(e)}},wB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function xB(t){return isNaN(t)&&typeof t=="string"&&(t.match(Nx)?.length||0)+(t.match(wB)?.length||0)>0}const yM="number",bM="color",_B="var",SB="var(",ZA="${}",TB=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function nf(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const c=e.replace(TB,d=>(Mn.test(d)?(r.color.push(o),i.push(bM),n.push(Mn.parse(d))):d.startsWith(SB)?(r.var.push(o),i.push(_B),n.push(d)):(r.number.push(o),i.push(yM),n.push(parseFloat(d))),++o,ZA)).split(ZA);return{values:n,split:c,indexes:r,types:i}}function wM(t){return nf(t).values}function xM(t){const{split:e,types:n}=nf(t),r=e.length;return i=>{let o="";for(let l=0;l<r;l++)if(o+=e[l],i[l]!==void 0){const c=n[l];c===yM?o+=jd(i[l]):c===bM?o+=Mn.transform(i[l]):o+=i[l]}return o}}const EB=t=>typeof t=="number"?0:Mn.test(t)?Mn.getAnimatableNone(t):t;function AB(t){const e=wM(t);return xM(t)(e.map(EB))}const co={test:xB,parse:wM,createTransformer:xM,getAnimatableNone:AB};function Jy(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function CB({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,l=0;if(!e)i=o=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,d=2*n-c;i=Jy(d,c,t+1/3),o=Jy(d,c,t),l=Jy(d,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function Cp(t,e){return n=>n>0?e:t}const cn=(t,e,n)=>t+(e-t)*n,e0=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},RB=[gb,Zo,mu],NB=t=>RB.find(e=>e.test(t));function JA(t){const e=NB(t);if(!e)return!1;let n=e.parse(t);return e===mu&&(n=CB(n)),n}const e2=(t,e)=>{const n=JA(t),r=JA(e);if(!n||!r)return Cp(t,e);const i={...n};return o=>(i.red=e0(n.red,r.red,o),i.green=e0(n.green,r.green,o),i.blue=e0(n.blue,r.blue,o),i.alpha=cn(n.alpha,r.alpha,o),Zo.transform(i))},vb=new Set(["none","hidden"]);function IB(t,e){return vb.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function OB(t,e){return n=>cn(t,e,n)}function Ox(t){return typeof t=="number"?OB:typeof t=="string"?Rx(t)?Cp:Mn.test(t)?e2:DB:Array.isArray(t)?_M:typeof t=="object"?Mn.test(t)?e2:MB:Cp}function _M(t,e){const n=[...t],r=n.length,i=t.map((o,l)=>Ox(o)(o,e[l]));return o=>{for(let l=0;l<r;l++)n[l]=i[l](o);return n}}function MB(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Ox(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function PB(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],l=t.indexes[o][r[o]],c=t.values[l]??0;n[i]=c,r[o]++}return n}const DB=(t,e)=>{const n=co.createTransformer(e),r=nf(t),i=nf(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?vb.has(t)&&!i.values.length||vb.has(e)&&!r.values.length?IB(t,e):kf(_M(PB(r,i),i.values),n):Cp(t,e)};function SM(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?cn(t,e,n):Ox(t)(t,e)}const jB=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Vt.update(e,n),stop:()=>_i(e),now:()=>Kn.isProcessing?Kn.timestamp:Mr.now()}},TM=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=Math.round(t(o/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Rp=2e4;function Mx(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Rp;)e+=n,r=t.next(e);return e>=Rp?1/0:e}function kB(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(Mx(r),Rp);return{type:"keyframes",ease:o=>r.next(i*o).value/e,duration:pa(i)}}const LB=5;function EM(t,e,n){const r=Math.max(e-LB,0);return Tx(n-t(r),e-r)}const gn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},t0=.001;function VB({duration:t=gn.duration,bounce:e=gn.bounce,velocity:n=gn.velocity,mass:r=gn.mass}){let i,o,l=1-e;l=wa(gn.minDamping,gn.maxDamping,l),t=wa(gn.minDuration,gn.maxDuration,pa(t)),l<1?(i=h=>{const p=h*l,y=p*t,w=p-n,A=yb(h,l),N=Math.exp(-y);return t0-w/A*N},o=h=>{const y=h*l*t,w=y*n+n,A=Math.pow(l,2)*Math.pow(h,2)*t,N=Math.exp(-y),P=yb(Math.pow(h,2),l);return(-i(h)+t0>0?-1:1)*((w-A)*N)/P}):(i=h=>{const p=Math.exp(-h*t),y=(h-n)*t+1;return-t0+p*y},o=h=>{const p=Math.exp(-h*t),y=(n-h)*(t*t);return p*y});const c=5/t,d=zB(i,o,c);if(t=ma(t),isNaN(d))return{stiffness:gn.stiffness,damping:gn.damping,duration:t};{const h=Math.pow(d,2)*r;return{stiffness:h,damping:l*2*Math.sqrt(r*h),duration:t}}}const UB=12;function zB(t,e,n){let r=n;for(let i=1;i<UB;i++)r=r-t(r)/e(r);return r}function yb(t,e){return t*Math.sqrt(1-e*e)}const BB=["duration","bounce"],FB=["stiffness","damping","mass"];function t2(t,e){return e.some(n=>t[n]!==void 0)}function HB(t){let e={velocity:gn.velocity,stiffness:gn.stiffness,damping:gn.damping,mass:gn.mass,isResolvedFromDuration:!1,...t};if(!t2(t,FB)&&t2(t,BB))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*wa(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:gn.mass,stiffness:i,damping:o}}else{const n=VB(t);e={...e,...n,mass:gn.mass},e.isResolvedFromDuration=!0}return e}function Np(t=gn.visualDuration,e=gn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:d,damping:h,mass:p,duration:y,velocity:w,isResolvedFromDuration:A}=HB({...n,velocity:-pa(n.velocity||0)}),N=w||0,P=h/(2*Math.sqrt(d*p)),U=l-o,j=pa(Math.sqrt(d/p)),q=Math.abs(U)<5;r||(r=q?gn.restSpeed.granular:gn.restSpeed.default),i||(i=q?gn.restDelta.granular:gn.restDelta.default);let H;if(P<1){const O=yb(j,P);H=M=>{const C=Math.exp(-P*j*M);return l-C*((N+P*j*U)/O*Math.sin(O*M)+U*Math.cos(O*M))}}else if(P===1)H=O=>l-Math.exp(-j*O)*(U+(N+j*U)*O);else{const O=j*Math.sqrt(P*P-1);H=M=>{const C=Math.exp(-P*j*M),I=Math.min(O*M,300);return l-C*((N+P*j*U)*Math.sinh(I)+O*U*Math.cosh(I))/O}}const X={calculatedDuration:A&&y||null,next:O=>{const M=H(O);if(A)c.done=O>=y;else{let C=O===0?N:0;P<1&&(C=O===0?ma(N):EM(H,O,M));const I=Math.abs(C)<=r,E=Math.abs(l-M)<=i;c.done=I&&E}return c.value=c.done?l:M,c},toString:()=>{const O=Math.min(Mx(X),Rp),M=TM(C=>X.next(O*C).value,O,30);return O+"ms "+M},toTransition:()=>{}};return X}Np.applyToOptions=t=>{const e=kB(t,100,Np);return t.ease=e.ease,t.duration=ma(e.duration),t.type="keyframes",t};function bb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:d,restDelta:h=.5,restSpeed:p}){const y=t[0],w={done:!1,value:y},A=I=>c!==void 0&&I<c||d!==void 0&&I>d,N=I=>c===void 0?d:d===void 0||Math.abs(c-I)<Math.abs(d-I)?c:d;let P=n*e;const U=y+P,j=l===void 0?U:l(U);j!==U&&(P=j-y);const q=I=>-P*Math.exp(-I/r),H=I=>j+q(I),X=I=>{const E=q(I),S=H(I);w.done=Math.abs(E)<=h,w.value=w.done?j:S};let O,M;const C=I=>{A(w.value)&&(O=I,M=Np({keyframes:[w.value,N(w.value)],velocity:EM(H,I,w.value),damping:i,stiffness:o,restDelta:h,restSpeed:p}))};return C(0),{calculatedDuration:null,next:I=>{let E=!1;return!M&&O===void 0&&(E=!0,X(I),C(I)),O!==void 0&&I>=O?M.next(I-O):(!E&&X(I),w)}}}function $B(t,e,n){const r=[],i=n||cs.mix||SM,o=t.length-1;for(let l=0;l<o;l++){let c=i(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||Pr:e;c=kf(d,c)}r.push(c)}return r}function Px(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(ef(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=$B(e,r,i),d=c.length,h=p=>{if(l&&p<t[0])return e[0];let y=0;if(d>1)for(;y<t.length-2&&!(p<t[y+1]);y++);const w=Fu(t[y],t[y+1],p);return c[y](w)};return n?p=>h(wa(t[0],t[o-1],p)):h}function qB(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Fu(0,e,r);t.push(cn(n,1,i))}}function AM(t){const e=[0];return qB(e,t.length-1),e}function GB(t,e){return t.map(n=>n*e)}function KB(t,e){return t.map(()=>e||Ap).splice(0,t.length-1)}function kd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=sB(r)?r.map(YA):YA(r),o={done:!1,value:e[0]},l=GB(n&&n.length===e.length?n:AM(e),t),c=Px(l,e,{ease:Array.isArray(i)?i:KB(e,i)});return{calculatedDuration:t,next:d=>(o.value=c(d),o.done=d>=t,o)}}const WB=t=>t!==null;function Dx(t,{repeat:e,repeatType:n="loop"},r,i=1){const o=t.filter(WB),c=i<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!c||r===void 0?o[c]:r}const YB={decay:bb,inertia:bb,tween:kd,keyframes:kd,spring:Np};function CM(t){typeof t.type=="string"&&(t.type=YB[t.type])}class jx{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const XB=t=>t/100;class bg extends jx{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Mr.now()&&this.tick(Mr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;CM(e);const{type:n=kd,repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:l=0}=e;let{keyframes:c}=e;const d=n||kd;d!==kd&&typeof c[0]!="number"&&(this.mixKeyframes=kf(XB,SM(c[0],c[1])),c=[0,100]);const h=d({...e,keyframes:c});o==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=Mx(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:p,repeat:y,repeatType:w,repeatDelay:A,type:N,onUpdate:P,finalKeyframe:U}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const j=this.currentTime-h*(this.playbackSpeed>=0?1:-1),q=this.playbackSpeed>=0?j<0:j>i;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let H=this.currentTime,X=r;if(y){const I=Math.min(this.currentTime,i)/c;let E=Math.floor(I),S=I%1;!S&&I>=1&&(S=1),S===1&&E--,E=Math.min(E,y+1),!!(E%2)&&(w==="reverse"?(S=1-S,A&&(S-=A/c)):w==="mirror"&&(X=l)),H=wa(0,1,S)*c}const O=q?{done:!1,value:p[0]}:X.next(H);o&&(O.value=o(O.value));let{done:M}=O;!q&&d!==null&&(M=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return C&&N!==bb&&(O.value=Dx(p,this.options,U,this.speed)),P&&P(O.value),C&&this.finish(),O}then(e,n){return this.finished.then(e,n)}get duration(){return pa(this.calculatedDuration)}get time(){return pa(this.currentTime)}set time(e){e=ma(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Mr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=pa(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=jB,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Mr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function QB(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Jo=t=>t*180/Math.PI,wb=t=>{const e=Jo(Math.atan2(t[1],t[0]));return xb(e)},ZB={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:wb,rotateZ:wb,skewX:t=>Jo(Math.atan(t[1])),skewY:t=>Jo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},xb=t=>(t=t%360,t<0&&(t+=360),t),n2=wb,r2=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),i2=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),JB={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:r2,scaleY:i2,scale:t=>(r2(t)+i2(t))/2,rotateX:t=>xb(Jo(Math.atan2(t[6],t[5]))),rotateY:t=>xb(Jo(Math.atan2(-t[2],t[0]))),rotateZ:n2,rotate:n2,skewX:t=>Jo(Math.atan(t[4])),skewY:t=>Jo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function _b(t){return t.includes("scale")?1:0}function Sb(t,e){if(!t||t==="none")return _b(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=JB,i=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=ZB,i=c}if(!i)return _b(e);const o=r[e],l=i[1].split(",").map(tF);return typeof o=="function"?o(l):l[o]}const eF=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Sb(n,e)};function tF(t){return parseFloat(t.trim())}const Zu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ju=new Set(Zu),a2=t=>t===Qu||t===st,nF=new Set(["x","y","z"]),rF=Zu.filter(t=>!nF.has(t));function iF(t){const e=[];return rF.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const nl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Sb(e,"x"),y:(t,{transform:e})=>Sb(e,"y")};nl.translateX=nl.x;nl.translateY=nl.y;const rl=new Set;let Tb=!1,Eb=!1,Ab=!1;function RM(){if(Eb){const t=Array.from(rl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=iF(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,l])=>{r.getValue(o)?.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Eb=!1,Tb=!1,rl.forEach(t=>t.complete(Ab)),rl.clear()}function NM(){rl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Eb=!0)})}function aF(){Ab=!0,NM(),RM(),Ab=!1}class kx{constructor(e,n,r,i,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(rl.add(this),Tb||(Tb=!0,Vt.read(NM),Vt.resolveKeyframes(RM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const o=i?.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const c=r.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),i&&o===void 0&&i.set(e[0])}QB(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),rl.delete(this)}cancel(){this.state==="scheduled"&&(rl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const sF=t=>t.startsWith("--");function oF(t,e,n){sF(e)?t.style.setProperty(e,n):t.style[e]=n}const IM=_x(()=>window.ScrollTimeline!==void 0),lF={};function uF(t,e){const n=_x(t);return()=>lF[e]??n()}const OM=uF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ed=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,s2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ed([0,.65,.55,1]),circOut:Ed([.55,0,1,.45]),backIn:Ed([.31,.01,.66,-.59]),backOut:Ed([.33,1.53,.69,.99])};function MM(t,e){if(t)return typeof t=="function"?OM()?TM(t,e):"ease-out":mM(t)?Ed(t):Array.isArray(t)?t.map(n=>MM(n,e)||s2.easeOut):s2[t]}function cF(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:l="loop",ease:c="easeOut",times:d}={},h=void 0){const p={[e]:n};d&&(p.offset=d);const y=MM(c,i);Array.isArray(y)&&(p.easing=y);const w={delay:r,duration:i,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return h&&(w.pseudoElement=h),t.animate(p,w)}function PM(t){return typeof t=="function"&&"applyToOptions"in t}function dF({type:t,...e}){return PM(t)&&OM()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class fF extends jx{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=e,ef(typeof e.type!="string");const h=dF(e);this.animation=cF(n,r,i,h,o),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=Dx(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(p):oF(n,r,p),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return pa(Number(e))}get time(){return pa(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ma(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&IM()?(this.animation.timeline=e,Pr):n(this)}}const DM={anticipate:dM,backInOut:cM,circInOut:hM};function hF(t){return t in DM}function mF(t){typeof t.ease=="string"&&hF(t.ease)&&(t.ease=DM[t.ease])}const o2=10;class pF extends fF{constructor(e){mF(e),CM(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:o,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new bg({...l,autoplay:!1}),d=ma(this.finishedTime??this.time);n.setWithVelocity(c.sample(d-o2).value,c.sample(d).value,o2),c.stop()}}const l2=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(co.test(t)||t==="0")&&!t.startsWith("url("));function gF(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function vF(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=l2(i,e),c=l2(o,e);return!l||!c?!1:gF(t)||(n==="spring"||PM(n))&&r}const yF=new Set(["opacity","clipPath","filter","transform"]),bF=_x(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function wF(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:o,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=e.owner.getProps();return bF()&&n&&yF.has(n)&&(n!=="transform"||!h)&&!d&&!r&&i!=="mirror"&&o!==0&&l!=="inertia"}const xF=40;class _F extends jx{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",keyframes:c,name:d,motionValue:h,element:p,...y}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Mr.now();const w={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:l,name:d,motionValue:h,element:p,...y},A=p?.KeyframeResolver||kx;this.keyframeResolver=new A(c,(N,P,U)=>this.onKeyframesResolved(N,P,w,!U),d,h,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:o,type:l,velocity:c,delay:d,isHandoff:h,onUpdate:p}=r;this.resolvedAt=Mr.now(),vF(e,o,l,c)||((cs.instantAnimations||!d)&&p?.(Dx(e,r,n)),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const w={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>xF?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},A=!h&&wF(w)?new pF({...w,element:w.motionValue.owner.current}):new bg(w);A.finished.then(()=>this.notifyFinished()).catch(Pr),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),aF()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const SF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function TF(t){const e=SF.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function jM(t,e,n=1){const[r,i]=TF(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const l=o.trim();return rM(l)?parseFloat(l):l}return Rx(i)?jM(i,e,n+1):i}function Lx(t,e){return t?.[e]??t?.default??t}const kM=new Set(["width","height","top","left","right","bottom",...Zu]),EF={test:t=>t==="auto",parse:t=>t},LM=t=>e=>e.test(t),VM=[Qu,st,ga,Hs,bB,yB,EF],u2=t=>VM.find(LM(t));function AF(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||aM(t):!0}const CF=new Set(["brightness","contrast","saturate","opacity"]);function RF(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Nx)||[];if(!r)return t;const i=n.replace(r,"");let o=CF.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const NF=/\b([a-z-]*)\(.*?\)/gu,Cb={...co,getAnimatableNone:t=>{const e=t.match(NF);return e?e.map(RF).join(" "):t}},c2={...Qu,transform:Math.round},IF={rotate:Hs,rotateX:Hs,rotateY:Hs,rotateZ:Hs,scale:pm,scaleX:pm,scaleY:pm,scaleZ:pm,skew:Hs,skewX:Hs,skewY:Hs,distance:st,translateX:st,translateY:st,translateZ:st,x:st,y:st,z:st,perspective:st,transformPerspective:st,opacity:tf,originX:QA,originY:QA,originZ:st},Vx={borderWidth:st,borderTopWidth:st,borderRightWidth:st,borderBottomWidth:st,borderLeftWidth:st,borderRadius:st,radius:st,borderTopLeftRadius:st,borderTopRightRadius:st,borderBottomRightRadius:st,borderBottomLeftRadius:st,width:st,maxWidth:st,height:st,maxHeight:st,top:st,right:st,bottom:st,left:st,padding:st,paddingTop:st,paddingRight:st,paddingBottom:st,paddingLeft:st,margin:st,marginTop:st,marginRight:st,marginBottom:st,marginLeft:st,backgroundPositionX:st,backgroundPositionY:st,...IF,zIndex:c2,fillOpacity:tf,strokeOpacity:tf,numOctaves:c2},OF={...Vx,color:Mn,backgroundColor:Mn,outlineColor:Mn,fill:Mn,stroke:Mn,borderColor:Mn,borderTopColor:Mn,borderRightColor:Mn,borderBottomColor:Mn,borderLeftColor:Mn,filter:Cb,WebkitFilter:Cb},UM=t=>OF[t];function zM(t,e){let n=UM(t);return n!==Cb&&(n=co),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const MF=new Set(["auto","none","0"]);function PF(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!MF.has(o)&&nf(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=zM(n,i)}class DF extends kx{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),Rx(h))){const p=jM(h,n.current);p!==void 0&&(e[d]=p),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!kM.has(r)||e.length!==2)return;const[i,o]=e,l=u2(i),c=u2(o);if(l!==c)if(a2(l)&&a2(c))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else nl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||AF(e[i]))&&r.push(i);r.length&&PF(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=nl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,l=r[o];r[o]=nl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function BM(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const i=document.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const FM=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Ux(t){return iM(t)&&"offsetHeight"in t}const d2=30,jF=t=>!isNaN(parseFloat(t)),Ld={current:void 0};class kF{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=Mr.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();i&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Mr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=jF(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Sx);const r=this.events[e].add(n);return e==="change"?()=>{r(),Vt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Ld.current&&Ld.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Mr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>d2)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,d2);return Tx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Mi(t,e){return new kF(t,e)}const{schedule:zx}=pM(queueMicrotask,!1),Ni={x:!1,y:!1};function HM(){return Ni.x||Ni.y}function LF(t){return t==="x"||t==="y"?Ni[t]?null:(Ni[t]=!0,()=>{Ni[t]=!1}):Ni.x||Ni.y?null:(Ni.x=Ni.y=!0,()=>{Ni.x=Ni.y=!1})}function $M(t,e){const n=BM(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function f2(t){return!(t.pointerType==="touch"||HM())}function VF(t,e,n={}){const[r,i,o]=$M(t,n),l=c=>{if(!f2(c))return;const{target:d}=c,h=e(d,c);if(typeof h!="function"||!d)return;const p=y=>{f2(y)&&(h(y),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,i)};return r.forEach(c=>{c.addEventListener("pointerenter",l,i)}),o}const qM=(t,e)=>e?t===e?!0:qM(t,e.parentElement):!1,Bx=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,UF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function zF(t){return UF.has(t.tagName)||t.tabIndex!==-1}const Bm=new WeakSet;function h2(t){return e=>{e.key==="Enter"&&t(e)}}function n0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const BF=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=h2(()=>{if(Bm.has(n))return;n0(n,"down");const i=h2(()=>{n0(n,"up")}),o=()=>n0(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function m2(t){return Bx(t)&&!HM()}function FF(t,e,n={}){const[r,i,o]=$M(t,n),l=c=>{const d=c.currentTarget;if(!m2(c))return;Bm.add(d);const h=e(d,c),p=(A,N)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",w),Bm.has(d)&&Bm.delete(d),m2(A)&&typeof h=="function"&&h(A,{success:N})},y=A=>{p(A,d===window||d===document||n.useGlobalTarget||qM(d,A.target))},w=A=>{p(A,!1)};window.addEventListener("pointerup",y,i),window.addEventListener("pointercancel",w,i)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,i),Ux(c)&&(c.addEventListener("focus",h=>BF(h,i)),!zF(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),o}function Fx(t){return iM(t)&&"ownerSVGElement"in t}const Fm=new WeakMap;let Hm;const GM=(t,e,n)=>(r,i)=>i&&i[0]?i[0][t+"Size"]:Fx(r)&&"getBBox"in r?r.getBBox()[e]:r[n],HF=GM("inline","width","offsetWidth"),$F=GM("block","height","offsetHeight");function qF({target:t,borderBoxSize:e}){Fm.get(t)?.forEach(n=>{n(t,{get width(){return HF(t,e)},get height(){return $F(t,e)}})})}function GF(t){t.forEach(qF)}function KF(){typeof ResizeObserver>"u"||(Hm=new ResizeObserver(GF))}function WF(t,e){Hm||KF();const n=BM(t);return n.forEach(r=>{let i=Fm.get(r);i||(i=new Set,Fm.set(r,i)),i.add(e),Hm?.observe(r)}),()=>{n.forEach(r=>{const i=Fm.get(r);i?.delete(e),i?.size||Hm?.unobserve(r)})}}const $m=new Set;let pu;function YF(){pu=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};$m.forEach(e=>e(t))},window.addEventListener("resize",pu)}function XF(t){return $m.add(t),pu||YF(),()=>{$m.delete(t),!$m.size&&typeof pu=="function"&&(window.removeEventListener("resize",pu),pu=void 0)}}function QF(t,e){return typeof t=="function"?XF(t):WF(t,e)}function KM(t,e){let n;const r=()=>{const{currentTime:i}=e,l=(i===null?0:i.value)/100;n!==l&&t(l),n=l};return Vt.preUpdate(r,!0),()=>_i(r)}function ZF(t){return Fx(t)&&t.tagName==="svg"}function JF(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],o=t[2+n],l=t[3+n],c=Px(i,o,l);return e?c(r):c}const Xn=t=>!!(t&&t.getVelocity);function eH(t,e,n){const r=t.get();let i=null,o=r,l;const c=typeof r=="string"?r.replace(/[\d.-]/g,""):void 0,d=()=>{i&&(i.stop(),i=null)},h=()=>{d(),i=new bg({keyframes:[g2(t.get()),g2(o)],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:l})};t.attach((y,w)=>(o=y,l=A=>w(p2(A,c)),Vt.postRender(h),t.get()),d);let p;return Xn(e)&&(p=e.on("change",y=>t.set(p2(y,c))),t.on("destroy",p)),p}function p2(t,e){return e?t+e:t}function g2(t){return typeof t=="number"?t:parseFloat(t)}const tH=[...VM,Mn,co],nH=t=>tH.find(LM(t)),ec=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class rH extends R.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=Ux(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function iH({children:t,isPresent:e,anchorX:n,root:r}){const i=R.useId(),o=R.useRef(null),l=R.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=R.useContext(ec);return R.useInsertionEffect(()=>{const{width:d,height:h,top:p,left:y,right:w}=l.current;if(e||!o.current||!d||!h)return;const A=n==="left"?`left: ${y}`:`right: ${w}`;o.current.dataset.motionPopId=i;const N=document.createElement("style");c&&(N.nonce=c);const P=r??document.head;return P.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${h}px !important;
            ${A}px !important;
            top: ${p}px !important;
          }
        `),()=>{P.removeChild(N),P.contains(N)&&P.removeChild(N)}},[e]),g.jsx(rH,{isPresent:e,childRef:o,sizeRef:l,children:R.cloneElement(t,{ref:o})})}const aH=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:l,anchorX:c,root:d})=>{const h=wl(sH),p=R.useId();let y=!0,w=R.useMemo(()=>(y=!1,{id:p,initial:e,isPresent:n,custom:i,onExitComplete:A=>{h.set(A,!0);for(const N of h.values())if(!N)return;r&&r()},register:A=>(h.set(A,!1),()=>h.delete(A))}),[n,h,r]);return o&&y&&(w={...w}),R.useMemo(()=>{h.forEach((A,N)=>h.set(N,!1))},[n]),R.useEffect(()=>{!n&&!h.size&&r&&r()},[n]),l==="popLayout"&&(t=g.jsx(iH,{isPresent:n,anchorX:c,root:d,children:t})),g.jsx(yg.Provider,{value:w,children:t})};function sH(){return new Map}function WM(t=!0){const e=R.useContext(yg);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=R.useId();R.useEffect(()=>{if(t)return i(o)},[t]);const l=R.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,l]:[!0]}const gm=t=>t.key||"";function v2(t){const e=[];return R.Children.forEach(t,n=>{R.isValidElement(n)&&e.push(n)}),e}const Qn=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:l=!1,anchorX:c="left",root:d})=>{const[h,p]=WM(l),y=R.useMemo(()=>v2(t),[t]),w=l&&!h?[]:y.map(gm),A=R.useRef(!0),N=R.useRef(y),P=wl(()=>new Map),[U,j]=R.useState(y),[q,H]=R.useState(y);jf(()=>{A.current=!1,N.current=y;for(let M=0;M<q.length;M++){const C=gm(q[M]);w.includes(C)?P.delete(C):P.get(C)!==!0&&P.set(C,!1)}},[q,w.length,w.join("-")]);const X=[];if(y!==U){let M=[...y];for(let C=0;C<q.length;C++){const I=q[C],E=gm(I);w.includes(E)||(M.splice(C,0,I),X.push(I))}return o==="wait"&&X.length&&(M=X),H(v2(M)),j(y),null}const{forceRender:O}=R.useContext(yx);return g.jsx(g.Fragment,{children:q.map(M=>{const C=gm(M),I=l&&!h?!1:y===q||w.includes(C),E=()=>{if(P.has(C))P.set(C,!0);else return;let S=!0;P.forEach(k=>{k||(S=!1)}),S&&(O?.(),H(N.current),l&&p?.(),r&&r())};return g.jsx(aH,{isPresent:I,initial:!A.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:o,root:d,onExitComplete:I?void 0:E,anchorX:c,children:M},C)})})},YM=R.createContext({strict:!1}),y2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Hu={};for(const t in y2)Hu[t]={isEnabled:e=>y2[t].some(n=>!!e[n])};function oH(t){for(const e in t)Hu[e]={...Hu[e],...t[e]}}const lH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ip(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||lH.has(t)}let XM=t=>!Ip(t);function uH(t){typeof t=="function"&&(XM=e=>e.startsWith("on")?!Ip(e):t(e))}try{uH(require("@emotion/is-prop-valid").default)}catch{}function cH(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(XM(i)||n===!0&&Ip(i)||!e&&!Ip(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function dH(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const wg=R.createContext({});function xg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function rf(t){return typeof t=="string"||Array.isArray(t)}const Hx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$x=["initial",...Hx];function _g(t){return xg(t.animate)||$x.some(e=>rf(t[e]))}function QM(t){return!!(_g(t)||t.variants)}function fH(t,e){if(_g(t)){const{initial:n,animate:r}=t;return{initial:n===!1||rf(n)?n:void 0,animate:rf(r)?r:void 0}}return t.inherit!==!1?e:{}}function hH(t){const{initial:e,animate:n}=fH(t,R.useContext(wg));return R.useMemo(()=>({initial:e,animate:n}),[b2(e),b2(n)])}function b2(t){return Array.isArray(t)?t.join(" "):t}const mH=Symbol.for("motionComponentSymbol");function gu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function pH(t,e,n){return R.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):gu(n)&&(n.current=r))},[e])}const qx=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gH="framerAppearId",ZM="data-"+qx(gH),JM=R.createContext({});function vH(t,e,n,r,i){const{visualElement:o}=R.useContext(wg),l=R.useContext(YM),c=R.useContext(yg),d=R.useContext(ec).reducedMotion,h=R.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,y=R.useContext(JM);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&yH(h.current,n,i,y);const w=R.useRef(!1);R.useInsertionEffect(()=>{p&&w.current&&p.update(n,c)});const A=n[ZM],N=R.useRef(!!A&&!window.MotionHandoffIsComplete?.(A)&&window.MotionHasOptimisedAnimation?.(A));return jf(()=>{p&&(w.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),zx.render(p.render),N.current&&p.animationState&&p.animationState.animateChanges())}),R.useEffect(()=>{p&&(!N.current&&p.animationState&&p.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(A)}),N.current=!1))}),p}function yH(t,e,n,r){const{layoutId:i,layout:o,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:h,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:eP(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!l||c&&gu(c),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:d,layoutRoot:h})}function eP(t){if(t)return t.options.allowProjection!==!1?t.projection:eP(t.parent)}function bH({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&oH(t);function o(c,d){let h;const p={...R.useContext(ec),...c,layoutId:wH(c)},{isStatic:y}=p,w=hH(c),A=r(c,y);if(!y&&bx){xH();const N=_H(p);h=N.MeasureLayout,w.visualElement=vH(i,A,p,e,N.ProjectionNode)}return g.jsxs(wg.Provider,{value:w,children:[h&&w.visualElement?g.jsx(h,{visualElement:w.visualElement,...p}):null,n(i,c,pH(A,w.visualElement,d),A,y,w.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const l=R.forwardRef(o);return l[mH]=i,l}function wH({layoutId:t}){const e=R.useContext(yx).id;return e&&t!==void 0?e+"-"+t:t}function xH(t,e){R.useContext(YM).strict}function _H(t){const{drag:e,layout:n}=Hu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const af={};function SH(t){for(const e in t)af[e]=t[e],Cx(e)&&(af[e].isCSSVariable=!0)}function tP(t,{layout:e,layoutId:n}){return Ju.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!af[t]||t==="opacity")}const TH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},EH=Zu.length;function AH(t,e,n){let r="",i=!0;for(let o=0;o<EH;o++){const l=Zu[o],c=t[l];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(l.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const h=FM(c,Vx[l]);if(!d){i=!1;const p=TH[l]||l;r+=`${p}(${h}) `}n&&(e[l]=h)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Gx(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let l=!1,c=!1;for(const d in e){const h=e[d];if(Ju.has(d)){l=!0;continue}else if(Cx(d)){i[d]=h;continue}else{const p=FM(h,Vx[d]);d.startsWith("origin")?(c=!0,o[d]=p):r[d]=p}}if(e.transform||(l||n?r.transform=AH(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:p=0}=o;r.transformOrigin=`${d} ${h} ${p}`}}const Kx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nP(t,e,n){for(const r in e)!Xn(e[r])&&!tP(r,n)&&(t[r]=e[r])}function CH({transformTemplate:t},e){return R.useMemo(()=>{const n=Kx();return Gx(n,e,t),Object.assign({},n.vars,n.style)},[e])}function RH(t,e){const n=t.style||{},r={};return nP(r,n,t),Object.assign(r,CH(t,e)),r}function NH(t,e){const n={},r=RH(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const IH={offset:"stroke-dashoffset",array:"stroke-dasharray"},OH={offset:"strokeDashoffset",array:"strokeDasharray"};function MH(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?IH:OH;t[o.offset]=st.transform(-r);const l=st.transform(e),c=st.transform(n);t[o.array]=`${l} ${c}`}function rP(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:o=1,pathOffset:l=0,...c},d,h,p){if(Gx(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:w}=t;y.transform&&(w.transform=y.transform,delete y.transform),(w.transform||y.transformOrigin)&&(w.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),w.transform&&(w.transformBox=p?.transformBox??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),i!==void 0&&MH(y,i,o,l,!1)}const iP=()=>({...Kx(),attrs:{}}),aP=t=>typeof t=="string"&&t.toLowerCase()==="svg";function PH(t,e,n,r){const i=R.useMemo(()=>{const o=iP();return rP(o,e,aP(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};nP(o,t.style,t),i.style={...o,...i.style}}return i}const DH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Wx(t){return typeof t!="string"||t.includes("-")?!1:!!(DH.indexOf(t)>-1||/[A-Z]/u.test(t))}function jH(t=!1){return(n,r,i,{latestValues:o},l)=>{const d=(Wx(n)?PH:NH)(r,o,l,n),h=cH(r,typeof n=="string",t),p=n!==R.Fragment?{...h,...d,ref:i}:{},{children:y}=r,w=R.useMemo(()=>Xn(y)?y.get():y,[y]);return R.createElement(n,{...p,children:w})}}function w2(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Yx(t,e,n,r){if(typeof e=="function"){const[i,o]=w2(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=w2(r);e=e(n!==void 0?n:t.custom,i,o)}return e}function qm(t){return Xn(t)?t.get():t}function kH({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:LH(n,r,i,t),renderState:e()}}const sP=t=>(e,n)=>{const r=R.useContext(wg),i=R.useContext(yg),o=()=>kH(t,e,r,i);return n?o():wl(o)};function LH(t,e,n,r){const i={},o=r(t,{});for(const w in o)i[w]=qm(o[w]);let{initial:l,animate:c}=t;const d=_g(t),h=QM(t);e&&h&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const y=p?c:l;if(y&&typeof y!="boolean"&&!xg(y)){const w=Array.isArray(y)?y:[y];for(let A=0;A<w.length;A++){const N=Yx(t,w[A]);if(N){const{transitionEnd:P,transition:U,...j}=N;for(const q in j){let H=j[q];if(Array.isArray(H)){const X=p?H.length-1:0;H=H[X]}H!==null&&(i[q]=H)}for(const q in P)i[q]=P[q]}}}return i}function Xx(t,e,n){const{style:r}=t,i={};for(const o in r)(Xn(r[o])||e.style&&Xn(e.style[o])||tP(o,t)||n?.getValue(o)?.liveStyle!==void 0)&&(i[o]=r[o]);return i}const VH={useVisualState:sP({scrapeMotionValuesFromProps:Xx,createRenderState:Kx})};function oP(t,e,n){const r=Xx(t,e,n);for(const i in t)if(Xn(t[i])||Xn(e[i])){const o=Zu.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}const UH={useVisualState:sP({scrapeMotionValuesFromProps:oP,createRenderState:iP})};function zH(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...Wx(r)?UH:VH,preloadedFeatures:t,useRender:jH(i),createVisualElement:e,Component:r};return bH(l)}}function sf(t,e,n){const r=t.getProps();return Yx(r,e,n!==void 0?n:r.custom,t)}const Rb=t=>Array.isArray(t);function BH(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Mi(n))}function FH(t){return Rb(t)?t[t.length-1]||0:t}function Qx(t,e){const n=sf(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const l in o){const c=FH(o[l]);BH(t,l,c)}}function HH(t){return!!(Xn(t)&&t.add)}function Nb(t,e){const n=t.getValue("willChange");if(HH(n))return n.add(e);if(!n&&cs.WillChange){const r=new cs.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function lP(t){return t.props[ZM]}const $H=t=>t!==null;function qH(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter($H),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[o]}const GH={type:"spring",stiffness:500,damping:25,restSpeed:10},KH=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),WH={type:"keyframes",duration:.8},YH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},XH=(t,{keyframes:e})=>e.length>2?WH:Ju.has(t)?t.startsWith("scale")?KH(e[1]):GH:YH;function QH({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:l,repeatDelay:c,from:d,elapsed:h,...p}){return!!Object.keys(p).length}const Zx=(t,e,n,r={},i,o)=>l=>{const c=Lx(r,t)||{},d=c.delay||r.delay||0;let{elapsed:h=0}=r;h=h-ma(d);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:w=>{e.set(w),c.onUpdate&&c.onUpdate(w)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:o?void 0:i};QH(c)||Object.assign(p,XH(t,p)),p.duration&&(p.duration=ma(p.duration)),p.repeatDelay&&(p.repeatDelay=ma(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let y=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(y=!0)),(cs.instantAnimations||cs.skipAnimations)&&(y=!0,p.duration=0,p.delay=0),p.allowFlatten=!c.type&&!c.ease,y&&!o&&e.get()!==void 0){const w=qH(p.keyframes,c);if(w!==void 0){Vt.update(()=>{p.onUpdate(w),p.onComplete()});return}}return c.isSync?new bg(p):new _F(p)};function ZH({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function uP(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(o=r);const d=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const p in c){const y=t.getValue(p,t.latestValues[p]??null),w=c[p];if(w===void 0||h&&ZH(h,p))continue;const A={delay:n,...Lx(o||{},p)},N=y.get();if(N!==void 0&&!y.isAnimating&&!Array.isArray(w)&&w===N&&!A.velocity)continue;let P=!1;if(window.MotionHandoffAnimation){const j=lP(t);if(j){const q=window.MotionHandoffAnimation(j,p,Vt);q!==null&&(A.startTime=q,P=!0)}}Nb(t,p),y.start(Zx(p,y,w,t.shouldReduceMotion&&kM.has(p)?{type:!1}:A,t,P));const U=y.animation;U&&d.push(U)}return l&&Promise.all(d).then(()=>{Vt.update(()=>{l&&Qx(t,l)})}),d}function Ib(t,e,n={}){const r=sf(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(uP(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:p,staggerDirection:y}=i;return JH(t,e,d,h,p,y,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,h]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>h())}else return Promise.all([o(),l(n.delay)])}function JH(t,e,n=0,r=0,i=0,o=1,l){const c=[],d=t.variantChildren.size,h=(d-1)*i,p=typeof r=="function",y=p?w=>r(w,d):o===1?(w=0)=>w*i:(w=0)=>h-w*i;return Array.from(t.variantChildren).sort(e$).forEach((w,A)=>{w.notify("AnimationStart",e),c.push(Ib(w,e,{...l,delay:n+(p?0:r)+y(A)}).then(()=>w.notify("AnimationComplete",e)))}),Promise.all(c)}function e$(t,e){return t.sortNodePosition(e)}function cP(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>Ib(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=Ib(t,e,n);else{const i=typeof e=="function"?sf(t,e,n.custom):e;r=Promise.all(uP(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function dP(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const t$=$x.length;function fP(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?fP(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<t$;n++){const r=$x[n],i=t.props[r];(rf(i)||i===!1)&&(e[r]=i)}return e}const n$=[...Hx].reverse(),r$=Hx.length;function i$(t){return e=>Promise.all(e.map(({animation:n,options:r})=>cP(t,n,r)))}function a$(t){let e=i$(t),n=x2(),r=!0;const i=d=>(h,p)=>{const y=sf(t,p,d==="exit"?t.presenceContext?.custom:void 0);if(y){const{transition:w,transitionEnd:A,...N}=y;h={...h,...N,...A}}return h};function o(d){e=d(t)}function l(d){const{props:h}=t,p=fP(t.parent)||{},y=[],w=new Set;let A={},N=1/0;for(let U=0;U<r$;U++){const j=n$[U],q=n[j],H=h[j]!==void 0?h[j]:p[j],X=rf(H),O=j===d?q.isActive:null;O===!1&&(N=U);let M=H===p[j]&&H!==h[j]&&X;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),q.protectedKeys={...A},!q.isActive&&O===null||!H&&!q.prevProp||xg(H)||typeof H=="boolean")continue;const C=s$(q.prevProp,H);let I=C||j===d&&q.isActive&&!M&&X||U>N&&X,E=!1;const S=Array.isArray(H)?H:[H];let k=S.reduce(i(j),{});O===!1&&(k={});const{prevResolvedValues:F={}}=q,L={...F,...k},Q=T=>{I=!0,w.has(T)&&(E=!0,w.delete(T)),q.needsAnimating[T]=!0;const J=t.getValue(T);J&&(J.liveStyle=!1)};for(const T in L){const J=k[T],K=F[T];if(A.hasOwnProperty(T))continue;let x=!1;Rb(J)&&Rb(K)?x=!dP(J,K):x=J!==K,x?J!=null?Q(T):w.add(T):J!==void 0&&w.has(T)?Q(T):q.protectedKeys[T]=!0}q.prevProp=H,q.prevResolvedValues=k,q.isActive&&(A={...A,...k}),r&&t.blockInitialAnimation&&(I=!1),I&&(!(M&&C)||E)&&y.push(...S.map(T=>({animation:T,options:{type:j}})))}if(w.size){const U={};if(typeof h.initial!="boolean"){const j=sf(t,Array.isArray(h.initial)?h.initial[0]:h.initial);j&&j.transition&&(U.transition=j.transition)}w.forEach(j=>{const q=t.getBaseTarget(j),H=t.getValue(j);H&&(H.liveStyle=!0),U[j]=q??null}),y.push({animation:U})}let P=!!y.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(P=!1),r=!1,P?e(y):Promise.resolve()}function c(d,h){if(n[d].isActive===h)return Promise.resolve();t.variantChildren?.forEach(y=>y.animationState?.setActive(d,h)),n[d].isActive=h;const p=l(d);for(const y in n)n[y].protectedKeys={};return p}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=x2(),r=!0}}}function s$(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!dP(e,t):!1}function $o(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function x2(){return{animate:$o(!0),whileInView:$o(),whileHover:$o(),whileTap:$o(),whileDrag:$o(),whileFocus:$o(),exit:$o()}}class go{constructor(e){this.isMounted=!1,this.node=e}update(){}}class o$ extends go{constructor(e){super(e),e.animationState||(e.animationState=a$(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();xg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let l$=0;class u$ extends go{constructor(){super(...arguments),this.id=l$++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const c$={animation:{Feature:o$},exit:{Feature:u$}};function of(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Uf(t){return{point:{x:t.pageX,y:t.pageY}}}const d$=t=>e=>Bx(e)&&t(e,Uf(e));function Vd(t,e,n,r){return of(t,e,d$(n),r)}function hP({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function f$({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function h$(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const mP=1e-4,m$=1-mP,p$=1+mP,pP=.01,g$=0-pP,v$=0+pP;function Sr(t){return t.max-t.min}function y$(t,e,n){return Math.abs(t-e)<=n}function _2(t,e,n,r=.5){t.origin=r,t.originPoint=cn(e.min,e.max,t.origin),t.scale=Sr(n)/Sr(e),t.translate=cn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=m$&&t.scale<=p$||isNaN(t.scale))&&(t.scale=1),(t.translate>=g$&&t.translate<=v$||isNaN(t.translate))&&(t.translate=0)}function Ud(t,e,n,r){_2(t.x,e.x,n.x,r?r.originX:void 0),_2(t.y,e.y,n.y,r?r.originY:void 0)}function S2(t,e,n){t.min=n.min+e.min,t.max=t.min+Sr(e)}function b$(t,e,n){S2(t.x,e.x,n.x),S2(t.y,e.y,n.y)}function T2(t,e,n){t.min=e.min-n.min,t.max=t.min+Sr(e)}function zd(t,e,n){T2(t.x,e.x,n.x),T2(t.y,e.y,n.y)}const E2=()=>({translate:0,scale:1,origin:0,originPoint:0}),vu=()=>({x:E2(),y:E2()}),A2=()=>({min:0,max:0}),Sn=()=>({x:A2(),y:A2()});function gi(t){return[t("x"),t("y")]}function r0(t){return t===void 0||t===1}function Ob({scale:t,scaleX:e,scaleY:n}){return!r0(t)||!r0(e)||!r0(n)}function Wo(t){return Ob(t)||gP(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function gP(t){return C2(t.x)||C2(t.y)}function C2(t){return t&&t!=="0%"}function Op(t,e,n){const r=t-n,i=e*r;return n+i}function R2(t,e,n,r,i){return i!==void 0&&(t=Op(t,i,r)),Op(t,n,r)+e}function Mb(t,e=0,n=1,r,i){t.min=R2(t.min,e,n,r,i),t.max=R2(t.max,e,n,r,i)}function vP(t,{x:e,y:n}){Mb(t.x,e.translate,e.scale,e.originPoint),Mb(t.y,n.translate,n.scale,n.originPoint)}const N2=.999999999999,I2=1.0000000000001;function w$(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,l;for(let c=0;c<i;c++){o=n[c],l=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&bu(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,vP(t,l)),r&&Wo(o.latestValues)&&bu(t,o.latestValues))}e.x<I2&&e.x>N2&&(e.x=1),e.y<I2&&e.y>N2&&(e.y=1)}function yu(t,e){t.min=t.min+e,t.max=t.max+e}function O2(t,e,n,r,i=.5){const o=cn(t.min,t.max,i);Mb(t,e,n,o,r)}function bu(t,e){O2(t.x,e.x,e.scaleX,e.scale,e.originX),O2(t.y,e.y,e.scaleY,e.scale,e.originY)}function yP(t,e){return hP(h$(t.getBoundingClientRect(),e))}function x$(t,e,n){const r=yP(t,n),{scroll:i}=e;return i&&(yu(r.x,i.offset.x),yu(r.y,i.offset.y)),r}const bP=({current:t})=>t?t.ownerDocument.defaultView:null,M2=(t,e)=>Math.abs(t-e);function _$(t,e){const n=M2(t.x,e.x),r=M2(t.y,e.y);return Math.sqrt(n**2+r**2)}class wP{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=a0(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,N=_$(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!N)return;const{point:P}=w,{timestamp:U}=Kn;this.history.push({...P,timestamp:U});const{onStart:j,onMove:q}=this.handlers;A||(j&&j(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),q&&q(this.lastMoveEvent,w)},this.handlePointerMove=(w,A)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=i0(A,this.transformPagePoint),Vt.update(this.updatePoint,!0)},this.handlePointerUp=(w,A)=>{this.end();const{onEnd:N,onSessionEnd:P,resumeAnimation:U}=this.handlers;if(this.dragSnapToOrigin&&U&&U(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const j=a0(w.type==="pointercancel"?this.lastMoveEventInfo:i0(A,this.transformPagePoint),this.history);this.startEvent&&N&&N(w,j),P&&P(w,j)},!Bx(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=i||window;const c=Uf(e),d=i0(c,this.transformPagePoint),{point:h}=d,{timestamp:p}=Kn;this.history=[{...h,timestamp:p}];const{onSessionStart:y}=n;y&&y(e,a0(d,this.history)),this.removeListeners=kf(Vd(this.contextWindow,"pointermove",this.handlePointerMove),Vd(this.contextWindow,"pointerup",this.handlePointerUp),Vd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),_i(this.updatePoint)}}function i0(t,e){return e?{point:e(t.point)}:t}function P2(t,e){return{x:t.x-e.x,y:t.y-e.y}}function a0({point:t},e){return{point:t,delta:P2(t,xP(e)),offset:P2(t,S$(e)),velocity:T$(e,.1)}}function S$(t){return t[0]}function xP(t){return t[t.length-1]}function T$(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=xP(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ma(e)));)n--;if(!r)return{x:0,y:0};const o=pa(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function E$(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?cn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?cn(n,t,r.max):Math.min(t,n)),t}function D2(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function A$(t,{top:e,left:n,bottom:r,right:i}){return{x:D2(t.x,n,i),y:D2(t.y,e,r)}}function j2(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function C$(t,e){return{x:j2(t.x,e.x),y:j2(t.y,e.y)}}function R$(t,e){let n=.5;const r=Sr(t),i=Sr(e);return i>r?n=Fu(e.min,e.max-r,t.min):r>i&&(n=Fu(t.min,t.max-i,e.min)),wa(0,1,n)}function N$(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Pb=.35;function I$(t=Pb){return t===!1?t=0:t===!0&&(t=Pb),{x:k2(t,"left","right"),y:k2(t,"top","bottom")}}function k2(t,e,n){return{min:L2(t,e),max:L2(t,n)}}function L2(t,e){return typeof t=="number"?t:t[e]||0}const O$=new WeakMap;class M${constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Sn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=y=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Uf(y).point)},l=(y,w)=>{const{drag:A,dragPropagation:N,onDragStart:P}=this.getProps();if(A&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=LF(A),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),gi(j=>{let q=this.getAxisMotionValue(j).get()||0;if(ga.test(q)){const{projection:H}=this.visualElement;if(H&&H.layout){const X=H.layout.layoutBox[j];X&&(q=Sr(X)*(parseFloat(q)/100))}}this.originPoint[j]=q}),P&&Vt.postRender(()=>P(y,w)),Nb(this.visualElement,"transform");const{animationState:U}=this.visualElement;U&&U.setActive("whileDrag",!0)},c=(y,w)=>{this.latestPointerEvent=y,this.latestPanInfo=w;const{dragPropagation:A,dragDirectionLock:N,onDirectionLock:P,onDrag:U}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:j}=w;if(N&&this.currentDirection===null){this.currentDirection=P$(j),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",w.point,j),this.updateAxis("y",w.point,j),this.visualElement.render(),U&&U(y,w)},d=(y,w)=>{this.latestPointerEvent=y,this.latestPanInfo=w,this.stop(y,w),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>gi(y=>this.getAnimationState(y)==="paused"&&this.getAxisMotionValue(y).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new wP(e,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:r,contextWindow:bP(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!r)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&Vt.postRender(()=>c(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!vm(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=E$(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&gu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=A$(r.layoutBox,e):this.constraints=!1,this.elastic=I$(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&gi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=N$(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!gu(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=x$(r,i.root,this.visualElement.getTransformPagePoint());let l=C$(i.layout.layoutBox,o);if(n){const c=n(f$(l));this.hasMutatedConstraints=!!c,c&&(l=hP(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},h=gi(p=>{if(!vm(p,n,this.currentDirection))return;let y=d&&d[p]||{};l&&(y={min:0,max:0});const w=i?200:1e6,A=i?40:1e7,N={type:"inertia",velocity:r?e[p]:0,bounceStiffness:w,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...o,...y};return this.startAxisValueAnimation(p,N)});return Promise.all(h).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Nb(this.visualElement,e),r.start(Zx(e,r,0,n,this.visualElement,!1))}stopAnimation(){gi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){gi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){gi(n=>{const{drag:r}=this.getProps();if(!vm(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[n];o.set(e[n]-cn(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!gu(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};gi(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();i[l]=R$({min:d,max:d},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),gi(l=>{if(!vm(l,e,null))return;const c=this.getAxisMotionValue(l),{min:d,max:h}=this.constraints[l];c.set(cn(d,h,i[l]))})}addListeners(){if(!this.visualElement.current)return;O$.set(this.visualElement,this);const e=this.visualElement.current,n=Vd(e,"pointerdown",d=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();gu(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Vt.read(r);const l=of(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(gi(p=>{const y=this.getAxisMotionValue(p);y&&(this.originPoint[p]+=d[p].translate,y.set(y.get()+d[p].translate))}),this.visualElement.render())});return()=>{l(),n(),o(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:l=Pb,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function vm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function P$(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class D$ extends go{constructor(e){super(e),this.removeGroupControls=Pr,this.removeListeners=Pr,this.controls=new M$(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pr}unmount(){this.removeGroupControls(),this.removeListeners()}}const V2=t=>(e,n)=>{t&&Vt.postRender(()=>t(e,n))};class j$ extends go{constructor(){super(...arguments),this.removePointerDownListener=Pr}onPointerDown(e){this.session=new wP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:V2(e),onStart:V2(n),onMove:r,onEnd:(o,l)=>{delete this.session,i&&Vt.postRender(()=>i(o,l))}}}mount(){this.removePointerDownListener=Vd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function U2(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const sd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(st.test(t))t=parseFloat(t);else return t;const n=U2(t,e.target.x),r=U2(t,e.target.y);return`${n}% ${r}%`}},k$={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=co.parse(t);if(i.length>5)return r;const o=co.createTransformer(t),l=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,d=n.y.scale*e.y;i[0+l]/=c,i[1+l]/=d;const h=cn(c,d,.5);return typeof i[2+l]=="number"&&(i[2+l]/=h),typeof i[3+l]=="number"&&(i[3+l]/=h),o(i)}};let z2=!1;class L$ extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;SH(V$),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),z2&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Gm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,{projection:l}=r;return l&&(l.isPresent=o,z2=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||Vt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),zx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function _P(t){const[e,n]=WM(),r=R.useContext(yx);return g.jsx(L$,{...t,layoutGroup:r,switchLayoutGroup:R.useContext(JM),isPresent:e,safeToRemove:n})}const V$={borderRadius:{...sd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sd,borderTopRightRadius:sd,borderBottomLeftRadius:sd,borderBottomRightRadius:sd,boxShadow:k$};function U$(t,e,n){const r=Xn(t)?t:Mi(t);return r.start(Zx("",r,e,n)),r.animation}const z$=(t,e)=>t.depth-e.depth;class B${constructor(){this.children=[],this.isDirty=!1}add(e){wx(this.children,e),this.isDirty=!0}remove(e){xx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(z$),this.isDirty=!1,this.children.forEach(e)}}function F$(t,e){const n=Mr.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(_i(r),t(o-e))};return Vt.setup(r,!0),()=>_i(r)}const SP=["TopLeft","TopRight","BottomLeft","BottomRight"],H$=SP.length,B2=t=>typeof t=="string"?parseFloat(t):t,F2=t=>typeof t=="number"||st.test(t);function $$(t,e,n,r,i,o){i?(t.opacity=cn(0,n.opacity??1,q$(r)),t.opacityExit=cn(e.opacity??1,0,G$(r))):o&&(t.opacity=cn(e.opacity??1,n.opacity??1,r));for(let l=0;l<H$;l++){const c=`border${SP[l]}Radius`;let d=H2(e,c),h=H2(n,c);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||F2(d)===F2(h)?(t[c]=Math.max(cn(B2(d),B2(h),r),0),(ga.test(h)||ga.test(d))&&(t[c]+="%")):t[c]=h}(e.rotate||n.rotate)&&(t.rotate=cn(e.rotate||0,n.rotate||0,r))}function H2(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const q$=TP(0,.5,fM),G$=TP(.5,.95,Pr);function TP(t,e,n){return r=>r<t?0:r>e?1:n(Fu(t,e,r))}function $2(t,e){t.min=e.min,t.max=e.max}function pi(t,e){$2(t.x,e.x),$2(t.y,e.y)}function q2(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function G2(t,e,n,r,i){return t-=e,t=Op(t,1/n,r),i!==void 0&&(t=Op(t,1/i,r)),t}function K$(t,e=0,n=1,r=.5,i,o=t,l=t){if(ga.test(e)&&(e=parseFloat(e),e=cn(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=cn(o.min,o.max,r);t===o&&(c-=e),t.min=G2(t.min,e,n,c,i),t.max=G2(t.max,e,n,c,i)}function K2(t,e,[n,r,i],o,l){K$(t,e[n],e[r],e[i],e.scale,o,l)}const W$=["x","scaleX","originX"],Y$=["y","scaleY","originY"];function W2(t,e,n,r){K2(t.x,e,W$,n?n.x:void 0,r?r.x:void 0),K2(t.y,e,Y$,n?n.y:void 0,r?r.y:void 0)}function Y2(t){return t.translate===0&&t.scale===1}function EP(t){return Y2(t.x)&&Y2(t.y)}function X2(t,e){return t.min===e.min&&t.max===e.max}function X$(t,e){return X2(t.x,e.x)&&X2(t.y,e.y)}function Q2(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function AP(t,e){return Q2(t.x,e.x)&&Q2(t.y,e.y)}function Z2(t){return Sr(t.x)/Sr(t.y)}function J2(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Q${constructor(){this.members=[]}add(e){wx(this.members,e),e.scheduleRender()}remove(e){if(xx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Z$(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,l=n?.z||0;if((i||o||l)&&(r=`translate3d(${i}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:p,rotateX:y,rotateY:w,skewX:A,skewY:N}=n;h&&(r=`perspective(${h}px) ${r}`),p&&(r+=`rotate(${p}deg) `),y&&(r+=`rotateX(${y}deg) `),w&&(r+=`rotateY(${w}deg) `),A&&(r+=`skewX(${A}deg) `),N&&(r+=`skewY(${N}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const s0=["","X","Y","Z"],J$=1e3;let eq=0;function o0(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function CP(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=lP(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Vt,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&CP(r)}function RP({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},c=e?.()){this.id=eq++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(rq),this.nodes.forEach(oq),this.nodes.forEach(lq),this.nodes.forEach(iq)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new B$)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Sx),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=Fx(l)&&!ZF(l),this.instance=l;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),t){let p,y=0;const w=()=>this.root.updateBlockedByResize=!1;Vt.read(()=>{y=window.innerWidth}),t(l,()=>{const A=window.innerWidth;A!==y&&(y=A,this.root.updateBlockedByResize=!0,p&&p(),p=F$(w,250),Gm.hasAnimatedSinceResize&&(Gm.hasAnimatedSinceResize=!1,this.nodes.forEach(nC)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:y,hasRelativeLayoutChanged:w,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||h.getDefaultTransition()||hq,{onLayoutAnimationStart:P,onLayoutAnimationComplete:U}=h.getProps(),j=!this.targetLayout||!AP(this.targetLayout,A),q=!y&&w;if(this.options.layoutRoot||this.resumeFrom||q||y&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const H={...Lx(N,"layout"),onPlay:P,onComplete:U};(h.shouldReduceMotion||this.options.layoutRoot)&&(H.delay=0,H.type=!1),this.startAnimation(H),this.setAnimationOrigin(p,q)}else y||nC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),_i(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(uq),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&CP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const y=this.path[p];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(eC);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(tC);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(sq),this.nodes.forEach(tq),this.nodes.forEach(nq)):this.nodes.forEach(tC),this.clearAllSnapshots();const c=Mr.now();Kn.delta=wa(0,1e3/60,c-Kn.timestamp),Kn.timestamp=c,Kn.isProcessing=!0,Qy.update.process(Kn),Qy.preRender.process(Kn),Qy.render.process(Kn),Kn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(aq),this.sharedNodes.forEach(cq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Vt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Vt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Sr(this.snapshot.measuredBox.x)&&!Sr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Sn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!EP(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;l&&this.instance&&(c||Wo(this.latestValues)||p)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),mq(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Sn();const c=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(pq))){const{scroll:h}=this.root;h&&(yu(c.x,h.offset.x),yu(c.y,h.offset.y))}return c}removeElementScroll(l){const c=Sn();if(pi(c,l),this.scroll?.wasRoot)return c;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:p,options:y}=h;h!==this.root&&p&&y.layoutScroll&&(p.wasRoot&&pi(c,l),yu(c.x,p.offset.x),yu(c.y,p.offset.y))}return c}applyTransform(l,c=!1){const d=Sn();pi(d,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&bu(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Wo(p.latestValues)&&bu(d,p.latestValues)}return Wo(this.latestValues)&&bu(d,this.latestValues),d}removeTransform(l){const c=Sn();pi(c,l);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!Wo(h.latestValues))continue;Ob(h.latestValues)&&h.updateSnapshot();const p=Sn(),y=h.measurePageBox();pi(p,y),W2(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return Wo(this.latestValues)&&W2(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Kn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:y}=this.options;if(!(!this.layout||!(p||y))){if(this.resolvedRelativeTargetAt=Kn.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Sn(),this.relativeTargetOrigin=Sn(),zd(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),pi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Sn(),this.targetWithTransforms=Sn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),b$(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):pi(this.target,this.layout.layoutBox),vP(this.target,this.targetDelta)):pi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Sn(),this.relativeTargetOrigin=Sn(),zd(this.relativeTargetOrigin,this.target,w.target),pi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ob(this.parent.latestValues)||gP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Kn.timestamp&&(d=!1),d)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;pi(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,w=this.treeScale.y;w$(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Sn());const{target:A}=l;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(q2(this.prevProjectionDelta.x,this.projectionDelta.x),q2(this.prevProjectionDelta.y,this.projectionDelta.y)),Ud(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==w||!J2(this.projectionDelta.x,this.prevProjectionDelta.x)||!J2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vu(),this.projectionDelta=vu(),this.projectionDeltaWithTransform=vu()}setAnimationOrigin(l,c=!1){const d=this.snapshot,h=d?d.latestValues:{},p={...this.latestValues},y=vu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const w=Sn(),A=d?d.source:void 0,N=this.layout?this.layout.source:void 0,P=A!==N,U=this.getStack(),j=!U||U.members.length<=1,q=!!(P&&!j&&this.options.crossfade===!0&&!this.path.some(fq));this.animationProgress=0;let H;this.mixTargetDelta=X=>{const O=X/1e3;rC(y.x,l.x,O),rC(y.y,l.y,O),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zd(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),dq(this.relativeTarget,this.relativeTargetOrigin,w,O),H&&X$(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=Sn()),pi(H,this.relativeTarget)),P&&(this.animationValues=p,$$(p,h,this.latestValues,O,q,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(_i(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Vt.update(()=>{Gm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Mi(0)),this.currentAnimation=U$(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(J$),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:h,latestValues:p}=l;if(!(!c||!d||!h)){if(this!==l&&this.layout&&h&&NP(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||Sn();const y=Sr(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+y;const w=Sr(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+w}pi(c,d),bu(c,p),Ud(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new Q$),this.sharedNodes.get(l).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const h={};d.z&&o0("z",l,h,this.animationValues);for(let p=0;p<s0.length;p++)o0(`rotate${s0[p]}`,l,h,this.animationValues),o0(`skew${s0[p]}`,l,h,this.animationValues);l.render();for(const p in h)l.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=qm(c?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=qm(c?.pointerEvents)||""),this.hasProjected&&!Wo(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const p=h.animationValues||h.latestValues;this.applyTransformsToTarget();let y=Z$(this.projectionDeltaWithTransform,this.treeScale,p);d&&(y=d(p,y)),l.transform=y;const{x:w,y:A}=this.projectionDelta;l.transformOrigin=`${w.origin*100}% ${A.origin*100}% 0`,h.animationValues?l.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const N in af){if(p[N]===void 0)continue;const{correct:P,applyTo:U,isCSSVariable:j}=af[N],q=y==="none"?p[N]:P(p[N],h);if(U){const H=U.length;for(let X=0;X<H;X++)l[U[X]]=q}else j?this.options.visualElement.renderState.vars[N]=q:l[N]=q}this.options.layoutId&&(l.pointerEvents=h===this?qm(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(eC),this.root.sharedNodes.clear()}}}function tq(t){t.updateLayout()}function nq(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?gi(p=>{const y=o?e.measuredBox[p]:e.layoutBox[p],w=Sr(y);y.min=n[p].min,y.max=y.min+w}):NP(i,e.layoutBox,n)&&gi(p=>{const y=o?e.measuredBox[p]:e.layoutBox[p],w=Sr(n[p]);y.max=y.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+w)});const l=vu();Ud(l,n,e.layoutBox);const c=vu();o?Ud(c,t.applyTransform(r,!0),e.measuredBox):Ud(c,n,e.layoutBox);const d=!EP(l);let h=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:y,layout:w}=p;if(y&&w){const A=Sn();zd(A,e.layoutBox,y.layoutBox);const N=Sn();zd(N,n,w.layoutBox),AP(A,N)||(h=!0),p.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=A,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function rq(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function iq(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function aq(t){t.clearSnapshot()}function eC(t){t.clearMeasurements()}function tC(t){t.isLayoutDirty=!1}function sq(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function nC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function oq(t){t.resolveTargetDelta()}function lq(t){t.calcProjection()}function uq(t){t.resetSkewAndRotation()}function cq(t){t.removeLeadSnapshot()}function rC(t,e,n){t.translate=cn(e.translate,0,n),t.scale=cn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function iC(t,e,n,r){t.min=cn(e.min,n.min,r),t.max=cn(e.max,n.max,r)}function dq(t,e,n,r){iC(t.x,e.x,n.x,r),iC(t.y,e.y,n.y,r)}function fq(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const hq={duration:.45,ease:[.4,0,.1,1]},aC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),sC=aC("applewebkit/")&&!aC("chrome/")?Math.round:Pr;function oC(t){t.min=sC(t.min),t.max=sC(t.max)}function mq(t){oC(t.x),oC(t.y)}function NP(t,e,n){return t==="position"||t==="preserve-aspect"&&!y$(Z2(e),Z2(n),.2)}function pq(t){return t!==t.root&&t.scroll?.wasRoot}const gq=RP({attachResizeListener:(t,e)=>of(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),l0={current:void 0},IP=RP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!l0.current){const t=new gq({});t.mount(window),t.setOptions({layoutScroll:!0}),l0.current=t}return l0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),vq={pan:{Feature:j$},drag:{Feature:D$,ProjectionNode:IP,MeasureLayout:_P}};function lC(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&Vt.postRender(()=>o(e,Uf(e)))}class yq extends go{mount(){const{current:e}=this.node;e&&(this.unmount=VF(e,(n,r)=>(lC(this.node,r,"Start"),i=>lC(this.node,i,"End"))))}unmount(){}}class bq extends go{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=kf(of(this.node.current,"focus",()=>this.onFocus()),of(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function uC(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&Vt.postRender(()=>o(e,Uf(e)))}class wq extends go{mount(){const{current:e}=this.node;e&&(this.unmount=FF(e,(n,r)=>(uC(this.node,r,"Start"),(i,{success:o})=>uC(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Db=new WeakMap,u0=new WeakMap,xq=t=>{const e=Db.get(t.target);e&&e(t)},_q=t=>{t.forEach(xq)};function Sq({root:t,...e}){const n=t||document;u0.has(n)||u0.set(n,{});const r=u0.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(_q,{root:t,...e})),r[i]}function Tq(t,e,n){const r=Sq(e);return Db.set(t,n),r.observe(t),()=>{Db.delete(t),r.unobserve(t)}}const Eq={some:0,all:1};class Aq extends go{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Eq[i]},c=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,o&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:y}=this.node.getProps(),w=h?p:y;w&&w(d)};return Tq(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Cq(e,n))&&this.startObserver()}unmount(){}}function Cq({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Rq={inView:{Feature:Aq},tap:{Feature:wq},focus:{Feature:bq},hover:{Feature:yq}},Nq={layout:{ProjectionNode:IP,MeasureLayout:_P}},jb={current:null},OP={current:!1};function Iq(){if(OP.current=!0,!!bx)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>jb.current=t.matches;t.addEventListener("change",e),e()}else jb.current=!1}const Oq=new WeakMap;function Mq(t,e,n){for(const r in e){const i=e[r],o=n[r];if(Xn(i))t.addValue(r,i);else if(Xn(o))t.addValue(r,Mi(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,Mi(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const cC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Pq{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=kx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Mr.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Vt.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=_g(n),this.isVariantNode=QM(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in y){const A=y[w];d[w]!==void 0&&Xn(A)&&A.set(d[w],!1)}}mount(e){this.current=e,Oq.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),OP.current||Iq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:jb.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),_i(this.notifyUpdate),_i(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ju.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Vt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Hu){const n=Hu[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Sn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<cC.length;r++){const i=cC[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,l=e[o];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=Mq(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Mi(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(rM(r)||aM(r))?r=parseFloat(r):!nH(r)&&co.test(n)&&(r=zM(e,n)),this.setBaseTarget(e,Xn(r)?r.get():r)),Xn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=Yx(this.props,n,this.presenceContext?.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Xn(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Sx),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class MP extends Pq{constructor(){super(...arguments),this.KeyframeResolver=DF}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Xn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function PP(t,{style:e,vars:n},r,i){const o=t.style;let l;for(l in e)o[l]=e[l];i?.applyProjectionStyles(o,r);for(l in n)o.setProperty(l,n[l])}function Dq(t){return window.getComputedStyle(t)}class jq extends MP{constructor(){super(...arguments),this.type="html",this.renderInstance=PP}readValueFromInstance(e,n){if(Ju.has(n))return this.projection?.isProjecting?_b(n):eF(e,n);{const r=Dq(e),i=(Cx(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return yP(e,n)}build(e,n,r){Gx(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Xx(e,n,r)}}const DP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function kq(t,e,n,r){PP(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(DP.has(i)?i:qx(i),e.attrs[i])}class Lq extends MP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Sn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ju.has(n)){const r=UM(n);return r&&r.default||0}return n=DP.has(n)?n:qx(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return oP(e,n,r)}build(e,n,r){rP(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){kq(e,n,r,i)}mount(e){this.isSVGTag=aP(e.tagName),super.mount(e)}}const Vq=(t,e)=>Wx(t)?new Lq(e):new jq(e,{allowProjection:t!==R.Fragment}),Uq=zH({...c$,...Rq,...vq,...Nq},Vq),Se=dH(Uq),zq=50,dC=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),Bq=()=>({time:0,x:dC(),y:dC()}),Fq={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function fC(t,e,n,r){const i=n[e],{length:o,position:l}=Fq[e],c=i.current,d=n.time;i.current=t[`scroll${l}`],i.scrollLength=t[`scroll${o}`]-t[`client${o}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=Fu(0,i.scrollLength,i.current);const h=r-d;i.velocity=h>zq?0:Tx(i.current-c,h)}function Hq(t,e,n){fC(t,"x",e,n),fC(t,"y",e,n),e.time=n}function $q(t,e){const n={x:0,y:0};let r=t;for(;r&&r!==e;)if(Ux(r))n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const i=r.getBoundingClientRect();r=r.parentElement;const o=r.getBoundingClientRect();n.x+=i.left-o.left,n.y+=i.top-o.top}else if(r instanceof SVGGraphicsElement){const{x:i,y:o}=r.getBBox();n.x+=i,n.y+=o;let l=null,c=r.parentNode;for(;!l;)c.tagName==="svg"&&(l=c),c=r.parentNode;r=l}else break;return n}const kb={start:0,center:.5,end:1};function hC(t,e,n=0){let r=0;if(t in kb&&(t=kb[t]),typeof t=="string"){const i=parseFloat(t);t.endsWith("px")?r=i:t.endsWith("%")?t=i/100:t.endsWith("vw")?r=i/100*document.documentElement.clientWidth:t.endsWith("vh")?r=i/100*document.documentElement.clientHeight:t=i}return typeof t=="number"&&(r=e*t),n+r}const qq=[0,0];function Gq(t,e,n,r){let i=Array.isArray(t)?t:qq,o=0,l=0;return typeof t=="number"?i=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?i=t.split(" "):i=[t,kb[t]?t:"0"]),o=hC(i[0],n,r),l=hC(i[1],e),o-l}const Kq={All:[[0,0],[1,1]]},Wq={x:0,y:0};function Yq(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function Xq(t,e,n){const{offset:r=Kq.All}=n,{target:i=t,axis:o="y"}=n,l=o==="y"?"height":"width",c=i!==t?$q(i,t):Wq,d=i===t?{width:t.scrollWidth,height:t.scrollHeight}:Yq(i),h={width:t.clientWidth,height:t.clientHeight};e[o].offset.length=0;let p=!e[o].interpolate;const y=r.length;for(let w=0;w<y;w++){const A=Gq(r[w],h[l],d[l],c[o]);!p&&A!==e[o].interpolatorOffsets[w]&&(p=!0),e[o].offset[w]=A}p&&(e[o].interpolate=Px(e[o].offset,AM(r),{clamp:!1}),e[o].interpolatorOffsets=[...e[o].offset]),e[o].progress=wa(0,1,e[o].interpolate(e[o].current))}function Qq(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let r=e;for(;r&&r!==t;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function Zq(t,e,n,r={}){return{measure:i=>{Qq(t,r.target,n),Hq(t,n,i),(r.offset||r.target)&&Xq(t,n,r)},notify:()=>e(n)}}const od=new WeakMap,mC=new WeakMap,c0=new WeakMap,pC=t=>t===document.scrollingElement?window:t;function jP(t,{container:e=document.scrollingElement,...n}={}){if(!e)return Pr;let r=c0.get(e);r||(r=new Set,c0.set(e,r));const i=Bq(),o=Zq(e,t,i,n);if(r.add(o),!od.has(e)){const c=()=>{for(const y of r)y.measure(Kn.timestamp);Vt.preUpdate(d)},d=()=>{for(const y of r)y.notify()},h=()=>Vt.read(c);od.set(e,h);const p=pC(e);window.addEventListener("resize",h,{passive:!0}),e!==document.documentElement&&mC.set(e,QF(e,h)),p.addEventListener("scroll",h,{passive:!0}),h()}const l=od.get(e);return Vt.read(l,!1,!0),()=>{_i(l);const c=c0.get(e);if(!c||(c.delete(o),c.size))return;const d=od.get(e);od.delete(e),d&&(pC(e).removeEventListener("scroll",d),mC.get(e)?.(),window.removeEventListener("resize",d))}}const gC=new Map;function Jq(t){const e={value:0},n=jP(r=>{e.value=r[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function kP({source:t,container:e,...n}){const{axis:r}=n;t&&(e=t);const i=gC.get(e)??new Map;gC.set(e,i);const o=n.target??"self",l=i.get(o)??{},c=r+(n.offset??[]).join(",");return l[c]||(l[c]=!n.target&&IM()?new ScrollTimeline({source:e,axis:r}):Jq({container:e,...n})),l[c]}function eG(t,e){const n=kP(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:r=>(r.pause(),KM(i=>{r.time=r.duration*i},n))})}function tG(t){return t.length===2}function nG(t,e){return tG(t)?jP(n=>{t(n[e.axis].progress,n)},e):KM(t,kP(e))}function rG(t,{axis:e="y",container:n=document.scrollingElement,...r}={}){if(!n)return Pr;const i={axis:e,container:n,...r};return typeof t=="function"?nG(t,i):eG(t,i)}const iG=()=>({scrollX:Mi(0),scrollY:Mi(0),scrollXProgress:Mi(0),scrollYProgress:Mi(0)}),ym=t=>t?!t.current:!1;function aG({container:t,target:e,...n}={}){const r=wl(iG),i=R.useRef(null),o=R.useRef(!1),l=R.useCallback(()=>(i.current=rG((c,{x:d,y:h})=>{r.scrollX.set(d.current),r.scrollXProgress.set(d.progress),r.scrollY.set(h.current),r.scrollYProgress.set(h.progress)},{...n,container:t?.current||void 0,target:e?.current||void 0}),()=>{i.current?.()}),[t,e,JSON.stringify(n.offset)]);return jf(()=>{if(o.current=!1,ym(t)||ym(e)){o.current=!0;return}else return l()},[l]),R.useEffect(()=>{if(o.current)return ef(!ym(t)),ef(!ym(e)),l()},[l]),r}function wu(t){const e=wl(()=>Mi(t)),{isStatic:n}=R.useContext(ec);if(n){const[,r]=R.useState(t);R.useEffect(()=>e.on("change",r),[])}return e}function LP(t,e){const n=wu(e()),r=()=>n.set(e());return r(),jf(()=>{const i=()=>Vt.preRender(r,!1,!0),o=t.map(l=>l.on("change",i));return()=>{o.forEach(l=>l()),_i(r)}}),n}function sG(t){Ld.current=[],t();const e=LP(Ld.current,t);return Ld.current=void 0,e}function xu(t,e,n,r){if(typeof t=="function")return sG(t);const i=typeof e=="function"?e:JF(e,n,r);return Array.isArray(t)?vC(t,i):vC([t],([o])=>i(o))}function vC(t,e){const n=wl(()=>[]);return LP(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function bm(t,e={}){const{isStatic:n}=R.useContext(ec),r=()=>Xn(t)?t.get():t;if(n)return xu(r);const i=wu(r());return R.useInsertionEffect(()=>eH(i,t,e),[i,JSON.stringify(e)]),i}function oG(t){const e=R.useRef(0),{isStatic:n}=R.useContext(ec);R.useEffect(()=>{if(n)return;const r=({timestamp:i,delta:o})=>{e.current||(e.current=i),t(i-e.current,o)};return Vt.update(r,!0),()=>_i(r)},[t])}function lG(t){t.values.forEach(e=>e.stop())}function Lb(t,e){[...e].reverse().forEach(r=>{const i=t.getVariant(r);i&&Qx(t,i),t.variantChildren&&t.variantChildren.forEach(o=>{Lb(o,e)})})}function uG(t,e){if(Array.isArray(e))return Lb(t,e);if(typeof e=="string")return Lb(t,[e]);Qx(t,e)}function cG(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,r){const i=[];return t.forEach(o=>{i.push(cP(o,n,{transitionOverride:r}))}),Promise.all(i)},set(n){return t.forEach(r=>{uG(r,n)})},stop(){t.forEach(n=>{lG(n)})},mount(){return()=>{e.stop()}}};return e}function dG(){const t=wl(cG);return jf(t.mount,[]),t}const fG=dG,VP=R.createContext(null),hG=({children:t})=>{const[e,n]=R.useState([]);R.useEffect(()=>{const h=localStorage.getItem("cart");h&&n(JSON.parse(h))},[]),R.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);const r=h=>{n(p=>p.find(w=>w.id===h.id)?p.map(w=>w.id===h.id?{...w,quantity:w.quantity+1}:w):[...p,{...h,quantity:1}])},i=h=>{n(p=>p.filter(y=>y.id!==h))},o=(h,p)=>{p<=0?i(h):n(y=>y.map(w=>w.id===h?{...w,quantity:p}:w))},l=()=>{n([])},c=R.useMemo(()=>e.reduce((h,p)=>h+p.quantity,0),[e]),d=R.useMemo(()=>e.reduce((h,p)=>h+(p.price||0)*p.quantity,0),[e]);return g.jsx(VP.Provider,{value:{cart:e,totalItems:c,totalPrice:d,addToCart:r,removeFromCart:i,updateQuantity:o,clearCart:l},children:t})},Jx=()=>{const t=R.useContext(VP);if(!t)throw new Error("useCart must be used within a CartProvider");return t},UP=R.createContext(null),mG=({children:t})=>{const{user:e}=Si(),[n,r]=R.useState([]);R.useEffect(()=>{if(!e){r([]);return}const h=vn(Tt(ze,"messages"),tn("senderId","!=",e.uid),tn("read","==",!1)),p=zu(h,y=>{const w=new Map;y.docs.forEach(A=>{const N=A.data();if(N.isSystemMessage)return;const P=N.chatId;w.has(P)||w.set(P,{chatId:P,count:0,lastMessageTime:N.timestamp?.toDate()||new Date,lastMessage:N.text||"",otherUserId:N.senderId,otherUserName:N.senderName||"Unknown User"});const U=w.get(P);U.count+=1,N.timestamp?.toDate()>U.lastMessageTime&&(U.lastMessageTime=N.timestamp.toDate(),U.lastMessage=N.text||"")}),r(Array.from(w.values()))});return()=>p()},[e]);const i=h=>{r(p=>p.filter(y=>y.chatId!==h))},o=()=>{r([])},l=h=>n.some(p=>p.chatId===h),c=h=>{const p=n.find(y=>y.chatId===h);return p?p.count:0},d=R.useMemo(()=>n.reduce((h,p)=>h+p.count,0),[n]);return g.jsx(UP.Provider,{value:{unreadMessages:n,totalUnread:d,markAsRead:i,markAllAsRead:o,hasUnread:l,getUnreadCount:c},children:t})},e_=()=>{const t=R.useContext(UP);if(!t)throw new Error("useUnreadMessages must be used within UnreadMessagesProvider");return t},qo=25,pG=[{to:"/dashboard",icon:g.jsx(tM,{size:qo}),label:"Home"},{to:"/search",icon:g.jsx(Jd,{size:qo}),label:"Search"},{to:"/add",icon:g.jsx(mb,{size:qo}),label:"Add"},{to:"/trade",icon:g.jsx(hx,{size:qo}),label:"Activity"},{to:"/messages",icon:g.jsx(Rz,{size:qo}),label:"Messages"},{to:"/cart",icon:g.jsx(nM,{size:qo}),label:"Cart"},{to:"/profile",icon:g.jsx(vx,{size:qo}),label:"Profile"}];function gG(){const t=Ea(),e=Jr(),{totalItems:n}=Jx(),{totalUnread:r}=e_();return R.useEffect(()=>{console.log("totalItems changed:",n),console.log("totalUnread changed:",r)},[n,r]),g.jsxs("aside",{className:"w-14 md:w-20 bg-primary-950 border-r border-white/10 flex flex-col items-center py-4 gap-4 fixed left-0 top-0 bottom-0 z-10",children:[g.jsx(bi,{to:"/",children:g.jsx("img",{src:"/icon.png",alt:"logo",className:"w-8 h-8 md:w-10 md:h-10 mb-4"})}),pG.map(i=>{const o=t.pathname===i.to,l=i.to==="/cart",c=i.to==="/messages",d=t.pathname.startsWith("/messages/"),h=p=>{p.preventDefault(),e("/messages",{replace:!0})};return c?g.jsxs("button",{onClick:h,className:`relative p-2 cursor-pointer rounded-lg transition-all duration-200 ${o||d?"bg-primary text-white":"text-white/60 hover:text-white"}`,children:[i.icon,r>0&&g.jsx(Qn,{mode:"popLayout",children:g.jsx(Se.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:300,damping:20},className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-semibold w-5 h-5 flex items-center justify-center rounded-full",children:r>99?"99+":r},r)})]},i.to):g.jsxs(bi,{to:i.to,className:`relative p-2 rounded-lg transition-all duration-200 ${o?"bg-primary text-white":"text-white/60 hover:text-white"} ${l?"mt-auto":""}`,children:[i.icon,l&&n>0&&g.jsx(Qn,{mode:"popLayout",children:g.jsx(Se.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:300,damping:20},className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-semibold w-5 h-5 flex items-center justify-center rounded-full",children:n},n)})]},i.to)})]})}function vG(){const{isSignedIn:t,pending:e}=Si(),n=Ea(),r=Jr(),i=!["/","/about"].includes(n.pathname);return R.useEffect(()=>{!e&&!t&&!["/","/about"].includes(n.pathname)&&r("/")},[t,n.pathname,e]),g.jsx(mG,{children:g.jsxs("div",{className:"max-h-screen font-inter bg-transparent-950 text-white",children:[i&&g.jsx(gG,{}),g.jsx("main",{className:`${i?"pl-14 md:pl-20":""}`,children:g.jsx(Qn,{mode:"wait",children:g.jsx(s7,{},n.pathname)})})]})})}const yG="#FF0069",zP=R.forwardRef(function({title:e="Instagram",color:n="currentColor",size:r=24,...i},o){return n==="default"&&(n=yG),g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,fill:n,viewBox:"0 0 24 24",ref:o,...i,children:[g.jsx("title",{children:e}),g.jsx("path",{d:"M7.0301.084c-1.2768.0602-2.1487.264-2.911.5634-.7888.3075-1.4575.72-2.1228 1.3877-.6652.6677-1.075 1.3368-1.3802 2.127-.2954.7638-.4956 1.6365-.552 2.914-.0564 1.2775-.0689 1.6882-.0626 4.947.0062 3.2586.0206 3.6671.0825 4.9473.061 1.2765.264 2.1482.5635 2.9107.308.7889.72 1.4573 1.388 2.1228.6679.6655 1.3365 1.0743 2.1285 1.38.7632.295 1.6361.4961 2.9134.552 1.2773.056 1.6884.069 4.9462.0627 3.2578-.0062 3.668-.0207 4.9478-.0814 1.28-.0607 2.147-.2652 2.9098-.5633.7889-.3086 1.4578-.72 2.1228-1.3881.665-.6682 1.0745-1.3378 1.3795-2.1284.2957-.7632.4966-1.636.552-2.9124.056-1.2809.0692-1.6898.063-4.948-.0063-3.2583-.021-3.6668-.0817-4.9465-.0607-1.2797-.264-2.1487-.5633-2.9117-.3084-.7889-.72-1.4568-1.3876-2.1228C21.2982 1.33 20.628.9208 19.8378.6165 19.074.321 18.2017.1197 16.9244.0645 15.6471.0093 15.236-.005 11.977.0014 8.718.0076 8.31.0215 7.0301.0839m.1402 21.6932c-1.17-.0509-1.8053-.2453-2.2287-.408-.5606-.216-.96-.4771-1.3819-.895-.422-.4178-.6811-.8186-.9-1.378-.1644-.4234-.3624-1.058-.4171-2.228-.0595-1.2645-.072-1.6442-.079-4.848-.007-3.2037.0053-3.583.0607-4.848.05-1.169.2456-1.805.408-2.2282.216-.5613.4762-.96.895-1.3816.4188-.4217.8184-.6814 1.3783-.9003.423-.1651 1.0575-.3614 2.227-.4171 1.2655-.06 1.6447-.072 4.848-.079 3.2033-.007 3.5835.005 4.8495.0608 1.169.0508 1.8053.2445 2.228.408.5608.216.96.4754 1.3816.895.4217.4194.6816.8176.9005 1.3787.1653.4217.3617 1.056.4169 2.2263.0602 1.2655.0739 1.645.0796 4.848.0058 3.203-.0055 3.5834-.061 4.848-.051 1.17-.245 1.8055-.408 2.2294-.216.5604-.4763.96-.8954 1.3814-.419.4215-.8181.6811-1.3783.9-.4224.1649-1.0577.3617-2.2262.4174-1.2656.0595-1.6448.072-4.8493.079-3.2045.007-3.5825-.006-4.848-.0608M16.953 5.5864A1.44 1.44 0 1 0 18.39 4.144a1.44 1.44 0 0 0-1.437 1.4424M5.8385 12.012c.0067 3.4032 2.7706 6.1557 6.173 6.1493 3.4026-.0065 6.157-2.7701 6.1506-6.1733-.0065-3.4032-2.771-6.1565-6.174-6.1498-3.403.0067-6.156 2.771-6.1496 6.1738M8 12.0077a4 4 0 1 1 4.008 3.9921A3.9996 3.9996 0 0 1 8 12.0077"})]})}),bG="#FF0000",BP=R.forwardRef(function({title:e="YouTube",color:n="currentColor",size:r=24,...i},o){return n==="default"&&(n=bG),g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,fill:n,viewBox:"0 0 24 24",ref:o,...i,children:[g.jsx("title",{children:e}),g.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})]})});function wG(){return g.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-4 flex-wrap w-full",children:[g.jsx(bi,{to:"/about",className:"border-2 border-primary rounded-lg bg-transparent tracking-widest text-white px-8 2xs:px-16 py-2 uppercase font-extrabold text-lg sm:text-xl hover:bg-primary transition-all duration-300 text-center",children:"About"}),g.jsx(bi,{to:"https://instagram.com/_mangrov_",target:"_blank",children:g.jsx(zP,{className:"text-white w-8 h-8 sm:w-10 sm:h-10"})}),g.jsx(bi,{to:"https://youtube.com",target:"_blank",children:g.jsx(BP,{className:"text-white w-8 h-8 sm:w-10 sm:h-10"})})]})}function t_({start:t,end:e,speed:n=40,className:r="",imgWidthTW:i="w-40",imgHeightTW:o="h-32"}){if(!t||!e)return null;const l=wu(t.x),c=wu(t.y),d=wu(e.x),h=wu(e.y),p=bm(l,{damping:40,stiffness:10}),y=bm(c,{damping:40,stiffness:10}),w=bm(d,{damping:40,stiffness:10}),A=bm(h,{damping:40,stiffness:10});R.useEffect(()=>{l.stop(),c.stop(),d.stop(),h.stop(),l.set(l.get()),c.set(c.get()),d.set(d.get()),h.set(h.get()),requestAnimationFrame(()=>{l.set(t.x),c.set(t.y),d.set(e.x),h.set(e.y)})},[t.x,t.y,e.x,e.y]);const N=xu([p,w],([S,k])=>k-S),P=xu([y,A],([S,k])=>k-S),U=xu([N,P],([S,k])=>Math.hypot(S,k)),j=xu([N,P],([S,k])=>Math.atan2(k,S)*(180/Math.PI)),q=Array.from({length:9},(S,k)=>`/strip/image${k+1}.png`),H=Math.ceil(q.length/2),X=q.slice(0,H),O=q.slice(H).length?q.slice(H):X,C=160+8,I=`${i} ${o} object-cover select-none shrink-0 opacity-20 md:opacity-30 rounded-xl mr-2`,E=({direction:S,images:k})=>{const F=k.length*C,L=S==="left"?0:-F,[Q,Z]=R.useState(L);return oG((B,T)=>{Z(J=>{const K=n*T/1e3;let x=S==="left"?J-K:J+K;return S==="left"&&x<=-F&&(x+=F),S==="right"&&x>=0&&(x-=F),x})}),g.jsx(Se.div,{initial:{opacity:1},animate:{opacity:1},exit:{opacity:0},className:"flex whitespace-nowrap",style:{transform:`translateX(${Q}px)`},children:Array.from({length:18},(B,T)=>k[T%k.length]).map((B,T)=>g.jsx("img",{src:B,className:I,draggable:!1},T))})};return g.jsxs(Se.div,{className:`absolute pointer-events-none overflow-hidden ${r}`,style:{top:y,left:p,width:U,rotate:j,transformOrigin:"0 0"},children:[g.jsx(E,{direction:"right",images:X}),g.jsx("div",{className:"h-2"}),g.jsx(E,{direction:"left",images:O})]})}function FP(){const[t,e]=R.useState([window.innerWidth,window.innerHeight]);return R.useEffect(()=>{const n=()=>{e([window.innerWidth,window.innerHeight])};return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t}function hl(t){"@babel/helpers - typeof";return hl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hl(t)}function xG(t,e){if(hl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HP(t){var e=xG(t,"string");return hl(e)=="symbol"?e:e+""}function Ad(t,e,n){return(e=HP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ye(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yC(Object(n),!0).forEach(function(r){Ad(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _G(t){if(Array.isArray(t))return t}function SG(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,l,c=[],d=!0,h=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function Vb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function $P(t,e){if(t){if(typeof t=="string")return Vb(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vb(t,e):void 0}}function TG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rs(t,e){return _G(t)||SG(t,e)||$P(t,e)||TG()}function EG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function hs(t,e){if(t==null)return{};var n,r,i=EG(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var AG=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function CG(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,o=t.defaultValue,l=o===void 0?null:o,c=t.inputValue,d=t.menuIsOpen,h=t.onChange,p=t.onInputChange,y=t.onMenuClose,w=t.onMenuOpen,A=t.value,N=hs(t,AG),P=R.useState(c!==void 0?c:n),U=rs(P,2),j=U[0],q=U[1],H=R.useState(d!==void 0?d:i),X=rs(H,2),O=X[0],M=X[1],C=R.useState(A!==void 0?A:l),I=rs(C,2),E=I[0],S=I[1],k=R.useCallback(function(J,K){typeof h=="function"&&h(J,K),S(J)},[h]),F=R.useCallback(function(J,K){var x;typeof p=="function"&&(x=p(J,K)),q(x!==void 0?x:J)},[p]),L=R.useCallback(function(){typeof w=="function"&&w(),M(!0)},[w]),Q=R.useCallback(function(){typeof y=="function"&&y(),M(!1)},[y]),Z=c!==void 0?c:j,B=d!==void 0?d:O,T=A!==void 0?A:E;return Ye(Ye({},N),{},{inputValue:Z,menuIsOpen:B,onChange:k,onInputChange:F,onMenuClose:Q,onMenuOpen:L,value:T})}function tt(){return tt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tt.apply(null,arguments)}function RG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HP(r.key),r)}}function NG(t,e,n){return e&&bC(t.prototype,e),n&&bC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ub(t,e){return Ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Ub(t,e)}function IG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ub(t,e)}function Mp(t){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mp(t)}function qP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qP=function(){return!!t})()}function OG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MG(t,e){if(e&&(hl(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OG(t)}function PG(t){var e=qP();return function(){var n,r=Mp(t);if(e){var i=Mp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return MG(this,n)}}function DG(t){if(Array.isArray(t))return Vb(t)}function jG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n_(t){return DG(t)||jG(t)||$P(t)||kG()}function LG(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function VG(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var UG=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(VG(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=LG(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),hr="-ms-",Pp="-moz-",kt="-webkit-",GP="comm",r_="rule",i_="decl",zG="@import",KP="@keyframes",BG="@layer",FG=Math.abs,Sg=String.fromCharCode,HG=Object.assign;function $G(t,e){return sr(t,0)^45?(((e<<2^sr(t,0))<<2^sr(t,1))<<2^sr(t,2))<<2^sr(t,3):0}function WP(t){return t.trim()}function qG(t,e){return(t=e.exec(t))?t[0]:t}function Lt(t,e,n){return t.replace(e,n)}function zb(t,e){return t.indexOf(e)}function sr(t,e){return t.charCodeAt(e)|0}function lf(t,e,n){return t.slice(e,n)}function aa(t){return t.length}function a_(t){return t.length}function wm(t,e){return e.push(t),t}function GG(t,e){return t.map(e).join("")}var Tg=1,$u=1,YP=0,Dr=0,Pn=0,tc="";function Eg(t,e,n,r,i,o,l){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:Tg,column:$u,length:l,return:""}}function ld(t,e){return HG(Eg("",null,null,"",null,null,0),t,{length:-t.length},e)}function KG(){return Pn}function WG(){return Pn=Dr>0?sr(tc,--Dr):0,$u--,Pn===10&&($u=1,Tg--),Pn}function Zr(){return Pn=Dr<YP?sr(tc,Dr++):0,$u++,Pn===10&&($u=1,Tg++),Pn}function va(){return sr(tc,Dr)}function Km(){return Dr}function zf(t,e){return lf(tc,t,e)}function uf(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function XP(t){return Tg=$u=1,YP=aa(tc=t),Dr=0,[]}function QP(t){return tc="",t}function Wm(t){return WP(zf(Dr-1,Bb(t===91?t+2:t===40?t+1:t)))}function YG(t){for(;(Pn=va())&&Pn<33;)Zr();return uf(t)>2||uf(Pn)>3?"":" "}function XG(t,e){for(;--e&&Zr()&&!(Pn<48||Pn>102||Pn>57&&Pn<65||Pn>70&&Pn<97););return zf(t,Km()+(e<6&&va()==32&&Zr()==32))}function Bb(t){for(;Zr();)switch(Pn){case t:return Dr;case 34:case 39:t!==34&&t!==39&&Bb(Pn);break;case 40:t===41&&Bb(t);break;case 92:Zr();break}return Dr}function QG(t,e){for(;Zr()&&t+Pn!==57;)if(t+Pn===84&&va()===47)break;return"/*"+zf(e,Dr-1)+"*"+Sg(t===47?t:Zr())}function ZG(t){for(;!uf(va());)Zr();return zf(t,Dr)}function JG(t){return QP(Ym("",null,null,null,[""],t=XP(t),0,[0],t))}function Ym(t,e,n,r,i,o,l,c,d){for(var h=0,p=0,y=l,w=0,A=0,N=0,P=1,U=1,j=1,q=0,H="",X=i,O=o,M=r,C=H;U;)switch(N=q,q=Zr()){case 40:if(N!=108&&sr(C,y-1)==58){zb(C+=Lt(Wm(q),"&","&\f"),"&\f")!=-1&&(j=-1);break}case 34:case 39:case 91:C+=Wm(q);break;case 9:case 10:case 13:case 32:C+=YG(N);break;case 92:C+=XG(Km()-1,7);continue;case 47:switch(va()){case 42:case 47:wm(eK(QG(Zr(),Km()),e,n),d);break;default:C+="/"}break;case 123*P:c[h++]=aa(C)*j;case 125*P:case 59:case 0:switch(q){case 0:case 125:U=0;case 59+p:j==-1&&(C=Lt(C,/\f/g,"")),A>0&&aa(C)-y&&wm(A>32?xC(C+";",r,n,y-1):xC(Lt(C," ","")+";",r,n,y-2),d);break;case 59:C+=";";default:if(wm(M=wC(C,e,n,h,p,i,c,H,X=[],O=[],y),o),q===123)if(p===0)Ym(C,e,M,M,X,o,y,c,O);else switch(w===99&&sr(C,3)===110?100:w){case 100:case 108:case 109:case 115:Ym(t,M,M,r&&wm(wC(t,M,M,0,0,i,c,H,i,X=[],y),O),i,O,y,c,r?X:O);break;default:Ym(C,M,M,M,[""],O,0,c,O)}}h=p=A=0,P=j=1,H=C="",y=l;break;case 58:y=1+aa(C),A=N;default:if(P<1){if(q==123)--P;else if(q==125&&P++==0&&WG()==125)continue}switch(C+=Sg(q),q*P){case 38:j=p>0?1:(C+="\f",-1);break;case 44:c[h++]=(aa(C)-1)*j,j=1;break;case 64:va()===45&&(C+=Wm(Zr())),w=va(),p=y=aa(H=C+=ZG(Km())),q++;break;case 45:N===45&&aa(C)==2&&(P=0)}}return o}function wC(t,e,n,r,i,o,l,c,d,h,p){for(var y=i-1,w=i===0?o:[""],A=a_(w),N=0,P=0,U=0;N<r;++N)for(var j=0,q=lf(t,y+1,y=FG(P=l[N])),H=t;j<A;++j)(H=WP(P>0?w[j]+" "+q:Lt(q,/&\f/g,w[j])))&&(d[U++]=H);return Eg(t,e,n,i===0?r_:c,d,h,p)}function eK(t,e,n){return Eg(t,e,n,GP,Sg(KG()),lf(t,2,-2),0)}function xC(t,e,n,r){return Eg(t,e,n,i_,lf(t,0,r),lf(t,r+1,-1),r)}function Nu(t,e){for(var n="",r=a_(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function tK(t,e,n,r){switch(t.type){case BG:if(t.children.length)break;case zG:case i_:return t.return=t.return||t.value;case GP:return"";case KP:return t.return=t.value+"{"+Nu(t.children,r)+"}";case r_:t.value=t.props.join(",")}return aa(n=Nu(t.children,r))?t.return=t.value+"{"+n+"}":""}function nK(t){var e=a_(t);return function(n,r,i,o){for(var l="",c=0;c<e;c++)l+=t[c](n,r,i,o)||"";return l}}function rK(t){return function(e){e.root||(e=e.return)&&t(e)}}function iK(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var aK=function(e,n,r){for(var i=0,o=0;i=o,o=va(),i===38&&o===12&&(n[r]=1),!uf(o);)Zr();return zf(e,Dr)},sK=function(e,n){var r=-1,i=44;do switch(uf(i)){case 0:i===38&&va()===12&&(n[r]=1),e[r]+=aK(Dr-1,n,r);break;case 2:e[r]+=Wm(i);break;case 4:if(i===44){e[++r]=va()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Sg(i)}while(i=Zr());return e},oK=function(e,n){return QP(sK(XP(e),n))},_C=new WeakMap,lK=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!_C.get(r))&&!i){_C.set(e,!0);for(var o=[],l=oK(n,o),c=r.props,d=0,h=0;d<l.length;d++)for(var p=0;p<c.length;p++,h++)e.props[h]=o[d]?l[d].replace(/&\f/g,c[p]):c[p]+" "+l[d]}}},uK=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function ZP(t,e){switch($G(t,e)){case 5103:return kt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return kt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return kt+t+Pp+t+hr+t+t;case 6828:case 4268:return kt+t+hr+t+t;case 6165:return kt+t+hr+"flex-"+t+t;case 5187:return kt+t+Lt(t,/(\w+).+(:[^]+)/,kt+"box-$1$2"+hr+"flex-$1$2")+t;case 5443:return kt+t+hr+"flex-item-"+Lt(t,/flex-|-self/,"")+t;case 4675:return kt+t+hr+"flex-line-pack"+Lt(t,/align-content|flex-|-self/,"")+t;case 5548:return kt+t+hr+Lt(t,"shrink","negative")+t;case 5292:return kt+t+hr+Lt(t,"basis","preferred-size")+t;case 6060:return kt+"box-"+Lt(t,"-grow","")+kt+t+hr+Lt(t,"grow","positive")+t;case 4554:return kt+Lt(t,/([^-])(transform)/g,"$1"+kt+"$2")+t;case 6187:return Lt(Lt(Lt(t,/(zoom-|grab)/,kt+"$1"),/(image-set)/,kt+"$1"),t,"")+t;case 5495:case 3959:return Lt(t,/(image-set\([^]*)/,kt+"$1$`$1");case 4968:return Lt(Lt(t,/(.+:)(flex-)?(.*)/,kt+"box-pack:$3"+hr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+kt+t+t;case 4095:case 3583:case 4068:case 2532:return Lt(t,/(.+)-inline(.+)/,kt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(aa(t)-1-e>6)switch(sr(t,e+1)){case 109:if(sr(t,e+4)!==45)break;case 102:return Lt(t,/(.+:)(.+)-([^]+)/,"$1"+kt+"$2-$3$1"+Pp+(sr(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~zb(t,"stretch")?ZP(Lt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(sr(t,e+1)!==115)break;case 6444:switch(sr(t,aa(t)-3-(~zb(t,"!important")&&10))){case 107:return Lt(t,":",":"+kt)+t;case 101:return Lt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+kt+(sr(t,14)===45?"inline-":"")+"box$3$1"+kt+"$2$3$1"+hr+"$2box$3")+t}break;case 5936:switch(sr(t,e+11)){case 114:return kt+t+hr+Lt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return kt+t+hr+Lt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return kt+t+hr+Lt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return kt+t+hr+t+t}return t}var cK=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case i_:e.return=ZP(e.value,e.length);break;case KP:return Nu([ld(e,{value:Lt(e.value,"@","@"+kt)})],i);case r_:if(e.length)return GG(e.props,function(o){switch(qG(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Nu([ld(e,{props:[Lt(o,/:(read-\w+)/,":"+Pp+"$1")]})],i);case"::placeholder":return Nu([ld(e,{props:[Lt(o,/:(plac\w+)/,":"+kt+"input-$1")]}),ld(e,{props:[Lt(o,/:(plac\w+)/,":"+Pp+"$1")]}),ld(e,{props:[Lt(o,/:(plac\w+)/,hr+"input-$1")]})],i)}return""})}},dK=[cK],fK=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(P){var U=P.getAttribute("data-emotion");U.indexOf(" ")!==-1&&(document.head.appendChild(P),P.setAttribute("data-s",""))})}var i=e.stylisPlugins||dK,o={},l,c=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(P){for(var U=P.getAttribute("data-emotion").split(" "),j=1;j<U.length;j++)o[U[j]]=!0;c.push(P)});var d,h=[lK,uK];{var p,y=[tK,rK(function(P){p.insert(P)})],w=nK(h.concat(i,y)),A=function(U){return Nu(JG(U),w)};d=function(U,j,q,H){p=q,A(U?U+"{"+j.styles+"}":j.styles),H&&(N.inserted[j.name]=!0)}}var N={key:n,sheet:new UG({key:n,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:d};return N.sheet.hydrate(c),N},d0={exports:{}},Bt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SC;function hK(){if(SC)return Bt;SC=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,l=t?Symbol.for("react.provider"):60109,c=t?Symbol.for("react.context"):60110,d=t?Symbol.for("react.async_mode"):60111,h=t?Symbol.for("react.concurrent_mode"):60111,p=t?Symbol.for("react.forward_ref"):60112,y=t?Symbol.for("react.suspense"):60113,w=t?Symbol.for("react.suspense_list"):60120,A=t?Symbol.for("react.memo"):60115,N=t?Symbol.for("react.lazy"):60116,P=t?Symbol.for("react.block"):60121,U=t?Symbol.for("react.fundamental"):60117,j=t?Symbol.for("react.responder"):60118,q=t?Symbol.for("react.scope"):60119;function H(O){if(typeof O=="object"&&O!==null){var M=O.$$typeof;switch(M){case e:switch(O=O.type,O){case d:case h:case r:case o:case i:case y:return O;default:switch(O=O&&O.$$typeof,O){case c:case p:case N:case A:case l:return O;default:return M}}case n:return M}}}function X(O){return H(O)===h}return Bt.AsyncMode=d,Bt.ConcurrentMode=h,Bt.ContextConsumer=c,Bt.ContextProvider=l,Bt.Element=e,Bt.ForwardRef=p,Bt.Fragment=r,Bt.Lazy=N,Bt.Memo=A,Bt.Portal=n,Bt.Profiler=o,Bt.StrictMode=i,Bt.Suspense=y,Bt.isAsyncMode=function(O){return X(O)||H(O)===d},Bt.isConcurrentMode=X,Bt.isContextConsumer=function(O){return H(O)===c},Bt.isContextProvider=function(O){return H(O)===l},Bt.isElement=function(O){return typeof O=="object"&&O!==null&&O.$$typeof===e},Bt.isForwardRef=function(O){return H(O)===p},Bt.isFragment=function(O){return H(O)===r},Bt.isLazy=function(O){return H(O)===N},Bt.isMemo=function(O){return H(O)===A},Bt.isPortal=function(O){return H(O)===n},Bt.isProfiler=function(O){return H(O)===o},Bt.isStrictMode=function(O){return H(O)===i},Bt.isSuspense=function(O){return H(O)===y},Bt.isValidElementType=function(O){return typeof O=="string"||typeof O=="function"||O===r||O===h||O===o||O===i||O===y||O===w||typeof O=="object"&&O!==null&&(O.$$typeof===N||O.$$typeof===A||O.$$typeof===l||O.$$typeof===c||O.$$typeof===p||O.$$typeof===U||O.$$typeof===j||O.$$typeof===q||O.$$typeof===P)},Bt.typeOf=H,Bt}var TC;function mK(){return TC||(TC=1,d0.exports=hK()),d0.exports}var f0,EC;function pK(){if(EC)return f0;EC=1;var t=mK(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[t.ForwardRef]=r,o[t.Memo]=i;function l(N){return t.isMemo(N)?i:o[N.$$typeof]||e}var c=Object.defineProperty,d=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,y=Object.getPrototypeOf,w=Object.prototype;function A(N,P,U){if(typeof P!="string"){if(w){var j=y(P);j&&j!==w&&A(N,j,U)}var q=d(P);h&&(q=q.concat(h(P)));for(var H=l(N),X=l(P),O=0;O<q.length;++O){var M=q[O];if(!n[M]&&!(U&&U[M])&&!(X&&X[M])&&!(H&&H[M])){var C=p(P,M);try{c(N,M,C)}catch{}}}}return N}return f0=A,f0}pK();var gK=!0;function vK(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var JP=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||gK===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},yK=function(e,n,r){JP(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function bK(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var wK={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},xK=/[A-Z]|^ms/g,_K=/_EMO_([^_]+?)_([^]*?)_EMO_/g,eD=function(e){return e.charCodeAt(1)===45},AC=function(e){return e!=null&&typeof e!="boolean"},h0=iK(function(t){return eD(t)?t:t.replace(xK,"-$&").toLowerCase()}),CC=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(_K,function(r,i,o){return sa={name:i,styles:o,next:sa},i})}return wK[e]!==1&&!eD(e)&&typeof n=="number"&&n!==0?n+"px":n};function cf(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return sa={name:i.name,styles:i.styles,next:sa},i.name;var o=n;if(o.styles!==void 0){var l=o.next;if(l!==void 0)for(;l!==void 0;)sa={name:l.name,styles:l.styles,next:sa},l=l.next;var c=o.styles+";";return c}return SK(t,e,n)}case"function":{if(t!==void 0){var d=sa,h=n(t);return sa=d,cf(t,e,h)}break}}var p=n;return p}function SK(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=cf(t,e,n[i])+";";else for(var o in n){var l=n[o];if(typeof l!="object"){var c=l;AC(c)&&(r+=h0(o)+":"+CC(o,c)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&e==null)for(var d=0;d<l.length;d++)AC(l[d])&&(r+=h0(o)+":"+CC(o,l[d])+";");else{var h=cf(t,e,l);switch(o){case"animation":case"animationName":{r+=h0(o)+":"+h+";";break}default:r+=o+"{"+h+"}"}}}return r}var RC=/label:\s*([^\s;{]+)\s*(;|$)/g,sa;function tD(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";sa=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=cf(n,e,o);else{var l=o;i+=l[0]}for(var c=1;c<t.length;c++)if(i+=cf(n,e,t[c]),r){var d=o;i+=d[c]}RC.lastIndex=0;for(var h="",p;(p=RC.exec(i))!==null;)h+="-"+p[1];var y=bK(i)+h;return{name:y,styles:i,next:sa}}var TK=function(e){return e()},EK=PT.useInsertionEffect?PT.useInsertionEffect:!1,AK=EK||TK,nD=R.createContext(typeof HTMLElement<"u"?fK({key:"css"}):null);nD.Provider;var CK=function(e){return R.forwardRef(function(n,r){var i=R.useContext(nD);return e(n,i,r)})},RK=R.createContext({}),s_={}.hasOwnProperty,Fb="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",NK=function(e,n){var r={};for(var i in n)s_.call(n,i)&&(r[i]=n[i]);return r[Fb]=e,r},IK=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return JP(n,r,i),AK(function(){return yK(n,r,i)}),null},OK=CK(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[Fb],o=[r],l="";typeof t.className=="string"?l=vK(e.registered,o,t.className):t.className!=null&&(l=t.className+" ");var c=tD(o,void 0,R.useContext(RK));l+=e.key+"-"+c.name;var d={};for(var h in t)s_.call(t,h)&&h!=="css"&&h!==Fb&&(d[h]=t[h]);return d.className=l,n&&(d.ref=n),R.createElement(R.Fragment,null,R.createElement(IK,{cache:e,serialized:c,isStringTag:typeof i=="string"}),R.createElement(i,d))}),MK=OK,He=function(e,n){var r=arguments;if(n==null||!s_.call(n,"css"))return R.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=MK,o[1]=NK(e,n);for(var l=2;l<i;l++)o[l]=r[l];return R.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(He||(He={}));function o_(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return tD(e)}function PK(){var t=o_.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function DK(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var jK=MR();const kK=Math.min,LK=Math.max,Dp=Math.round,xm=Math.floor,jp=t=>({x:t,y:t});function VK(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Ag(){return typeof window<"u"}function rD(t){return aD(t)?(t.nodeName||"").toLowerCase():"#document"}function ds(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function iD(t){var e;return(e=(aD(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function aD(t){return Ag()?t instanceof Node||t instanceof ds(t).Node:!1}function UK(t){return Ag()?t instanceof Element||t instanceof ds(t).Element:!1}function l_(t){return Ag()?t instanceof HTMLElement||t instanceof ds(t).HTMLElement:!1}function NC(t){return!Ag()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ds(t).ShadowRoot}const zK=new Set(["inline","contents"]);function sD(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=u_(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!zK.has(i)}function BK(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const FK=new Set(["html","body","#document"]);function HK(t){return FK.has(rD(t))}function u_(t){return ds(t).getComputedStyle(t)}function $K(t){if(rD(t)==="html")return t;const e=t.assignedSlot||t.parentNode||NC(t)&&t.host||iD(t);return NC(e)?e.host:e}function oD(t){const e=$K(t);return HK(e)?t.ownerDocument?t.ownerDocument.body:t.body:l_(e)&&sD(e)?e:oD(e)}function kp(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=oD(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),l=ds(i);if(o){const c=Hb(l);return e.concat(l,l.visualViewport||[],sD(i)?i:[],c&&n?kp(c):[])}return e.concat(i,kp(i,[],n))}function Hb(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function qK(t){const e=u_(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=l_(t),o=i?t.offsetWidth:n,l=i?t.offsetHeight:r,c=Dp(n)!==o||Dp(r)!==l;return c&&(n=o,r=l),{width:n,height:r,$:c}}function c_(t){return UK(t)?t:t.contextElement}function IC(t){const e=c_(t);if(!l_(e))return jp(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=qK(e);let l=(o?Dp(n.width):n.width)/r,c=(o?Dp(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const GK=jp(0);function KK(t){const e=ds(t);return!BK()||!e.visualViewport?GK:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function WK(t,e,n){return!1}function OC(t,e,n,r){e===void 0&&(e=!1);const i=t.getBoundingClientRect(),o=c_(t);let l=jp(1);e&&(l=IC(t));const c=WK()?KK(o):jp(0);let d=(i.left+c.x)/l.x,h=(i.top+c.y)/l.y,p=i.width/l.x,y=i.height/l.y;if(o){const w=ds(o),A=r;let N=w,P=Hb(N);for(;P&&r&&A!==N;){const U=IC(P),j=P.getBoundingClientRect(),q=u_(P),H=j.left+(P.clientLeft+parseFloat(q.paddingLeft))*U.x,X=j.top+(P.clientTop+parseFloat(q.paddingTop))*U.y;d*=U.x,h*=U.y,p*=U.x,y*=U.y,d+=H,h+=X,N=ds(P),P=Hb(N)}}return VK({width:p,height:y,x:d,y:h})}function lD(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function YK(t,e){let n=null,r;const i=iD(t);function o(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),o();const h=t.getBoundingClientRect(),{left:p,top:y,width:w,height:A}=h;if(c||e(),!w||!A)return;const N=xm(y),P=xm(i.clientWidth-(p+w)),U=xm(i.clientHeight-(y+A)),j=xm(p),H={rootMargin:-N+"px "+-P+"px "+-U+"px "+-j+"px",threshold:LK(0,kK(1,d))||1};let X=!0;function O(M){const C=M[0].intersectionRatio;if(C!==d){if(!X)return l();C?l(!1,C):r=setTimeout(()=>{l(!1,1e-7)},1e3)}C===1&&!lD(h,t.getBoundingClientRect())&&l(),X=!1}try{n=new IntersectionObserver(O,{...H,root:i.ownerDocument})}catch{n=new IntersectionObserver(O,H)}n.observe(t)}return l(!0),o}function XK(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,h=c_(t),p=i||o?[...h?kp(h):[],...kp(e)]:[];p.forEach(j=>{i&&j.addEventListener("scroll",n,{passive:!0}),o&&j.addEventListener("resize",n)});const y=h&&c?YK(h,n):null;let w=-1,A=null;l&&(A=new ResizeObserver(j=>{let[q]=j;q&&q.target===h&&A&&(A.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var H;(H=A)==null||H.observe(e)})),n()}),h&&!d&&A.observe(h),A.observe(e));let N,P=d?OC(t):null;d&&U();function U(){const j=OC(t);P&&!lD(P,j)&&n(),P=j,N=requestAnimationFrame(U)}return n(),()=>{var j;p.forEach(q=>{i&&q.removeEventListener("scroll",n),o&&q.removeEventListener("resize",n)}),y?.(),(j=A)==null||j.disconnect(),A=null,d&&cancelAnimationFrame(N)}}var $b=R.useLayoutEffect,QK=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Lp=function(){};function ZK(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function JK(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=[].concat(r);if(e&&t)for(var l in e)e.hasOwnProperty(l)&&e[l]&&o.push("".concat(ZK(t,l)));return o.filter(function(c){return c}).map(function(c){return String(c).trim()}).join(" ")}var MC=function(e){return lW(e)?e.filter(Boolean):hl(e)==="object"&&e!==null?[e]:[]},uD=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=hs(e,QK);return Ye({},n)},yn=function(e,n,r){var i=e.cx,o=e.getStyles,l=e.getClassNames,c=e.className;return{css:o(n,e),className:i(r??{},l(n,e),c)}};function Cg(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function eW(t){return Cg(t)?window.innerHeight:t.clientHeight}function cD(t){return Cg(t)?window.pageYOffset:t.scrollTop}function Vp(t,e){if(Cg(t)){window.scrollTo(0,e);return}t.scrollTop=e}function tW(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function nW(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function _m(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Lp,i=cD(t),o=e-i,l=10,c=0;function d(){c+=l;var h=nW(c,i,o,n);Vp(t,h),c<n?window.requestAnimationFrame(d):r(t)}d()}function PC(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?Vp(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&Vp(t,Math.max(e.offsetTop-i,0))}function rW(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function DC(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function iW(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var dD=!1,aW={get passive(){return dD=!0}},Sm=typeof window<"u"?window:{};Sm.addEventListener&&Sm.removeEventListener&&(Sm.addEventListener("p",Lp,aW),Sm.removeEventListener("p",Lp,!1));var sW=dD;function oW(t){return t!=null}function lW(t){return Array.isArray(t)}function Tm(t,e,n){return t?e:n}var uW=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=Object.entries(e).filter(function(l){var c=rs(l,1),d=c[0];return!r.includes(d)});return o.reduce(function(l,c){var d=rs(c,2),h=d[0],p=d[1];return l[h]=p,l},{})},cW=["children","innerProps"],dW=["children","innerProps"];function fW(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,o=t.shouldScroll,l=t.isFixedPosition,c=t.controlHeight,d=tW(n),h={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return h;var p=d.getBoundingClientRect(),y=p.height,w=n.getBoundingClientRect(),A=w.bottom,N=w.height,P=w.top,U=n.offsetParent.getBoundingClientRect(),j=U.top,q=l?window.innerHeight:eW(d),H=cD(d),X=parseInt(getComputedStyle(n).marginBottom,10),O=parseInt(getComputedStyle(n).marginTop,10),M=j-O,C=q-P,I=M+H,E=y-H-P,S=A-q+H+X,k=H+P-O,F=160;switch(i){case"auto":case"bottom":if(C>=N)return{placement:"bottom",maxHeight:e};if(E>=N&&!l)return o&&_m(d,S,F),{placement:"bottom",maxHeight:e};if(!l&&E>=r||l&&C>=r){o&&_m(d,S,F);var L=l?C-X:E-X;return{placement:"bottom",maxHeight:L}}if(i==="auto"||l){var Q=e,Z=l?M:I;return Z>=r&&(Q=Math.min(Z-X-c,e)),{placement:"top",maxHeight:Q}}if(i==="bottom")return o&&Vp(d,S),{placement:"bottom",maxHeight:e};break;case"top":if(M>=N)return{placement:"top",maxHeight:e};if(I>=N&&!l)return o&&_m(d,k,F),{placement:"top",maxHeight:e};if(!l&&I>=r||l&&M>=r){var B=e;return(!l&&I>=r||l&&M>=r)&&(B=l?M-O:I-O),o&&_m(d,k,F),{placement:"top",maxHeight:B}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return h}function hW(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var fD=function(e){return e==="auto"?"bottom":e},mW=function(e,n){var r,i=e.placement,o=e.theme,l=o.borderRadius,c=o.spacing,d=o.colors;return Ye((r={label:"menu"},Ad(r,hW(i),"100%"),Ad(r,"position","absolute"),Ad(r,"width","100%"),Ad(r,"zIndex",1),r),n?{}:{backgroundColor:d.neutral0,borderRadius:l,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:c.menuGutter,marginTop:c.menuGutter})},hD=R.createContext(null),pW=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,o=e.menuPlacement,l=e.menuPosition,c=e.menuShouldScrollIntoView,d=e.theme,h=R.useContext(hD)||{},p=h.setPortalPlacement,y=R.useRef(null),w=R.useState(i),A=rs(w,2),N=A[0],P=A[1],U=R.useState(null),j=rs(U,2),q=j[0],H=j[1],X=d.spacing.controlHeight;return $b(function(){var O=y.current;if(O){var M=l==="fixed",C=c&&!M,I=fW({maxHeight:i,menuEl:O,minHeight:r,placement:o,shouldScroll:C,isFixedPosition:M,controlHeight:X});P(I.maxHeight),H(I.placement),p?.(I.placement)}},[i,o,l,c,r,p,X]),n({ref:y,placerProps:Ye(Ye({},e),{},{placement:q||fD(o),maxHeight:N})})},gW=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return He("div",tt({},yn(e,"menu",{menu:!0}),{ref:r},i),n)},vW=gW,yW=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return Ye({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},bW=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,o=e.isMulti;return He("div",tt({},yn(e,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:i},r),n)},mD=function(e,n){var r=e.theme,i=r.spacing.baseUnit,o=r.colors;return Ye({textAlign:"center"},n?{}:{color:o.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},wW=mD,xW=mD,_W=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,o=hs(e,cW);return He("div",tt({},yn(Ye(Ye({},o),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},SW=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,o=hs(e,dW);return He("div",tt({},yn(Ye(Ye({},o),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},TW=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},EW=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,o=e.innerProps,l=e.menuPlacement,c=e.menuPosition,d=R.useRef(null),h=R.useRef(null),p=R.useState(fD(l)),y=rs(p,2),w=y[0],A=y[1],N=R.useMemo(function(){return{setPortalPlacement:A}},[]),P=R.useState(null),U=rs(P,2),j=U[0],q=U[1],H=R.useCallback(function(){if(i){var C=rW(i),I=c==="fixed"?0:window.pageYOffset,E=C[w]+I;(E!==j?.offset||C.left!==j?.rect.left||C.width!==j?.rect.width)&&q({offset:E,rect:C})}},[i,c,w,j?.offset,j?.rect.left,j?.rect.width]);$b(function(){H()},[H]);var X=R.useCallback(function(){typeof h.current=="function"&&(h.current(),h.current=null),i&&d.current&&(h.current=XK(i,d.current,H,{elementResize:"ResizeObserver"in window}))},[i,H]);$b(function(){X()},[X]);var O=R.useCallback(function(C){d.current=C,X()},[X]);if(!n&&c!=="fixed"||!j)return null;var M=He("div",tt({ref:O},yn(Ye(Ye({},e),{},{offset:j.offset,position:c,rect:j.rect}),"menuPortal",{"menu-portal":!0}),o),r);return He(hD.Provider,{value:N},n?jK.createPortal(M,n):M)},AW=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},CW=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,o=e.isRtl;return He("div",tt({},yn(e,"container",{"--is-disabled":i,"--is-rtl":o}),r),n)},RW=function(e,n){var r=e.theme.spacing,i=e.isMulti,o=e.hasValue,l=e.selectProps.controlShouldRenderValue;return Ye({alignItems:"center",display:i&&o&&l?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},NW=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,o=e.hasValue;return He("div",tt({},yn(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":o}),r),n)},IW=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},OW=function(e){var n=e.children,r=e.innerProps;return He("div",tt({},yn(e,"indicatorsContainer",{indicators:!0}),r),n)},jC,MW=["size"],PW=["innerProps","isRtl","size"],DW={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},pD=function(e){var n=e.size,r=hs(e,MW);return He("svg",tt({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:DW},r))},d_=function(e){return He(pD,tt({size:20},e),He("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},gD=function(e){return He(pD,tt({size:20},e),He("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},vD=function(e,n){var r=e.isFocused,i=e.theme,o=i.spacing.baseUnit,l=i.colors;return Ye({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?l.neutral60:l.neutral20,padding:o*2,":hover":{color:r?l.neutral80:l.neutral40}})},jW=vD,kW=function(e){var n=e.children,r=e.innerProps;return He("div",tt({},yn(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||He(gD,null))},LW=vD,VW=function(e){var n=e.children,r=e.innerProps;return He("div",tt({},yn(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||He(d_,null))},UW=function(e,n){var r=e.isDisabled,i=e.theme,o=i.spacing.baseUnit,l=i.colors;return Ye({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?l.neutral10:l.neutral20,marginBottom:o*2,marginTop:o*2})},zW=function(e){var n=e.innerProps;return He("span",tt({},n,yn(e,"indicatorSeparator",{"indicator-separator":!0})))},BW=PK(jC||(jC=DK([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),FW=function(e,n){var r=e.isFocused,i=e.size,o=e.theme,l=o.colors,c=o.spacing.baseUnit;return Ye({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?l.neutral60:l.neutral20,padding:c*2})},m0=function(e){var n=e.delay,r=e.offset;return He("span",{css:o_({animation:"".concat(BW," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},HW=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,o=i===void 0?4:i,l=hs(e,PW);return He("div",tt({},yn(Ye(Ye({},l),{},{innerProps:n,isRtl:r,size:o}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),He(m0,{delay:0,offset:r}),He(m0,{delay:160,offset:!0}),He(m0,{delay:320,offset:!r}))},$W=function(e,n){var r=e.isDisabled,i=e.isFocused,o=e.theme,l=o.colors,c=o.borderRadius,d=o.spacing;return Ye({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:d.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?l.neutral5:l.neutral0,borderColor:r?l.neutral10:i?l.primary:l.neutral20,borderRadius:c,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(l.primary):void 0,"&:hover":{borderColor:i?l.primary:l.neutral30}})},qW=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,o=e.innerRef,l=e.innerProps,c=e.menuIsOpen;return He("div",tt({ref:o},yn(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":c}),l,{"aria-disabled":r||void 0}),n)},GW=qW,KW=["data"],WW=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},YW=function(e){var n=e.children,r=e.cx,i=e.getStyles,o=e.getClassNames,l=e.Heading,c=e.headingProps,d=e.innerProps,h=e.label,p=e.theme,y=e.selectProps;return He("div",tt({},yn(e,"group",{group:!0}),d),He(l,tt({},c,{selectProps:y,theme:p,getStyles:i,getClassNames:o,cx:r}),h),He("div",null,n))},XW=function(e,n){var r=e.theme,i=r.colors,o=r.spacing;return Ye({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"})},QW=function(e){var n=uD(e);n.data;var r=hs(n,KW);return He("div",tt({},yn(e,"groupHeading",{"group-heading":!0}),r))},ZW=YW,JW=["innerRef","isDisabled","isHidden","inputClassName"],eY=function(e,n){var r=e.isDisabled,i=e.value,o=e.theme,l=o.spacing,c=o.colors;return Ye(Ye({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},tY),n?{}:{margin:l.baseUnit/2,paddingBottom:l.baseUnit/2,paddingTop:l.baseUnit/2,color:c.neutral80})},yD={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},tY={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Ye({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},yD)},nY=function(e){return Ye({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},yD)},rY=function(e){var n=e.cx,r=e.value,i=uD(e),o=i.innerRef,l=i.isDisabled,c=i.isHidden,d=i.inputClassName,h=hs(i,JW);return He("div",tt({},yn(e,"input",{"input-container":!0}),{"data-value":r||""}),He("input",tt({className:n({input:!0},d),ref:o,style:nY(c),disabled:l},h)))},iY=rY,aY=function(e,n){var r=e.theme,i=r.spacing,o=r.borderRadius,l=r.colors;return Ye({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:l.neutral10,borderRadius:o/2,margin:i.baseUnit/2})},sY=function(e,n){var r=e.theme,i=r.borderRadius,o=r.colors,l=e.cropWithEllipsis;return Ye({overflow:"hidden",textOverflow:l||l===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},oY=function(e,n){var r=e.theme,i=r.spacing,o=r.borderRadius,l=r.colors,c=e.isFocused;return Ye({alignItems:"center",display:"flex"},n?{}:{borderRadius:o/2,backgroundColor:c?l.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:l.dangerLight,color:l.danger}})},bD=function(e){var n=e.children,r=e.innerProps;return He("div",r,n)},lY=bD,uY=bD;function cY(t){var e=t.children,n=t.innerProps;return He("div",tt({role:"button"},n),e||He(d_,{size:14}))}var dY=function(e){var n=e.children,r=e.components,i=e.data,o=e.innerProps,l=e.isDisabled,c=e.removeProps,d=e.selectProps,h=r.Container,p=r.Label,y=r.Remove;return He(h,{data:i,innerProps:Ye(Ye({},yn(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":l})),o),selectProps:d},He(p,{data:i,innerProps:Ye({},yn(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:d},n),He(y,{data:i,innerProps:Ye(Ye({},yn(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},c),selectProps:d}))},fY=dY,hY=function(e,n){var r=e.isDisabled,i=e.isFocused,o=e.isSelected,l=e.theme,c=l.spacing,d=l.colors;return Ye({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:o?d.primary:i?d.primary25:"transparent",color:r?d.neutral20:o?d.neutral0:"inherit",padding:"".concat(c.baseUnit*2,"px ").concat(c.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:o?d.primary:d.primary50}})},mY=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,o=e.isSelected,l=e.innerRef,c=e.innerProps;return He("div",tt({},yn(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":o}),{ref:l,"aria-disabled":r},c),n)},pY=mY,gY=function(e,n){var r=e.theme,i=r.spacing,o=r.colors;return Ye({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:o.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},vY=function(e){var n=e.children,r=e.innerProps;return He("div",tt({},yn(e,"placeholder",{placeholder:!0}),r),n)},yY=vY,bY=function(e,n){var r=e.isDisabled,i=e.theme,o=i.spacing,l=i.colors;return Ye({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?l.neutral40:l.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},wY=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return He("div",tt({},yn(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},xY=wY,Rg={ClearIndicator:VW,Control:GW,DropdownIndicator:kW,DownChevron:gD,CrossIcon:d_,Group:ZW,GroupHeading:QW,IndicatorsContainer:OW,IndicatorSeparator:zW,Input:iY,LoadingIndicator:HW,Menu:vW,MenuList:bW,MenuPortal:EW,LoadingMessage:SW,NoOptionsMessage:_W,MultiValue:fY,MultiValueContainer:lY,MultiValueLabel:uY,MultiValueRemove:cY,Option:pY,Placeholder:yY,SelectContainer:CW,SingleValue:xY,ValueContainer:NW},_Y=function(e){return Ye(Ye({},Rg),e.components)},kC=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function SY(t,e){return!!(t===e||kC(t)&&kC(e))}function TY(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!SY(t[n],e[n]))return!1;return!0}function EY(t,e){e===void 0&&(e=TY);var n=null;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var l=t.apply(this,i);return n={lastResult:l,lastArgs:i,lastThis:this},l}return r.clear=function(){n=null},r}var AY={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},CY=function(e){return He("span",tt({css:AY},e))},LC=CY,RY={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,o=e.context,l=e.isInitialFocus;switch(o){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return l?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,o=e.labels,l=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return l?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,o=e.label,l=o===void 0?"":o,c=e.selectValue,d=e.isDisabled,h=e.isSelected,p=e.isAppleDevice,y=function(P,U){return P&&P.length?"".concat(P.indexOf(U)+1," of ").concat(P.length):""};if(n==="value"&&c)return"value ".concat(l," focused, ").concat(y(c,r),".");if(n==="menu"&&p){var w=d?" disabled":"",A="".concat(h?" selected":"").concat(w);return"".concat(l).concat(A,", ").concat(y(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},NY=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,o=e.focusableOptions,l=e.isFocused,c=e.selectValue,d=e.selectProps,h=e.id,p=e.isAppleDevice,y=d.ariaLiveMessages,w=d.getOptionLabel,A=d.inputValue,N=d.isMulti,P=d.isOptionDisabled,U=d.isSearchable,j=d.menuIsOpen,q=d.options,H=d.screenReaderStatus,X=d.tabSelectsValue,O=d.isLoading,M=d["aria-label"],C=d["aria-live"],I=R.useMemo(function(){return Ye(Ye({},RY),y||{})},[y]),E=R.useMemo(function(){var Z="";if(n&&I.onChange){var B=n.option,T=n.options,J=n.removedValue,K=n.removedValues,x=n.value,z=function(Ee){return Array.isArray(Ee)?null:Ee},Y=J||B||z(x),W=Y?w(Y):"",ne=T||K||void 0,ae=ne?ne.map(w):[],le=Ye({isDisabled:Y&&P(Y,c),label:W,labels:ae},n);Z=I.onChange(le)}return Z},[n,I,P,c,w]),S=R.useMemo(function(){var Z="",B=r||i,T=!!(r&&c&&c.includes(r));if(B&&I.onFocus){var J={focused:B,label:w(B),isDisabled:P(B,c),isSelected:T,options:o,context:B===r?"menu":"value",selectValue:c,isAppleDevice:p};Z=I.onFocus(J)}return Z},[r,i,w,P,I,o,c,p]),k=R.useMemo(function(){var Z="";if(j&&q.length&&!O&&I.onFilter){var B=H({count:o.length});Z=I.onFilter({inputValue:A,resultsMessage:B})}return Z},[o,A,j,I,q,H,O]),F=n?.action==="initial-input-focus",L=R.useMemo(function(){var Z="";if(I.guidance){var B=i?"value":j?"menu":"input";Z=I.guidance({"aria-label":M,context:B,isDisabled:r&&P(r,c),isMulti:N,isSearchable:U,tabSelectsValue:X,isInitialFocus:F})}return Z},[M,r,i,N,P,U,j,I,c,X,F]),Q=He(R.Fragment,null,He("span",{id:"aria-selection"},E),He("span",{id:"aria-focused"},S),He("span",{id:"aria-results"},k),He("span",{id:"aria-guidance"},L));return He(R.Fragment,null,He(LC,{id:h},F&&Q),He(LC,{"aria-live":C,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},l&&!F&&Q))},IY=NY,qb=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],OY=new RegExp("["+qb.map(function(t){return t.letters}).join("")+"]","g"),wD={};for(var p0=0;p0<qb.length;p0++)for(var g0=qb[p0],v0=0;v0<g0.letters.length;v0++)wD[g0.letters[v0]]=g0.base;var xD=function(e){return e.replace(OY,function(n){return wD[n]})},MY=EY(xD),VC=function(e){return e.replace(/^\s+|\s+$/g,"")},PY=function(e){return"".concat(e.label," ").concat(e.value)},DY=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=Ye({ignoreCase:!0,ignoreAccents:!0,stringify:PY,trim:!0,matchFrom:"any"},e),o=i.ignoreCase,l=i.ignoreAccents,c=i.stringify,d=i.trim,h=i.matchFrom,p=d?VC(r):r,y=d?VC(c(n)):c(n);return o&&(p=p.toLowerCase(),y=y.toLowerCase()),l&&(p=MY(p),y=xD(y)),h==="start"?y.substr(0,p.length)===p:y.indexOf(p)>-1}},jY=["innerRef"];function kY(t){var e=t.innerRef,n=hs(t,jY),r=uW(n,"onExited","in","enter","exit","appear");return He("input",tt({ref:e},r,{css:o_({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var LY=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function VY(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,o=t.onTopLeave,l=R.useRef(!1),c=R.useRef(!1),d=R.useRef(0),h=R.useRef(null),p=R.useCallback(function(U,j){if(h.current!==null){var q=h.current,H=q.scrollTop,X=q.scrollHeight,O=q.clientHeight,M=h.current,C=j>0,I=X-O-H,E=!1;I>j&&l.current&&(r&&r(U),l.current=!1),C&&c.current&&(o&&o(U),c.current=!1),C&&j>I?(n&&!l.current&&n(U),M.scrollTop=X,E=!0,l.current=!0):!C&&-j>H&&(i&&!c.current&&i(U),M.scrollTop=0,E=!0,c.current=!0),E&&LY(U)}},[n,r,i,o]),y=R.useCallback(function(U){p(U,U.deltaY)},[p]),w=R.useCallback(function(U){d.current=U.changedTouches[0].clientY},[]),A=R.useCallback(function(U){var j=d.current-U.changedTouches[0].clientY;p(U,j)},[p]),N=R.useCallback(function(U){if(U){var j=sW?{passive:!1}:!1;U.addEventListener("wheel",y,j),U.addEventListener("touchstart",w,j),U.addEventListener("touchmove",A,j)}},[A,w,y]),P=R.useCallback(function(U){U&&(U.removeEventListener("wheel",y,!1),U.removeEventListener("touchstart",w,!1),U.removeEventListener("touchmove",A,!1))},[A,w,y]);return R.useEffect(function(){if(e){var U=h.current;return N(U),function(){P(U)}}},[e,N,P]),function(U){h.current=U}}var UC=["boxSizing","height","overflow","paddingRight","position"],zC={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function BC(t){t.cancelable&&t.preventDefault()}function FC(t){t.stopPropagation()}function HC(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function $C(){return"ontouchstart"in window||navigator.maxTouchPoints}var qC=!!(typeof window<"u"&&window.document&&window.document.createElement),ud=0,au={capture:!1,passive:!1};function UY(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=R.useRef({}),o=R.useRef(null),l=R.useCallback(function(d){if(qC){var h=document.body,p=h&&h.style;if(r&&UC.forEach(function(N){var P=p&&p[N];i.current[N]=P}),r&&ud<1){var y=parseInt(i.current.paddingRight,10)||0,w=document.body?document.body.clientWidth:0,A=window.innerWidth-w+y||0;Object.keys(zC).forEach(function(N){var P=zC[N];p&&(p[N]=P)}),p&&(p.paddingRight="".concat(A,"px"))}h&&$C()&&(h.addEventListener("touchmove",BC,au),d&&(d.addEventListener("touchstart",HC,au),d.addEventListener("touchmove",FC,au))),ud+=1}},[r]),c=R.useCallback(function(d){if(qC){var h=document.body,p=h&&h.style;ud=Math.max(ud-1,0),r&&ud<1&&UC.forEach(function(y){var w=i.current[y];p&&(p[y]=w)}),h&&$C()&&(h.removeEventListener("touchmove",BC,au),d&&(d.removeEventListener("touchstart",HC,au),d.removeEventListener("touchmove",FC,au)))}},[r]);return R.useEffect(function(){if(e){var d=o.current;return l(d),function(){c(d)}}},[e,l,c]),function(d){o.current=d}}var zY=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},BY={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function FY(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,o=t.onBottomArrive,l=t.onBottomLeave,c=t.onTopArrive,d=t.onTopLeave,h=VY({isEnabled:i,onBottomArrive:o,onBottomLeave:l,onTopArrive:c,onTopLeave:d}),p=UY({isEnabled:n}),y=function(A){h(A),p(A)};return He(R.Fragment,null,n&&He("div",{onClick:zY,css:BY}),e(y))}var HY={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},$Y=function(e){var n=e.name,r=e.onFocus;return He("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:HY,value:"",onChange:function(){}})},qY=$Y;function f_(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function GY(){return f_(/^iPhone/i)}function _D(){return f_(/^Mac/i)}function KY(){return f_(/^iPad/i)||_D()&&navigator.maxTouchPoints>1}function WY(){return GY()||KY()}function YY(){return _D()||WY()}var XY=function(e){return e.label},QY=function(e){return e.label},ZY=function(e){return e.value},JY=function(e){return!!e.isDisabled},eX={clearIndicator:LW,container:AW,control:$W,dropdownIndicator:jW,group:WW,groupHeading:XW,indicatorsContainer:IW,indicatorSeparator:UW,input:eY,loadingIndicator:FW,loadingMessage:xW,menu:mW,menuList:yW,menuPortal:TW,multiValue:aY,multiValueLabel:sY,multiValueRemove:oY,noOptionsMessage:wW,option:hY,placeholder:gY,singleValue:bY,valueContainer:RW},tX={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},nX=4,SD=4,rX=38,iX=SD*2,aX={baseUnit:SD,controlHeight:rX,menuGutter:iX},y0={borderRadius:nX,colors:tX,spacing:aX},sX={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:DC(),captureMenuScroll:!DC(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:DY(),formatGroupLabel:XY,getOptionLabel:QY,getOptionValue:ZY,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:JY,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!iW(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function GC(t,e,n,r){var i=AD(t,e,n),o=CD(t,e,n),l=ED(t,e),c=Up(t,e);return{type:"option",data:e,isDisabled:i,isSelected:o,label:l,value:c,index:r}}function Xm(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(l,c){return GC(t,l,e,c)}).filter(function(l){return WC(t,l)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var o=GC(t,n,e,r);return WC(t,o)?o:void 0}).filter(oW)}function TD(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,n_(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function KC(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,n_(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function oX(t,e){return TD(Xm(t,e))}function WC(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,o=e.isSelected,l=e.label,c=e.value;return(!ND(t)||!o)&&RD(t,{label:l,value:c,data:i},r)}function lX(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var o=e.indexOf(n);if(o>-1)return n;if(i<e.length)return e[i]}return null}function uX(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var b0=function(e,n){var r,i=(r=e.find(function(o){return o.data===n}))===null||r===void 0?void 0:r.id;return i||null},ED=function(e,n){return e.getOptionLabel(n)},Up=function(e,n){return e.getOptionValue(n)};function AD(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function CD(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=Up(t,e);return n.some(function(i){return Up(t,i)===r})}function RD(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var ND=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},cX=1,ID=function(t){IG(n,t);var e=PG(n);function n(r){var i;if(RG(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.controlRef=null,i.getControlRef=function(d){i.controlRef=d},i.focusedOptionRef=null,i.getFocusedOptionRef=function(d){i.focusedOptionRef=d},i.menuListRef=null,i.getMenuListRef=function(d){i.menuListRef=d},i.inputRef=null,i.getInputRef=function(d){i.inputRef=d},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(d,h){var p=i.props,y=p.onChange,w=p.name;h.name=w,i.ariaOnChange(d,h),y(d,h)},i.setValue=function(d,h,p){var y=i.props,w=y.closeMenuOnSelect,A=y.isMulti,N=y.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:N}),w&&(i.setState({inputIsHiddenAfterUpdate:!A}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(d,{action:h,option:p})},i.selectOption=function(d){var h=i.props,p=h.blurInputOnSelect,y=h.isMulti,w=h.name,A=i.state.selectValue,N=y&&i.isOptionSelected(d,A),P=i.isOptionDisabled(d,A);if(N){var U=i.getOptionValue(d);i.setValue(A.filter(function(j){return i.getOptionValue(j)!==U}),"deselect-option",d)}else if(!P)y?i.setValue([].concat(n_(A),[d]),"select-option",d):i.setValue(d,"select-option");else{i.ariaOnChange(d,{action:"select-option",option:d,name:w});return}p&&i.blurInput()},i.removeValue=function(d){var h=i.props.isMulti,p=i.state.selectValue,y=i.getOptionValue(d),w=p.filter(function(N){return i.getOptionValue(N)!==y}),A=Tm(h,w,w[0]||null);i.onChange(A,{action:"remove-value",removedValue:d}),i.focusInput()},i.clearValue=function(){var d=i.state.selectValue;i.onChange(Tm(i.props.isMulti,[],null),{action:"clear",removedValues:d})},i.popValue=function(){var d=i.props.isMulti,h=i.state.selectValue,p=h[h.length-1],y=h.slice(0,h.length-1),w=Tm(d,y,y[0]||null);p&&i.onChange(w,{action:"pop-value",removedValue:p})},i.getFocusedOptionId=function(d){return b0(i.state.focusableOptionsWithIds,d)},i.getFocusableOptionsWithIds=function(){return KC(Xm(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];return JK.apply(void 0,[i.props.classNamePrefix].concat(h))},i.getOptionLabel=function(d){return ED(i.props,d)},i.getOptionValue=function(d){return Up(i.props,d)},i.getStyles=function(d,h){var p=i.props.unstyled,y=eX[d](h,p);y.boxSizing="border-box";var w=i.props.styles[d];return w?w(y,h):y},i.getClassNames=function(d,h){var p,y;return(p=(y=i.props.classNames)[d])===null||p===void 0?void 0:p.call(y,h)},i.getElementId=function(d){return"".concat(i.state.instancePrefix,"-").concat(d)},i.getComponents=function(){return _Y(i.props)},i.buildCategorizedOptions=function(){return Xm(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return TD(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(d,h){i.setState({ariaSelection:Ye({value:d},h)})},i.onMenuMouseDown=function(d){d.button===0&&(d.stopPropagation(),d.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(d){i.blockOptionHover=!1},i.onControlMouseDown=function(d){if(!d.defaultPrevented){var h=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&i.onMenuClose():h&&i.openMenu("first"):(h&&(i.openAfterFocus=!0),i.focusInput()),d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&d.preventDefault()}},i.onDropdownIndicatorMouseDown=function(d){if(!(d&&d.type==="mousedown"&&d.button!==0)&&!i.props.isDisabled){var h=i.props,p=h.isMulti,y=h.menuIsOpen;i.focusInput(),y?(i.setState({inputIsHiddenAfterUpdate:!p}),i.onMenuClose()):i.openMenu("first"),d.preventDefault()}},i.onClearIndicatorMouseDown=function(d){d&&d.type==="mousedown"&&d.button!==0||(i.clearValue(),d.preventDefault(),i.openAfterFocus=!1,d.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(d){typeof i.props.closeMenuOnScroll=="boolean"?d.target instanceof HTMLElement&&Cg(d.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(d)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(d){var h=d.touches,p=h&&h.item(0);p&&(i.initialTouchX=p.clientX,i.initialTouchY=p.clientY,i.userIsDragging=!1)},i.onTouchMove=function(d){var h=d.touches,p=h&&h.item(0);if(p){var y=Math.abs(p.clientX-i.initialTouchX),w=Math.abs(p.clientY-i.initialTouchY),A=5;i.userIsDragging=y>A||w>A}},i.onTouchEnd=function(d){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(d.target)&&i.menuListRef&&!i.menuListRef.contains(d.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(d){i.userIsDragging||i.onControlMouseDown(d)},i.onClearIndicatorTouchEnd=function(d){i.userIsDragging||i.onClearIndicatorMouseDown(d)},i.onDropdownIndicatorTouchEnd=function(d){i.userIsDragging||i.onDropdownIndicatorMouseDown(d)},i.handleInputChange=function(d){var h=i.props.inputValue,p=d.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(p,{action:"input-change",prevInputValue:h}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(d){i.props.onFocus&&i.props.onFocus(d),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(d){var h=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(d),i.onInputChange("",{action:"input-blur",prevInputValue:h}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(d){if(!(i.blockOptionHover||i.state.focusedOption===d)){var h=i.getFocusableOptions(),p=h.indexOf(d);i.setState({focusedOption:d,focusedOptionId:p>-1?i.getFocusedOptionId(d):null})}},i.shouldHideSelectedOptions=function(){return ND(i.props)},i.onValueInputFocus=function(d){d.preventDefault(),d.stopPropagation(),i.focus()},i.onKeyDown=function(d){var h=i.props,p=h.isMulti,y=h.backspaceRemovesValue,w=h.escapeClearsValue,A=h.inputValue,N=h.isClearable,P=h.isDisabled,U=h.menuIsOpen,j=h.onKeyDown,q=h.tabSelectsValue,H=h.openMenuOnFocus,X=i.state,O=X.focusedOption,M=X.focusedValue,C=X.selectValue;if(!P&&!(typeof j=="function"&&(j(d),d.defaultPrevented))){switch(i.blockOptionHover=!0,d.key){case"ArrowLeft":if(!p||A)return;i.focusValue("previous");break;case"ArrowRight":if(!p||A)return;i.focusValue("next");break;case"Delete":case"Backspace":if(A)return;if(M)i.removeValue(M);else{if(!y)return;p?i.popValue():N&&i.clearValue()}break;case"Tab":if(i.isComposing||d.shiftKey||!U||!q||!O||H&&i.isOptionSelected(O,C))return;i.selectOption(O);break;case"Enter":if(d.keyCode===229)break;if(U){if(!O||i.isComposing)return;i.selectOption(O);break}return;case"Escape":U?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:A}),i.onMenuClose()):N&&w&&i.clearValue();break;case" ":if(A)return;if(!U){i.openMenu("first");break}if(!O)return;i.selectOption(O);break;case"ArrowUp":U?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":U?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!U)return;i.focusOption("pageup");break;case"PageDown":if(!U)return;i.focusOption("pagedown");break;case"Home":if(!U)return;i.focusOption("first");break;case"End":if(!U)return;i.focusOption("last");break;default:return}d.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++cX),i.state.selectValue=MC(r.value),r.menuIsOpen&&i.state.selectValue.length){var o=i.getFocusableOptionsWithIds(),l=i.buildFocusableOptions(),c=l.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=o,i.state.focusedOption=l[c],i.state.focusedOptionId=b0(o,l[c])}return i}return NG(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&PC(this.menuListRef,this.focusedOptionRef),YY()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(i){var o=this.props,l=o.isDisabled,c=o.menuIsOpen,d=this.state.isFocused;(d&&!l&&i.isDisabled||d&&c&&!i.menuIsOpen)&&this.focusInput(),d&&l&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!d&&!l&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(PC(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,o){this.props.onInputChange(i,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var o=this,l=this.state,c=l.selectValue,d=l.isFocused,h=this.buildFocusableOptions(),p=i==="first"?0:h.length-1;if(!this.props.isMulti){var y=h.indexOf(c[0]);y>-1&&(p=y)}this.scrollToFocusedOptionOnUpdate=!(d&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:h[p],focusedOptionId:this.getFocusedOptionId(h[p])},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(i){var o=this.state,l=o.selectValue,c=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var d=l.indexOf(c);c||(d=-1);var h=l.length-1,p=-1;if(l.length){switch(i){case"previous":d===0?p=0:d===-1?p=h:p=d-1;break;case"next":d>-1&&d<h&&(p=d+1);break}this.setState({inputIsHidden:p!==-1,focusedValue:l[p]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,l=this.state.focusedOption,c=this.getFocusableOptions();if(c.length){var d=0,h=c.indexOf(l);l||(h=-1),i==="up"?d=h>0?h-1:c.length-1:i==="down"?d=(h+1)%c.length:i==="pageup"?(d=h-o,d<0&&(d=0)):i==="pagedown"?(d=h+o,d>c.length-1&&(d=c.length-1)):i==="last"&&(d=c.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:c[d],focusedValue:null,focusedOptionId:this.getFocusedOptionId(c[d])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(y0):Ye(Ye({},y0),this.props.theme):y0}},{key:"getCommonProps",value:function(){var i=this.clearValue,o=this.cx,l=this.getStyles,c=this.getClassNames,d=this.getValue,h=this.selectOption,p=this.setValue,y=this.props,w=y.isMulti,A=y.isRtl,N=y.options,P=this.hasValue();return{clearValue:i,cx:o,getStyles:l,getClassNames:c,getValue:d,hasValue:P,isMulti:w,isRtl:A,options:N,selectOption:h,selectProps:y,setValue:p,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,o=i.isClearable,l=i.isMulti;return o===void 0?l:o}},{key:"isOptionDisabled",value:function(i,o){return AD(this.props,i,o)}},{key:"isOptionSelected",value:function(i,o){return CD(this.props,i,o)}},{key:"filterOption",value:function(i,o){return RD(this.props,i,o)}},{key:"formatOptionLabel",value:function(i,o){if(typeof this.props.formatOptionLabel=="function"){var l=this.props.inputValue,c=this.state.selectValue;return this.props.formatOptionLabel(i,{context:o,inputValue:l,selectValue:c})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,o=i.isDisabled,l=i.isSearchable,c=i.inputId,d=i.inputValue,h=i.tabIndex,p=i.form,y=i.menuIsOpen,w=i.required,A=this.getComponents(),N=A.Input,P=this.state,U=P.inputIsHidden,j=P.ariaSelection,q=this.commonProps,H=c||this.getElementId("input"),X=Ye(Ye(Ye({"aria-autocomplete":"list","aria-expanded":y,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":w,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},y&&{"aria-controls":this.getElementId("listbox")}),!l&&{"aria-readonly":!0}),this.hasValue()?j?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return l?R.createElement(N,tt({},q,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:H,innerRef:this.getInputRef,isDisabled:o,isHidden:U,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:h,form:p,type:"text",value:d},X)):R.createElement(kY,tt({id:H,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Lp,onFocus:this.onInputFocus,disabled:o,tabIndex:h,inputMode:"none",form:p,value:""},X))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,o=this.getComponents(),l=o.MultiValue,c=o.MultiValueContainer,d=o.MultiValueLabel,h=o.MultiValueRemove,p=o.SingleValue,y=o.Placeholder,w=this.commonProps,A=this.props,N=A.controlShouldRenderValue,P=A.isDisabled,U=A.isMulti,j=A.inputValue,q=A.placeholder,H=this.state,X=H.selectValue,O=H.focusedValue,M=H.isFocused;if(!this.hasValue()||!N)return j?null:R.createElement(y,tt({},w,{key:"placeholder",isDisabled:P,isFocused:M,innerProps:{id:this.getElementId("placeholder")}}),q);if(U)return X.map(function(I,E){var S=I===O,k="".concat(i.getOptionLabel(I),"-").concat(i.getOptionValue(I));return R.createElement(l,tt({},w,{components:{Container:c,Label:d,Remove:h},isFocused:S,isDisabled:P,key:k,index:E,removeProps:{onClick:function(){return i.removeValue(I)},onTouchEnd:function(){return i.removeValue(I)},onMouseDown:function(L){L.preventDefault()}},data:I}),i.formatOptionLabel(I,"value"))});if(j)return null;var C=X[0];return R.createElement(p,tt({},w,{data:C,isDisabled:P}),this.formatOptionLabel(C,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),o=i.ClearIndicator,l=this.commonProps,c=this.props,d=c.isDisabled,h=c.isLoading,p=this.state.isFocused;if(!this.isClearable()||!o||d||!this.hasValue()||h)return null;var y={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return R.createElement(o,tt({},l,{innerProps:y,isFocused:p}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),o=i.LoadingIndicator,l=this.commonProps,c=this.props,d=c.isDisabled,h=c.isLoading,p=this.state.isFocused;if(!o||!h)return null;var y={"aria-hidden":"true"};return R.createElement(o,tt({},l,{innerProps:y,isDisabled:d,isFocused:p}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator,l=i.IndicatorSeparator;if(!o||!l)return null;var c=this.commonProps,d=this.props.isDisabled,h=this.state.isFocused;return R.createElement(l,tt({},c,{isDisabled:d,isFocused:h}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator;if(!o)return null;var l=this.commonProps,c=this.props.isDisabled,d=this.state.isFocused,h={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return R.createElement(o,tt({},l,{innerProps:h,isDisabled:c,isFocused:d}))}},{key:"renderMenu",value:function(){var i=this,o=this.getComponents(),l=o.Group,c=o.GroupHeading,d=o.Menu,h=o.MenuList,p=o.MenuPortal,y=o.LoadingMessage,w=o.NoOptionsMessage,A=o.Option,N=this.commonProps,P=this.state.focusedOption,U=this.props,j=U.captureMenuScroll,q=U.inputValue,H=U.isLoading,X=U.loadingMessage,O=U.minMenuHeight,M=U.maxMenuHeight,C=U.menuIsOpen,I=U.menuPlacement,E=U.menuPosition,S=U.menuPortalTarget,k=U.menuShouldBlockScroll,F=U.menuShouldScrollIntoView,L=U.noOptionsMessage,Q=U.onMenuScrollToTop,Z=U.onMenuScrollToBottom;if(!C)return null;var B=function(W,ne){var ae=W.type,le=W.data,ge=W.isDisabled,Ee=W.isSelected,Pe=W.label,Ne=W.value,Ue=P===le,We=ge?void 0:function(){return i.onOptionHover(le)},Xe=ge?void 0:function(){return i.selectOption(le)},me="".concat(i.getElementId("option"),"-").concat(ne),Ce={id:me,onClick:Xe,onMouseMove:We,onMouseOver:We,tabIndex:-1,role:"option","aria-selected":i.state.isAppleDevice?void 0:Ee};return R.createElement(A,tt({},N,{innerProps:Ce,data:le,isDisabled:ge,isSelected:Ee,key:me,label:Pe,type:ae,value:Ne,isFocused:Ue,innerRef:Ue?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(W.data,"menu"))},T;if(this.hasOptions())T=this.getCategorizedOptions().map(function(Y){if(Y.type==="group"){var W=Y.data,ne=Y.options,ae=Y.index,le="".concat(i.getElementId("group"),"-").concat(ae),ge="".concat(le,"-heading");return R.createElement(l,tt({},N,{key:le,data:W,options:ne,Heading:c,headingProps:{id:ge,data:Y.data},label:i.formatGroupLabel(Y.data)}),Y.options.map(function(Ee){return B(Ee,"".concat(ae,"-").concat(Ee.index))}))}else if(Y.type==="option")return B(Y,"".concat(Y.index))});else if(H){var J=X({inputValue:q});if(J===null)return null;T=R.createElement(y,N,J)}else{var K=L({inputValue:q});if(K===null)return null;T=R.createElement(w,N,K)}var x={minMenuHeight:O,maxMenuHeight:M,menuPlacement:I,menuPosition:E,menuShouldScrollIntoView:F},z=R.createElement(pW,tt({},N,x),function(Y){var W=Y.ref,ne=Y.placerProps,ae=ne.placement,le=ne.maxHeight;return R.createElement(d,tt({},N,x,{innerRef:W,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:H,placement:ae}),R.createElement(FY,{captureEnabled:j,onTopArrive:Q,onBottomArrive:Z,lockEnabled:k},function(ge){return R.createElement(h,tt({},N,{innerRef:function(Pe){i.getMenuListRef(Pe),ge(Pe)},innerProps:{role:"listbox","aria-multiselectable":N.isMulti,id:i.getElementId("listbox")},isLoading:H,maxHeight:le,focusedOption:P}),T)}))});return S||E==="fixed"?R.createElement(p,tt({},N,{appendTo:S,controlElement:this.controlRef,menuPlacement:I,menuPosition:E}),z):z}},{key:"renderFormField",value:function(){var i=this,o=this.props,l=o.delimiter,c=o.isDisabled,d=o.isMulti,h=o.name,p=o.required,y=this.state.selectValue;if(p&&!this.hasValue()&&!c)return R.createElement(qY,{name:h,onFocus:this.onValueInputFocus});if(!(!h||c))if(d)if(l){var w=y.map(function(P){return i.getOptionValue(P)}).join(l);return R.createElement("input",{name:h,type:"hidden",value:w})}else{var A=y.length>0?y.map(function(P,U){return R.createElement("input",{key:"i-".concat(U),name:h,type:"hidden",value:i.getOptionValue(P)})}):R.createElement("input",{name:h,type:"hidden",value:""});return R.createElement("div",null,A)}else{var N=y[0]?this.getOptionValue(y[0]):"";return R.createElement("input",{name:h,type:"hidden",value:N})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,o=this.state,l=o.ariaSelection,c=o.focusedOption,d=o.focusedValue,h=o.isFocused,p=o.selectValue,y=this.getFocusableOptions();return R.createElement(IY,tt({},i,{id:this.getElementId("live-region"),ariaSelection:l,focusedOption:c,focusedValue:d,isFocused:h,selectValue:p,focusableOptions:y,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),o=i.Control,l=i.IndicatorsContainer,c=i.SelectContainer,d=i.ValueContainer,h=this.props,p=h.className,y=h.id,w=h.isDisabled,A=h.menuIsOpen,N=this.state.isFocused,P=this.commonProps=this.getCommonProps();return R.createElement(c,tt({},P,{className:p,innerProps:{id:y,onKeyDown:this.onKeyDown},isDisabled:w,isFocused:N}),this.renderLiveRegion(),R.createElement(o,tt({},P,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:w,isFocused:N,menuIsOpen:A}),R.createElement(d,tt({},P,{isDisabled:w}),this.renderPlaceholderOrValue(),this.renderInput()),R.createElement(l,tt({},P,{isDisabled:w}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,o){var l=o.prevProps,c=o.clearFocusValueOnUpdate,d=o.inputIsHiddenAfterUpdate,h=o.ariaSelection,p=o.isFocused,y=o.prevWasFocused,w=o.instancePrefix,A=i.options,N=i.value,P=i.menuIsOpen,U=i.inputValue,j=i.isMulti,q=MC(N),H={};if(l&&(N!==l.value||A!==l.options||P!==l.menuIsOpen||U!==l.inputValue)){var X=P?oX(i,q):[],O=P?KC(Xm(i,q),"".concat(w,"-option")):[],M=c?lX(o,q):null,C=uX(o,X),I=b0(O,C);H={selectValue:q,focusedOption:C,focusedOptionId:I,focusableOptionsWithIds:O,focusedValue:M,clearFocusValueOnUpdate:!1}}var E=d!=null&&i!==l?{inputIsHidden:d,inputIsHiddenAfterUpdate:void 0}:{},S=h,k=p&&y;return p&&!k&&(S={value:Tm(j,q,q[0]||null),options:q,action:"initial-input-focus"},k=!y),h?.action==="initial-input-focus"&&(S=null),Ye(Ye(Ye({},H),E),{},{prevProps:i,ariaSelection:S,prevWasFocused:k})}}]),n}(R.Component);ID.defaultProps=sX;var dX=R.forwardRef(function(t,e){var n=CG(t);return R.createElement(ID,tt({ref:e},n))}),df=dX;const fX=JSON.parse(`[{"value":"AF","label":"Afghanistan"},{"value":"AX","label":"land Islands"},{"value":"AL","label":"Albania"},{"value":"DZ","label":"Algeria"},{"value":"AS","label":"American Samoa"},{"value":"AD","label":"Andorra"},{"value":"AO","label":"Angola"},{"value":"AI","label":"Anguilla"},{"value":"AQ","label":"Antarctica"},{"value":"AG","label":"Antigua and Barbuda"},{"value":"AR","label":"Argentina"},{"value":"AM","label":"Armenia"},{"value":"AW","label":"Aruba"},{"value":"AU","label":"Australia"},{"value":"AT","label":"Austria"},{"value":"AZ","label":"Azerbaijan"},{"value":"BS","label":"Bahamas"},{"value":"BH","label":"Bahrain"},{"value":"BD","label":"Bangladesh"},{"value":"BB","label":"Barbados"},{"value":"BY","label":"Belarus"},{"value":"BE","label":"Belgium"},{"value":"BZ","label":"Belize"},{"value":"BJ","label":"Benin"},{"value":"BM","label":"Bermuda"},{"value":"BT","label":"Bhutan"},{"value":"BO","label":"Bolivia, Plurinational State of"},{"value":"BQ","label":"Bonaire, Sint Eustatius and Saba"},{"value":"BA","label":"Bosnia and Herzegovina"},{"value":"BW","label":"Botswana"},{"value":"BV","label":"Bouvet Island"},{"value":"BR","label":"Brazil"},{"value":"IO","label":"British Indian Ocean Territory"},{"value":"BN","label":"Brunei Darussalam"},{"value":"BG","label":"Bulgaria"},{"value":"BF","label":"Burkina Faso"},{"value":"BI","label":"Burundi"},{"value":"CV","label":"Cabo Verde"},{"value":"KH","label":"Cambodia"},{"value":"CM","label":"Cameroon"},{"value":"CA","label":"Canada"},{"value":"KY","label":"Cayman Islands"},{"value":"CF","label":"Central African Republic"},{"value":"TD","label":"Chad"},{"value":"CL","label":"Chile"},{"value":"CN","label":"China"},{"value":"CX","label":"Christmas Island"},{"value":"CC","label":"Cocos (Keeling) Islands"},{"value":"CO","label":"Colombia"},{"value":"KM","label":"Comoros"},{"value":"CG","label":"Congo"},{"value":"CD","label":"Congo, Democratic Republic of the"},{"value":"CK","label":"Cook Islands"},{"value":"CR","label":"Costa Rica"},{"value":"HR","label":"Croatia"},{"value":"CU","label":"Cuba"},{"value":"CW","label":"Curaao"},{"value":"CY","label":"Cyprus"},{"value":"CZ","label":"Czechia"},{"value":"CI","label":"Cte d'Ivoire"},{"value":"DK","label":"Denmark"},{"value":"DJ","label":"Djibouti"},{"value":"DM","label":"Dominica"},{"value":"DO","label":"Dominican Republic"},{"value":"EC","label":"Ecuador"},{"value":"EG","label":"Egypt"},{"value":"SV","label":"El Salvador"},{"value":"GQ","label":"Equatorial Guinea"},{"value":"ER","label":"Eritrea"},{"value":"EE","label":"Estonia"},{"value":"SZ","label":"Eswatini"},{"value":"ET","label":"Ethiopia"},{"value":"FK","label":"Falkland Islands (Malvinas)"},{"value":"FO","label":"Faroe Islands"},{"value":"FJ","label":"Fiji"},{"value":"FI","label":"Finland"},{"value":"FR","label":"France"},{"value":"GF","label":"French Guiana"},{"value":"PF","label":"French Polynesia"},{"value":"TF","label":"French Southern Territories"},{"value":"GA","label":"Gabon"},{"value":"GM","label":"Gambia"},{"value":"GE","label":"Georgia"},{"value":"DE","label":"Germany"},{"value":"GH","label":"Ghana"},{"value":"GI","label":"Gibraltar"},{"value":"GR","label":"Greece"},{"value":"GL","label":"Greenland"},{"value":"GD","label":"Grenada"},{"value":"GP","label":"Guadeloupe"},{"value":"GU","label":"Guam"},{"value":"GT","label":"Guatemala"},{"value":"GG","label":"Guernsey"},{"value":"GN","label":"Guinea"},{"value":"GW","label":"Guinea-Bissau"},{"value":"GY","label":"Guyana"},{"value":"HT","label":"Haiti"},{"value":"HM","label":"Heard Island and McDonald Islands"},{"value":"VA","label":"Holy See"},{"value":"HN","label":"Honduras"},{"value":"HK","label":"Hong Kong"},{"value":"HU","label":"Hungary"},{"value":"IS","label":"Iceland"},{"value":"IN","label":"India"},{"value":"ID","label":"Indonesia"},{"value":"IR","label":"Iran, Islamic Republic of"},{"value":"IQ","label":"Iraq"},{"value":"IE","label":"Ireland"},{"value":"IM","label":"Isle of Man"},{"value":"IL","label":"Israel"},{"value":"IT","label":"Italy"},{"value":"JM","label":"Jamaica"},{"value":"JP","label":"Japan"},{"value":"JE","label":"Jersey"},{"value":"JO","label":"Jordan"},{"value":"KZ","label":"Kazakhstan"},{"value":"KE","label":"Kenya"},{"value":"KI","label":"Kiribati"},{"value":"KP","label":"Korea, Democratic People's Republic of"},{"value":"KR","label":"Korea, Republic of"},{"value":"KW","label":"Kuwait"},{"value":"KG","label":"Kyrgyzstan"},{"value":"LA","label":"Lao People's Democratic Republic"},{"value":"LV","label":"Latvia"},{"value":"LB","label":"Lebanon"},{"value":"LS","label":"Lesotho"},{"value":"LR","label":"Liberia"},{"value":"LY","label":"Libya"},{"value":"LI","label":"Liechtenstein"},{"value":"LT","label":"Lithuania"},{"value":"LU","label":"Luxembourg"},{"value":"MO","label":"Macao"},{"value":"MG","label":"Madagascar"},{"value":"MW","label":"Malawi"},{"value":"MY","label":"Malaysia"},{"value":"MV","label":"Maldives"},{"value":"ML","label":"Mali"},{"value":"MT","label":"Malta"},{"value":"MH","label":"Marshall Islands"},{"value":"MQ","label":"Martinique"},{"value":"MR","label":"Mauritania"},{"value":"MU","label":"Mauritius"},{"value":"YT","label":"Mayotte"},{"value":"MX","label":"Mexico"},{"value":"FM","label":"Micronesia, Federated States of"},{"value":"MD","label":"Moldova, Republic of"},{"value":"MC","label":"Monaco"},{"value":"MN","label":"Mongolia"},{"value":"ME","label":"Montenegro"},{"value":"MS","label":"Montserrat"},{"value":"MA","label":"Morocco"},{"value":"MZ","label":"Mozambique"},{"value":"MM","label":"Myanmar"},{"value":"NA","label":"Namibia"},{"value":"NR","label":"Nauru"},{"value":"NP","label":"Nepal"},{"value":"NL","label":"Netherlands"},{"value":"NC","label":"New Caledonia"},{"value":"NZ","label":"New Zealand"},{"value":"NI","label":"Nicaragua"},{"value":"NE","label":"Niger"},{"value":"NG","label":"Nigeria"},{"value":"NU","label":"Niue"},{"value":"NF","label":"Norfolk Island"},{"value":"MK","label":"North Macedonia"},{"value":"MP","label":"Northern Mariana Islands"},{"value":"NO","label":"Norway"},{"value":"OM","label":"Oman"},{"value":"PK","label":"Pakistan"},{"value":"PW","label":"Palau"},{"value":"PS","label":"Palestine, State of"},{"value":"PA","label":"Panama"},{"value":"PG","label":"Papua New Guinea"},{"value":"PY","label":"Paraguay"},{"value":"PE","label":"Peru"},{"value":"PH","label":"Philippines"},{"value":"PN","label":"Pitcairn"},{"value":"PL","label":"Poland"},{"value":"PT","label":"Portugal"},{"value":"PR","label":"Puerto Rico"},{"value":"QA","label":"Qatar"},{"value":"RO","label":"Romania"},{"value":"RU","label":"Russian Federation"},{"value":"RW","label":"Rwanda"},{"value":"RE","label":"Runion"},{"value":"BL","label":"Saint Barthlemy"},{"value":"SH","label":"Saint Helena, Ascension and Tristan da Cunha"},{"value":"KN","label":"Saint Kitts and Nevis"},{"value":"LC","label":"Saint Lucia"},{"value":"MF","label":"Saint Martin (French part)"},{"value":"PM","label":"Saint Pierre and Miquelon"},{"value":"VC","label":"Saint Vincent and the Grenadines"},{"value":"WS","label":"Samoa"},{"value":"SM","label":"San Marino"},{"value":"ST","label":"Sao Tome and Principe"},{"value":"SA","label":"Saudi Arabia"},{"value":"SN","label":"Senegal"},{"value":"RS","label":"Serbia"},{"value":"SC","label":"Seychelles"},{"value":"SL","label":"Sierra Leone"},{"value":"SG","label":"Singapore"},{"value":"SX","label":"Sint Maarten (Dutch part)"},{"value":"SK","label":"Slovakia"},{"value":"SI","label":"Slovenia"},{"value":"SB","label":"Solomon Islands"},{"value":"SO","label":"Somalia"},{"value":"ZA","label":"South Africa"},{"value":"GS","label":"South Georgia and the South Sandwich Islands"},{"value":"SS","label":"South Sudan"},{"value":"ES","label":"Spain"},{"value":"LK","label":"Sri Lanka"},{"value":"SD","label":"Sudan"},{"value":"SR","label":"Suriname"},{"value":"SJ","label":"Svalbard and Jan Mayen"},{"value":"SE","label":"Sweden"},{"value":"CH","label":"Switzerland"},{"value":"SY","label":"Syrian Arab Republic"},{"value":"TW","label":"Taiwan, Province of China"},{"value":"TJ","label":"Tajikistan"},{"value":"TZ","label":"Tanzania, United Republic of"},{"value":"TH","label":"Thailand"},{"value":"TL","label":"Timor-Leste"},{"value":"TG","label":"Togo"},{"value":"TK","label":"Tokelau"},{"value":"TO","label":"Tonga"},{"value":"TT","label":"Trinidad and Tobago"},{"value":"TN","label":"Tunisia"},{"value":"TR","label":"Turkey"},{"value":"TM","label":"Turkmenistan"},{"value":"TC","label":"Turks and Caicos Islands"},{"value":"TV","label":"Tuvalu"},{"value":"UG","label":"Uganda"},{"value":"UA","label":"Ukraine"},{"value":"AE","label":"United Arab Emirates"},{"value":"GB","label":"United Kingdom"},{"value":"UM","label":"United States Minor Outlying Islands"},{"value":"US","label":"United States"},{"value":"UY","label":"Uruguay"},{"value":"UZ","label":"Uzbekistan"},{"value":"VU","label":"Vanuatu"},{"value":"VE","label":"Venezuela, Bolivarian Republic of"},{"value":"VN","label":"Viet Nam"},{"value":"VG","label":"Virgin Islands, British"},{"value":"VI","label":"Virgin Islands, U.S."},{"value":"WF","label":"Wallis and Futuna"},{"value":"EH","label":"Western Sahara"},{"value":"YE","label":"Yemen"},{"value":"ZM","label":"Zambia"},{"value":"ZW","label":"Zimbabwe"}]`),hX=JSON.parse(`[{"value":"AF","label":""},{"value":"AX","label":"land"},{"value":"AL","label":"Shqipria"},{"value":"DZ","label":""},{"value":"AS","label":"American Samoa"},{"value":"AD","label":"Andorra"},{"value":"AO","label":"Angola"},{"value":"AI","label":"Anguilla"},{"value":"AQ","label":"Antarctica"},{"value":"AG","label":"Antigua and Barbuda"},{"value":"AR","label":"Argentina"},{"value":"AM","label":""},{"value":"AW","label":"Aruba"},{"value":"AU","label":"Australia"},{"value":"AT","label":"sterreich"},{"value":"AZ","label":"Azrbaycan"},{"value":"BS","label":"Bahamas"},{"value":"BH","label":""},{"value":"BD","label":"Bangladesh"},{"value":"BB","label":"Barbados"},{"value":"BY","label":""},{"value":"BE","label":"Belgi"},{"value":"BZ","label":"Belize"},{"value":"BJ","label":"Bnin"},{"value":"BM","label":"Bermuda"},{"value":"BT","label":"brug-yul"},{"value":"BO","label":"Bolivia"},{"value":"BQ","label":"Bonaire"},{"value":"BA","label":"Bosna i Hercegovina"},{"value":"BW","label":"Botswana"},{"value":"BV","label":"Bouvetya"},{"value":"BR","label":"Brasil"},{"value":"IO","label":"British Indian Ocean Territory"},{"value":"BN","label":"Negara Brunei Darussalam"},{"value":"BG","label":""},{"value":"BF","label":"Burkina Faso"},{"value":"BI","label":"Burundi"},{"value":"KH","label":"Kmpcha"},{"value":"CM","label":"Cameroon"},{"value":"CA","label":"Canada"},{"value":"CV","label":"Cabo Verde"},{"value":"KY","label":"Cayman Islands"},{"value":"CF","label":"Kdrsse t Bafrka"},{"value":"TD","label":"Tchad"},{"value":"CL","label":"Chile"},{"value":"CN","label":""},{"value":"CX","label":"Christmas Island"},{"value":"CC","label":"Cocos (Keeling) Islands"},{"value":"CO","label":"Colombia"},{"value":"KM","label":"Komori"},{"value":"CG","label":"Rpublique du Congo"},{"value":"CD","label":"Rpublique dmocratique du Congo"},{"value":"CK","label":"Cook Islands"},{"value":"CR","label":"Costa Rica"},{"value":"CI","label":"Cte d'Ivoire"},{"value":"HR","label":"Hrvatska"},{"value":"CU","label":"Cuba"},{"value":"CW","label":"Curaao"},{"value":"CY","label":""},{"value":"CZ","label":"esk republika"},{"value":"DK","label":"Danmark"},{"value":"DJ","label":"Djibouti"},{"value":"DM","label":"Dominica"},{"value":"DO","label":"Repblica Dominicana"},{"value":"EC","label":"Ecuador"},{"value":"EG","label":""},{"value":"SV","label":"El Salvador"},{"value":"GQ","label":"Guinea Ecuatorial"},{"value":"ER","label":""},{"value":"EE","label":"Eesti"},{"value":"ET","label":""},{"value":"FK","label":"Falkland Islands"},{"value":"FO","label":"Froyar"},{"value":"FJ","label":"Fiji"},{"value":"FI","label":"Suomi"},{"value":"FR","label":"France"},{"value":"GF","label":"Guyane franaise"},{"value":"PF","label":"Polynsie franaise"},{"value":"TF","label":"Territoire des Terres australes et antarctiques fr"},{"value":"GA","label":"Gabon"},{"value":"GM","label":"Gambia"},{"value":"GE","label":""},{"value":"DE","label":"Deutschland"},{"value":"GH","label":"Ghana"},{"value":"GI","label":"Gibraltar"},{"value":"GR","label":""},{"value":"GL","label":"Kalaallit Nunaat"},{"value":"GD","label":"Grenada"},{"value":"GP","label":"Guadeloupe"},{"value":"GU","label":"Guam"},{"value":"GT","label":"Guatemala"},{"value":"GG","label":"Guernsey"},{"value":"GN","label":"Guine"},{"value":"GW","label":"Guin-Bissau"},{"value":"GY","label":"Guyana"},{"value":"HT","label":"Hati"},{"value":"HM","label":"Heard Island and McDonald Islands"},{"value":"VA","label":"Vaticano"},{"value":"HN","label":"Honduras"},{"value":"HK","label":""},{"value":"HU","label":"Magyarorszg"},{"value":"IS","label":"sland"},{"value":"IN","label":""},{"value":"ID","label":"Indonesia"},{"value":"IR","label":""},{"value":"IQ","label":""},{"value":"IE","label":"ire"},{"value":"IM","label":"Isle of Man"},{"value":"IL","label":""},{"value":"IT","label":"Italia"},{"value":"JM","label":"Jamaica"},{"value":"JP","label":""},{"value":"JE","label":"Jersey"},{"value":"JO","label":""},{"value":"KZ","label":""},{"value":"KE","label":"Kenya"},{"value":"KI","label":"Kiribati"},{"value":"KP","label":""},{"value":"KR","label":""},{"value":"KW","label":""},{"value":"KG","label":""},{"value":"LA","label":""},{"value":"LV","label":"Latvija"},{"value":"LB","label":""},{"value":"LS","label":"Lesotho"},{"value":"LR","label":"Liberia"},{"value":"LY","label":""},{"value":"LI","label":"Liechtenstein"},{"value":"LT","label":"Lietuva"},{"value":"LU","label":"Luxembourg"},{"value":"MO","label":""},{"value":"MK","label":" "},{"value":"MG","label":"Madagasikara"},{"value":"MW","label":"Malawi"},{"value":"MY","label":"Malaysia"},{"value":"MV","label":"Maldives"},{"value":"ML","label":"Mali"},{"value":"MT","label":"Malta"},{"value":"MH","label":"Maje"},{"value":"MQ","label":"Martinique"},{"value":"MR","label":""},{"value":"MU","label":"Maurice"},{"value":"YT","label":"Mayotte"},{"value":"MX","label":"Mxico"},{"value":"FM","label":"Micronesia"},{"value":"MD","label":"Moldova"},{"value":"MC","label":"Monaco"},{"value":"MN","label":" "},{"value":"ME","label":" "},{"value":"MS","label":"Montserrat"},{"value":"MA","label":""},{"value":"MZ","label":"Moambique"},{"value":"MM","label":""},{"value":"NA","label":"Namibia"},{"value":"NR","label":"Nauru"},{"value":"NP","label":""},{"value":"NL","label":"Nederland"},{"value":"NC","label":"Nouvelle-Caldonie"},{"value":"NZ","label":"New Zealand"},{"value":"NI","label":"Nicaragua"},{"value":"NE","label":"Niger"},{"value":"NG","label":"Nigeria"},{"value":"NU","label":"Niu"},{"value":"NF","label":"Norfolk Island"},{"value":"MP","label":"Northern Mariana Islands"},{"value":"NO","label":"Norge"},{"value":"OM","label":""},{"value":"PK","label":"Pakistan"},{"value":"PW","label":"Palau"},{"value":"PS","label":""},{"value":"PA","label":"Panam"},{"value":"PG","label":"Papua Niugini"},{"value":"PY","label":"Paraguay"},{"value":"PE","label":"Per"},{"value":"PH","label":"Pilipinas"},{"value":"PN","label":"Pitcairn Islands"},{"value":"PL","label":"Polska"},{"value":"PT","label":"Portugal"},{"value":"PR","label":"Puerto Rico"},{"value":"QA","label":""},{"value":"RE","label":"La Runion"},{"value":"RO","label":"Romnia"},{"value":"RU","label":""},{"value":"RW","label":"Rwanda"},{"value":"BL","label":"Saint-Barthlemy"},{"value":"SH","label":"Saint Helena"},{"value":"KN","label":"Saint Kitts and Nevis"},{"value":"LC","label":"Saint Lucia"},{"value":"MF","label":"Saint-Martin"},{"value":"PM","label":"Saint-Pierre-et-Miquelon"},{"value":"VC","label":"Saint Vincent and the Grenadines"},{"value":"WS","label":"Samoa"},{"value":"SM","label":"San Marino"},{"value":"ST","label":"So Tom e Prncipe"},{"value":"SA","label":" "},{"value":"SN","label":"Sngal"},{"value":"RS","label":""},{"value":"SC","label":"Seychelles"},{"value":"SL","label":"Sierra Leone"},{"value":"SG","label":"Singapore"},{"value":"SX","label":"Sint Maarten"},{"value":"SK","label":"Slovensko"},{"value":"SI","label":"Slovenija"},{"value":"SB","label":"Solomon Islands"},{"value":"SO","label":"Soomaaliya"},{"value":"ZA","label":"South Africa"},{"value":"GS","label":"South Georgia"},{"value":"SS","label":"South Sudan"},{"value":"ES","label":"Espaa"},{"value":"LK","label":"r lakva"},{"value":"SD","label":""},{"value":"SR","label":"Suriname"},{"value":"SJ","label":"Svalbard og Jan Mayen"},{"value":"SZ","label":"Swaziland"},{"value":"SE","label":"Sverige"},{"value":"CH","label":"Schweiz"},{"value":"SY","label":""},{"value":"TW","label":""},{"value":"TJ","label":""},{"value":"TZ","label":"Tanzania"},{"value":"TH","label":""},{"value":"TL","label":"Timor-Leste"},{"value":"TG","label":"Togo"},{"value":"TK","label":"Tokelau"},{"value":"TO","label":"Tonga"},{"value":"TT","label":"Trinidad and Tobago"},{"value":"TN","label":""},{"value":"TR","label":"Trkiye"},{"value":"TM","label":"Trkmenistan"},{"value":"TC","label":"Turks and Caicos Islands"},{"value":"TV","label":"Tuvalu"},{"value":"UG","label":"Uganda"},{"value":"UA","label":""},{"value":"AE","label":"   "},{"value":"GB","label":"United Kingdom"},{"value":"US","label":"United States"},{"value":"UM","label":"United States Minor Outlying Islands"},{"value":"UY","label":"Uruguay"},{"value":"UZ","label":"Ozbekiston"},{"value":"VU","label":"Vanuatu"},{"value":"VE","label":"Venezuela"},{"value":"VN","label":"Vit Nam"},{"value":"VG","label":"British Virgin Islands"},{"value":"VI","label":"United States Virgin Islands"},{"value":"WF","label":"Wallis et Futuna"},{"value":"EH","label":" "},{"value":"YE","label":""},{"value":"ZM","label":"Zambia"},{"value":"ZW","label":"Zimbabwe"}]`);var w0,YC;function mX(){if(YC)return w0;YC=1;class t{constructor(){this.data=fX,this.labelMap={},this.valueMap={},this.data.forEach(r=>{this.labelMap[r.label.toLowerCase()]=r.value,this.valueMap[r.value.toLowerCase()]=r.label})}getValue(r){return this.labelMap[r.toLowerCase()]}getLabel(r){return this.valueMap[r.toLowerCase()]}getLabels(){return this.data.map(r=>r.label)}getValues(){return this.data.map(r=>r.value)}getLabelList(){return this.labelMap}getValueList(){return this.valueMap}getData(){return this.data}setLabel(r,i){return this.data.forEach(o=>{o.value===r&&(o.label=i,this.valueMap[o.value.toLowerCase()]=o.label)}),this}setEmpty(r){return this.data.unshift({value:"",label:r}),this.valueMap[""]=r,this.labelMap[r]="",this}native(){return this.nativeData=hX,this.nativeData.forEach(r=>{this.labelMap[r.label.toLowerCase()]=r.value,this.valueMap[r.value.toLowerCase()]=r.label}),this}}return w0=()=>{if(!(this instanceof t))return new t},w0}var pX=mX();const Gb=Fp(pX),Ii=[{id:"gardening",label:"Gardening Tools",img:"https://images.unsplash.com/photo-1598670207032-cc9236c34d08?auto=format&fit=crop&w=400"},{id:"crochet",label:"Crochet Fashion",img:"https://images.unsplash.com/photo-1599736762058-8eea1774fd5a?auto=format&fit=crop&w=400"},{id:"womens",label:"Women's Clothing",img:"https://images.unsplash.com/photo-1552374196-c4e7ffc6e126?auto=format&fit=crop&w=400"},{id:"mens",label:"Men's Clothing",img:"https://images.unsplash.com/photo-1512436991641-6745cdb1723f?auto=format&fit=crop&w=400"},{id:"hiking",label:"Hiking Gear",img:"https://images.unsplash.com/photo-1542317854-8aa9083bbc24?auto=format&fit=crop&w=400"},{id:"smart_home",label:"Smart Home",img:"https://images.unsplash.com/photo-1600585154340-be6161a56a0c?auto=format&fit=crop&w=400"},{id:"pet",label:"Pet Supplies",img:"https://images.unsplash.com/photo-1560807707-8cc77767d783?auto=format&fit=crop&w=400"},{id:"art_supplies",label:"Art Supplies",img:"https://images.unsplash.com/photo-1523978591478-c753949ff840?auto=format&fit=crop&w=400"},{id:"gaming",label:"Indie Gaming",img:"https://images.unsplash.com/photo-1585079543471-bbacd6e8b468?auto=format&fit=crop&w=400"},{id:"eco",label:"Eco Products",img:"https://images.unsplash.com/photo-1501004318641-b39e6451bec6?auto=format&fit=crop&w=400"},{id:"photography",label:"Photography",img:"https://images.unsplash.com/photo-1499084732479-de2c02d45fc4?auto=format&fit=crop&w=400"},{id:"yoga",label:"Yoga & Wellness",img:"https://images.unsplash.com/photo-1540213292854-43eeb5ddd3f0?auto=format&fit=crop&w=400"},{id:"cooking",label:"Cooking",img:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=400"},{id:"baking",label:"Baking",img:"https://images.unsplash.com/photo-1511690743698-d9d85f2fbf38?auto=format&fit=crop&w=400"},{id:"travel",label:"Travel",img:"https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=400"},{id:"fitness",label:"Fitness",img:"https://images.unsplash.com/photo-1554284126-aa88f22d8f70?auto=format&fit=crop&w=400"},{id:"cycling",label:"Cycling",img:"https://images.unsplash.com/photo-1520975928730-3ccadf0ecdad?auto=format&fit=crop&w=400"},{id:"running",label:"Running",img:"https://images.unsplash.com/photo-1508606572321-901ea4437077?auto=format&fit=crop&w=400"},{id:"camping",label:"Camping",img:"https://images.unsplash.com/photo-1502874757204-7c3b4b6706c6?auto=format&fit=crop&w=400"},{id:"music",label:"Music",img:"https://images.unsplash.com/photo-1511671782779-c97d3d27a1d4?auto=format&fit=crop&w=400"},{id:"movies",label:"Movies",img:"https://images.unsplash.com/photo-1524985069026-dd778a71c7b4?auto=format&fit=crop&w=400"},{id:"books",label:"Books",img:"https://images.unsplash.com/photo-1512820790803-83ca734da794?auto=format&fit=crop&w=400"},{id:"tech",label:"Tech Gadgets",img:"https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=400"},{id:"gaming_pc",label:"PC Gaming",img:"https://images.unsplash.com/photo-1587202372775-1e5f86b142a6?auto=format&fit=crop&w=400"},{id:"board_games",label:"Board Games",img:"https://images.unsplash.com/photo-1518684079-efe9a892b0ca?auto=format&fit=crop&w=400"},{id:"skincare",label:"Skincare",img:"https://images.unsplash.com/photo-1542831371-29b0f74f9713?auto=format&fit=crop&w=400"},{id:"makeup",label:"Makeup",img:"https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?auto=format&fit=crop&w=400"},{id:"jewelry",label:"Jewelry",img:"https://images.unsplash.com/photo-1522312346375-d1a52e2b99b3?auto=format&fit=crop&w=400"},{id:"watches",label:"Watches",img:"https://images.unsplash.com/photo-1518447694973-9dfb4b4fd477?auto=format&fit=crop&w=400"},{id:"coffee",label:"Coffee",img:"https://images.unsplash.com/photo-1509042239860-f550ce710b93?auto=format&fit=crop&w=400"},{id:"tea",label:"Tea",img:"https://images.unsplash.com/photo-1509042239860-f550ce710b93?auto=format&fit=crop&w=400"},{id:"wine",label:"Wine",img:"https://images.unsplash.com/photo-1510626176961-4b587103a3fb?auto=format&fit=crop&w=400"},{id:"beer",label:"Craft Beer",img:"https://images.unsplash.com/photo-1504123010108-59da3b3c7f33?auto=format&fit=crop&w=400"},{id:"fitness_tracker",label:"Wearables",img:"https://images.unsplash.com/photo-1579389083078-889ff329f64c?auto=format&fit=crop&w=400"},{id:"podcasting",label:"Podcasting",img:"https://images.unsplash.com/photo-1517677208171-0bc6725a3e60?auto=format&fit=crop&w=400"},{id:"gardening_flowers",label:"Flower Gardening",img:"https://images.unsplash.com/photo-1490845178177-8e1a6125b208?auto=format&fit=crop&w=400"},{id:"landscaping",label:"Landscaping",img:"https://images.unsplash.com/photo-1501004318641-b39e6451bec6?auto=format&fit=crop&w=400"},{id:"woodworking",label:"Woodworking",img:"https://images.unsplash.com/photo-1509021436665-8f07dbf5bf1d?auto=format&fit=crop&w=400"},{id:"diy",label:"DIY Projects",img:"https://images.unsplash.com/photo-1528756514091-dee94aca7121?auto=format&fit=crop&w=400"},{id:"coding",label:"Coding",img:"https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=400"},{id:"robotics",label:"Robotics",img:"https://images.unsplash.com/photo-1542751110-97427bbecf20?auto=format&fit=crop&w=400"},{id:"cryptocurrency",label:"Cryptocurrency",img:"https://images.unsplash.com/photo-1541731381301-512bc588bea7?auto=format&fit=crop&w=400"},{id:"investing",label:"Investing",img:"https://images.unsplash.com/photo-1554224154-22dec7ec8818?auto=format&fit=crop&w=400"},{id:"cars",label:"Cars",img:"https://images.unsplash.com/photo-1517949908111-96b77d5005b2?auto=format&fit=crop&w=400"},{id:"motorcycles",label:"Motorcycles",img:"https://images.unsplash.com/photo-1512436991641-6745cdb1723f?auto=format&fit=crop&w=400"},{id:"boats",label:"Boating",img:"https://images.unsplash.com/photo-1507537297725-24a1c029d3ca?auto=format&fit=crop&w=400"},{id:"fitness_classes",label:"Group Fitness",img:"https://images.unsplash.com/photo-1571019614076-7cd7282917d3?auto=format&fit=crop&w=400"},{id:"design",label:"Graphic Design",img:"https://images.unsplash.com/photo-1504384308090-c894fdcc538d?auto=format&fit=crop&w=400"},{id:"illustration",label:"Illustration",img:"https://images.unsplash.com/photo-1517694712202-14dd9538aa97?auto=format&fit=crop&w=400"},{id:"mindfulness",label:"Mindfulness",img:"https://images.unsplash.com/photo-1501080612430-3f04532c0d69?auto=format&fit=crop&w=400"},{id:"journaling",label:"Journaling",img:"https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?auto=format&fit=crop&w=400"},{id:"parenting",label:"Parenting",img:"https://images.unsplash.com/photo-1519791883280-8e4bce8f3b55?auto=format&fit=crop&w=400"},{id:"language_learning",label:"Language Learning",img:"https://images.unsplash.com/photo-1529070538774-1843cb3265df?auto=format&fit=crop&w=400"},{id:"education",label:"Education",img:"https://images.unsplash.com/photo-1556740749-887f6717d7e4?auto=format&fit=crop&w=400"},{id:"environment",label:"Environmentalism",img:"https://images.unsplash.com/photo-1501004318641-b39e6451bec6?auto=format&fit=crop&w=400"},{id:"charity",label:"Charity",img:"https://images.unsplash.com/photo-1528747045269-390fe33c19a5?auto=format&fit=crop&w=400"},{id:"volunteering",label:"Volunteering",img:"https://images.unsplash.com/photo-1496386478603-3046d061fdd3?auto=format&fit=crop&w=400"},{id:"pets_dogs",label:"Dogs",img:"https://images.unsplash.com/photo-1518717758536-85ae29035b6d?auto=format&fit=crop&w=400"},{id:"pets_cats",label:"Cats",img:"https://images.unsplash.com/photo-1518791841217-8f162f1e1131?auto=format&fit=crop&w=400"}],Kb=[{label:"English",value:"en"},{label:"Espaol",value:"es"},{label:"Franais",value:"fr"}];function OD({onClick:t}){return g.jsxs(Se.button,{whileTap:{scale:.9},onClick:t,className:"flex items-center gap-1 text-sm opacity-80 hover:opacity-100 mb-4 cursor-pointer transition-all duration-300",children:[g.jsx(mx,{size:18})," Back"]})}function h_(){const t=fG();return R.useEffect(()=>{t.start({opacity:1})},[t]),g.jsx(Se.div,{className:"w-8 h-8 border-6 border-primary border-t-transparent rounded-full animate-spin","aria-label":"Loading",role:"status",initial:{opacity:0},animate:t,transition:{duration:.4,ease:"easeOut"}})}const MD=t=>{const e=["bg-[#4B3B2A]","bg-[#6F4E37]","bg-[#A68A64]","bg-[#8C6E54]","bg-[#7C5C45]","bg-[#D1BFA3]","bg-[#A89F91]","bg-[#C2B280]","bg-[#5E503F]","bg-[#3B3228]","bg-[#556B2F]","bg-[#4B5320]","bg-[#2E4E3F]","bg-[#3C5A4C]","bg-[#6A6051]","bg-[#746C57]","bg-[#91876E]","bg-[#5C544E]"];let n=0;for(let i=0;i<t.length;i++)n=t.charCodeAt(i)+((n<<5)-n);const r=Math.abs(n)%e.length;return e[r]},m_=t=>t?t.toUpperCase().replace(/./g,e=>String.fromCodePoint(127397+e.charCodeAt(0))):"",Ya=t=>/^[a-zA-Z0-9_]+$/.test(t),gX=t=>{const e=Ii.find(n=>n.id===t);return e?e.label:t},vX="modulepreload",yX=function(t){return"/"+t},XC={},bX=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let h=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};var l=h;document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");i=h(n.map(p=>{if(p=yX(p),p in XC)return;XC[p]=!0;const y=p.endsWith(".css"),w=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${w}`))return;const A=document.createElement("link");if(A.rel=y?"stylesheet":vX,y||(A.as="script"),A.crossOrigin="",A.href=p,d&&A.setAttribute("nonce",d),document.head.appendChild(A),y)return new Promise((N,P)=>{A.addEventListener("load",N),A.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return i.then(c=>{for(const d of c||[])d.status==="rejected"&&o(d.reason);return e().catch(o)})},PD=async(t,e)=>{try{const n=Tt(ze,"users"),r=vn(n,tn("username","==",t)),i=await un(r);return e?i.docs.some(o=>o.id!==e):!i.empty}catch(n){return console.error("Error checking username existence:",n),!1}},p_=async t=>{try{const{doc:e,getDoc:n}=await bX(async()=>{const{doc:i,getDoc:o}=await Promise.resolve().then(()=>_U);return{doc:i,getDoc:o}},[]),r=await n(e(ze,"users",t));return r.exists()?r.data():null}catch(e){return console.error("Error fetching user data:",e),null}},g_=async t=>{try{const e=vn(Tt(ze,"trades"),tn("uid","==",t));return(await un(e)).docs.map(r=>({id:r.id,...r.data()})).filter(r=>r.isAvailable!==!1)}catch(e){return console.error("Error fetching user trades:",e),[]}},DD=async t=>{try{const e=vn(Tt(ze,"users",t,"saves")),r=(await un(e)).docs.map(l=>l.id);if(r.length===0)return[];const i=vn(Tt(ze,"posts"),tn("__name__","in",r));return(await un(i)).docs.map(l=>({id:l.id,...l.data()}))}catch(e){return console.error("Error fetching saved posts:",e),[]}},cd="bg-primary text-primary-foreground hover:bg-primary/80 cursor-pointer transition-all duration-200 active:scale-95 uppercase tracking-widest font-bold disabled:opacity-40 disabled:cursor-not-allowed",dd="rounded-md bg-muted px-3 py-2 text-sm sm:text-base outline-none focus:ring-2 ring-primary/80 transition-all duration-200",fd={initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}},QC={control:t=>({...t,background:"#1b1b1b",border:"none",minHeight:"2.6rem",cursor:"pointer"}),singleValue:t=>({...t,color:"#fff"}),input:t=>({...t,color:"#fff"}),placeholder:t=>({...t,color:"#888"}),menu:t=>({...t,background:"#1b1b1b"}),option:(t,e)=>({...t,background:e.isFocused?"#2a2a2a":"#1b1b1b",color:"#fff",cursor:"pointer"}),indicatorSeparator:()=>({display:"none"})},ZC=t=>g.jsx(Rg.DropdownIndicator,{...t,children:g.jsx(Df,{size:18,className:"text-muted-foreground"})}),wX=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,xX=t=>wX.test(t),_X=t=>/^(?=.*[A-Z])(?=.*\d)(?=.*[^A-Za-z0-9]).{8,}$/.test(t);function JC(){const t=Jr(),[e,n]=R.useState("email"),[r,i]=R.useState(""),[o,l]=R.useState(""),[c,d]=R.useState(""),[h,p]=R.useState(null),[y,w]=R.useState(null),[A,N]=R.useState(""),[P,U]=R.useState(new Set),[j,q]=R.useState(""),[H,X]=R.useState(!1),[O,M]=R.useState(null),C=xX(r),I=o.trim().length>1&&c.trim().length>2&&Ya(c)&&h&&y,E=P.size>0,S=_X(j),{user:k,pending:F}=Si(),L=async()=>{if(!C)return M("Please enter a valid email address");try{const J=await aV(Dd,r);X(J.length>0),n(J.length>0?"verify":"basic")}catch{M("Failed to check email. Please try again later.")}},Q=async()=>{if(!I)return!o.trim()||!c.trim()||!h||!y||Ya(c)?M("Fill out all required fields"):M("Username can only contain letters, numbers, and underscores");if(await PD(c)){M("Username already exists. Please choose a different one.");return}n("interests")},Z=()=>{if(!E)return M("Select at least one interest");n("verify")},B=async()=>{if(!S)return M("Password must be at least 8 characters, include one uppercase, one number, and one special character");try{if(H)await rV(Dd,r,j);else{const J=await nV(Dd,r,j);await vN(J.user,{displayName:o}),await cl(rn(ze,"users",J.user.uid),{displayName:o,username:c,avatar:J.user.photoURL||"",country:h?.value||"",language:y?.value||"",interests:Array.from(P)})}t("/dashboard")}catch{M("Authentication failed. Please check your credentials.")}},T=()=>{t("/dashboard")};return g.jsxs("div",{className:"mx-auto w-full max-w-sm px-4 pt-6 sm:px-6 text-center",children:[g.jsx(Se.img,{src:"/icon.png",alt:"logo",className:"w-24 h-24 mx-auto mb-2",initial:{y:-10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,ease:"backOut"}}),F?g.jsx("div",{className:"flex justify-center items-center h-24",children:g.jsx(h_,{})}):k?g.jsxs(Se.div,{...fd,className:"mt-4",children:[g.jsx("h2",{className:"text-2xl sm:text-3xl font-extrabold mb-0 text-white",children:"Welcome"}),g.jsxs("p",{className:"text-sm sm:text-base mb-4 text-white/70",children:["Continue to your ",g.jsx("span",{className:"text-primary",children:"dashboard"}),"."]}),g.jsx(Se.button,{whileTap:{scale:.97},onClick:T,className:`w-full rounded-md py-2 ${cd}`,children:"Go to Dashboard"})]}):g.jsxs(g.Fragment,{children:[O&&g.jsx("div",{className:"bg-red-500/20 text-destructive text-sm sm:text-base rounded-md px-3 py-2 mb-4",role:"alert",children:O}),e!=="email"&&g.jsx(OD,{onClick:()=>{e==="basic"?n("email"):e==="interests"?n("basic"):e==="verify"&&n(H?"email":"interests")}}),g.jsxs(Qn,{mode:"wait",children:[e==="email"&&g.jsxs(Se.div,{...fd,children:[g.jsx("h2",{className:"text-2xl sm:text-3xl font-extrabold mb-0 text-white",children:"Welcome"}),g.jsxs("p",{className:"text-sm sm:text-base mb-6",children:["Enter your ",g.jsx("span",{className:"text-primary",children:"email"})," to continue."]}),g.jsx("label",{className:"block text-sm sm:text-base text-left mb-1",children:"Email"}),g.jsxs("div",{className:"relative",children:[g.jsx(Ez,{className:"absolute left-3 top-1/2 -translate-y-1/2 opacity-50",size:18}),g.jsx("input",{type:"email",value:r,onChange:J=>{i(J.target.value),M(null)},className:`pl-10 w-full ${dd}`,placeholder:"you@example.com"})]}),g.jsx(Se.button,{onClick:L,className:`mt-6 w-full rounded-md py-2 ${cd}`,disabled:!C,children:"Continue"})]},"email"),e==="basic"&&g.jsxs(Se.div,{...fd,children:[g.jsx("h2",{className:"text-2xl sm:text-3xl font-extrabold mb-0 text-white",children:"Basic Info"}),g.jsxs("p",{className:"text-sm sm:text-base mb-5",children:["Let us get to ",g.jsx("span",{className:"text-primary",children:"know"})," you better."]}),g.jsx("label",{className:"block text-sm sm:text-base text-left mb-1",children:"Name"}),g.jsx("input",{value:o,onChange:J=>{l(J.target.value),M(null)},placeholder:"John Doe",className:`w-full mb-3 ${dd}`}),g.jsx("label",{className:"block text-sm sm:text-base text-left mb-1",children:"Username"}),g.jsx("input",{value:c,onChange:J=>{d(J.target.value),M(null)},placeholder:"johndoe123",className:`w-full mb-3 ${dd} ${c&&!Ya(c)?"border-red-500 focus:border-red-500":c&&Ya(c)?"border-green-500 focus:border-green-500":""}`}),c&&!Ya(c)&&g.jsx("p",{className:"text-red-500 text-xs mb-3",children:"Username can only contain letters, numbers, and underscores"}),!c&&g.jsx("p",{className:"text-neutral-400 text-xs mb-3",children:"Only letters, numbers, and underscores allowed"}),g.jsx("label",{className:"block text-sm sm:text-base text-left mb-1",children:"Country"}),g.jsx(df,{instanceId:"country",options:Gb().getData(),value:h,onChange:J=>{p(J),M(null)},placeholder:"Select country",styles:QC,components:{DropdownIndicator:ZC},className:"mb-3 text-left w-full",menuShouldScrollIntoView:!1}),g.jsx("label",{className:"block text-sm sm:text-base text-left mb-1",children:"Language"}),g.jsx(df,{instanceId:"language",options:Kb,value:y,onChange:J=>{w(J),M(null)},placeholder:"Select language",styles:QC,components:{DropdownIndicator:ZC},className:"mb-3 text-left w-full"}),g.jsx(Se.button,{onClick:Q,className:`mt-8 w-full rounded-md py-2 ${cd}`,disabled:!I,children:"Continue"})]},"basic"),e==="interests"&&g.jsxs(Se.div,{...fd,children:[g.jsx("h2",{className:"text-2xl sm:text-3xl font-extrabold mb-0 text-white",children:"Interests"}),g.jsxs("p",{className:"text-sm sm:text-base mb-4",children:["These help us"," ",g.jsx("span",{className:"text-primary",children:"personalize"})," your experience."]}),g.jsx("input",{type:"text",placeholder:"Search",value:A,onChange:J=>N(J.target.value),className:`w-full mb-4 ${dd}`}),g.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 max-h-72 overflow-y-auto pr-1",children:Ii.filter(({label:J})=>J.toLowerCase().includes(A.toLowerCase())).map(({id:J,label:K,img:x})=>{const z=P.has(J);return g.jsxs("div",{onClick:()=>{U(Y=>{const W=new Set(Y);return W.has(J)?W.delete(J):W.add(J),W}),M(null)},className:`relative cursor-pointer rounded-xl overflow-hidden border-2 ${z?"border-primary":"border-transparent"}`,children:[g.jsx("img",{src:x,alt:K,className:"w-full h-20 sm:h-24 object-cover"}),z&&g.jsx("div",{className:"absolute top-1 right-1 bg-primary p-1 rounded-full",children:g.jsx(gx,{size:14,className:"text-white"})}),g.jsx("p",{className:"text-xs mt-2 px-1 pb-2 truncate",children:K})]},J)})}),g.jsx(Se.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Z,className:`w-full rounded-md py-2 mt-6 ${cd}`,disabled:!E,children:"Continue"})]},"interests"),e==="verify"&&g.jsxs(Se.div,{...fd,children:[g.jsxs("h2",{className:"text-2xl sm:text-3xl font-extrabold mb-0 text-white",children:[" ",H?"Enter Password":"Create Password"]}),g.jsx("p",{className:"text-sm sm:text-base mb-6",children:H?"Welcome back, please enter your password.":"Create a strong password to finish signing up."}),g.jsx("label",{className:"block text-sm sm:text-base text-left mb-1",children:"Password"}),g.jsx("input",{type:"password",value:j,onChange:J=>{q(J.target.value),M(null)},className:`w-full mb-4 ${dd}`,placeholder:""}),g.jsx(Se.button,{whileTap:{scale:.97},onClick:B,className:`w-full rounded-md py-2 ${cd}`,disabled:!j,children:"Continue"})]},"verify")]})]})]})}const eR={initial:{opacity:0,y:40},animate:{opacity:1,y:0,transition:{duration:.5,ease:Ap,staggerChildren:.15,delayChildren:.2}},exit:{opacity:0,y:-20,transition:{duration:.4,ease:Ap}}},Em={initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.4,ease:Ep}}};function SX(){const[t,e]=FP();return g.jsxs(Se.div,{className:"flex flex-col md:flex-row justify-center h-screen overflow-hidden",variants:eR,initial:"initial",animate:"animate",exit:"exit",children:[g.jsxs(Se.div,{className:"w-full md:w-1/2 px-6 py-12 md:p-20 flex flex-col min-h-screen justify-start md:justify-between text-center md:text-left space-y-8",variants:eR,children:[g.jsx(Se.h1,{className:"text-5xl md:text-7xl xl:text-8xl font-semibold leading-tight",variants:Em,children:"Welcome to Mangrov"}),g.jsxs(Se.p,{className:"text-lg sm:text-2xl md:text-3xl xl:text-4xl leading-relaxed text-neutral-300",variants:Em,children:["A"," ",g.jsx("span",{className:"text-primary font-semibold",children:"shopping experience"})," ","designed by meaningful, raw,"," ",g.jsx("span",{className:"text-primary font-semibold",children:"human experiences"}),"."]}),g.jsx(Se.div,{className:"block md:hidden",variants:Em,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.4,ease:Ep},children:g.jsx(JC,{})}),g.jsx(Se.div,{variants:Em,className:"self-center md:self-start",children:g.jsx(wG,{})})]}),g.jsx(Se.div,{className:"hidden md:flex w-full md:w-1/2 items-center justify-center p-6 md:p-0",initial:{opacity:0,x:40},animate:{opacity:1,x:0},transition:{delay:.8,duration:.5,ease:Ep},children:g.jsx(JC,{})}),g.jsx(t_,{start:{x:-200,y:e*3/4},end:{x:(t+400)/2,y:-300},speed:12,className:"absolute bottom-0 left-0 w-full h-screen pointer-events-none overflow-hidden",imgHeightTW:"h-32 sm:h-40 md:h-44",imgWidthTW:"w-44 sm:w-52 md:w-56"})]})}function Er({children:t,className:e=""}){return g.jsx(Se.div,{className:e,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.35,ease:"easeInOut"},children:t})}function TX(){const t=Jr(),[e,n]=R.useState(window.innerWidth),[r,i]=R.useState(!1),{scrollYProgress:o}=aG(),l=xu(o,[0,1],[0,-200]);return R.useEffect(()=>{const c=()=>n(window.innerWidth);return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]),R.useEffect(()=>{const c=()=>{i(window.scrollY>500)};return window.addEventListener("scroll",c),()=>window.removeEventListener("scroll",c)},[]),R.useEffect(()=>(document.body.classList.add("allow-scroll"),()=>{document.body.classList.remove("allow-scroll")}),[]),g.jsxs(Er,{className:"min-h-screen bg-neutral-950 overflow-hidden",children:[g.jsxs("section",{className:"relative h-screen flex items-center justify-center",children:[g.jsx(Se.div,{style:{y:l},className:"absolute inset-0",children:g.jsx(t_,{start:{x:-200,y:200},end:{x:e+200,y:200},speed:25,className:"opacity-15"})}),g.jsx("div",{className:"relative z-10 text-center px-4 max-w-4xl mx-auto",children:g.jsxs(Se.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},children:[g.jsxs("div",{className:"flex items-center justify-center mb-6",children:[g.jsx("img",{src:"/icon.png",alt:"Mangrov Logo",className:"w-12 h-12 mr-4"}),g.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-white",children:["Meet ",g.jsx("span",{className:"text-primary",children:"Mangrov"})]})]}),g.jsxs("p",{className:"text-xl md:text-2xl text-neutral-300 mb-8 leading-relaxed",children:["Where"," ",g.jsx("span",{className:"text-primary font-semibold",children:"personalized shopping"})," ","meets",g.jsxs("span",{className:"text-primary font-semibold",children:[" ","sustainable brands"]})]}),g.jsxs("div",{className:"flex items-center justify-center space-x-8 text-neutral-400",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx(KA,{className:"w-5 h-5 text-primary mr-2"}),g.jsx("span",{children:"AI-Powered"})]}),g.jsxs("div",{className:"flex items-center",children:[g.jsx(Bu,{className:"w-5 h-5 text-primary mr-2"}),g.jsx("span",{children:"Sustainable"})]}),g.jsxs("div",{className:"flex items-center",children:[g.jsx(WA,{className:"w-5 h-5 text-primary mr-2"}),g.jsx("span",{children:"Community"})]})]})]})})]}),g.jsx("section",{id:"problem-section",className:"py-20 px-4",children:g.jsxs("div",{className:"max-w-6xl mx-auto",children:[g.jsxs(Se.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[g.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["The ",g.jsx("span",{className:"text-primary",children:"Harsh Reality"})]}),g.jsxs("p",{className:"text-xl text-neutral-300 max-w-3xl mx-auto leading-relaxed",children:[g.jsx("span",{className:"text-primary font-semibold",children:"60% of global greenhouse gas emissions"})," ","are caused by consumers, yet most don't care about sustainability. A few eco-conscious individuals won't tackle the climate crisis alone."]})]}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[g.jsx(Se.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:.2},viewport:{once:!0},children:g.jsxs("div",{className:"bg-neutral-900 p-8 rounded-2xl border border-neutral-800",children:[g.jsxs("div",{className:"flex items-center mb-4",children:[g.jsx(pb,{className:"w-8 h-8 text-primary mr-3"}),g.jsx("h3",{className:"text-2xl font-bold text-white",children:"The Challenge"})]}),g.jsxs("p",{className:"text-neutral-300 leading-relaxed",children:["Traditional sustainability messaging falls on deaf ears. Consumers need",g.jsxs("span",{className:"text-primary font-semibold",children:[" ","tangible value"]})," ","they can feel when making eco-friendly choices."]})]})}),g.jsx(Se.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:.4},viewport:{once:!0},children:g.jsxs("div",{className:"bg-neutral-900 p-8 rounded-2xl border border-neutral-800",children:[g.jsxs("div",{className:"flex items-center mb-4",children:[g.jsx(eB,{className:"w-8 h-8 text-primary mr-3"}),g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Our Solution"})]}),g.jsxs("p",{className:"text-neutral-300 leading-relaxed",children:['Instead of just repeating "eco-friendly", we offer',g.jsxs("span",{className:"text-primary font-semibold",children:[" ","personalized experiences"]})," ","that make sustainable shopping feel natural and rewarding."]})]})})]})]})}),g.jsx("section",{id:"features-section",className:"py-20 px-4 bg-neutral-900/50",children:g.jsxs("div",{className:"max-w-6xl mx-auto",children:[g.jsxs(Se.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[g.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["The ",g.jsx("span",{className:"text-primary",children:"Mangrov"})," Experience"]}),g.jsx("p",{className:"text-xl text-neutral-300 max-w-3xl mx-auto",children:"We're creating the most seamless and personal shopping experience that's sustainable."})]}),g.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:KA,title:"AI-Powered Recommendations",description:"Precise product suggestions powered by advanced AI searches that understand your unique preferences.",color:"text-blue-400"},{icon:nM,title:"Unique Product Display",description:"Swipe through interactive cards to discover products in an engaging, intuitive way.",color:"text-green-400"},{icon:WA,title:"Community Trading",description:"Trade items with other users to give products a second life and reduce waste together.",color:"text-purple-400"}].map((c,d)=>g.jsxs(Se.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:d*.2},viewport:{once:!0},className:"bg-neutral-900 p-8 rounded-2xl border border-neutral-800 hover:border-primary/50 transition-colors",children:[g.jsx("div",{className:"w-16 h-16 bg-neutral-800 rounded-2xl flex items-center justify-center mb-6",children:g.jsx(c.icon,{className:`w-8 h-8 ${c.color}`})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:c.title}),g.jsx("p",{className:"text-neutral-300 leading-relaxed",children:c.description})]},d))})]})}),g.jsx("section",{id:"stats-section",className:"py-20 px-4",children:g.jsxs("div",{className:"max-w-6xl mx-auto",children:[g.jsx(Se.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:g.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Ready for ",g.jsx("span",{className:"text-primary",children:"Launch"})]})}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[g.jsx(Se.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:.2},viewport:{once:!0},children:g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx(qA,{className:"w-8 h-8 text-primary"}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Prototype Complete"}),g.jsx("p",{className:"text-neutral-300",children:"Fully functional platform ready for launch"})]})]}),g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx(qA,{className:"w-8 h-8 text-primary"}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Community-Driven"}),g.jsx("p",{className:"text-neutral-300",children:"Built for users who care about sustainability"})]})]})]})}),g.jsxs(Se.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:.4},viewport:{once:!0},className:"bg-gradient-to-br from-primary/20 to-primary/5 p-8 rounded-2xl border border-primary/20",children:[g.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Our Mission"}),g.jsxs("p",{className:"text-neutral-300 leading-relaxed mb-6",children:["To create a global shift in consumer behavior by making sustainable shopping",g.jsxs("span",{className:"text-primary font-semibold",children:[" ","personal, engaging, and rewarding"]}),"."]}),g.jsxs("div",{className:"flex items-center text-primary font-semibold cursor-pointer hover:text-primary/80 transition-colors",onClick:()=>t("/dashboard"),children:[g.jsx("span",{children:"Join the revolution"}),g.jsx(px,{className:"w-5 h-5 ml-2"})]})]})]})]})}),g.jsx("section",{id:"cta-section",className:"py-20 px-4 bg-neutral-900",children:g.jsx("div",{className:"max-w-4xl mx-auto text-center",children:g.jsxs(Se.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},children:[g.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Be Part of the ",g.jsx("span",{className:"text-primary",children:"Change"})]}),g.jsx("p",{className:"text-xl text-neutral-300 mb-8 max-w-2xl mx-auto",children:"Experience shopping that doesn't just feel goodit does good. Join us in creating a sustainable future, one purchase at a time."}),g.jsx(Se.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("/dashboard"),className:"bg-primary text-white px-8 py-4 rounded-xl font-semibold text-lg hover:bg-primary/80 transition-colors",children:"Get Started Today"})]})})}),g.jsx("footer",{className:"bg-neutral-950 py-8 px-4 border-t border-neutral-800",children:g.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[g.jsxs("div",{className:"flex items-center justify-center mb-4",children:[g.jsx("img",{src:"/icon.png",alt:"Mangrov Logo",className:"w-8 h-8 mr-3"}),g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Mangrov"})]}),g.jsx("p",{className:"text-neutral-400 text-sm mb-4",children:"Where personalized shopping meets sustainable brands"}),g.jsxs("div",{className:"flex items-center justify-center space-x-6 text-neutral-400",children:[g.jsx("span",{className:"text-xs",children:" 2024 Mangrov. All rights reserved."}),g.jsx("span",{className:"text-xs",children:""}),g.jsx("span",{className:"text-xs",children:"Privacy Policy"}),g.jsx("span",{className:"text-xs",children:""}),g.jsx("span",{className:"text-xs",children:"Terms of Service"})]})]})}),g.jsx(Se.button,{initial:{opacity:0,scale:0},animate:{opacity:r?1:0,scale:r?1:0},transition:{duration:.3},onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-8 right-8 z-50 bg-primary text-white p-4 rounded-full shadow-lg hover:bg-primary/80 transition-colors",children:g.jsx(tz,{className:"w-6 h-6"})})]})}function v_({trade:t,isOpen:e,onClose:n,onTradeUpdate:r}){const{user:i}=Si(),[o,l]=R.useState(!1),[c,d]=R.useState(!1),[h,p]=R.useState(!1),[y,w]=R.useState({title:"",description:"",quantity:1,isAvailable:!0});R.useEffect(()=>{c&&t&&w({title:t.title||"",description:t.description||"",quantity:t.quantity||1,isAvailable:t.isAvailable!==!1})},[c,t]);const A=i?.uid===t?.uid,N=async()=>{if(!(!t||!i||i.uid!==t.uid))try{p(!0),await el(rn(ze,"trades",t.id),{title:y.title,description:y.description,quantity:y.quantity,isAvailable:y.isAvailable}),d(!1),r&&r({...t,title:y.title,description:y.description,quantity:y.quantity,isAvailable:y.isAvailable}),n()}catch(U){console.error("Error updating trade:",U)}finally{p(!1)}},P=async()=>{if(!(!t||!i||i.uid!==t.uid)&&window.confirm("Are you sure you want to delete this trade?"))try{await bp(rn(ze,"trades",t.id)),n()}catch(U){console.error("Error deleting trade:",U)}};return t?g.jsx(Qn,{children:e&&g.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:g.jsxs(Se.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-gradient-to-br from-neutral-900 via-neutral-800 to-neutral-900 rounded-3xl p-8 w-full max-w-md max-h-[90vh] overflow-y-auto border border-neutral-700 shadow-2xl",children:[g.jsxs("div",{className:"relative mb-6",children:[g.jsxs("div",{className:"absolute top-0 right-0 flex gap-2",children:[A&&g.jsx("button",{onClick:()=>l(!o),className:"text-neutral-400 hover:text-white transition cursor-pointer",children:g.jsx(Vz,{size:20})}),g.jsx("button",{onClick:n,className:"text-neutral-400 hover:text-white transition cursor-pointer",children:g.jsx(ns,{size:20})})]}),g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary to-primary/60 rounded-full flex items-center justify-center mx-auto mb-4",children:g.jsx(hx,{size:32,className:"text-white"})}),g.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:t.title}),g.jsx("div",{className:"flex justify-center gap-2 mb-4",children:t.niche.map(U=>g.jsx("span",{className:"px-3 py-1 bg-primary/20 text-primary rounded-full text-xs font-bold",children:U},U))})]})]}),g.jsxs("div",{className:"relative mb-6",children:[g.jsx("img",{src:t.images[0],alt:t.title,className:"w-full h-48 object-cover rounded-2xl border-2 border-neutral-700"}),!t.isAvailable&&g.jsx("div",{className:"absolute top-4 left-4 bg-red-600 text-white px-3 py-1 rounded-full text-sm font-bold",children:"UNAVAILABLE"})]}),g.jsxs("div",{className:"space-y-4 mb-6",children:[g.jsx("div",{className:"bg-neutral-800/50 rounded-xl p-4",children:g.jsx("p",{className:"text-neutral-300 text-sm leading-relaxed",children:t.description})}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"bg-neutral-800/30 rounded-xl p-3 text-center",children:[g.jsx("div",{className:"text-neutral-400 text-xs mb-1",children:"QUANTITY"}),g.jsx("div",{className:"text-white font-bold text-lg",children:t.quantity})]}),g.jsxs("div",{className:"bg-neutral-800/30 rounded-xl p-3 text-center",children:[g.jsx("div",{className:"text-neutral-400 text-xs mb-1",children:"STATUS"}),g.jsx("div",{className:`font-bold text-sm ${t.isAvailable?"text-green-400":"text-red-400"}`,children:t.isAvailable?"AVAILABLE":"UNAVAILABLE"})]})]}),t.keywords.length>0&&g.jsxs("div",{className:"bg-neutral-800/30 rounded-xl p-3",children:[g.jsx("div",{className:"text-neutral-400 text-xs mb-2",children:"KEYWORDS"}),g.jsx("div",{className:"flex flex-wrap gap-1",children:t.keywords.map(U=>g.jsx("span",{className:"px-2 py-1 bg-neutral-700 text-neutral-300 rounded text-xs",children:U},U))})]})]}),g.jsx(Qn,{children:o&&g.jsx(Se.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-neutral-700 pt-4 mt-4",children:c?g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs text-neutral-400 mb-1",children:"TITLE"}),g.jsx("input",{value:y.title,onChange:U=>w({...y,title:U.target.value}),className:"w-full bg-neutral-800 text-white px-3 py-2 rounded-md border border-neutral-700 focus:border-primary outline-none text-sm"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs text-neutral-400 mb-1",children:"DESCRIPTION"}),g.jsx("textarea",{value:y.description,onChange:U=>w({...y,description:U.target.value}),className:"w-full bg-neutral-800 text-white px-3 py-2 rounded-md border border-neutral-700 focus:border-primary outline-none text-sm h-20 resize-none"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs text-neutral-400 mb-1",children:"QUANTITY"}),g.jsx("input",{type:"number",min:"1",value:y.quantity,onChange:U=>w({...y,quantity:parseInt(U.target.value)||1}),className:"w-full bg-neutral-800 text-white px-3 py-2 rounded-md border border-neutral-700 focus:border-primary outline-none text-sm"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:y.isAvailable,onChange:U=>w({...y,isAvailable:U.target.checked}),className:"sr-only peer"}),g.jsx("div",{className:"w-11 h-6 bg-neutral-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]}),g.jsx("span",{className:"text-white text-sm cursor-pointer",children:"Available for trade"})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("button",{onClick:N,disabled:h,className:"flex-1 bg-primary text-white px-3 py-2 rounded-md hover:bg-primary/80 transition text-sm flex items-center justify-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed",children:[h?g.jsx(Sz,{size:14,className:"animate-spin"}):g.jsx(gx,{size:14}),h?"Saving...":"Save"]}),g.jsx("button",{onClick:()=>d(!1),disabled:h,className:"flex-1 bg-neutral-700 text-white px-3 py-2 rounded-md hover:bg-neutral-600 transition text-sm disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",children:"Cancel"})]})]}):g.jsxs("div",{className:"space-y-2",children:[g.jsxs("button",{onClick:()=>d(!0),className:"w-full bg-primary text-white px-4 py-2 rounded-md hover:bg-primary/80 transition flex items-center justify-center gap-2 text-sm cursor-pointer",children:[g.jsx($z,{size:14}),"Edit Trade"]}),g.jsxs("button",{onClick:P,className:"w-full bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition flex items-center justify-center gap-2 text-sm cursor-pointer",children:[g.jsx(Gz,{size:14}),"Delete Trade"]})]})})})]})})}):null}var Qm={exports:{}},EX=Qm.exports,tR;function AX(){return tR||(tR=1,function(t,e){(function(n,r){t.exports=r()})(EX,function(){var n=1e3,r=6e4,i=36e5,o="millisecond",l="second",c="minute",d="hour",h="day",p="week",y="month",w="quarter",A="year",N="date",P="Invalid Date",U=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,j=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,q={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Q){var Z=["th","st","nd","rd"],B=Q%100;return"["+Q+(Z[(B-20)%10]||Z[B]||Z[0])+"]"}},H=function(Q,Z,B){var T=String(Q);return!T||T.length>=Z?Q:""+Array(Z+1-T.length).join(B)+Q},X={s:H,z:function(Q){var Z=-Q.utcOffset(),B=Math.abs(Z),T=Math.floor(B/60),J=B%60;return(Z<=0?"+":"-")+H(T,2,"0")+":"+H(J,2,"0")},m:function Q(Z,B){if(Z.date()<B.date())return-Q(B,Z);var T=12*(B.year()-Z.year())+(B.month()-Z.month()),J=Z.clone().add(T,y),K=B-J<0,x=Z.clone().add(T+(K?-1:1),y);return+(-(T+(B-J)/(K?J-x:x-J))||0)},a:function(Q){return Q<0?Math.ceil(Q)||0:Math.floor(Q)},p:function(Q){return{M:y,y:A,w:p,d:h,D:N,h:d,m:c,s:l,ms:o,Q:w}[Q]||String(Q||"").toLowerCase().replace(/s$/,"")},u:function(Q){return Q===void 0}},O="en",M={};M[O]=q;var C="$isDayjsObject",I=function(Q){return Q instanceof F||!(!Q||!Q[C])},E=function Q(Z,B,T){var J;if(!Z)return O;if(typeof Z=="string"){var K=Z.toLowerCase();M[K]&&(J=K),B&&(M[K]=B,J=K);var x=Z.split("-");if(!J&&x.length>1)return Q(x[0])}else{var z=Z.name;M[z]=Z,J=z}return!T&&J&&(O=J),J||!T&&O},S=function(Q,Z){if(I(Q))return Q.clone();var B=typeof Z=="object"?Z:{};return B.date=Q,B.args=arguments,new F(B)},k=X;k.l=E,k.i=I,k.w=function(Q,Z){return S(Q,{locale:Z.$L,utc:Z.$u,x:Z.$x,$offset:Z.$offset})};var F=function(){function Q(B){this.$L=E(B.locale,null,!0),this.parse(B),this.$x=this.$x||B.x||{},this[C]=!0}var Z=Q.prototype;return Z.parse=function(B){this.$d=function(T){var J=T.date,K=T.utc;if(J===null)return new Date(NaN);if(k.u(J))return new Date;if(J instanceof Date)return new Date(J);if(typeof J=="string"&&!/Z$/i.test(J)){var x=J.match(U);if(x){var z=x[2]-1||0,Y=(x[7]||"0").substring(0,3);return K?new Date(Date.UTC(x[1],z,x[3]||1,x[4]||0,x[5]||0,x[6]||0,Y)):new Date(x[1],z,x[3]||1,x[4]||0,x[5]||0,x[6]||0,Y)}}return new Date(J)}(B),this.init()},Z.init=function(){var B=this.$d;this.$y=B.getFullYear(),this.$M=B.getMonth(),this.$D=B.getDate(),this.$W=B.getDay(),this.$H=B.getHours(),this.$m=B.getMinutes(),this.$s=B.getSeconds(),this.$ms=B.getMilliseconds()},Z.$utils=function(){return k},Z.isValid=function(){return this.$d.toString()!==P},Z.isSame=function(B,T){var J=S(B);return this.startOf(T)<=J&&J<=this.endOf(T)},Z.isAfter=function(B,T){return S(B)<this.startOf(T)},Z.isBefore=function(B,T){return this.endOf(T)<S(B)},Z.$g=function(B,T,J){return k.u(B)?this[T]:this.set(J,B)},Z.unix=function(){return Math.floor(this.valueOf()/1e3)},Z.valueOf=function(){return this.$d.getTime()},Z.startOf=function(B,T){var J=this,K=!!k.u(T)||T,x=k.p(B),z=function(Pe,Ne){var Ue=k.w(J.$u?Date.UTC(J.$y,Ne,Pe):new Date(J.$y,Ne,Pe),J);return K?Ue:Ue.endOf(h)},Y=function(Pe,Ne){return k.w(J.toDate()[Pe].apply(J.toDate("s"),(K?[0,0,0,0]:[23,59,59,999]).slice(Ne)),J)},W=this.$W,ne=this.$M,ae=this.$D,le="set"+(this.$u?"UTC":"");switch(x){case A:return K?z(1,0):z(31,11);case y:return K?z(1,ne):z(0,ne+1);case p:var ge=this.$locale().weekStart||0,Ee=(W<ge?W+7:W)-ge;return z(K?ae-Ee:ae+(6-Ee),ne);case h:case N:return Y(le+"Hours",0);case d:return Y(le+"Minutes",1);case c:return Y(le+"Seconds",2);case l:return Y(le+"Milliseconds",3);default:return this.clone()}},Z.endOf=function(B){return this.startOf(B,!1)},Z.$set=function(B,T){var J,K=k.p(B),x="set"+(this.$u?"UTC":""),z=(J={},J[h]=x+"Date",J[N]=x+"Date",J[y]=x+"Month",J[A]=x+"FullYear",J[d]=x+"Hours",J[c]=x+"Minutes",J[l]=x+"Seconds",J[o]=x+"Milliseconds",J)[K],Y=K===h?this.$D+(T-this.$W):T;if(K===y||K===A){var W=this.clone().set(N,1);W.$d[z](Y),W.init(),this.$d=W.set(N,Math.min(this.$D,W.daysInMonth())).$d}else z&&this.$d[z](Y);return this.init(),this},Z.set=function(B,T){return this.clone().$set(B,T)},Z.get=function(B){return this[k.p(B)]()},Z.add=function(B,T){var J,K=this;B=Number(B);var x=k.p(T),z=function(ne){var ae=S(K);return k.w(ae.date(ae.date()+Math.round(ne*B)),K)};if(x===y)return this.set(y,this.$M+B);if(x===A)return this.set(A,this.$y+B);if(x===h)return z(1);if(x===p)return z(7);var Y=(J={},J[c]=r,J[d]=i,J[l]=n,J)[x]||1,W=this.$d.getTime()+B*Y;return k.w(W,this)},Z.subtract=function(B,T){return this.add(-1*B,T)},Z.format=function(B){var T=this,J=this.$locale();if(!this.isValid())return J.invalidDate||P;var K=B||"YYYY-MM-DDTHH:mm:ssZ",x=k.z(this),z=this.$H,Y=this.$m,W=this.$M,ne=J.weekdays,ae=J.months,le=J.meridiem,ge=function(Ne,Ue,We,Xe){return Ne&&(Ne[Ue]||Ne(T,K))||We[Ue].slice(0,Xe)},Ee=function(Ne){return k.s(z%12||12,Ne,"0")},Pe=le||function(Ne,Ue,We){var Xe=Ne<12?"AM":"PM";return We?Xe.toLowerCase():Xe};return K.replace(j,function(Ne,Ue){return Ue||function(We){switch(We){case"YY":return String(T.$y).slice(-2);case"YYYY":return k.s(T.$y,4,"0");case"M":return W+1;case"MM":return k.s(W+1,2,"0");case"MMM":return ge(J.monthsShort,W,ae,3);case"MMMM":return ge(ae,W);case"D":return T.$D;case"DD":return k.s(T.$D,2,"0");case"d":return String(T.$W);case"dd":return ge(J.weekdaysMin,T.$W,ne,2);case"ddd":return ge(J.weekdaysShort,T.$W,ne,3);case"dddd":return ne[T.$W];case"H":return String(z);case"HH":return k.s(z,2,"0");case"h":return Ee(1);case"hh":return Ee(2);case"a":return Pe(z,Y,!0);case"A":return Pe(z,Y,!1);case"m":return String(Y);case"mm":return k.s(Y,2,"0");case"s":return String(T.$s);case"ss":return k.s(T.$s,2,"0");case"SSS":return k.s(T.$ms,3,"0");case"Z":return x}return null}(Ne)||x.replace(":","")})},Z.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Z.diff=function(B,T,J){var K,x=this,z=k.p(T),Y=S(B),W=(Y.utcOffset()-this.utcOffset())*r,ne=this-Y,ae=function(){return k.m(x,Y)};switch(z){case A:K=ae()/12;break;case y:K=ae();break;case w:K=ae()/3;break;case p:K=(ne-W)/6048e5;break;case h:K=(ne-W)/864e5;break;case d:K=ne/i;break;case c:K=ne/r;break;case l:K=ne/n;break;default:K=ne}return J?K:k.a(K)},Z.daysInMonth=function(){return this.endOf(y).$D},Z.$locale=function(){return M[this.$L]},Z.locale=function(B,T){if(!B)return this.$L;var J=this.clone(),K=E(B,T,!0);return K&&(J.$L=K),J},Z.clone=function(){return k.w(this.$d,this)},Z.toDate=function(){return new Date(this.valueOf())},Z.toJSON=function(){return this.isValid()?this.toISOString():null},Z.toISOString=function(){return this.$d.toISOString()},Z.toString=function(){return this.$d.toUTCString()},Q}(),L=F.prototype;return S.prototype=L,[["$ms",o],["$s",l],["$m",c],["$H",d],["$W",h],["$M",y],["$y",A],["$D",N]].forEach(function(Q){L[Q[1]]=function(Z){return this.$g(Z,Q[0],Q[1])}}),S.extend=function(Q,Z){return Q.$i||(Q(Z,F,S),Q.$i=!0),S},S.locale=E,S.isDayjs=I,S.unix=function(Q){return S(1e3*Q)},S.en=M[O],S.Ls=M,S.p={},S})}(Qm)),Qm.exports}var CX=AX();const RX=Fp(CX);function NX({comment:t,onReplyClick:e,isReplying:n,replyText:r,onReplyChange:i,onReplySubmit:o,isSubmitting:l=!1}){const[c,d]=R.useState(null),[h,p]=R.useState(null),[y,w]=R.useState(!1),[A,N]=R.useState(""),[P,U]=R.useState(!0);R.useEffect(()=>{(async()=>{try{U(!0);const O=await yi(rn(ze,"users",t.user));O.exists()&&d(O.data())}catch(O){console.error("Error fetching user data:",O)}finally{U(!1)}})()},[t.user]),R.useEffect(()=>{(async()=>{if(t.replyToUserId)try{const O=await yi(rn(ze,"users",t.replyToUserId));if(O.exists()){const M=O.data();p(M.name)}}catch(O){console.error("Error fetching reply user data:",O)}})()},[t.replyToUserId]),R.useEffect(()=>{if(t.timestamp){const X=RX(t.timestamp.toDate()).format("HH:mm");N(X)}},[t.timestamp]);const j=()=>{if(t.replyToId){const X=document.querySelector(`[data-id='${t.replyToId}']`);X&&X.classList.add("bg-primary/20"),w(!0)}},q=()=>{if(t.replyToId){const X=document.querySelector(`[data-id='${t.replyToId}']`);X&&X.classList.remove("bg-primary/20"),w(!1)}},H=X=>{X.key==="Enter"&&!X.shiftKey&&(X.preventDefault(),o(t.id,t.user))};return P?g.jsx("div",{className:"animate-pulse",children:g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("div",{className:"w-8 h-8 bg-neutral-700 rounded-full"}),g.jsxs("div",{className:"flex-1 space-y-2",children:[g.jsx("div",{className:"h-4 bg-neutral-700 rounded w-24"}),g.jsx("div",{className:"h-3 bg-neutral-700 rounded w-full"})]})]})}):g.jsxs(Se.div,{"data-id":t.id,onMouseEnter:j,onMouseLeave:q,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2},className:`group relative rounded-lg p-3 transition-all duration-200 ${t.replyToId?"ml-6 border-l-2 border-primary/30 pl-4 bg-neutral-800/30":"bg-neutral-800/20"} ${y?"bg-primary/20":""}`,children:[g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsxs("div",{className:"flex-shrink-0",children:[c?.avatar?g.jsx("img",{src:c.avatar,alt:`${c.name}'s avatar`,className:"w-8 h-8 rounded-full object-cover border border-white/10",onError:X=>{const O=X.target;O.style.display="none",O.nextElementSibling?.classList.remove("hidden")}}):null,g.jsx("div",{className:`w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center text-primary text-sm font-semibold ${c?.avatar?"hidden":""}`,children:c?.name?.charAt(0)?.toUpperCase()||"U"})]}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx("span",{className:"font-semibold text-primary text-sm",children:c?.name||"Unknown User"}),h&&g.jsxs("span",{className:"text-xs text-neutral-400",children:["replying to @",h]}),g.jsx("span",{className:"text-xs text-neutral-500 ml-auto",children:A})]}),g.jsx("div",{className:"text-white/90 text-sm leading-relaxed break-words",children:t.text}),g.jsx("div",{className:"flex items-center mt-2",children:g.jsxs("button",{onClick:()=>e(t.id),disabled:l,className:"flex items-center gap-1 text-xs text-neutral-400 hover:text-primary transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[g.jsx(Pz,{size:12}),"Reply"]})})]})]}),n&&g.jsxs(Se.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3 flex items-center gap-2 bg-neutral-800/50 rounded-lg p-3",children:[g.jsx("input",{value:r,onChange:X=>i(X.target.value),onKeyPress:H,placeholder:`Reply to ${c?.name||"user"}...`,disabled:l,className:"flex-1 bg-transparent text-white placeholder-white/60 text-sm outline-none"}),g.jsx(Se.button,{whileTap:{scale:.95},onClick:()=>o(t.id,t.user),disabled:!r.trim()||l,className:"text-primary hover:text-primary/80 disabled:text-white/40 disabled:cursor-not-allowed transition-colors",children:g.jsx(Tp,{size:14})})]})]})}var x0={},_0={},hd={},S0={},nR;function IX(){return nR||(nR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e}(S0)),S0}var T0,rR;function OX(){if(rR)return T0;rR=1;var t="Expected a function",e=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,d=typeof rm=="object"&&rm&&rm.Object===Object&&rm,h=typeof self=="object"&&self&&self.Object===Object&&self,p=d||h||Function("return this")(),y=Object.prototype,w=y.toString,A=Math.max,N=Math.min,P=function(){return p.Date.now()};function U(O,M,C){var I,E,S,k,F,L,Q=0,Z=!1,B=!1,T=!0;if(typeof O!="function")throw new TypeError(t);M=X(M)||0,j(C)&&(Z=!!C.leading,B="maxWait"in C,S=B?A(X(C.maxWait)||0,M):S,T="trailing"in C?!!C.trailing:T);function J(ge){var Ee=I,Pe=E;return I=E=void 0,Q=ge,k=O.apply(Pe,Ee),k}function K(ge){return Q=ge,F=setTimeout(Y,M),Z?J(ge):k}function x(ge){var Ee=ge-L,Pe=ge-Q,Ne=M-Ee;return B?N(Ne,S-Pe):Ne}function z(ge){var Ee=ge-L,Pe=ge-Q;return L===void 0||Ee>=M||Ee<0||B&&Pe>=S}function Y(){var ge=P();if(z(ge))return W(ge);F=setTimeout(Y,x(ge))}function W(ge){return F=void 0,T&&I?J(ge):(I=E=void 0,k)}function ne(){F!==void 0&&clearTimeout(F),Q=0,I=L=E=F=void 0}function ae(){return F===void 0?k:W(P())}function le(){var ge=P(),Ee=z(ge);if(I=arguments,E=this,L=ge,Ee){if(F===void 0)return K(L);if(B)return F=setTimeout(Y,M),J(L)}return F===void 0&&(F=setTimeout(Y,M)),k}return le.cancel=ne,le.flush=ae,le}function j(O){var M=typeof O;return!!O&&(M=="object"||M=="function")}function q(O){return!!O&&typeof O=="object"}function H(O){return typeof O=="symbol"||q(O)&&w.call(O)==n}function X(O){if(typeof O=="number")return O;if(H(O))return e;if(j(O)){var M=typeof O.valueOf=="function"?O.valueOf():O;O=j(M)?M+"":M}if(typeof O!="string")return O===0?O:+O;O=O.replace(r,"");var C=o.test(O);return C||l.test(O)?c(O.slice(2),C?2:8):i.test(O)?e:+O}return T0=U,T0}var E0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var iR;function Ng(){return iR||(iR=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(o=i(o,r(c)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var c in o)e.call(o,c)&&o[c]&&(l=i(l,c));return l}function i(o,l){return l?o?o+" "+l:o+l:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(E0)),E0.exports}var Oe={},A0={},aR;function jD(){return aR||(aR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(xa());function n(i){return i&&i.__esModule?i:{default:i}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(o){return e.default.createElement("ul",{style:{display:"block"}},o)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(o){return e.default.createElement("button",null,o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};t.default=r}(A0)),A0}var sR;function Bf(){if(sR)return Oe;sR=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.checkSpecKeys=Oe.checkNavigable=Oe.changeSlide=Oe.canUseDOM=Oe.canGoNext=void 0,Oe.clamp=h,Oe.extractObject=void 0,Oe.filterSettings=J,Oe.validSettings=Oe.swipeStart=Oe.swipeMove=Oe.swipeEnd=Oe.slidesOnRight=Oe.slidesOnLeft=Oe.slideHandler=Oe.siblingDirection=Oe.safePreventDefault=Oe.lazyStartIndex=Oe.lazySlidesOnRight=Oe.lazySlidesOnLeft=Oe.lazyEndIndex=Oe.keyHandler=Oe.initializedState=Oe.getWidth=Oe.getTrackLeft=Oe.getTrackCSS=Oe.getTrackAnimateCSS=Oe.getTotalSlides=Oe.getSwipeDirection=Oe.getSlideCount=Oe.getRequiredLazySlides=Oe.getPreClones=Oe.getPostClones=Oe.getOnDemandLazySlides=Oe.getNavigableIndexes=Oe.getHeight=void 0;var t=n(xa()),e=n(jD());function n(K){return K&&K.__esModule?K:{default:K}}function r(K){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},r(K)}function i(K,x){var z=Object.keys(K);if(Object.getOwnPropertySymbols){var Y=Object.getOwnPropertySymbols(K);x&&(Y=Y.filter(function(W){return Object.getOwnPropertyDescriptor(K,W).enumerable})),z.push.apply(z,Y)}return z}function o(K){for(var x=1;x<arguments.length;x++){var z=arguments[x]!=null?arguments[x]:{};x%2?i(Object(z),!0).forEach(function(Y){l(K,Y,z[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(z)):i(Object(z)).forEach(function(Y){Object.defineProperty(K,Y,Object.getOwnPropertyDescriptor(z,Y))})}return K}function l(K,x,z){return x=c(x),x in K?Object.defineProperty(K,x,{value:z,enumerable:!0,configurable:!0,writable:!0}):K[x]=z,K}function c(K){var x=d(K,"string");return r(x)=="symbol"?x:String(x)}function d(K,x){if(r(K)!="object"||!K)return K;var z=K[Symbol.toPrimitive];if(z!==void 0){var Y=z.call(K,x);if(r(Y)!="object")return Y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(K)}function h(K,x,z){return Math.max(x,Math.min(K,z))}var p=Oe.safePreventDefault=function(x){var z=["onTouchStart","onTouchMove","onWheel"];z.includes(x._reactName)||x.preventDefault()},y=Oe.getOnDemandLazySlides=function(x){for(var z=[],Y=w(x),W=A(x),ne=Y;ne<W;ne++)x.lazyLoadedList.indexOf(ne)<0&&z.push(ne);return z};Oe.getRequiredLazySlides=function(x){for(var z=[],Y=w(x),W=A(x),ne=Y;ne<W;ne++)z.push(ne);return z};var w=Oe.lazyStartIndex=function(x){return x.currentSlide-N(x)},A=Oe.lazyEndIndex=function(x){return x.currentSlide+P(x)},N=Oe.lazySlidesOnLeft=function(x){return x.centerMode?Math.floor(x.slidesToShow/2)+(parseInt(x.centerPadding)>0?1:0):0},P=Oe.lazySlidesOnRight=function(x){return x.centerMode?Math.floor((x.slidesToShow-1)/2)+1+(parseInt(x.centerPadding)>0?1:0):x.slidesToShow},U=Oe.getWidth=function(x){return x&&x.offsetWidth||0},j=Oe.getHeight=function(x){return x&&x.offsetHeight||0},q=Oe.getSwipeDirection=function(x){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Y,W,ne,ae;return Y=x.startX-x.curX,W=x.startY-x.curY,ne=Math.atan2(W,Y),ae=Math.round(ne*180/Math.PI),ae<0&&(ae=360-Math.abs(ae)),ae<=45&&ae>=0||ae<=360&&ae>=315?"left":ae>=135&&ae<=225?"right":z===!0?ae>=35&&ae<=135?"up":"down":"vertical"},H=Oe.canGoNext=function(x){var z=!0;return x.infinite||(x.centerMode&&x.currentSlide>=x.slideCount-1||x.slideCount<=x.slidesToShow||x.currentSlide>=x.slideCount-x.slidesToShow)&&(z=!1),z};Oe.extractObject=function(x,z){var Y={};return z.forEach(function(W){return Y[W]=x[W]}),Y},Oe.initializedState=function(x){var z=t.default.Children.count(x.children),Y=x.listRef,W=Math.ceil(U(Y)),ne=x.trackRef&&x.trackRef.node,ae=Math.ceil(U(ne)),le;if(x.vertical)le=W;else{var ge=x.centerMode&&parseInt(x.centerPadding)*2;typeof x.centerPadding=="string"&&x.centerPadding.slice(-1)==="%"&&(ge*=W/100),le=Math.ceil((W-ge)/x.slidesToShow)}var Ee=Y&&j(Y.querySelector('[data-index="0"]')),Pe=Ee*x.slidesToShow,Ne=x.currentSlide===void 0?x.initialSlide:x.currentSlide;x.rtl&&x.currentSlide===void 0&&(Ne=z-1-x.initialSlide);var Ue=x.lazyLoadedList||[],We=y(o(o({},x),{},{currentSlide:Ne,lazyLoadedList:Ue}));Ue=Ue.concat(We);var Xe={slideCount:z,slideWidth:le,listWidth:W,trackWidth:ae,currentSlide:Ne,slideHeight:Ee,listHeight:Pe,lazyLoadedList:Ue};return x.autoplaying===null&&x.autoplay&&(Xe.autoplaying="playing"),Xe},Oe.slideHandler=function(x){var z=x.waitForAnimate,Y=x.animating,W=x.fade,ne=x.infinite,ae=x.index,le=x.slideCount,ge=x.lazyLoad,Ee=x.currentSlide,Pe=x.centerMode,Ne=x.slidesToScroll,Ue=x.slidesToShow,We=x.useCSS,Xe=x.lazyLoadedList;if(z&&Y)return{};var me=ae,Ce,$e,Ie,Ze={},mt={},ot=ne?ae:h(ae,0,le-1);if(W){if(!ne&&(ae<0||ae>=le))return{};ae<0?me=ae+le:ae>=le&&(me=ae-le),ge&&Xe.indexOf(me)<0&&(Xe=Xe.concat(me)),Ze={animating:!0,currentSlide:me,lazyLoadedList:Xe,targetSlide:me},mt={animating:!1,targetSlide:me}}else Ce=me,me<0?(Ce=me+le,ne?le%Ne!==0&&(Ce=le-le%Ne):Ce=0):!H(x)&&me>Ee?me=Ce=Ee:Pe&&me>=le?(me=ne?le:le-1,Ce=ne?0:le-1):me>=le&&(Ce=me-le,ne?le%Ne!==0&&(Ce=0):Ce=le-Ue),!ne&&me+Ue>=le&&(Ce=le-Ue),$e=S(o(o({},x),{},{slideIndex:me})),Ie=S(o(o({},x),{},{slideIndex:Ce})),ne||($e===Ie&&(me=Ce),$e=Ie),ge&&(Xe=Xe.concat(y(o(o({},x),{},{currentSlide:me})))),We?(Ze={animating:!0,currentSlide:Ce,trackStyle:E(o(o({},x),{},{left:$e})),lazyLoadedList:Xe,targetSlide:ot},mt={animating:!1,currentSlide:Ce,trackStyle:I(o(o({},x),{},{left:Ie})),swipeLeft:null,targetSlide:ot}):Ze={currentSlide:Ce,trackStyle:I(o(o({},x),{},{left:Ie})),lazyLoadedList:Xe,targetSlide:ot};return{state:Ze,nextState:mt}},Oe.changeSlide=function(x,z){var Y,W,ne,ae,le,ge=x.slidesToScroll,Ee=x.slidesToShow,Pe=x.slideCount,Ne=x.currentSlide,Ue=x.targetSlide,We=x.lazyLoad,Xe=x.infinite;if(ae=Pe%ge!==0,Y=ae?0:(Pe-Ne)%ge,z.message==="previous")ne=Y===0?ge:Ee-Y,le=Ne-ne,We&&!Xe&&(W=Ne-ne,le=W===-1?Pe-1:W),Xe||(le=Ue-ge);else if(z.message==="next")ne=Y===0?ge:Y,le=Ne+ne,We&&!Xe&&(le=(Ne+ge)%Pe+Y),Xe||(le=Ue+ge);else if(z.message==="dots")le=z.index*z.slidesToScroll;else if(z.message==="children"){if(le=z.index,Xe){var me=Q(o(o({},x),{},{targetSlide:le}));le>z.currentSlide&&me==="left"?le=le-Pe:le<z.currentSlide&&me==="right"&&(le=le+Pe)}}else z.message==="index"&&(le=Number(z.index));return le},Oe.keyHandler=function(x,z,Y){return x.target.tagName.match("TEXTAREA|INPUT|SELECT")||!z?"":x.keyCode===37?Y?"next":"previous":x.keyCode===39?Y?"previous":"next":""},Oe.swipeStart=function(x,z,Y){return x.target.tagName==="IMG"&&p(x),!z||!Y&&x.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:x.touches?x.touches[0].pageX:x.clientX,startY:x.touches?x.touches[0].pageY:x.clientY,curX:x.touches?x.touches[0].pageX:x.clientX,curY:x.touches?x.touches[0].pageY:x.clientY}}},Oe.swipeMove=function(x,z){var Y=z.scrolling,W=z.animating,ne=z.vertical,ae=z.swipeToSlide,le=z.verticalSwiping,ge=z.rtl,Ee=z.currentSlide,Pe=z.edgeFriction,Ne=z.edgeDragged,Ue=z.onEdge,We=z.swiped,Xe=z.swiping,me=z.slideCount,Ce=z.slidesToScroll,$e=z.infinite,Ie=z.touchObject,Ze=z.swipeEvent,mt=z.listHeight,ot=z.listWidth;if(!Y){if(W)return p(x);ne&&ae&&le&&p(x);var Dt,dt={},hn=S(z);Ie.curX=x.touches?x.touches[0].pageX:x.clientX,Ie.curY=x.touches?x.touches[0].pageY:x.clientY,Ie.swipeLength=Math.round(Math.sqrt(Math.pow(Ie.curX-Ie.startX,2)));var or=Math.round(Math.sqrt(Math.pow(Ie.curY-Ie.startY,2)));if(!le&&!Xe&&or>10)return{scrolling:!0};le&&(Ie.swipeLength=or);var An=(ge?-1:1)*(Ie.curX>Ie.startX?1:-1);le&&(An=Ie.curY>Ie.startY?1:-1);var pt=Math.ceil(me/Ce),qe=q(z.touchObject,le),nn=Ie.swipeLength;return $e||(Ee===0&&(qe==="right"||qe==="down")||Ee+1>=pt&&(qe==="left"||qe==="up")||!H(z)&&(qe==="left"||qe==="up"))&&(nn=Ie.swipeLength*Pe,Ne===!1&&Ue&&(Ue(qe),dt.edgeDragged=!0)),!We&&Ze&&(Ze(qe),dt.swiped=!0),ne?Dt=hn+nn*(mt/ot)*An:ge?Dt=hn-nn*An:Dt=hn+nn*An,le&&(Dt=hn+nn*An),dt=o(o({},dt),{},{touchObject:Ie,swipeLeft:Dt,trackStyle:I(o(o({},z),{},{left:Dt}))}),Math.abs(Ie.curX-Ie.startX)<Math.abs(Ie.curY-Ie.startY)*.8||Ie.swipeLength>10&&(dt.swiping=!0,p(x)),dt}},Oe.swipeEnd=function(x,z){var Y=z.dragging,W=z.swipe,ne=z.touchObject,ae=z.listWidth,le=z.touchThreshold,ge=z.verticalSwiping,Ee=z.listHeight,Pe=z.swipeToSlide,Ne=z.scrolling,Ue=z.onSwipe,We=z.targetSlide,Xe=z.currentSlide,me=z.infinite;if(!Y)return W&&p(x),{};var Ce=ge?Ee/le:ae/le,$e=q(ne,ge),Ie={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(Ne||!ne.swipeLength)return Ie;if(ne.swipeLength>Ce){p(x),Ue&&Ue($e);var Ze,mt,ot=me?Xe:We;switch($e){case"left":case"up":mt=ot+M(z),Ze=Pe?O(z,mt):mt,Ie.currentDirection=0;break;case"right":case"down":mt=ot-M(z),Ze=Pe?O(z,mt):mt,Ie.currentDirection=1;break;default:Ze=ot}Ie.triggerSlideHandler=Ze}else{var Dt=S(z);Ie.trackStyle=E(o(o({},z),{},{left:Dt}))}return Ie};var X=Oe.getNavigableIndexes=function(x){for(var z=x.infinite?x.slideCount*2:x.slideCount,Y=x.infinite?x.slidesToShow*-1:0,W=x.infinite?x.slidesToShow*-1:0,ne=[];Y<z;)ne.push(Y),Y=W+x.slidesToScroll,W+=Math.min(x.slidesToScroll,x.slidesToShow);return ne},O=Oe.checkNavigable=function(x,z){var Y=X(x),W=0;if(z>Y[Y.length-1])z=Y[Y.length-1];else for(var ne in Y){if(z<Y[ne]){z=W;break}W=Y[ne]}return z},M=Oe.getSlideCount=function(x){var z=x.centerMode?x.slideWidth*Math.floor(x.slidesToShow/2):0;if(x.swipeToSlide){var Y,W=x.listRef,ne=W.querySelectorAll&&W.querySelectorAll(".slick-slide")||[];if(Array.from(ne).every(function(ge){if(x.vertical){if(ge.offsetTop+j(ge)/2>x.swipeLeft*-1)return Y=ge,!1}else if(ge.offsetLeft-z+U(ge)/2>x.swipeLeft*-1)return Y=ge,!1;return!0}),!Y)return 0;var ae=x.rtl===!0?x.slideCount-x.currentSlide:x.currentSlide,le=Math.abs(Y.dataset.index-ae)||1;return le}else return x.slidesToScroll},C=Oe.checkSpecKeys=function(x,z){return z.reduce(function(Y,W){return Y&&x.hasOwnProperty(W)},!0)?null:console.error("Keys Missing:",x)},I=Oe.getTrackCSS=function(x){C(x,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var z,Y,W=x.slideCount+2*x.slidesToShow;x.vertical?Y=W*x.slideHeight:z=L(x)*x.slideWidth;var ne={opacity:1,transition:"",WebkitTransition:""};if(x.useTransform){var ae=x.vertical?"translate3d(0px, "+x.left+"px, 0px)":"translate3d("+x.left+"px, 0px, 0px)",le=x.vertical?"translate3d(0px, "+x.left+"px, 0px)":"translate3d("+x.left+"px, 0px, 0px)",ge=x.vertical?"translateY("+x.left+"px)":"translateX("+x.left+"px)";ne=o(o({},ne),{},{WebkitTransform:ae,transform:le,msTransform:ge})}else x.vertical?ne.top=x.left:ne.left=x.left;return x.fade&&(ne={opacity:1}),z&&(ne.width=z),Y&&(ne.height=Y),window&&!window.addEventListener&&window.attachEvent&&(x.vertical?ne.marginTop=x.left+"px":ne.marginLeft=x.left+"px"),ne},E=Oe.getTrackAnimateCSS=function(x){C(x,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var z=I(x);return x.useTransform?(z.WebkitTransition="-webkit-transform "+x.speed+"ms "+x.cssEase,z.transition="transform "+x.speed+"ms "+x.cssEase):x.vertical?z.transition="top "+x.speed+"ms "+x.cssEase:z.transition="left "+x.speed+"ms "+x.cssEase,z},S=Oe.getTrackLeft=function(x){if(x.unslick)return 0;C(x,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var z=x.slideIndex,Y=x.trackRef,W=x.infinite,ne=x.centerMode,ae=x.slideCount,le=x.slidesToShow,ge=x.slidesToScroll,Ee=x.slideWidth,Pe=x.listWidth,Ne=x.variableWidth,Ue=x.slideHeight,We=x.fade,Xe=x.vertical,me=0,Ce,$e,Ie=0;if(We||x.slideCount===1)return 0;var Ze=0;if(W?(Ze=-k(x),ae%ge!==0&&z+ge>ae&&(Ze=-(z>ae?le-(z-ae):ae%ge)),ne&&(Ze+=parseInt(le/2))):(ae%ge!==0&&z+ge>ae&&(Ze=le-ae%ge),ne&&(Ze=parseInt(le/2))),me=Ze*Ee,Ie=Ze*Ue,Xe?Ce=z*Ue*-1+Ie:Ce=z*Ee*-1+me,Ne===!0){var mt,ot=Y&&Y.node;if(mt=z+k(x),$e=ot&&ot.childNodes[mt],Ce=$e?$e.offsetLeft*-1:0,ne===!0){mt=W?z+k(x):z,$e=ot&&ot.children[mt],Ce=0;for(var Dt=0;Dt<mt;Dt++)Ce-=ot&&ot.children[Dt]&&ot.children[Dt].offsetWidth;Ce-=parseInt(x.centerPadding),Ce+=$e&&(Pe-$e.offsetWidth)/2}}return Ce},k=Oe.getPreClones=function(x){return x.unslick||!x.infinite?0:x.variableWidth?x.slideCount:x.slidesToShow+(x.centerMode?1:0)},F=Oe.getPostClones=function(x){return x.unslick||!x.infinite?0:x.slideCount},L=Oe.getTotalSlides=function(x){return x.slideCount===1?1:k(x)+x.slideCount+F(x)},Q=Oe.siblingDirection=function(x){return x.targetSlide>x.currentSlide?x.targetSlide>x.currentSlide+Z(x)?"left":"right":x.targetSlide<x.currentSlide-B(x)?"right":"left"},Z=Oe.slidesOnRight=function(x){var z=x.slidesToShow,Y=x.centerMode,W=x.rtl,ne=x.centerPadding;if(Y){var ae=(z-1)/2+1;return parseInt(ne)>0&&(ae+=1),W&&z%2===0&&(ae+=1),ae}return W?0:z-1},B=Oe.slidesOnLeft=function(x){var z=x.slidesToShow,Y=x.centerMode,W=x.rtl,ne=x.centerPadding;if(Y){var ae=(z-1)/2+1;return parseInt(ne)>0&&(ae+=1),!W&&z%2===0&&(ae+=1),ae}return W?z-1:0};Oe.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var T=Oe.validSettings=Object.keys(e.default);function J(K){return T.reduce(function(x,z){return K.hasOwnProperty(z)&&(x[z]=K[z]),x},{})}return Oe}var md={},oR;function MX(){if(oR)return md;oR=1,Object.defineProperty(md,"__esModule",{value:!0}),md.Track=void 0;var t=r(xa()),e=r(Ng()),n=Bf();function r(E){return E&&E.__esModule?E:{default:E}}function i(E){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},i(E)}function o(){return o=Object.assign?Object.assign.bind():function(E){for(var S=1;S<arguments.length;S++){var k=arguments[S];for(var F in k)Object.prototype.hasOwnProperty.call(k,F)&&(E[F]=k[F])}return E},o.apply(this,arguments)}function l(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}function c(E,S){for(var k=0;k<S.length;k++){var F=S[k];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(E,H(F.key),F)}}function d(E,S,k){return S&&c(E.prototype,S),Object.defineProperty(E,"prototype",{writable:!1}),E}function h(E,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(S&&S.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),S&&p(E,S)}function p(E,S){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(F,L){return F.__proto__=L,F},p(E,S)}function y(E){var S=N();return function(){var F=P(E),L;if(S){var Q=P(this).constructor;L=Reflect.construct(F,arguments,Q)}else L=F.apply(this,arguments);return w(this,L)}}function w(E,S){if(S&&(i(S)==="object"||typeof S=="function"))return S;if(S!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A(E)}function A(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function N(){try{var E=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N=function(){return!!E})()}function P(E){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},P(E)}function U(E,S){var k=Object.keys(E);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(E);S&&(F=F.filter(function(L){return Object.getOwnPropertyDescriptor(E,L).enumerable})),k.push.apply(k,F)}return k}function j(E){for(var S=1;S<arguments.length;S++){var k=arguments[S]!=null?arguments[S]:{};S%2?U(Object(k),!0).forEach(function(F){q(E,F,k[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(k)):U(Object(k)).forEach(function(F){Object.defineProperty(E,F,Object.getOwnPropertyDescriptor(k,F))})}return E}function q(E,S,k){return S=H(S),S in E?Object.defineProperty(E,S,{value:k,enumerable:!0,configurable:!0,writable:!0}):E[S]=k,E}function H(E){var S=X(E,"string");return i(S)=="symbol"?S:String(S)}function X(E,S){if(i(E)!="object"||!E)return E;var k=E[Symbol.toPrimitive];if(k!==void 0){var F=k.call(E,S);if(i(F)!="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(E)}var O=function(S){var k,F,L,Q,Z;S.rtl?Z=S.slideCount-1-S.index:Z=S.index,L=Z<0||Z>=S.slideCount,S.centerMode?(Q=Math.floor(S.slidesToShow/2),F=(Z-S.currentSlide)%S.slideCount===0,Z>S.currentSlide-Q-1&&Z<=S.currentSlide+Q&&(k=!0)):k=S.currentSlide<=Z&&Z<S.currentSlide+S.slidesToShow;var B;S.targetSlide<0?B=S.targetSlide+S.slideCount:S.targetSlide>=S.slideCount?B=S.targetSlide-S.slideCount:B=S.targetSlide;var T=Z===B;return{"slick-slide":!0,"slick-active":k,"slick-center":F,"slick-cloned":L,"slick-current":T}},M=function(S){var k={};return(S.variableWidth===void 0||S.variableWidth===!1)&&(k.width=S.slideWidth),S.fade&&(k.position="relative",S.vertical?k.top=-S.index*parseInt(S.slideHeight):k.left=-S.index*parseInt(S.slideWidth),k.opacity=S.currentSlide===S.index?1:0,k.zIndex=S.currentSlide===S.index?999:998,S.useCSS&&(k.transition="opacity "+S.speed+"ms "+S.cssEase+", visibility "+S.speed+"ms "+S.cssEase)),k},C=function(S,k){return S.key||k},I=function(S){var k,F=[],L=[],Q=[],Z=t.default.Children.count(S.children),B=(0,n.lazyStartIndex)(S),T=(0,n.lazyEndIndex)(S);return t.default.Children.forEach(S.children,function(J,K){var x,z={message:"children",index:K,slidesToScroll:S.slidesToScroll,currentSlide:S.currentSlide};!S.lazyLoad||S.lazyLoad&&S.lazyLoadedList.indexOf(K)>=0?x=J:x=t.default.createElement("div",null);var Y=M(j(j({},S),{},{index:K})),W=x.props.className||"",ne=O(j(j({},S),{},{index:K}));if(F.push(t.default.cloneElement(x,{key:"original"+C(x,K),"data-index":K,className:(0,e.default)(ne,W),tabIndex:"-1","aria-hidden":!ne["slick-active"],style:j(j({outline:"none"},x.props.style||{}),Y),onClick:function(ge){x.props&&x.props.onClick&&x.props.onClick(ge),S.focusOnSelect&&S.focusOnSelect(z)}})),S.infinite&&S.fade===!1){var ae=Z-K;ae<=(0,n.getPreClones)(S)&&(k=-ae,k>=B&&(x=J),ne=O(j(j({},S),{},{index:k})),L.push(t.default.cloneElement(x,{key:"precloned"+C(x,k),"data-index":k,tabIndex:"-1",className:(0,e.default)(ne,W),"aria-hidden":!ne["slick-active"],style:j(j({},x.props.style||{}),Y),onClick:function(ge){x.props&&x.props.onClick&&x.props.onClick(ge),S.focusOnSelect&&S.focusOnSelect(z)}}))),k=Z+K,k<T&&(x=J),ne=O(j(j({},S),{},{index:k})),Q.push(t.default.cloneElement(x,{key:"postcloned"+C(x,k),"data-index":k,tabIndex:"-1",className:(0,e.default)(ne,W),"aria-hidden":!ne["slick-active"],style:j(j({},x.props.style||{}),Y),onClick:function(ge){x.props&&x.props.onClick&&x.props.onClick(ge),S.focusOnSelect&&S.focusOnSelect(z)}}))}}),S.rtl?L.concat(F,Q).reverse():L.concat(F,Q)};return md.Track=function(E){h(k,E);var S=y(k);function k(){var F;l(this,k);for(var L=arguments.length,Q=new Array(L),Z=0;Z<L;Z++)Q[Z]=arguments[Z];return F=S.call.apply(S,[this].concat(Q)),q(A(F),"node",null),q(A(F),"handleRef",function(B){F.node=B}),F}return d(k,[{key:"render",value:function(){var L=I(this.props),Q=this.props,Z=Q.onMouseEnter,B=Q.onMouseOver,T=Q.onMouseLeave,J={onMouseEnter:Z,onMouseOver:B,onMouseLeave:T};return t.default.createElement("div",o({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},J),L)}}]),k}(t.default.PureComponent),md}var pd={},lR;function PX(){if(lR)return pd;lR=1;function t(O){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},t(O)}Object.defineProperty(pd,"__esModule",{value:!0}),pd.Dots=void 0;var e=i(xa()),n=i(Ng()),r=Bf();function i(O){return O&&O.__esModule?O:{default:O}}function o(O,M){var C=Object.keys(O);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(O);M&&(I=I.filter(function(E){return Object.getOwnPropertyDescriptor(O,E).enumerable})),C.push.apply(C,I)}return C}function l(O){for(var M=1;M<arguments.length;M++){var C=arguments[M]!=null?arguments[M]:{};M%2?o(Object(C),!0).forEach(function(I){c(O,I,C[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(C)):o(Object(C)).forEach(function(I){Object.defineProperty(O,I,Object.getOwnPropertyDescriptor(C,I))})}return O}function c(O,M,C){return M=y(M),M in O?Object.defineProperty(O,M,{value:C,enumerable:!0,configurable:!0,writable:!0}):O[M]=C,O}function d(O,M){if(!(O instanceof M))throw new TypeError("Cannot call a class as a function")}function h(O,M){for(var C=0;C<M.length;C++){var I=M[C];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(O,y(I.key),I)}}function p(O,M,C){return M&&h(O.prototype,M),Object.defineProperty(O,"prototype",{writable:!1}),O}function y(O){var M=w(O,"string");return t(M)=="symbol"?M:String(M)}function w(O,M){if(t(O)!="object"||!O)return O;var C=O[Symbol.toPrimitive];if(C!==void 0){var I=C.call(O,M);if(t(I)!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}function A(O,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(M&&M.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),M&&N(O,M)}function N(O,M){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,E){return I.__proto__=E,I},N(O,M)}function P(O){var M=q();return function(){var I=H(O),E;if(M){var S=H(this).constructor;E=Reflect.construct(I,arguments,S)}else E=I.apply(this,arguments);return U(this,E)}}function U(O,M){if(M&&(t(M)==="object"||typeof M=="function"))return M;if(M!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j(O)}function j(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function q(){try{var O=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q=function(){return!!O})()}function H(O){return H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)},H(O)}var X=function(M){var C;return M.infinite?C=Math.ceil(M.slideCount/M.slidesToScroll):C=Math.ceil((M.slideCount-M.slidesToShow)/M.slidesToScroll)+1,C};return pd.Dots=function(O){A(C,O);var M=P(C);function C(){return d(this,C),M.apply(this,arguments)}return p(C,[{key:"clickHandler",value:function(E,S){S.preventDefault(),this.props.clickHandler(E)}},{key:"render",value:function(){for(var E=this.props,S=E.onMouseEnter,k=E.onMouseOver,F=E.onMouseLeave,L=E.infinite,Q=E.slidesToScroll,Z=E.slidesToShow,B=E.slideCount,T=E.currentSlide,J=X({slideCount:B,slidesToScroll:Q,slidesToShow:Z,infinite:L}),K={onMouseEnter:S,onMouseOver:k,onMouseLeave:F},x=[],z=0;z<J;z++){var Y=(z+1)*Q-1,W=L?Y:(0,r.clamp)(Y,0,B-1),ne=W-(Q-1),ae=L?ne:(0,r.clamp)(ne,0,B-1),le=(0,n.default)({"slick-active":L?T>=ae&&T<=W:T===ae}),ge={message:"dots",index:z,slidesToScroll:Q,currentSlide:T},Ee=this.clickHandler.bind(this,ge);x=x.concat(e.default.createElement("li",{key:z,className:le},e.default.cloneElement(this.props.customPaging(z),{onClick:Ee})))}return e.default.cloneElement(this.props.appendDots(x),l({className:this.props.dotsClass},K))}}]),C}(e.default.PureComponent),pd}var Go={},uR;function DX(){if(uR)return Go;uR=1;function t(O){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},t(O)}Object.defineProperty(Go,"__esModule",{value:!0}),Go.PrevArrow=Go.NextArrow=void 0;var e=i(xa()),n=i(Ng()),r=Bf();function i(O){return O&&O.__esModule?O:{default:O}}function o(){return o=Object.assign?Object.assign.bind():function(O){for(var M=1;M<arguments.length;M++){var C=arguments[M];for(var I in C)Object.prototype.hasOwnProperty.call(C,I)&&(O[I]=C[I])}return O},o.apply(this,arguments)}function l(O,M){var C=Object.keys(O);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(O);M&&(I=I.filter(function(E){return Object.getOwnPropertyDescriptor(O,E).enumerable})),C.push.apply(C,I)}return C}function c(O){for(var M=1;M<arguments.length;M++){var C=arguments[M]!=null?arguments[M]:{};M%2?l(Object(C),!0).forEach(function(I){d(O,I,C[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(C)):l(Object(C)).forEach(function(I){Object.defineProperty(O,I,Object.getOwnPropertyDescriptor(C,I))})}return O}function d(O,M,C){return M=w(M),M in O?Object.defineProperty(O,M,{value:C,enumerable:!0,configurable:!0,writable:!0}):O[M]=C,O}function h(O,M){if(!(O instanceof M))throw new TypeError("Cannot call a class as a function")}function p(O,M){for(var C=0;C<M.length;C++){var I=M[C];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(O,w(I.key),I)}}function y(O,M,C){return M&&p(O.prototype,M),Object.defineProperty(O,"prototype",{writable:!1}),O}function w(O){var M=A(O,"string");return t(M)=="symbol"?M:String(M)}function A(O,M){if(t(O)!="object"||!O)return O;var C=O[Symbol.toPrimitive];if(C!==void 0){var I=C.call(O,M);if(t(I)!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}function N(O,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(M&&M.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),M&&P(O,M)}function P(O,M){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,E){return I.__proto__=E,I},P(O,M)}function U(O){var M=H();return function(){var I=X(O),E;if(M){var S=X(this).constructor;E=Reflect.construct(I,arguments,S)}else E=I.apply(this,arguments);return j(this,E)}}function j(O,M){if(M&&(t(M)==="object"||typeof M=="function"))return M;if(M!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q(O)}function q(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function H(){try{var O=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H=function(){return!!O})()}function X(O){return X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)},X(O)}return Go.PrevArrow=function(O){N(C,O);var M=U(C);function C(){return h(this,C),M.apply(this,arguments)}return y(C,[{key:"clickHandler",value:function(E,S){S&&S.preventDefault(),this.props.clickHandler(E,S)}},{key:"render",value:function(){var E={"slick-arrow":!0,"slick-prev":!0},S=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(E["slick-disabled"]=!0,S=null);var k={key:"0","data-role":"none",className:(0,n.default)(E),style:{display:"block"},onClick:S},F={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},L;return this.props.prevArrow?L=e.default.cloneElement(this.props.prevArrow,c(c({},k),F)):L=e.default.createElement("button",o({key:"0",type:"button"},k)," ","Previous"),L}}]),C}(e.default.PureComponent),Go.NextArrow=function(O){N(C,O);var M=U(C);function C(){return h(this,C),M.apply(this,arguments)}return y(C,[{key:"clickHandler",value:function(E,S){S&&S.preventDefault(),this.props.clickHandler(E,S)}},{key:"render",value:function(){var E={"slick-arrow":!0,"slick-next":!0},S=this.clickHandler.bind(this,{message:"next"});(0,r.canGoNext)(this.props)||(E["slick-disabled"]=!0,S=null);var k={key:"1","data-role":"none",className:(0,n.default)(E),style:{display:"block"},onClick:S},F={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},L;return this.props.nextArrow?L=e.default.cloneElement(this.props.nextArrow,c(c({},k),F)):L=e.default.createElement("button",o({key:"1",type:"button"},k)," ","Next"),L}}]),C}(e.default.PureComponent),Go}var kD=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var l=o[i];n.call(r,l[1],l[0])}},e}()}(),Wb=typeof window<"u"&&typeof document<"u"&&window.document===document,zp=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),jX=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(zp):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),kX=2;function LX(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&c()}function l(){jX(o)}function c(){var d=Date.now();if(n){if(d-i<kX)return;r=!0}else n=!0,r=!1,setTimeout(l,e);i=d}return c}var VX=20,UX=["top","right","bottom","left","width","height","size","weight"],zX=typeof MutationObserver<"u",BX=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=LX(this.refresh.bind(this),VX)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!Wb||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),zX?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!Wb||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=UX.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),LD=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},qu=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||zp},VD=Ig(0,0,0,0);function Bp(t){return parseFloat(t)||0}function cR(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var o=t["border-"+i+"-width"];return r+Bp(o)},0)}function FX(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var o=i[r],l=t["padding-"+o];n[o]=Bp(l)}return n}function HX(t){var e=t.getBBox();return Ig(0,0,e.width,e.height)}function $X(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return VD;var r=qu(t).getComputedStyle(t),i=FX(r),o=i.left+i.right,l=i.top+i.bottom,c=Bp(r.width),d=Bp(r.height);if(r.boxSizing==="border-box"&&(Math.round(c+o)!==e&&(c-=cR(r,"left","right")+o),Math.round(d+l)!==n&&(d-=cR(r,"top","bottom")+l)),!GX(t)){var h=Math.round(c+o)-e,p=Math.round(d+l)-n;Math.abs(h)!==1&&(c-=h),Math.abs(p)!==1&&(d-=p)}return Ig(i.left,i.top,c,d)}var qX=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof qu(t).SVGGraphicsElement}:function(t){return t instanceof qu(t).SVGElement&&typeof t.getBBox=="function"}}();function GX(t){return t===qu(t).document.documentElement}function KX(t){return Wb?qX(t)?HX(t):$X(t):VD}function WX(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,l=Object.create(o.prototype);return LD(l,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),l}function Ig(t,e,n,r){return{x:t,y:e,width:n,height:r}}var YX=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Ig(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=KX(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),XX=function(){function t(e,n){var r=WX(n);LD(this,{target:e,contentRect:r})}return t}(),QX=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new kD,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof qu(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new YX(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof qu(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new XX(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),UD=typeof WeakMap<"u"?new WeakMap:new kD,zD=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=BX.getInstance(),r=new QX(e,n,this);UD.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){zD.prototype[t]=function(){var e;return(e=UD.get(this))[t].apply(e,arguments)}});var ZX=function(){return typeof zp.ResizeObserver<"u"?zp.ResizeObserver:zD}();const JX=Object.freeze(Object.defineProperty({__proto__:null,default:ZX},Symbol.toStringTag,{value:"Module"})),eQ=hj(JX);var dR;function tQ(){if(dR)return hd;dR=1,Object.defineProperty(hd,"__esModule",{value:!0}),hd.InnerSlider=void 0;var t=h(xa()),e=h(IX()),n=h(OX()),r=h(Ng()),i=Bf(),o=MX(),l=PX(),c=DX(),d=h(eQ);function h(L){return L&&L.__esModule?L:{default:L}}function p(L){"@babel/helpers - typeof";return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},p(L)}function y(){return y=Object.assign?Object.assign.bind():function(L){for(var Q=1;Q<arguments.length;Q++){var Z=arguments[Q];for(var B in Z)Object.prototype.hasOwnProperty.call(Z,B)&&(L[B]=Z[B])}return L},y.apply(this,arguments)}function w(L,Q){if(L==null)return{};var Z=A(L,Q),B,T;if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(L);for(T=0;T<J.length;T++)B=J[T],!(Q.indexOf(B)>=0)&&Object.prototype.propertyIsEnumerable.call(L,B)&&(Z[B]=L[B])}return Z}function A(L,Q){if(L==null)return{};var Z={},B=Object.keys(L),T,J;for(J=0;J<B.length;J++)T=B[J],!(Q.indexOf(T)>=0)&&(Z[T]=L[T]);return Z}function N(L,Q){var Z=Object.keys(L);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(L);Q&&(B=B.filter(function(T){return Object.getOwnPropertyDescriptor(L,T).enumerable})),Z.push.apply(Z,B)}return Z}function P(L){for(var Q=1;Q<arguments.length;Q++){var Z=arguments[Q]!=null?arguments[Q]:{};Q%2?N(Object(Z),!0).forEach(function(B){S(L,B,Z[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(Z)):N(Object(Z)).forEach(function(B){Object.defineProperty(L,B,Object.getOwnPropertyDescriptor(Z,B))})}return L}function U(L,Q){if(!(L instanceof Q))throw new TypeError("Cannot call a class as a function")}function j(L,Q){for(var Z=0;Z<Q.length;Z++){var B=Q[Z];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(L,k(B.key),B)}}function q(L,Q,Z){return Q&&j(L.prototype,Q),Object.defineProperty(L,"prototype",{writable:!1}),L}function H(L,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Super expression must either be null or a function");L.prototype=Object.create(Q&&Q.prototype,{constructor:{value:L,writable:!0,configurable:!0}}),Object.defineProperty(L,"prototype",{writable:!1}),Q&&X(L,Q)}function X(L,Q){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,T){return B.__proto__=T,B},X(L,Q)}function O(L){var Q=I();return function(){var B=E(L),T;if(Q){var J=E(this).constructor;T=Reflect.construct(B,arguments,J)}else T=B.apply(this,arguments);return M(this,T)}}function M(L,Q){if(Q&&(p(Q)==="object"||typeof Q=="function"))return Q;if(Q!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C(L)}function C(L){if(L===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L}function I(){try{var L=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I=function(){return!!L})()}function E(L){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Z){return Z.__proto__||Object.getPrototypeOf(Z)},E(L)}function S(L,Q,Z){return Q=k(Q),Q in L?Object.defineProperty(L,Q,{value:Z,enumerable:!0,configurable:!0,writable:!0}):L[Q]=Z,L}function k(L){var Q=F(L,"string");return p(Q)=="symbol"?Q:String(Q)}function F(L,Q){if(p(L)!="object"||!L)return L;var Z=L[Symbol.toPrimitive];if(Z!==void 0){var B=Z.call(L,Q);if(p(B)!="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Q==="string"?String:Number)(L)}return hd.InnerSlider=function(L){H(Z,L);var Q=O(Z);function Z(B){var T;U(this,Z),T=Q.call(this,B),S(C(T),"listRefHandler",function(K){return T.list=K}),S(C(T),"trackRefHandler",function(K){return T.track=K}),S(C(T),"adaptHeight",function(){if(T.props.adaptiveHeight&&T.list){var K=T.list.querySelector('[data-index="'.concat(T.state.currentSlide,'"]'));T.list.style.height=(0,i.getHeight)(K)+"px"}}),S(C(T),"componentDidMount",function(){if(T.props.onInit&&T.props.onInit(),T.props.lazyLoad){var K=(0,i.getOnDemandLazySlides)(P(P({},T.props),T.state));K.length>0&&(T.setState(function(z){return{lazyLoadedList:z.lazyLoadedList.concat(K)}}),T.props.onLazyLoad&&T.props.onLazyLoad(K))}var x=P({listRef:T.list,trackRef:T.track},T.props);T.updateState(x,!0,function(){T.adaptHeight(),T.props.autoplay&&T.autoPlay("update")}),T.props.lazyLoad==="progressive"&&(T.lazyLoadTimer=setInterval(T.progressiveLazyLoad,1e3)),T.ro=new d.default(function(){T.state.animating?(T.onWindowResized(!1),T.callbackTimers.push(setTimeout(function(){return T.onWindowResized()},T.props.speed))):T.onWindowResized()}),T.ro.observe(T.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(z){z.onfocus=T.props.pauseOnFocus?T.onSlideFocus:null,z.onblur=T.props.pauseOnFocus?T.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",T.onWindowResized):window.attachEvent("onresize",T.onWindowResized)}),S(C(T),"componentWillUnmount",function(){T.animationEndCallback&&clearTimeout(T.animationEndCallback),T.lazyLoadTimer&&clearInterval(T.lazyLoadTimer),T.callbackTimers.length&&(T.callbackTimers.forEach(function(K){return clearTimeout(K)}),T.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",T.onWindowResized):window.detachEvent("onresize",T.onWindowResized),T.autoplayTimer&&clearInterval(T.autoplayTimer),T.ro.disconnect()}),S(C(T),"componentDidUpdate",function(K){if(T.checkImagesLoad(),T.props.onReInit&&T.props.onReInit(),T.props.lazyLoad){var x=(0,i.getOnDemandLazySlides)(P(P({},T.props),T.state));x.length>0&&(T.setState(function(W){return{lazyLoadedList:W.lazyLoadedList.concat(x)}}),T.props.onLazyLoad&&T.props.onLazyLoad(x))}T.adaptHeight();var z=P(P({listRef:T.list,trackRef:T.track},T.props),T.state),Y=T.didPropsChange(K);Y&&T.updateState(z,Y,function(){T.state.currentSlide>=t.default.Children.count(T.props.children)&&T.changeSlide({message:"index",index:t.default.Children.count(T.props.children)-T.props.slidesToShow,currentSlide:T.state.currentSlide}),T.props.autoplay?T.autoPlay("update"):T.pause("paused")})}),S(C(T),"onWindowResized",function(K){T.debouncedResize&&T.debouncedResize.cancel(),T.debouncedResize=(0,n.default)(function(){return T.resizeWindow(K)},50),T.debouncedResize()}),S(C(T),"resizeWindow",function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,x=!!(T.track&&T.track.node);if(x){var z=P(P({listRef:T.list,trackRef:T.track},T.props),T.state);T.updateState(z,K,function(){T.props.autoplay?T.autoPlay("update"):T.pause("paused")}),T.setState({animating:!1}),clearTimeout(T.animationEndCallback),delete T.animationEndCallback}}),S(C(T),"updateState",function(K,x,z){var Y=(0,i.initializedState)(K);K=P(P(P({},K),Y),{},{slideIndex:Y.currentSlide});var W=(0,i.getTrackLeft)(K);K=P(P({},K),{},{left:W});var ne=(0,i.getTrackCSS)(K);(x||t.default.Children.count(T.props.children)!==t.default.Children.count(K.children))&&(Y.trackStyle=ne),T.setState(Y,z)}),S(C(T),"ssrInit",function(){if(T.props.variableWidth){var K=0,x=0,z=[],Y=(0,i.getPreClones)(P(P(P({},T.props),T.state),{},{slideCount:T.props.children.length})),W=(0,i.getPostClones)(P(P(P({},T.props),T.state),{},{slideCount:T.props.children.length}));T.props.children.forEach(function($e){z.push($e.props.style.width),K+=$e.props.style.width});for(var ne=0;ne<Y;ne++)x+=z[z.length-1-ne],K+=z[z.length-1-ne];for(var ae=0;ae<W;ae++)K+=z[ae];for(var le=0;le<T.state.currentSlide;le++)x+=z[le];var ge={width:K+"px",left:-x+"px"};if(T.props.centerMode){var Ee="".concat(z[T.state.currentSlide],"px");ge.left="calc(".concat(ge.left," + (100% - ").concat(Ee,") / 2 ) ")}return{trackStyle:ge}}var Pe=t.default.Children.count(T.props.children),Ne=P(P(P({},T.props),T.state),{},{slideCount:Pe}),Ue=(0,i.getPreClones)(Ne)+(0,i.getPostClones)(Ne)+Pe,We=100/T.props.slidesToShow*Ue,Xe=100/Ue,me=-Xe*((0,i.getPreClones)(Ne)+T.state.currentSlide)*We/100;T.props.centerMode&&(me+=(100-Xe*We/100)/2);var Ce={width:We+"%",left:me+"%"};return{slideWidth:Xe+"%",trackStyle:Ce}}),S(C(T),"checkImagesLoad",function(){var K=T.list&&T.list.querySelectorAll&&T.list.querySelectorAll(".slick-slide img")||[],x=K.length,z=0;Array.prototype.forEach.call(K,function(Y){var W=function(){return++z&&z>=x&&T.onWindowResized()};if(!Y.onclick)Y.onclick=function(){return Y.parentNode.focus()};else{var ne=Y.onclick;Y.onclick=function(ae){ne(ae),Y.parentNode.focus()}}Y.onload||(T.props.lazyLoad?Y.onload=function(){T.adaptHeight(),T.callbackTimers.push(setTimeout(T.onWindowResized,T.props.speed))}:(Y.onload=W,Y.onerror=function(){W(),T.props.onLazyLoadError&&T.props.onLazyLoadError()}))})}),S(C(T),"progressiveLazyLoad",function(){for(var K=[],x=P(P({},T.props),T.state),z=T.state.currentSlide;z<T.state.slideCount+(0,i.getPostClones)(x);z++)if(T.state.lazyLoadedList.indexOf(z)<0){K.push(z);break}for(var Y=T.state.currentSlide-1;Y>=-(0,i.getPreClones)(x);Y--)if(T.state.lazyLoadedList.indexOf(Y)<0){K.push(Y);break}K.length>0?(T.setState(function(W){return{lazyLoadedList:W.lazyLoadedList.concat(K)}}),T.props.onLazyLoad&&T.props.onLazyLoad(K)):T.lazyLoadTimer&&(clearInterval(T.lazyLoadTimer),delete T.lazyLoadTimer)}),S(C(T),"slideHandler",function(K){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,z=T.props,Y=z.asNavFor,W=z.beforeChange,ne=z.onLazyLoad,ae=z.speed,le=z.afterChange,ge=T.state.currentSlide,Ee=(0,i.slideHandler)(P(P(P({index:K},T.props),T.state),{},{trackRef:T.track,useCSS:T.props.useCSS&&!x})),Pe=Ee.state,Ne=Ee.nextState;if(Pe){W&&W(ge,Pe.currentSlide);var Ue=Pe.lazyLoadedList.filter(function(We){return T.state.lazyLoadedList.indexOf(We)<0});ne&&Ue.length>0&&ne(Ue),!T.props.waitForAnimate&&T.animationEndCallback&&(clearTimeout(T.animationEndCallback),le&&le(ge),delete T.animationEndCallback),T.setState(Pe,function(){Y&&T.asNavForIndex!==K&&(T.asNavForIndex=K,Y.innerSlider.slideHandler(K)),Ne&&(T.animationEndCallback=setTimeout(function(){var We=Ne.animating,Xe=w(Ne,["animating"]);T.setState(Xe,function(){T.callbackTimers.push(setTimeout(function(){return T.setState({animating:We})},10)),le&&le(Pe.currentSlide),delete T.animationEndCallback})},ae))})}}),S(C(T),"changeSlide",function(K){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,z=P(P({},T.props),T.state),Y=(0,i.changeSlide)(z,K);if(!(Y!==0&&!Y)&&(x===!0?T.slideHandler(Y,x):T.slideHandler(Y),T.props.autoplay&&T.autoPlay("update"),T.props.focusOnSelect)){var W=T.list.querySelectorAll(".slick-current");W[0]&&W[0].focus()}}),S(C(T),"clickHandler",function(K){T.clickable===!1&&(K.stopPropagation(),K.preventDefault()),T.clickable=!0}),S(C(T),"keyHandler",function(K){var x=(0,i.keyHandler)(K,T.props.accessibility,T.props.rtl);x!==""&&T.changeSlide({message:x})}),S(C(T),"selectHandler",function(K){T.changeSlide(K)}),S(C(T),"disableBodyScroll",function(){var K=function(z){z=z||window.event,z.preventDefault&&z.preventDefault(),z.returnValue=!1};window.ontouchmove=K}),S(C(T),"enableBodyScroll",function(){window.ontouchmove=null}),S(C(T),"swipeStart",function(K){T.props.verticalSwiping&&T.disableBodyScroll();var x=(0,i.swipeStart)(K,T.props.swipe,T.props.draggable);x!==""&&T.setState(x)}),S(C(T),"swipeMove",function(K){var x=(0,i.swipeMove)(K,P(P(P({},T.props),T.state),{},{trackRef:T.track,listRef:T.list,slideIndex:T.state.currentSlide}));x&&(x.swiping&&(T.clickable=!1),T.setState(x))}),S(C(T),"swipeEnd",function(K){var x=(0,i.swipeEnd)(K,P(P(P({},T.props),T.state),{},{trackRef:T.track,listRef:T.list,slideIndex:T.state.currentSlide}));if(x){var z=x.triggerSlideHandler;delete x.triggerSlideHandler,T.setState(x),z!==void 0&&(T.slideHandler(z),T.props.verticalSwiping&&T.enableBodyScroll())}}),S(C(T),"touchEnd",function(K){T.swipeEnd(K),T.clickable=!0}),S(C(T),"slickPrev",function(){T.callbackTimers.push(setTimeout(function(){return T.changeSlide({message:"previous"})},0))}),S(C(T),"slickNext",function(){T.callbackTimers.push(setTimeout(function(){return T.changeSlide({message:"next"})},0))}),S(C(T),"slickGoTo",function(K){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(K=Number(K),isNaN(K))return"";T.callbackTimers.push(setTimeout(function(){return T.changeSlide({message:"index",index:K,currentSlide:T.state.currentSlide},x)},0))}),S(C(T),"play",function(){var K;if(T.props.rtl)K=T.state.currentSlide-T.props.slidesToScroll;else if((0,i.canGoNext)(P(P({},T.props),T.state)))K=T.state.currentSlide+T.props.slidesToScroll;else return!1;T.slideHandler(K)}),S(C(T),"autoPlay",function(K){T.autoplayTimer&&clearInterval(T.autoplayTimer);var x=T.state.autoplaying;if(K==="update"){if(x==="hovered"||x==="focused"||x==="paused")return}else if(K==="leave"){if(x==="paused"||x==="focused")return}else if(K==="blur"&&(x==="paused"||x==="hovered"))return;T.autoplayTimer=setInterval(T.play,T.props.autoplaySpeed+50),T.setState({autoplaying:"playing"})}),S(C(T),"pause",function(K){T.autoplayTimer&&(clearInterval(T.autoplayTimer),T.autoplayTimer=null);var x=T.state.autoplaying;K==="paused"?T.setState({autoplaying:"paused"}):K==="focused"?(x==="hovered"||x==="playing")&&T.setState({autoplaying:"focused"}):x==="playing"&&T.setState({autoplaying:"hovered"})}),S(C(T),"onDotsOver",function(){return T.props.autoplay&&T.pause("hovered")}),S(C(T),"onDotsLeave",function(){return T.props.autoplay&&T.state.autoplaying==="hovered"&&T.autoPlay("leave")}),S(C(T),"onTrackOver",function(){return T.props.autoplay&&T.pause("hovered")}),S(C(T),"onTrackLeave",function(){return T.props.autoplay&&T.state.autoplaying==="hovered"&&T.autoPlay("leave")}),S(C(T),"onSlideFocus",function(){return T.props.autoplay&&T.pause("focused")}),S(C(T),"onSlideBlur",function(){return T.props.autoplay&&T.state.autoplaying==="focused"&&T.autoPlay("blur")}),S(C(T),"render",function(){var K=(0,r.default)("slick-slider",T.props.className,{"slick-vertical":T.props.vertical,"slick-initialized":!0}),x=P(P({},T.props),T.state),z=(0,i.extractObject)(x,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),Y=T.props.pauseOnHover;z=P(P({},z),{},{onMouseEnter:Y?T.onTrackOver:null,onMouseLeave:Y?T.onTrackLeave:null,onMouseOver:Y?T.onTrackOver:null,focusOnSelect:T.props.focusOnSelect&&T.clickable?T.selectHandler:null});var W;if(T.props.dots===!0&&T.state.slideCount>=T.props.slidesToShow){var ne=(0,i.extractObject)(x,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),ae=T.props.pauseOnDotsHover;ne=P(P({},ne),{},{clickHandler:T.changeSlide,onMouseEnter:ae?T.onDotsLeave:null,onMouseOver:ae?T.onDotsOver:null,onMouseLeave:ae?T.onDotsLeave:null}),W=t.default.createElement(l.Dots,ne)}var le,ge,Ee=(0,i.extractObject)(x,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);Ee.clickHandler=T.changeSlide,T.props.arrows&&(le=t.default.createElement(c.PrevArrow,Ee),ge=t.default.createElement(c.NextArrow,Ee));var Pe=null;T.props.vertical&&(Pe={height:T.state.listHeight});var Ne=null;T.props.vertical===!1?T.props.centerMode===!0&&(Ne={padding:"0px "+T.props.centerPadding}):T.props.centerMode===!0&&(Ne={padding:T.props.centerPadding+" 0px"});var Ue=P(P({},Pe),Ne),We=T.props.touchMove,Xe={className:"slick-list",style:Ue,onClick:T.clickHandler,onMouseDown:We?T.swipeStart:null,onMouseMove:T.state.dragging&&We?T.swipeMove:null,onMouseUp:We?T.swipeEnd:null,onMouseLeave:T.state.dragging&&We?T.swipeEnd:null,onTouchStart:We?T.swipeStart:null,onTouchMove:T.state.dragging&&We?T.swipeMove:null,onTouchEnd:We?T.touchEnd:null,onTouchCancel:T.state.dragging&&We?T.swipeEnd:null,onKeyDown:T.props.accessibility?T.keyHandler:null},me={className:K,dir:"ltr",style:T.props.style};return T.props.unslick&&(Xe={className:"slick-list"},me={className:K}),t.default.createElement("div",me,T.props.unslick?"":le,t.default.createElement("div",y({ref:T.listRefHandler},Xe),t.default.createElement(o.Track,y({ref:T.trackRefHandler},z),T.props.children)),T.props.unslick?"":ge,T.props.unslick?"":W)}),T.list=null,T.track=null,T.state=P(P({},e.default),{},{currentSlide:T.props.initialSlide,targetSlide:T.props.initialSlide?T.props.initialSlide:0,slideCount:t.default.Children.count(T.props.children)}),T.callbackTimers=[],T.clickable=!0,T.debouncedResize=null;var J=T.ssrInit();return T.state=P(P({},T.state),J),T}return q(Z,[{key:"didPropsChange",value:function(T){for(var J=!1,K=0,x=Object.keys(this.props);K<x.length;K++){var z=x[K];if(!T.hasOwnProperty(z)){J=!0;break}if(!(p(T[z])==="object"||typeof T[z]=="function"||isNaN(T[z]))&&T[z]!==this.props[z]){J=!0;break}}return J||t.default.Children.count(this.props.children)!==t.default.Children.count(T.children)}}]),Z}(t.default.Component),hd}var C0,fR;function nQ(){if(fR)return C0;fR=1;var t=function(e){return e.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()}).toLowerCase()};return C0=t,C0}var R0,hR;function rQ(){if(hR)return R0;hR=1;var t=nQ(),e=function(i){var o=/[height|width]$/;return o.test(i)},n=function(i){var o="",l=Object.keys(i);return l.forEach(function(c,d){var h=i[c];c=t(c),e(c)&&typeof h=="number"&&(h=h+"px"),h===!0?o+=c:h===!1?o+="not "+c:o+="("+c+": "+h+")",d<l.length-1&&(o+=" and ")}),o},r=function(i){var o="";return typeof i=="string"?i:i instanceof Array?(i.forEach(function(l,c){o+=n(l),c<i.length-1&&(o+=", ")}),o):n(i)};return R0=r,R0}var N0,mR;function iQ(){if(mR)return N0;mR=1;function t(e){this.options=e,!e.deferSetup&&this.setup()}return t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},N0=t,N0}var I0,pR;function BD(){if(pR)return I0;pR=1;function t(r,i){var o=0,l=r.length,c;for(o;o<l&&(c=i(r[o],o),c!==!1);o++);}function e(r){return Object.prototype.toString.apply(r)==="[object Array]"}function n(r){return typeof r=="function"}return I0={isFunction:n,isArray:e,each:t},I0}var O0,gR;function aQ(){if(gR)return O0;gR=1;var t=iQ(),e=BD().each;function n(r,i){this.query=r,this.isUnconditional=i,this.handlers=[],this.mql=window.matchMedia(r);var o=this;this.listener=function(l){o.mql=l.currentTarget||l,o.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(r){var i=new t(r);this.handlers.push(i),this.matches()&&i.on()},removeHandler:function(r){var i=this.handlers;e(i,function(o,l){if(o.equals(r))return o.destroy(),!i.splice(l,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";e(this.handlers,function(i){i[r]()})}},O0=n,O0}var M0,vR;function sQ(){if(vR)return M0;vR=1;var t=aQ(),e=BD(),n=e.each,r=e.isFunction,i=e.isArray;function o(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return o.prototype={constructor:o,register:function(l,c,d){var h=this.queries,p=d&&this.browserIsIncapable;return h[l]||(h[l]=new t(l,p)),r(c)&&(c={match:c}),i(c)||(c=[c]),n(c,function(y){r(y)&&(y={match:y}),h[l].addHandler(y)}),this},unregister:function(l,c){var d=this.queries[l];return d&&(c?d.removeHandler(c):(d.clear(),delete this.queries[l])),this}},M0=o,M0}var P0,yR;function oQ(){if(yR)return P0;yR=1;var t=sQ();return P0=new t,P0}var bR;function lQ(){return bR||(bR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=l(xa()),n=tQ(),r=l(rQ()),i=l(jD()),o=Bf();function l(E){return E&&E.__esModule?E:{default:E}}function c(E){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},c(E)}function d(){return d=Object.assign?Object.assign.bind():function(E){for(var S=1;S<arguments.length;S++){var k=arguments[S];for(var F in k)Object.prototype.hasOwnProperty.call(k,F)&&(E[F]=k[F])}return E},d.apply(this,arguments)}function h(E,S){var k=Object.keys(E);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(E);S&&(F=F.filter(function(L){return Object.getOwnPropertyDescriptor(E,L).enumerable})),k.push.apply(k,F)}return k}function p(E){for(var S=1;S<arguments.length;S++){var k=arguments[S]!=null?arguments[S]:{};S%2?h(Object(k),!0).forEach(function(F){O(E,F,k[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(k)):h(Object(k)).forEach(function(F){Object.defineProperty(E,F,Object.getOwnPropertyDescriptor(k,F))})}return E}function y(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}function w(E,S){for(var k=0;k<S.length;k++){var F=S[k];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(E,M(F.key),F)}}function A(E,S,k){return S&&w(E.prototype,S),Object.defineProperty(E,"prototype",{writable:!1}),E}function N(E,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(S&&S.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),S&&P(E,S)}function P(E,S){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(F,L){return F.__proto__=L,F},P(E,S)}function U(E){var S=H();return function(){var F=X(E),L;if(S){var Q=X(this).constructor;L=Reflect.construct(F,arguments,Q)}else L=F.apply(this,arguments);return j(this,L)}}function j(E,S){if(S&&(c(S)==="object"||typeof S=="function"))return S;if(S!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q(E)}function q(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function H(){try{var E=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H=function(){return!!E})()}function X(E){return X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},X(E)}function O(E,S,k){return S=M(S),S in E?Object.defineProperty(E,S,{value:k,enumerable:!0,configurable:!0,writable:!0}):E[S]=k,E}function M(E){var S=C(E,"string");return c(S)=="symbol"?S:String(S)}function C(E,S){if(c(E)!="object"||!E)return E;var k=E[Symbol.toPrimitive];if(k!==void 0){var F=k.call(E,S);if(c(F)!="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(E)}var I=(0,o.canUseDOM)()&&oQ();t.default=function(E){N(k,E);var S=U(k);function k(F){var L;return y(this,k),L=S.call(this,F),O(q(L),"innerSliderRefHandler",function(Q){return L.innerSlider=Q}),O(q(L),"slickPrev",function(){return L.innerSlider.slickPrev()}),O(q(L),"slickNext",function(){return L.innerSlider.slickNext()}),O(q(L),"slickGoTo",function(Q){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return L.innerSlider.slickGoTo(Q,Z)}),O(q(L),"slickPause",function(){return L.innerSlider.pause("paused")}),O(q(L),"slickPlay",function(){return L.innerSlider.autoPlay("play")}),L.state={breakpoint:null},L._responsiveMediaHandlers=[],L}return A(k,[{key:"media",value:function(L,Q){I.register(L,Q),this._responsiveMediaHandlers.push({query:L,handler:Q})}},{key:"componentDidMount",value:function(){var L=this;if(this.props.responsive){var Q=this.props.responsive.map(function(B){return B.breakpoint});Q.sort(function(B,T){return B-T}),Q.forEach(function(B,T){var J;T===0?J=(0,r.default)({minWidth:0,maxWidth:B}):J=(0,r.default)({minWidth:Q[T-1]+1,maxWidth:B}),(0,o.canUseDOM)()&&L.media(J,function(){L.setState({breakpoint:B})})});var Z=(0,r.default)({minWidth:Q.slice(-1)[0]});(0,o.canUseDOM)()&&this.media(Z,function(){L.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(L){I.unregister(L.query,L.handler)})}},{key:"render",value:function(){var L=this,Q,Z;this.state.breakpoint?(Z=this.props.responsive.filter(function(ae){return ae.breakpoint===L.state.breakpoint}),Q=Z[0].settings==="unslick"?"unslick":p(p(p({},i.default),this.props),Z[0].settings)):Q=p(p({},i.default),this.props),Q.centerMode&&(Q.slidesToScroll>1,Q.slidesToScroll=1),Q.fade&&(Q.slidesToShow>1,Q.slidesToScroll>1,Q.slidesToShow=1,Q.slidesToScroll=1);var B=e.default.Children.toArray(this.props.children);B=B.filter(function(ae){return typeof ae=="string"?!!ae.trim():!!ae}),Q.variableWidth&&(Q.rows>1||Q.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),Q.variableWidth=!1);for(var T=[],J=null,K=0;K<B.length;K+=Q.rows*Q.slidesPerRow){for(var x=[],z=K;z<K+Q.rows*Q.slidesPerRow;z+=Q.slidesPerRow){for(var Y=[],W=z;W<z+Q.slidesPerRow&&(Q.variableWidth&&B[W].props.style&&(J=B[W].props.style.width),!(W>=B.length));W+=1)Y.push(e.default.cloneElement(B[W],{key:100*K+10*z+W,tabIndex:-1,style:{width:"".concat(100/Q.slidesPerRow,"%"),display:"inline-block"}}));x.push(e.default.createElement("div",{key:10*K+z},Y))}Q.variableWidth?T.push(e.default.createElement("div",{key:K,style:{width:J}},x)):T.push(e.default.createElement("div",{key:K},x))}if(Q==="unslick"){var ne="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:ne},B)}else T.length<=Q.slidesToShow&&!Q.infinite&&(Q.unslick=!0);return e.default.createElement(n.InnerSlider,d({style:this.props.style,ref:this.innerSliderRefHandler},(0,o.filterSettings)(Q)),T)}}]),k}(e.default.Component)}(_0)),_0}var wR;function uQ(){return wR||(wR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(lQ());function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default}(x0)),x0}var cQ=uQ();const dQ=Fp(cQ);function fQ(t){const[e,n]=R.useState([]);return R.useEffect(()=>{t&&(async()=>{const r=await un(Tt(ze,"businesses",t,"products"));n(r.docs.map(i=>({id:i.id,...i.data()})))})()},[t]),e}function hQ({products:t}){const{cart:e,addToCart:n,updateQuantity:r}=Jx();return g.jsx(Se.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.2},className:"absolute z-50 bottom-10 right-0 bg-neutral-900 rounded-xl p-4 w-72 shadow-xl border border-neutral-700 space-y-3",children:t.map(i=>{const o=e.find(l=>l.id===i.productId);return g.jsxs("div",{className:"flex items-center justify-between text-sm",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:"font-medium",children:i.name}),g.jsxs("p",{className:"text-xs text-neutral-400",children:["$",i.price?.toFixed(2)]})]}),o?g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:()=>r(i.productId,o.quantity-1),className:"px-2 text-white cursor-pointer hover:text-primary",children:""}),g.jsx("input",{min:1,className:"w-10 text-center bg-transparent border border-neutral-700 rounded text-white hover:border-primary focus:outline-none focus:ring-1 focus:ring-primary",value:o.quantity,onChange:l=>r(i.productId,Math.max(1,parseInt(l.target.value)||1))}),g.jsx("button",{onClick:()=>r(i.productId,o.quantity+1),className:"px-2 text-white cursor-pointer hover:text-primary",children:"+"})]}):g.jsx("button",{onClick:()=>n({id:i.productId,name:i.name,price:i.price,image:i.image||"",quantity:1}),className:"bg-primary text-sm px-3 py-1 rounded cursor-pointer hover:opacity-90",children:"Add to Cart"})]},i.productId)})})}const xR={initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9}};function y_({post:t,onClose:e,user:n,liked:r,saved:i,handleLike:o,handleSave:l}){const[c,d]=R.useState([]),[h,p]=R.useState(""),[y,w]=R.useState(null),[A,N]=R.useState(""),[P,U]=R.useState(!1),[j,q]=R.useState(!1),[H,X]=R.useState(!1),O=R.useRef(null),M=R.useRef(null),C=fQ(t.business),I=async()=>{if(!(!h.trim()||H)){X(!0);try{await us(Tt(ze,"posts",t.id,"comments"),{text:h.trim(),user:n.uid,timestamp:ts()}),p("")}catch(k){console.error("Error posting comment:",k)}finally{X(!1)}}},E=async(k,F)=>{if(!(!A.trim()||H)){X(!0);try{await us(Tt(ze,"posts",t.id,"comments"),{text:A.trim(),user:n.uid,timestamp:ts(),replyToId:k,replyToUserId:F}),N(""),w(null)}catch(L){console.error("Error posting reply:",L)}finally{X(!1)}}},S=k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),I())};return R.useEffect(()=>{const k=vn(Tt(ze,"posts",t.id,"comments"),Uu("timestamp","asc")),F=zu(k,L=>{d(L.docs.map(Q=>({id:Q.id,...Q.data()})))});return()=>F()},[t.id]),R.useEffect(()=>{function k(F){O.current&&!O.current.contains(F.target)&&q(!1)}return j&&document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[j]),g.jsxs(Se.div,{...xR,transition:{duration:.25},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:[g.jsx("button",{onClick:e,className:"absolute top-6 right-6 text-white hover:bg-neutral-800 p-2 rounded-lg transition z-50 cursor-pointer",children:g.jsx(ns,{size:22})}),g.jsxs(Se.div,{...xR,transition:{duration:.3},className:"bg-neutral-900 text-white w-full max-w-5xl h-[90vh] rounded-xl overflow-hidden flex",children:[g.jsxs("div",{className:"w-2/3 bg-black flex items-center justify-center relative",children:[!P&&g.jsx("div",{className:"absolute inset-0 bg-neutral-800 animate-pulse"}),g.jsx(dQ,{dots:!0,infinite:!0,speed:400,slidesToShow:1,slidesToScroll:1,arrows:!1,className:"w-full h-full",appendDots:k=>g.jsx("div",{style:{bottom:"10px"},children:g.jsx("ul",{className:"flex justify-center gap-2",children:k})}),customPaging:()=>g.jsx("div",{className:"w-2 h-2 bg-white/50 rounded-full"}),children:t.images.map((k,F)=>g.jsx("div",{className:"flex justify-center items-center h-full",children:g.jsx("img",{src:k,alt:`Image ${F+1}`,onLoad:()=>U(!0),className:`max-h-[90vh] w-full object-cover transition-opacity duration-500 ${P?"opacity-100":"opacity-0"}`})},F))})]}),g.jsxs("div",{className:"w-1/3 border-l border-neutral-800 flex flex-col justify-between",children:[g.jsxs("div",{className:"p-4 border-b border-neutral-800",children:[g.jsx("h2",{className:"text-lg font-semibold",children:t.title}),g.jsx("p",{className:"text-sm text-primary/80",children:t.niche}),t.description&&g.jsx("p",{className:"text-sm text-white/80 mt-1",children:t.description}),g.jsx("p",{className:"text-xs text-neutral-400 mt-2",children:t.timestamp?.toDate().toLocaleString()})]}),g.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:g.jsx("div",{className:"space-y-3",children:c.length===0?g.jsxs("div",{className:"text-center py-8",children:[g.jsx("p",{className:"text-sm text-white/60",children:"No comments yet."}),g.jsx("p",{className:"text-xs text-white/40 mt-1",children:"Be the first to comment!"})]}):c.map(k=>g.jsx(NX,{postId:t.id,comment:k,onReplyClick:F=>w(y===F?null:F),isReplying:y===k.id,replyText:A,onReplyChange:N,onReplySubmit:E,isSubmitting:H},k.id))})}),g.jsxs("div",{className:"border-t border-neutral-800 p-4 space-y-4",children:[g.jsxs("div",{className:"flex items-center gap-6",children:[t.likes!==!1&&g.jsx(Se.button,{whileTap:{scale:.9},onClick:o,className:"cursor-pointer hover:scale-105 transition-transform",children:r?g.jsx(Bu,{size:22,className:"text-red-500",fill:"currentColor"}):g.jsx(Bu,{size:22,className:"text-white hover:text-red-400"})}),t.saves!==!1&&g.jsx(Se.button,{whileTap:{scale:.9},onClick:l,className:"cursor-pointer hover:scale-105 transition-transform",children:i?g.jsx(fl,{size:22,className:"text-primary",fill:"currentColor"}):g.jsx(fl,{size:22,className:"text-white hover:text-primary"})}),g.jsxs("div",{className:"ml-auto flex items-center gap-3",children:[g.jsxs("div",{className:"relative",ref:O,children:[g.jsx("button",{onClick:()=>q(!j),className:"cursor-pointer hover:scale-105 transition-transform",children:g.jsx(Bz,{size:22,className:"text-white hover:text-primary"})}),g.jsx(Qn,{children:j&&g.jsx(hQ,{products:C.filter(k=>t.productIds.includes(k.id))})})]}),t.business&&g.jsx("a",{href:`/business/${t.business}`,target:"_blank",className:"cursor-pointer hover:scale-105 transition-transform",children:g.jsx(fz,{size:22,className:"text-white hover:text-primary"})})]})]}),t.comments!==!1&&g.jsxs("div",{className:"flex items-center gap-3 bg-neutral-800/50 rounded-lg p-3",children:[g.jsx("input",{ref:M,className:"flex-1 bg-transparent text-white placeholder-white/60 text-sm outline-none",placeholder:"Add a comment...",value:h,onChange:k=>p(k.target.value),onKeyPress:S,disabled:H}),g.jsx(Se.button,{whileTap:{scale:.95},onClick:I,disabled:!h.trim()||H,className:"text-primary hover:text-primary/80 disabled:text-white/40 disabled:cursor-not-allowed transition-colors",children:g.jsx(Tp,{size:18})})]})]})]})]},"modal")]})}function mQ(){const{user:t}=Si(),{totalUnread:e}=e_(),n=Jr(),[r,i]=R.useState(null),[o,l]=R.useState([]),[c,d]=R.useState([]),[h,p]=R.useState({totalTrades:0,savedPosts:0,unreadMessages:0,recentActivity:0}),[y,w]=R.useState(!0),[A,N]=R.useState(""),[P,U]=R.useState(null),[j,q]=R.useState(!1),[H,X]=R.useState(!1),[O,M]=R.useState(null),[C,I]=R.useState(null);R.useEffect(()=>{if(!t)return;(async()=>{try{w(!0);const[B,T,J]=await Promise.all([p_(t.uid),g_(t.uid),DD(t.uid)]);i(B),l(T),d(J),p({totalTrades:T.length,savedPosts:J.length,unreadMessages:e,recentActivity:T.filter(K=>K.timestamp?.toDate&&new Date(K.timestamp.toDate())>new Date(Date.now()-7*24*60*60*1e3)).length})}catch(B){console.error("Error loading dashboard data:",B)}finally{w(!1)}})()},[t]),R.useEffect(()=>{p(Z=>({...Z,unreadMessages:e}))},[e]);const E=()=>{const Z=new Date().getHours();return Z<12?"Good Morning":Z<17?"Good Afternoon":"Good Evening"},S=Z=>{M(Z),q(!0)},k=Z=>{I(Z),X(!0)},F=Ii.filter(Z=>Z.label.toLowerCase().includes(A.toLowerCase())),L=o.slice(0,4),Q=c.slice(0,4);return y?g.jsx(Er,{className:"flex h-screen w-full bg-neutral-950 text-white",children:g.jsx("div",{className:"flex-1 p-6",children:g.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-full",children:Array.from({length:6}).map((Z,B)=>g.jsxs("div",{className:"bg-neutral-900 rounded-2xl p-6 animate-pulse",children:[g.jsx("div",{className:"h-6 bg-neutral-800 rounded mb-4"}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("div",{className:"h-4 bg-neutral-800 rounded"}),g.jsx("div",{className:"h-4 bg-neutral-800 rounded w-3/4"})]})]},B))})})}):g.jsxs(Er,{className:"flex h-screen w-full bg-neutral-950 text-white overflow-hidden",children:[g.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[g.jsx(Se.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:g.jsx("div",{className:"flex items-center justify-between mb-4",children:g.jsxs("div",{children:[g.jsxs("h1",{className:"text-4xl font-bold",children:[E(),", ",r?.name||t?.displayName||"User"]}),g.jsx("p",{className:"text-neutral-400 mt-1",children:r?.country&&g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx("span",{children:m_(r.country)}),g.jsx("span",{children:r.country})]})})]})})}),g.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[g.jsx(Am,{title:"Active Trades",value:h.totalTrades,icon:g.jsx(pb,{className:"w-5 h-5"}),color:"text-green-400",onClick:()=>n("/profile?tab=trades")}),g.jsx(Am,{title:"Saved Posts",value:h.savedPosts,icon:g.jsx(fl,{className:"w-5 h-5"}),color:"text-blue-400",onClick:()=>n("/profile?tab=saved")}),g.jsx(Am,{title:"Unread Messages",value:h.unreadMessages,icon:g.jsx(hb,{className:"w-5 h-5"}),color:"text-purple-400",onClick:()=>n("/messages")}),g.jsx(Am,{title:"Recent Activity",value:h.recentActivity,icon:g.jsx(X7,{className:"w-5 h-5"}),color:"text-orange-400",onClick:()=>n("/trade")})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[g.jsxs(Se.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"lg:col-span-2 bg-neutral-900 rounded-2xl p-6",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[g.jsx(Jd,{className:"w-6 h-6 text-primary"}),g.jsx("h2",{className:"text-2xl font-bold",children:"Discover Interests"})]}),g.jsx("div",{className:"mb-6",children:g.jsx("input",{type:"text",placeholder:"Search interests...",value:A,onChange:Z=>N(Z.target.value),className:"w-full bg-neutral-800 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})}),g.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 max-h-96 overflow-y-auto",children:F.map(Z=>g.jsx(gQ,{interest:Z,selectedInterest:P,onSelect:U},Z.id))})]}),g.jsxs(Se.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-neutral-900 rounded-2xl p-6",children:[g.jsxs("div",{className:"mb-8",children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsx("h2",{className:"text-2xl font-bold",children:"Recent Trades"}),g.jsx(bi,{to:"/profile?tab=trades",className:"text-primary hover:underline text-sm",children:"View All"})]}),g.jsx("div",{className:"space-y-4",children:L.length>0?L.map(Z=>g.jsx(pQ,{trade:Z,onClick:()=>S(Z)},Z.id)):g.jsxs("div",{className:"text-center py-8 text-neutral-400",children:[g.jsx(pb,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),g.jsx("p",{children:"No trades yet"}),g.jsx("button",{onClick:()=>n("/add"),className:"text-primary hover:underline text-sm mt-2",children:"Add your first trade"})]})})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsx("h2",{className:"text-2xl font-bold",children:"Saved Posts"}),g.jsx(bi,{to:"/profile?tab=saved",className:"text-primary hover:underline text-sm",children:"View All"})]}),g.jsx("div",{className:"space-y-4",children:Q.length>0?Q.map(Z=>g.jsx(vQ,{post:Z,onClick:()=>k(Z)},Z.id)):g.jsxs("div",{className:"text-center py-8 text-neutral-400",children:[g.jsx(fl,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),g.jsx("p",{children:"No saved posts"}),g.jsx("p",{className:"text-xs mt-1",children:"Posts you save will appear here"})]})})]})]}),g.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"lg:col-span-3 bg-neutral-900 rounded-2xl p-6",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Mangrov"}),g.jsxs("p",{className:"text-neutral-400",children:["Shop through ",g.jsx("span",{className:"text-primary",children:"sustainable"})," ","products enabling",g.jsx("span",{className:"text-primary",children:" memorable experiences"})]})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx(bi,{to:"/about",className:"border-2 border-primary rounded-lg bg-transparent tracking-widest text-white px-8 py-2 uppercase font-bold hover:bg-primary transition-all duration-300",children:"About"}),g.jsx(bi,{to:"https://instagram.com/_mangrov_",target:"_blank",children:g.jsx(zP,{className:"text-white w-8 h-8 hover:text-primary transition-colors"})}),g.jsx(bi,{to:"https://youtube.com",target:"_blank",children:g.jsx(BP,{className:"text-white w-8 h-8 hover:text-primary transition-colors"})})]})]}),g.jsx("p",{className:"text-xs text-neutral-500 mt-4",children:" 2025 Mangrov"})]})]})]}),g.jsxs(Qn,{mode:"wait",children:[j&&O&&g.jsx(v_,{trade:O,isOpen:j,onClose:()=>{q(!1),M(null)},onTradeUpdate:Z=>{l(B=>B.map(T=>T.id===Z.id?{...T,...Z}:T)),M(Z)}}),H&&C&&g.jsx(y_,{post:C,onClose:()=>{X(!1),I(null)},user:t,liked:!1,saved:!0,handleLike:()=>{},handleSave:()=>{}})]})]})}function Am({title:t,value:e,icon:n,color:r,onClick:i}){return g.jsxs(Se.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:i,className:"bg-neutral-900 rounded-xl p-4 cursor-pointer hover:bg-neutral-800 transition-colors",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("div",{className:`${r}`,children:n}),g.jsx(px,{className:"w-4 h-4 text-neutral-400"})]}),g.jsx("div",{className:"text-2xl font-bold",children:e}),g.jsx("div",{className:"text-sm text-neutral-400",children:t})]})}function pQ({trade:t,onClick:e}){return g.jsx(Se.div,{whileHover:{scale:1.02},className:"bg-neutral-800 rounded-lg p-3 cursor-pointer hover:bg-neutral-700 transition-colors",onClick:e,children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("img",{src:t.images?.[0],alt:t.title,className:"w-12 h-12 rounded-lg object-cover"}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("h4",{className:"font-semibold text-white truncate",children:t.title}),g.jsx("p",{className:"text-xs text-neutral-400",children:t.timestamp?.toDate?.()?new Date(t.timestamp.toDate()).toLocaleDateString():"Recently"})]}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(mz,{className:"w-4 h-4 text-neutral-400"}),g.jsx("span",{className:"text-xs text-neutral-400",children:"0"})]})]})})}function gQ({interest:t,selectedInterest:e,onSelect:n}){const[r,i]=R.useState(!1),[o,l]=R.useState(!1),c=Jr(),d=()=>{n(t.id),c(`/search?interest=${t.id}`)};return g.jsxs(Se.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:d,className:`relative aspect-square rounded-xl overflow-hidden cursor-pointer transition-all duration-200 ${e===t.id?"ring-2 ring-primary":"hover:ring-2 hover:ring-primary/50"}`,children:[!r&&!o&&g.jsx("div",{className:"absolute inset-0 bg-neutral-800 animate-pulse"}),o&&g.jsx("div",{className:"absolute inset-0 bg-neutral-800 flex items-center justify-center",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"w-8 h-8 bg-neutral-700 rounded-full mx-auto mb-2"}),g.jsx("p",{className:"text-xs text-neutral-400",children:t.label})]})}),g.jsx("img",{src:t.img,alt:t.label,className:`w-full h-full object-cover transition-opacity duration-300 ${r?"opacity-100":"opacity-0"}`,onLoad:()=>i(!0),onError:()=>l(!0),loading:"lazy"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"}),g.jsx("div",{className:"absolute bottom-3 left-3 right-3",children:g.jsx("p",{className:"text-white text-sm font-semibold",children:t.label})})]})}function vQ({post:t,onClick:e}){return g.jsx(Se.div,{whileHover:{scale:1.02},className:"bg-neutral-800 rounded-lg p-3 cursor-pointer hover:bg-neutral-700 transition-colors",onClick:e,children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("img",{src:t.images?.[0],alt:t.title,className:"w-12 h-12 rounded-lg object-cover"}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("h4",{className:"font-semibold text-white truncate",children:t.title}),g.jsx("p",{className:"text-xs text-neutral-400",children:t.timestamp?.toDate?.()?new Date(t.timestamp.toDate()).toLocaleDateString():"Recently"})]}),g.jsx(fl,{className:"w-4 h-4 text-primary fill-current"})]})})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Yb=function(t,e){return Yb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Yb(t,e)};function yQ(t,e){Yb(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Bd=function(){return Bd=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Bd.apply(this,arguments)};function bQ(t,e,n,r){var i,o=!1,l=0;function c(){i&&clearTimeout(i)}function d(){c(),o=!0}typeof e!="boolean"&&(r=n,n=e,e=void 0);function h(){var p=this,y=Date.now()-l,w=arguments;if(o)return;function A(){l=Date.now(),n.apply(p,w)}function N(){i=void 0}r&&!i&&A(),c(),r===void 0&&y>t?A():e!==!0&&(i=setTimeout(r?N:A,r===void 0?t-y:t))}return h.cancel=d,h}var Iu={Pixel:"Pixel",Percent:"Percent"},_R={unit:Iu.Percent,value:.8};function SR(t){return typeof t=="number"?{unit:Iu.Percent,value:t*100}:typeof t=="string"?t.match(/^(\d*(\.\d+)?)px$/)?{unit:Iu.Pixel,value:parseFloat(t)}:t.match(/^(\d*(\.\d+)?)%$/)?{unit:Iu.Percent,value:parseFloat(t)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),_R):(console.warn("scrollThreshold should be string or number"),_R)}var wQ=function(t){yQ(e,t);function e(n){var r=t.call(this,n)||this;return r.lastScrollTop=0,r.actionTriggered=!1,r.startY=0,r.currentY=0,r.dragging=!1,r.maxPullDownDistance=0,r.getScrollableTarget=function(){return r.props.scrollableTarget instanceof HTMLElement?r.props.scrollableTarget:typeof r.props.scrollableTarget=="string"?document.getElementById(r.props.scrollableTarget):(r.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},r.onStart=function(i){r.lastScrollTop||(r.dragging=!0,i instanceof MouseEvent?r.startY=i.pageY:i instanceof TouchEvent&&(r.startY=i.touches[0].pageY),r.currentY=r.startY,r._infScroll&&(r._infScroll.style.willChange="transform",r._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},r.onMove=function(i){r.dragging&&(i instanceof MouseEvent?r.currentY=i.pageY:i instanceof TouchEvent&&(r.currentY=i.touches[0].pageY),!(r.currentY<r.startY)&&(r.currentY-r.startY>=Number(r.props.pullDownToRefreshThreshold)&&r.setState({pullToRefreshThresholdBreached:!0}),!(r.currentY-r.startY>r.maxPullDownDistance*1.5)&&r._infScroll&&(r._infScroll.style.overflow="visible",r._infScroll.style.transform="translate3d(0px, "+(r.currentY-r.startY)+"px, 0px)")))},r.onEnd=function(){r.startY=0,r.currentY=0,r.dragging=!1,r.state.pullToRefreshThresholdBreached&&(r.props.refreshFunction&&r.props.refreshFunction(),r.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){r._infScroll&&(r._infScroll.style.overflow="auto",r._infScroll.style.transform="none",r._infScroll.style.willChange="unset")})},r.onScrollListener=function(i){typeof r.props.onScroll=="function"&&setTimeout(function(){return r.props.onScroll&&r.props.onScroll(i)},0);var o=r.props.height||r._scrollableNode?i.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!r.actionTriggered){var l=r.props.inverse?r.isElementAtTop(o,r.props.scrollThreshold):r.isElementAtBottom(o,r.props.scrollThreshold);l&&r.props.hasMore&&(r.actionTriggered=!0,r.setState({showLoader:!0}),r.props.next&&r.props.next()),r.lastScrollTop=o.scrollTop}},r.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:n.dataLength},r.throttledOnScrollListener=bQ(150,r.onScrollListener).bind(r),r.onStart=r.onStart.bind(r),r.onMove=r.onMove.bind(r),r.onEnd=r.onEnd.bind(r),r}return e.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},e.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},e.prototype.componentDidUpdate=function(n){this.props.dataLength!==n.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},e.getDerivedStateFromProps=function(n,r){var i=n.dataLength!==r.prevDataLength;return i?Bd(Bd({},r),{prevDataLength:n.dataLength}):null},e.prototype.isElementAtTop=function(n,r){r===void 0&&(r=.8);var i=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,o=SR(r);return o.unit===Iu.Pixel?n.scrollTop<=o.value+i-n.scrollHeight+1:n.scrollTop<=o.value/100+i-n.scrollHeight+1},e.prototype.isElementAtBottom=function(n,r){r===void 0&&(r=.8);var i=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,o=SR(r);return o.unit===Iu.Pixel?n.scrollTop+i>=n.scrollHeight-o.value:n.scrollTop+i>=o.value/100*n.scrollHeight},e.prototype.render=function(){var n=this,r=Bd({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),i=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),o=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return vd.createElement("div",{style:o,className:"infinite-scroll-component__outerdiv"},vd.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(l){return n._infScroll=l},style:r},this.props.pullDownToRefresh&&vd.createElement("div",{style:{position:"relative"},ref:function(l){return n._pullDown=l}},vd.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!i&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},e}(R.Component);function xQ({post:t,index:e,isLoaded:n,onImageLoad:r,userSavedPosts:i=[]}){const{user:o}=Si(),[l,c]=R.useState(!1),[d,h]=R.useState(0),[p,y]=R.useState(!1),[w,A]=R.useState(!1),[N,P]=R.useState(!1);R.useEffect(()=>{if(!o||!t?.id)return;const q=rn(ze,"posts",t.id,"likes",o.uid),H=Tt(ze,"posts",t.id,"likes"),X=zu(H,O=>{h(O.size)});return yi(q).then(O=>{c(O.exists())}),y(i.includes(t.id)),()=>X()},[o,t,i]);const U=async()=>{if(c(!l),!o)return;const q=rn(ze,"posts",t.id,"likes",o.uid);l?await bp(q):await cl(q,{timestamp:Date.now()})},j=async()=>{y(!p);const q=rn(ze,"users",o?.uid,"saves",t.id);p?await bp(q):await cl(q,{timestamp:Date.now()})};return g.jsxs(g.Fragment,{children:[g.jsxs(Se.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:e*.03,duration:.3,ease:"easeOut"},className:"relative group rounded-xl overflow-hidden shadow-md bg-neutral-800 w-full cursor-pointer",onClick:()=>P(!0),children:[!n&&g.jsx("div",{className:"absolute inset-0 animate-pulse rounded-xl bg-neutral-700 z-50"}),g.jsx("img",{src:t.images[0],alt:t.title,loading:"lazy",onLoad:r,className:`w-full h-auto object-cover rounded-xl transition-all duration-500 ${n?"opacity-100":"opacity-0"}`,style:{aspectRatio:"3 / 4"}}),g.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-3 z-20",children:g.jsxs("div",{className:"flex justify-between items-end w-full gap-4",children:[g.jsxs("div",{className:"flex flex-col text-white text-left",children:[g.jsx("div",{className:"text-base font-semibold mb-1",children:t.title}),g.jsx(Qn,{children:g.jsx(Se.div,{layout:!0,initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"text-sm overflow-hidden",children:g.jsx("p",{className:w?"":"truncate",children:t.keywords.concat(t.niche).map(q=>q[0].toUpperCase()+q.slice(1).toLowerCase()).join(", ")})})}),t.keywords.concat(t.niche).join(", ").length>40&&g.jsxs(Se.button,{layout:!0,onClick:q=>{q.stopPropagation(),A(!w)},className:"text-xs text-blue-300 hover:underline mt-1 flex items-center gap-1",children:[w?"View less":"View more",w?g.jsx(eM,{size:12}):g.jsx(Df,{size:12})]})]}),g.jsxs("div",{className:"flex-shrink-0 flex flex-row items-end gap-2 text-white text-base",onClick:q=>q.stopPropagation(),children:[t.likes&&g.jsxs("button",{onClick:U,className:"flex items-center gap-1 cursor-pointer",children:[g.jsx(Bu,{size:28,className:l?"text-red-500":"text-white",strokeWidth:2,fill:l?"currentColor":"none"}),g.jsx("span",{className:"text-sm",children:d})]}),t.saves&&g.jsx("button",{onClick:j,className:"flex items-center gap-1 cursor-pointer",children:g.jsx(fl,{size:28,className:p?"text-green-500":"text-white",strokeWidth:2,fill:p?"currentColor":"none"})})]})]})})]}),g.jsx(Qn,{children:N&&g.jsx(y_,{post:t,user:o,onClose:()=>P(!1),liked:l,saved:p,handleLike:U,handleSave:j})})]})}function _Q(){const{user:t}=Si(),[e,n]=ZO(),[r,i]=R.useState([]),[o,l]=R.useState([]),[c,d]=R.useState([]),[h,p]=R.useState([]),[y,w]=R.useState(""),[A,N]=R.useState(""),[P,U]=R.useState(null),[j,q]=R.useState(!0),[H,X]=R.useState(null),[O,M]=R.useState(!1),[C,I]=R.useState([0,1e3]),[E,S]=R.useState("recent"),[k,F]=R.useState(""),L=20,[Q,Z]=R.useState([]);R.useEffect(()=>{document.body.style.overflow="auto"},[]),R.useEffect(()=>{const W=e.get("interest");W&&(X(W),M(!0))},[e]),R.useEffect(()=>{const W=setTimeout(()=>{N(y.trim().toLowerCase())},300);return()=>clearTimeout(W)},[y]);const B=async()=>{const W=Tt(ze,"posts"),ne=vn(W,Uu("timestamp","desc"),sb(L)),ae=await un(ne),le=ae.docs.map(ge=>({id:ge.id,...ge.data()}));i(le),d(le),p(le),U(ae.docs[ae.docs.length-1]),q(ae.docs.length===L)},T=async()=>{if(!j||!P)return;const W=Tt(ze,"posts"),ne=vn(W,Uu("timestamp","desc"),aO(P),sb(L)),ae=await un(ne);if(ae.empty){q(!1);return}const le=ae.docs.map(ge=>({id:ge.id,...ge.data()}));i(ge=>[...ge,...le]),U(ae.docs[ae.docs.length-1])},J=()=>{const W=h.length,ne=c.slice(W,W+L);p(ae=>[...ae,...ne])},K=R.useCallback(async()=>{if(!t)return;const W=Tt(ze,"users",t.uid,"saves"),ae=(await un(W)).docs.map(Pe=>Pe.id);if(ae.length===0){l([]);return}const le=vn(Tt(ze,"posts"),tn("__name__","in",ae)),Ee=(await un(le)).docs.map(Pe=>({id:Pe.id,...Pe.data()}));l(Ee)},[t]);R.useEffect(()=>{B(),K()},[K]),R.useEffect(()=>{let W=r;A&&(W=W.filter(ne=>ne.title?.toLowerCase().includes(A)||ne.description?.toLowerCase().includes(A)||(ne.niche?.[0]?.toLowerCase()||"").includes(A))),H&&(W=W.filter(ne=>(ne.niche?.[0]?.toLowerCase()||"")===H.toLowerCase())),W=W.filter(ne=>{const ae=ne.price||0;return ae>=C[0]&&ae<=C[1]}),W=[...W].sort((ne,ae)=>{switch(E){case"price-low":return(ne.price||0)-(ae.price||0);case"price-high":return(ae.price||0)-(ne.price||0);case"popular":return(ae.views||0)-(ne.views||0);case"recent":default:return new Date(ae.timestamp?.toDate?.()||0).getTime()-new Date(ne.timestamp?.toDate?.()||0).getTime()}}),d(W),p(W.slice(0,L))},[r,A,H,C,E]);const x=W=>{Z(ne=>[...ne,W])},z=()=>{c.length>h.length?J():T()},Y=()=>{X(null),I([0,1e3]),S("recent"),w(""),F(""),n({})};return g.jsx(Er,{className:"min-h-screen bg-neutral-950 text-white overflow-scroll",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[g.jsxs("div",{className:"mb-8",children:[g.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Discover Products"}),g.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[g.jsxs("div",{className:"flex-1 relative",children:[g.jsx(Jd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-neutral-400 w-5 h-5"}),g.jsx("input",{type:"text",placeholder:"Search products...",value:y,onChange:W=>w(W.target.value),className:"w-full bg-neutral-900 border border-neutral-700 rounded-lg pl-10 pr-4 py-3 text-white placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),g.jsxs("button",{onClick:()=>M(!O),className:"flex items-center gap-2 bg-neutral-900 border border-neutral-700 rounded-lg px-4 py-3 hover:bg-neutral-800 transition-colors",children:[g.jsx(du,{className:"w-5 h-5"}),"Filters"]})]}),(H||C[0]>0||C[1]<1e3||E!=="recent")&&g.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[g.jsx("span",{className:"text-sm text-neutral-400",children:"Active filters:"}),H&&g.jsx("span",{className:"bg-primary/20 text-primary px-2 py-1 rounded text-sm",children:Ii.find(W=>W.id===H)?.label||H}),(C[0]>0||C[1]<1e3)&&g.jsxs("span",{className:"bg-primary/20 text-primary px-2 py-1 rounded text-sm",children:["$",C[0]," - $",C[1]]}),E!=="recent"&&g.jsx("span",{className:"bg-primary/20 text-primary px-2 py-1 rounded text-sm capitalize",children:E.replace("-"," ")}),g.jsxs("button",{onClick:Y,className:"text-neutral-400 hover:text-white text-sm flex items-center gap-1",children:[g.jsx(ns,{className:"w-4 h-4"}),"Clear all"]})]})]}),g.jsx(Qn,{children:O&&g.jsx(Se.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-neutral-900 rounded-lg p-6 mb-6 overflow-hidden",children:g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold mb-3",children:"Category"}),g.jsx("div",{className:"mb-3",children:g.jsx("input",{type:"text",placeholder:"Search categories...",value:k,onChange:W=>F(W.target.value),className:"w-full bg-neutral-800 border border-neutral-700 rounded px-3 py-2 text-sm text-white placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-primary"})}),g.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto",children:Ii.filter(W=>W.label.toLowerCase().includes(k.toLowerCase())).map(W=>g.jsx("button",{onClick:()=>X(H===W.id?null:W.id),className:`p-2 rounded text-sm transition-colors ${H===W.id?"bg-primary text-white":"bg-neutral-800 text-neutral-300 hover:bg-neutral-700"}`,children:W.label},W.id))}),Ii.filter(W=>W.label.toLowerCase().includes(k.toLowerCase())).length>0&&g.jsxs("p",{className:"text-xs text-neutral-400 mt-2",children:[Ii.filter(W=>W.label.toLowerCase().includes(k.toLowerCase())).length," ","categories available"]}),k&&Ii.filter(W=>W.label.toLowerCase().includes(k.toLowerCase())).length===0&&g.jsxs("p",{className:"text-xs text-neutral-400 mt-2",children:['No categories found matching "',k,'"']})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold mb-3",children:"Price Range"}),g.jsx("div",{className:"space-y-4",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"block text-xs text-neutral-400 mb-1",children:"Min"}),g.jsx("input",{type:"number",placeholder:"0",value:C[0],onChange:W=>I([Number(W.target.value),C[1]]),className:"w-full bg-neutral-800 border border-neutral-700 rounded px-3 py-2 text-sm text-white placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),g.jsx("div",{className:"flex items-center justify-center pt-6",children:g.jsx("span",{className:"text-neutral-400 text-sm font-medium",children:"to"})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"block text-xs text-neutral-400 mb-1",children:"Max"}),g.jsx("input",{type:"number",placeholder:"1000",value:C[1],onChange:W=>I([C[0],Number(W.target.value)]),className:"w-full bg-neutral-800 border border-neutral-700 rounded px-3 py-2 text-sm text-white placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]})]})})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold mb-3",children:"Sort By"}),g.jsx("div",{className:"space-y-2",children:[{value:"recent",label:"Most Recent"},{value:"price-low",label:"Price: Low to High"},{value:"price-high",label:"Price: High to Low"},{value:"popular",label:"Most Popular"}].map(W=>g.jsx("button",{onClick:()=>S(W.value),className:`w-full text-left p-2 rounded text-sm transition-colors ${E===W.value?"bg-primary text-white":"bg-neutral-800 text-neutral-300 hover:bg-neutral-700"}`,children:W.label},W.value))})]})]})})}),g.jsx("div",{className:"mb-6",children:g.jsxs("p",{className:"text-neutral-400",children:[c.length," product",c.length!==1?"s":""," found"]})}),g.jsx(wQ,{dataLength:h.length,next:z,hasMore:j||h.length<c.length,loader:g.jsx("div",{className:"flex justify-center py-8",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}),className:"overflow-hidden",children:g.jsx("div",{className:"columns-1 sm:columns-2 md:columns-3 lg:columns-4 xl:columns-5 gap-4 space-y-4",children:h.map((W,ne)=>g.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ne*.1},className:"break-inside-avoid mb-4",children:g.jsx(xQ,{post:W,index:ne,isLoaded:Q.includes(ne),onImageLoad:()=>x(ne),userSavedPosts:o.map(ae=>ae.id)})},W.id))})}),c.length===0&&g.jsxs("div",{className:"text-center py-16",children:[g.jsx("div",{className:"w-16 h-16 bg-neutral-800 rounded-full flex items-center justify-center mx-auto mb-4",children:g.jsx(Jd,{className:"w-8 h-8 text-neutral-400"})}),g.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No products found"}),g.jsx("p",{className:"text-neutral-400 mb-4",children:"Try adjusting your search terms or filters"}),g.jsx("button",{onClick:Y,className:"bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/80 transition-colors",children:"Clear all filters"})]})]})})}function SQ(){return g.jsxs(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5,ease:"easeOut"},className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-neutral-950/90 backdrop-blur-sm",children:[g.jsx(Se.img,{src:"/icon.png",alt:"logo",className:"w-20 h-20 md:w-24 md:h-24",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.5,ease:"easeOut"}}),g.jsx(Se.h1,{className:"text-4xl md:text-5xl font-bold text-white mt-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{delay:.1,duration:.6},children:"Mangrov"}),g.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{delay:.2,duration:.4},className:"mt-6",children:g.jsx(h_,{})})]})}const TQ={control:t=>({...t,background:"#1b1b1b",border:"none",minHeight:"2.6rem",cursor:"pointer"}),singleValue:t=>({...t,color:"#fff"}),input:t=>({...t,color:"#fff"}),placeholder:t=>({...t,color:"#888"}),menu:t=>({...t,background:"#1b1b1b"}),option:(t,e)=>({...t,background:e.isFocused?"#2a2a2a":"#1b1b1b",color:"#fff",cursor:"pointer"}),indicatorSeparator:()=>({display:"none"})},EQ=t=>g.jsx(Rg.DropdownIndicator,{...t,children:g.jsx(Df,{size:18,className:"text-neutral-400"})}),AQ="bg-primary text-primary-foreground hover:bg-primary/80 transition duration-200 active:scale-95 uppercase tracking-wide font-bold py-2 rounded-md w-full cursor-pointer disabled:opacity-50",TR="rounded-md bg-muted px-3 py-2 text-sm sm:text-base outline-none focus:ring-2 ring-primary focus:border-primary hover:border-primary transition duration-200 w-full border border-transparent",CQ={initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}};function RQ({type:t,setStage:e}){const{user:n}=Si(),[r,i]=R.useState(""),[o,l]=R.useState(""),[c,d]=R.useState([]),[h,p]=R.useState([]),[y,w]=R.useState(""),[A,N]=R.useState("0"),[P,U]=R.useState("1"),[j,q]=R.useState("1"),[H,X]=R.useState(""),[O,M]=R.useState(null),[C,I]=R.useState(null),[E,S]=R.useState(!1),[k,F]=R.useState(!1),[L,Q]=R.useState(null),Z=()=>!(!r.trim()||!o.trim()||t==="post"&&c.length<1||t==="trade"&&c.length!==1||t==="post"&&(!A||!P)||t==="trade"&&!j||!O),B=()=>{const z=y.trim();z&&!h.includes(z)&&(p([...h,z]),w(""))},T=z=>{if(!z.target.files)return;const Y=Array.from(z.target.files);d(t==="trade"?[Y[0]]:[...c,...Y])},J=z=>d(c.filter((Y,W)=>W!==z)),K=z=>p(h.filter(Y=>Y!==z)),x=async()=>{if(!Z()){I("Please fill in all required fields correctly.");return}if(!n){I("You must be logged in to create content.");return}try{S(!0);const z=t==="post"?"post-images":"trade-images",Y=[];for(const ae of c){const le=Jw(tx,`${z}/${Date.now()}_${ae.name}`);await Qw(le,ae);const ge=await Zw(le);Y.push(ge)}const W={title:r,description:o,images:Y,keywords:h,niche:[O?.label],timestamp:Zt.now(),uid:n.uid},ne=await us(Tt(ze,t==="post"?"posts":"trades"),t==="post"?{...W,price:parseFloat(A),quantity:parseInt(P)||1,url:H||null}:{...W,quantity:parseInt(j)||1,isAvailable:!0});console.log("Document written: ",ne.id),t==="trade"?(Q(ne.id),F(!0)):e("select")}catch(z){console.error(z),I("Upload failed, please try again.")}finally{S(!1)}};return k&&L?g.jsxs(Se.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-md mx-auto py-20 px-8 text-white text-center",children:[g.jsxs(Se.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"mb-8",children:[g.jsx("div",{className:"w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4",children:g.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),g.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Trade Created Successfully!"}),g.jsx("p",{className:"text-neutral-400",children:"Your trade is now live and ready for discovery."})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx(Se.button,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},onClick:()=>window.location.href=`/trades/${L}`,className:"w-full bg-primary text-primary-foreground hover:bg-primary/80 cursor-pointer transition-all duration-200 active:scale-95 uppercase tracking-wide font-bold py-3 rounded-md",children:"View Trade"}),g.jsx(Se.button,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},onClick:()=>e("select"),className:"w-full bg-neutral-800 text-white hover:bg-neutral-700 cursor-pointer transition-all duration-200 active:scale-95 uppercase tracking-wide font-bold py-3 rounded-md",children:"Create Another"})]})]}):g.jsxs(Se.div,{...CQ,className:"max-w-2xl mx-auto py-10 px-8 text-white space-y-6 overflow-y-scroll h-screen w-full",children:[g.jsx(OD,{onClick:()=>e("select")}),g.jsxs("h2",{className:"text-2xl font-bold mb-4 capitalize",children:["Add ",t]}),C&&g.jsx("p",{className:"text-red-500",children:C}),g.jsxs("div",{className:"space-y-1",children:[g.jsxs("div",{className:"flex items-center justify-between text-sm text-neutral-400",children:[g.jsx("label",{children:"Title"}),g.jsxs("span",{children:[r.length,"/30"]})]}),g.jsx("input",{value:r,onChange:z=>i(z.target.value.slice(0,30)),placeholder:"Enter a short title",className:"w-full rounded-md bg-neutral-900 text-white placeholder-neutral-500 px-4 py-2 outline-none border border-neutral-700 focus:border-green-500 transition"})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsxs("div",{className:"flex items-center justify-between text-sm text-neutral-400",children:[g.jsx("label",{children:"Description"}),g.jsxs("span",{children:[o.length,"/300"]})]}),g.jsx("textarea",{value:o,onChange:z=>l(z.target.value.slice(0,300)),placeholder:"Enter a brief description",className:"w-full rounded-md bg-neutral-900 text-white placeholder-neutral-500 px-4 py-2 h-28 resize-none outline-none border border-neutral-700 focus:border-green-500 transition"})]}),t==="post"&&g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"text-sm text-neutral-400 block mb-1",children:"Price ($)"}),g.jsx("div",{className:"flex items-center rounded-md border border-neutral-700 bg-neutral-900",children:g.jsx("input",{inputMode:"decimal",min:"0",step:"0.01",value:A,onChange:z=>{const Y=parseFloat(z.target.value);!isNaN(Y)&&Y>=0?N(Y):z.target.value===""&&N("")},className:"w-full bg-transparent text-white text-sm px-2 py-2.5 outline-none no-spinner"})})]}),g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"text-sm text-neutral-400 block mb-1",children:"Quantity"}),g.jsxs("div",{className:"flex items-center rounded-md border border-neutral-700 bg-neutral-900",children:[g.jsx("button",{type:"button",onClick:()=>U(z=>Math.max(0,parseInt(z||"0")-1)),className:"px-3 py-2 text-neutral-300 hover:text-white hover:bg-neutral-800 transition-colors duration-150 cursor-pointer",children:"-"}),g.jsx("input",{inputMode:"numeric",min:"0",value:P,onChange:z=>{const Y=parseInt(z.target.value);!isNaN(Y)&&Y>=0?U(Y):z.target.value===""&&U("")},className:"w-full bg-transparent text-white text-sm px-2 py-2 outline-none no-spinner"}),g.jsx("button",{type:"button",onClick:()=>U(z=>parseInt(z||"0")+1),className:"px-3 py-2 text-neutral-300 hover:text-white hover:bg-neutral-800 transition-colors duration-150 cursor-pointer",children:"+"})]})]})]}),t==="trade"&&g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"text-sm text-neutral-400 block mb-1",children:"Quantity Available"}),g.jsxs("div",{className:"flex items-center rounded-md border border-neutral-700 bg-neutral-900",children:[g.jsx("button",{type:"button",onClick:()=>q(z=>Math.max(1,parseInt(z||"1")-1)),className:"px-3 py-2 text-neutral-300 hover:text-white hover:bg-neutral-800 transition-colors duration-150 cursor-pointer",children:"-"}),g.jsx("input",{inputMode:"numeric",min:"1",value:j,onChange:z=>{const Y=parseInt(z.target.value);!isNaN(Y)&&Y>=1?q(Y):z.target.value===""&&q("")},className:"w-full bg-transparent text-white text-sm px-2 py-2 outline-none no-spinner"}),g.jsx("button",{type:"button",onClick:()=>q(z=>parseInt(z||"1")+1),className:"px-3 py-2 text-neutral-300 hover:text-white hover:bg-neutral-800 transition-colors duration-150 cursor-pointer",children:"+"})]})]}),t==="post"&&g.jsx("input",{className:TR,placeholder:"External Link (optional)",value:H,onChange:z=>X(z.target.value)}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("label",{className:"text-sm text-neutral-400 block",children:["Upload ",t==="trade"?"exactly 1 image":"one or more images"]}),!(t==="trade"&&c.length>=1)&&g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"file",accept:"image/*",multiple:t==="post",onChange:T,id:"file-upload",className:"hidden"}),g.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer border border-dashed border-white/30 hover:border-green-500 transition-colors duration-200 w-full flex flex-col items-center justify-center py-6 px-4 bg-neutral-900 rounded-lg text-sm text-white text-center hover:bg-neutral-800",children:[g.jsx(mb,{size:32,className:"mb-2 text-primary"}),g.jsxs("span",{children:["Click to ",c.length?"add more":"upload"," image",t==="post"?"s":""]})]})]}),c.length>0&&g.jsx("div",{className:"flex justify-center mt-4",children:c.map((z,Y)=>g.jsxs("div",{className:"relative group w-full max-w-md",children:[g.jsx("img",{src:URL.createObjectURL(z),alt:"preview",className:"w-full h-auto object-contain rounded-md border border-white/10"}),g.jsx("button",{onClick:()=>J(Y),className:"absolute top-1 right-1 bg-black/70 hover:bg-red-600 transition p-1 rounded-full text-white cursor-pointer",title:"Remove",children:g.jsx(ns,{size:14})})]},Y))})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{className:TR,placeholder:"Add keyword",value:y,onChange:z=>w(z.target.value),onKeyDown:z=>z.key==="Enter"&&B()}),g.jsx("button",{onClick:B,className:"bg-primary px-3 rounded-md hover:bg-primary/80",children:g.jsx(mb,{size:20})})]}),g.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:h.map(z=>g.jsxs("div",{className:"bg-muted px-3 py-1 rounded-lg flex items-center gap-2",children:[g.jsx("span",{children:z}),g.jsx("button",{onClick:()=>K(z),children:g.jsx(ns,{size:16,className:"text-red-400"})})]},z))})]}),g.jsx(df,{placeholder:"Select niche",options:Ii.map(z=>({label:z.label,value:z.id})),menuShouldScrollIntoView:!1,styles:TQ,components:{DropdownIndicator:EQ},value:O,onChange:z=>M(z)}),E?g.jsx("div",{className:"flex items-center justify-center",children:g.jsx(SQ,{})}):g.jsxs("button",{className:AQ,disabled:!Z()||E,onClick:x,children:["Submit ",t]})]},"form")}const NQ={initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}};function IQ(){const[t,e]=R.useState("select"),[n,r]=R.useState(null),i=200,o=(p,y)=>p==="left"?y==="start"?-i-Math.random()*200:l+i+Math.random()*200:y==="start"?l+i+Math.random()*200:-i-Math.random()*200,[l,c]=FP(),[d,h]=R.useState(()=>{const p=Math.random()>.5?"left":"right";return{start:{x:o(p,"start"),y:-i},end:{x:o(p,"end"),y:c+i}}});return g.jsxs(g.Fragment,{children:[g.jsx(Er,{className:"relative h-screen overflow-hidden",children:g.jsxs(Qn,{mode:"wait",children:[t==="select"&&g.jsx(Se.div,{...NQ,className:"flex flex-col overflow-hidden overflow-x-hidden overflow-y-hidden md:flex-row items-center justify-center h-screen p-6 gap-6 text-white",children:["trade"].map(p=>{const y=p==="post"?lz:hx;return g.jsxs("button",{onMouseEnter:()=>{const w=p==="post"?"left":"right",A={x:o(w,"start"),y:-i},N={x:o(w,"end"),y:c+i};h({start:A,end:N})},onClick:()=>{r(p),e("form")},className:"w-full h-1/2 md:h-full md:w-1/2 text-4xl rounded-2xl font-bold bg-neutral-900 hover:bg-neutral-800 transition hover:border-primary border-2 border-transparent cursor-pointer flex flex-col items-center justify-center gap-3 hover:scale-105 duration-300",children:[g.jsx(y,{className:"w-10 h-10"}),"ADD ",p.toUpperCase()]},p)})},"select"),t==="form"&&n&&g.jsx(RQ,{type:n,setStage:e})]})}),g.jsx(t_,{start:d.start,end:d.end,speed:12,className:"absolute bottom-0 left-0 opacity-25 w-full h-screen pointer-events-none overflow-hidden",imgHeightTW:"h-32 sm:h-40 md:h-44",imgWidthTW:"w-44 sm:w-52 md:w-56"})]})}const OQ="Left",MQ="Right",PQ="Up",DQ="Down",_u={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},Xb={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},ER="mousemove",AR="mouseup",jQ="touchend",kQ="touchmove",LQ="touchstart";function VQ(t,e,n,r){return t>e?n>0?MQ:OQ:r>0?DQ:PQ}function CR(t,e){if(e===0)return t;const n=Math.PI/180*e,r=t[0]*Math.cos(n)+t[1]*Math.sin(n),i=t[1]*Math.cos(n)-t[0]*Math.sin(n);return[r,i]}function UQ(t,e){const n=p=>{const y="touches"in p;y&&p.touches.length>1||t((w,A)=>{A.trackMouse&&!y&&(document.addEventListener(ER,r),document.addEventListener(AR,l));const{clientX:N,clientY:P}=y?p.touches[0]:p,U=CR([N,P],A.rotationAngle);return A.onTouchStartOrOnMouseDown&&A.onTouchStartOrOnMouseDown({event:p}),Object.assign(Object.assign(Object.assign({},w),Xb),{initial:U.slice(),xy:U,start:p.timeStamp||0})})},r=p=>{t((y,w)=>{const A="touches"in p;if(A&&p.touches.length>1)return y;if(p.timeStamp-y.start>w.swipeDuration)return y.swiping?Object.assign(Object.assign({},y),{swiping:!1}):y;const{clientX:N,clientY:P}=A?p.touches[0]:p,[U,j]=CR([N,P],w.rotationAngle),q=U-y.xy[0],H=j-y.xy[1],X=Math.abs(q),O=Math.abs(H),M=(p.timeStamp||0)-y.start,C=Math.sqrt(X*X+O*O)/(M||1),I=[q/(M||1),H/(M||1)],E=VQ(X,O,q,H),S=typeof w.delta=="number"?w.delta:w.delta[E.toLowerCase()]||_u.delta;if(X<S&&O<S&&!y.swiping)return y;const k={absX:X,absY:O,deltaX:q,deltaY:H,dir:E,event:p,first:y.first,initial:y.initial,velocity:C,vxvy:I};k.first&&w.onSwipeStart&&w.onSwipeStart(k),w.onSwiping&&w.onSwiping(k);let F=!1;return(w.onSwiping||w.onSwiped||w[`onSwiped${E}`])&&(F=!0),F&&w.preventScrollOnSwipe&&w.trackTouch&&p.cancelable&&p.preventDefault(),Object.assign(Object.assign({},y),{first:!1,eventData:k,swiping:!0})})},i=p=>{t((y,w)=>{let A;if(y.swiping&&y.eventData){if(p.timeStamp-y.start<w.swipeDuration){A=Object.assign(Object.assign({},y.eventData),{event:p}),w.onSwiped&&w.onSwiped(A);const N=w[`onSwiped${A.dir}`];N&&N(A)}}else w.onTap&&w.onTap({event:p});return w.onTouchEndOrOnMouseUp&&w.onTouchEndOrOnMouseUp({event:p}),Object.assign(Object.assign(Object.assign({},y),Xb),{eventData:A})})},o=()=>{document.removeEventListener(ER,r),document.removeEventListener(AR,l)},l=p=>{o(),i(p)},c=(p,y)=>{let w=()=>{};if(p&&p.addEventListener){const A=Object.assign(Object.assign({},_u.touchEventOptions),y.touchEventOptions),N=[[LQ,n,A],[kQ,r,Object.assign(Object.assign({},A),y.preventScrollOnSwipe?{passive:!1}:{})],[jQ,i,A]];N.forEach(([P,U,j])=>p.addEventListener(P,U,j)),w=()=>N.forEach(([P,U])=>p.removeEventListener(P,U))}return w},h={ref:p=>{p!==null&&t((y,w)=>{if(y.el===p)return y;const A={};return y.el&&y.el!==p&&y.cleanUpTouch&&(y.cleanUpTouch(),A.cleanUpTouch=void 0),w.trackTouch&&p&&(A.cleanUpTouch=c(p,w)),Object.assign(Object.assign(Object.assign({},y),{el:p}),A)})}};return e.trackMouse&&(h.onMouseDown=n),[h,c]}function zQ(t,e,n,r){return!e.trackTouch||!t.el?(t.cleanUpTouch&&t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:void 0})):t.cleanUpTouch?e.preventScrollOnSwipe!==n.preventScrollOnSwipe||e.touchEventOptions.passive!==n.touchEventOptions.passive?(t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:r(t.el,e)})):t:Object.assign(Object.assign({},t),{cleanUpTouch:r(t.el,e)})}function BQ(t){const{trackMouse:e}=t,n=R.useRef(Object.assign({},Xb)),r=R.useRef(Object.assign({},_u)),i=R.useRef(Object.assign({},r.current));i.current=Object.assign({},r.current),r.current=Object.assign(Object.assign({},_u),t);let o;for(o in _u)r.current[o]===void 0&&(r.current[o]=_u[o]);const[l,c]=R.useMemo(()=>UQ(d=>n.current=d(n.current,r.current),{trackMouse:e}),[e]);return n.current=zQ(n.current,r.current,i.current,c),l}function FQ(){const{user:t}=Si(),e=Jr(),[n,r]=R.useState([]),[i,o]=R.useState([]),[l,c]=R.useState(0),[d,h]=R.useState([]),[p,y]=R.useState([]),[w,A]=R.useState(!1),[N,P]=R.useState(null),[U,j]=R.useState(!1),[q,H]=R.useState(!1),[X,O]=R.useState(null),[M,C]=R.useState([]),[I,E]=R.useState("swipe"),[S,k]=R.useState(!0),[F,L]=R.useState(!1),[Q,Z]=R.useState(!0),[B,T]=R.useState(!1),[J,K]=R.useState(new Set),[x,z]=R.useState(!1);R.useEffect(()=>{if(!t)return;(async()=>{const $e=(await yi(rn(ze,"users",t.uid))).data();$e?.interests&&(y($e.interests),h($e.interests)),k(!1)})()},[t]),R.useEffect(()=>{if(!t)return;(async()=>{const Ce=vn(Tt(ze,"trades"),tn("uid","==",t.uid)),Ie=(await un(Ce)).docs.map(Ze=>({id:Ze.id,...Ze.data()}));o(Ie)})()},[t]),R.useEffect(()=>{if(!t)return;Z(!0),(async()=>{const Ce=vn(Tt(ze,"tradeMatches"),tn("fromUser","==",t.uid)),$e=vn(Tt(ze,"tradeMatches"),tn("toUser","==",t.uid)),[Ie,Ze]=await Promise.all([un(Ce),un($e)]),ot=[...Ie.docs.map(dt=>({id:dt.id,...dt.data()})),...Ze.docs.map(dt=>({id:dt.id,...dt.data()}))].filter(dt=>dt.fromLiked&&dt.toLiked);console.log("Total matches found:",ot.length);const Dt=await Promise.all(ot.map(async dt=>{let hn="",or="",An="",pt="";try{console.log("Processing match:",dt);const[qe,nn]=await Promise.all([yi(rn(ze,"users",dt.fromUser)),yi(rn(ze,"users",dt.toUser))]);if(qe.exists()){const an=qe.data();hn=an?.name||an?.username||"Unknown User",console.log("From user data:",an)}if(nn.exists()){const an=nn.data();or=an?.name||an?.username||"Unknown User",console.log("To user data:",an)}const Jt=[];dt.fromItem&&dt.fromItem.trim()!==""?(console.log("Fetching fromItem:",dt.fromItem),Jt.push(yi(rn(ze,"trades",dt.fromItem)))):(console.log("fromItem is empty or null"),Jt.push(Promise.resolve(null))),dt.toItem&&dt.toItem.trim()!==""?(console.log("Fetching toItem:",dt.toItem),Jt.push(yi(rn(ze,"trades",dt.toItem)))):(console.log("toItem is empty or null"),Jt.push(Promise.resolve(null)));const[Ui,lr]=await Promise.all(Jt);if(Ui&&Ui.exists()){const an=Ui.data();An=an?.title||"Unknown Item",console.log("From item data:",an)}else An="Item not selected yet",console.log("From item not found or empty");if(lr&&lr.exists()){const an=lr.data();pt=an?.title||"Unknown Item",console.log("To item data:",an)}else pt="Unknown Item",console.log("To item not found or empty");console.log("Final enriched match:",{fromUserName:hn,toUserName:or,fromItemTitle:An,toItemTitle:pt})}catch(qe){console.error("Error fetching match details:",qe),hn="Unknown User",or="Unknown User",An="Unknown Item",pt="Unknown Item"}return{...dt,fromUserName:hn,toUserName:or,fromItemTitle:An,toItemTitle:pt}}));console.log("Final enriched matches:",Dt),C(Dt),Z(!1)})()},[t]),R.useEffect(()=>{if(!t)return;(async()=>{try{const Ce=Tt(ze,"users",t.uid,"passes"),$e=await un(Ce),Ie=new Set($e.docs.map(Ze=>Ze.id));K(Ie)}catch(Ce){console.error("Error fetching passed trades:",Ce)}})()},[t]);const Y=R.useCallback(async()=>{L(!0);let me=[],Ce=[];if(t){const Ie=vn(Tt(ze,"tradeMatches"),tn("fromUser","==",t.uid));Ce=(await un(Ie)).docs.map(mt=>({id:mt.id,...mt.data()}))}const $e=new Set(Ce.map(Ie=>Ie.toItem));if(U)me=(await un(Tt(ze,"trades"))).docs.filter(Ze=>Ze.data().uid!==t?.uid&&!J.has(Ze.id)&&!$e.has(Ze.id)).map(Ze=>({id:Ze.id,...Ze.data()}));else if(d.length>0){const Ie=[];for(let ot=0;ot<d.length;ot+=10){const Dt=d.slice(ot,ot+10),dt=vn(Tt(ze,"trades"),tn("niche","array-contains-any",Dt));Ie.push(un(dt))}me=(await Promise.all(Ie)).flatMap(ot=>ot.docs.map(Dt=>({id:Dt.id,...Dt.data()})));const mt=new Set;me=me.filter(ot=>mt.has(ot.id)||ot.uid===t?.uid||J.has(ot.id)||$e.has(ot.id)?!1:(mt.add(ot.id),!0))}r(me),c(0),z(me.length===0&&(J.size>0||$e.size>0)),L(!1)},[d,U,t,J]),W=R.useCallback(me=>{j(me)},[]),ne=R.useCallback(me=>{const Ce=Array.from(me.target.selectedOptions,$e=>$e.value);h(Ce),j(!1)},[]);R.useEffect(()=>{Y()},[d,U,t,J]);const ae=async()=>{const me=n[l];if(me&&t)try{await cl(rn(ze,"users",t.uid,"passes",me.id),{tradeId:me.id,timestamp:new Date}),K(Ce=>new Set([...Ce,me.id]))}catch(Ce){console.error("Error adding to passed trades:",Ce)}c(Ce=>Math.min(Ce+1,n.length-1))},le=async()=>{const me=n[l];if(me&&t)try{const Ce=vn(Tt(ze,"tradeMatches"),tn("fromUser","==",t.uid),tn("toUser","==",me.uid),tn("toItem","==",me.id)),$e=vn(Tt(ze,"tradeMatches"),tn("fromUser","==",me.uid),tn("toUser","==",t.uid),tn("toItem","==",me.id)),[Ie,Ze]=await Promise.all([un(Ce),un($e)]);if(Ie.empty)if(Ze.empty)await us(Tt(ze,"tradeMatches"),{fromUser:t.uid,toUser:me.uid,fromItem:"",toItem:me.id,fromLiked:!0,toLiked:!1,timestamp:new Date});else{const mt=Ze.docs[0];await el(rn(ze,"tradeMatches",mt.id),{toLiked:!0})}else{const mt=Ie.docs[0];await el(rn(ze,"tradeMatches",mt.id),{fromLiked:!0})}}catch(Ce){console.error("Error handling swipe right:",Ce)}c(Ce=>Math.min(Ce+1,n.length-1))},ge=me=>{w||(me==="left"?(O(n[l]),H(!0)):(P(me),A(!0),setTimeout(()=>{le(),A(!1),P(null)},350)))},Ee=async me=>{if(!(!X||!t)){try{const Ce=vn(Tt(ze,"tradeMatches"),tn("fromUser","==",X.uid),tn("toUser","==",t.uid),tn("toItem","==",me.id)),$e=await un(Ce);if($e.empty)await us(Tt(ze,"tradeMatches"),{fromUser:t.uid,toUser:X.uid,fromItem:me.id,toItem:X.id,fromLiked:!0,toLiked:!1,timestamp:new Date});else{const Ie=$e.docs[0];await el(rn(ze,"tradeMatches",Ie.id),{fromItem:me.id,toLiked:!0})}}catch(Ce){console.error("Error handling item selection:",Ce)}H(!1),O(null),ae()}},Pe=async()=>{if(t)try{const me=Tt(ze,"users",t.uid,"passes"),$e=(await un(me)).docs.map(Ie=>cl(Ie.ref,{},{merge:!1}));await Promise.all($e),K(new Set),z(!1),Y()}catch(me){console.error("Error resetting passed trades:",me)}},Ne=BQ({onSwipedLeft:()=>ge("left"),onSwipedRight:()=>ge("right"),trackMouse:!0}),Ue=R.useMemo(()=>g.jsxs("div",{className:"relative w-full max-w-2xl flex items-center justify-center select-none",children:[n.slice(l,l+2).map((me,Ce)=>{const $e=Ce===0,Ie=Ce*10,Ze=1-Ce*.04;return g.jsx(Qn,{children:$e?R.createElement(Se.div,{...Ne,key:me.id,className:" max-w-lg w-full flex flex-col items-center justify-center cursor-pointer",style:{zIndex:2},initial:{x:0,opacity:1,scale:1},animate:{x:w?N==="left"?-500:500:0,opacity:w?0:1,scale:1},exit:{x:N==="left"?-500:500,opacity:0,scale:.95},transition:{duration:.35}},g.jsxs("div",{className:"relative w-full rounded-3xl shadow-2xl overflow-hidden",children:[g.jsx("img",{src:me.images?.[0],alt:me.title,className:"w-full h-auto object-cover"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),g.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:[g.jsx("h2",{className:"text-xl font-bold mb-2",children:me.title}),g.jsx("p",{className:"text-sm text-neutral-200 leading-relaxed",children:me.description})]})]})):g.jsx(Se.div,{className:"absolute w-full flex flex-col items-center justify-center",style:{zIndex:1,top:Ie,scale:Ze,opacity:.7},initial:{scale:.96,opacity:.7},animate:{scale:Ze,opacity:.7},exit:{opacity:0},transition:{duration:.2},children:g.jsxs("div",{className:"relative w-full rounded-3xl shadow-xl overflow-hidden",children:[g.jsx("img",{src:me.images?.[0],alt:me.title,className:"w-full h-auto object-cover"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),g.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:g.jsx("h2",{className:"text-lg font-bold",children:me.title})})]})},me.id)},me.id)}),F?g.jsx("div",{className:"w-full flex flex-col items-center justify-center text-center px-6 py-16",children:g.jsxs("div",{className:"mb-8 w-full max-w-lg",children:[g.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-neutral-800 to-neutral-700 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg animate-pulse",children:g.jsx(du,{size:48,className:"text-neutral-400"})}),g.jsx("div",{className:"w-64 h-8 bg-neutral-800 rounded mb-4 animate-pulse mx-auto"}),g.jsx("div",{className:"w-96 h-4 bg-neutral-800 rounded animate-pulse mx-auto"})]})}):n.length===0&&g.jsx("div",{className:"w-full flex flex-col items-center justify-center text-center px-6 py-16",children:g.jsxs("div",{className:"mb-8 w-full max-w-lg",children:[g.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-neutral-800 to-neutral-700 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:x?g.jsx(GA,{size:48,className:"text-neutral-400"}):g.jsx(du,{size:48,className:"text-neutral-400"})}),g.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:x?"No More Trades to View":d.length===0&&!U?"No Trades Found":"No Trades Available"}),g.jsx("p",{className:"text-lg text-neutral-400 leading-relaxed",children:x?g.jsxs(g.Fragment,{children:["You've seen all available trades."," ",g.jsx("span",{className:"text-primary font-semibold",children:"Reset"})," ","to view passed trades again or try different"," ",g.jsx("span",{className:"text-primary font-semibold",children:"filters"}),"."]}):d.length===0&&!U?g.jsxs(g.Fragment,{children:["There are no trades found for your"," ",g.jsx("span",{className:"text-primary font-semibold",children:"interests"}),". Try enabling"," ",g.jsx("span",{className:"text-primary font-semibold",children:"Random Mode"})," ","or select some interests to discover more trades!"]}):g.jsxs(g.Fragment,{children:["No trades match your current"," ",g.jsx("span",{className:"text-primary font-semibold",children:"filters"}),". Try adjusting your"," ",g.jsx("span",{className:"text-primary font-semibold",children:"preferences"})," ","or enabling Random Mode."]})}),x&&g.jsx("div",{className:"mt-6",children:g.jsxs("button",{onClick:Pe,className:"px-6 py-3 bg-gradient-to-r from-primary to-primary/80 text-white rounded-lg hover:from-primary/90 hover:to-primary/70 transition-all duration-200 flex items-center gap-2 mx-auto cursor-pointer shadow-lg",children:[g.jsx(GA,{size:20}),"Reset Passed Trades"]})})]})})]}),[n,l,N,w,Ne,d,U,x]),We="bg-primary text-primary-foreground hover:bg-primary/80 cursor-pointer transition-all duration-200 active:scale-95 uppercase tracking-widest font-bold disabled:opacity-40 disabled:cursor-not-allowed",Xe="rounded-md bg-muted px-3 py-2 text-sm sm:text-base outline-none focus:ring-2 ring-primary/80 transition-all duration-200";return S?g.jsxs(Er,{className:"flex flex-col items-center justify-center min-h-screen space-y-6 bg-neutral-950",children:[g.jsxs("div",{className:"w-full max-w-md flex border-b border-neutral-700",children:[g.jsx("div",{className:"flex-1 py-2",children:g.jsx("div",{className:"w-16 h-4 bg-neutral-700 rounded mx-auto animate-pulse"})}),g.jsx("div",{className:"flex-1 py-2",children:g.jsx("div",{className:"w-20 h-4 bg-neutral-700 rounded mx-auto animate-pulse"})})]}),g.jsx("div",{className:"relative w-full max-w-md h-[500px] flex items-center justify-center",children:g.jsxs("div",{className:"w-full h-full bg-neutral-900 rounded-2xl shadow-2xl p-4 flex flex-col items-center text-center border-2 border-neutral-800",children:[g.jsx("div",{className:"w-full h-64 bg-neutral-800 rounded-xl mb-4 animate-pulse"}),g.jsx("div",{className:"w-3/4 h-8 bg-neutral-800 rounded mb-2 animate-pulse"}),g.jsx("div",{className:"w-full h-4 bg-neutral-800 rounded animate-pulse"})]})}),g.jsx("div",{className:"w-32 h-4 bg-neutral-700 rounded animate-pulse"}),g.jsxs("div",{className:"flex space-x-8 mt-2 w-full max-w-xs",children:[g.jsx("div",{className:"w-1/2 h-12 bg-neutral-700 rounded-md animate-pulse"}),g.jsx("div",{className:"w-1/2 h-12 bg-neutral-700 rounded-md animate-pulse"})]})]}):g.jsxs(Er,{className:"min-h-screen bg-neutral-950",children:[g.jsx("div",{className:"sticky top-0 z-10 bg-neutral-950/95 backdrop-blur-sm border-b border-neutral-800",children:g.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:g.jsx("div",{className:"flex justify-center",children:g.jsxs("div",{className:"flex border-b border-neutral-700",children:[g.jsxs("button",{onClick:()=>E("swipe"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium transition cursor-pointer ${I==="swipe"?"text-primary border-b-2 border-primary":"text-neutral-400 hover:text-neutral-300"}`,children:[g.jsx(du,{size:16}),"Discover"]}),g.jsxs("button",{onClick:()=>E("matches"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium transition cursor-pointer ${I==="matches"?"text-primary border-b-2 border-primary":"text-neutral-400 hover:text-neutral-300"}`,children:[g.jsx(hb,{size:16}),"Matches (",M.length,")"]})]})})})}),g.jsx("div",{className:"relative max-w-6xl mx-auto px-4 py-6",children:g.jsx(Qn,{mode:"wait",children:I==="swipe"?g.jsx(Se.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},className:"flex flex-col items-center",children:g.jsxs("div",{className:"flex flex-col items-center justify-center space-y-6 w-full",children:[Ue,g.jsx("div",{className:"text-neutral-400 text-sm mb-2",children:n.length>0&&g.jsxs("span",{children:["Card ",l+1," of ",n.length]})}),g.jsxs("div",{className:"flex space-x-8 mt-2 w-full max-w-xs",children:[g.jsxs("button",{onClick:()=>ge("left"),disabled:w||l>=n.length,className:`w-1/2 rounded-md py-4 ${We}`,children:[g.jsx(Bu,{className:"w-6 h-6 mx-auto"}),"Like"]}),g.jsxs("button",{onClick:()=>ge("right"),disabled:w||l>=n.length,className:`w-1/2 rounded-md py-4 ${We}`,children:[g.jsx(ns,{className:"w-6 h-6 mx-auto"}),"Pass"]})]}),g.jsx("div",{className:"mt-8",children:g.jsxs("button",{onClick:()=>T(!B),className:`flex items-center gap-2 px-6 py-3 rounded-full shadow-lg transition-all duration-300 cursor-pointer ${B?"bg-primary text-white":"bg-neutral-800 text-neutral-300 hover:bg-neutral-700"}`,children:[g.jsx(du,{size:20}),"Filters",B?g.jsx(Df,{size:16}):g.jsx(eM,{size:16})]})})]})},"swipe"):g.jsx(Se.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"max-w-2xl mx-auto",children:g.jsx("div",{className:"space-y-4",children:Q?g.jsx("div",{className:"space-y-4",children:[1,2,3].map(me=>g.jsxs("div",{className:"bg-neutral-900 rounded-xl p-6 border border-neutral-700",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("div",{className:"w-16 h-4 bg-neutral-700 rounded animate-pulse"}),g.jsx("div",{className:"w-8 h-8 bg-neutral-700 rounded animate-pulse"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("div",{className:"w-full h-4 bg-neutral-700 rounded animate-pulse"}),g.jsx("div",{className:"w-3/4 h-4 bg-neutral-700 rounded animate-pulse"}),g.jsx("div",{className:"w-1/2 h-3 bg-neutral-700 rounded animate-pulse"})]})]},me))}):M.length===0?g.jsxs("div",{className:"text-center text-neutral-400 py-16",children:[g.jsx(Bu,{className:"w-16 h-16 mx-auto mb-6 opacity-50"}),g.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No matches yet"}),g.jsx("p",{className:"text-neutral-500",children:"Start swiping to find trades!"})]}):M.map(me=>{const Ce=me.fromUser===t?.uid,$e=Ce?me.toUser:me.fromUser,Ie=Ce?me.toUserName:me.fromUserName,Ze=Ce?me.fromItemTitle:me.toItemTitle,mt=Ce?me.toItemTitle:me.fromItemTitle;return g.jsxs(Se.div,{onClick:()=>e(`/messages/${$e}`),className:"bg-gradient-to-br from-neutral-900 to-neutral-800 rounded-2xl p-6 border border-neutral-700/50 cursor-pointer hover:border-primary/50 hover:from-neutral-800 hover:to-neutral-700 transition-all duration-300 shadow-lg hover:shadow-xl",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{scale:1.02},whileTap:{scale:.98},children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-3 h-3 bg-primary rounded-full animate-pulse"}),g.jsx("span",{className:"text-sm font-medium text-neutral-300 uppercase tracking-wide",children:"Match"})]}),g.jsx("button",{onClick:ot=>{ot.stopPropagation(),e(`/messages/${$e}`)},className:"text-primary hover:text-white transition-all duration-200 p-2 rounded-xl hover:bg-primary/20 group",children:g.jsx(hb,{className:"w-5 h-5 group-hover:scale-110 transition-transform"})})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"flex items-center gap-3 p-4 bg-neutral-800/50 rounded-xl border border-neutral-700/50",children:g.jsx("div",{className:"flex-1",children:g.jsxs("p",{className:"text-white text-sm leading-relaxed",children:[g.jsx("span",{className:"text-primary font-semibold cursor-pointer hover:underline transition-colors",onClick:ot=>{ot.stopPropagation(),e(`/user/${$e}`)},children:Ie})," ","wants to trade"," ",g.jsxs("span",{className:"text-primary font-semibold",children:['"',mt,'"']})," ","for your"," ",g.jsxs("span",{className:"text-primary font-semibold",children:['"',Ze,'"']})]})})}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:`w-2 h-2 rounded-full ${me.fromLiked&&me.toLiked?"bg-green-500 animate-pulse":"bg-yellow-500"}`}),g.jsx("p",{className:`text-xs font-medium ${me.fromLiked&&me.toLiked?"text-green-400":"text-yellow-400"}`,children:me.fromLiked&&me.toLiked?"Mutual match!":"Pending response"})]}),g.jsx("div",{className:"text-xs text-neutral-500",children:me.timestamp?.toDate?.()?new Date(me.timestamp.toDate()).toLocaleDateString():"Recently"})]})]})]},me.id)})})},"matches")})}),g.jsx(Qn,{children:B&&I==="swipe"&&g.jsx(Se.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed bottom-0 left-0 right-0 z-10 bg-neutral-900 border-t border-neutral-800 shadow-2xl",children:g.jsx("div",{className:"max-w-6xl mx-auto px-4 py-6",children:g.jsxs("div",{className:"bg-neutral-800 rounded-xl p-6 border border-neutral-700",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[g.jsx(du,{size:20}),"Filters"]}),g.jsx("button",{onClick:()=>T(!1),className:"text-neutral-400 hover:text-white transition cursor-pointer",children:g.jsx(ns,{size:20})})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:U,onChange:me=>W(me.target.checked),className:"sr-only peer"}),g.jsx("div",{className:"w-11 h-6 bg-neutral-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]}),g.jsx("span",{className:"text-white text-sm",children:"Random Mode (show all)"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Filter by Interests"}),g.jsx("select",{className:`w-full ${Xe} cursor-pointer`,value:d,onChange:ne,multiple:!0,disabled:U,size:Math.min(p.length,6)||2,children:p.map(me=>g.jsx("option",{value:me,children:Ii.find(Ce=>Ce.id===me)?.label||me},me))}),!U&&p.length>1&&g.jsx("div",{className:"text-xs text-neutral-400 mt-1",children:"Hold Ctrl (Cmd on Mac) to select multiple interests"})]})]})]})})})}),g.jsx(Qn,{children:q&&g.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:g.jsxs(Se.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-neutral-900 rounded-xl p-6 w-full max-w-md max-h-[80vh] overflow-y-auto",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h3",{className:"text-xl font-bold text-white",children:"Select Your Item to Trade"}),g.jsx("button",{onClick:()=>H(!1),className:"text-neutral-400 hover:text-white cursor-pointer transition-colors",children:g.jsx(ns,{className:"w-6 h-6"})})]}),g.jsx("div",{className:"space-y-3",children:i.map(me=>g.jsxs(Se.div,{onClick:()=>Ee(me),className:"flex items-center gap-3 p-3 rounded-lg border border-neutral-700 hover:border-primary cursor-pointer transition-all duration-200 hover:bg-neutral-800",whileHover:{scale:1.02},whileTap:{scale:.98},children:[g.jsx("img",{src:me.images?.[0],alt:me.title,className:"w-16 h-16 object-cover rounded-lg"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h4",{className:"text-white font-medium",children:me.title}),g.jsx("p",{className:"text-sm text-neutral-400",children:me.description})]}),g.jsx(px,{className:"w-5 h-5 text-neutral-400"})]},me.id))}),i.length===0&&g.jsxs("div",{className:"text-center text-neutral-400 py-8",children:[g.jsx("p",{children:"You need to add some trades first!"}),g.jsx(Se.button,{onClick:()=>e("/add"),className:"mt-4 px-6 py-2 rounded-md text-sm bg-primary text-white hover:bg-primary/80 cursor-pointer transition-all duration-200 active:scale-95 uppercase tracking-wide font-bold",whileHover:{scale:1.05},whileTap:{scale:.95},children:"ADD TRADE"})]})]})})})]})}function HQ(){const{tradeId:t}=lx(),e=Jr(),[n,r]=R.useState(null),[i,o]=R.useState(!0);return R.useEffect(()=>{if(!t)return;(async()=>{try{const c=await yi(rn(ze,"trades",t));c.exists()&&r({id:c.id,...c.data()})}finally{o(!1)}})()},[t]),i?null:g.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:g.jsx(v_,{trade:n,isOpen:!!n,onClose:()=>e(-1)})})}const $Q=R.memo(({selectedChat:t,otherUser:e,messages:n,onNavigateToProfile:r,isLoading:i=!1})=>{const{user:o}=Si(),[l,c]=R.useState(""),d=R.useRef(null),h=R.useRef(null),[p,y]=R.useState(!0);R.useEffect(()=>{if(t&&d.current&&h.current){const j=()=>{d.current&&h.current&&(h.current.scrollTop=h.current.scrollHeight,d.current.scrollIntoView({behavior:"instant"}),y(!0))};j(),setTimeout(j,0),setTimeout(j,100),setTimeout(j,200),setTimeout(j,500)}},[t?.id,n.length]),R.useEffect(()=>{d.current&&p&&n.length>0&&d.current.scrollIntoView({behavior:"smooth"})},[n,p]);const w=()=>{if(!h.current)return;const{scrollTop:j,scrollHeight:q,clientHeight:H}=h.current,X=j+H>=q-10;y(X)};R.useEffect(()=>{if(!t||!o)return;const j=new IntersectionObserver(H=>{H.forEach(X=>{if(X.isIntersecting){const O=X.target.getAttribute("data-message-id"),M=X.target.getAttribute("data-system-message")==="true";O&&!M&&el(rn(ze,"messages",O),{read:!0}).catch(console.error)}})},{threshold:.5});return document.querySelectorAll("[data-message-id]").forEach(H=>{const X=H.getAttribute("data-message-id"),O=H.getAttribute("data-sender-id"),M=H.getAttribute("data-system-message")==="true";X&&O&&O!==o.uid&&!M&&j.observe(H)}),()=>j.disconnect()},[n,t,o]);const A=async(j,q)=>{if(console.log("sendMessage called with:",{text:j,imageUrl:q,selectedChat:t?.id,user:o?.uid}),!t||!o||!j.trim()&&!q){console.log("sendMessage early return - missing data");return}try{console.log("Adding message to Firestore");const H={chatId:t.id,text:j.trim(),senderId:o.uid,receiverId:t.participants.find(X=>X!==o.uid),timestamp:ts(),read:!1};q&&(H.imageUrl=q),await us(Tt(ze,"messages"),H),console.log("Updating chat's last message"),await el(rn(ze,"chats",t.id),{lastMessage:{text:j.trim(),timestamp:ts()},lastMessageTime:ts()}),console.log("Message sent successfully"),c("")}catch(H){console.error("Error sending message:",H)}},N=async j=>{if(!(!t||!o))try{const q=Jw(tx,`chat-images/${t.id}/${Date.now()}-${j.name}`),H=await Qw(q,j),X=await Zw(H.ref);await A("",X)}catch(q){console.error("Error uploading image:",q)}},P=j=>{j.preventDefault(),l.trim()&&A(l)},U=j=>{if(!j)return"";try{const q=j.toDate(),O=(new Date().getTime()-q.getTime())/(1e3*60),M=O/60,C=M/24;return O<1?"now":O<60?`${Math.floor(O)}m`:M<24?`${Math.floor(M)}h`:C<7?`${Math.floor(C)}d`:q.toLocaleDateString("en-US",{month:"short",day:"numeric"})}catch{return""}};return g.jsx("div",{className:"flex-1 flex flex-col min-h-0",children:g.jsx(Qn,{mode:"wait",children:t?i?g.jsxs(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"flex-1 flex flex-col min-h-0",children:[g.jsx("div",{className:"p-4 border-b border-neutral-800 bg-neutral-900 flex-shrink-0",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-10 h-10 bg-neutral-700 rounded-full animate-pulse flex-shrink-0"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"w-32 h-5 bg-neutral-700 rounded animate-pulse mb-1"}),g.jsx("div",{className:"w-24 h-3 bg-neutral-700 rounded animate-pulse"})]})]})}),g.jsx("div",{className:"flex-1 p-4 space-y-4",children:[1,2,3,4].map(j=>g.jsx("div",{className:`flex ${j%2===0?"justify-end":"justify-start"}`,children:g.jsx("div",{className:`max-w-[70%] min-w-[200px] ${j%2===0?"bg-primary":"bg-neutral-700"} rounded-lg p-3`,children:g.jsx("div",{className:`w-48 h-4 ${j%2===0?"bg-primary/80":"bg-neutral-600"} rounded animate-pulse`})})},j))}),g.jsx("div",{className:"p-4 border-t border-neutral-800 bg-neutral-900 flex-shrink-0",children:g.jsxs("div",{className:"flex gap-2",children:[g.jsx("div",{className:"flex-1 h-10 bg-neutral-700 rounded-lg animate-pulse"}),g.jsx("div",{className:"w-10 h-10 bg-neutral-700 rounded-lg animate-pulse"}),g.jsx("div",{className:"w-10 h-10 bg-neutral-700 rounded-lg animate-pulse"})]})})]},"chat-loading"):g.jsxs(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"flex-1 flex flex-col min-h-0",children:[g.jsx("div",{className:"p-4 border-b border-neutral-800 bg-neutral-900 flex-shrink-0",children:g.jsxs("div",{className:"flex items-center gap-3",children:[e?.avatar?g.jsx("img",{src:e.avatar,alt:e.displayName||e.username,className:"w-10 h-10 rounded-full object-cover border border-white/10 flex-shrink-0",onError:j=>{j.currentTarget.style.display="none",j.currentTarget.nextElementSibling?.classList.remove("hidden")}}):null,g.jsx("span",{className:`w-10 h-10 bg-gradient-to-br from-primary to-primary/60 rounded-full flex items-center justify-center text-white font-bold ${e?.avatar?"hidden":""}`,children:e?.displayName?.charAt(0)||e?.username?.charAt(0)||"U"}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("h3",{className:"text-white font-semibold truncate",children:e?.displayName||e?.username||"Unknown User"}),g.jsx("p",{className:"text-sm text-neutral-400",children:e?.username?`@${e.username}`:""})]}),g.jsx("button",{onClick:()=>{const j=t?.participants.find(q=>q!==o?.uid);j&&r(j)},className:"p-2 text-neutral-400 hover:text-white transition-colors",children:g.jsx(mx,{size:20})})]})}),g.jsxs("div",{ref:h,onScroll:w,className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:[n.map(j=>g.jsx("div",{className:`flex ${j.isSystemMessage?"justify-center":j.senderId===o?.uid?"justify-end":"justify-start"}`,children:g.jsxs("div",{"data-message-id":j.id,"data-sender-id":j.senderId,"data-system-message":j.isSystemMessage?"true":"false",className:`${j.isSystemMessage?"bg-neutral-800 text-neutral-400 text-center text-xs px-3 py-1.5 max-w-[400px] whitespace-nowrap":j.senderId===o?.uid?"bg-primary text-white max-w-[45%] min-w-[80px]":"bg-neutral-700 text-white max-w-[45%] min-w-[80px]"} rounded-lg p-2.5 break-words whitespace-pre-wrap`,children:[j.imageUrl&&g.jsx("img",{src:j.imageUrl,alt:"Message attachment",className:"w-full h-auto rounded mb-2"}),g.jsx("p",{className:"text-sm",children:j.text}),!j.isSystemMessage&&g.jsx("p",{className:"text-xs opacity-70 mt-1",children:U(j.timestamp)})]})},j.id)),g.jsx("div",{ref:d})]}),g.jsx("div",{className:"p-4 border-t border-neutral-800 bg-neutral-900 flex-shrink-0",children:g.jsxs("form",{onSubmit:P,className:"flex items-center gap-3",children:[g.jsx("input",{type:"text",value:l,onChange:j=>c(j.target.value),placeholder:"Type a message...",className:"flex-1 bg-neutral-800 text-white px-4 py-3 rounded-lg border border-neutral-700 focus:border-primary outline-none"}),g.jsxs("label",{className:"cursor-pointer p-2 hover:bg-neutral-800 rounded-lg transition-colors",children:[g.jsx("input",{type:"file",accept:"image/*",onChange:j=>{const q=j.target.files?.[0];q&&N(q)},className:"hidden"}),g.jsx(xz,{size:24,className:"text-neutral-400 hover:text-white transition-colors"})]}),g.jsx("button",{type:"submit",disabled:!l.trim(),className:"bg-primary text-white p-2 rounded-lg hover:bg-primary/80 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:g.jsx(Tp,{size:20})})]})})]},"chat-window"):g.jsxs(Se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"flex-1 flex flex-col items-center justify-center text-center",children:[g.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-primary to-primary/60 rounded-full flex items-center justify-center mb-6",children:g.jsx(Tp,{size:48,className:"text-white"})}),g.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:"Messages"}),g.jsx("p",{className:"text-neutral-400 mb-6",children:"Select a chat to start messaging"})]},"empty-state")})})}),qQ=R.memo(({chats:t,selectedChatId:e,onChatSelect:n,hasUnread:r,getUnreadCount:i,formatTime:o})=>g.jsx(g.Fragment,{children:t.map(l=>g.jsx(Se.div,{onClick:()=>{console.log("Chat clicked:",l.id,"selectedChatId:",e),e!==l.id&&(console.log("Calling onChatSelect"),n(l))},className:`p-4 border-b border-neutral-800 cursor-pointer hover:bg-neutral-800 transition-colors ${e===l.id?"bg-neutral-800":""}`,whileHover:{backgroundColor:"rgb(38 38 38)"},children:g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsxs("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-primary/60 rounded-full flex items-center justify-center overflow-hidden flex-shrink-0",children:[l.otherUser?.avatar?g.jsx("img",{src:l.otherUser.avatar,alt:l.otherUser.displayName||l.otherUser.username,className:"w-full h-full object-cover",onError:c=>{c.currentTarget.style.display="none",c.currentTarget.nextElementSibling?.classList.remove("hidden")}}):null,g.jsx("span",{className:`text-white font-bold text-lg ${l.otherUser?.avatar?"hidden":""}`,children:l.otherUser?.displayName?.charAt(0)||l.otherUser?.username?.charAt(0)||"U"})]}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h3",{className:"text-white font-semibold truncate",children:l.otherUser?.displayName||l.otherUser?.username||"Unknown User"}),l.lastMessageTime&&g.jsx("span",{className:"text-xs text-neutral-400 flex-shrink-0 ml-2",children:o(l.lastMessageTime)})]}),g.jsx("p",{className:"text-sm text-neutral-400 truncate",children:l.lastMessage?.imageUrl?"Image":l.lastMessage?.text||"No messages yet"})]}),r(l.id)&&g.jsx("div",{className:"flex items-center justify-center w-5 h-5 bg-red-500 text-white text-xs font-semibold rounded-full flex-shrink-0",children:i(l.id)>99?"99+":i(l.id)})]})},l.id))}));function RR(){const{user:t}=Si(),{userId:e}=lx(),n=Jr(),{hasUnread:r,getUnreadCount:i}=e_(),[o,l]=R.useState([]),[c,d]=R.useState(null),[h,p]=R.useState([]),[y,w]=R.useState(null),[A,N]=R.useState(!0),[P,U]=R.useState(!1),[j,q]=R.useState(""),H=R.useCallback(E=>{if(E){const S=E.participants.find(k=>k!==t?.uid);S&&window.history.replaceState(null,"",`/messages/${S}`)}else window.history.replaceState(null,"","/messages")},[t?.uid]),X=R.useCallback(async E=>{try{const S=vn(Tt(ze,"messages"),tn("chatId","==",E),tn("isSystemMessage","==",!0));(await un(S)).empty&&await us(Tt(ze,"messages"),{chatId:E,text:" You both were matched because of a trade!",senderId:"system",receiverId:"system",timestamp:ts(),read:!0,isSystemMessage:!0,readable:!1})}catch(S){console.error("Error creating trade match message:",S)}},[]),O=R.useCallback(async E=>{if(t)try{const S=vn(Tt(ze,"chats"),tn("participants","array-contains",t.uid)),F=(await un(S)).docs.find(Z=>{const B=Z.data();return B.participants.includes(E)&&B.participants.length===2});if(F){const Z=F.data(),B={id:F.id,participants:Z.participants,lastMessageTime:Z.lastMessageTime,unreadCount:Z.unreadCount||0};d(B),U(!0),await X(B.id);return}const Q={id:(await us(Tt(ze,"chats"),{participants:[t.uid,E].sort(),lastMessageTime:ts(),unreadCount:0})).id,participants:[t.uid,E].sort(),lastMessageTime:ts(),unreadCount:0};d(Q),U(!0),await X(Q.id)}catch(S){console.error("Error creating chat:",S)}},[t,X]);R.useEffect(()=>{if(!t)return;const E=vn(Tt(ze,"chats"),tn("participants","array-contains",t.uid),Uu("lastMessageTime","desc")),S=zu(E,async k=>{const F=[],L=new Set;for(const Q of k.docs){const Z=Q.data();Z.id=Q.id;const B=Z.participants.find(T=>T!==t.uid);if(B){const T=[t.uid,B].sort().join("_");if(L.has(T))continue;L.add(T);try{const J=await yi(rn(ze,"users",B));if(J.exists()){const K=J.data();Z.otherUser=K}}catch(J){console.error("Error fetching user data:",J)}F.push(Z)}}l(F),N(!1)});return()=>S()},[t]),R.useEffect(()=>{if(!(!t||!o.length))if(e){const E=o.find(S=>S.participants.includes(e));E?(d(E),U(!0)):O(e)}else!e&&c&&d(null)},[e,t,o.length,O]),R.useEffect(()=>{if(console.log("Messages useEffect - selectedChat:",c?.id,"user:",t?.uid),!c||!t)return;const E=vn(Tt(ze,"messages"),tn("chatId","==",c.id),Uu("timestamp","asc")),S=zu(E,k=>{const F=k.docs.map(L=>({id:L.id,...L.data()}));p(F),U(!1)});return()=>S()},[c,t]),R.useEffect(()=>{if(console.log("OtherUser useEffect - selectedChat:",c?.id,"user:",t?.uid),!c||!t){w(null);return}const E=c.participants.find(S=>S!==t.uid);if(E){let S=!0;return yi(rn(ze,"users",E)).then(k=>{if(S)if(k.exists()){const F=k.data();w(F)}else w(null)}).catch(k=>{S&&(console.error("Error fetching other user:",k),w(null))}),()=>{S=!1}}else w(null)},[c?.id,t?.uid]);const M=R.useMemo(()=>o.filter(E=>E.otherUser?.displayName?.toLowerCase().includes(j.toLowerCase())||E.otherUser?.username?.toLowerCase().includes(j.toLowerCase())),[o,j]),C=R.useCallback(E=>{console.log("handleChatSelect called with:",E),U(!0),d(E),H(E)},[H]),I=R.useCallback(E=>{if(!E)return"";try{const S=E.toDate(),L=(new Date().getTime()-S.getTime())/(1e3*60),Q=L/60,Z=Q/24;return L<1?"now":L<60?`${Math.floor(L)}m`:Q<24?`${Math.floor(Q)}h`:Z<7?`${Math.floor(Z)}d`:S.toLocaleDateString("en-US",{month:"short",day:"numeric"})}catch{return""}},[]);return g.jsx(Er,{className:"h-screen bg-neutral-950 overflow-hidden",children:g.jsxs("div",{className:"flex h-full",children:[g.jsxs("div",{className:"w-1/3 bg-neutral-900 border-r border-neutral-800 flex flex-col min-w-0",children:[g.jsxs("div",{className:"p-4 border-b border-neutral-800 flex-shrink-0",children:[g.jsx("div",{className:"flex items-center justify-between mb-4",children:g.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Messages"})}),g.jsxs("div",{className:"relative",children:[g.jsx(Jd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-neutral-400",size:16}),g.jsx("input",{type:"text",placeholder:"Search messages",value:j,onChange:E=>q(E.target.value),className:"w-full bg-neutral-800 text-white px-10 py-2 rounded-lg border border-neutral-700 focus:border-primary outline-none"})]})]}),g.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:A?g.jsx("div",{className:"p-4 space-y-4",children:[1,2,3,4,5].map(E=>g.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg",children:[g.jsx("div",{className:"w-12 h-12 bg-neutral-700 rounded-full animate-pulse flex-shrink-0"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"w-24 h-4 bg-neutral-700 rounded mb-2 animate-pulse"}),g.jsx("div",{className:"w-32 h-3 bg-neutral-700 rounded animate-pulse"})]})]},E))}):M.length===0?g.jsx("div",{className:"flex flex-col items-center justify-center h-full text-neutral-400",children:g.jsx("p",{className:"text-sm",children:"No chats yet"})}):g.jsx(qQ,{chats:M,selectedChatId:c?.id,onChatSelect:C,hasUnread:r,getUnreadCount:i,formatTime:I})})]}),g.jsx("div",{className:"flex-1 bg-neutral-950 flex flex-col min-w-0",children:g.jsx($Q,{selectedChat:c,otherUser:y,messages:h,onNavigateToProfile:E=>n(`/user/${E}`),isLoading:P})})]})})}const GQ="bg-primary text-primary-foreground hover:bg-primary/80 cursor-pointer transition-all duration-200 active:scale-95 uppercase tracking-widest font-bold disabled:opacity-40 disabled:cursor-not-allowed rounded-md",D0="rounded-md bg-muted px-3 py-2 text-sm outline-none focus:ring-2 ring-primary/80 transition-all duration-200",NR={initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9}},IR={control:t=>({...t,background:"#1b1b1b",border:"none",minHeight:"2.6rem",cursor:"pointer"}),singleValue:t=>({...t,color:"#fff"}),input:t=>({...t,color:"#fff"}),placeholder:t=>({...t,color:"#888"}),menu:t=>({...t,background:"#1b1b1b"}),option:(t,e)=>({...t,background:e.isFocused?"#2a2a2a":"#1b1b1b",color:"#fff",cursor:"pointer"}),indicatorSeparator:()=>({display:"none"})},OR=t=>g.jsx(Rg.DropdownIndicator,{...t,children:g.jsx(Df,{size:18,className:"text-muted-foreground"})});function KQ({initialData:t,setData:e,onClose:n}){const[r,i]=R.useState(t?.displayName||""),[o,l]=R.useState(t?.username||""),[c,d]=R.useState(t?.country||null),[h,p]=R.useState(t?.language||null),[y,w]=R.useState(""),[A,N]=R.useState(new Set(t?.interests||[])),[P,U]=R.useState(t?.avatar||""),[j,q]=R.useState(null),[H,X]=R.useState(!1),O=async()=>{if(!r.trim())return q("Name is required");if(!o.trim())return q("Username is required");if(o.trim().length<3)return q("Username must be at least 3 characters");if(!Ya(o))return q("Username can only contain letters, numbers, and underscores");X(!0);const I=RN().currentUser;if(!I)return q("You must be logged in.");if(await PD(o,I.uid)){q("Username already exists. Please choose a different one."),X(!1);return}let S=P;if(P&&P.startsWith("data:")){const F=await fetch(P).then(Q=>Q.blob()),L=Jw(tx,`avatars/${I.uid}.jpg`);await Qw(L,F),S=await Zw(L)}const k={displayName:r,username:o,avatar:S,country:c?.value||t.country,language:h?.value||t.language,interests:Array.from(A)};await cl(rn(ze,"users",I.uid),k,{merge:!0}),await vN(I,{displayName:r,photoURL:S}),e(k),X(!1),n()},M=C=>{const I=C.target.files?.[0];if(!I)return;const E=new FileReader;E.onloadend=()=>U(E.result),E.readAsDataURL(I)};return g.jsx(Se.div,{...NR,transition:{duration:.25},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-6",children:g.jsxs(Se.div,{...NR,transition:{duration:.25},className:"bg-neutral-900 text-white w-full max-w-2xl rounded-xl relative p-5 sm:p-6 h-full flex flex-col",children:[g.jsx("button",{onClick:n,className:"absolute top-4 right-4 cursor-pointer hover:bg-neutral-800 p-2 rounded-xl transition-colors",children:g.jsx(ns,{size:24})}),g.jsx("h2",{className:"text-2xl font-bold mb-1 text-primary",children:"Edit Profile"}),g.jsx("p",{className:"text-sm mb-4 text-muted-foreground",children:"Update your profile information."}),g.jsxs("div",{className:"flex items-center gap-4 mb-5",children:[g.jsxs("label",{htmlFor:"avatar",className:"relative cursor-pointer shrink-0",children:[P?g.jsx("img",{src:P,className:"w-16 h-16 rounded-full object-cover border",alt:"Avatar"}):g.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center border",children:g.jsx(vx,{className:"text-muted-foreground",size:28})}),g.jsx("div",{className:"absolute bottom-0 right-0 p-1 bg-primary rounded-full",children:g.jsx(cz,{size:14})}),g.jsx("input",{id:"avatar",type:"file",accept:"image/*",className:"hidden",onChange:M})]}),g.jsx("input",{className:`${D0} w-full`,value:r,onChange:C=>{i(C.target.value),q(null)},placeholder:"Your name"})]}),g.jsxs("div",{className:"mb-5",children:[g.jsx("label",{className:"block text-sm mb-1",children:"Username"}),g.jsx("input",{className:`${D0} w-full ${o&&!Ya(o)?"border-red-500 focus:border-red-500":o&&Ya(o)?"border-green-500 focus:border-green-500":""}`,value:o,onChange:C=>{l(C.target.value),q(null)},placeholder:"johndoe123"}),o&&!Ya(o)&&g.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Username can only contain letters, numbers, and underscores"}),!o&&g.jsx("p",{className:"text-neutral-400 text-xs mt-1",children:"Only letters, numbers, and underscores allowed"})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-5",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm mb-1",children:"Country"}),g.jsx(df,{instanceId:"country",options:Gb().getData(),value:typeof c=="string"?Gb().getData().find(C=>C.value===t.country):c,onChange:C=>{d(C),q(null)},placeholder:"Select country",styles:IR,components:{DropdownIndicator:OR},menuShouldScrollIntoView:!1})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm mb-1",children:"Language"}),g.jsx(df,{instanceId:"language",options:Kb,value:typeof h=="string"?Kb.find(C=>C.value===t.language):h,onChange:C=>{p(C),q(null)},placeholder:"Select language",styles:IR,components:{DropdownIndicator:OR},menuShouldScrollIntoView:!1})]})]}),g.jsx("h3",{className:"text-xl font-semibold mb-1",children:"Interests"}),g.jsxs("p",{className:"text-sm mb-3",children:["These help us ",g.jsx("span",{className:"text-primary",children:"personalize"})," your experience."]}),g.jsx("input",{type:"text",placeholder:"Search interests",value:y,onChange:C=>w(C.target.value),className:`w-full mb-3 ${D0}`}),g.jsx("div",{className:"flex-grow overflow-y-auto pr-1 mb-4",children:g.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:Ii.filter(({label:C})=>C.toLowerCase().includes(y.toLowerCase())).map(({id:C,label:I,img:E})=>{const S=A.has(C);return g.jsxs("div",{onClick:()=>{N(k=>{const F=new Set(k);return F.has(C)?F.delete(C):F.add(C),F}),q(null)},className:`relative cursor-pointer rounded-xl overflow-hidden border-2 ${S?"border-primary":"border-transparent"}`,children:[g.jsx("img",{src:E,alt:I,className:"w-full h-20 object-cover"}),S&&g.jsx("div",{className:"absolute top-1 right-1 bg-primary p-1 rounded-full",children:g.jsx(gx,{size:14,className:"text-white"})}),g.jsx("p",{className:"text-xs mt-2 px-1 pb-2 truncate text-center",children:I})]},C)})})}),j&&g.jsx("p",{className:"text-red-500 text-sm mb-3",children:j}),g.jsx("div",{className:"flex justify-center",children:H?g.jsx(h_,{}):g.jsx("button",{onClick:O,className:`${GQ} px-6 py-2 text-sm`,disabled:H,children:"Save Changes"})})]},"modal")})}const Cm={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};function WQ(){const{user:t}=Si(),[e]=ZO(),[n,r]=R.useState(null),[i,o]=R.useState([]),[l,c]=R.useState([]),[d,h]=R.useState(!1),[p,y]=R.useState(!1),[w,A]=R.useState(!1),[N,P]=R.useState(null),[U,j]=R.useState(null),[q,H]=R.useState("trades"),[X,O]=R.useState(!0);R.useEffect(()=>{if(!t)return;(async()=>{try{const[S,k,F]=await Promise.all([p_(t.uid),g_(t.uid),DD(t.uid)]);r(S),o(k),c(F)}catch(S){console.error("Failed to fetch profile data:",S)}finally{O(!1)}})()},[t]),R.useEffect(()=>{const E=e.get("tab");H(E==="saved"?"saved":"trades")},[e]);const M=E=>{P(E),y(!0)},C=E=>{j(E),A(!0)},I=E=>{o(S=>S.map(k=>k.id===E.id?{...k,...E}:k)),P(E)};return X?g.jsxs(Er,{className:"px-4 py-8 text-white max-w-4xl mx-auto",children:[g.jsxs("div",{className:"flex items-center justify-between mb-8",children:[g.jsxs("div",{className:"flex items-center gap-5",children:[g.jsx("div",{className:"w-24 h-24 rounded-full bg-neutral-700 animate-pulse"}),g.jsxs("div",{children:[g.jsx("div",{className:"w-48 h-8 bg-neutral-700 rounded mb-2 animate-pulse"}),g.jsx("div",{className:"w-32 h-4 bg-neutral-700 rounded animate-pulse"})]})]}),g.jsx("div",{className:"w-24 h-10 bg-neutral-700 rounded animate-pulse"})]}),g.jsx("div",{className:"mt-6 mb-8",children:g.jsx("div",{className:"flex flex-wrap gap-3",children:[1,2,3].map(E=>g.jsx("div",{className:"w-24 h-8 bg-neutral-700 rounded-lg animate-pulse"},E))})}),g.jsx("div",{className:"flex justify-center border-t border-white/10 mb-4",children:[1,2].map(E=>g.jsx("div",{className:"w-1/2 py-3",children:g.jsx("div",{className:"w-16 h-4 bg-neutral-700 rounded mx-auto animate-pulse"})},E))}),g.jsx("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(E=>g.jsx("div",{className:"aspect-square bg-neutral-700 rounded-xl animate-pulse"},E))})]}):g.jsxs(Er,{className:"px-4 py-8 text-white max-w-4xl mx-auto",children:[t&&n&&g.jsxs(g.Fragment,{children:[g.jsxs(Se.div,{variants:Cm,initial:"hidden",animate:"visible",transition:{duration:.4},className:"flex items-center justify-between mb-8",children:[g.jsxs("div",{className:"flex items-center gap-5",children:[n.avatar?g.jsx("img",{src:n.avatar,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border border-white/10"}):g.jsx("div",{className:"w-24 h-24 rounded-full border border-white/10 bg-white/10 flex items-center justify-center",children:g.jsx(vx,{size:40,className:"text-white/60"})}),g.jsxs("div",{children:[g.jsxs("h1",{className:"text-3xl font-bold text-white",children:[n.name,g.jsxs("span",{children:[" ","- ","    ",m_(n.country||"")]})]}),g.jsx("p",{className:"text-sm text-white/60",children:t.email})]})]}),g.jsx("button",{onClick:()=>h(!0),className:"px-6 rounded-md py-1.5 text-sm bg-primary text-primary-foreground hover:bg-primary/80 cursor-pointer transition-all duration-200 active:scale-95 uppercase tracking-wide font-bold disabled:opacity-40 disabled:cursor-not-allowed",children:"EDIT PROFILE"})]}),g.jsx(Se.div,{variants:Cm,initial:"hidden",animate:"visible",transition:{delay:.2,duration:.4},className:"mt-6 mb-8",children:g.jsx("div",{className:"flex flex-wrap gap-3",children:(n.interests||[]).map(E=>g.jsx("span",{className:`px-4 py-2 rounded-lg text-sm font-semibold text-white ${MD(E)}`,children:E.replace("_"," ").split(" ").map(S=>S.charAt(0).toUpperCase()+S.slice(1)).join(" ")},E))})}),g.jsxs(Se.div,{variants:Cm,initial:"hidden",animate:"visible",transition:{delay:.3,duration:.4},className:"flex justify-center border-t border-white/10 mb-4",children:[g.jsxs("button",{onClick:()=>H("trades"),className:`flex items-center justify-center gap-1 px-6 py-3 text-sm font-medium transition w-1/2 cursor-pointer ${q==="trades"?"border-t-2 border-white":"text-white/40"}`,children:[g.jsx(vz,{size:18}),"Trades"]}),g.jsxs("button",{onClick:()=>H("saved"),className:`flex items-center justify-center gap-1 px-6 py-3 text-sm font-medium transition w-1/2 cursor-pointer ${q==="saved"?"border-t-2 border-white":"text-white/40"}`,children:[g.jsx(fl,{size:18}),"Saved"]})]}),g.jsxs(Se.div,{variants:Cm,initial:"hidden",animate:"visible",transition:{delay:.4,duration:.4},className:"mt-6 grid grid-cols-2 md:grid-cols-3 gap-4",children:[(q==="trades"?i:l).map((E,S)=>g.jsxs(Se.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:S*.05},className:`relative aspect-square overflow-hidden rounded-xl bg-white/10 cursor-pointer hover:scale-105 transition-transform duration-200 ${q==="trades"?"hover:border-2 hover:border-primary":""}`,onClick:()=>q==="trades"?M(E):C(E),children:[g.jsx("img",{src:E.images?.[0],alt:E.title||E.caption||"Item",className:"object-cover w-full h-full"}),q==="trades"&&!E.isAvailable&&g.jsx("div",{className:"absolute top-2 right-2 bg-red-600 text-white px-2 py-1 rounded-full text-xs font-bold",children:"UNAVAILABLE"})]},E.id)),q==="trades"&&i.length===0&&g.jsx("p",{className:"text-sm text-white/40 col-span-full text-center",children:"You haven't added any trades yet."}),q==="saved"&&l.length===0&&g.jsx("p",{className:"text-sm text-white/40 col-span-full text-center",children:"No saved posts yet."})]})]}),g.jsxs(Qn,{mode:"wait",children:[d&&g.jsx(KQ,{initialData:n,setData:E=>r(E),onClose:()=>h(!1)}),p&&g.jsx(v_,{trade:N,isOpen:p,onClose:()=>{y(!1),P(null)},onTradeUpdate:I}),w&&U&&g.jsx(y_,{post:U,onClose:()=>{A(!1),j(null)},user:t,liked:!1,saved:!0,handleLike:()=>{},handleSave:()=>{}})]})]})}function YQ(){const{userId:t}=lx(),e=Jr(),[n,r]=R.useState(null),[i,o]=R.useState([]),[l,c]=R.useState(!0);return R.useEffect(()=>{if(!t)return;(async()=>{try{const[h,p]=await Promise.all([p_(t),g_(t)]);h?r(h):e("/error"),o(p)}catch(h){console.error("Error loading user data:",h),e("/error")}finally{c(!1)}})()},[t,e]),l?g.jsx(Er,{className:"min-h-screen bg-neutral-950",children:g.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[g.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[g.jsx("div",{className:"w-8 h-8 bg-neutral-700 rounded-lg animate-pulse"}),g.jsx("div",{className:"w-32 h-6 bg-neutral-700 rounded animate-pulse"})]}),g.jsxs("div",{className:"flex items-center gap-5 mb-8",children:[g.jsx("div",{className:"w-24 h-24 bg-neutral-700 rounded-full animate-pulse"}),g.jsxs("div",{children:[g.jsx("div",{className:"w-48 h-8 bg-neutral-700 rounded mb-2 animate-pulse"}),g.jsx("div",{className:"w-32 h-4 bg-neutral-700 rounded mb-2 animate-pulse"}),g.jsx("div",{className:"w-64 h-4 bg-neutral-700 rounded animate-pulse"})]})]}),g.jsx("div",{className:"mt-6 mb-8",children:g.jsx("div",{className:"flex flex-wrap gap-3",children:[1,2,3,4,5].map(d=>g.jsx("div",{className:"w-24 h-8 bg-neutral-700 rounded-lg animate-pulse"},d))})}),g.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(d=>g.jsx("div",{className:"aspect-square bg-neutral-700 rounded-xl animate-pulse"},d))})]})}):n?g.jsx(Er,{className:"min-h-screen bg-neutral-950",children:g.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[g.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[g.jsx("button",{onClick:()=>e(-1),className:"text-neutral-400 hover:text-white transition-colors p-2 rounded-lg hover:bg-neutral-800",children:g.jsx(mx,{size:24})}),g.jsx("h1",{className:"text-2xl font-bold text-white",children:"User Profile"})]}),g.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"flex items-center justify-between mb-8",children:g.jsxs("div",{className:"flex items-center gap-5",children:[n.avatar?g.jsx("img",{src:n.avatar,alt:n.displayName||n.username,className:"w-24 h-24 rounded-full object-cover border border-white/10",onError:d=>{d.currentTarget.style.display="none",d.currentTarget.nextElementSibling?.classList.remove("hidden")}}):g.jsx("div",{className:"w-24 h-24 rounded-full border border-white/10 bg-white/10 flex items-center justify-center overflow-hidden",children:g.jsx("span",{className:"text-white font-bold text-3xl",children:n.displayName?.charAt(0)||n.username?.charAt(0)||"U"})}),g.jsxs("div",{children:[g.jsxs("h1",{className:"text-3xl font-bold text-white",children:[n.displayName||n.username,n.country&&g.jsxs("span",{children:[" - ",m_(n.country)]})]}),g.jsxs("p",{className:"text-sm text-white/60",children:["@",n.username]}),n.bio&&g.jsx("p",{className:"text-sm text-white/60 mt-1",children:n.bio})]})]})}),n.interests&&n.interests.length>0&&g.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.4},className:"mt-6 mb-8",children:g.jsx("div",{className:"flex flex-wrap gap-3",children:n.interests.map(d=>g.jsx("span",{className:`px-4 py-2 rounded-lg text-sm font-semibold text-white ${MD(d)}`,children:gX(d)},d))})}),g.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.4},className:"mt-6 grid grid-cols-2 md:grid-cols-3 gap-4",children:i.length===0?g.jsxs("div",{className:"text-center text-neutral-400 py-16",children:[g.jsx(Iz,{className:"w-16 h-16 mx-auto mb-6 opacity-50"}),g.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No trades available"}),g.jsx("p",{className:"text-neutral-500",children:"This user hasn't added any trades yet."})]}):g.jsx(g.Fragment,{children:i.map((d,h)=>g.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:h*.1},className:"aspect-square bg-neutral-900 rounded-xl border border-neutral-700 overflow-hidden hover:border-primary transition-colors cursor-pointer",onClick:()=>e(`/trades/${d.id}`),children:g.jsx("img",{src:d.images?.[0],alt:d.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-200"})},d.id))})})]})}):g.jsx(Er,{className:"min-h-screen bg-neutral-950",children:g.jsx("div",{className:"flex items-center justify-center min-h-screen",children:g.jsx("div",{className:"text-white",children:"User not found"})})})}const gd={initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2}};function XQ(){const{cart:t,totalPrice:e,updateQuantity:n,removeFromCart:r}=Jx();return g.jsxs(Er,{className:"max-w-3xl mx-auto py-16 px-4 space-y-8",children:[g.jsx(Se.h1,{...gd,className:"text-3xl font-bold text-center",children:"Your Cart"}),t.length===0?g.jsx(Se.p,{...gd,className:"text-neutral-400 text-center",children:"Your cart is empty."}):g.jsxs(g.Fragment,{children:[g.jsx(Se.div,{...gd,className:"space-y-6",children:t.map(i=>g.jsxs(Se.div,{...gd,className:"flex items-center justify-between bg-neutral-900 border border-neutral-700 rounded-lg p-4",children:[g.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[i.image&&g.jsx("img",{src:i.image,alt:i.name,className:"w-16 h-16 rounded object-cover border border-neutral-700"}),g.jsxs("div",{children:[g.jsx("p",{className:"font-medium",children:i.name}),g.jsxs("p",{className:"text-neutral-400 text-sm",children:["$",i.price?.toFixed(2)??0," each"]})]})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("button",{onClick:()=>n(i.id,i.quantity-1),className:"px-2 text-white cursor-pointer hover:text-primary",children:"-"}),g.jsx("input",{min:1,value:i.quantity,onChange:o=>n(i.id,Math.max(1,parseInt(o.target.value)||1)),className:"w-12 text-center bg-transparent border border-neutral-700 rounded text-white hover:border-primary focus:outline-none focus:ring-1 focus:ring-primary"}),g.jsx("button",{onClick:()=>n(i.id,i.quantity+1),className:"px-2 text-white cursor-pointer hover:text-primary",children:"+"}),g.jsx("button",{onClick:()=>r(i.id),className:"ml-4 bg-red-600 hover:bg-red-700 transition px-3 py-1 text-sm rounded text-white cursor-pointer",children:"Remove"})]})]},i.id))}),g.jsxs(Se.div,{...gd,className:"border-t border-neutral-700 pt-6 text-right space-y-2",children:[g.jsxs("p",{className:"text-lg font-semibold",children:["Total:"," ",g.jsxs("span",{className:"text-primary",children:["$",e.toFixed(2)]})]}),g.jsx("button",{className:"bg-primary px-6 py-2 rounded text-sm font-medium hover:opacity-90 transition cursor-pointer",children:"Proceed to Checkout"})]})]})]})}function QQ(){const t=Jr();return g.jsx(Er,{className:"min-h-screen bg-neutral-950",children:g.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen px-4",children:g.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center max-w-md",children:[g.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-2xl",children:g.jsx(Yz,{size:48,className:"text-white"})}),g.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Oops! Something went wrong"}),g.jsx("p",{className:"text-lg text-neutral-400 mb-8 leading-relaxed",children:"We encountered an unexpected error. Don't worry, it's not your fault!"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs(Se.button,{onClick:()=>t("/"),className:"w-full bg-gradient-to-r from-primary to-primary/80 text-white px-8 py-4 rounded-xl hover:from-primary/90 hover:to-primary/70 transition-all duration-200 flex items-center justify-center gap-3 font-semibold shadow-lg cursor-pointer",whileHover:{scale:1.02},whileTap:{scale:.98},children:[g.jsx(tM,{size:20}),"Return to Home"]}),g.jsx(Se.button,{onClick:()=>window.location.reload(),className:"w-full bg-neutral-800 text-white px-8 py-4 rounded-xl hover:bg-neutral-700 transition-all duration-200 font-semibold cursor-pointer",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Try Again"})]}),g.jsx("div",{className:"mt-12 text-sm text-neutral-500",children:g.jsx("p",{children:"If the problem persists, please contact support."})})]})})})}const ZQ=M7([{path:"/",Component:vG,children:[{index:!0,Component:SX},{path:"about",Component:TX},{path:"dashboard",Component:mQ},{path:"search",Component:_Q},{path:"add",Component:IQ},{path:"trade",Component:FQ},{path:"trades/:tradeId",Component:HQ},{path:"messages",Component:RR},{path:"messages/:userId",Component:RR},{path:"cart",Component:XQ},{path:"profile",Component:WQ},{path:"user/:userId",Component:YQ}],errorElement:g.jsx(QQ,{})}]);_j.createRoot(document.getElementById("root")).render(g.jsx(R.StrictMode,{children:g.jsx(j9,{children:g.jsx(hG,{children:g.jsx(r7,{router:ZQ})})})}));
