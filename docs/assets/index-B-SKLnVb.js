function z4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var hm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function eg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function B4(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Ky={exports:{}},dd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XT;function F4(){if(XT)return dd;XT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var d in i)d!=="key"&&(o[d]=i[d])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:o}}return dd.Fragment=e,dd.jsx=n,dd.jsxs=n,dd}var QT;function H4(){return QT||(QT=1,Ky.exports=F4()),Ky.exports}var h=H4(),Yy={exports:{}},ft={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZT;function $4(){if(ZT)return ft;ZT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function x(w){return w===null||typeof w!="object"?null:(w=y&&w[y]||w["@@iterator"],typeof w=="function"?w:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,P={};function V(w,z,X){this.props=w,this.context=z,this.refs=P,this.updater=X||E}V.prototype.isReactComponent={},V.prototype.setState=function(w,z){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,z,"setState")},V.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function O(){}O.prototype=V.prototype;function B(w,z,X){this.props=w,this.context=z,this.refs=P,this.updater=X||E}var F=B.prototype=new O;F.constructor=B,R(F,V.prototype),F.isPureReactComponent=!0;var Y=Array.isArray,M={H:null,A:null,T:null,S:null,V:null},j=Object.prototype.hasOwnProperty;function C(w,z,X,Q,ne,se){return X=se.ref,{$$typeof:t,type:w,key:z,ref:X!==void 0?X:null,props:se}}function I(w,z){return C(w.type,z,void 0,void 0,void 0,w.props)}function N(w){return typeof w=="object"&&w!==null&&w.$$typeof===t}function T(w){var z={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(X){return z[X]})}var U=/\/+/g;function $(w,z){return typeof w=="object"&&w!==null&&w.key!=null?T(""+w.key):z.toString(36)}function D(){}function G(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(D,D):(w.status="pending",w.then(function(z){w.status==="pending"&&(w.status="fulfilled",w.value=z)},function(z){w.status==="pending"&&(w.status="rejected",w.reason=z)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function Z(w,z,X,Q,ne){var se=typeof w;(se==="undefined"||se==="boolean")&&(w=null);var le=!1;if(w===null)le=!0;else switch(se){case"bigint":case"string":case"number":le=!0;break;case"object":switch(w.$$typeof){case t:case e:le=!0;break;case p:return le=w._init,Z(le(w._payload),z,X,Q,ne)}}if(le)return ne=ne(w),le=Q===""?"."+$(w,0):Q,Y(ne)?(X="",le!=null&&(X=le.replace(U,"$&/")+"/"),Z(ne,z,X,"",function(Pe){return Pe})):ne!=null&&(N(ne)&&(ne=I(ne,X+(ne.key==null||w&&w.key===ne.key?"":(""+ne.key).replace(U,"$&/")+"/")+le)),z.push(ne)),1;le=0;var ve=Q===""?".":Q+":";if(Y(w))for(var Ee=0;Ee<w.length;Ee++)Q=w[Ee],se=ve+$(Q,Ee),le+=Z(Q,z,X,se,ne);else if(Ee=x(w),typeof Ee=="function")for(w=Ee.call(w),Ee=0;!(Q=w.next()).done;)Q=Q.value,se=ve+$(Q,Ee++),le+=Z(Q,z,X,se,ne);else if(se==="object"){if(typeof w.then=="function")return Z(G(w),z,X,Q,ne);throw z=String(w),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return le}function H(w,z,X){if(w==null)return w;var Q=[],ne=0;return Z(w,Q,"","",function(se){return z.call(X,se,ne++)}),Q}function S(w){if(w._status===-1){var z=w._result;z=z(),z.then(function(X){(w._status===0||w._status===-1)&&(w._status=1,w._result=X)},function(X){(w._status===0||w._status===-1)&&(w._status=2,w._result=X)}),w._status===-1&&(w._status=0,w._result=z)}if(w._status===1)return w._result.default;throw w._result}var J=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function K(){}return ft.Children={map:H,forEach:function(w,z,X){H(w,function(){z.apply(this,arguments)},X)},count:function(w){var z=0;return H(w,function(){z++}),z},toArray:function(w){return H(w,function(z){return z})||[]},only:function(w){if(!N(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},ft.Component=V,ft.Fragment=n,ft.Profiler=i,ft.PureComponent=B,ft.StrictMode=r,ft.Suspense=c,ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,ft.__COMPILER_RUNTIME={__proto__:null,c:function(w){return M.H.useMemoCache(w)}},ft.cache=function(w){return function(){return w.apply(null,arguments)}},ft.cloneElement=function(w,z,X){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var Q=R({},w.props),ne=w.key,se=void 0;if(z!=null)for(le in z.ref!==void 0&&(se=void 0),z.key!==void 0&&(ne=""+z.key),z)!j.call(z,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&z.ref===void 0||(Q[le]=z[le]);var le=arguments.length-2;if(le===1)Q.children=X;else if(1<le){for(var ve=Array(le),Ee=0;Ee<le;Ee++)ve[Ee]=arguments[Ee+2];Q.children=ve}return C(w.type,ne,void 0,void 0,se,Q)},ft.createContext=function(w){return w={$$typeof:l,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:o,_context:w},w},ft.createElement=function(w,z,X){var Q,ne={},se=null;if(z!=null)for(Q in z.key!==void 0&&(se=""+z.key),z)j.call(z,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ne[Q]=z[Q]);var le=arguments.length-2;if(le===1)ne.children=X;else if(1<le){for(var ve=Array(le),Ee=0;Ee<le;Ee++)ve[Ee]=arguments[Ee+2];ne.children=ve}if(w&&w.defaultProps)for(Q in le=w.defaultProps,le)ne[Q]===void 0&&(ne[Q]=le[Q]);return C(w,se,void 0,void 0,null,ne)},ft.createRef=function(){return{current:null}},ft.forwardRef=function(w){return{$$typeof:d,render:w}},ft.isValidElement=N,ft.lazy=function(w){return{$$typeof:p,_payload:{_status:-1,_result:w},_init:S}},ft.memo=function(w,z){return{$$typeof:m,type:w,compare:z===void 0?null:z}},ft.startTransition=function(w){var z=M.T,X={};M.T=X;try{var Q=w(),ne=M.S;ne!==null&&ne(X,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(K,J)}catch(se){J(se)}finally{M.T=z}},ft.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},ft.use=function(w){return M.H.use(w)},ft.useActionState=function(w,z,X){return M.H.useActionState(w,z,X)},ft.useCallback=function(w,z){return M.H.useCallback(w,z)},ft.useContext=function(w){return M.H.useContext(w)},ft.useDebugValue=function(){},ft.useDeferredValue=function(w,z){return M.H.useDeferredValue(w,z)},ft.useEffect=function(w,z,X){var Q=M.H;if(typeof X=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(w,z)},ft.useId=function(){return M.H.useId()},ft.useImperativeHandle=function(w,z,X){return M.H.useImperativeHandle(w,z,X)},ft.useInsertionEffect=function(w,z){return M.H.useInsertionEffect(w,z)},ft.useLayoutEffect=function(w,z){return M.H.useLayoutEffect(w,z)},ft.useMemo=function(w,z){return M.H.useMemo(w,z)},ft.useOptimistic=function(w,z){return M.H.useOptimistic(w,z)},ft.useReducer=function(w,z,X){return M.H.useReducer(w,z,X)},ft.useRef=function(w){return M.H.useRef(w)},ft.useState=function(w){return M.H.useState(w)},ft.useSyncExternalStore=function(w,z,X){return M.H.useSyncExternalStore(w,z,X)},ft.useTransition=function(){return M.H.useTransition()},ft.version="19.1.0",ft}var JT;function Rs(){return JT||(JT=1,Yy.exports=$4()),Yy.exports}var A=Rs();const nl=eg(A),eE=z4({__proto__:null,default:nl},[A]);var Xy={exports:{}},hd={},Qy={exports:{}},Zy={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE;function q4(){return tE||(tE=1,function(t){function e(H,S){var J=H.length;H.push(S);e:for(;0<J;){var K=J-1>>>1,w=H[K];if(0<i(w,S))H[K]=S,H[J]=w,J=K;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var S=H[0],J=H.pop();if(J!==S){H[0]=J;e:for(var K=0,w=H.length,z=w>>>1;K<z;){var X=2*(K+1)-1,Q=H[X],ne=X+1,se=H[ne];if(0>i(Q,J))ne<w&&0>i(se,Q)?(H[K]=se,H[ne]=J,K=ne):(H[K]=Q,H[X]=J,K=X);else if(ne<w&&0>i(se,J))H[K]=se,H[ne]=J,K=ne;else break e}}return S}function i(H,S){var J=H.sortIndex-S.sortIndex;return J!==0?J:H.id-S.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var c=[],m=[],p=1,y=null,x=3,E=!1,R=!1,P=!1,V=!1,O=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function Y(H){for(var S=n(m);S!==null;){if(S.callback===null)r(m);else if(S.startTime<=H)r(m),S.sortIndex=S.expirationTime,e(c,S);else break;S=n(m)}}function M(H){if(P=!1,Y(H),!R)if(n(c)!==null)R=!0,j||(j=!0,$());else{var S=n(m);S!==null&&Z(M,S.startTime-H)}}var j=!1,C=-1,I=5,N=-1;function T(){return V?!0:!(t.unstable_now()-N<I)}function U(){if(V=!1,j){var H=t.unstable_now();N=H;var S=!0;try{e:{R=!1,P&&(P=!1,B(C),C=-1),E=!0;var J=x;try{t:{for(Y(H),y=n(c);y!==null&&!(y.expirationTime>H&&T());){var K=y.callback;if(typeof K=="function"){y.callback=null,x=y.priorityLevel;var w=K(y.expirationTime<=H);if(H=t.unstable_now(),typeof w=="function"){y.callback=w,Y(H),S=!0;break t}y===n(c)&&r(c),Y(H)}else r(c);y=n(c)}if(y!==null)S=!0;else{var z=n(m);z!==null&&Z(M,z.startTime-H),S=!1}}break e}finally{y=null,x=J,E=!1}S=void 0}}finally{S?$():j=!1}}}var $;if(typeof F=="function")$=function(){F(U)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,G=D.port2;D.port1.onmessage=U,$=function(){G.postMessage(null)}}else $=function(){O(U,0)};function Z(H,S){C=O(function(){H(t.unstable_now())},S)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(H){switch(x){case 1:case 2:case 3:var S=3;break;default:S=x}var J=x;x=S;try{return H()}finally{x=J}},t.unstable_requestPaint=function(){V=!0},t.unstable_runWithPriority=function(H,S){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var J=x;x=H;try{return S()}finally{x=J}},t.unstable_scheduleCallback=function(H,S,J){var K=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?K+J:K):J=K,H){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=J+w,H={id:p++,callback:S,priorityLevel:H,startTime:J,expirationTime:w,sortIndex:-1},J>K?(H.sortIndex=J,e(m,H),n(c)===null&&H===n(m)&&(P?(B(C),C=-1):P=!0,Z(M,J-K))):(H.sortIndex=w,e(c,H),R||E||(R=!0,j||(j=!0,$()))),H},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(H){var S=x;return function(){var J=x;x=S;try{return H.apply(this,arguments)}finally{x=J}}}}(Zy)),Zy}var nE;function G4(){return nE||(nE=1,Qy.exports=q4()),Qy.exports}var Jy={exports:{}},hr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rE;function W4(){if(rE)return hr;rE=1;var t=Rs();function e(c){var m="https://react.dev/errors/"+c;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)m+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(c,m,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:y==null?null:""+y,children:c,containerInfo:m,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(c,m){if(c==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return hr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,hr.createPortal=function(c,m){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(c,m,null,p)},hr.flushSync=function(c){var m=l.T,p=r.p;try{if(l.T=null,r.p=2,c)return c()}finally{l.T=m,r.p=p,r.d.f()}},hr.preconnect=function(c,m){typeof c=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(c,m))},hr.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},hr.preinit=function(c,m){if(typeof c=="string"&&m&&typeof m.as=="string"){var p=m.as,y=d(p,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,E=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;p==="style"?r.d.S(c,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:x,fetchPriority:E}):p==="script"&&r.d.X(c,{crossOrigin:y,integrity:x,fetchPriority:E,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},hr.preinitModule=function(c,m){if(typeof c=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var p=d(m.as,m.crossOrigin);r.d.M(c,{crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(c)},hr.preload=function(c,m){if(typeof c=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var p=m.as,y=d(p,m.crossOrigin);r.d.L(c,p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},hr.preloadModule=function(c,m){if(typeof c=="string")if(m){var p=d(m.as,m.crossOrigin);r.d.m(c,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:p,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(c)},hr.requestFormReset=function(c){r.d.r(c)},hr.unstable_batchedUpdates=function(c,m){return c(m)},hr.useFormState=function(c,m,p){return l.H.useFormState(c,m,p)},hr.useFormStatus=function(){return l.H.useHostTransitionStatus()},hr.version="19.1.0",hr}var iE;function nR(){if(iE)return Jy.exports;iE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Jy.exports=W4(),Jy.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sE;function K4(){if(sE)return hd;sE=1;var t=G4(),e=Rs(),n=nR();function r(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function l(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function d(s){if(o(s)!==s)throw Error(r(188))}function c(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(r(188));return a!==s?null:s}for(var u=s,f=a;;){var v=u.return;if(v===null)break;var b=v.alternate;if(b===null){if(f=v.return,f!==null){u=f;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===u)return d(v),s;if(b===f)return d(v),a;b=b.sibling}throw Error(r(188))}if(u.return!==f.return)u=v,f=b;else{for(var L=!1,q=v.child;q;){if(q===u){L=!0,u=v,f=b;break}if(q===f){L=!0,f=v,u=b;break}q=q.sibling}if(!L){for(q=b.child;q;){if(q===u){L=!0,u=b,f=v;break}if(q===f){L=!0,f=b,u=v;break}q=q.sibling}if(!L)throw Error(r(189))}}if(u.alternate!==f)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?s:a}function m(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=m(s),a!==null)return a;s=s.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),F=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),T=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function $(s){return s===null||typeof s!="object"?null:(s=U&&s[U]||s["@@iterator"],typeof s=="function"?s:null)}var D=Symbol.for("react.client.reference");function G(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===D?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case V:return"Profiler";case P:return"StrictMode";case M:return"Suspense";case j:return"SuspenseList";case N:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case F:return(s.displayName||"Context")+".Provider";case B:return(s._context.displayName||"Context")+".Consumer";case Y:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case C:return a=s.displayName||null,a!==null?a:G(s.type)||"Memo";case I:a=s._payload,s=s._init;try{return G(s(a))}catch{}}return null}var Z=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,S=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},K=[],w=-1;function z(s){return{current:s}}function X(s){0>w||(s.current=K[w],K[w]=null,w--)}function Q(s,a){w++,K[w]=s.current,s.current=a}var ne=z(null),se=z(null),le=z(null),ve=z(null);function Ee(s,a){switch(Q(le,a),Q(se,s),Q(ne,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?TT(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=TT(a),s=ET(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}X(ne),Q(ne,s)}function Pe(){X(ne),X(se),X(le)}function Re(s){s.memoizedState!==null&&Q(ve,s);var a=ne.current,u=ET(a,s.type);a!==u&&(Q(se,s),Q(ne,u))}function ze(s){se.current===s&&(X(ne),X(se)),ve.current===s&&(X(ve),ad._currentValue=J)}var Ye=Object.prototype.hasOwnProperty,Qe=t.unstable_scheduleCallback,pe=t.unstable_cancelCallback,Ce=t.unstable_shouldYield,$e=t.unstable_requestPaint,Ie=t.unstable_now,Je=t.unstable_getCurrentPriorityLevel,mt=t.unstable_ImmediatePriority,lt=t.unstable_UserBlockingPriority,Nt=t.unstable_NormalPriority,ht=t.unstable_LowPriority,pn=t.unstable_IdlePriority,lr=t.log,Cn=t.unstable_setDisableYieldValue,pt=null,qe=null;function sn(s){if(typeof lr=="function"&&Cn(s),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(pt,s)}catch{}}var tn=Math.clz32?Math.clz32:an,$i=Math.log,ur=Math.LN2;function an(s){return s>>>=0,s===0?32:31-($i(s)/ur|0)|0}var qi=256,Gi=4194304;function Lr(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function js(s,a,u){var f=s.pendingLanes;if(f===0)return 0;var v=0,b=s.suspendedLanes,L=s.pingedLanes;s=s.warmLanes;var q=f&134217727;return q!==0?(f=q&~b,f!==0?v=Lr(f):(L&=q,L!==0?v=Lr(L):u||(u=q&~s,u!==0&&(v=Lr(u))))):(q=f&~b,q!==0?v=Lr(q):L!==0?v=Lr(L):u||(u=f&~s,u!==0&&(v=Lr(u)))),v===0?0:a!==0&&a!==v&&(a&b)===0&&(b=v&-v,u=a&-a,b>=u||b===32&&(u&4194048)!==0)?a:v}function ri(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function ya(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ps(){var s=qi;return qi<<=1,(qi&4194048)===0&&(qi=256),s}function To(){var s=Gi;return Gi<<=1,(Gi&62914560)===0&&(Gi=4194304),s}function ii(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function Ci(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function ba(s,a,u,f,v,b){var L=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var q=s.entanglements,ee=s.expirationTimes,he=s.hiddenUpdates;for(u=L&~u;0<u;){var be=31-tn(u),we=1<<be;q[be]=0,ee[be]=-1;var fe=he[be];if(fe!==null)for(he[be]=null,be=0;be<fe.length;be++){var me=fe[be];me!==null&&(me.lane&=-536870913)}u&=~we}f!==0&&br(s,f,0),b!==0&&v===0&&s.tag!==0&&(s.suspendedLanes|=b&~(L&~a))}function br(s,a,u){s.pendingLanes|=a,s.suspendedLanes&=~a;var f=31-tn(a);s.entangledLanes|=a,s.entanglements[f]=s.entanglements[f]|1073741824|u&4194090}function Wi(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var f=31-tn(u),v=1<<f;v&a|s[f]&a&&(s[f]|=a),u&=~v}}function Ki(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function xa(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function te(){var s=S.p;return s!==0?s:(s=window.event,s===void 0?32:$T(s.type))}function ae(s,a){var u=S.p;try{return S.p=s,a()}finally{S.p=u}}var de=Math.random().toString(36).slice(2),_e="__reactFiber$"+de,Te="__reactProps$"+de,Oe="__reactContainer$"+de,Ge="__reactEvents$"+de,De="__reactListeners$"+de,Ue="__reactHandles$"+de,Le="__reactResources$"+de,et="__reactMarker$"+de;function We(s){delete s[_e],delete s[Te],delete s[Ge],delete s[De],delete s[Ue]}function st(s){var a=s[_e];if(a)return a;for(var u=s.parentNode;u;){if(a=u[Oe]||u[_e]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=RT(s);s!==null;){if(u=s[_e])return u;s=RT(s)}return a}s=u,u=s.parentNode}return null}function wt(s){if(s=s[_e]||s[Oe]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function Ut(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(r(33))}function Pt(s){var a=s[Le];return a||(a=s[Le]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ct(s){s[et]=!0}var yt=new Set,si={};function Ln(s,a){xr(s,a),xr(s+"Capture",a)}function xr(s,a){for(si[s]=a,s=0;s<a.length;s++)yt.add(a[s])}var er=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yi={},Vr={};function wa(s){return Ye.call(Vr,s)?!0:Ye.call(Yi,s)?!1:er.test(s)?Vr[s]=!0:(Yi[s]=!0,!1)}function cr(s,a,u){if(wa(a))if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+u)}}function wr(s,a,u){if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+u)}}function ut(s,a,u,f){if(f===null)s.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(a,u,""+f)}}var Nn,Ur;function Nr(s){if(Nn===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);Nn=a&&a[1]||"",Ur=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nn+s+Ur}var Xi=!1;function Xt(s,a){if(!s||Xi)return"";Xi=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(me){var fe=me}Reflect.construct(s,[],we)}else{try{we.call()}catch(me){fe=me}s.call(we.prototype)}}else{try{throw Error()}catch(me){fe=me}(we=s())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(me){if(me&&fe&&typeof me.stack=="string")return[me.stack,fe.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),L=b[0],q=b[1];if(L&&q){var ee=L.split(`
`),he=q.split(`
`);for(v=f=0;f<ee.length&&!ee[f].includes("DetermineComponentFrameRoot");)f++;for(;v<he.length&&!he[v].includes("DetermineComponentFrameRoot");)v++;if(f===ee.length||v===he.length)for(f=ee.length-1,v=he.length-1;1<=f&&0<=v&&ee[f]!==he[v];)v--;for(;1<=f&&0<=v;f--,v--)if(ee[f]!==he[v]){if(f!==1||v!==1)do if(f--,v--,0>v||ee[f]!==he[v]){var be=`
`+ee[f].replace(" at new "," at ");return s.displayName&&be.includes("<anonymous>")&&(be=be.replace("<anonymous>",s.displayName)),be}while(1<=f&&0<=v);break}}}finally{Xi=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?Nr(u):""}function ai(s){switch(s.tag){case 26:case 27:case 5:return Nr(s.type);case 16:return Nr("Lazy");case 13:return Nr("Suspense");case 19:return Nr("SuspenseList");case 0:case 15:return Xt(s.type,!1);case 11:return Xt(s.type.render,!1);case 1:return Xt(s.type,!0);case 31:return Nr("Activity");default:return""}}function Os(s){try{var a="";do a+=ai(s),s=s.return;while(s);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function tr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function mc(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Zg(s){var a=mc(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),f=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,b=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return v.call(this)},set:function(L){f=""+L,b.call(this,L)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(L){f=""+L},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Rl(s){s._valueTracker||(s._valueTracker=Zg(s))}function pc(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),f="";return s&&(f=mc(s)?s.checked?"true":"false":s.value),s=f,s!==u?(a.setValue(s),!0):!1}function Eo(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Jg=/[\n"\\]/g;function Rn(s){return s.replace(Jg,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function zr(s,a,u,f,v,b,L,q){s.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?s.type=L:s.removeAttribute("type"),a!=null?L==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+tr(a)):s.value!==""+tr(a)&&(s.value=""+tr(a)):L!=="submit"&&L!=="reset"||s.removeAttribute("value"),a!=null?_a(s,L,tr(a)):u!=null?_a(s,L,tr(u)):f!=null&&s.removeAttribute("value"),v==null&&b!=null&&(s.defaultChecked=!!b),v!=null&&(s.checked=v&&typeof v!="function"&&typeof v!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?s.name=""+tr(q):s.removeAttribute("name")}function Ao(s,a,u,f,v,b,L,q){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.type=b),a!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||a!=null))return;u=u!=null?""+tr(u):"",a=a!=null?""+tr(a):u,q||a===s.value||(s.value=a),s.defaultValue=a}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,s.checked=q?s.checked:!!f,s.defaultChecked=!!f,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(s.name=L)}function _a(s,a,u){a==="number"&&Eo(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function Ds(s,a,u,f){if(s=s.options,a){a={};for(var v=0;v<u.length;v++)a["$"+u[v]]=!0;for(u=0;u<s.length;u++)v=a.hasOwnProperty("$"+s[u].value),s[u].selected!==v&&(s[u].selected=v),v&&f&&(s[u].defaultSelected=!0)}else{for(u=""+tr(u),a=null,v=0;v<s.length;v++){if(s[v].value===u){s[v].selected=!0,f&&(s[v].defaultSelected=!0);return}a!==null||s[v].disabled||(a=s[v])}a!==null&&(a.selected=!0)}}function qt(s,a,u){if(a!=null&&(a=""+tr(a),a!==s.value&&(s.value=a),u==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=u!=null?""+tr(u):""}function Co(s,a,u,f){if(a==null){if(f!=null){if(u!=null)throw Error(r(92));if(Z(f)){if(1<f.length)throw Error(r(93));f=f[0]}u=f}u==null&&(u=""),a=u}u=tr(a),s.defaultValue=u,f=s.textContent,f===u&&f!==""&&f!==null&&(s.value=f)}function oi(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var No=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xh(s,a,u){var f=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":f?s.setProperty(a,u):typeof u!="number"||u===0||No.has(a)?a==="float"?s.cssFloat=u:s[a]=(""+u).trim():s[a]=u+"px"}function gc(s,a,u){if(a!=null&&typeof a!="object")throw Error(r(62));if(s=s.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="");for(var v in a)f=a[v],a.hasOwnProperty(v)&&u[v]!==f&&Xh(s,v,f)}else for(var b in a)a.hasOwnProperty(b)&&Xh(s,b,a[b])}function vc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ev=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Il(s){return tv.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var ks=null;function li(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ls=null,Vs=null;function yc(s){var a=wt(s);if(a&&(s=a.stateNode)){var u=s[Te]||null;e:switch(s=a.stateNode,a.type){case"input":if(zr(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Rn(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var f=u[a];if(f!==s&&f.form===s.form){var v=f[Te]||null;if(!v)throw Error(r(90));zr(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(a=0;a<u.length;a++)f=u[a],f.form===s.form&&pc(f)}break e;case"textarea":qt(s,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&Ds(s,!!u.multiple,a,!1)}}}var Qi=!1;function Qh(s,a,u){if(Qi)return s(a,u);Qi=!0;try{var f=s(a);return f}finally{if(Qi=!1,(Ls!==null||Vs!==null)&&(qf(),Ls&&(a=Ls,s=Vs,Vs=Ls=null,yc(a),s)))for(a=0;a<s.length;a++)yc(s[a])}}function Ro(s,a){var u=s.stateNode;if(u===null)return null;var f=u[Te]||null;if(f===null)return null;u=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(r(231,a,typeof u));return u}var Ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ui=!1;if(Ni)try{var Io={};Object.defineProperty(Io,"passive",{get:function(){ui=!0}}),window.addEventListener("test",Io,Io),window.removeEventListener("test",Io,Io)}catch{ui=!1}var Zi=null,Sa=null,Us=null;function bc(){if(Us)return Us;var s,a=Sa,u=a.length,f,v="value"in Zi?Zi.value:Zi.textContent,b=v.length;for(s=0;s<u&&a[s]===v[s];s++);var L=u-s;for(f=1;f<=L&&a[u-f]===v[b-f];f++);return Us=v.slice(s,1<f?1-f:void 0)}function Ji(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function es(){return!0}function xc(){return!1}function Hn(s){function a(u,f,v,b,L){this._reactName=u,this._targetInst=v,this.type=f,this.nativeEvent=b,this.target=L,this.currentTarget=null;for(var q in s)s.hasOwnProperty(q)&&(u=s[q],this[q]=u?u(b):b[q]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?es:xc,this.isPropagationStopped=xc,this}return p(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=es)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=es)},persist:function(){},isPersistent:es}),a}var zt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ml=Hn(zt),Mo=p({},zt,{view:0,detail:0}),Zh=Hn(Mo),jl,Pl,ts,jo=p({},Mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Do,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ts&&(ts&&s.type==="mousemove"?(jl=s.screenX-ts.screenX,Pl=s.screenY-ts.screenY):Pl=jl=0,ts=s),jl)},movementY:function(s){return"movementY"in s?s.movementY:Pl}}),ci=Hn(jo),Jh=p({},jo,{dataTransfer:0}),nv=Hn(Jh),Po=p({},Mo,{relatedTarget:0}),Ol=Hn(Po),wc=p({},zt,{animationName:0,elapsedTime:0,pseudoElement:0}),Dl=Hn(wc),ef=p({},zt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),kl=Hn(ef),rv=p({},zt,{data:0}),_c=Hn(rv),Oo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sc(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=nf[s])?!!a[s]:!1}function Do(){return Sc}var rf=p({},Mo,{key:function(s){if(s.key){var a=Oo[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Ji(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?tf[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Do,charCode:function(s){return s.type==="keypress"?Ji(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ji(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ll=Hn(rf),sf=p({},jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tc=Hn(sf),zs=p({},Mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Do}),af=Hn(zs),of=p({},zt,{propertyName:0,elapsedTime:0,pseudoElement:0}),lf=Hn(of),uf=p({},jo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Vl=Hn(uf),_r=p({},zt,{newState:0,oldState:0}),cf=Hn(_r),df=[9,13,27,32],ns=Ni&&"CompositionEvent"in window,g=null;Ni&&"documentMode"in document&&(g=document.documentMode);var _=Ni&&"TextEvent"in window&&!g,k=Ni&&(!ns||g&&8<g&&11>=g),W=" ",oe=!1;function ge(s,a){switch(s){case"keyup":return df.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ae(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Rt=!1;function Vn(s,a){switch(s){case"compositionend":return Ae(a);case"keypress":return a.which!==32?null:(oe=!0,W);case"textInput":return s=a.data,s===W&&oe?null:s;default:return null}}function It(s,a){if(Rt)return s==="compositionend"||!ns&&ge(s,a)?(s=bc(),Us=Sa=Zi=null,Rt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return k&&a.locale!=="ko"?null:a.data;default:return null}}var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!$n[s.type]:a==="textarea"}function Bs(s,a,u,f){Ls?Vs?Vs.push(f):Vs=[f]:Ls=f,a=Qf(a,"onChange"),0<a.length&&(u=new Ml("onChange","change",null,u,f),s.push({event:u,listeners:a}))}var nr=null,rs=null;function Ec(s){bT(s,0)}function hf(s){var a=Ut(s);if(pc(a))return s}function z1(s,a){if(s==="change")return a}var B1=!1;if(Ni){var iv;if(Ni){var sv="oninput"in document;if(!sv){var F1=document.createElement("div");F1.setAttribute("oninput","return;"),sv=typeof F1.oninput=="function"}iv=sv}else iv=!1;B1=iv&&(!document.documentMode||9<document.documentMode)}function H1(){nr&&(nr.detachEvent("onpropertychange",$1),rs=nr=null)}function $1(s){if(s.propertyName==="value"&&hf(rs)){var a=[];Bs(a,rs,s,li(s)),Qh(Ec,a)}}function gD(s,a,u){s==="focusin"?(H1(),nr=a,rs=u,nr.attachEvent("onpropertychange",$1)):s==="focusout"&&H1()}function vD(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return hf(rs)}function yD(s,a){if(s==="click")return hf(a)}function bD(s,a){if(s==="input"||s==="change")return hf(a)}function xD(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Br=typeof Object.is=="function"?Object.is:xD;function Ac(s,a){if(Br(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),f=Object.keys(a);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var v=u[f];if(!Ye.call(a,v)||!Br(s[v],a[v]))return!1}return!0}function q1(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function G1(s,a){var u=q1(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=a&&f>=a)return{node:u,offset:a-s};s=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=q1(u)}}function W1(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?W1(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function K1(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Eo(s.document);a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=Eo(s.document)}return a}function av(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var wD=Ni&&"documentMode"in document&&11>=document.documentMode,Ul=null,ov=null,Cc=null,lv=!1;function Y1(s,a,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;lv||Ul==null||Ul!==Eo(f)||(f=Ul,"selectionStart"in f&&av(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Cc&&Ac(Cc,f)||(Cc=f,f=Qf(ov,"onSelect"),0<f.length&&(a=new Ml("onSelect","select",null,a,u),s.push({event:a,listeners:f}),a.target=Ul)))}function ko(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var zl={animationend:ko("Animation","AnimationEnd"),animationiteration:ko("Animation","AnimationIteration"),animationstart:ko("Animation","AnimationStart"),transitionrun:ko("Transition","TransitionRun"),transitionstart:ko("Transition","TransitionStart"),transitioncancel:ko("Transition","TransitionCancel"),transitionend:ko("Transition","TransitionEnd")},uv={},X1={};Ni&&(X1=document.createElement("div").style,"AnimationEvent"in window||(delete zl.animationend.animation,delete zl.animationiteration.animation,delete zl.animationstart.animation),"TransitionEvent"in window||delete zl.transitionend.transition);function Lo(s){if(uv[s])return uv[s];if(!zl[s])return s;var a=zl[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in X1)return uv[s]=a[u];return s}var Q1=Lo("animationend"),Z1=Lo("animationiteration"),J1=Lo("animationstart"),_D=Lo("transitionrun"),SD=Lo("transitionstart"),TD=Lo("transitioncancel"),e_=Lo("transitionend"),t_=new Map,cv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cv.push("scrollEnd");function Ri(s,a){t_.set(s,a),Ln(a,[s])}var n_=new WeakMap;function di(s,a){if(typeof s=="object"&&s!==null){var u=n_.get(s);return u!==void 0?u:(a={value:s,source:a,stack:Os(a)},n_.set(s,a),a)}return{value:s,source:a,stack:Os(a)}}var hi=[],Bl=0,dv=0;function ff(){for(var s=Bl,a=dv=Bl=0;a<s;){var u=hi[a];hi[a++]=null;var f=hi[a];hi[a++]=null;var v=hi[a];hi[a++]=null;var b=hi[a];if(hi[a++]=null,f!==null&&v!==null){var L=f.pending;L===null?v.next=v:(v.next=L.next,L.next=v),f.pending=v}b!==0&&r_(u,v,b)}}function mf(s,a,u,f){hi[Bl++]=s,hi[Bl++]=a,hi[Bl++]=u,hi[Bl++]=f,dv|=f,s.lanes|=f,s=s.alternate,s!==null&&(s.lanes|=f)}function hv(s,a,u,f){return mf(s,a,u,f),pf(s)}function Fl(s,a){return mf(s,null,null,a),pf(s)}function r_(s,a,u){s.lanes|=u;var f=s.alternate;f!==null&&(f.lanes|=u);for(var v=!1,b=s.return;b!==null;)b.childLanes|=u,f=b.alternate,f!==null&&(f.childLanes|=u),b.tag===22&&(s=b.stateNode,s===null||s._visibility&1||(v=!0)),s=b,b=b.return;return s.tag===3?(b=s.stateNode,v&&a!==null&&(v=31-tn(u),s=b.hiddenUpdates,f=s[v],f===null?s[v]=[a]:f.push(a),a.lane=u|536870912),b):null}function pf(s){if(50<Zc)throw Zc=0,yy=null,Error(r(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Hl={};function ED(s,a,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(s,a,u,f){return new ED(s,a,u,f)}function fv(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Fs(s,a){var u=s.alternate;return u===null?(u=Fr(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function i_(s,a){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,a=u.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function gf(s,a,u,f,v,b){var L=0;if(f=s,typeof s=="function")fv(s)&&(L=1);else if(typeof s=="string")L=C4(s,u,ne.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case N:return s=Fr(31,u,a,v),s.elementType=N,s.lanes=b,s;case R:return Vo(u.children,v,b,a);case P:L=8,v|=24;break;case V:return s=Fr(12,u,a,v|2),s.elementType=V,s.lanes=b,s;case M:return s=Fr(13,u,a,v),s.elementType=M,s.lanes=b,s;case j:return s=Fr(19,u,a,v),s.elementType=j,s.lanes=b,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:case F:L=10;break e;case B:L=9;break e;case Y:L=11;break e;case C:L=14;break e;case I:L=16,f=null;break e}L=29,u=Error(r(130,s===null?"null":typeof s,"")),f=null}return a=Fr(L,u,a,v),a.elementType=s,a.type=f,a.lanes=b,a}function Vo(s,a,u,f){return s=Fr(7,s,f,a),s.lanes=u,s}function mv(s,a,u){return s=Fr(6,s,null,a),s.lanes=u,s}function pv(s,a,u){return a=Fr(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var $l=[],ql=0,vf=null,yf=0,fi=[],mi=0,Uo=null,Hs=1,$s="";function zo(s,a){$l[ql++]=yf,$l[ql++]=vf,vf=s,yf=a}function s_(s,a,u){fi[mi++]=Hs,fi[mi++]=$s,fi[mi++]=Uo,Uo=s;var f=Hs;s=$s;var v=32-tn(f)-1;f&=~(1<<v),u+=1;var b=32-tn(a)+v;if(30<b){var L=v-v%5;b=(f&(1<<L)-1).toString(32),f>>=L,v-=L,Hs=1<<32-tn(a)+v|u<<v|f,$s=b+s}else Hs=1<<b|u<<v|f,$s=s}function gv(s){s.return!==null&&(zo(s,1),s_(s,1,0))}function vv(s){for(;s===vf;)vf=$l[--ql],$l[ql]=null,yf=$l[--ql],$l[ql]=null;for(;s===Uo;)Uo=fi[--mi],fi[mi]=null,$s=fi[--mi],fi[mi]=null,Hs=fi[--mi],fi[mi]=null}var Sr=null,gn=null,Dt=!1,Bo=null,is=!1,yv=Error(r(519));function Fo(s){var a=Error(r(418,""));throw Ic(di(a,s)),yv}function a_(s){var a=s.stateNode,u=s.type,f=s.memoizedProps;switch(a[_e]=s,a[Te]=f,u){case"dialog":St("cancel",a),St("close",a);break;case"iframe":case"object":case"embed":St("load",a);break;case"video":case"audio":for(u=0;u<ed.length;u++)St(ed[u],a);break;case"source":St("error",a);break;case"img":case"image":case"link":St("error",a),St("load",a);break;case"details":St("toggle",a);break;case"input":St("invalid",a),Ao(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Rl(a);break;case"select":St("invalid",a);break;case"textarea":St("invalid",a),Co(a,f.value,f.defaultValue,f.children),Rl(a)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||f.suppressHydrationWarning===!0||ST(a.textContent,u)?(f.popover!=null&&(St("beforetoggle",a),St("toggle",a)),f.onScroll!=null&&St("scroll",a),f.onScrollEnd!=null&&St("scrollend",a),f.onClick!=null&&(a.onclick=Zf),a=!0):a=!1,a||Fo(s)}function o_(s){for(Sr=s.return;Sr;)switch(Sr.tag){case 5:case 13:is=!1;return;case 27:case 3:is=!0;return;default:Sr=Sr.return}}function Nc(s){if(s!==Sr)return!1;if(!Dt)return o_(s),Dt=!0,!1;var a=s.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||Oy(s.type,s.memoizedProps)),u=!u),u&&gn&&Fo(s),o_(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(u=s.data,u==="/$"){if(a===0){gn=Mi(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++;s=s.nextSibling}gn=null}}else a===27?(a=gn,Ua(s.type)?(s=Vy,Vy=null,gn=s):gn=a):gn=Sr?Mi(s.stateNode.nextSibling):null;return!0}function Rc(){gn=Sr=null,Dt=!1}function l_(){var s=Bo;return s!==null&&(Mr===null?Mr=s:Mr.push.apply(Mr,s),Bo=null),s}function Ic(s){Bo===null?Bo=[s]:Bo.push(s)}var bv=z(null),Ho=null,qs=null;function Ta(s,a,u){Q(bv,a._currentValue),a._currentValue=u}function Gs(s){s._currentValue=bv.current,X(bv)}function xv(s,a,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),s===u)break;s=s.return}}function wv(s,a,u,f){var v=s.child;for(v!==null&&(v.return=s);v!==null;){var b=v.dependencies;if(b!==null){var L=v.child;b=b.firstContext;e:for(;b!==null;){var q=b;b=v;for(var ee=0;ee<a.length;ee++)if(q.context===a[ee]){b.lanes|=u,q=b.alternate,q!==null&&(q.lanes|=u),xv(b.return,u,s),f||(L=null);break e}b=q.next}}else if(v.tag===18){if(L=v.return,L===null)throw Error(r(341));L.lanes|=u,b=L.alternate,b!==null&&(b.lanes|=u),xv(L,u,s),L=null}else L=v.child;if(L!==null)L.return=v;else for(L=v;L!==null;){if(L===s){L=null;break}if(v=L.sibling,v!==null){v.return=L.return,L=v;break}L=L.return}v=L}}function Mc(s,a,u,f){s=null;for(var v=a,b=!1;v!==null;){if(!b){if((v.flags&524288)!==0)b=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var L=v.alternate;if(L===null)throw Error(r(387));if(L=L.memoizedProps,L!==null){var q=v.type;Br(v.pendingProps.value,L.value)||(s!==null?s.push(q):s=[q])}}else if(v===ve.current){if(L=v.alternate,L===null)throw Error(r(387));L.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(s!==null?s.push(ad):s=[ad])}v=v.return}s!==null&&wv(a,s,u,f),a.flags|=262144}function bf(s){for(s=s.firstContext;s!==null;){if(!Br(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function $o(s){Ho=s,qs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function dr(s){return u_(Ho,s)}function xf(s,a){return Ho===null&&$o(s),u_(s,a)}function u_(s,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},qs===null){if(s===null)throw Error(r(308));qs=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else qs=qs.next=a;return u}var AD=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(u,f){s.push(f)}};this.abort=function(){a.aborted=!0,s.forEach(function(u){return u()})}},CD=t.unstable_scheduleCallback,ND=t.unstable_NormalPriority,zn={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _v(){return{controller:new AD,data:new Map,refCount:0}}function jc(s){s.refCount--,s.refCount===0&&CD(ND,function(){s.controller.abort()})}var Pc=null,Sv=0,Gl=0,Wl=null;function RD(s,a){if(Pc===null){var u=Pc=[];Sv=0,Gl=Ey(),Wl={status:"pending",value:void 0,then:function(f){u.push(f)}}}return Sv++,a.then(c_,c_),a}function c_(){if(--Sv===0&&Pc!==null){Wl!==null&&(Wl.status="fulfilled");var s=Pc;Pc=null,Gl=0,Wl=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function ID(s,a){var u=[],f={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return s.then(function(){f.status="fulfilled",f.value=a;for(var v=0;v<u.length;v++)(0,u[v])(a)},function(v){for(f.status="rejected",f.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),f}var d_=H.S;H.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&RD(s,a),d_!==null&&d_(s,a)};var qo=z(null);function Tv(){var s=qo.current;return s!==null?s:nn.pooledCache}function wf(s,a){a===null?Q(qo,qo.current):Q(qo,a.pool)}function h_(){var s=Tv();return s===null?null:{parent:zn._currentValue,pool:s}}var Oc=Error(r(460)),f_=Error(r(474)),_f=Error(r(542)),Ev={then:function(){}};function m_(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Sf(){}function p_(s,a,u){switch(u=s[u],u===void 0?s.push(a):u!==a&&(a.then(Sf,Sf),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,v_(s),s;default:if(typeof a.status=="string")a.then(Sf,Sf);else{if(s=nn,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=a,s.status="pending",s.then(function(f){if(a.status==="pending"){var v=a;v.status="fulfilled",v.value=f}},function(f){if(a.status==="pending"){var v=a;v.status="rejected",v.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,v_(s),s}throw Dc=a,Oc}}var Dc=null;function g_(){if(Dc===null)throw Error(r(459));var s=Dc;return Dc=null,s}function v_(s){if(s===Oc||s===_f)throw Error(r(483))}var Ea=!1;function Av(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cv(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Aa(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ca(s,a,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(Ht&2)!==0){var v=f.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),f.pending=a,a=pf(s),r_(s,null,u),a}return mf(s,f,a,u),pf(s)}function kc(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,Wi(s,u)}}function Nv(s,a){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var v=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var L={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?v=b=L:b=b.next=L,u=u.next}while(u!==null);b===null?v=b=a:b=b.next=a}else v=b=a;u={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}var Rv=!1;function Lc(){if(Rv){var s=Wl;if(s!==null)throw s}}function Vc(s,a,u,f){Rv=!1;var v=s.updateQueue;Ea=!1;var b=v.firstBaseUpdate,L=v.lastBaseUpdate,q=v.shared.pending;if(q!==null){v.shared.pending=null;var ee=q,he=ee.next;ee.next=null,L===null?b=he:L.next=he,L=ee;var be=s.alternate;be!==null&&(be=be.updateQueue,q=be.lastBaseUpdate,q!==L&&(q===null?be.firstBaseUpdate=he:q.next=he,be.lastBaseUpdate=ee))}if(b!==null){var we=v.baseState;L=0,be=he=ee=null,q=b;do{var fe=q.lane&-536870913,me=fe!==q.lane;if(me?(Mt&fe)===fe:(f&fe)===fe){fe!==0&&fe===Gl&&(Rv=!0),be!==null&&(be=be.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var at=s,Ze=q;fe=a;var Kt=u;switch(Ze.tag){case 1:if(at=Ze.payload,typeof at=="function"){we=at.call(Kt,we,fe);break e}we=at;break e;case 3:at.flags=at.flags&-65537|128;case 0:if(at=Ze.payload,fe=typeof at=="function"?at.call(Kt,we,fe):at,fe==null)break e;we=p({},we,fe);break e;case 2:Ea=!0}}fe=q.callback,fe!==null&&(s.flags|=64,me&&(s.flags|=8192),me=v.callbacks,me===null?v.callbacks=[fe]:me.push(fe))}else me={lane:fe,tag:q.tag,payload:q.payload,callback:q.callback,next:null},be===null?(he=be=me,ee=we):be=be.next=me,L|=fe;if(q=q.next,q===null){if(q=v.shared.pending,q===null)break;me=q,q=me.next,me.next=null,v.lastBaseUpdate=me,v.shared.pending=null}}while(!0);be===null&&(ee=we),v.baseState=ee,v.firstBaseUpdate=he,v.lastBaseUpdate=be,b===null&&(v.shared.lanes=0),Da|=L,s.lanes=L,s.memoizedState=we}}function y_(s,a){if(typeof s!="function")throw Error(r(191,s));s.call(a)}function b_(s,a){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)y_(u[s],a)}var Kl=z(null),Tf=z(0);function x_(s,a){s=Js,Q(Tf,s),Q(Kl,a),Js=s|a.baseLanes}function Iv(){Q(Tf,Js),Q(Kl,Kl.current)}function Mv(){Js=Tf.current,X(Kl),X(Tf)}var Na=0,gt=null,Gt=null,In=null,Ef=!1,Yl=!1,Go=!1,Af=0,Uc=0,Xl=null,MD=0;function _n(){throw Error(r(321))}function jv(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!Br(s[u],a[u]))return!1;return!0}function Pv(s,a,u,f,v,b){return Na=b,gt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,H.H=s===null||s.memoizedState===null?rS:iS,Go=!1,b=u(f,v),Go=!1,Yl&&(b=__(a,u,f,v)),w_(s),b}function w_(s){H.H=jf;var a=Gt!==null&&Gt.next!==null;if(Na=0,In=Gt=gt=null,Ef=!1,Uc=0,Xl=null,a)throw Error(r(300));s===null||qn||(s=s.dependencies,s!==null&&bf(s)&&(qn=!0))}function __(s,a,u,f){gt=s;var v=0;do{if(Yl&&(Xl=null),Uc=0,Yl=!1,25<=v)throw Error(r(301));if(v+=1,In=Gt=null,s.updateQueue!=null){var b=s.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}H.H=VD,b=a(u,f)}while(Yl);return b}function jD(){var s=H.H,a=s.useState()[0];return a=typeof a.then=="function"?zc(a):a,s=s.useState()[0],(Gt!==null?Gt.memoizedState:null)!==s&&(gt.flags|=1024),a}function Ov(){var s=Af!==0;return Af=0,s}function Dv(s,a,u){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~u}function kv(s){if(Ef){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Ef=!1}Na=0,In=Gt=gt=null,Yl=!1,Uc=Af=0,Xl=null}function Rr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?gt.memoizedState=In=s:In=In.next=s,In}function Mn(){if(Gt===null){var s=gt.alternate;s=s!==null?s.memoizedState:null}else s=Gt.next;var a=In===null?gt.memoizedState:In.next;if(a!==null)In=a,Gt=s;else{if(s===null)throw gt.alternate===null?Error(r(467)):Error(r(310));Gt=s,s={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},In===null?gt.memoizedState=In=s:In=In.next=s}return In}function Lv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zc(s){var a=Uc;return Uc+=1,Xl===null&&(Xl=[]),s=p_(Xl,s,a),a=gt,(In===null?a.memoizedState:In.next)===null&&(a=a.alternate,H.H=a===null||a.memoizedState===null?rS:iS),s}function Cf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return zc(s);if(s.$$typeof===F)return dr(s)}throw Error(r(438,String(s)))}function Vv(s){var a=null,u=gt.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var f=gt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(v){return v.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=Lv(),gt.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(s),f=0;f<s;f++)u[f]=T;return a.index++,u}function Ws(s,a){return typeof a=="function"?a(s):a}function Nf(s){var a=Mn();return Uv(a,Gt,s)}function Uv(s,a,u){var f=s.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=u;var v=s.baseQueue,b=f.pending;if(b!==null){if(v!==null){var L=v.next;v.next=b.next,b.next=L}a.baseQueue=v=b,f.pending=null}if(b=s.baseState,v===null)s.memoizedState=b;else{a=v.next;var q=L=null,ee=null,he=a,be=!1;do{var we=he.lane&-536870913;if(we!==he.lane?(Mt&we)===we:(Na&we)===we){var fe=he.revertLane;if(fe===0)ee!==null&&(ee=ee.next={lane:0,revertLane:0,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),we===Gl&&(be=!0);else if((Na&fe)===fe){he=he.next,fe===Gl&&(be=!0);continue}else we={lane:0,revertLane:he.revertLane,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},ee===null?(q=ee=we,L=b):ee=ee.next=we,gt.lanes|=fe,Da|=fe;we=he.action,Go&&u(b,we),b=he.hasEagerState?he.eagerState:u(b,we)}else fe={lane:we,revertLane:he.revertLane,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},ee===null?(q=ee=fe,L=b):ee=ee.next=fe,gt.lanes|=we,Da|=we;he=he.next}while(he!==null&&he!==a);if(ee===null?L=b:ee.next=q,!Br(b,s.memoizedState)&&(qn=!0,be&&(u=Wl,u!==null)))throw u;s.memoizedState=b,s.baseState=L,s.baseQueue=ee,f.lastRenderedState=b}return v===null&&(f.lanes=0),[s.memoizedState,f.dispatch]}function zv(s){var a=Mn(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var f=u.dispatch,v=u.pending,b=a.memoizedState;if(v!==null){u.pending=null;var L=v=v.next;do b=s(b,L.action),L=L.next;while(L!==v);Br(b,a.memoizedState)||(qn=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),u.lastRenderedState=b}return[b,f]}function S_(s,a,u){var f=gt,v=Mn(),b=Dt;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=a();var L=!Br((Gt||v).memoizedState,u);L&&(v.memoizedState=u,qn=!0),v=v.queue;var q=A_.bind(null,f,v,s);if(Bc(2048,8,q,[s]),v.getSnapshot!==a||L||In!==null&&In.memoizedState.tag&1){if(f.flags|=2048,Ql(9,Rf(),E_.bind(null,f,v,u,a),null),nn===null)throw Error(r(349));b||(Na&124)!==0||T_(f,a,u)}return u}function T_(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=gt.updateQueue,a===null?(a=Lv(),gt.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function E_(s,a,u,f){a.value=u,a.getSnapshot=f,C_(a)&&N_(s)}function A_(s,a,u){return u(function(){C_(a)&&N_(s)})}function C_(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!Br(s,u)}catch{return!0}}function N_(s){var a=Fl(s,2);a!==null&&Wr(a,s,2)}function Bv(s){var a=Rr();if(typeof s=="function"){var u=s;if(s=u(),Go){sn(!0);try{u()}finally{sn(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:s},a}function R_(s,a,u,f){return s.baseState=u,Uv(s,Gt,typeof f=="function"?f:Ws)}function PD(s,a,u,f,v){if(Mf(s))throw Error(r(485));if(s=a.action,s!==null){var b={payload:v,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){b.listeners.push(L)}};H.T!==null?u(!0):b.isTransition=!1,f(b),u=a.pending,u===null?(b.next=a.pending=b,I_(a,b)):(b.next=u.next,a.pending=u.next=b)}}function I_(s,a){var u=a.action,f=a.payload,v=s.state;if(a.isTransition){var b=H.T,L={};H.T=L;try{var q=u(v,f),ee=H.S;ee!==null&&ee(L,q),M_(s,a,q)}catch(he){Fv(s,a,he)}finally{H.T=b}}else try{b=u(v,f),M_(s,a,b)}catch(he){Fv(s,a,he)}}function M_(s,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){j_(s,a,f)},function(f){return Fv(s,a,f)}):j_(s,a,u)}function j_(s,a,u){a.status="fulfilled",a.value=u,P_(a),s.state=u,a=s.pending,a!==null&&(u=a.next,u===a?s.pending=null:(u=u.next,a.next=u,I_(s,u)))}function Fv(s,a,u){var f=s.pending;if(s.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=u,P_(a),a=a.next;while(a!==f)}s.action=null}function P_(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function O_(s,a){return a}function D_(s,a){if(Dt){var u=nn.formState;if(u!==null){e:{var f=gt;if(Dt){if(gn){t:{for(var v=gn,b=is;v.nodeType!==8;){if(!b){v=null;break t}if(v=Mi(v.nextSibling),v===null){v=null;break t}}b=v.data,v=b==="F!"||b==="F"?v:null}if(v){gn=Mi(v.nextSibling),f=v.data==="F!";break e}}Fo(f)}f=!1}f&&(a=u[0])}}return u=Rr(),u.memoizedState=u.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:O_,lastRenderedState:a},u.queue=f,u=eS.bind(null,gt,f),f.dispatch=u,f=Bv(!1),b=Wv.bind(null,gt,!1,f.queue),f=Rr(),v={state:a,dispatch:null,action:s,pending:null},f.queue=v,u=PD.bind(null,gt,v,b,u),v.dispatch=u,f.memoizedState=s,[a,u,!1]}function k_(s){var a=Mn();return L_(a,Gt,s)}function L_(s,a,u){if(a=Uv(s,a,O_)[0],s=Nf(Ws)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=zc(a)}catch(L){throw L===Oc?_f:L}else f=a;a=Mn();var v=a.queue,b=v.dispatch;return u!==a.memoizedState&&(gt.flags|=2048,Ql(9,Rf(),OD.bind(null,v,u),null)),[f,b,s]}function OD(s,a){s.action=a}function V_(s){var a=Mn(),u=Gt;if(u!==null)return L_(a,u,s);Mn(),a=a.memoizedState,u=Mn();var f=u.queue.dispatch;return u.memoizedState=s,[a,f,!1]}function Ql(s,a,u,f){return s={tag:s,create:u,deps:f,inst:a,next:null},a=gt.updateQueue,a===null&&(a=Lv(),gt.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,a.lastEffect=s),s}function Rf(){return{destroy:void 0,resource:void 0}}function U_(){return Mn().memoizedState}function If(s,a,u,f){var v=Rr();f=f===void 0?null:f,gt.flags|=s,v.memoizedState=Ql(1|a,Rf(),u,f)}function Bc(s,a,u,f){var v=Mn();f=f===void 0?null:f;var b=v.memoizedState.inst;Gt!==null&&f!==null&&jv(f,Gt.memoizedState.deps)?v.memoizedState=Ql(a,b,u,f):(gt.flags|=s,v.memoizedState=Ql(1|a,b,u,f))}function z_(s,a){If(8390656,8,s,a)}function B_(s,a){Bc(2048,8,s,a)}function F_(s,a){return Bc(4,2,s,a)}function H_(s,a){return Bc(4,4,s,a)}function $_(s,a){if(typeof a=="function"){s=s();var u=a(s);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function q_(s,a,u){u=u!=null?u.concat([s]):null,Bc(4,4,$_.bind(null,a,s),u)}function Hv(){}function G_(s,a){var u=Mn();a=a===void 0?null:a;var f=u.memoizedState;return a!==null&&jv(a,f[1])?f[0]:(u.memoizedState=[s,a],s)}function W_(s,a){var u=Mn();a=a===void 0?null:a;var f=u.memoizedState;if(a!==null&&jv(a,f[1]))return f[0];if(f=s(),Go){sn(!0);try{s()}finally{sn(!1)}}return u.memoizedState=[f,a],f}function $v(s,a,u){return u===void 0||(Na&1073741824)!==0?s.memoizedState=a:(s.memoizedState=u,s=XS(),gt.lanes|=s,Da|=s,u)}function K_(s,a,u,f){return Br(u,a)?u:Kl.current!==null?(s=$v(s,u,f),Br(s,a)||(qn=!0),s):(Na&42)===0?(qn=!0,s.memoizedState=u):(s=XS(),gt.lanes|=s,Da|=s,a)}function Y_(s,a,u,f,v){var b=S.p;S.p=b!==0&&8>b?b:8;var L=H.T,q={};H.T=q,Wv(s,!1,a,u);try{var ee=v(),he=H.S;if(he!==null&&he(q,ee),ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var be=ID(ee,f);Fc(s,a,be,Gr(s))}else Fc(s,a,f,Gr(s))}catch(we){Fc(s,a,{then:function(){},status:"rejected",reason:we},Gr())}finally{S.p=b,H.T=L}}function DD(){}function qv(s,a,u,f){if(s.tag!==5)throw Error(r(476));var v=X_(s).queue;Y_(s,v,a,J,u===null?DD:function(){return Q_(s),u(f)})}function X_(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:J},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:u},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function Q_(s){var a=X_(s).next.queue;Fc(s,a,{},Gr())}function Gv(){return dr(ad)}function Z_(){return Mn().memoizedState}function J_(){return Mn().memoizedState}function kD(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var u=Gr();s=Aa(u);var f=Ca(a,s,u);f!==null&&(Wr(f,a,u),kc(f,a,u)),a={cache:_v()},s.payload=a;return}a=a.return}}function LD(s,a,u){var f=Gr();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Mf(s)?tS(a,u):(u=hv(s,a,u,f),u!==null&&(Wr(u,s,f),nS(u,a,f)))}function eS(s,a,u){var f=Gr();Fc(s,a,u,f)}function Fc(s,a,u,f){var v={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Mf(s))tS(a,v);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var L=a.lastRenderedState,q=b(L,u);if(v.hasEagerState=!0,v.eagerState=q,Br(q,L))return mf(s,a,v,0),nn===null&&ff(),!1}catch{}finally{}if(u=hv(s,a,v,f),u!==null)return Wr(u,s,f),nS(u,a,f),!0}return!1}function Wv(s,a,u,f){if(f={lane:2,revertLane:Ey(),action:f,hasEagerState:!1,eagerState:null,next:null},Mf(s)){if(a)throw Error(r(479))}else a=hv(s,u,f,2),a!==null&&Wr(a,s,2)}function Mf(s){var a=s.alternate;return s===gt||a!==null&&a===gt}function tS(s,a){Yl=Ef=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function nS(s,a,u){if((u&4194048)!==0){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,Wi(s,u)}}var jf={readContext:dr,use:Cf,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useLayoutEffect:_n,useInsertionEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useSyncExternalStore:_n,useId:_n,useHostTransitionStatus:_n,useFormState:_n,useActionState:_n,useOptimistic:_n,useMemoCache:_n,useCacheRefresh:_n},rS={readContext:dr,use:Cf,useCallback:function(s,a){return Rr().memoizedState=[s,a===void 0?null:a],s},useContext:dr,useEffect:z_,useImperativeHandle:function(s,a,u){u=u!=null?u.concat([s]):null,If(4194308,4,$_.bind(null,a,s),u)},useLayoutEffect:function(s,a){return If(4194308,4,s,a)},useInsertionEffect:function(s,a){If(4,2,s,a)},useMemo:function(s,a){var u=Rr();a=a===void 0?null:a;var f=s();if(Go){sn(!0);try{s()}finally{sn(!1)}}return u.memoizedState=[f,a],f},useReducer:function(s,a,u){var f=Rr();if(u!==void 0){var v=u(a);if(Go){sn(!0);try{u(a)}finally{sn(!1)}}}else v=a;return f.memoizedState=f.baseState=v,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:v},f.queue=s,s=s.dispatch=LD.bind(null,gt,s),[f.memoizedState,s]},useRef:function(s){var a=Rr();return s={current:s},a.memoizedState=s},useState:function(s){s=Bv(s);var a=s.queue,u=eS.bind(null,gt,a);return a.dispatch=u,[s.memoizedState,u]},useDebugValue:Hv,useDeferredValue:function(s,a){var u=Rr();return $v(u,s,a)},useTransition:function(){var s=Bv(!1);return s=Y_.bind(null,gt,s.queue,!0,!1),Rr().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,u){var f=gt,v=Rr();if(Dt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=a(),nn===null)throw Error(r(349));(Mt&124)!==0||T_(f,a,u)}v.memoizedState=u;var b={value:u,getSnapshot:a};return v.queue=b,z_(A_.bind(null,f,b,s),[s]),f.flags|=2048,Ql(9,Rf(),E_.bind(null,f,b,u,a),null),u},useId:function(){var s=Rr(),a=nn.identifierPrefix;if(Dt){var u=$s,f=Hs;u=(f&~(1<<32-tn(f)-1)).toString(32)+u,a=""+a+"R"+u,u=Af++,0<u&&(a+="H"+u.toString(32)),a+=""}else u=MD++,a=""+a+"r"+u.toString(32)+"";return s.memoizedState=a},useHostTransitionStatus:Gv,useFormState:D_,useActionState:D_,useOptimistic:function(s){var a=Rr();a.memoizedState=a.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=Wv.bind(null,gt,!0,u),u.dispatch=a,[s,a]},useMemoCache:Vv,useCacheRefresh:function(){return Rr().memoizedState=kD.bind(null,gt)}},iS={readContext:dr,use:Cf,useCallback:G_,useContext:dr,useEffect:B_,useImperativeHandle:q_,useInsertionEffect:F_,useLayoutEffect:H_,useMemo:W_,useReducer:Nf,useRef:U_,useState:function(){return Nf(Ws)},useDebugValue:Hv,useDeferredValue:function(s,a){var u=Mn();return K_(u,Gt.memoizedState,s,a)},useTransition:function(){var s=Nf(Ws)[0],a=Mn().memoizedState;return[typeof s=="boolean"?s:zc(s),a]},useSyncExternalStore:S_,useId:Z_,useHostTransitionStatus:Gv,useFormState:k_,useActionState:k_,useOptimistic:function(s,a){var u=Mn();return R_(u,Gt,s,a)},useMemoCache:Vv,useCacheRefresh:J_},VD={readContext:dr,use:Cf,useCallback:G_,useContext:dr,useEffect:B_,useImperativeHandle:q_,useInsertionEffect:F_,useLayoutEffect:H_,useMemo:W_,useReducer:zv,useRef:U_,useState:function(){return zv(Ws)},useDebugValue:Hv,useDeferredValue:function(s,a){var u=Mn();return Gt===null?$v(u,s,a):K_(u,Gt.memoizedState,s,a)},useTransition:function(){var s=zv(Ws)[0],a=Mn().memoizedState;return[typeof s=="boolean"?s:zc(s),a]},useSyncExternalStore:S_,useId:Z_,useHostTransitionStatus:Gv,useFormState:V_,useActionState:V_,useOptimistic:function(s,a){var u=Mn();return Gt!==null?R_(u,Gt,s,a):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:Vv,useCacheRefresh:J_},Zl=null,Hc=0;function Pf(s){var a=Hc;return Hc+=1,Zl===null&&(Zl=[]),p_(Zl,s,a)}function $c(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Of(s,a){throw a.$$typeof===y?Error(r(525)):(s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function sS(s){var a=s._init;return a(s._payload)}function aS(s){function a(ie,re){if(s){var ue=ie.deletions;ue===null?(ie.deletions=[re],ie.flags|=16):ue.push(re)}}function u(ie,re){if(!s)return null;for(;re!==null;)a(ie,re),re=re.sibling;return null}function f(ie){for(var re=new Map;ie!==null;)ie.key!==null?re.set(ie.key,ie):re.set(ie.index,ie),ie=ie.sibling;return re}function v(ie,re){return ie=Fs(ie,re),ie.index=0,ie.sibling=null,ie}function b(ie,re,ue){return ie.index=ue,s?(ue=ie.alternate,ue!==null?(ue=ue.index,ue<re?(ie.flags|=67108866,re):ue):(ie.flags|=67108866,re)):(ie.flags|=1048576,re)}function L(ie){return s&&ie.alternate===null&&(ie.flags|=67108866),ie}function q(ie,re,ue,xe){return re===null||re.tag!==6?(re=mv(ue,ie.mode,xe),re.return=ie,re):(re=v(re,ue),re.return=ie,re)}function ee(ie,re,ue,xe){var ke=ue.type;return ke===R?be(ie,re,ue.props.children,xe,ue.key):re!==null&&(re.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===I&&sS(ke)===re.type)?(re=v(re,ue.props),$c(re,ue),re.return=ie,re):(re=gf(ue.type,ue.key,ue.props,null,ie.mode,xe),$c(re,ue),re.return=ie,re)}function he(ie,re,ue,xe){return re===null||re.tag!==4||re.stateNode.containerInfo!==ue.containerInfo||re.stateNode.implementation!==ue.implementation?(re=pv(ue,ie.mode,xe),re.return=ie,re):(re=v(re,ue.children||[]),re.return=ie,re)}function be(ie,re,ue,xe,ke){return re===null||re.tag!==7?(re=Vo(ue,ie.mode,xe,ke),re.return=ie,re):(re=v(re,ue),re.return=ie,re)}function we(ie,re,ue){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return re=mv(""+re,ie.mode,ue),re.return=ie,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case x:return ue=gf(re.type,re.key,re.props,null,ie.mode,ue),$c(ue,re),ue.return=ie,ue;case E:return re=pv(re,ie.mode,ue),re.return=ie,re;case I:var xe=re._init;return re=xe(re._payload),we(ie,re,ue)}if(Z(re)||$(re))return re=Vo(re,ie.mode,ue,null),re.return=ie,re;if(typeof re.then=="function")return we(ie,Pf(re),ue);if(re.$$typeof===F)return we(ie,xf(ie,re),ue);Of(ie,re)}return null}function fe(ie,re,ue,xe){var ke=re!==null?re.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return ke!==null?null:q(ie,re,""+ue,xe);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case x:return ue.key===ke?ee(ie,re,ue,xe):null;case E:return ue.key===ke?he(ie,re,ue,xe):null;case I:return ke=ue._init,ue=ke(ue._payload),fe(ie,re,ue,xe)}if(Z(ue)||$(ue))return ke!==null?null:be(ie,re,ue,xe,null);if(typeof ue.then=="function")return fe(ie,re,Pf(ue),xe);if(ue.$$typeof===F)return fe(ie,re,xf(ie,ue),xe);Of(ie,ue)}return null}function me(ie,re,ue,xe,ke){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return ie=ie.get(ue)||null,q(re,ie,""+xe,ke);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case x:return ie=ie.get(xe.key===null?ue:xe.key)||null,ee(re,ie,xe,ke);case E:return ie=ie.get(xe.key===null?ue:xe.key)||null,he(re,ie,xe,ke);case I:var bt=xe._init;return xe=bt(xe._payload),me(ie,re,ue,xe,ke)}if(Z(xe)||$(xe))return ie=ie.get(ue)||null,be(re,ie,xe,ke,null);if(typeof xe.then=="function")return me(ie,re,ue,Pf(xe),ke);if(xe.$$typeof===F)return me(ie,re,ue,xf(re,xe),ke);Of(re,xe)}return null}function at(ie,re,ue,xe){for(var ke=null,bt=null,Fe=re,tt=re=0,Wn=null;Fe!==null&&tt<ue.length;tt++){Fe.index>tt?(Wn=Fe,Fe=null):Wn=Fe.sibling;var Ot=fe(ie,Fe,ue[tt],xe);if(Ot===null){Fe===null&&(Fe=Wn);break}s&&Fe&&Ot.alternate===null&&a(ie,Fe),re=b(Ot,re,tt),bt===null?ke=Ot:bt.sibling=Ot,bt=Ot,Fe=Wn}if(tt===ue.length)return u(ie,Fe),Dt&&zo(ie,tt),ke;if(Fe===null){for(;tt<ue.length;tt++)Fe=we(ie,ue[tt],xe),Fe!==null&&(re=b(Fe,re,tt),bt===null?ke=Fe:bt.sibling=Fe,bt=Fe);return Dt&&zo(ie,tt),ke}for(Fe=f(Fe);tt<ue.length;tt++)Wn=me(Fe,ie,tt,ue[tt],xe),Wn!==null&&(s&&Wn.alternate!==null&&Fe.delete(Wn.key===null?tt:Wn.key),re=b(Wn,re,tt),bt===null?ke=Wn:bt.sibling=Wn,bt=Wn);return s&&Fe.forEach(function($a){return a(ie,$a)}),Dt&&zo(ie,tt),ke}function Ze(ie,re,ue,xe){if(ue==null)throw Error(r(151));for(var ke=null,bt=null,Fe=re,tt=re=0,Wn=null,Ot=ue.next();Fe!==null&&!Ot.done;tt++,Ot=ue.next()){Fe.index>tt?(Wn=Fe,Fe=null):Wn=Fe.sibling;var $a=fe(ie,Fe,Ot.value,xe);if($a===null){Fe===null&&(Fe=Wn);break}s&&Fe&&$a.alternate===null&&a(ie,Fe),re=b($a,re,tt),bt===null?ke=$a:bt.sibling=$a,bt=$a,Fe=Wn}if(Ot.done)return u(ie,Fe),Dt&&zo(ie,tt),ke;if(Fe===null){for(;!Ot.done;tt++,Ot=ue.next())Ot=we(ie,Ot.value,xe),Ot!==null&&(re=b(Ot,re,tt),bt===null?ke=Ot:bt.sibling=Ot,bt=Ot);return Dt&&zo(ie,tt),ke}for(Fe=f(Fe);!Ot.done;tt++,Ot=ue.next())Ot=me(Fe,ie,tt,Ot.value,xe),Ot!==null&&(s&&Ot.alternate!==null&&Fe.delete(Ot.key===null?tt:Ot.key),re=b(Ot,re,tt),bt===null?ke=Ot:bt.sibling=Ot,bt=Ot);return s&&Fe.forEach(function(U4){return a(ie,U4)}),Dt&&zo(ie,tt),ke}function Kt(ie,re,ue,xe){if(typeof ue=="object"&&ue!==null&&ue.type===R&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case x:e:{for(var ke=ue.key;re!==null;){if(re.key===ke){if(ke=ue.type,ke===R){if(re.tag===7){u(ie,re.sibling),xe=v(re,ue.props.children),xe.return=ie,ie=xe;break e}}else if(re.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===I&&sS(ke)===re.type){u(ie,re.sibling),xe=v(re,ue.props),$c(xe,ue),xe.return=ie,ie=xe;break e}u(ie,re);break}else a(ie,re);re=re.sibling}ue.type===R?(xe=Vo(ue.props.children,ie.mode,xe,ue.key),xe.return=ie,ie=xe):(xe=gf(ue.type,ue.key,ue.props,null,ie.mode,xe),$c(xe,ue),xe.return=ie,ie=xe)}return L(ie);case E:e:{for(ke=ue.key;re!==null;){if(re.key===ke)if(re.tag===4&&re.stateNode.containerInfo===ue.containerInfo&&re.stateNode.implementation===ue.implementation){u(ie,re.sibling),xe=v(re,ue.children||[]),xe.return=ie,ie=xe;break e}else{u(ie,re);break}else a(ie,re);re=re.sibling}xe=pv(ue,ie.mode,xe),xe.return=ie,ie=xe}return L(ie);case I:return ke=ue._init,ue=ke(ue._payload),Kt(ie,re,ue,xe)}if(Z(ue))return at(ie,re,ue,xe);if($(ue)){if(ke=$(ue),typeof ke!="function")throw Error(r(150));return ue=ke.call(ue),Ze(ie,re,ue,xe)}if(typeof ue.then=="function")return Kt(ie,re,Pf(ue),xe);if(ue.$$typeof===F)return Kt(ie,re,xf(ie,ue),xe);Of(ie,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint"?(ue=""+ue,re!==null&&re.tag===6?(u(ie,re.sibling),xe=v(re,ue),xe.return=ie,ie=xe):(u(ie,re),xe=mv(ue,ie.mode,xe),xe.return=ie,ie=xe),L(ie)):u(ie,re)}return function(ie,re,ue,xe){try{Hc=0;var ke=Kt(ie,re,ue,xe);return Zl=null,ke}catch(Fe){if(Fe===Oc||Fe===_f)throw Fe;var bt=Fr(29,Fe,null,ie.mode);return bt.lanes=xe,bt.return=ie,bt}finally{}}}var Jl=aS(!0),oS=aS(!1),pi=z(null),ss=null;function Ra(s){var a=s.alternate;Q(Bn,Bn.current&1),Q(pi,s),ss===null&&(a===null||Kl.current!==null||a.memoizedState!==null)&&(ss=s)}function lS(s){if(s.tag===22){if(Q(Bn,Bn.current),Q(pi,s),ss===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(ss=s)}}else Ia()}function Ia(){Q(Bn,Bn.current),Q(pi,pi.current)}function Ks(s){X(pi),ss===s&&(ss=null),X(Bn)}var Bn=z(0);function Df(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||Ly(u)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Kv(s,a,u,f){a=s.memoizedState,u=u(f,a),u=u==null?a:p({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Yv={enqueueSetState:function(s,a,u){s=s._reactInternals;var f=Gr(),v=Aa(f);v.payload=a,u!=null&&(v.callback=u),a=Ca(s,v,f),a!==null&&(Wr(a,s,f),kc(a,s,f))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var f=Gr(),v=Aa(f);v.tag=1,v.payload=a,u!=null&&(v.callback=u),a=Ca(s,v,f),a!==null&&(Wr(a,s,f),kc(a,s,f))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=Gr(),f=Aa(u);f.tag=2,a!=null&&(f.callback=a),a=Ca(s,f,u),a!==null&&(Wr(a,s,u),kc(a,s,u))}};function uS(s,a,u,f,v,b,L){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,b,L):a.prototype&&a.prototype.isPureReactComponent?!Ac(u,f)||!Ac(v,b):!0}function cS(s,a,u,f){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,f),a.state!==s&&Yv.enqueueReplaceState(a,a.state,null)}function Wo(s,a){var u=a;if("ref"in a){u={};for(var f in a)f!=="ref"&&(u[f]=a[f])}if(s=s.defaultProps){u===a&&(u=p({},u));for(var v in s)u[v]===void 0&&(u[v]=s[v])}return u}var kf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function dS(s){kf(s)}function hS(s){console.error(s)}function fS(s){kf(s)}function Lf(s,a){try{var u=s.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function mS(s,a,u){try{var f=s.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Xv(s,a,u){return u=Aa(u),u.tag=3,u.payload={element:null},u.callback=function(){Lf(s,a)},u}function pS(s){return s=Aa(s),s.tag=3,s}function gS(s,a,u,f){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var b=f.value;s.payload=function(){return v(b)},s.callback=function(){mS(a,u,f)}}var L=u.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(s.callback=function(){mS(a,u,f),typeof v!="function"&&(ka===null?ka=new Set([this]):ka.add(this));var q=f.stack;this.componentDidCatch(f.value,{componentStack:q!==null?q:""})})}function UD(s,a,u,f,v){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=u.alternate,a!==null&&Mc(a,u,v,!0),u=pi.current,u!==null){switch(u.tag){case 13:return ss===null?xy():u.alternate===null&&vn===0&&(vn=3),u.flags&=-257,u.flags|=65536,u.lanes=v,f===Ev?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([f]):a.add(f),_y(s,f,v)),!1;case 22:return u.flags|=65536,f===Ev?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([f]):u.add(f)),_y(s,f,v)),!1}throw Error(r(435,u.tag))}return _y(s,f,v),xy(),!1}if(Dt)return a=pi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=v,f!==yv&&(s=Error(r(422),{cause:f}),Ic(di(s,u)))):(f!==yv&&(a=Error(r(423),{cause:f}),Ic(di(a,u))),s=s.current.alternate,s.flags|=65536,v&=-v,s.lanes|=v,f=di(f,u),v=Xv(s.stateNode,f,v),Nv(s,v),vn!==4&&(vn=2)),!1;var b=Error(r(520),{cause:f});if(b=di(b,u),Qc===null?Qc=[b]:Qc.push(b),vn!==4&&(vn=2),a===null)return!0;f=di(f,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,s=v&-v,u.lanes|=s,s=Xv(u.stateNode,f,s),Nv(u,s),!1;case 1:if(a=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ka===null||!ka.has(b))))return u.flags|=65536,v&=-v,u.lanes|=v,v=pS(v),gS(v,s,u,f),Nv(u,v),!1}u=u.return}while(u!==null);return!1}var vS=Error(r(461)),qn=!1;function rr(s,a,u,f){a.child=s===null?oS(a,null,u,f):Jl(a,s.child,u,f)}function yS(s,a,u,f,v){u=u.render;var b=a.ref;if("ref"in f){var L={};for(var q in f)q!=="ref"&&(L[q]=f[q])}else L=f;return $o(a),f=Pv(s,a,u,L,b,v),q=Ov(),s!==null&&!qn?(Dv(s,a,v),Ys(s,a,v)):(Dt&&q&&gv(a),a.flags|=1,rr(s,a,f,v),a.child)}function bS(s,a,u,f,v){if(s===null){var b=u.type;return typeof b=="function"&&!fv(b)&&b.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=b,xS(s,a,b,f,v)):(s=gf(u.type,null,f,a,a.mode,v),s.ref=a.ref,s.return=a,a.child=s)}if(b=s.child,!iy(s,v)){var L=b.memoizedProps;if(u=u.compare,u=u!==null?u:Ac,u(L,f)&&s.ref===a.ref)return Ys(s,a,v)}return a.flags|=1,s=Fs(b,f),s.ref=a.ref,s.return=a,a.child=s}function xS(s,a,u,f,v){if(s!==null){var b=s.memoizedProps;if(Ac(b,f)&&s.ref===a.ref)if(qn=!1,a.pendingProps=f=b,iy(s,v))(s.flags&131072)!==0&&(qn=!0);else return a.lanes=s.lanes,Ys(s,a,v)}return Qv(s,a,u,f,v)}function wS(s,a,u){var f=a.pendingProps,v=f.children,b=s!==null?s.memoizedState:null;if(f.mode==="hidden"){if((a.flags&128)!==0){if(f=b!==null?b.baseLanes|u:u,s!==null){for(v=a.child=s.child,b=0;v!==null;)b=b|v.lanes|v.childLanes,v=v.sibling;a.childLanes=b&~f}else a.childLanes=0,a.child=null;return _S(s,a,f,u)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&wf(a,b!==null?b.cachePool:null),b!==null?x_(a,b):Iv(),lS(a);else return a.lanes=a.childLanes=536870912,_S(s,a,b!==null?b.baseLanes|u:u,u)}else b!==null?(wf(a,b.cachePool),x_(a,b),Ia(),a.memoizedState=null):(s!==null&&wf(a,null),Iv(),Ia());return rr(s,a,v,u),a.child}function _S(s,a,u,f){var v=Tv();return v=v===null?null:{parent:zn._currentValue,pool:v},a.memoizedState={baseLanes:u,cachePool:v},s!==null&&wf(a,null),Iv(),lS(a),s!==null&&Mc(s,a,f,!0),null}function Vf(s,a){var u=a.ref;if(u===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(s===null||s.ref!==u)&&(a.flags|=4194816)}}function Qv(s,a,u,f,v){return $o(a),u=Pv(s,a,u,f,void 0,v),f=Ov(),s!==null&&!qn?(Dv(s,a,v),Ys(s,a,v)):(Dt&&f&&gv(a),a.flags|=1,rr(s,a,u,v),a.child)}function SS(s,a,u,f,v,b){return $o(a),a.updateQueue=null,u=__(a,f,u,v),w_(s),f=Ov(),s!==null&&!qn?(Dv(s,a,b),Ys(s,a,b)):(Dt&&f&&gv(a),a.flags|=1,rr(s,a,u,b),a.child)}function TS(s,a,u,f,v){if($o(a),a.stateNode===null){var b=Hl,L=u.contextType;typeof L=="object"&&L!==null&&(b=dr(L)),b=new u(f,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Yv,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=f,b.state=a.memoizedState,b.refs={},Av(a),L=u.contextType,b.context=typeof L=="object"&&L!==null?dr(L):Hl,b.state=a.memoizedState,L=u.getDerivedStateFromProps,typeof L=="function"&&(Kv(a,u,L,f),b.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(L=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),L!==b.state&&Yv.enqueueReplaceState(b,b.state,null),Vc(a,f,b,v),Lc(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(s===null){b=a.stateNode;var q=a.memoizedProps,ee=Wo(u,q);b.props=ee;var he=b.context,be=u.contextType;L=Hl,typeof be=="object"&&be!==null&&(L=dr(be));var we=u.getDerivedStateFromProps;be=typeof we=="function"||typeof b.getSnapshotBeforeUpdate=="function",q=a.pendingProps!==q,be||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(q||he!==L)&&cS(a,b,f,L),Ea=!1;var fe=a.memoizedState;b.state=fe,Vc(a,f,b,v),Lc(),he=a.memoizedState,q||fe!==he||Ea?(typeof we=="function"&&(Kv(a,u,we,f),he=a.memoizedState),(ee=Ea||uS(a,u,ee,f,fe,he,L))?(be||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=he),b.props=f,b.state=he,b.context=L,f=ee):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{b=a.stateNode,Cv(s,a),L=a.memoizedProps,be=Wo(u,L),b.props=be,we=a.pendingProps,fe=b.context,he=u.contextType,ee=Hl,typeof he=="object"&&he!==null&&(ee=dr(he)),q=u.getDerivedStateFromProps,(he=typeof q=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(L!==we||fe!==ee)&&cS(a,b,f,ee),Ea=!1,fe=a.memoizedState,b.state=fe,Vc(a,f,b,v),Lc();var me=a.memoizedState;L!==we||fe!==me||Ea||s!==null&&s.dependencies!==null&&bf(s.dependencies)?(typeof q=="function"&&(Kv(a,u,q,f),me=a.memoizedState),(be=Ea||uS(a,u,be,f,fe,me,ee)||s!==null&&s.dependencies!==null&&bf(s.dependencies))?(he||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,me,ee),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,me,ee)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||L===s.memoizedProps&&fe===s.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&fe===s.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=me),b.props=f,b.state=me,b.context=ee,f=be):(typeof b.componentDidUpdate!="function"||L===s.memoizedProps&&fe===s.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&fe===s.memoizedState||(a.flags|=1024),f=!1)}return b=f,Vf(s,a),f=(a.flags&128)!==0,b||f?(b=a.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,s!==null&&f?(a.child=Jl(a,s.child,null,v),a.child=Jl(a,null,u,v)):rr(s,a,u,v),a.memoizedState=b.state,s=a.child):s=Ys(s,a,v),s}function ES(s,a,u,f){return Rc(),a.flags|=256,rr(s,a,u,f),a.child}var Zv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jv(s){return{baseLanes:s,cachePool:h_()}}function ey(s,a,u){return s=s!==null?s.childLanes&~u:0,a&&(s|=gi),s}function AS(s,a,u){var f=a.pendingProps,v=!1,b=(a.flags&128)!==0,L;if((L=b)||(L=s!==null&&s.memoizedState===null?!1:(Bn.current&2)!==0),L&&(v=!0,a.flags&=-129),L=(a.flags&32)!==0,a.flags&=-33,s===null){if(Dt){if(v?Ra(a):Ia(),Dt){var q=gn,ee;if(ee=q){e:{for(ee=q,q=is;ee.nodeType!==8;){if(!q){q=null;break e}if(ee=Mi(ee.nextSibling),ee===null){q=null;break e}}q=ee}q!==null?(a.memoizedState={dehydrated:q,treeContext:Uo!==null?{id:Hs,overflow:$s}:null,retryLane:536870912,hydrationErrors:null},ee=Fr(18,null,null,0),ee.stateNode=q,ee.return=a,a.child=ee,Sr=a,gn=null,ee=!0):ee=!1}ee||Fo(a)}if(q=a.memoizedState,q!==null&&(q=q.dehydrated,q!==null))return Ly(q)?a.lanes=32:a.lanes=536870912,null;Ks(a)}return q=f.children,f=f.fallback,v?(Ia(),v=a.mode,q=Uf({mode:"hidden",children:q},v),f=Vo(f,v,u,null),q.return=a,f.return=a,q.sibling=f,a.child=q,v=a.child,v.memoizedState=Jv(u),v.childLanes=ey(s,L,u),a.memoizedState=Zv,f):(Ra(a),ty(a,q))}if(ee=s.memoizedState,ee!==null&&(q=ee.dehydrated,q!==null)){if(b)a.flags&256?(Ra(a),a.flags&=-257,a=ny(s,a,u)):a.memoizedState!==null?(Ia(),a.child=s.child,a.flags|=128,a=null):(Ia(),v=f.fallback,q=a.mode,f=Uf({mode:"visible",children:f.children},q),v=Vo(v,q,u,null),v.flags|=2,f.return=a,v.return=a,f.sibling=v,a.child=f,Jl(a,s.child,null,u),f=a.child,f.memoizedState=Jv(u),f.childLanes=ey(s,L,u),a.memoizedState=Zv,a=v);else if(Ra(a),Ly(q)){if(L=q.nextSibling&&q.nextSibling.dataset,L)var he=L.dgst;L=he,f=Error(r(419)),f.stack="",f.digest=L,Ic({value:f,source:null,stack:null}),a=ny(s,a,u)}else if(qn||Mc(s,a,u,!1),L=(u&s.childLanes)!==0,qn||L){if(L=nn,L!==null&&(f=u&-u,f=(f&42)!==0?1:Ki(f),f=(f&(L.suspendedLanes|u))!==0?0:f,f!==0&&f!==ee.retryLane))throw ee.retryLane=f,Fl(s,f),Wr(L,s,f),vS;q.data==="$?"||xy(),a=ny(s,a,u)}else q.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=ee.treeContext,gn=Mi(q.nextSibling),Sr=a,Dt=!0,Bo=null,is=!1,s!==null&&(fi[mi++]=Hs,fi[mi++]=$s,fi[mi++]=Uo,Hs=s.id,$s=s.overflow,Uo=a),a=ty(a,f.children),a.flags|=4096);return a}return v?(Ia(),v=f.fallback,q=a.mode,ee=s.child,he=ee.sibling,f=Fs(ee,{mode:"hidden",children:f.children}),f.subtreeFlags=ee.subtreeFlags&65011712,he!==null?v=Fs(he,v):(v=Vo(v,q,u,null),v.flags|=2),v.return=a,f.return=a,f.sibling=v,a.child=f,f=v,v=a.child,q=s.child.memoizedState,q===null?q=Jv(u):(ee=q.cachePool,ee!==null?(he=zn._currentValue,ee=ee.parent!==he?{parent:he,pool:he}:ee):ee=h_(),q={baseLanes:q.baseLanes|u,cachePool:ee}),v.memoizedState=q,v.childLanes=ey(s,L,u),a.memoizedState=Zv,f):(Ra(a),u=s.child,s=u.sibling,u=Fs(u,{mode:"visible",children:f.children}),u.return=a,u.sibling=null,s!==null&&(L=a.deletions,L===null?(a.deletions=[s],a.flags|=16):L.push(s)),a.child=u,a.memoizedState=null,u)}function ty(s,a){return a=Uf({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Uf(s,a){return s=Fr(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function ny(s,a,u){return Jl(a,s.child,null,u),s=ty(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function CS(s,a,u){s.lanes|=a;var f=s.alternate;f!==null&&(f.lanes|=a),xv(s.return,a,u)}function ry(s,a,u,f,v){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:v}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=f,b.tail=u,b.tailMode=v)}function NS(s,a,u){var f=a.pendingProps,v=f.revealOrder,b=f.tail;if(rr(s,a,f.children,u),f=Bn.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&CS(s,u,a);else if(s.tag===19)CS(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}switch(Q(Bn,f),v){case"forwards":for(u=a.child,v=null;u!==null;)s=u.alternate,s!==null&&Df(s)===null&&(v=u),u=u.sibling;u=v,u===null?(v=a.child,a.child=null):(v=u.sibling,u.sibling=null),ry(a,!1,v,u,b);break;case"backwards":for(u=null,v=a.child,a.child=null;v!==null;){if(s=v.alternate,s!==null&&Df(s)===null){a.child=v;break}s=v.sibling,v.sibling=u,u=v,v=s}ry(a,!0,u,null,b);break;case"together":ry(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ys(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),Da|=a.lanes,(u&a.childLanes)===0)if(s!==null){if(Mc(s,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,u=Fs(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=Fs(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function iy(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&bf(s)))}function zD(s,a,u){switch(a.tag){case 3:Ee(a,a.stateNode.containerInfo),Ta(a,zn,s.memoizedState.cache),Rc();break;case 27:case 5:Re(a);break;case 4:Ee(a,a.stateNode.containerInfo);break;case 10:Ta(a,a.type,a.memoizedProps.value);break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(Ra(a),a.flags|=128,null):(u&a.child.childLanes)!==0?AS(s,a,u):(Ra(a),s=Ys(s,a,u),s!==null?s.sibling:null);Ra(a);break;case 19:var v=(s.flags&128)!==0;if(f=(u&a.childLanes)!==0,f||(Mc(s,a,u,!1),f=(u&a.childLanes)!==0),v){if(f)return NS(s,a,u);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Q(Bn,Bn.current),f)break;return null;case 22:case 23:return a.lanes=0,wS(s,a,u);case 24:Ta(a,zn,s.memoizedState.cache)}return Ys(s,a,u)}function RS(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps)qn=!0;else{if(!iy(s,u)&&(a.flags&128)===0)return qn=!1,zD(s,a,u);qn=(s.flags&131072)!==0}else qn=!1,Dt&&(a.flags&1048576)!==0&&s_(a,yf,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var f=a.elementType,v=f._init;if(f=v(f._payload),a.type=f,typeof f=="function")fv(f)?(s=Wo(f,s),a.tag=1,a=TS(null,a,f,s,u)):(a.tag=0,a=Qv(null,a,f,s,u));else{if(f!=null){if(v=f.$$typeof,v===Y){a.tag=11,a=yS(null,a,f,s,u);break e}else if(v===C){a.tag=14,a=bS(null,a,f,s,u);break e}}throw a=G(f)||f,Error(r(306,a,""))}}return a;case 0:return Qv(s,a,a.type,a.pendingProps,u);case 1:return f=a.type,v=Wo(f,a.pendingProps),TS(s,a,f,v,u);case 3:e:{if(Ee(a,a.stateNode.containerInfo),s===null)throw Error(r(387));f=a.pendingProps;var b=a.memoizedState;v=b.element,Cv(s,a),Vc(a,f,null,u);var L=a.memoizedState;if(f=L.cache,Ta(a,zn,f),f!==b.cache&&wv(a,[zn],u,!0),Lc(),f=L.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:L.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=ES(s,a,f,u);break e}else if(f!==v){v=di(Error(r(424)),a),Ic(v),a=ES(s,a,f,u);break e}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(gn=Mi(s.firstChild),Sr=a,Dt=!0,Bo=null,is=!0,u=oS(a,null,f,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Rc(),f===v){a=Ys(s,a,u);break e}rr(s,a,f,u)}a=a.child}return a;case 26:return Vf(s,a),s===null?(u=PT(a.type,null,a.pendingProps,null))?a.memoizedState=u:Dt||(u=a.type,s=a.pendingProps,f=Jf(le.current).createElement(u),f[_e]=a,f[Te]=s,sr(f,u,s),Ct(f),a.stateNode=f):a.memoizedState=PT(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Re(a),s===null&&Dt&&(f=a.stateNode=IT(a.type,a.pendingProps,le.current),Sr=a,is=!0,v=gn,Ua(a.type)?(Vy=v,gn=Mi(f.firstChild)):gn=v),rr(s,a,a.pendingProps.children,u),Vf(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Dt&&((v=f=gn)&&(f=m4(f,a.type,a.pendingProps,is),f!==null?(a.stateNode=f,Sr=a,gn=Mi(f.firstChild),is=!1,v=!0):v=!1),v||Fo(a)),Re(a),v=a.type,b=a.pendingProps,L=s!==null?s.memoizedProps:null,f=b.children,Oy(v,b)?f=null:L!==null&&Oy(v,L)&&(a.flags|=32),a.memoizedState!==null&&(v=Pv(s,a,jD,null,null,u),ad._currentValue=v),Vf(s,a),rr(s,a,f,u),a.child;case 6:return s===null&&Dt&&((s=u=gn)&&(u=p4(u,a.pendingProps,is),u!==null?(a.stateNode=u,Sr=a,gn=null,s=!0):s=!1),s||Fo(a)),null;case 13:return AS(s,a,u);case 4:return Ee(a,a.stateNode.containerInfo),f=a.pendingProps,s===null?a.child=Jl(a,null,f,u):rr(s,a,f,u),a.child;case 11:return yS(s,a,a.type,a.pendingProps,u);case 7:return rr(s,a,a.pendingProps,u),a.child;case 8:return rr(s,a,a.pendingProps.children,u),a.child;case 12:return rr(s,a,a.pendingProps.children,u),a.child;case 10:return f=a.pendingProps,Ta(a,a.type,f.value),rr(s,a,f.children,u),a.child;case 9:return v=a.type._context,f=a.pendingProps.children,$o(a),v=dr(v),f=f(v),a.flags|=1,rr(s,a,f,u),a.child;case 14:return bS(s,a,a.type,a.pendingProps,u);case 15:return xS(s,a,a.type,a.pendingProps,u);case 19:return NS(s,a,u);case 31:return f=a.pendingProps,u=a.mode,f={mode:f.mode,children:f.children},s===null?(u=Uf(f,u),u.ref=a.ref,a.child=u,u.return=a,a=u):(u=Fs(s.child,f),u.ref=a.ref,a.child=u,u.return=a,a=u),a;case 22:return wS(s,a,u);case 24:return $o(a),f=dr(zn),s===null?(v=Tv(),v===null&&(v=nn,b=_v(),v.pooledCache=b,b.refCount++,b!==null&&(v.pooledCacheLanes|=u),v=b),a.memoizedState={parent:f,cache:v},Av(a),Ta(a,zn,v)):((s.lanes&u)!==0&&(Cv(s,a),Vc(a,null,null,u),Lc()),v=s.memoizedState,b=a.memoizedState,v.parent!==f?(v={parent:f,cache:f},a.memoizedState=v,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=v),Ta(a,zn,f)):(f=b.cache,Ta(a,zn,f),f!==v.cache&&wv(a,[zn],u,!0))),rr(s,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Xs(s){s.flags|=4}function IS(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!VT(a)){if(a=pi.current,a!==null&&((Mt&4194048)===Mt?ss!==null:(Mt&62914560)!==Mt&&(Mt&536870912)===0||a!==ss))throw Dc=Ev,f_;s.flags|=8192}}function zf(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?To():536870912,s.lanes|=a,ru|=a)}function qc(s,a){if(!Dt)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function un(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(a)for(var v=s.child;v!==null;)u|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)u|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=f,s.childLanes=u,a}function BD(s,a,u){var f=a.pendingProps;switch(vv(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(a),null;case 1:return un(a),null;case 3:return u=a.stateNode,f=null,s!==null&&(f=s.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),Gs(zn),Pe(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(Nc(a)?Xs(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,l_())),un(a),null;case 26:return u=a.memoizedState,s===null?(Xs(a),u!==null?(un(a),IS(a,u)):(un(a),a.flags&=-16777217)):u?u!==s.memoizedState?(Xs(a),un(a),IS(a,u)):(un(a),a.flags&=-16777217):(s.memoizedProps!==f&&Xs(a),un(a),a.flags&=-16777217),null;case 27:ze(a),u=le.current;var v=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==f&&Xs(a);else{if(!f){if(a.stateNode===null)throw Error(r(166));return un(a),null}s=ne.current,Nc(a)?a_(a):(s=IT(v,f,u),a.stateNode=s,Xs(a))}return un(a),null;case 5:if(ze(a),u=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==f&&Xs(a);else{if(!f){if(a.stateNode===null)throw Error(r(166));return un(a),null}if(s=ne.current,Nc(a))a_(a);else{switch(v=Jf(le.current),s){case 1:s=v.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:s=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":s=v.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":s=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":s=v.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof f.is=="string"?v.createElement("select",{is:f.is}):v.createElement("select"),f.multiple?s.multiple=!0:f.size&&(s.size=f.size);break;default:s=typeof f.is=="string"?v.createElement(u,{is:f.is}):v.createElement(u)}}s[_e]=a,s[Te]=f;e:for(v=a.child;v!==null;){if(v.tag===5||v.tag===6)s.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===a)break e;for(;v.sibling===null;){if(v.return===null||v.return===a)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}a.stateNode=s;e:switch(sr(s,u,f),u){case"button":case"input":case"select":case"textarea":s=!!f.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Xs(a)}}return un(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==f&&Xs(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(r(166));if(s=le.current,Nc(a)){if(s=a.stateNode,u=a.memoizedProps,f=null,v=Sr,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}s[_e]=a,s=!!(s.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||ST(s.nodeValue,u)),s||Fo(a)}else s=Jf(s).createTextNode(f),s[_e]=a,a.stateNode=s}return un(a),null;case 13:if(f=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(v=Nc(a),f!==null&&f.dehydrated!==null){if(s===null){if(!v)throw Error(r(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[_e]=a}else Rc(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;un(a),v=!1}else v=l_(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=v),v=!0;if(!v)return a.flags&256?(Ks(a),a):(Ks(a),null)}if(Ks(a),(a.flags&128)!==0)return a.lanes=u,a;if(u=f!==null,s=s!==null&&s.memoizedState!==null,u){f=a.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool);var b=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==v&&(f.flags|=2048)}return u!==s&&u&&(a.child.flags|=8192),zf(a,a.updateQueue),un(a),null;case 4:return Pe(),s===null&&Ry(a.stateNode.containerInfo),un(a),null;case 10:return Gs(a.type),un(a),null;case 19:if(X(Bn),v=a.memoizedState,v===null)return un(a),null;if(f=(a.flags&128)!==0,b=v.rendering,b===null)if(f)qc(v,!1);else{if(vn!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(b=Df(s),b!==null){for(a.flags|=128,qc(v,!1),s=b.updateQueue,a.updateQueue=s,zf(a,s),a.subtreeFlags=0,s=u,u=a.child;u!==null;)i_(u,s),u=u.sibling;return Q(Bn,Bn.current&1|2),a.child}s=s.sibling}v.tail!==null&&Ie()>Hf&&(a.flags|=128,f=!0,qc(v,!1),a.lanes=4194304)}else{if(!f)if(s=Df(b),s!==null){if(a.flags|=128,f=!0,s=s.updateQueue,a.updateQueue=s,zf(a,s),qc(v,!0),v.tail===null&&v.tailMode==="hidden"&&!b.alternate&&!Dt)return un(a),null}else 2*Ie()-v.renderingStartTime>Hf&&u!==536870912&&(a.flags|=128,f=!0,qc(v,!1),a.lanes=4194304);v.isBackwards?(b.sibling=a.child,a.child=b):(s=v.last,s!==null?s.sibling=b:a.child=b,v.last=b)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=Ie(),a.sibling=null,s=Bn.current,Q(Bn,f?s&1|2:s&1),a):(un(a),null);case 22:case 23:return Ks(a),Mv(),f=a.memoizedState!==null,s!==null?s.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(u&536870912)!==0&&(a.flags&128)===0&&(un(a),a.subtreeFlags&6&&(a.flags|=8192)):un(a),u=a.updateQueue,u!==null&&zf(a,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==u&&(a.flags|=2048),s!==null&&X(qo),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Gs(zn),un(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function FD(s,a){switch(vv(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Gs(zn),Pe(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return ze(a),null;case 13:if(Ks(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Rc()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return X(Bn),null;case 4:return Pe(),null;case 10:return Gs(a.type),null;case 22:case 23:return Ks(a),Mv(),s!==null&&X(qo),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Gs(zn),null;case 25:return null;default:return null}}function MS(s,a){switch(vv(a),a.tag){case 3:Gs(zn),Pe();break;case 26:case 27:case 5:ze(a);break;case 4:Pe();break;case 13:Ks(a);break;case 19:X(Bn);break;case 10:Gs(a.type);break;case 22:case 23:Ks(a),Mv(),s!==null&&X(qo);break;case 24:Gs(zn)}}function Gc(s,a){try{var u=a.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var v=f.next;u=v;do{if((u.tag&s)===s){f=void 0;var b=u.create,L=u.inst;f=b(),L.destroy=f}u=u.next}while(u!==v)}}catch(q){Qt(a,a.return,q)}}function Ma(s,a,u){try{var f=a.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var b=v.next;f=b;do{if((f.tag&s)===s){var L=f.inst,q=L.destroy;if(q!==void 0){L.destroy=void 0,v=a;var ee=u,he=q;try{he()}catch(be){Qt(v,ee,be)}}}f=f.next}while(f!==b)}}catch(be){Qt(a,a.return,be)}}function jS(s){var a=s.updateQueue;if(a!==null){var u=s.stateNode;try{b_(a,u)}catch(f){Qt(s,s.return,f)}}}function PS(s,a,u){u.props=Wo(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(f){Qt(s,a,f)}}function Wc(s,a){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var f=s.stateNode;break;case 30:f=s.stateNode;break;default:f=s.stateNode}typeof u=="function"?s.refCleanup=u(f):u.current=f}}catch(v){Qt(s,a,v)}}function as(s,a){var u=s.ref,f=s.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(v){Qt(s,a,v)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){Qt(s,a,v)}else u.current=null}function OS(s){var a=s.type,u=s.memoizedProps,f=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(v){Qt(s,s.return,v)}}function sy(s,a,u){try{var f=s.stateNode;u4(f,s.type,u,a),f[Te]=a}catch(v){Qt(s,s.return,v)}}function DS(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ua(s.type)||s.tag===4}function ay(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||DS(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ua(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function oy(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(s),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Zf));else if(f!==4&&(f===27&&Ua(s.type)&&(u=s.stateNode,a=null),s=s.child,s!==null))for(oy(s,a,u),s=s.sibling;s!==null;)oy(s,a,u),s=s.sibling}function Bf(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(f!==4&&(f===27&&Ua(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(Bf(s,a,u),s=s.sibling;s!==null;)Bf(s,a,u),s=s.sibling}function kS(s){var a=s.stateNode,u=s.memoizedProps;try{for(var f=s.type,v=a.attributes;v.length;)a.removeAttributeNode(v[0]);sr(a,f,u),a[_e]=s,a[Te]=u}catch(b){Qt(s,s.return,b)}}var Qs=!1,Sn=!1,ly=!1,LS=typeof WeakSet=="function"?WeakSet:Set,Gn=null;function HD(s,a){if(s=s.containerInfo,jy=sm,s=K1(s),av(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var v=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var L=0,q=-1,ee=-1,he=0,be=0,we=s,fe=null;t:for(;;){for(var me;we!==u||v!==0&&we.nodeType!==3||(q=L+v),we!==b||f!==0&&we.nodeType!==3||(ee=L+f),we.nodeType===3&&(L+=we.nodeValue.length),(me=we.firstChild)!==null;)fe=we,we=me;for(;;){if(we===s)break t;if(fe===u&&++he===v&&(q=L),fe===b&&++be===f&&(ee=L),(me=we.nextSibling)!==null)break;we=fe,fe=we.parentNode}we=me}u=q===-1||ee===-1?null:{start:q,end:ee}}else u=null}u=u||{start:0,end:0}}else u=null;for(Py={focusedElem:s,selectionRange:u},sm=!1,Gn=a;Gn!==null;)if(a=Gn,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,Gn=s;else for(;Gn!==null;){switch(a=Gn,b=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&b!==null){s=void 0,u=a,v=b.memoizedProps,b=b.memoizedState,f=u.stateNode;try{var at=Wo(u.type,v,u.elementType===u.type);s=f.getSnapshotBeforeUpdate(at,b),f.__reactInternalSnapshotBeforeUpdate=s}catch(Ze){Qt(u,u.return,Ze)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,u=s.nodeType,u===9)ky(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":ky(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=a.sibling,s!==null){s.return=a.return,Gn=s;break}Gn=a.return}}function VS(s,a,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:ja(s,u),f&4&&Gc(5,u);break;case 1:if(ja(s,u),f&4)if(s=u.stateNode,a===null)try{s.componentDidMount()}catch(L){Qt(u,u.return,L)}else{var v=Wo(u.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(v,a,s.__reactInternalSnapshotBeforeUpdate)}catch(L){Qt(u,u.return,L)}}f&64&&jS(u),f&512&&Wc(u,u.return);break;case 3:if(ja(s,u),f&64&&(s=u.updateQueue,s!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{b_(s,a)}catch(L){Qt(u,u.return,L)}}break;case 27:a===null&&f&4&&kS(u);case 26:case 5:ja(s,u),a===null&&f&4&&OS(u),f&512&&Wc(u,u.return);break;case 12:ja(s,u);break;case 13:ja(s,u),f&4&&BS(s,u),f&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=ZD.bind(null,u),g4(s,u))));break;case 22:if(f=u.memoizedState!==null||Qs,!f){a=a!==null&&a.memoizedState!==null||Sn,v=Qs;var b=Sn;Qs=f,(Sn=a)&&!b?Pa(s,u,(u.subtreeFlags&8772)!==0):ja(s,u),Qs=v,Sn=b}break;case 30:break;default:ja(s,u)}}function US(s){var a=s.alternate;a!==null&&(s.alternate=null,US(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&We(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var on=null,Ir=!1;function Zs(s,a,u){for(u=u.child;u!==null;)zS(s,a,u),u=u.sibling}function zS(s,a,u){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(pt,u)}catch{}switch(u.tag){case 26:Sn||as(u,a),Zs(s,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Sn||as(u,a);var f=on,v=Ir;Ua(u.type)&&(on=u.stateNode,Ir=!1),Zs(s,a,u),nd(u.stateNode),on=f,Ir=v;break;case 5:Sn||as(u,a);case 6:if(f=on,v=Ir,on=null,Zs(s,a,u),on=f,Ir=v,on!==null)if(Ir)try{(on.nodeType===9?on.body:on.nodeName==="HTML"?on.ownerDocument.body:on).removeChild(u.stateNode)}catch(b){Qt(u,a,b)}else try{on.removeChild(u.stateNode)}catch(b){Qt(u,a,b)}break;case 18:on!==null&&(Ir?(s=on,NT(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),cd(s)):NT(on,u.stateNode));break;case 4:f=on,v=Ir,on=u.stateNode.containerInfo,Ir=!0,Zs(s,a,u),on=f,Ir=v;break;case 0:case 11:case 14:case 15:Sn||Ma(2,u,a),Sn||Ma(4,u,a),Zs(s,a,u);break;case 1:Sn||(as(u,a),f=u.stateNode,typeof f.componentWillUnmount=="function"&&PS(u,a,f)),Zs(s,a,u);break;case 21:Zs(s,a,u);break;case 22:Sn=(f=Sn)||u.memoizedState!==null,Zs(s,a,u),Sn=f;break;default:Zs(s,a,u)}}function BS(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{cd(s)}catch(u){Qt(a,a.return,u)}}function $D(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new LS),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new LS),a;default:throw Error(r(435,s.tag))}}function uy(s,a){var u=$D(s);a.forEach(function(f){var v=JD.bind(null,s,f);u.has(f)||(u.add(f),f.then(v,v))})}function Hr(s,a){var u=a.deletions;if(u!==null)for(var f=0;f<u.length;f++){var v=u[f],b=s,L=a,q=L;e:for(;q!==null;){switch(q.tag){case 27:if(Ua(q.type)){on=q.stateNode,Ir=!1;break e}break;case 5:on=q.stateNode,Ir=!1;break e;case 3:case 4:on=q.stateNode.containerInfo,Ir=!0;break e}q=q.return}if(on===null)throw Error(r(160));zS(b,L,v),on=null,Ir=!1,b=v.alternate,b!==null&&(b.return=null),v.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)FS(a,s),a=a.sibling}var Ii=null;function FS(s,a){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Hr(a,s),$r(s),f&4&&(Ma(3,s,s.return),Gc(3,s),Ma(5,s,s.return));break;case 1:Hr(a,s),$r(s),f&512&&(Sn||u===null||as(u,u.return)),f&64&&Qs&&(s=s.updateQueue,s!==null&&(f=s.callbacks,f!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var v=Ii;if(Hr(a,s),$r(s),f&512&&(Sn||u===null||as(u,u.return)),f&4){var b=u!==null?u.memoizedState:null;if(f=s.memoizedState,u===null)if(f===null)if(s.stateNode===null){e:{f=s.type,u=s.memoizedProps,v=v.ownerDocument||v;t:switch(f){case"title":b=v.getElementsByTagName("title")[0],(!b||b[et]||b[_e]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=v.createElement(f),v.head.insertBefore(b,v.querySelector("head > title"))),sr(b,f,u),b[_e]=s,Ct(b),f=b;break e;case"link":var L=kT("link","href",v).get(f+(u.href||""));if(L){for(var q=0;q<L.length;q++)if(b=L[q],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){L.splice(q,1);break t}}b=v.createElement(f),sr(b,f,u),v.head.appendChild(b);break;case"meta":if(L=kT("meta","content",v).get(f+(u.content||""))){for(q=0;q<L.length;q++)if(b=L[q],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){L.splice(q,1);break t}}b=v.createElement(f),sr(b,f,u),v.head.appendChild(b);break;default:throw Error(r(468,f))}b[_e]=s,Ct(b),f=b}s.stateNode=f}else LT(v,s.type,s.stateNode);else s.stateNode=DT(v,f,s.memoizedProps);else b!==f?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,f===null?LT(v,s.type,s.stateNode):DT(v,f,s.memoizedProps)):f===null&&s.stateNode!==null&&sy(s,s.memoizedProps,u.memoizedProps)}break;case 27:Hr(a,s),$r(s),f&512&&(Sn||u===null||as(u,u.return)),u!==null&&f&4&&sy(s,s.memoizedProps,u.memoizedProps);break;case 5:if(Hr(a,s),$r(s),f&512&&(Sn||u===null||as(u,u.return)),s.flags&32){v=s.stateNode;try{oi(v,"")}catch(me){Qt(s,s.return,me)}}f&4&&s.stateNode!=null&&(v=s.memoizedProps,sy(s,v,u!==null?u.memoizedProps:v)),f&1024&&(ly=!0);break;case 6:if(Hr(a,s),$r(s),f&4){if(s.stateNode===null)throw Error(r(162));f=s.memoizedProps,u=s.stateNode;try{u.nodeValue=f}catch(me){Qt(s,s.return,me)}}break;case 3:if(nm=null,v=Ii,Ii=em(a.containerInfo),Hr(a,s),Ii=v,$r(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{cd(a.containerInfo)}catch(me){Qt(s,s.return,me)}ly&&(ly=!1,HS(s));break;case 4:f=Ii,Ii=em(s.stateNode.containerInfo),Hr(a,s),$r(s),Ii=f;break;case 12:Hr(a,s),$r(s);break;case 13:Hr(a,s),$r(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(py=Ie()),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,uy(s,f)));break;case 22:v=s.memoizedState!==null;var ee=u!==null&&u.memoizedState!==null,he=Qs,be=Sn;if(Qs=he||v,Sn=be||ee,Hr(a,s),Sn=be,Qs=he,$r(s),f&8192)e:for(a=s.stateNode,a._visibility=v?a._visibility&-2:a._visibility|1,v&&(u===null||ee||Qs||Sn||Ko(s)),u=null,a=s;;){if(a.tag===5||a.tag===26){if(u===null){ee=u=a;try{if(b=ee.stateNode,v)L=b.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{q=ee.stateNode;var we=ee.memoizedProps.style,fe=we!=null&&we.hasOwnProperty("display")?we.display:null;q.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(me){Qt(ee,ee.return,me)}}}else if(a.tag===6){if(u===null){ee=a;try{ee.stateNode.nodeValue=v?"":ee.memoizedProps}catch(me){Qt(ee,ee.return,me)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=s.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,uy(s,u))));break;case 19:Hr(a,s),$r(s),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,uy(s,f)));break;case 30:break;case 21:break;default:Hr(a,s),$r(s)}}function $r(s){var a=s.flags;if(a&2){try{for(var u,f=s.return;f!==null;){if(DS(f)){u=f;break}f=f.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,b=ay(s);Bf(s,b,v);break;case 5:var L=u.stateNode;u.flags&32&&(oi(L,""),u.flags&=-33);var q=ay(s);Bf(s,q,L);break;case 3:case 4:var ee=u.stateNode.containerInfo,he=ay(s);oy(s,he,ee);break;default:throw Error(r(161))}}catch(be){Qt(s,s.return,be)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function HS(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;HS(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function ja(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)VS(s,a.alternate,a),a=a.sibling}function Ko(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Ma(4,a,a.return),Ko(a);break;case 1:as(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&PS(a,a.return,u),Ko(a);break;case 27:nd(a.stateNode);case 26:case 5:as(a,a.return),Ko(a);break;case 22:a.memoizedState===null&&Ko(a);break;case 30:Ko(a);break;default:Ko(a)}s=s.sibling}}function Pa(s,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,v=s,b=a,L=b.flags;switch(b.tag){case 0:case 11:case 15:Pa(v,b,u),Gc(4,b);break;case 1:if(Pa(v,b,u),f=b,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(he){Qt(f,f.return,he)}if(f=b,v=f.updateQueue,v!==null){var q=f.stateNode;try{var ee=v.shared.hiddenCallbacks;if(ee!==null)for(v.shared.hiddenCallbacks=null,v=0;v<ee.length;v++)y_(ee[v],q)}catch(he){Qt(f,f.return,he)}}u&&L&64&&jS(b),Wc(b,b.return);break;case 27:kS(b);case 26:case 5:Pa(v,b,u),u&&f===null&&L&4&&OS(b),Wc(b,b.return);break;case 12:Pa(v,b,u);break;case 13:Pa(v,b,u),u&&L&4&&BS(v,b);break;case 22:b.memoizedState===null&&Pa(v,b,u),Wc(b,b.return);break;case 30:break;default:Pa(v,b,u)}a=a.sibling}}function cy(s,a){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&jc(u))}function dy(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&jc(s))}function os(s,a,u,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)$S(s,a,u,f),a=a.sibling}function $S(s,a,u,f){var v=a.flags;switch(a.tag){case 0:case 11:case 15:os(s,a,u,f),v&2048&&Gc(9,a);break;case 1:os(s,a,u,f);break;case 3:os(s,a,u,f),v&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&jc(s)));break;case 12:if(v&2048){os(s,a,u,f),s=a.stateNode;try{var b=a.memoizedProps,L=b.id,q=b.onPostCommit;typeof q=="function"&&q(L,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(ee){Qt(a,a.return,ee)}}else os(s,a,u,f);break;case 13:os(s,a,u,f);break;case 23:break;case 22:b=a.stateNode,L=a.alternate,a.memoizedState!==null?b._visibility&2?os(s,a,u,f):Kc(s,a):b._visibility&2?os(s,a,u,f):(b._visibility|=2,eu(s,a,u,f,(a.subtreeFlags&10256)!==0)),v&2048&&cy(L,a);break;case 24:os(s,a,u,f),v&2048&&dy(a.alternate,a);break;default:os(s,a,u,f)}}function eu(s,a,u,f,v){for(v=v&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var b=s,L=a,q=u,ee=f,he=L.flags;switch(L.tag){case 0:case 11:case 15:eu(b,L,q,ee,v),Gc(8,L);break;case 23:break;case 22:var be=L.stateNode;L.memoizedState!==null?be._visibility&2?eu(b,L,q,ee,v):Kc(b,L):(be._visibility|=2,eu(b,L,q,ee,v)),v&&he&2048&&cy(L.alternate,L);break;case 24:eu(b,L,q,ee,v),v&&he&2048&&dy(L.alternate,L);break;default:eu(b,L,q,ee,v)}a=a.sibling}}function Kc(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=s,f=a,v=f.flags;switch(f.tag){case 22:Kc(u,f),v&2048&&cy(f.alternate,f);break;case 24:Kc(u,f),v&2048&&dy(f.alternate,f);break;default:Kc(u,f)}a=a.sibling}}var Yc=8192;function tu(s){if(s.subtreeFlags&Yc)for(s=s.child;s!==null;)qS(s),s=s.sibling}function qS(s){switch(s.tag){case 26:tu(s),s.flags&Yc&&s.memoizedState!==null&&R4(Ii,s.memoizedState,s.memoizedProps);break;case 5:tu(s);break;case 3:case 4:var a=Ii;Ii=em(s.stateNode.containerInfo),tu(s),Ii=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=Yc,Yc=16777216,tu(s),Yc=a):tu(s));break;default:tu(s)}}function GS(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Xc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];Gn=f,KS(f,s)}GS(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)WS(s),s=s.sibling}function WS(s){switch(s.tag){case 0:case 11:case 15:Xc(s),s.flags&2048&&Ma(9,s,s.return);break;case 3:Xc(s);break;case 12:Xc(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Ff(s)):Xc(s);break;default:Xc(s)}}function Ff(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];Gn=f,KS(f,s)}GS(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Ma(8,a,a.return),Ff(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,Ff(a));break;default:Ff(a)}s=s.sibling}}function KS(s,a){for(;Gn!==null;){var u=Gn;switch(u.tag){case 0:case 11:case 15:Ma(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:jc(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,Gn=f;else e:for(u=s;Gn!==null;){f=Gn;var v=f.sibling,b=f.return;if(US(f),f===u){Gn=null;break e}if(v!==null){v.return=b,Gn=v;break e}Gn=b}}}var qD={getCacheForType:function(s){var a=dr(zn),u=a.data.get(s);return u===void 0&&(u=s(),a.data.set(s,u)),u}},GD=typeof WeakMap=="function"?WeakMap:Map,Ht=0,nn=null,_t=null,Mt=0,$t=0,qr=null,Oa=!1,nu=!1,hy=!1,Js=0,vn=0,Da=0,Yo=0,fy=0,gi=0,ru=0,Qc=null,Mr=null,my=!1,py=0,Hf=1/0,$f=null,ka=null,ir=0,La=null,iu=null,su=0,gy=0,vy=null,YS=null,Zc=0,yy=null;function Gr(){if((Ht&2)!==0&&Mt!==0)return Mt&-Mt;if(H.T!==null){var s=Gl;return s!==0?s:Ey()}return te()}function XS(){gi===0&&(gi=(Mt&536870912)===0||Dt?Ps():536870912);var s=pi.current;return s!==null&&(s.flags|=32),gi}function Wr(s,a,u){(s===nn&&($t===2||$t===9)||s.cancelPendingCommit!==null)&&(au(s,0),Va(s,Mt,gi,!1)),Ci(s,u),((Ht&2)===0||s!==nn)&&(s===nn&&((Ht&2)===0&&(Yo|=u),vn===4&&Va(s,Mt,gi,!1)),ls(s))}function QS(s,a,u){if((Ht&6)!==0)throw Error(r(327));var f=!u&&(a&124)===0&&(a&s.expiredLanes)===0||ri(s,a),v=f?YD(s,a):wy(s,a,!0),b=f;do{if(v===0){nu&&!f&&Va(s,a,0,!1);break}else{if(u=s.current.alternate,b&&!WD(u)){v=wy(s,a,!1),b=!1;continue}if(v===2){if(b=a,s.errorRecoveryDisabledLanes&b)var L=0;else L=s.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){a=L;e:{var q=s;v=Qc;var ee=q.current.memoizedState.isDehydrated;if(ee&&(au(q,L).flags|=256),L=wy(q,L,!1),L!==2){if(hy&&!ee){q.errorRecoveryDisabledLanes|=b,Yo|=b,v=4;break e}b=Mr,Mr=v,b!==null&&(Mr===null?Mr=b:Mr.push.apply(Mr,b))}v=L}if(b=!1,v!==2)continue}}if(v===1){au(s,0),Va(s,a,0,!0);break}e:{switch(f=s,b=v,b){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Va(f,a,gi,!Oa);break e;case 2:Mr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(v=py+300-Ie(),10<v)){if(Va(f,a,gi,!Oa),js(f,0,!0)!==0)break e;f.timeoutHandle=AT(ZS.bind(null,f,u,Mr,$f,my,a,gi,Yo,ru,Oa,b,2,-0,0),v);break e}ZS(f,u,Mr,$f,my,a,gi,Yo,ru,Oa,b,0,-0,0)}}break}while(!0);ls(s)}function ZS(s,a,u,f,v,b,L,q,ee,he,be,we,fe,me){if(s.timeoutHandle=-1,we=a.subtreeFlags,(we&8192||(we&16785408)===16785408)&&(sd={stylesheets:null,count:0,unsuspend:N4},qS(a),we=I4(),we!==null)){s.cancelPendingCommit=we(sT.bind(null,s,a,b,u,f,v,L,q,ee,be,1,fe,me)),Va(s,b,L,!he);return}sT(s,a,b,u,f,v,L,q,ee)}function WD(s){for(var a=s;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var v=u[f],b=v.getSnapshot;v=v.value;try{if(!Br(b(),v))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Va(s,a,u,f){a&=~fy,a&=~Yo,s.suspendedLanes|=a,s.pingedLanes&=~a,f&&(s.warmLanes|=a),f=s.expirationTimes;for(var v=a;0<v;){var b=31-tn(v),L=1<<b;f[b]=-1,v&=~L}u!==0&&br(s,u,a)}function qf(){return(Ht&6)===0?(Jc(0),!1):!0}function by(){if(_t!==null){if($t===0)var s=_t.return;else s=_t,qs=Ho=null,kv(s),Zl=null,Hc=0,s=_t;for(;s!==null;)MS(s.alternate,s),s=s.return;_t=null}}function au(s,a){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,d4(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),by(),nn=s,_t=u=Fs(s.current,null),Mt=a,$t=0,qr=null,Oa=!1,nu=ri(s,a),hy=!1,ru=gi=fy=Yo=Da=vn=0,Mr=Qc=null,my=!1,(a&8)!==0&&(a|=a&32);var f=s.entangledLanes;if(f!==0)for(s=s.entanglements,f&=a;0<f;){var v=31-tn(f),b=1<<v;a|=s[v],f&=~b}return Js=a,ff(),u}function JS(s,a){gt=null,H.H=jf,a===Oc||a===_f?(a=g_(),$t=3):a===f_?(a=g_(),$t=4):$t=a===vS?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,qr=a,_t===null&&(vn=1,Lf(s,di(a,s.current)))}function eT(){var s=H.H;return H.H=jf,s===null?jf:s}function tT(){var s=H.A;return H.A=qD,s}function xy(){vn=4,Oa||(Mt&4194048)!==Mt&&pi.current!==null||(nu=!0),(Da&134217727)===0&&(Yo&134217727)===0||nn===null||Va(nn,Mt,gi,!1)}function wy(s,a,u){var f=Ht;Ht|=2;var v=eT(),b=tT();(nn!==s||Mt!==a)&&($f=null,au(s,a)),a=!1;var L=vn;e:do try{if($t!==0&&_t!==null){var q=_t,ee=qr;switch($t){case 8:by(),L=6;break e;case 3:case 2:case 9:case 6:pi.current===null&&(a=!0);var he=$t;if($t=0,qr=null,ou(s,q,ee,he),u&&nu){L=0;break e}break;default:he=$t,$t=0,qr=null,ou(s,q,ee,he)}}KD(),L=vn;break}catch(be){JS(s,be)}while(!0);return a&&s.shellSuspendCounter++,qs=Ho=null,Ht=f,H.H=v,H.A=b,_t===null&&(nn=null,Mt=0,ff()),L}function KD(){for(;_t!==null;)nT(_t)}function YD(s,a){var u=Ht;Ht|=2;var f=eT(),v=tT();nn!==s||Mt!==a?($f=null,Hf=Ie()+500,au(s,a)):nu=ri(s,a);e:do try{if($t!==0&&_t!==null){a=_t;var b=qr;t:switch($t){case 1:$t=0,qr=null,ou(s,a,b,1);break;case 2:case 9:if(m_(b)){$t=0,qr=null,rT(a);break}a=function(){$t!==2&&$t!==9||nn!==s||($t=7),ls(s)},b.then(a,a);break e;case 3:$t=7;break e;case 4:$t=5;break e;case 7:m_(b)?($t=0,qr=null,rT(a)):($t=0,qr=null,ou(s,a,b,7));break;case 5:var L=null;switch(_t.tag){case 26:L=_t.memoizedState;case 5:case 27:var q=_t;if(!L||VT(L)){$t=0,qr=null;var ee=q.sibling;if(ee!==null)_t=ee;else{var he=q.return;he!==null?(_t=he,Gf(he)):_t=null}break t}}$t=0,qr=null,ou(s,a,b,5);break;case 6:$t=0,qr=null,ou(s,a,b,6);break;case 8:by(),vn=6;break e;default:throw Error(r(462))}}XD();break}catch(be){JS(s,be)}while(!0);return qs=Ho=null,H.H=f,H.A=v,Ht=u,_t!==null?0:(nn=null,Mt=0,ff(),vn)}function XD(){for(;_t!==null&&!Ce();)nT(_t)}function nT(s){var a=RS(s.alternate,s,Js);s.memoizedProps=s.pendingProps,a===null?Gf(s):_t=a}function rT(s){var a=s,u=a.alternate;switch(a.tag){case 15:case 0:a=SS(u,a,a.pendingProps,a.type,void 0,Mt);break;case 11:a=SS(u,a,a.pendingProps,a.type.render,a.ref,Mt);break;case 5:kv(a);default:MS(u,a),a=_t=i_(a,Js),a=RS(u,a,Js)}s.memoizedProps=s.pendingProps,a===null?Gf(s):_t=a}function ou(s,a,u,f){qs=Ho=null,kv(a),Zl=null,Hc=0;var v=a.return;try{if(UD(s,v,a,u,Mt)){vn=1,Lf(s,di(u,s.current)),_t=null;return}}catch(b){if(v!==null)throw _t=v,b;vn=1,Lf(s,di(u,s.current)),_t=null;return}a.flags&32768?(Dt||f===1?s=!0:nu||(Mt&536870912)!==0?s=!1:(Oa=s=!0,(f===2||f===9||f===3||f===6)&&(f=pi.current,f!==null&&f.tag===13&&(f.flags|=16384))),iT(a,s)):Gf(a)}function Gf(s){var a=s;do{if((a.flags&32768)!==0){iT(a,Oa);return}s=a.return;var u=BD(a.alternate,a,Js);if(u!==null){_t=u;return}if(a=a.sibling,a!==null){_t=a;return}_t=a=s}while(a!==null);vn===0&&(vn=5)}function iT(s,a){do{var u=FD(s.alternate,s);if(u!==null){u.flags&=32767,_t=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(s=s.sibling,s!==null)){_t=s;return}_t=s=u}while(s!==null);vn=6,_t=null}function sT(s,a,u,f,v,b,L,q,ee){s.cancelPendingCommit=null;do Wf();while(ir!==0);if((Ht&6)!==0)throw Error(r(327));if(a!==null){if(a===s.current)throw Error(r(177));if(b=a.lanes|a.childLanes,b|=dv,ba(s,u,b,L,q,ee),s===nn&&(_t=nn=null,Mt=0),iu=a,La=s,su=u,gy=b,vy=v,YS=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,e4(Nt,function(){return cT(),null})):(s.callbackNode=null,s.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=H.T,H.T=null,v=S.p,S.p=2,L=Ht,Ht|=4;try{HD(s,a,u)}finally{Ht=L,S.p=v,H.T=f}}ir=1,aT(),oT(),lT()}}function aT(){if(ir===1){ir=0;var s=La,a=iu,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=H.T,H.T=null;var f=S.p;S.p=2;var v=Ht;Ht|=4;try{FS(a,s);var b=Py,L=K1(s.containerInfo),q=b.focusedElem,ee=b.selectionRange;if(L!==q&&q&&q.ownerDocument&&W1(q.ownerDocument.documentElement,q)){if(ee!==null&&av(q)){var he=ee.start,be=ee.end;if(be===void 0&&(be=he),"selectionStart"in q)q.selectionStart=he,q.selectionEnd=Math.min(be,q.value.length);else{var we=q.ownerDocument||document,fe=we&&we.defaultView||window;if(fe.getSelection){var me=fe.getSelection(),at=q.textContent.length,Ze=Math.min(ee.start,at),Kt=ee.end===void 0?Ze:Math.min(ee.end,at);!me.extend&&Ze>Kt&&(L=Kt,Kt=Ze,Ze=L);var ie=G1(q,Ze),re=G1(q,Kt);if(ie&&re&&(me.rangeCount!==1||me.anchorNode!==ie.node||me.anchorOffset!==ie.offset||me.focusNode!==re.node||me.focusOffset!==re.offset)){var ue=we.createRange();ue.setStart(ie.node,ie.offset),me.removeAllRanges(),Ze>Kt?(me.addRange(ue),me.extend(re.node,re.offset)):(ue.setEnd(re.node,re.offset),me.addRange(ue))}}}}for(we=[],me=q;me=me.parentNode;)me.nodeType===1&&we.push({element:me,left:me.scrollLeft,top:me.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<we.length;q++){var xe=we[q];xe.element.scrollLeft=xe.left,xe.element.scrollTop=xe.top}}sm=!!jy,Py=jy=null}finally{Ht=v,S.p=f,H.T=u}}s.current=a,ir=2}}function oT(){if(ir===2){ir=0;var s=La,a=iu,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=H.T,H.T=null;var f=S.p;S.p=2;var v=Ht;Ht|=4;try{VS(s,a.alternate,a)}finally{Ht=v,S.p=f,H.T=u}}ir=3}}function lT(){if(ir===4||ir===3){ir=0,$e();var s=La,a=iu,u=su,f=YS;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?ir=5:(ir=0,iu=La=null,uT(s,s.pendingLanes));var v=s.pendingLanes;if(v===0&&(ka=null),xa(u),a=a.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(pt,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=H.T,v=S.p,S.p=2,H.T=null;try{for(var b=s.onRecoverableError,L=0;L<f.length;L++){var q=f[L];b(q.value,{componentStack:q.stack})}}finally{H.T=a,S.p=v}}(su&3)!==0&&Wf(),ls(s),v=s.pendingLanes,(u&4194090)!==0&&(v&42)!==0?s===yy?Zc++:(Zc=0,yy=s):Zc=0,Jc(0)}}function uT(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,jc(a)))}function Wf(s){return aT(),oT(),lT(),cT()}function cT(){if(ir!==5)return!1;var s=La,a=gy;gy=0;var u=xa(su),f=H.T,v=S.p;try{S.p=32>u?32:u,H.T=null,u=vy,vy=null;var b=La,L=su;if(ir=0,iu=La=null,su=0,(Ht&6)!==0)throw Error(r(331));var q=Ht;if(Ht|=4,WS(b.current),$S(b,b.current,L,u),Ht=q,Jc(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(pt,b)}catch{}return!0}finally{S.p=v,H.T=f,uT(s,a)}}function dT(s,a,u){a=di(u,a),a=Xv(s.stateNode,a,2),s=Ca(s,a,2),s!==null&&(Ci(s,2),ls(s))}function Qt(s,a,u){if(s.tag===3)dT(s,s,u);else for(;a!==null;){if(a.tag===3){dT(a,s,u);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(ka===null||!ka.has(f))){s=di(u,s),u=pS(2),f=Ca(a,u,2),f!==null&&(gS(u,f,a,s),Ci(f,2),ls(f));break}}a=a.return}}function _y(s,a,u){var f=s.pingCache;if(f===null){f=s.pingCache=new GD;var v=new Set;f.set(a,v)}else v=f.get(a),v===void 0&&(v=new Set,f.set(a,v));v.has(u)||(hy=!0,v.add(u),s=QD.bind(null,s,a,u),a.then(s,s))}function QD(s,a,u){var f=s.pingCache;f!==null&&f.delete(a),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,nn===s&&(Mt&u)===u&&(vn===4||vn===3&&(Mt&62914560)===Mt&&300>Ie()-py?(Ht&2)===0&&au(s,0):fy|=u,ru===Mt&&(ru=0)),ls(s)}function hT(s,a){a===0&&(a=To()),s=Fl(s,a),s!==null&&(Ci(s,a),ls(s))}function ZD(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),hT(s,u)}function JD(s,a){var u=0;switch(s.tag){case 13:var f=s.stateNode,v=s.memoizedState;v!==null&&(u=v.retryLane);break;case 19:f=s.stateNode;break;case 22:f=s.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(a),hT(s,u)}function e4(s,a){return Qe(s,a)}var Kf=null,lu=null,Sy=!1,Yf=!1,Ty=!1,Xo=0;function ls(s){s!==lu&&s.next===null&&(lu===null?Kf=lu=s:lu=lu.next=s),Yf=!0,Sy||(Sy=!0,n4())}function Jc(s,a){if(!Ty&&Yf){Ty=!0;do for(var u=!1,f=Kf;f!==null;){if(s!==0){var v=f.pendingLanes;if(v===0)var b=0;else{var L=f.suspendedLanes,q=f.pingedLanes;b=(1<<31-tn(42|s)+1)-1,b&=v&~(L&~q),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,gT(f,b))}else b=Mt,b=js(f,f===nn?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||ri(f,b)||(u=!0,gT(f,b));f=f.next}while(u);Ty=!1}}function t4(){fT()}function fT(){Yf=Sy=!1;var s=0;Xo!==0&&(c4()&&(s=Xo),Xo=0);for(var a=Ie(),u=null,f=Kf;f!==null;){var v=f.next,b=mT(f,a);b===0?(f.next=null,u===null?Kf=v:u.next=v,v===null&&(lu=u)):(u=f,(s!==0||(b&3)!==0)&&(Yf=!0)),f=v}Jc(s)}function mT(s,a){for(var u=s.suspendedLanes,f=s.pingedLanes,v=s.expirationTimes,b=s.pendingLanes&-62914561;0<b;){var L=31-tn(b),q=1<<L,ee=v[L];ee===-1?((q&u)===0||(q&f)!==0)&&(v[L]=ya(q,a)):ee<=a&&(s.expiredLanes|=q),b&=~q}if(a=nn,u=Mt,u=js(s,s===a?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f=s.callbackNode,u===0||s===a&&($t===2||$t===9)||s.cancelPendingCommit!==null)return f!==null&&f!==null&&pe(f),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||ri(s,u)){if(a=u&-u,a===s.callbackPriority)return a;switch(f!==null&&pe(f),xa(u)){case 2:case 8:u=lt;break;case 32:u=Nt;break;case 268435456:u=pn;break;default:u=Nt}return f=pT.bind(null,s),u=Qe(u,f),s.callbackPriority=a,s.callbackNode=u,a}return f!==null&&f!==null&&pe(f),s.callbackPriority=2,s.callbackNode=null,2}function pT(s,a){if(ir!==0&&ir!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(Wf()&&s.callbackNode!==u)return null;var f=Mt;return f=js(s,s===nn?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f===0?null:(QS(s,f,a),mT(s,Ie()),s.callbackNode!=null&&s.callbackNode===u?pT.bind(null,s):null)}function gT(s,a){if(Wf())return null;QS(s,a,!0)}function n4(){h4(function(){(Ht&6)!==0?Qe(mt,t4):fT()})}function Ey(){return Xo===0&&(Xo=Ps()),Xo}function vT(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Il(""+s)}function yT(s,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,s.id&&u.setAttribute("form",s.id),a.parentNode.insertBefore(u,a),s=new FormData(s),u.parentNode.removeChild(u),s}function r4(s,a,u,f,v){if(a==="submit"&&u&&u.stateNode===v){var b=vT((v[Te]||null).action),L=f.submitter;L&&(a=(a=L[Te]||null)?vT(a.formAction):L.getAttribute("formAction"),a!==null&&(b=a,L=null));var q=new Ml("action","action",null,f,v);s.push({event:q,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Xo!==0){var ee=L?yT(v,L):new FormData(v);qv(u,{pending:!0,data:ee,method:v.method,action:b},null,ee)}}else typeof b=="function"&&(q.preventDefault(),ee=L?yT(v,L):new FormData(v),qv(u,{pending:!0,data:ee,method:v.method,action:b},b,ee))},currentTarget:v}]})}}for(var Ay=0;Ay<cv.length;Ay++){var Cy=cv[Ay],i4=Cy.toLowerCase(),s4=Cy[0].toUpperCase()+Cy.slice(1);Ri(i4,"on"+s4)}Ri(Q1,"onAnimationEnd"),Ri(Z1,"onAnimationIteration"),Ri(J1,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(_D,"onTransitionRun"),Ri(SD,"onTransitionStart"),Ri(TD,"onTransitionCancel"),Ri(e_,"onTransitionEnd"),xr("onMouseEnter",["mouseout","mouseover"]),xr("onMouseLeave",["mouseout","mouseover"]),xr("onPointerEnter",["pointerout","pointerover"]),xr("onPointerLeave",["pointerout","pointerover"]),Ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ed="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ed));function bT(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],v=f.event;f=f.listeners;e:{var b=void 0;if(a)for(var L=f.length-1;0<=L;L--){var q=f[L],ee=q.instance,he=q.currentTarget;if(q=q.listener,ee!==b&&v.isPropagationStopped())break e;b=q,v.currentTarget=he;try{b(v)}catch(be){kf(be)}v.currentTarget=null,b=ee}else for(L=0;L<f.length;L++){if(q=f[L],ee=q.instance,he=q.currentTarget,q=q.listener,ee!==b&&v.isPropagationStopped())break e;b=q,v.currentTarget=he;try{b(v)}catch(be){kf(be)}v.currentTarget=null,b=ee}}}}function St(s,a){var u=a[Ge];u===void 0&&(u=a[Ge]=new Set);var f=s+"__bubble";u.has(f)||(xT(a,s,2,!1),u.add(f))}function Ny(s,a,u){var f=0;a&&(f|=4),xT(u,s,f,a)}var Xf="_reactListening"+Math.random().toString(36).slice(2);function Ry(s){if(!s[Xf]){s[Xf]=!0,yt.forEach(function(u){u!=="selectionchange"&&(a4.has(u)||Ny(u,!1,s),Ny(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Xf]||(a[Xf]=!0,Ny("selectionchange",!1,a))}}function xT(s,a,u,f){switch($T(a)){case 2:var v=P4;break;case 8:v=O4;break;default:v=Hy}u=v.bind(null,a,u,s),v=void 0,!ui||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),f?v!==void 0?s.addEventListener(a,u,{capture:!0,passive:v}):s.addEventListener(a,u,!0):v!==void 0?s.addEventListener(a,u,{passive:v}):s.addEventListener(a,u,!1)}function Iy(s,a,u,f,v){var b=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var L=f.tag;if(L===3||L===4){var q=f.stateNode.containerInfo;if(q===v)break;if(L===4)for(L=f.return;L!==null;){var ee=L.tag;if((ee===3||ee===4)&&L.stateNode.containerInfo===v)return;L=L.return}for(;q!==null;){if(L=st(q),L===null)return;if(ee=L.tag,ee===5||ee===6||ee===26||ee===27){f=b=L;continue e}q=q.parentNode}}f=f.return}Qh(function(){var he=b,be=li(u),we=[];e:{var fe=t_.get(s);if(fe!==void 0){var me=Ml,at=s;switch(s){case"keypress":if(Ji(u)===0)break e;case"keydown":case"keyup":me=Ll;break;case"focusin":at="focus",me=Ol;break;case"focusout":at="blur",me=Ol;break;case"beforeblur":case"afterblur":me=Ol;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=ci;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=nv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=af;break;case Q1:case Z1:case J1:me=Dl;break;case e_:me=lf;break;case"scroll":case"scrollend":me=Zh;break;case"wheel":me=Vl;break;case"copy":case"cut":case"paste":me=kl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=Tc;break;case"toggle":case"beforetoggle":me=cf}var Ze=(a&4)!==0,Kt=!Ze&&(s==="scroll"||s==="scrollend"),ie=Ze?fe!==null?fe+"Capture":null:fe;Ze=[];for(var re=he,ue;re!==null;){var xe=re;if(ue=xe.stateNode,xe=xe.tag,xe!==5&&xe!==26&&xe!==27||ue===null||ie===null||(xe=Ro(re,ie),xe!=null&&Ze.push(td(re,xe,ue))),Kt)break;re=re.return}0<Ze.length&&(fe=new me(fe,at,null,u,be),we.push({event:fe,listeners:Ze}))}}if((a&7)===0){e:{if(fe=s==="mouseover"||s==="pointerover",me=s==="mouseout"||s==="pointerout",fe&&u!==ks&&(at=u.relatedTarget||u.fromElement)&&(st(at)||at[Oe]))break e;if((me||fe)&&(fe=be.window===be?be:(fe=be.ownerDocument)?fe.defaultView||fe.parentWindow:window,me?(at=u.relatedTarget||u.toElement,me=he,at=at?st(at):null,at!==null&&(Kt=o(at),Ze=at.tag,at!==Kt||Ze!==5&&Ze!==27&&Ze!==6)&&(at=null)):(me=null,at=he),me!==at)){if(Ze=ci,xe="onMouseLeave",ie="onMouseEnter",re="mouse",(s==="pointerout"||s==="pointerover")&&(Ze=Tc,xe="onPointerLeave",ie="onPointerEnter",re="pointer"),Kt=me==null?fe:Ut(me),ue=at==null?fe:Ut(at),fe=new Ze(xe,re+"leave",me,u,be),fe.target=Kt,fe.relatedTarget=ue,xe=null,st(be)===he&&(Ze=new Ze(ie,re+"enter",at,u,be),Ze.target=ue,Ze.relatedTarget=Kt,xe=Ze),Kt=xe,me&&at)t:{for(Ze=me,ie=at,re=0,ue=Ze;ue;ue=uu(ue))re++;for(ue=0,xe=ie;xe;xe=uu(xe))ue++;for(;0<re-ue;)Ze=uu(Ze),re--;for(;0<ue-re;)ie=uu(ie),ue--;for(;re--;){if(Ze===ie||ie!==null&&Ze===ie.alternate)break t;Ze=uu(Ze),ie=uu(ie)}Ze=null}else Ze=null;me!==null&&wT(we,fe,me,Ze,!1),at!==null&&Kt!==null&&wT(we,Kt,at,Ze,!0)}}e:{if(fe=he?Ut(he):window,me=fe.nodeName&&fe.nodeName.toLowerCase(),me==="select"||me==="input"&&fe.type==="file")var ke=z1;else if(Un(fe))if(B1)ke=bD;else{ke=vD;var bt=gD}else me=fe.nodeName,!me||me.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?he&&vc(he.elementType)&&(ke=z1):ke=yD;if(ke&&(ke=ke(s,he))){Bs(we,ke,u,be);break e}bt&&bt(s,fe,he),s==="focusout"&&he&&fe.type==="number"&&he.memoizedProps.value!=null&&_a(fe,"number",fe.value)}switch(bt=he?Ut(he):window,s){case"focusin":(Un(bt)||bt.contentEditable==="true")&&(Ul=bt,ov=he,Cc=null);break;case"focusout":Cc=ov=Ul=null;break;case"mousedown":lv=!0;break;case"contextmenu":case"mouseup":case"dragend":lv=!1,Y1(we,u,be);break;case"selectionchange":if(wD)break;case"keydown":case"keyup":Y1(we,u,be)}var Fe;if(ns)e:{switch(s){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else Rt?ge(s,u)&&(tt="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(tt="onCompositionStart");tt&&(k&&u.locale!=="ko"&&(Rt||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&Rt&&(Fe=bc()):(Zi=be,Sa="value"in Zi?Zi.value:Zi.textContent,Rt=!0)),bt=Qf(he,tt),0<bt.length&&(tt=new _c(tt,s,null,u,be),we.push({event:tt,listeners:bt}),Fe?tt.data=Fe:(Fe=Ae(u),Fe!==null&&(tt.data=Fe)))),(Fe=_?Vn(s,u):It(s,u))&&(tt=Qf(he,"onBeforeInput"),0<tt.length&&(bt=new _c("onBeforeInput","beforeinput",null,u,be),we.push({event:bt,listeners:tt}),bt.data=Fe)),r4(we,s,he,u,be)}bT(we,a)})}function td(s,a,u){return{instance:s,listener:a,currentTarget:u}}function Qf(s,a){for(var u=a+"Capture",f=[];s!==null;){var v=s,b=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||b===null||(v=Ro(s,u),v!=null&&f.unshift(td(s,v,b)),v=Ro(s,a),v!=null&&f.push(td(s,v,b))),s.tag===3)return f;s=s.return}return[]}function uu(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function wT(s,a,u,f,v){for(var b=a._reactName,L=[];u!==null&&u!==f;){var q=u,ee=q.alternate,he=q.stateNode;if(q=q.tag,ee!==null&&ee===f)break;q!==5&&q!==26&&q!==27||he===null||(ee=he,v?(he=Ro(u,b),he!=null&&L.unshift(td(u,he,ee))):v||(he=Ro(u,b),he!=null&&L.push(td(u,he,ee)))),u=u.return}L.length!==0&&s.push({event:a,listeners:L})}var o4=/\r\n?/g,l4=/\u0000|\uFFFD/g;function _T(s){return(typeof s=="string"?s:""+s).replace(o4,`
`).replace(l4,"")}function ST(s,a){return a=_T(a),_T(s)===a}function Zf(){}function Wt(s,a,u,f,v,b){switch(u){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||oi(s,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&oi(s,""+f);break;case"className":wr(s,"class",f);break;case"tabIndex":wr(s,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":wr(s,u,f);break;case"style":gc(s,f,b);break;case"data":if(a!=="object"){wr(s,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||u!=="href")){s.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(u);break}f=Il(""+f),s.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(a!=="input"&&Wt(s,a,"name",v.name,v,null),Wt(s,a,"formEncType",v.formEncType,v,null),Wt(s,a,"formMethod",v.formMethod,v,null),Wt(s,a,"formTarget",v.formTarget,v,null)):(Wt(s,a,"encType",v.encType,v,null),Wt(s,a,"method",v.method,v,null),Wt(s,a,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(u);break}f=Il(""+f),s.setAttribute(u,f);break;case"onClick":f!=null&&(s.onclick=Zf);break;case"onScroll":f!=null&&St("scroll",s);break;case"onScrollEnd":f!=null&&St("scrollend",s);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"multiple":s.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":s.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){s.removeAttribute("xlink:href");break}u=Il(""+f),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,""+f):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":f===!0?s.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,f):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?s.setAttribute(u,f):s.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?s.removeAttribute(u):s.setAttribute(u,f);break;case"popover":St("beforetoggle",s),St("toggle",s),cr(s,"popover",f);break;case"xlinkActuate":ut(s,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":ut(s,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":ut(s,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":ut(s,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":ut(s,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":ut(s,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":ut(s,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":ut(s,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":ut(s,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":cr(s,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=ev.get(u)||u,cr(s,u,f))}}function My(s,a,u,f,v,b){switch(u){case"style":gc(s,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"children":typeof f=="string"?oi(s,f):(typeof f=="number"||typeof f=="bigint")&&oi(s,""+f);break;case"onScroll":f!=null&&St("scroll",s);break;case"onScrollEnd":f!=null&&St("scrollend",s);break;case"onClick":f!=null&&(s.onclick=Zf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!si.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),a=u.slice(2,v?u.length-7:void 0),b=s[Te]||null,b=b!=null?b[u]:null,typeof b=="function"&&s.removeEventListener(a,b,v),typeof f=="function")){typeof b!="function"&&b!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(a,f,v);break e}u in s?s[u]=f:f===!0?s.setAttribute(u,""):cr(s,u,f)}}}function sr(s,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":St("error",s),St("load",s);var f=!1,v=!1,b;for(b in u)if(u.hasOwnProperty(b)){var L=u[b];if(L!=null)switch(b){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Wt(s,a,b,L,u,null)}}v&&Wt(s,a,"srcSet",u.srcSet,u,null),f&&Wt(s,a,"src",u.src,u,null);return;case"input":St("invalid",s);var q=b=L=v=null,ee=null,he=null;for(f in u)if(u.hasOwnProperty(f)){var be=u[f];if(be!=null)switch(f){case"name":v=be;break;case"type":L=be;break;case"checked":ee=be;break;case"defaultChecked":he=be;break;case"value":b=be;break;case"defaultValue":q=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,a));break;default:Wt(s,a,f,be,u,null)}}Ao(s,b,q,ee,he,L,v,!1),Rl(s);return;case"select":St("invalid",s),f=L=b=null;for(v in u)if(u.hasOwnProperty(v)&&(q=u[v],q!=null))switch(v){case"value":b=q;break;case"defaultValue":L=q;break;case"multiple":f=q;default:Wt(s,a,v,q,u,null)}a=b,u=L,s.multiple=!!f,a!=null?Ds(s,!!f,a,!1):u!=null&&Ds(s,!!f,u,!0);return;case"textarea":St("invalid",s),b=v=f=null;for(L in u)if(u.hasOwnProperty(L)&&(q=u[L],q!=null))switch(L){case"value":f=q;break;case"defaultValue":v=q;break;case"children":b=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(91));break;default:Wt(s,a,L,q,u,null)}Co(s,f,v,b),Rl(s);return;case"option":for(ee in u)if(u.hasOwnProperty(ee)&&(f=u[ee],f!=null))switch(ee){case"selected":s.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Wt(s,a,ee,f,u,null)}return;case"dialog":St("beforetoggle",s),St("toggle",s),St("cancel",s),St("close",s);break;case"iframe":case"object":St("load",s);break;case"video":case"audio":for(f=0;f<ed.length;f++)St(ed[f],s);break;case"image":St("error",s),St("load",s);break;case"details":St("toggle",s);break;case"embed":case"source":case"link":St("error",s),St("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(he in u)if(u.hasOwnProperty(he)&&(f=u[he],f!=null))switch(he){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Wt(s,a,he,f,u,null)}return;default:if(vc(a)){for(be in u)u.hasOwnProperty(be)&&(f=u[be],f!==void 0&&My(s,a,be,f,u,void 0));return}}for(q in u)u.hasOwnProperty(q)&&(f=u[q],f!=null&&Wt(s,a,q,f,u,null))}function u4(s,a,u,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,b=null,L=null,q=null,ee=null,he=null,be=null;for(me in u){var we=u[me];if(u.hasOwnProperty(me)&&we!=null)switch(me){case"checked":break;case"value":break;case"defaultValue":ee=we;default:f.hasOwnProperty(me)||Wt(s,a,me,null,f,we)}}for(var fe in f){var me=f[fe];if(we=u[fe],f.hasOwnProperty(fe)&&(me!=null||we!=null))switch(fe){case"type":b=me;break;case"name":v=me;break;case"checked":he=me;break;case"defaultChecked":be=me;break;case"value":L=me;break;case"defaultValue":q=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,a));break;default:me!==we&&Wt(s,a,fe,me,f,we)}}zr(s,L,q,ee,he,be,b,v);return;case"select":me=L=q=fe=null;for(b in u)if(ee=u[b],u.hasOwnProperty(b)&&ee!=null)switch(b){case"value":break;case"multiple":me=ee;default:f.hasOwnProperty(b)||Wt(s,a,b,null,f,ee)}for(v in f)if(b=f[v],ee=u[v],f.hasOwnProperty(v)&&(b!=null||ee!=null))switch(v){case"value":fe=b;break;case"defaultValue":q=b;break;case"multiple":L=b;default:b!==ee&&Wt(s,a,v,b,f,ee)}a=q,u=L,f=me,fe!=null?Ds(s,!!u,fe,!1):!!f!=!!u&&(a!=null?Ds(s,!!u,a,!0):Ds(s,!!u,u?[]:"",!1));return;case"textarea":me=fe=null;for(q in u)if(v=u[q],u.hasOwnProperty(q)&&v!=null&&!f.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:Wt(s,a,q,null,f,v)}for(L in f)if(v=f[L],b=u[L],f.hasOwnProperty(L)&&(v!=null||b!=null))switch(L){case"value":fe=v;break;case"defaultValue":me=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==b&&Wt(s,a,L,v,f,b)}qt(s,fe,me);return;case"option":for(var at in u)if(fe=u[at],u.hasOwnProperty(at)&&fe!=null&&!f.hasOwnProperty(at))switch(at){case"selected":s.selected=!1;break;default:Wt(s,a,at,null,f,fe)}for(ee in f)if(fe=f[ee],me=u[ee],f.hasOwnProperty(ee)&&fe!==me&&(fe!=null||me!=null))switch(ee){case"selected":s.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:Wt(s,a,ee,fe,f,me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in u)fe=u[Ze],u.hasOwnProperty(Ze)&&fe!=null&&!f.hasOwnProperty(Ze)&&Wt(s,a,Ze,null,f,fe);for(he in f)if(fe=f[he],me=u[he],f.hasOwnProperty(he)&&fe!==me&&(fe!=null||me!=null))switch(he){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,a));break;default:Wt(s,a,he,fe,f,me)}return;default:if(vc(a)){for(var Kt in u)fe=u[Kt],u.hasOwnProperty(Kt)&&fe!==void 0&&!f.hasOwnProperty(Kt)&&My(s,a,Kt,void 0,f,fe);for(be in f)fe=f[be],me=u[be],!f.hasOwnProperty(be)||fe===me||fe===void 0&&me===void 0||My(s,a,be,fe,f,me);return}}for(var ie in u)fe=u[ie],u.hasOwnProperty(ie)&&fe!=null&&!f.hasOwnProperty(ie)&&Wt(s,a,ie,null,f,fe);for(we in f)fe=f[we],me=u[we],!f.hasOwnProperty(we)||fe===me||fe==null&&me==null||Wt(s,a,we,fe,f,me)}var jy=null,Py=null;function Jf(s){return s.nodeType===9?s:s.ownerDocument}function TT(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ET(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Oy(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Dy=null;function c4(){var s=window.event;return s&&s.type==="popstate"?s===Dy?!1:(Dy=s,!0):(Dy=null,!1)}var AT=typeof setTimeout=="function"?setTimeout:void 0,d4=typeof clearTimeout=="function"?clearTimeout:void 0,CT=typeof Promise=="function"?Promise:void 0,h4=typeof queueMicrotask=="function"?queueMicrotask:typeof CT<"u"?function(s){return CT.resolve(null).then(s).catch(f4)}:AT;function f4(s){setTimeout(function(){throw s})}function Ua(s){return s==="head"}function NT(s,a){var u=a,f=0,v=0;do{var b=u.nextSibling;if(s.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"){if(0<f&&8>f){u=f;var L=s.ownerDocument;if(u&1&&nd(L.documentElement),u&2&&nd(L.body),u&4)for(u=L.head,nd(u),L=u.firstChild;L;){var q=L.nextSibling,ee=L.nodeName;L[et]||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&L.rel.toLowerCase()==="stylesheet"||u.removeChild(L),L=q}}if(v===0){s.removeChild(b),cd(a);return}v--}else u==="$"||u==="$?"||u==="$!"?v++:f=u.charCodeAt(0)-48;else f=0;u=b}while(u);cd(a)}function ky(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":ky(u),We(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function m4(s,a,u,f){for(;s.nodeType===1;){var v=u;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(f){if(!s[et])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(b=s.getAttribute("rel"),b==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(b!==v.rel||s.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||s.getAttribute("title")!==(v.title==null?null:v.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(b=s.getAttribute("src"),(b!==(v.src==null?null:v.src)||s.getAttribute("type")!==(v.type==null?null:v.type)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&b&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var b=v.name==null?null:""+v.name;if(v.type==="hidden"&&s.getAttribute("name")===b)return s}else return s;if(s=Mi(s.nextSibling),s===null)break}return null}function p4(s,a,u){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=Mi(s.nextSibling),s===null))return null;return s}function Ly(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function g4(s,a){var u=s.ownerDocument;if(s.data!=="$?"||u.readyState==="complete")a();else{var f=function(){a(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),s._reactRetry=f}}function Mi(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var Vy=null;function RT(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}function IT(s,a,u){switch(a=Jf(u),s){case"html":if(s=a.documentElement,!s)throw Error(r(452));return s;case"head":if(s=a.head,!s)throw Error(r(453));return s;case"body":if(s=a.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function nd(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);We(s)}var vi=new Map,MT=new Set;function em(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ea=S.d;S.d={f:v4,r:y4,D:b4,C:x4,L:w4,m:_4,X:T4,S:S4,M:E4};function v4(){var s=ea.f(),a=qf();return s||a}function y4(s){var a=wt(s);a!==null&&a.tag===5&&a.type==="form"?Q_(a):ea.r(s)}var cu=typeof document>"u"?null:document;function jT(s,a,u){var f=cu;if(f&&typeof a=="string"&&a){var v=Rn(a);v='link[rel="'+s+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),MT.has(v)||(MT.add(v),s={rel:s,crossOrigin:u,href:a},f.querySelector(v)===null&&(a=f.createElement("link"),sr(a,"link",s),Ct(a),f.head.appendChild(a)))}}function b4(s){ea.D(s),jT("dns-prefetch",s,null)}function x4(s,a){ea.C(s,a),jT("preconnect",s,a)}function w4(s,a,u){ea.L(s,a,u);var f=cu;if(f&&s&&a){var v='link[rel="preload"][as="'+Rn(a)+'"]';a==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Rn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Rn(u.imageSizes)+'"]')):v+='[href="'+Rn(s)+'"]';var b=v;switch(a){case"style":b=du(s);break;case"script":b=hu(s)}vi.has(b)||(s=p({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:s,as:a},u),vi.set(b,s),f.querySelector(v)!==null||a==="style"&&f.querySelector(rd(b))||a==="script"&&f.querySelector(id(b))||(a=f.createElement("link"),sr(a,"link",s),Ct(a),f.head.appendChild(a)))}}function _4(s,a){ea.m(s,a);var u=cu;if(u&&s){var f=a&&typeof a.as=="string"?a.as:"script",v='link[rel="modulepreload"][as="'+Rn(f)+'"][href="'+Rn(s)+'"]',b=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=hu(s)}if(!vi.has(b)&&(s=p({rel:"modulepreload",href:s},a),vi.set(b,s),u.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(id(b)))return}f=u.createElement("link"),sr(f,"link",s),Ct(f),u.head.appendChild(f)}}}function S4(s,a,u){ea.S(s,a,u);var f=cu;if(f&&s){var v=Pt(f).hoistableStyles,b=du(s);a=a||"default";var L=v.get(b);if(!L){var q={loading:0,preload:null};if(L=f.querySelector(rd(b)))q.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":a},u),(u=vi.get(b))&&Uy(s,u);var ee=L=f.createElement("link");Ct(ee),sr(ee,"link",s),ee._p=new Promise(function(he,be){ee.onload=he,ee.onerror=be}),ee.addEventListener("load",function(){q.loading|=1}),ee.addEventListener("error",function(){q.loading|=2}),q.loading|=4,tm(L,a,f)}L={type:"stylesheet",instance:L,count:1,state:q},v.set(b,L)}}}function T4(s,a){ea.X(s,a);var u=cu;if(u&&s){var f=Pt(u).hoistableScripts,v=hu(s),b=f.get(v);b||(b=u.querySelector(id(v)),b||(s=p({src:s,async:!0},a),(a=vi.get(v))&&zy(s,a),b=u.createElement("script"),Ct(b),sr(b,"link",s),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(v,b))}}function E4(s,a){ea.M(s,a);var u=cu;if(u&&s){var f=Pt(u).hoistableScripts,v=hu(s),b=f.get(v);b||(b=u.querySelector(id(v)),b||(s=p({src:s,async:!0,type:"module"},a),(a=vi.get(v))&&zy(s,a),b=u.createElement("script"),Ct(b),sr(b,"link",s),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(v,b))}}function PT(s,a,u,f){var v=(v=le.current)?em(v):null;if(!v)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=du(u.href),u=Pt(v).hoistableStyles,f=u.get(a),f||(f={type:"style",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=du(u.href);var b=Pt(v).hoistableStyles,L=b.get(s);if(L||(v=v.ownerDocument||v,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(s,L),(b=v.querySelector(rd(s)))&&!b._p&&(L.instance=b,L.state.loading=5),vi.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},vi.set(s,u),b||A4(v,s,u,L.state))),a&&f===null)throw Error(r(528,""));return L}if(a&&f!==null)throw Error(r(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=hu(u),u=Pt(v).hoistableScripts,f=u.get(a),f||(f={type:"script",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function du(s){return'href="'+Rn(s)+'"'}function rd(s){return'link[rel="stylesheet"]['+s+"]"}function OT(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function A4(s,a,u,f){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=s.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),sr(a,"link",u),Ct(a),s.head.appendChild(a))}function hu(s){return'[src="'+Rn(s)+'"]'}function id(s){return"script[async]"+s}function DT(s,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var f=s.querySelector('style[data-href~="'+Rn(u.href)+'"]');if(f)return a.instance=f,Ct(f),f;var v=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(s.ownerDocument||s).createElement("style"),Ct(f),sr(f,"style",v),tm(f,u.precedence,s),a.instance=f;case"stylesheet":v=du(u.href);var b=s.querySelector(rd(v));if(b)return a.state.loading|=4,a.instance=b,Ct(b),b;f=OT(u),(v=vi.get(v))&&Uy(f,v),b=(s.ownerDocument||s).createElement("link"),Ct(b);var L=b;return L._p=new Promise(function(q,ee){L.onload=q,L.onerror=ee}),sr(b,"link",f),a.state.loading|=4,tm(b,u.precedence,s),a.instance=b;case"script":return b=hu(u.src),(v=s.querySelector(id(b)))?(a.instance=v,Ct(v),v):(f=u,(v=vi.get(b))&&(f=p({},u),zy(f,v)),s=s.ownerDocument||s,v=s.createElement("script"),Ct(v),sr(v,"link",f),s.head.appendChild(v),a.instance=v);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,tm(f,u.precedence,s));return a.instance}function tm(s,a,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,b=v,L=0;L<f.length;L++){var q=f[L];if(q.dataset.precedence===a)b=q;else if(b!==v)break}b?b.parentNode.insertBefore(s,b.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(s,a.firstChild))}function Uy(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function zy(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var nm=null;function kT(s,a,u){if(nm===null){var f=new Map,v=nm=new Map;v.set(u,f)}else v=nm,f=v.get(u),f||(f=new Map,v.set(u,f));if(f.has(s))return f;for(f.set(s,null),u=u.getElementsByTagName(s),v=0;v<u.length;v++){var b=u[v];if(!(b[et]||b[_e]||s==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var L=b.getAttribute(a)||"";L=s+L;var q=f.get(L);q?q.push(b):f.set(L,[b])}}return f}function LT(s,a,u){s=s.ownerDocument||s,s.head.insertBefore(u,a==="title"?s.querySelector("head > title"):null)}function C4(s,a,u){if(u===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function VT(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var sd=null;function N4(){}function R4(s,a,u){if(sd===null)throw Error(r(475));var f=sd;if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var v=du(u.href),b=s.querySelector(rd(v));if(b){s=b._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(f.count++,f=rm.bind(f),s.then(f,f)),a.state.loading|=4,a.instance=b,Ct(b);return}b=s.ownerDocument||s,u=OT(u),(v=vi.get(v))&&Uy(u,v),b=b.createElement("link"),Ct(b);var L=b;L._p=new Promise(function(q,ee){L.onload=q,L.onerror=ee}),sr(b,"link",u),a.instance=b}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(f.count++,a=rm.bind(f),s.addEventListener("load",a),s.addEventListener("error",a))}}function I4(){if(sd===null)throw Error(r(475));var s=sd;return s.stylesheets&&s.count===0&&By(s,s.stylesheets),0<s.count?function(a){var u=setTimeout(function(){if(s.stylesheets&&By(s,s.stylesheets),s.unsuspend){var f=s.unsuspend;s.unsuspend=null,f()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(u)}}:null}function rm(){if(this.count--,this.count===0){if(this.stylesheets)By(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var im=null;function By(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,im=new Map,a.forEach(M4,s),im=null,rm.call(s))}function M4(s,a){if(!(a.state.loading&4)){var u=im.get(s);if(u)var f=u.get(null);else{u=new Map,im.set(s,u);for(var v=s.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<v.length;b++){var L=v[b];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(u.set(L.dataset.precedence,L),f=L)}f&&u.set(null,f)}v=a.instance,L=v.getAttribute("data-precedence"),b=u.get(L)||f,b===f&&u.set(null,v),u.set(L,v),this.count++,f=rm.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),b?b.parentNode.insertBefore(v,b.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(v,s.firstChild)),a.state.loading|=4}}var ad={$$typeof:F,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function j4(s,a,u,f,v,b,L,q){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=b,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function UT(s,a,u,f,v,b,L,q,ee,he,be,we){return s=new j4(s,a,u,L,q,ee,he,we),a=1,b===!0&&(a|=24),b=Fr(3,null,null,a),s.current=b,b.stateNode=s,a=_v(),a.refCount++,s.pooledCache=a,a.refCount++,b.memoizedState={element:f,isDehydrated:u,cache:a},Av(b),s}function zT(s){return s?(s=Hl,s):Hl}function BT(s,a,u,f,v,b){v=zT(v),f.context===null?f.context=v:f.pendingContext=v,f=Aa(a),f.payload={element:u},b=b===void 0?null:b,b!==null&&(f.callback=b),u=Ca(s,f,a),u!==null&&(Wr(u,s,a),kc(u,s,a))}function FT(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function Fy(s,a){FT(s,a),(s=s.alternate)&&FT(s,a)}function HT(s){if(s.tag===13){var a=Fl(s,67108864);a!==null&&Wr(a,s,67108864),Fy(s,67108864)}}var sm=!0;function P4(s,a,u,f){var v=H.T;H.T=null;var b=S.p;try{S.p=2,Hy(s,a,u,f)}finally{S.p=b,H.T=v}}function O4(s,a,u,f){var v=H.T;H.T=null;var b=S.p;try{S.p=8,Hy(s,a,u,f)}finally{S.p=b,H.T=v}}function Hy(s,a,u,f){if(sm){var v=$y(f);if(v===null)Iy(s,a,f,am,u),qT(s,f);else if(k4(v,s,a,u,f))f.stopPropagation();else if(qT(s,f),a&4&&-1<D4.indexOf(s)){for(;v!==null;){var b=wt(v);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var L=Lr(b.pendingLanes);if(L!==0){var q=b;for(q.pendingLanes|=2,q.entangledLanes|=2;L;){var ee=1<<31-tn(L);q.entanglements[1]|=ee,L&=~ee}ls(b),(Ht&6)===0&&(Hf=Ie()+500,Jc(0))}}break;case 13:q=Fl(b,2),q!==null&&Wr(q,b,2),qf(),Fy(b,2)}if(b=$y(f),b===null&&Iy(s,a,f,am,u),b===v)break;v=b}v!==null&&f.stopPropagation()}else Iy(s,a,f,null,u)}}function $y(s){return s=li(s),qy(s)}var am=null;function qy(s){if(am=null,s=st(s),s!==null){var a=o(s);if(a===null)s=null;else{var u=a.tag;if(u===13){if(s=l(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return am=s,null}function $T(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Je()){case mt:return 2;case lt:return 8;case Nt:case ht:return 32;case pn:return 268435456;default:return 32}default:return 32}}var Gy=!1,za=null,Ba=null,Fa=null,od=new Map,ld=new Map,Ha=[],D4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qT(s,a){switch(s){case"focusin":case"focusout":za=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":Fa=null;break;case"pointerover":case"pointerout":od.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ld.delete(a.pointerId)}}function ud(s,a,u,f,v,b){return s===null||s.nativeEvent!==b?(s={blockedOn:a,domEventName:u,eventSystemFlags:f,nativeEvent:b,targetContainers:[v]},a!==null&&(a=wt(a),a!==null&&HT(a)),s):(s.eventSystemFlags|=f,a=s.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),s)}function k4(s,a,u,f,v){switch(a){case"focusin":return za=ud(za,s,a,u,f,v),!0;case"dragenter":return Ba=ud(Ba,s,a,u,f,v),!0;case"mouseover":return Fa=ud(Fa,s,a,u,f,v),!0;case"pointerover":var b=v.pointerId;return od.set(b,ud(od.get(b)||null,s,a,u,f,v)),!0;case"gotpointercapture":return b=v.pointerId,ld.set(b,ud(ld.get(b)||null,s,a,u,f,v)),!0}return!1}function GT(s){var a=st(s.target);if(a!==null){var u=o(a);if(u!==null){if(a=u.tag,a===13){if(a=l(u),a!==null){s.blockedOn=a,ae(s.priority,function(){if(u.tag===13){var f=Gr();f=Ki(f);var v=Fl(u,f);v!==null&&Wr(v,u,f),Fy(u,f)}});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function om(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=$y(s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);ks=f,u.target.dispatchEvent(f),ks=null}else return a=wt(u),a!==null&&HT(a),s.blockedOn=u,!1;a.shift()}return!0}function WT(s,a,u){om(s)&&u.delete(a)}function L4(){Gy=!1,za!==null&&om(za)&&(za=null),Ba!==null&&om(Ba)&&(Ba=null),Fa!==null&&om(Fa)&&(Fa=null),od.forEach(WT),ld.forEach(WT)}function lm(s,a){s.blockedOn===a&&(s.blockedOn=null,Gy||(Gy=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,L4)))}var um=null;function KT(s){um!==s&&(um=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){um===s&&(um=null);for(var a=0;a<s.length;a+=3){var u=s[a],f=s[a+1],v=s[a+2];if(typeof f!="function"){if(qy(f||u)===null)continue;break}var b=wt(u);b!==null&&(s.splice(a,3),a-=3,qv(b,{pending:!0,data:v,method:u.method,action:f},f,v))}}))}function cd(s){function a(ee){return lm(ee,s)}za!==null&&lm(za,s),Ba!==null&&lm(Ba,s),Fa!==null&&lm(Fa,s),od.forEach(a),ld.forEach(a);for(var u=0;u<Ha.length;u++){var f=Ha[u];f.blockedOn===s&&(f.blockedOn=null)}for(;0<Ha.length&&(u=Ha[0],u.blockedOn===null);)GT(u),u.blockedOn===null&&Ha.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var v=u[f],b=u[f+1],L=v[Te]||null;if(typeof b=="function")L||KT(u);else if(L){var q=null;if(b&&b.hasAttribute("formAction")){if(v=b,L=b[Te]||null)q=L.formAction;else if(qy(v)!==null)continue}else q=L.action;typeof q=="function"?u[f+1]=q:(u.splice(f,3),f-=3),KT(u)}}}function Wy(s){this._internalRoot=s}cm.prototype.render=Wy.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));var u=a.current,f=Gr();BT(u,f,s,a,null,null)},cm.prototype.unmount=Wy.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;BT(s.current,2,null,s,null,null),qf(),a[Oe]=null}};function cm(s){this._internalRoot=s}cm.prototype.unstable_scheduleHydration=function(s){if(s){var a=te();s={blockedOn:null,target:s,priority:a};for(var u=0;u<Ha.length&&a!==0&&a<Ha[u].priority;u++);Ha.splice(u,0,s),u===0&&GT(s)}};var YT=e.version;if(YT!=="19.1.0")throw Error(r(527,YT,"19.1.0"));S.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=c(a),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var V4={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dm.isDisabled&&dm.supportsFiber)try{pt=dm.inject(V4),qe=dm}catch{}}return hd.createRoot=function(s,a){if(!i(s))throw Error(r(299));var u=!1,f="",v=dS,b=hS,L=fS,q=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(L=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(q=a.unstable_transitionCallbacks)),a=UT(s,1,!1,null,null,u,f,v,b,L,q,null),s[Oe]=a.current,Ry(s),new Wy(a)},hd.hydrateRoot=function(s,a,u){if(!i(s))throw Error(r(299));var f=!1,v="",b=dS,L=hS,q=fS,ee=null,he=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(L=u.onCaughtError),u.onRecoverableError!==void 0&&(q=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(ee=u.unstable_transitionCallbacks),u.formState!==void 0&&(he=u.formState)),a=UT(s,1,!0,a,u??null,f,v,b,L,q,ee,he),a.context=zT(null),u=a.current,f=Gr(),f=Ki(f),v=Aa(f),v.callback=null,Ca(u,v,f),u=f,a.current.lanes=u,Ci(a,u),ls(a),s[Oe]=a.current,Ry(s),new cm(a)},hd.version="19.1.0",hd}var aE;function Y4(){if(aE)return Xy.exports;aE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Xy.exports=K4(),Xy.exports}var X4=Y4();const Q4=()=>{};var oE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Z4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],l=t[n++],d=t[n++],c=((i&7)<<18|(o&63)<<12|(l&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},iR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],l=i+1<t.length,d=l?t[i+1]:0,c=i+2<t.length,m=c?t[i+2]:0,p=o>>2,y=(o&3)<<4|d>>4;let x=(d&15)<<2|m>>6,E=m&63;c||(E=64,l||(x=64)),r.push(n[p],n[y],n[x],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Z4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],d=i<t.length?n[t.charAt(i)]:0;++i;const m=i<t.length?n[t.charAt(i)]:64;++i;const y=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||d==null||m==null||y==null)throw new J4;const x=o<<2|d>>4;if(r.push(x),m!==64){const E=d<<4&240|m>>2;if(r.push(E),y!==64){const R=m<<6&192|y;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class J4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ek=function(t){const e=rR(t);return iR.encodeByteArray(e,!0)},up=function(t){return ek(t).replace(/\./g,"")},sR=function(t){try{return iR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nk=()=>tk().__FIREBASE_DEFAULTS__,rk=()=>{if(typeof process>"u"||typeof oE>"u")return;const t=oE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ik=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sR(t[1]);return e&&JSON.parse(e)},tg=()=>{try{return Q4()||nk()||rk()||ik()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},aR=t=>{var e,n;return(n=(e=tg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},oR=t=>{const e=aR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},lR=()=>{var t;return(t=tg())===null||t===void 0?void 0:t.config},uR=t=>{var e;return(e=tg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sk=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function yx(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[up(JSON.stringify(n)),up(JSON.stringify(l)),""].join(".")}const Ld={};function ak(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ld))Ld[e]?t.emulator.push(e):t.prod.push(e);return t}function ok(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let lE=!1;function bx(t,e){if(typeof window>"u"||typeof document>"u"||!bo(window.location.host)||Ld[t]===e||Ld[t]||lE)return;Ld[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",o=ak().prod.length>0;function l(){const x=document.getElementById(r);x&&x.remove()}function d(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function c(x,E){x.setAttribute("width","24"),x.setAttribute("id",E),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function m(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{lE=!0,l()},x}function p(x,E){x.setAttribute("id",E),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function y(){const x=ok(r),E=n("text"),R=document.getElementById(E)||document.createElement("span"),P=n("learnmore"),V=document.getElementById(P)||document.createElement("a"),O=n("preprendIcon"),B=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const F=x.element;d(F),p(V,P);const Y=m();c(B,O),F.append(B,R,V,Y),document.body.appendChild(F)}o?(R.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vr())}function uk(){var t;const e=(t=tg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ck(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fk(){const t=vr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function mk(){return!uk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pk(){try{return typeof indexedDB=="object"}catch{return!1}}function gk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk="FirebaseError";class Is extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vk,Object.setPrototypeOf(this,Is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bh.prototype.create)}}class bh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?yk(o,r):"Error",d=`${this.serviceName}: ${l} (${i}).`;return new Is(i,d,r)}}function yk(t,e){return t.replace(bk,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const bk=/\{\$([^}]+)}/g;function xk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function cl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],l=e[i];if(uE(o)&&uE(l)){if(!cl(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function uE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Nd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Rd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function wk(t,e){const n=new _k(t,e);return n.subscribe.bind(n)}class _k{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Sk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=e0),i.error===void 0&&(i.error=e0),i.complete===void 0&&(i.complete=e0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Sk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function e0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(t){return t&&t._delegate?t._delegate:t}class uo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new sk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ak(e))try{this.getOrInitializeService({instanceIdentifier:Jo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Jo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jo){return this.instances.has(e)}getOptions(e=Jo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ek(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Jo){return this.component?this.component.multipleInstances?e:Jo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ek(t){return t===Jo?void 0:t}function Ak(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Tk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Et||(Et={}));const Nk={debug:Et.DEBUG,verbose:Et.VERBOSE,info:Et.INFO,warn:Et.WARN,error:Et.ERROR,silent:Et.SILENT},Rk=Et.INFO,Ik={[Et.DEBUG]:"log",[Et.VERBOSE]:"log",[Et.INFO]:"info",[Et.WARN]:"warn",[Et.ERROR]:"error"},Mk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Ik[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xx{constructor(e){this.name=e,this._logLevel=Rk,this._logHandler=Mk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Nk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Et.DEBUG,...e),this._logHandler(this,Et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Et.VERBOSE,...e),this._logHandler(this,Et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Et.INFO,...e),this._logHandler(this,Et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Et.WARN,...e),this._logHandler(this,Et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Et.ERROR,...e),this._logHandler(this,Et.ERROR,...e)}}const jk=(t,e)=>e.some(n=>t instanceof n);let cE,dE;function Pk(){return cE||(cE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ok(){return dE||(dE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dR=new WeakMap,rb=new WeakMap,hR=new WeakMap,t0=new WeakMap,wx=new WeakMap;function Dk(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(io(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&dR.set(n,t)}).catch(()=>{}),wx.set(e,t),e}function kk(t){if(rb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});rb.set(t,e)}let ib={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||hR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return io(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Lk(t){ib=t(ib)}function Vk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(n0(this),e,...n);return hR.set(r,e.sort?e.sort():[e]),io(r)}:Ok().includes(t)?function(...e){return t.apply(n0(this),e),io(dR.get(this))}:function(...e){return io(t.apply(n0(this),e))}}function Uk(t){return typeof t=="function"?Vk(t):(t instanceof IDBTransaction&&kk(t),jk(t,Pk())?new Proxy(t,ib):t)}function io(t){if(t instanceof IDBRequest)return Dk(t);if(t0.has(t))return t0.get(t);const e=Uk(t);return e!==t&&(t0.set(t,e),wx.set(e,t)),e}const n0=t=>wx.get(t);function zk(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(t,e),d=io(l);return r&&l.addEventListener("upgradeneeded",c=>{r(io(l.result),c.oldVersion,c.newVersion,io(l.transaction),c)}),n&&l.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),d.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",m=>i(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const Bk=["get","getKey","getAll","getAllKeys","count"],Fk=["put","add","delete","clear"],r0=new Map;function hE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(r0.get(e))return r0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Fk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Bk.includes(n)))return;const o=async function(l,...d){const c=this.transaction(l,i?"readwrite":"readonly");let m=c.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),i&&c.done]))[0]};return r0.set(e,o),o}Lk(t=>({...t,get:(e,n,r)=>hE(e,n)||t.get(e,n,r),has:(e,n)=>!!hE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($k(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function $k(t){const e=t.getComponent();return e?.type==="VERSION"}const sb="@firebase/app",fE="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new xx("@firebase/app"),qk="@firebase/app-compat",Gk="@firebase/analytics-compat",Wk="@firebase/analytics",Kk="@firebase/app-check-compat",Yk="@firebase/app-check",Xk="@firebase/auth",Qk="@firebase/auth-compat",Zk="@firebase/database",Jk="@firebase/data-connect",eL="@firebase/database-compat",tL="@firebase/functions",nL="@firebase/functions-compat",rL="@firebase/installations",iL="@firebase/installations-compat",sL="@firebase/messaging",aL="@firebase/messaging-compat",oL="@firebase/performance",lL="@firebase/performance-compat",uL="@firebase/remote-config",cL="@firebase/remote-config-compat",dL="@firebase/storage",hL="@firebase/storage-compat",fL="@firebase/firestore",mL="@firebase/ai",pL="@firebase/firestore-compat",gL="firebase",vL="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab="[DEFAULT]",yL={[sb]:"fire-core",[qk]:"fire-core-compat",[Wk]:"fire-analytics",[Gk]:"fire-analytics-compat",[Yk]:"fire-app-check",[Kk]:"fire-app-check-compat",[Xk]:"fire-auth",[Qk]:"fire-auth-compat",[Zk]:"fire-rtdb",[Jk]:"fire-data-connect",[eL]:"fire-rtdb-compat",[tL]:"fire-fn",[nL]:"fire-fn-compat",[rL]:"fire-iid",[iL]:"fire-iid-compat",[sL]:"fire-fcm",[aL]:"fire-fcm-compat",[oL]:"fire-perf",[lL]:"fire-perf-compat",[uL]:"fire-rc",[cL]:"fire-rc-compat",[dL]:"fire-gcs",[hL]:"fire-gcs-compat",[fL]:"fire-fst",[pL]:"fire-fst-compat",[mL]:"fire-vertex","fire-js":"fire-js",[gL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp=new Map,bL=new Map,ob=new Map;function mE(t,e){try{t.container.addComponent(e)}catch(n){ua.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function dl(t){const e=t.name;if(ob.has(e))return ua.debug(`There were multiple attempts to register component ${e}.`),!1;ob.set(e,t);for(const n of cp.values())mE(n,t);for(const n of bL.values())mE(n,t);return!0}function ng(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Xr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},so=new bh("app","Firebase",xL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new uo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw so.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=vL;function fR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ab,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw so.create("bad-app-name",{appName:String(i)});if(n||(n=lR()),!n)throw so.create("no-options");const o=cp.get(i);if(o){if(cl(n,o.options)&&cl(r,o.config))return o;throw so.create("duplicate-app",{appName:i})}const l=new Ck(i);for(const c of ob.values())l.addComponent(c);const d=new wL(n,r,l);return cp.set(i,d),d}function _x(t=ab){const e=cp.get(t);if(!e&&t===ab&&lR())return fR();if(!e)throw so.create("no-app",{appName:t});return e}function ps(t,e,n){var r;let i=(r=yL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const d=[`Unable to register library "${i}" with version "${e}":`];o&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&d.push("and"),l&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ua.warn(d.join(" "));return}dl(new uo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L="firebase-heartbeat-database",SL=1,Qd="firebase-heartbeat-store";let i0=null;function mR(){return i0||(i0=zk(_L,SL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qd)}catch(n){console.warn(n)}}}}).catch(t=>{throw so.create("idb-open",{originalErrorMessage:t.message})})),i0}async function TL(t){try{const n=(await mR()).transaction(Qd),r=await n.objectStore(Qd).get(pR(t));return await n.done,r}catch(e){if(e instanceof Is)ua.warn(e.message);else{const n=so.create("idb-get",{originalErrorMessage:e?.message});ua.warn(n.message)}}}async function pE(t,e){try{const r=(await mR()).transaction(Qd,"readwrite");await r.objectStore(Qd).put(e,pR(t)),await r.done}catch(n){if(n instanceof Is)ua.warn(n.message);else{const r=so.create("idb-set",{originalErrorMessage:n?.message});ua.warn(r.message)}}}function pR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL=1024,AL=30;class CL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=gE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>AL){const l=IL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ua.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gE(),{heartbeatsToSend:r,unsentEntries:i}=NL(this._heartbeatsCache.heartbeats),o=up(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ua.warn(n),""}}}function gE(){return new Date().toISOString().substring(0,10)}function NL(t,e=EL){const n=[];let r=t.slice();for(const i of t){const o=n.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),vE(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class RL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pk()?gk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await TL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return pE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return pE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function vE(t){return up(JSON.stringify({version:2,heartbeats:t})).length}function IL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ML(t){dl(new uo("platform-logger",e=>new Hk(e),"PRIVATE")),dl(new uo("heartbeat",e=>new CL(e),"PRIVATE")),ps(sb,fE,t),ps(sb,fE,"esm2017"),ps("fire-js","")}ML("");var jL="firebase",PL="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ps(jL,PL,"app");function Sx(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function gR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OL=gR,vR=new bh("auth","Firebase",gR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp=new xx("@firebase/auth");function DL(t,...e){dp.logLevel<=Et.WARN&&dp.warn(`Auth (${_l}): ${t}`,...e)}function Vm(t,...e){dp.logLevel<=Et.ERROR&&dp.error(`Auth (${_l}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(t,...e){throw Tx(t,...e)}function gs(t,...e){return Tx(t,...e)}function yR(t,e,n){const r=Object.assign(Object.assign({},OL()),{[e]:n});return new bh("auth","Firebase",r).create(e,{appName:t.name})}function ia(t){return yR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return vR.create(t,...e)}function Ke(t,e,...n){if(!t)throw Tx(e,...n)}function na(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vm(e),new Error(e)}function ca(t,e){t||na(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function bR(){return yE()==="http:"||yE()==="https:"}function yE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bR()||dk()||"connection"in navigator)?navigator.onLine:!0}function LL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n){this.shortDelay=e,this.longDelay=n,ca(n>e,"Short delay should be less than long delay!"),this.isMobile=lk()||hk()}get(){return kL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(t,e){ca(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;na("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;na("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;na("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zL=new wh(3e4,6e4);function Ai(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ni(t,e,n,r,i={}){return wR(t,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const d=xh(Object.assign({key:t.config.apiKey},l)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:c},o);return ck()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&bo(t.emulatorConfig.host)&&(m.credentials="include"),xR.fetch()(await _R(t,t.config.apiHost,n,d),m)})}async function wR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},VL),e);try{const i=new FL(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw fm(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const d=o.ok?l.errorMessage:l.error.message,[c,m]=d.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw fm(t,"credential-already-in-use",l);if(c==="EMAIL_EXISTS")throw fm(t,"email-already-in-use",l);if(c==="USER_DISABLED")throw fm(t,"user-disabled",l);const p=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw yR(t,p,m);Si(t,p)}}catch(i){if(i instanceof Is)throw i;Si(t,"network-request-failed",{message:String(i)})}}async function _h(t,e,n,r,i={}){const o=await ni(t,e,n,r,i);return"mfaPendingCredential"in o&&Si(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function _R(t,e,n,r){const i=`${e}${n}?${r}`,o=t,l=o.config.emulator?Ex(t.config,i):`${t.config.apiScheme}://${i}`;return UL.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function BL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(gs(this.auth,"network-request-failed")),zL.get())})}}function fm(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=gs(t,e,r);return i.customData._tokenResponse=n,i}function bE(t){return t!==void 0&&t.enterprise!==void 0}class HL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return BL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $L(t,e){return ni(t,"GET","/v2/recaptchaConfig",Ai(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qL(t,e){return ni(t,"POST","/v1/accounts:delete",e)}async function fp(t,e){return ni(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GL(t,e=!1){const n=Yt(t),r=await n.getIdToken(e),i=Ax(r);Ke(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o?.sign_in_provider;return{claims:i,token:r,authTime:Vd(s0(i.auth_time)),issuedAtTime:Vd(s0(i.iat)),expirationTime:Vd(s0(i.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function s0(t){return Number(t)*1e3}function Ax(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Vm("JWT malformed, contained fewer than 3 sections"),null;try{const i=sR(n);return i?JSON.parse(i):(Vm("Failed to decode base64 JWT payload"),null)}catch(i){return Vm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function xE(t){const e=Ax(t);return Ke(e,"internal-error"),Ke(typeof e.exp<"u","internal-error"),Ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Is&&WL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function WL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vd(this.lastLoginAt),this.creationTime=Vd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Bu(t,fp(n,{idToken:r}));Ke(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?SR(o.providerUserInfo):[],d=XL(t.providerData,l),c=t.isAnonymous,m=!(t.email&&o.passwordHash)&&!d?.length,p=c?m:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new lb(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function YL(t){const e=Yt(t);await mp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function SR(t){return t.map(e=>{var{providerId:n}=e,r=Sx(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QL(t,e){const n=await wR(t,{},async()=>{const r=xh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,l=await _R(t,i,"/v1/token",`key=${o}`),d=await t._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:d,body:r};return t.emulatorConfig&&bo(t.emulatorConfig.host)&&(c.credentials="include"),xR.fetch()(l,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ZL(t,e){return ni(t,"POST","/v2/accounts:revokeToken",Ai(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ke(e.idToken,"internal-error"),Ke(typeof e.idToken<"u","internal-error"),Ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ke(e.length!==0,"internal-error");const n=xE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ke(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await QL(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,l=new Mu;return r&&(Ke(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ke(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(Ke(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mu,this.toJSON())}_performRefresh(){return na("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(t,e){Ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Pi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Sx(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new KL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new lb(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Bu(this,this.stsTokenManager.getToken(this.auth,e));return Ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return GL(this,e)}reload(){return YL(this)}_assign(e){this!==e&&(Ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Pi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await mp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xr(this.auth.app))return Promise.reject(ia(this.auth));const e=await this.getIdToken();return await Bu(this,qL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,l,d,c,m,p;const y=(r=n.displayName)!==null&&r!==void 0?r:void 0,x=(i=n.email)!==null&&i!==void 0?i:void 0,E=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,R=(l=n.photoURL)!==null&&l!==void 0?l:void 0,P=(d=n.tenantId)!==null&&d!==void 0?d:void 0,V=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,O=(m=n.createdAt)!==null&&m!==void 0?m:void 0,B=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:F,emailVerified:Y,isAnonymous:M,providerData:j,stsTokenManager:C}=n;Ke(F&&C,e,"internal-error");const I=Mu.fromJSON(this.name,C);Ke(typeof F=="string",e,"internal-error"),qa(y,e.name),qa(x,e.name),Ke(typeof Y=="boolean",e,"internal-error"),Ke(typeof M=="boolean",e,"internal-error"),qa(E,e.name),qa(R,e.name),qa(P,e.name),qa(V,e.name),qa(O,e.name),qa(B,e.name);const N=new Pi({uid:F,auth:e,email:x,emailVerified:Y,displayName:y,isAnonymous:M,photoURL:R,phoneNumber:E,tenantId:P,stsTokenManager:I,createdAt:O,lastLoginAt:B});return j&&Array.isArray(j)&&(N.providerData=j.map(T=>Object.assign({},T))),V&&(N._redirectEventId=V),N}static async _fromIdTokenResponse(e,n,r=!1){const i=new Mu;i.updateFromServerResponse(n);const o=new Pi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await mp(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ke(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?SR(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!o?.length,d=new Mu;d.updateFromIdToken(r);const c=new Pi({uid:i.localId,auth:e,stsTokenManager:d,isAnonymous:l}),m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new lb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,m),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=new Map;function ra(t){ca(t instanceof Function,"Expected a class definition");let e=wE.get(t);return e?(ca(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,wE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}TR.type="NONE";const _E=TR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(t,e,n){return`firebase:${t}:${e}:${n}`}class ju{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Um(this.userKey,i.apiKey,o),this.fullPersistenceKey=Um("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await fp(this.auth,{idToken:e}).catch(()=>{});return n?Pi._fromGetAccountInfoResponse(this.auth,n,e):null}return Pi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ju(ra(_E),e,r);const i=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=i[0]||ra(_E);const l=Um(r,e.config.apiKey,e.name);let d=null;for(const m of n)try{const p=await m._get(l);if(p){let y;if(typeof p=="string"){const x=await fp(e,{idToken:p}).catch(()=>{});if(!x)break;y=await Pi._fromGetAccountInfoResponse(e,x,p)}else y=Pi._fromJSON(e,p);m!==o&&(d=y),o=m;break}}catch{}const c=i.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new ju(o,e,r):(o=c[0],d&&await o._set(l,d.toJSON()),await Promise.all(n.map(async m=>{if(m!==o)try{await m._remove(l)}catch{}})),new ju(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ER(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IR(e))return"Blackberry";if(MR(e))return"Webos";if(AR(e))return"Safari";if((e.includes("chrome/")||CR(e))&&!e.includes("edge/"))return"Chrome";if(RR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function ER(t=vr()){return/firefox\//i.test(t)}function AR(t=vr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function CR(t=vr()){return/crios\//i.test(t)}function NR(t=vr()){return/iemobile/i.test(t)}function RR(t=vr()){return/android/i.test(t)}function IR(t=vr()){return/blackberry/i.test(t)}function MR(t=vr()){return/webos/i.test(t)}function Cx(t=vr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function JL(t=vr()){var e;return Cx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function e3(){return fk()&&document.documentMode===10}function jR(t=vr()){return Cx(t)||RR(t)||MR(t)||IR(t)||/windows phone/i.test(t)||NR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(t,e=[]){let n;switch(t){case"Browser":n=SE(vr());break;case"Worker":n=`${SE(vr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_l}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,d)=>{try{const c=e(o);l(c)}catch(c){d(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n3(t,e={}){return ni(t,"GET","/v2/passwordPolicy",Ai(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3=6;class i3{constructor(e){var n,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:r3,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,l,d;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNumericCharacter)!==null&&l!==void 0?l:!0),c.isValid&&(c.isValid=(d=c.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s3{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TE(this),this.idTokenSubscription=new TE(this),this.beforeStateQueue=new t3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ra(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await ju.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await fp(this,{idToken:e}),r=await Pi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Xr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=i?._redirectEventId,c=await this.tryRedirectSignIn(e);(!l||l===d)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await mp(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=LL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xr(this.app))return Promise.reject(ia(this));const n=e?Yt(e):null;return n&&Ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xr(this.app)?Promise.reject(ia(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xr(this.app)?Promise.reject(ia(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ra(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await n3(this),n=new i3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await ZL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ra(e)||this._popupRedirectResolver;Ke(n,this,"argument-error"),this.redirectPersistenceManager=await ju.create(this,[ra(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ke(d,this,"internal-error"),d.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{l=!0,c()}}else{const c=e.addObserver(n);return()=>{l=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Xr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&DL(`Error while retrieving App Check token: ${n.error}`),n?.token}}function ga(t){return Yt(t)}class TE{constructor(e){this.auth=e,this.observer=null,this.addObserver=wk(n=>this.observer=n)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function a3(t){rg=t}function OR(t){return rg.loadJS(t)}function o3(){return rg.recaptchaEnterpriseScript}function l3(){return rg.gapiScript}function u3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class c3{constructor(){this.enterprise=new d3}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class d3{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const h3="recaptcha-enterprise",DR="NO_RECAPTCHA";class f3{constructor(e){this.type=h3,this.auth=ga(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,d)=>{$L(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new HL(c);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,l(m.siteKey)}}).catch(c=>{d(c)})})}function i(o,l,d){const c=window.grecaptcha;bE(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(m=>{l(m)}).catch(()=>{l(DR)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new c3().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(d=>{if(!n&&bE(window.grecaptcha))i(d,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let c=o3();c.length!==0&&(c+=d),OR(c).then(()=>{i(d,o,l)}).catch(m=>{l(m)})}}).catch(d=>{l(d)})})}}async function EE(t,e,n,r=!1,i=!1){const o=new f3(t);let l;if(i)l=DR;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const d=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const c=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:m,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const c=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:l}):Object.assign(d,{captchaResponse:l}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function pp(t,e,n,r,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await EE(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await EE(t,e,n,n==="getOobCode");return r(t,d)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m3(t,e){const n=ng(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(cl(o,e??{}))return i;Si(i,"already-initialized")}return n.initialize({options:e})}function p3(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ra);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function g3(t,e,n){const r=ga(t);Ke(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=kR(e),{host:l,port:d}=v3(e),c=d===null?"":`:${d}`,m={url:`${o}//${l}${c}/`},p=Object.freeze({host:l,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ke(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ke(cl(m,r.config.emulator)&&cl(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,bo(l)?(yx(`${o}//${l}${c}`),bx("Auth",!0)):y3()}function kR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function v3(t){const e=kR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:AE(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:AE(l)}}}function AE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function y3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return na("not implemented")}_getIdTokenResponse(e){return na("not implemented")}_linkToIdToken(e,n){return na("not implemented")}_getReauthenticationResolver(e){return na("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LR(t,e){return ni(t,"POST","/v1/accounts:resetPassword",Ai(t,e))}async function b3(t,e){return ni(t,"POST","/v1/accounts:signUp",e)}async function x3(t,e){return ni(t,"POST","/v1/accounts:update",Ai(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w3(t,e){return _h(t,"POST","/v1/accounts:signInWithPassword",Ai(t,e))}async function _3(t,e){return ni(t,"POST","/v1/accounts:sendOobCode",Ai(t,e))}async function S3(t,e){return _3(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T3(t,e){return _h(t,"POST","/v1/accounts:signInWithEmailLink",Ai(t,e))}async function E3(t,e){return _h(t,"POST","/v1/accounts:signInWithEmailLink",Ai(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd extends Nx{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Zd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Zd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pp(e,n,"signInWithPassword",w3);case"emailLink":return T3(e,{email:this._email,oobCode:this._password});default:Si(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pp(e,r,"signUpPassword",b3);case"emailLink":return E3(e,{idToken:n,email:this._email,oobCode:this._password});default:Si(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pu(t,e){return _h(t,"POST","/v1/accounts:signInWithIdp",Ai(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3="http://localhost";class hl extends Nx{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new hl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Si("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Sx(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new hl(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Pu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Pu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pu(e,n)}buildRequest(){const e={requestUri:A3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function N3(t){const e=Nd(Rd(t)).link,n=e?Nd(Rd(e)).deep_link_id:null,r=Nd(Rd(t)).deep_link_id;return(r?Nd(Rd(r)).link:null)||r||n||e||t}class Rx{constructor(e){var n,r,i,o,l,d;const c=Nd(Rd(e)),m=(n=c.apiKey)!==null&&n!==void 0?n:null,p=(r=c.oobCode)!==null&&r!==void 0?r:null,y=C3((i=c.mode)!==null&&i!==void 0?i:null);Ke(m&&p&&y,"argument-error"),this.apiKey=m,this.operation=y,this.code=p,this.continueUrl=(o=c.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=c.lang)!==null&&l!==void 0?l:null,this.tenantId=(d=c.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=N3(e);try{return new Rx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(){this.providerId=ic.PROVIDER_ID}static credential(e,n){return Zd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Rx.parseLink(n);return Ke(r,"argument-error"),Zd._fromEmailAndCode(e,r.code,r.tenantId)}}ic.PROVIDER_ID="password";ic.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ic.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends VR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends Sh{constructor(){super("facebook.com")}static credential(e){return hl._fromParams({providerId:Ya.PROVIDER_ID,signInMethod:Ya.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ya.credentialFromTaggedObject(e)}static credentialFromError(e){return Ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ya.credential(e.oauthAccessToken)}catch{return null}}}Ya.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ya.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends Sh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return hl._fromParams({providerId:Xa.PROVIDER_ID,signInMethod:Xa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xa.credentialFromTaggedObject(e)}static credentialFromError(e){return Xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Xa.credential(n,r)}catch{return null}}}Xa.GOOGLE_SIGN_IN_METHOD="google.com";Xa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends Sh{constructor(){super("github.com")}static credential(e){return hl._fromParams({providerId:Qa.PROVIDER_ID,signInMethod:Qa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qa.credentialFromTaggedObject(e)}static credentialFromError(e){return Qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qa.credential(e.oauthAccessToken)}catch{return null}}}Qa.GITHUB_SIGN_IN_METHOD="github.com";Qa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za extends Sh{constructor(){super("twitter.com")}static credential(e,n){return hl._fromParams({providerId:Za.PROVIDER_ID,signInMethod:Za.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Za.credentialFromTaggedObject(e)}static credentialFromError(e){return Za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Za.credential(n,r)}catch{return null}}}Za.TWITTER_SIGN_IN_METHOD="twitter.com";Za.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R3(t,e){return _h(t,"POST","/v1/accounts:signUp",Ai(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Pi._fromIdTokenResponse(e,r,i),l=CE(r);return new fl({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=CE(r);return new fl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function CE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp extends Is{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,gp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new gp(e,n,r,i)}}function UR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?gp._fromErrorAndOperation(t,o,e,r):o})}async function I3(t,e,n=!1){const r=await Bu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M3(t,e,n=!1){const{auth:r}=t;if(Xr(r.app))return Promise.reject(ia(r));const i="reauthenticate";try{const o=await Bu(t,UR(r,i,e,t),n);Ke(o.idToken,r,"internal-error");const l=Ax(o.idToken);Ke(l,r,"internal-error");const{sub:d}=l;return Ke(t.uid===d,r,"user-mismatch"),fl._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Si(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zR(t,e,n=!1){if(Xr(t.app))return Promise.reject(ia(t));const r="signIn",i=await UR(t,r,e),o=await fl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function j3(t,e){return zR(ga(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?Mx._fromServerResponse(e,n):"totpInfo"in n?jx._fromServerResponse(e,n):Si(e,"internal-error")}}class Mx extends Ix{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new Mx(n)}}class jx extends Ix{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new jx(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Px(t){const e=ga(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function P3(t,e,n){const r=ga(t);await pp(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",S3)}async function O3(t,e,n){await LR(Yt(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Px(t),r})}async function NE(t,e){await x3(Yt(t),{oobCode:e})}async function D3(t,e){const n=Yt(t),r=await LR(n,{oobCode:e}),i=r.requestType;switch(Ke(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ke(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ke(r.mfaInfo,n,"internal-error");default:Ke(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=Ix._fromServerResponse(ga(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function k3(t,e,n){if(Xr(t.app))return Promise.reject(ia(t));const r=ga(t),l=await pp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",R3).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Px(t),c}),d=await fl._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(d.user),d}function L3(t,e,n){return Xr(t.app)?Promise.reject(ia(t)):j3(Yt(t),ic.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Px(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V3(t,e){return ni(t,"POST","/v1/accounts:createAuthUri",Ai(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U3(t,e){const n=bR()?hp():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await V3(Yt(t),r);return i||[]}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z3(t,e){return ni(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Yt(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await Bu(r,z3(r.auth,o));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const d=r.providerData.find(({providerId:c})=>c==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function B3(t,e,n,r){return Yt(t).onIdTokenChanged(e,n,r)}function F3(t,e,n){return Yt(t).beforeAuthStateChanged(e,n)}function H3(t){return Yt(t).signOut()}const vp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vp,"1"),this.storage.removeItem(vp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3=1e3,q3=10;class HR extends FR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,d,c)=>{this.notifyListeners(l,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);e3()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,q3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},$3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}HR.type="LOCAL";const G3=HR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R extends FR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$R.type="SESSION";const qR=$R;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ig(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const d=Array.from(l).map(async m=>m(n.origin,o)),c=await W3(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ig.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((d,c)=>{const m=Ox("",20);i.port1.start();const p=setTimeout(()=>{c(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(y){const x=y;if(x.data.eventId===m)switch(x.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(x.data.response);break;default:clearTimeout(p),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(){return window}function Y3(t){vs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(){return typeof vs().WorkerGlobalScope<"u"&&typeof vs().importScripts=="function"}async function X3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Q3(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Z3(){return GR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="firebaseLocalStorageDb",J3=1,yp="firebaseLocalStorage",KR="fbase_key";class Th{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sg(t,e){return t.transaction([yp],e?"readwrite":"readonly").objectStore(yp)}function e6(){const t=indexedDB.deleteDatabase(WR);return new Th(t).toPromise()}function ub(){const t=indexedDB.open(WR,J3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(yp,{keyPath:KR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(yp)?e(r):(r.close(),await e6(),e(await ub()))})})}async function RE(t,e,n){const r=sg(t,!0).put({[KR]:e,value:n});return new Th(r).toPromise()}async function t6(t,e){const n=sg(t,!1).get(e),r=await new Th(n).toPromise();return r===void 0?null:r.value}function IE(t,e){const n=sg(t,!0).delete(e);return new Th(n).toPromise()}const n6=800,r6=3;class YR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ub(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>r6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ig._getInstance(Z3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await X3(),!this.activeServiceWorker)return;this.sender=new K3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Q3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ub();return await RE(e,vp,"1"),await IE(e,vp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>RE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>t6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>IE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=sg(i,!1).getAll();return new Th(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),n6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YR.type="LOCAL";const i6=YR;new wh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(t,e){return e?ra(e):(Ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx extends Nx{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function a6(t){return zR(t.auth,new Dx(t),t.bypassAuthState)}function o6(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),M3(n,new Dx(t),t.bypassAuthState)}async function l6(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),I3(n,new Dx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:l,type:d}=e;if(l){this.reject(l);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(c))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return a6;case"linkViaPopup":case"linkViaRedirect":return l6;case"reauthViaPopup":case"reauthViaRedirect":return o6;default:Si(this.auth,"internal-error")}}resolve(e){ca(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ca(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6=new wh(2e3,1e4);class xu extends XR{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,xu.currentPopupAction&&xu.currentPopupAction.cancel(),xu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ke(e,this.auth,"internal-error"),e}async onExecution(){ca(this.filter.length===1,"Popup operations only handle one event");const e=Ox();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,u6.get())};e()}}xu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6="pendingRedirect",zm=new Map;class d6 extends XR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=zm.get(this.auth._key());if(!e){try{const r=await h6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}zm.set(this.auth._key(),e)}return this.bypassAuthState||zm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function h6(t,e){const n=p6(e),r=m6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function f6(t,e){zm.set(t._key(),e)}function m6(t){return ra(t._redirectPersistence)}function p6(t){return Um(c6,t.config.apiKey,t.name)}async function g6(t,e,n=!1){if(Xr(t.app))return Promise.reject(ia(t));const r=ga(t),i=s6(r,e),l=await new d6(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6=10*60*1e3;class y6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!b6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!QR(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(gs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=v6&&this.cachedEventUids.clear(),this.cachedEventUids.has(ME(e))}saveEventToCache(e){this.cachedEventUids.add(ME(e)),this.lastProcessedEventTime=Date.now()}}function ME(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function QR({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function b6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x6(t,e={}){return ni(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_6=/^https?/;async function S6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await x6(t);for(const n of e)try{if(T6(n))return}catch{}Si(t,"unauthorized-domain")}function T6(t){const e=hp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!_6.test(n))return!1;if(w6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6=new wh(3e4,6e4);function jE(){const t=vs().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function A6(t){return new Promise((e,n)=>{var r,i,o;function l(){jE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jE(),n(gs(t,"network-request-failed"))},timeout:E6.get()})}if(!((i=(r=vs().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=vs().gapi)===null||o===void 0)&&o.load)l();else{const d=u3("iframefcb");return vs()[d]=()=>{gapi.load?l():n(gs(t,"network-request-failed"))},OR(`${l3()}?onload=${d}`).catch(c=>n(c))}}).catch(e=>{throw Bm=null,e})}let Bm=null;function C6(t){return Bm=Bm||A6(t),Bm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=new wh(5e3,15e3),R6="__/auth/iframe",I6="emulator/auth/iframe",M6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},j6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function P6(t){const e=t.config;Ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ex(e,I6):`https://${t.config.authDomain}/${R6}`,r={apiKey:e.apiKey,appName:t.name,v:_l},i=j6.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${xh(r).slice(1)}`}async function O6(t){const e=await C6(t),n=vs().gapi;return Ke(n,t,"internal-error"),e.open({where:document.body,url:P6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:M6,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=gs(t,"network-request-failed"),d=vs().setTimeout(()=>{o(l)},N6.get());function c(){vs().clearTimeout(d),i(r)}r.ping(c).then(c,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},k6=500,L6=600,V6="_blank",U6="http://localhost";class PE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function z6(t,e,n,r=k6,i=L6){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const c=Object.assign(Object.assign({},D6),{width:r.toString(),height:i.toString(),top:o,left:l}),m=vr().toLowerCase();n&&(d=CR(m)?V6:n),ER(m)&&(e=e||U6,c.scrollbars="yes");const p=Object.entries(c).reduce((x,[E,R])=>`${x}${E}=${R},`,"");if(JL(m)&&d!=="_self")return B6(e||"",d),new PE(null);const y=window.open(e||"",d,p);Ke(y,t,"popup-blocked");try{y.focus()}catch{}return new PE(y)}function B6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6="__/auth/handler",H6="emulator/auth/handler",$6=encodeURIComponent("fac");async function OE(t,e,n,r,i,o){Ke(t.config.authDomain,t,"auth-domain-config-required"),Ke(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:_l,eventId:i};if(e instanceof VR){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",xk(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,y]of Object.entries({}))l[p]=y}if(e instanceof Sh){const p=e.getScopes().filter(y=>y!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const d=l;for(const p of Object.keys(d))d[p]===void 0&&delete d[p];const c=await t._getAppCheckToken(),m=c?`#${$6}=${encodeURIComponent(c)}`:"";return`${q6(t)}?${xh(d).slice(1)}${m}`}function q6({config:t}){return t.emulator?Ex(t,H6):`https://${t.authDomain}/${F6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="webStorageSupport";class G6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qR,this._completeRedirectFn=g6,this._overrideRedirectResult=f6}async _openPopup(e,n,r,i){var o;ca((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await OE(e,n,r,hp(),i);return z6(e,l,Ox())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await OE(e,n,r,hp(),i);return Y3(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ca(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await O6(e),r=new y6(e);return n.register("authEvent",i=>(Ke(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(a0,{type:a0},i=>{var o;const l=(o=i?.[0])===null||o===void 0?void 0:o[a0];l!==void 0&&n(!!l),Si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=S6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jR()||AR()||Cx()}}const W6=G6;var DE="@firebase/auth",kE="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function X6(t){dl(new uo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:d}=r.options;Ke(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:l,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PR(t)},m=new s3(r,i,o,c);return p3(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),dl(new uo("auth-internal",e=>{const n=ga(e.getProvider("auth").getImmediate());return(r=>new K6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ps(DE,kE,Y6(t)),ps(DE,kE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6=5*60,Z6=uR("authIdTokenMaxAge")||Q6;let LE=null;const J6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Z6)return;const i=n?.token;LE!==i&&(LE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function ZR(t=_x()){const e=ng(t,"auth");if(e.isInitialized())return e.getImmediate();const n=m3(t,{popupRedirectResolver:W6,persistence:[i6,G3,qR]}),r=uR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=J6(o.toString());F3(n,l,()=>l(n.currentUser)),B3(n,d=>l(d))}}const i=aR("auth");return i&&g3(n,`http://${i}`),n}function eV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}a3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=gs("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",eV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});X6("Browser");var VE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ao,JR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,I){function N(){}N.prototype=I.prototype,C.D=I.prototype,C.prototype=new N,C.prototype.constructor=C,C.C=function(T,U,$){for(var D=Array(arguments.length-2),G=2;G<arguments.length;G++)D[G-2]=arguments[G];return I.prototype[U].apply(T,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,I,N){N||(N=0);var T=Array(16);if(typeof I=="string")for(var U=0;16>U;++U)T[U]=I.charCodeAt(N++)|I.charCodeAt(N++)<<8|I.charCodeAt(N++)<<16|I.charCodeAt(N++)<<24;else for(U=0;16>U;++U)T[U]=I[N++]|I[N++]<<8|I[N++]<<16|I[N++]<<24;I=C.g[0],N=C.g[1],U=C.g[2];var $=C.g[3],D=I+($^N&(U^$))+T[0]+3614090360&4294967295;I=N+(D<<7&4294967295|D>>>25),D=$+(U^I&(N^U))+T[1]+3905402710&4294967295,$=I+(D<<12&4294967295|D>>>20),D=U+(N^$&(I^N))+T[2]+606105819&4294967295,U=$+(D<<17&4294967295|D>>>15),D=N+(I^U&($^I))+T[3]+3250441966&4294967295,N=U+(D<<22&4294967295|D>>>10),D=I+($^N&(U^$))+T[4]+4118548399&4294967295,I=N+(D<<7&4294967295|D>>>25),D=$+(U^I&(N^U))+T[5]+1200080426&4294967295,$=I+(D<<12&4294967295|D>>>20),D=U+(N^$&(I^N))+T[6]+2821735955&4294967295,U=$+(D<<17&4294967295|D>>>15),D=N+(I^U&($^I))+T[7]+4249261313&4294967295,N=U+(D<<22&4294967295|D>>>10),D=I+($^N&(U^$))+T[8]+1770035416&4294967295,I=N+(D<<7&4294967295|D>>>25),D=$+(U^I&(N^U))+T[9]+2336552879&4294967295,$=I+(D<<12&4294967295|D>>>20),D=U+(N^$&(I^N))+T[10]+4294925233&4294967295,U=$+(D<<17&4294967295|D>>>15),D=N+(I^U&($^I))+T[11]+2304563134&4294967295,N=U+(D<<22&4294967295|D>>>10),D=I+($^N&(U^$))+T[12]+1804603682&4294967295,I=N+(D<<7&4294967295|D>>>25),D=$+(U^I&(N^U))+T[13]+4254626195&4294967295,$=I+(D<<12&4294967295|D>>>20),D=U+(N^$&(I^N))+T[14]+2792965006&4294967295,U=$+(D<<17&4294967295|D>>>15),D=N+(I^U&($^I))+T[15]+1236535329&4294967295,N=U+(D<<22&4294967295|D>>>10),D=I+(U^$&(N^U))+T[1]+4129170786&4294967295,I=N+(D<<5&4294967295|D>>>27),D=$+(N^U&(I^N))+T[6]+3225465664&4294967295,$=I+(D<<9&4294967295|D>>>23),D=U+(I^N&($^I))+T[11]+643717713&4294967295,U=$+(D<<14&4294967295|D>>>18),D=N+($^I&(U^$))+T[0]+3921069994&4294967295,N=U+(D<<20&4294967295|D>>>12),D=I+(U^$&(N^U))+T[5]+3593408605&4294967295,I=N+(D<<5&4294967295|D>>>27),D=$+(N^U&(I^N))+T[10]+38016083&4294967295,$=I+(D<<9&4294967295|D>>>23),D=U+(I^N&($^I))+T[15]+3634488961&4294967295,U=$+(D<<14&4294967295|D>>>18),D=N+($^I&(U^$))+T[4]+3889429448&4294967295,N=U+(D<<20&4294967295|D>>>12),D=I+(U^$&(N^U))+T[9]+568446438&4294967295,I=N+(D<<5&4294967295|D>>>27),D=$+(N^U&(I^N))+T[14]+3275163606&4294967295,$=I+(D<<9&4294967295|D>>>23),D=U+(I^N&($^I))+T[3]+4107603335&4294967295,U=$+(D<<14&4294967295|D>>>18),D=N+($^I&(U^$))+T[8]+1163531501&4294967295,N=U+(D<<20&4294967295|D>>>12),D=I+(U^$&(N^U))+T[13]+2850285829&4294967295,I=N+(D<<5&4294967295|D>>>27),D=$+(N^U&(I^N))+T[2]+4243563512&4294967295,$=I+(D<<9&4294967295|D>>>23),D=U+(I^N&($^I))+T[7]+1735328473&4294967295,U=$+(D<<14&4294967295|D>>>18),D=N+($^I&(U^$))+T[12]+2368359562&4294967295,N=U+(D<<20&4294967295|D>>>12),D=I+(N^U^$)+T[5]+4294588738&4294967295,I=N+(D<<4&4294967295|D>>>28),D=$+(I^N^U)+T[8]+2272392833&4294967295,$=I+(D<<11&4294967295|D>>>21),D=U+($^I^N)+T[11]+1839030562&4294967295,U=$+(D<<16&4294967295|D>>>16),D=N+(U^$^I)+T[14]+4259657740&4294967295,N=U+(D<<23&4294967295|D>>>9),D=I+(N^U^$)+T[1]+2763975236&4294967295,I=N+(D<<4&4294967295|D>>>28),D=$+(I^N^U)+T[4]+1272893353&4294967295,$=I+(D<<11&4294967295|D>>>21),D=U+($^I^N)+T[7]+4139469664&4294967295,U=$+(D<<16&4294967295|D>>>16),D=N+(U^$^I)+T[10]+3200236656&4294967295,N=U+(D<<23&4294967295|D>>>9),D=I+(N^U^$)+T[13]+681279174&4294967295,I=N+(D<<4&4294967295|D>>>28),D=$+(I^N^U)+T[0]+3936430074&4294967295,$=I+(D<<11&4294967295|D>>>21),D=U+($^I^N)+T[3]+3572445317&4294967295,U=$+(D<<16&4294967295|D>>>16),D=N+(U^$^I)+T[6]+76029189&4294967295,N=U+(D<<23&4294967295|D>>>9),D=I+(N^U^$)+T[9]+3654602809&4294967295,I=N+(D<<4&4294967295|D>>>28),D=$+(I^N^U)+T[12]+3873151461&4294967295,$=I+(D<<11&4294967295|D>>>21),D=U+($^I^N)+T[15]+530742520&4294967295,U=$+(D<<16&4294967295|D>>>16),D=N+(U^$^I)+T[2]+3299628645&4294967295,N=U+(D<<23&4294967295|D>>>9),D=I+(U^(N|~$))+T[0]+4096336452&4294967295,I=N+(D<<6&4294967295|D>>>26),D=$+(N^(I|~U))+T[7]+1126891415&4294967295,$=I+(D<<10&4294967295|D>>>22),D=U+(I^($|~N))+T[14]+2878612391&4294967295,U=$+(D<<15&4294967295|D>>>17),D=N+($^(U|~I))+T[5]+4237533241&4294967295,N=U+(D<<21&4294967295|D>>>11),D=I+(U^(N|~$))+T[12]+1700485571&4294967295,I=N+(D<<6&4294967295|D>>>26),D=$+(N^(I|~U))+T[3]+2399980690&4294967295,$=I+(D<<10&4294967295|D>>>22),D=U+(I^($|~N))+T[10]+4293915773&4294967295,U=$+(D<<15&4294967295|D>>>17),D=N+($^(U|~I))+T[1]+2240044497&4294967295,N=U+(D<<21&4294967295|D>>>11),D=I+(U^(N|~$))+T[8]+1873313359&4294967295,I=N+(D<<6&4294967295|D>>>26),D=$+(N^(I|~U))+T[15]+4264355552&4294967295,$=I+(D<<10&4294967295|D>>>22),D=U+(I^($|~N))+T[6]+2734768916&4294967295,U=$+(D<<15&4294967295|D>>>17),D=N+($^(U|~I))+T[13]+1309151649&4294967295,N=U+(D<<21&4294967295|D>>>11),D=I+(U^(N|~$))+T[4]+4149444226&4294967295,I=N+(D<<6&4294967295|D>>>26),D=$+(N^(I|~U))+T[11]+3174756917&4294967295,$=I+(D<<10&4294967295|D>>>22),D=U+(I^($|~N))+T[2]+718787259&4294967295,U=$+(D<<15&4294967295|D>>>17),D=N+($^(U|~I))+T[9]+3951481745&4294967295,C.g[0]=C.g[0]+I&4294967295,C.g[1]=C.g[1]+(U+(D<<21&4294967295|D>>>11))&4294967295,C.g[2]=C.g[2]+U&4294967295,C.g[3]=C.g[3]+$&4294967295}r.prototype.u=function(C,I){I===void 0&&(I=C.length);for(var N=I-this.blockSize,T=this.B,U=this.h,$=0;$<I;){if(U==0)for(;$<=N;)i(this,C,$),$+=this.blockSize;if(typeof C=="string"){for(;$<I;)if(T[U++]=C.charCodeAt($++),U==this.blockSize){i(this,T),U=0;break}}else for(;$<I;)if(T[U++]=C[$++],U==this.blockSize){i(this,T),U=0;break}}this.h=U,this.o+=I},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var I=1;I<C.length-8;++I)C[I]=0;var N=8*this.o;for(I=C.length-8;I<C.length;++I)C[I]=N&255,N/=256;for(this.u(C),C=Array(16),I=N=0;4>I;++I)for(var T=0;32>T;T+=8)C[N++]=this.g[I]>>>T&255;return C};function o(C,I){var N=d;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=I(C)}function l(C,I){this.h=I;for(var N=[],T=!0,U=C.length-1;0<=U;U--){var $=C[U]|0;T&&$==I||(N[U]=$,T=!1)}this.g=N}var d={};function c(C){return-128<=C&&128>C?o(C,function(I){return new l([I|0],0>I?-1:0)}):new l([C|0],0>C?-1:0)}function m(C){if(isNaN(C)||!isFinite(C))return y;if(0>C)return V(m(-C));for(var I=[],N=1,T=0;C>=N;T++)I[T]=C/N|0,N*=4294967296;return new l(I,0)}function p(C,I){if(C.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(C.charAt(0)=="-")return V(p(C.substring(1),I));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=m(Math.pow(I,8)),T=y,U=0;U<C.length;U+=8){var $=Math.min(8,C.length-U),D=parseInt(C.substring(U,U+$),I);8>$?($=m(Math.pow(I,$)),T=T.j($).add(m(D))):(T=T.j(N),T=T.add(m(D)))}return T}var y=c(0),x=c(1),E=c(16777216);t=l.prototype,t.m=function(){if(P(this))return-V(this).m();for(var C=0,I=1,N=0;N<this.g.length;N++){var T=this.i(N);C+=(0<=T?T:4294967296+T)*I,I*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(R(this))return"0";if(P(this))return"-"+V(this).toString(C);for(var I=m(Math.pow(C,6)),N=this,T="";;){var U=Y(N,I).g;N=O(N,U.j(I));var $=((0<N.g.length?N.g[0]:N.h)>>>0).toString(C);if(N=U,R(N))return $+T;for(;6>$.length;)$="0"+$;T=$+T}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function R(C){if(C.h!=0)return!1;for(var I=0;I<C.g.length;I++)if(C.g[I]!=0)return!1;return!0}function P(C){return C.h==-1}t.l=function(C){return C=O(this,C),P(C)?-1:R(C)?0:1};function V(C){for(var I=C.g.length,N=[],T=0;T<I;T++)N[T]=~C.g[T];return new l(N,~C.h).add(x)}t.abs=function(){return P(this)?V(this):this},t.add=function(C){for(var I=Math.max(this.g.length,C.g.length),N=[],T=0,U=0;U<=I;U++){var $=T+(this.i(U)&65535)+(C.i(U)&65535),D=($>>>16)+(this.i(U)>>>16)+(C.i(U)>>>16);T=D>>>16,$&=65535,D&=65535,N[U]=D<<16|$}return new l(N,N[N.length-1]&-2147483648?-1:0)};function O(C,I){return C.add(V(I))}t.j=function(C){if(R(this)||R(C))return y;if(P(this))return P(C)?V(this).j(V(C)):V(V(this).j(C));if(P(C))return V(this.j(V(C)));if(0>this.l(E)&&0>C.l(E))return m(this.m()*C.m());for(var I=this.g.length+C.g.length,N=[],T=0;T<2*I;T++)N[T]=0;for(T=0;T<this.g.length;T++)for(var U=0;U<C.g.length;U++){var $=this.i(T)>>>16,D=this.i(T)&65535,G=C.i(U)>>>16,Z=C.i(U)&65535;N[2*T+2*U]+=D*Z,B(N,2*T+2*U),N[2*T+2*U+1]+=$*Z,B(N,2*T+2*U+1),N[2*T+2*U+1]+=D*G,B(N,2*T+2*U+1),N[2*T+2*U+2]+=$*G,B(N,2*T+2*U+2)}for(T=0;T<I;T++)N[T]=N[2*T+1]<<16|N[2*T];for(T=I;T<2*I;T++)N[T]=0;return new l(N,0)};function B(C,I){for(;(C[I]&65535)!=C[I];)C[I+1]+=C[I]>>>16,C[I]&=65535,I++}function F(C,I){this.g=C,this.h=I}function Y(C,I){if(R(I))throw Error("division by zero");if(R(C))return new F(y,y);if(P(C))return I=Y(V(C),I),new F(V(I.g),V(I.h));if(P(I))return I=Y(C,V(I)),new F(V(I.g),I.h);if(30<C.g.length){if(P(C)||P(I))throw Error("slowDivide_ only works with positive integers.");for(var N=x,T=I;0>=T.l(C);)N=M(N),T=M(T);var U=j(N,1),$=j(T,1);for(T=j(T,2),N=j(N,2);!R(T);){var D=$.add(T);0>=D.l(C)&&(U=U.add(N),$=D),T=j(T,1),N=j(N,1)}return I=O(C,U.j(I)),new F(U,I)}for(U=y;0<=C.l(I);){for(N=Math.max(1,Math.floor(C.m()/I.m())),T=Math.ceil(Math.log(N)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),$=m(N),D=$.j(I);P(D)||0<D.l(C);)N-=T,$=m(N),D=$.j(I);R($)&&($=x),U=U.add($),C=O(C,D)}return new F(U,C)}t.A=function(C){return Y(this,C).h},t.and=function(C){for(var I=Math.max(this.g.length,C.g.length),N=[],T=0;T<I;T++)N[T]=this.i(T)&C.i(T);return new l(N,this.h&C.h)},t.or=function(C){for(var I=Math.max(this.g.length,C.g.length),N=[],T=0;T<I;T++)N[T]=this.i(T)|C.i(T);return new l(N,this.h|C.h)},t.xor=function(C){for(var I=Math.max(this.g.length,C.g.length),N=[],T=0;T<I;T++)N[T]=this.i(T)^C.i(T);return new l(N,this.h^C.h)};function M(C){for(var I=C.g.length+1,N=[],T=0;T<I;T++)N[T]=C.i(T)<<1|C.i(T-1)>>>31;return new l(N,C.h)}function j(C,I){var N=I>>5;I%=32;for(var T=C.g.length-N,U=[],$=0;$<T;$++)U[$]=0<I?C.i($+N)>>>I|C.i($+N+1)<<32-I:C.i($+N);return new l(U,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,JR=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=m,l.fromString=p,ao=l}).apply(typeof VE<"u"?VE:typeof self<"u"?self:typeof window<"u"?window:{});var mm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eI,Id,tI,Fm,cb,nI,rI,iI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,_,k){return g==Array.prototype||g==Object.prototype||(g[_]=k.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof mm=="object"&&mm];for(var _=0;_<g.length;++_){var k=g[_];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=n(this);function i(g,_){if(_)e:{var k=r;g=g.split(".");for(var W=0;W<g.length-1;W++){var oe=g[W];if(!(oe in k))break e;k=k[oe]}g=g[g.length-1],W=k[g],_=_(W),_!=W&&_!=null&&e(k,g,{configurable:!0,writable:!0,value:_})}}function o(g,_){g instanceof String&&(g+="");var k=0,W=!1,oe={next:function(){if(!W&&k<g.length){var ge=k++;return{value:_(ge,g[ge]),done:!1}}return W=!0,{done:!0,value:void 0}}};return oe[Symbol.iterator]=function(){return oe},oe}i("Array.prototype.values",function(g){return g||function(){return o(this,function(_,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},d=this||self;function c(g){var _=typeof g;return _=_!="object"?_:g?Array.isArray(g)?"array":_:"null",_=="array"||_=="object"&&typeof g.length=="number"}function m(g){var _=typeof g;return _=="object"&&g!=null||_=="function"}function p(g,_,k){return g.call.apply(g.bind,arguments)}function y(g,_,k){if(!g)throw Error();if(2<arguments.length){var W=Array.prototype.slice.call(arguments,2);return function(){var oe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(oe,W),g.apply(_,oe)}}return function(){return g.apply(_,arguments)}}function x(g,_,k){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,x.apply(null,arguments)}function E(g,_){var k=Array.prototype.slice.call(arguments,1);return function(){var W=k.slice();return W.push.apply(W,arguments),g.apply(this,W)}}function R(g,_){function k(){}k.prototype=_.prototype,g.aa=_.prototype,g.prototype=new k,g.prototype.constructor=g,g.Qb=function(W,oe,ge){for(var Ae=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)Ae[Rt-2]=arguments[Rt];return _.prototype[oe].apply(W,Ae)}}function P(g){const _=g.length;if(0<_){const k=Array(_);for(let W=0;W<_;W++)k[W]=g[W];return k}return[]}function V(g,_){for(let k=1;k<arguments.length;k++){const W=arguments[k];if(c(W)){const oe=g.length||0,ge=W.length||0;g.length=oe+ge;for(let Ae=0;Ae<ge;Ae++)g[oe+Ae]=W[Ae]}else g.push(W)}}class O{constructor(_,k){this.i=_,this.j=k,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function B(g){return/^[\s\xa0]*$/.test(g)}function F(){var g=d.navigator;return g&&(g=g.userAgent)?g:""}function Y(g){return Y[" "](g),g}Y[" "]=function(){};var M=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function j(g,_,k){for(const W in g)_.call(k,g[W],W,g)}function C(g,_){for(const k in g)_.call(void 0,g[k],k,g)}function I(g){const _={};for(const k in g)_[k]=g[k];return _}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(g,_){let k,W;for(let oe=1;oe<arguments.length;oe++){W=arguments[oe];for(k in W)g[k]=W[k];for(let ge=0;ge<N.length;ge++)k=N[ge],Object.prototype.hasOwnProperty.call(W,k)&&(g[k]=W[k])}}function U(g){var _=1;g=g.split(":");const k=[];for(;0<_&&g.length;)k.push(g.shift()),_--;return g.length&&k.push(g.join(":")),k}function $(g){d.setTimeout(()=>{throw g},0)}function D(){var g=K;let _=null;return g.g&&(_=g.g,g.g=g.g.next,g.g||(g.h=null),_.next=null),_}class G{constructor(){this.h=this.g=null}add(_,k){const W=Z.get();W.set(_,k),this.h?this.h.next=W:this.g=W,this.h=W}}var Z=new O(()=>new H,g=>g.reset());class H{constructor(){this.next=this.g=this.h=null}set(_,k){this.h=_,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let S,J=!1,K=new G,w=()=>{const g=d.Promise.resolve(void 0);S=()=>{g.then(z)}};var z=()=>{for(var g;g=D();){try{g.h.call(g.g)}catch(k){$(k)}var _=Z;_.j(g),100>_.h&&(_.h++,g.next=_.g,_.g=g)}J=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(g,_){this.type=g,this.g=this.target=_,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var ne=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var g=!1,_=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const k=()=>{};d.addEventListener("test",k,_),d.removeEventListener("test",k,_)}catch{}return g}();function se(g,_){if(Q.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var k=this.type=g.type,W=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=_,_=g.relatedTarget){if(M){e:{try{Y(_.nodeName);var oe=!0;break e}catch{}oe=!1}oe||(_=null)}}else k=="mouseover"?_=g.fromElement:k=="mouseout"&&(_=g.toElement);this.relatedTarget=_,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:le[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&se.aa.h.call(this)}}R(se,Q);var le={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function Pe(g,_,k,W,oe){this.listener=g,this.proxy=null,this.src=_,this.type=k,this.capture=!!W,this.ha=oe,this.key=++Ee,this.da=this.fa=!1}function Re(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function ze(g){this.src=g,this.g={},this.h=0}ze.prototype.add=function(g,_,k,W,oe){var ge=g.toString();g=this.g[ge],g||(g=this.g[ge]=[],this.h++);var Ae=Qe(g,_,W,oe);return-1<Ae?(_=g[Ae],k||(_.fa=!1)):(_=new Pe(_,this.src,ge,!!W,oe),_.fa=k,g.push(_)),_};function Ye(g,_){var k=_.type;if(k in g.g){var W=g.g[k],oe=Array.prototype.indexOf.call(W,_,void 0),ge;(ge=0<=oe)&&Array.prototype.splice.call(W,oe,1),ge&&(Re(_),g.g[k].length==0&&(delete g.g[k],g.h--))}}function Qe(g,_,k,W){for(var oe=0;oe<g.length;++oe){var ge=g[oe];if(!ge.da&&ge.listener==_&&ge.capture==!!k&&ge.ha==W)return oe}return-1}var pe="closure_lm_"+(1e6*Math.random()|0),Ce={};function $e(g,_,k,W,oe){if(Array.isArray(_)){for(var ge=0;ge<_.length;ge++)$e(g,_[ge],k,W,oe);return null}return k=Cn(k),g&&g[ve]?g.K(_,k,m(W)?!!W.capture:!1,oe):Ie(g,_,k,!1,W,oe)}function Ie(g,_,k,W,oe,ge){if(!_)throw Error("Invalid event type");var Ae=m(oe)?!!oe.capture:!!oe,Rt=pn(g);if(Rt||(g[pe]=Rt=new ze(g)),k=Rt.add(_,k,W,Ae,ge),k.proxy)return k;if(W=Je(),k.proxy=W,W.src=g,W.listener=k,g.addEventListener)ne||(oe=Ae),oe===void 0&&(oe=!1),g.addEventListener(_.toString(),W,oe);else if(g.attachEvent)g.attachEvent(Nt(_.toString()),W);else if(g.addListener&&g.removeListener)g.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return k}function Je(){function g(k){return _.call(g.src,g.listener,k)}const _=ht;return g}function mt(g,_,k,W,oe){if(Array.isArray(_))for(var ge=0;ge<_.length;ge++)mt(g,_[ge],k,W,oe);else W=m(W)?!!W.capture:!!W,k=Cn(k),g&&g[ve]?(g=g.i,_=String(_).toString(),_ in g.g&&(ge=g.g[_],k=Qe(ge,k,W,oe),-1<k&&(Re(ge[k]),Array.prototype.splice.call(ge,k,1),ge.length==0&&(delete g.g[_],g.h--)))):g&&(g=pn(g))&&(_=g.g[_.toString()],g=-1,_&&(g=Qe(_,k,W,oe)),(k=-1<g?_[g]:null)&&lt(k))}function lt(g){if(typeof g!="number"&&g&&!g.da){var _=g.src;if(_&&_[ve])Ye(_.i,g);else{var k=g.type,W=g.proxy;_.removeEventListener?_.removeEventListener(k,W,g.capture):_.detachEvent?_.detachEvent(Nt(k),W):_.addListener&&_.removeListener&&_.removeListener(W),(k=pn(_))?(Ye(k,g),k.h==0&&(k.src=null,_[pe]=null)):Re(g)}}}function Nt(g){return g in Ce?Ce[g]:Ce[g]="on"+g}function ht(g,_){if(g.da)g=!0;else{_=new se(_,this);var k=g.listener,W=g.ha||g.src;g.fa&&lt(g),g=k.call(W,_)}return g}function pn(g){return g=g[pe],g instanceof ze?g:null}var lr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cn(g){return typeof g=="function"?g:(g[lr]||(g[lr]=function(_){return g.handleEvent(_)}),g[lr])}function pt(){X.call(this),this.i=new ze(this),this.M=this,this.F=null}R(pt,X),pt.prototype[ve]=!0,pt.prototype.removeEventListener=function(g,_,k,W){mt(this,g,_,k,W)};function qe(g,_){var k,W=g.F;if(W)for(k=[];W;W=W.F)k.push(W);if(g=g.M,W=_.type||_,typeof _=="string")_=new Q(_,g);else if(_ instanceof Q)_.target=_.target||g;else{var oe=_;_=new Q(W,g),T(_,oe)}if(oe=!0,k)for(var ge=k.length-1;0<=ge;ge--){var Ae=_.g=k[ge];oe=sn(Ae,W,!0,_)&&oe}if(Ae=_.g=g,oe=sn(Ae,W,!0,_)&&oe,oe=sn(Ae,W,!1,_)&&oe,k)for(ge=0;ge<k.length;ge++)Ae=_.g=k[ge],oe=sn(Ae,W,!1,_)&&oe}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var g=this.i,_;for(_ in g.g){for(var k=g.g[_],W=0;W<k.length;W++)Re(k[W]);delete g.g[_],g.h--}}this.F=null},pt.prototype.K=function(g,_,k,W){return this.i.add(String(g),_,!1,k,W)},pt.prototype.L=function(g,_,k,W){return this.i.add(String(g),_,!0,k,W)};function sn(g,_,k,W){if(_=g.i.g[String(_)],!_)return!0;_=_.concat();for(var oe=!0,ge=0;ge<_.length;++ge){var Ae=_[ge];if(Ae&&!Ae.da&&Ae.capture==k){var Rt=Ae.listener,Vn=Ae.ha||Ae.src;Ae.fa&&Ye(g.i,Ae),oe=Rt.call(Vn,W)!==!1&&oe}}return oe&&!W.defaultPrevented}function tn(g,_,k){if(typeof g=="function")k&&(g=x(g,k));else if(g&&typeof g.handleEvent=="function")g=x(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:d.setTimeout(g,_||0)}function $i(g){g.g=tn(()=>{g.g=null,g.i&&(g.i=!1,$i(g))},g.l);const _=g.h;g.h=null,g.m.apply(null,_)}class ur extends X{constructor(_,k){super(),this.m=_,this.l=k,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:$i(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function an(g){X.call(this),this.h=g,this.g={}}R(an,X);var qi=[];function Gi(g){j(g.g,function(_,k){this.g.hasOwnProperty(k)&&lt(_)},g),g.g={}}an.prototype.N=function(){an.aa.N.call(this),Gi(this)},an.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Lr=d.JSON.stringify,js=d.JSON.parse,ri=class{stringify(g){return d.JSON.stringify(g,void 0)}parse(g){return d.JSON.parse(g,void 0)}};function ya(){}ya.prototype.h=null;function Ps(g){return g.h||(g.h=g.i())}function To(){}var ii={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ci(){Q.call(this,"d")}R(Ci,Q);function ba(){Q.call(this,"c")}R(ba,Q);var br={},Wi=null;function Ki(){return Wi=Wi||new pt}br.La="serverreachability";function xa(g){Q.call(this,br.La,g)}R(xa,Q);function te(g){const _=Ki();qe(_,new xa(_))}br.STAT_EVENT="statevent";function ae(g,_){Q.call(this,br.STAT_EVENT,g),this.stat=_}R(ae,Q);function de(g){const _=Ki();qe(_,new ae(_,g))}br.Ma="timingevent";function _e(g,_){Q.call(this,br.Ma,g),this.size=_}R(_e,Q);function Te(g,_){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){g()},_)}function Oe(){this.g=!0}Oe.prototype.xa=function(){this.g=!1};function Ge(g,_,k,W,oe,ge){g.info(function(){if(g.g)if(ge)for(var Ae="",Rt=ge.split("&"),Vn=0;Vn<Rt.length;Vn++){var It=Rt[Vn].split("=");if(1<It.length){var $n=It[0];It=It[1];var Un=$n.split("_");Ae=2<=Un.length&&Un[1]=="type"?Ae+($n+"="+It+"&"):Ae+($n+"=redacted&")}}else Ae=null;else Ae=ge;return"XMLHTTP REQ ("+W+") [attempt "+oe+"]: "+_+`
`+k+`
`+Ae})}function De(g,_,k,W,oe,ge,Ae){g.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+oe+"]: "+_+`
`+k+`
`+ge+" "+Ae})}function Ue(g,_,k,W){g.info(function(){return"XMLHTTP TEXT ("+_+"): "+et(g,k)+(W?" "+W:"")})}function Le(g,_){g.info(function(){return"TIMEOUT: "+_})}Oe.prototype.info=function(){};function et(g,_){if(!g.g)return _;if(!_)return null;try{var k=JSON.parse(_);if(k){for(g=0;g<k.length;g++)if(Array.isArray(k[g])){var W=k[g];if(!(2>W.length)){var oe=W[1];if(Array.isArray(oe)&&!(1>oe.length)){var ge=oe[0];if(ge!="noop"&&ge!="stop"&&ge!="close")for(var Ae=1;Ae<oe.length;Ae++)oe[Ae]=""}}}}return Lr(k)}catch{return _}}var We={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},st={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wt;function Ut(){}R(Ut,ya),Ut.prototype.g=function(){return new XMLHttpRequest},Ut.prototype.i=function(){return{}},wt=new Ut;function Pt(g,_,k,W){this.j=g,this.i=_,this.l=k,this.R=W||1,this.U=new an(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ct}function Ct(){this.i=null,this.g="",this.h=!1}var yt={},si={};function Ln(g,_,k){g.L=1,g.v=Co(zr(_)),g.m=k,g.P=!0,xr(g,null)}function xr(g,_){g.F=Date.now(),Vr(g),g.A=zr(g.v);var k=g.A,W=g.R;Array.isArray(W)||(W=[String(W)]),yc(k.i,"t",W),g.C=0,k=g.j.J,g.h=new Ct,g.g=lf(g.j,k?_:null,!g.m),0<g.O&&(g.M=new ur(x(g.Y,g,g.g),g.O)),_=g.U,k=g.g,W=g.ca;var oe="readystatechange";Array.isArray(oe)||(oe&&(qi[0]=oe.toString()),oe=qi);for(var ge=0;ge<oe.length;ge++){var Ae=$e(k,oe[ge],W||_.handleEvent,!1,_.h||_);if(!Ae)break;_.g[Ae.key]=Ae}_=g.H?I(g.H):{},g.m?(g.u||(g.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,_)):(g.u="GET",g.g.ea(g.A,g.u,null,_)),te(),Ge(g.i,g.u,g.A,g.l,g.R,g.m)}Pt.prototype.ca=function(g){g=g.target;const _=this.M;_&&ci(g)==3?_.j():this.Y(g)},Pt.prototype.Y=function(g){try{if(g==this.g)e:{const Un=ci(this.g);var _=this.g.Ba();const Bs=this.g.Z();if(!(3>Un)&&(Un!=3||this.g&&(this.h.h||this.g.oa()||Jh(this.g)))){this.J||Un!=4||_==7||(_==8||0>=Bs?te(3):te(2)),cr(this);var k=this.g.Z();this.X=k;t:if(er(this)){var W=Jh(this.g);g="";var oe=W.length,ge=ci(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ut(this),wr(this);var Ae="";break t}this.h.i=new d.TextDecoder}for(_=0;_<oe;_++)this.h.h=!0,g+=this.h.i.decode(W[_],{stream:!(ge&&_==oe-1)});W.length=0,this.h.g+=g,this.C=0,Ae=this.h.g}else Ae=this.g.oa();if(this.o=k==200,De(this.i,this.u,this.A,this.l,this.R,Un,k),this.o){if(this.T&&!this.K){t:{if(this.g){var Rt,Vn=this.g;if((Rt=Vn.g?Vn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Rt)){var It=Rt;break t}}It=null}if(k=It)Ue(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nn(this,k);else{this.o=!1,this.s=3,de(12),ut(this),wr(this);break e}}if(this.P){k=!0;let nr;for(;!this.J&&this.C<Ae.length;)if(nr=Yi(this,Ae),nr==si){Un==4&&(this.s=4,de(14),k=!1),Ue(this.i,this.l,null,"[Incomplete Response]");break}else if(nr==yt){this.s=4,de(15),Ue(this.i,this.l,Ae,"[Invalid Chunk]"),k=!1;break}else Ue(this.i,this.l,nr,null),Nn(this,nr);if(er(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Un!=4||Ae.length!=0||this.h.h||(this.s=1,de(16),k=!1),this.o=this.o&&k,!k)Ue(this.i,this.l,Ae,"[Invalid Chunked Response]"),ut(this),wr(this);else if(0<Ae.length&&!this.W){this.W=!0;var $n=this.j;$n.g==this&&$n.ba&&!$n.M&&($n.j.info("Great, no buffering proxy detected. Bytes received: "+Ae.length),Do($n),$n.M=!0,de(11))}}else Ue(this.i,this.l,Ae,null),Nn(this,Ae);Un==4&&ut(this),this.o&&!this.J&&(Un==4?sf(this.j,this):(this.o=!1,Vr(this)))}else nv(this.g),k==400&&0<Ae.indexOf("Unknown SID")?(this.s=3,de(12)):(this.s=0,de(13)),ut(this),wr(this)}}}catch{}finally{}};function er(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Yi(g,_){var k=g.C,W=_.indexOf(`
`,k);return W==-1?si:(k=Number(_.substring(k,W)),isNaN(k)?yt:(W+=1,W+k>_.length?si:(_=_.slice(W,W+k),g.C=W+k,_)))}Pt.prototype.cancel=function(){this.J=!0,ut(this)};function Vr(g){g.S=Date.now()+g.I,wa(g,g.I)}function wa(g,_){if(g.B!=null)throw Error("WatchDog timer not null");g.B=Te(x(g.ba,g),_)}function cr(g){g.B&&(d.clearTimeout(g.B),g.B=null)}Pt.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Le(this.i,this.A),this.L!=2&&(te(),de(17)),ut(this),this.s=2,wr(this)):wa(this,this.S-g)};function wr(g){g.j.G==0||g.J||sf(g.j,g)}function ut(g){cr(g);var _=g.M;_&&typeof _.ma=="function"&&_.ma(),g.M=null,Gi(g.U),g.g&&(_=g.g,g.g=null,_.abort(),_.ma())}function Nn(g,_){try{var k=g.j;if(k.G!=0&&(k.g==g||ai(k.h,g))){if(!g.K&&ai(k.h,g)&&k.G==3){try{var W=k.Da.g.parse(_)}catch{W=null}if(Array.isArray(W)&&W.length==3){var oe=W;if(oe[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<g.F)Ll(k),Dl(k);else break e;Sc(k),de(18)}}else k.za=oe[1],0<k.za-k.T&&37500>oe[2]&&k.F&&k.v==0&&!k.C&&(k.C=Te(x(k.Za,k),6e3));if(1>=Xt(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else zs(k,11)}else if((g.K||k.g==g)&&Ll(k),!B(_))for(oe=k.Da.g.parse(_),_=0;_<oe.length;_++){let It=oe[_];if(k.T=It[0],It=It[1],k.G==2)if(It[0]=="c"){k.K=It[1],k.ia=It[2];const $n=It[3];$n!=null&&(k.la=$n,k.j.info("VER="+k.la));const Un=It[4];Un!=null&&(k.Aa=Un,k.j.info("SVER="+k.Aa));const Bs=It[5];Bs!=null&&typeof Bs=="number"&&0<Bs&&(W=1.5*Bs,k.L=W,k.j.info("backChannelRequestTimeoutMs_="+W)),W=k;const nr=g.g;if(nr){const rs=nr.g?nr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rs){var ge=W.h;ge.g||rs.indexOf("spdy")==-1&&rs.indexOf("quic")==-1&&rs.indexOf("h2")==-1||(ge.j=ge.l,ge.g=new Set,ge.h&&(Os(ge,ge.h),ge.h=null))}if(W.D){const Ec=nr.g?nr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ec&&(W.ya=Ec,qt(W.I,W.D,Ec))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-g.F,k.j.info("Handshake RTT: "+k.R+"ms")),W=k;var Ae=g;if(W.qa=of(W,W.J?W.ia:null,W.W),Ae.K){tr(W.h,Ae);var Rt=Ae,Vn=W.L;Vn&&(Rt.I=Vn),Rt.B&&(cr(Rt),Vr(Rt)),W.g=Ae}else nf(W);0<k.i.length&&kl(k)}else It[0]!="stop"&&It[0]!="close"||zs(k,7);else k.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?zs(k,7):wc(k):It[0]!="noop"&&k.l&&k.l.ta(It),k.v=0)}}te(4)}catch{}}var Ur=class{constructor(g,_){this.g=g,this.map=_}};function Nr(g){this.l=g||10,d.PerformanceNavigationTiming?(g=d.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xi(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Xt(g){return g.h?1:g.g?g.g.size:0}function ai(g,_){return g.h?g.h==_:g.g?g.g.has(_):!1}function Os(g,_){g.g?g.g.add(_):g.h=_}function tr(g,_){g.h&&g.h==_?g.h=null:g.g&&g.g.has(_)&&g.g.delete(_)}Nr.prototype.cancel=function(){if(this.i=mc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function mc(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let _=g.i;for(const k of g.g.values())_=_.concat(k.D);return _}return P(g.i)}function Zg(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(c(g)){for(var _=[],k=g.length,W=0;W<k;W++)_.push(g[W]);return _}_=[],k=0;for(W in g)_[k++]=g[W];return _}function Rl(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(c(g)||typeof g=="string"){var _=[];g=g.length;for(var k=0;k<g;k++)_.push(k);return _}_=[],k=0;for(const W in g)_[k++]=W;return _}}}function pc(g,_){if(g.forEach&&typeof g.forEach=="function")g.forEach(_,void 0);else if(c(g)||typeof g=="string")Array.prototype.forEach.call(g,_,void 0);else for(var k=Rl(g),W=Zg(g),oe=W.length,ge=0;ge<oe;ge++)_.call(void 0,W[ge],k&&k[ge],g)}var Eo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jg(g,_){if(g){g=g.split("&");for(var k=0;k<g.length;k++){var W=g[k].indexOf("="),oe=null;if(0<=W){var ge=g[k].substring(0,W);oe=g[k].substring(W+1)}else ge=g[k];_(ge,oe?decodeURIComponent(oe.replace(/\+/g," ")):"")}}}function Rn(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Rn){this.h=g.h,Ao(this,g.j),this.o=g.o,this.g=g.g,_a(this,g.s),this.l=g.l;var _=g.i,k=new ks;k.i=_.i,_.g&&(k.g=new Map(_.g),k.h=_.h),Ds(this,k),this.m=g.m}else g&&(_=String(g).match(Eo))?(this.h=!1,Ao(this,_[1]||"",!0),this.o=oi(_[2]||""),this.g=oi(_[3]||"",!0),_a(this,_[4]),this.l=oi(_[5]||"",!0),Ds(this,_[6]||"",!0),this.m=oi(_[7]||"")):(this.h=!1,this.i=new ks(null,this.h))}Rn.prototype.toString=function(){var g=[],_=this.j;_&&g.push(No(_,gc,!0),":");var k=this.g;return(k||_=="file")&&(g.push("//"),(_=this.o)&&g.push(No(_,gc,!0),"@"),g.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&g.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&g.push("/"),g.push(No(k,k.charAt(0)=="/"?ev:vc,!0))),(k=this.i.toString())&&g.push("?",k),(k=this.m)&&g.push("#",No(k,Il)),g.join("")};function zr(g){return new Rn(g)}function Ao(g,_,k){g.j=k?oi(_,!0):_,g.j&&(g.j=g.j.replace(/:$/,""))}function _a(g,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);g.s=_}else g.s=null}function Ds(g,_,k){_ instanceof ks?(g.i=_,Qh(g.i,g.h)):(k||(_=No(_,tv)),g.i=new ks(_,g.h))}function qt(g,_,k){g.i.set(_,k)}function Co(g){return qt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function oi(g,_){return g?_?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function No(g,_,k){return typeof g=="string"?(g=encodeURI(g).replace(_,Xh),k&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Xh(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var gc=/[#\/\?@]/g,vc=/[#\?:]/g,ev=/[#\?]/g,tv=/[#\?@]/g,Il=/#/g;function ks(g,_){this.h=this.g=null,this.i=g||null,this.j=!!_}function li(g){g.g||(g.g=new Map,g.h=0,g.i&&Jg(g.i,function(_,k){g.add(decodeURIComponent(_.replace(/\+/g," ")),k)}))}t=ks.prototype,t.add=function(g,_){li(this),this.i=null,g=Qi(this,g);var k=this.g.get(g);return k||this.g.set(g,k=[]),k.push(_),this.h+=1,this};function Ls(g,_){li(g),_=Qi(g,_),g.g.has(_)&&(g.i=null,g.h-=g.g.get(_).length,g.g.delete(_))}function Vs(g,_){return li(g),_=Qi(g,_),g.g.has(_)}t.forEach=function(g,_){li(this),this.g.forEach(function(k,W){k.forEach(function(oe){g.call(_,oe,W,this)},this)},this)},t.na=function(){li(this);const g=Array.from(this.g.values()),_=Array.from(this.g.keys()),k=[];for(let W=0;W<_.length;W++){const oe=g[W];for(let ge=0;ge<oe.length;ge++)k.push(_[W])}return k},t.V=function(g){li(this);let _=[];if(typeof g=="string")Vs(this,g)&&(_=_.concat(this.g.get(Qi(this,g))));else{g=Array.from(this.g.values());for(let k=0;k<g.length;k++)_=_.concat(g[k])}return _},t.set=function(g,_){return li(this),this.i=null,g=Qi(this,g),Vs(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[_]),this.h+=1,this},t.get=function(g,_){return g?(g=this.V(g),0<g.length?String(g[0]):_):_};function yc(g,_,k){Ls(g,_),0<k.length&&(g.i=null,g.g.set(Qi(g,_),P(k)),g.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],_=Array.from(this.g.keys());for(var k=0;k<_.length;k++){var W=_[k];const ge=encodeURIComponent(String(W)),Ae=this.V(W);for(W=0;W<Ae.length;W++){var oe=ge;Ae[W]!==""&&(oe+="="+encodeURIComponent(String(Ae[W]))),g.push(oe)}}return this.i=g.join("&")};function Qi(g,_){return _=String(_),g.j&&(_=_.toLowerCase()),_}function Qh(g,_){_&&!g.j&&(li(g),g.i=null,g.g.forEach(function(k,W){var oe=W.toLowerCase();W!=oe&&(Ls(this,W),yc(this,oe,k))},g)),g.j=_}function Ro(g,_){const k=new Oe;if(d.Image){const W=new Image;W.onload=E(ui,k,"TestLoadImage: loaded",!0,_,W),W.onerror=E(ui,k,"TestLoadImage: error",!1,_,W),W.onabort=E(ui,k,"TestLoadImage: abort",!1,_,W),W.ontimeout=E(ui,k,"TestLoadImage: timeout",!1,_,W),d.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=g}else _(!1)}function Ni(g,_){const k=new Oe,W=new AbortController,oe=setTimeout(()=>{W.abort(),ui(k,"TestPingServer: timeout",!1,_)},1e4);fetch(g,{signal:W.signal}).then(ge=>{clearTimeout(oe),ge.ok?ui(k,"TestPingServer: ok",!0,_):ui(k,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(oe),ui(k,"TestPingServer: error",!1,_)})}function ui(g,_,k,W,oe){try{oe&&(oe.onload=null,oe.onerror=null,oe.onabort=null,oe.ontimeout=null),W(k)}catch{}}function Io(){this.g=new ri}function Zi(g,_,k){const W=k||"";try{pc(g,function(oe,ge){let Ae=oe;m(oe)&&(Ae=Lr(oe)),_.push(W+ge+"="+encodeURIComponent(Ae))})}catch(oe){throw _.push(W+"type="+encodeURIComponent("_badmap")),oe}}function Sa(g){this.l=g.Ub||null,this.j=g.eb||!1}R(Sa,ya),Sa.prototype.g=function(){return new Us(this.l,this.j)},Sa.prototype.i=function(g){return function(){return g}}({});function Us(g,_){pt.call(this),this.D=g,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Us,pt),t=Us.prototype,t.open=function(g,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=_,this.readyState=1,es(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(_.body=g),(this.D||d).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ji(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,es(this)),this.g&&(this.readyState=3,es(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bc(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function bc(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var _=g.value?g.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!g.done}))&&(this.response=this.responseText+=_)}g.done?Ji(this):es(this),this.readyState==3&&bc(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,Ji(this))},t.Qa=function(g){this.g&&(this.response=g,Ji(this))},t.ga=function(){this.g&&Ji(this)};function Ji(g){g.readyState=4,g.l=null,g.j=null,g.v=null,es(g)}t.setRequestHeader=function(g,_){this.u.append(g,_)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],_=this.h.entries();for(var k=_.next();!k.done;)k=k.value,g.push(k[0]+": "+k[1]),k=_.next();return g.join(`\r
`)};function es(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function xc(g){let _="";return j(g,function(k,W){_+=W,_+=":",_+=k,_+=`\r
`}),_}function Hn(g,_,k){e:{for(W in k){var W=!1;break e}W=!0}W||(k=xc(k),typeof g=="string"?k!=null&&encodeURIComponent(String(k)):qt(g,_,k))}function zt(g){pt.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(zt,pt);var Ml=/^https?$/i,Mo=["POST","PUT"];t=zt.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,_,k,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);_=_?_.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wt.g(),this.v=this.o?Ps(this.o):Ps(wt),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(_,String(g),!0),this.B=!1}catch(ge){Zh(this,ge);return}if(g=k||"",k=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var oe in W)k.set(oe,W[oe]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(const ge of W.keys())k.set(ge,W.get(ge));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from(k.keys()).find(ge=>ge.toLowerCase()=="content-type"),oe=d.FormData&&g instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Mo,_,void 0))||W||oe||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ge,Ae]of k)this.g.setRequestHeader(ge,Ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{jo(this),this.u=!0,this.g.send(g),this.u=!1}catch(ge){Zh(this,ge)}};function Zh(g,_){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=_,g.m=5,jl(g),ts(g)}function jl(g){g.A||(g.A=!0,qe(g,"complete"),qe(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,qe(this,"complete"),qe(this,"abort"),ts(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ts(this,!0)),zt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Pl(this):this.bb())},t.bb=function(){Pl(this)};function Pl(g){if(g.h&&typeof l<"u"&&(!g.v[1]||ci(g)!=4||g.Z()!=2)){if(g.u&&ci(g)==4)tn(g.Ea,0,g);else if(qe(g,"readystatechange"),ci(g)==4){g.h=!1;try{const Ae=g.Z();e:switch(Ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var k;if(!(k=_)){var W;if(W=Ae===0){var oe=String(g.D).match(Eo)[1]||null;!oe&&d.self&&d.self.location&&(oe=d.self.location.protocol.slice(0,-1)),W=!Ml.test(oe?oe.toLowerCase():"")}k=W}if(k)qe(g,"complete"),qe(g,"success");else{g.m=6;try{var ge=2<ci(g)?g.g.statusText:""}catch{ge=""}g.l=ge+" ["+g.Z()+"]",jl(g)}}finally{ts(g)}}}}function ts(g,_){if(g.g){jo(g);const k=g.g,W=g.v[0]?()=>{}:null;g.g=null,g.v=null,_||qe(g,"ready");try{k.onreadystatechange=W}catch{}}}function jo(g){g.I&&(d.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function ci(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<ci(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var _=this.g.responseText;return g&&_.indexOf(g)==0&&(_=_.substring(g.length)),js(_)}};function Jh(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function nv(g){const _={};g=(g.g&&2<=ci(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<g.length;W++){if(B(g[W]))continue;var k=U(g[W]);const oe=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const ge=_[oe]||[];_[oe]=ge,ge.push(k)}C(_,function(W){return W.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Po(g,_,k){return k&&k.internalChannelParams&&k.internalChannelParams[g]||_}function Ol(g){this.Aa=0,this.i=[],this.j=new Oe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Po("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Po("baseRetryDelayMs",5e3,g),this.cb=Po("retryDelaySeedMs",1e4,g),this.Wa=Po("forwardChannelMaxRetries",2,g),this.wa=Po("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Nr(g&&g.concurrentRequestLimit),this.Da=new Io,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ol.prototype,t.la=8,t.G=1,t.connect=function(g,_,k,W){de(0),this.W=g,this.H=_||{},k&&W!==void 0&&(this.H.OSID=k,this.H.OAID=W),this.F=this.X,this.I=of(this,null,this.W),kl(this)};function wc(g){if(ef(g),g.G==3){var _=g.U++,k=zr(g.I);if(qt(k,"SID",g.K),qt(k,"RID",_),qt(k,"TYPE","terminate"),Oo(g,k),_=new Pt(g,g.j,_),_.L=2,_.v=Co(zr(k)),k=!1,d.navigator&&d.navigator.sendBeacon)try{k=d.navigator.sendBeacon(_.v.toString(),"")}catch{}!k&&d.Image&&(new Image().src=_.v,k=!0),k||(_.g=lf(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Vr(_)}af(g)}function Dl(g){g.g&&(Do(g),g.g.cancel(),g.g=null)}function ef(g){Dl(g),g.u&&(d.clearTimeout(g.u),g.u=null),Ll(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&d.clearTimeout(g.s),g.s=null)}function kl(g){if(!Xi(g.h)&&!g.s){g.s=!0;var _=g.Ga;S||w(),J||(S(),J=!0),K.add(_,g),g.B=0}}function rv(g,_){return Xt(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=_.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=Te(x(g.Ga,g,_),Tc(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const oe=new Pt(this,this.j,g);let ge=this.o;if(this.S&&(ge?(ge=I(ge),T(ge,this.S)):ge=this.S),this.m!==null||this.O||(oe.H=ge,ge=null),this.P)e:{for(var _=0,k=0;k<this.i.length;k++){t:{var W=this.i[k];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break t}W=void 0}if(W===void 0)break;if(_+=W,4096<_){_=k;break e}if(_===4096||k===this.i.length-1){_=k+1;break e}}_=1e3}else _=1e3;_=tf(this,oe,_),k=zr(this.I),qt(k,"RID",g),qt(k,"CVER",22),this.D&&qt(k,"X-HTTP-Session-Id",this.D),Oo(this,k),ge&&(this.O?_="headers="+encodeURIComponent(String(xc(ge)))+"&"+_:this.m&&Hn(k,this.m,ge)),Os(this.h,oe),this.Ua&&qt(k,"TYPE","init"),this.P?(qt(k,"$req",_),qt(k,"SID","null"),oe.T=!0,Ln(oe,k,null)):Ln(oe,k,_),this.G=2}}else this.G==3&&(g?_c(this,g):this.i.length==0||Xi(this.h)||_c(this))};function _c(g,_){var k;_?k=_.l:k=g.U++;const W=zr(g.I);qt(W,"SID",g.K),qt(W,"RID",k),qt(W,"AID",g.T),Oo(g,W),g.m&&g.o&&Hn(W,g.m,g.o),k=new Pt(g,g.j,k,g.B+1),g.m===null&&(k.H=g.o),_&&(g.i=_.D.concat(g.i)),_=tf(g,k,1e3),k.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),Os(g.h,k),Ln(k,W,_)}function Oo(g,_){g.H&&j(g.H,function(k,W){qt(_,W,k)}),g.l&&pc({},function(k,W){qt(_,W,k)})}function tf(g,_,k){k=Math.min(g.i.length,k);var W=g.l?x(g.l.Na,g.l,g):null;e:{var oe=g.i;let ge=-1;for(;;){const Ae=["count="+k];ge==-1?0<k?(ge=oe[0].g,Ae.push("ofs="+ge)):ge=0:Ae.push("ofs="+ge);let Rt=!0;for(let Vn=0;Vn<k;Vn++){let It=oe[Vn].g;const $n=oe[Vn].map;if(It-=ge,0>It)ge=Math.max(0,oe[Vn].g-100),Rt=!1;else try{Zi($n,Ae,"req"+It+"_")}catch{W&&W($n)}}if(Rt){W=Ae.join("&");break e}}}return g=g.i.splice(0,k),_.D=g,W}function nf(g){if(!g.g&&!g.u){g.Y=1;var _=g.Fa;S||w(),J||(S(),J=!0),K.add(_,g),g.v=0}}function Sc(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=Te(x(g.Fa,g),Tc(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,rf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=Te(x(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,de(10),Dl(this),rf(this))};function Do(g){g.A!=null&&(d.clearTimeout(g.A),g.A=null)}function rf(g){g.g=new Pt(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var _=zr(g.qa);qt(_,"RID","rpc"),qt(_,"SID",g.K),qt(_,"AID",g.T),qt(_,"CI",g.F?"0":"1"),!g.F&&g.ja&&qt(_,"TO",g.ja),qt(_,"TYPE","xmlhttp"),Oo(g,_),g.m&&g.o&&Hn(_,g.m,g.o),g.L&&(g.g.I=g.L);var k=g.g;g=g.ia,k.L=1,k.v=Co(zr(_)),k.m=null,k.P=!0,xr(k,g)}t.Za=function(){this.C!=null&&(this.C=null,Dl(this),Sc(this),de(19))};function Ll(g){g.C!=null&&(d.clearTimeout(g.C),g.C=null)}function sf(g,_){var k=null;if(g.g==_){Ll(g),Do(g),g.g=null;var W=2}else if(ai(g.h,_))k=_.D,tr(g.h,_),W=1;else return;if(g.G!=0){if(_.o)if(W==1){k=_.m?_.m.length:0,_=Date.now()-_.F;var oe=g.B;W=Ki(),qe(W,new _e(W,k)),kl(g)}else nf(g);else if(oe=_.s,oe==3||oe==0&&0<_.X||!(W==1&&rv(g,_)||W==2&&Sc(g)))switch(k&&0<k.length&&(_=g.h,_.i=_.i.concat(k)),oe){case 1:zs(g,5);break;case 4:zs(g,10);break;case 3:zs(g,6);break;default:zs(g,2)}}}function Tc(g,_){let k=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(k*=2),k*_}function zs(g,_){if(g.j.info("Error code "+_),_==2){var k=x(g.fb,g),W=g.Xa;const oe=!W;W=new Rn(W||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ao(W,"https"),Co(W),oe?Ro(W.toString(),k):Ni(W.toString(),k)}else de(2);g.G=0,g.l&&g.l.sa(_),af(g),ef(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),de(2)):(this.j.info("Failed to ping google.com"),de(1))};function af(g){if(g.G=0,g.ka=[],g.l){const _=mc(g.h);(_.length!=0||g.i.length!=0)&&(V(g.ka,_),V(g.ka,g.i),g.h.i.length=0,P(g.i),g.i.length=0),g.l.ra()}}function of(g,_,k){var W=k instanceof Rn?zr(k):new Rn(k);if(W.g!="")_&&(W.g=_+"."+W.g),_a(W,W.s);else{var oe=d.location;W=oe.protocol,_=_?_+"."+oe.hostname:oe.hostname,oe=+oe.port;var ge=new Rn(null);W&&Ao(ge,W),_&&(ge.g=_),oe&&_a(ge,oe),k&&(ge.l=k),W=ge}return k=g.D,_=g.ya,k&&_&&qt(W,k,_),qt(W,"VER",g.la),Oo(g,W),W}function lf(g,_,k){if(_&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=g.Ca&&!g.pa?new zt(new Sa({eb:k})):new zt(g.pa),_.Ha(g.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function uf(){}t=uf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Vl(){}Vl.prototype.g=function(g,_){return new _r(g,_)};function _r(g,_){pt.call(this),this.g=new Ol(_),this.l=g,this.h=_&&_.messageUrlParams||null,g=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(g?g["X-WebChannel-Content-Type"]=_.messageContentType:g={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(g?g["X-WebChannel-Client-Profile"]=_.va:g={"X-WebChannel-Client-Profile":_.va}),this.g.S=g,(g=_&&_.Sb)&&!B(g)&&(this.g.m=g),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!B(_)&&(this.g.D=_,g=this.h,g!==null&&_ in g&&(g=this.h,_ in g&&delete g[_])),this.j=new ns(this)}R(_r,pt),_r.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_r.prototype.close=function(){wc(this.g)},_r.prototype.o=function(g){var _=this.g;if(typeof g=="string"){var k={};k.__data__=g,g=k}else this.u&&(k={},k.__data__=Lr(g),g=k);_.i.push(new Ur(_.Ya++,g)),_.G==3&&kl(_)},_r.prototype.N=function(){this.g.l=null,delete this.j,wc(this.g),delete this.g,_r.aa.N.call(this)};function cf(g){Ci.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var _=g.__sm__;if(_){e:{for(const k in _){g=k;break e}g=void 0}(this.i=g)&&(g=this.i,_=_!==null&&g in _?_[g]:void 0),this.data=_}else this.data=g}R(cf,Ci);function df(){ba.call(this),this.status=1}R(df,ba);function ns(g){this.g=g}R(ns,uf),ns.prototype.ua=function(){qe(this.g,"a")},ns.prototype.ta=function(g){qe(this.g,new cf(g))},ns.prototype.sa=function(g){qe(this.g,new df)},ns.prototype.ra=function(){qe(this.g,"b")},Vl.prototype.createWebChannel=Vl.prototype.g,_r.prototype.send=_r.prototype.o,_r.prototype.open=_r.prototype.m,_r.prototype.close=_r.prototype.close,iI=function(){return new Vl},rI=function(){return Ki()},nI=br,cb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},We.NO_ERROR=0,We.TIMEOUT=8,We.HTTP_ERROR=6,Fm=We,st.COMPLETE="complete",tI=st,To.EventType=ii,ii.OPEN="a",ii.CLOSE="b",ii.ERROR="c",ii.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Id=To,zt.prototype.listenOnce=zt.prototype.L,zt.prototype.getLastError=zt.prototype.Ka,zt.prototype.getLastErrorCode=zt.prototype.Ba,zt.prototype.getStatus=zt.prototype.Z,zt.prototype.getResponseJson=zt.prototype.Oa,zt.prototype.getResponseText=zt.prototype.oa,zt.prototype.send=zt.prototype.ea,zt.prototype.setWithCredentials=zt.prototype.Ha,eI=zt}).apply(typeof mm<"u"?mm:typeof self<"u"?self:typeof window<"u"?window:{});const UE="@firebase/firestore",zE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};pr.UNAUTHENTICATED=new pr(null),pr.GOOGLE_CREDENTIALS=new pr("google-credentials-uid"),pr.FIRST_PARTY=new pr("first-party-uid"),pr.MOCK_USER=new pr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sc="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=new xx("@firebase/firestore");function mu(){return ml.logLevel}function je(t,...e){if(ml.logLevel<=Et.DEBUG){const n=e.map(kx);ml.debug(`Firestore (${sc}): ${t}`,...n)}}function da(t,...e){if(ml.logLevel<=Et.ERROR){const n=e.map(kx);ml.error(`Firestore (${sc}): ${t}`,...n)}}function ha(t,...e){if(ml.logLevel<=Et.WARN){const n=e.map(kx);ml.warn(`Firestore (${sc}): ${t}`,...n)}}function kx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,sI(t,r,n)}function sI(t,e,n){let r=`FIRESTORE (${sc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw da(r),new Error(r)}function Ft(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||sI(e,i,r)}function dt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Is{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(pr.UNAUTHENTICATED))}shutdown(){}}class tV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class nV{constructor(e){this.t=e,this.currentUser=pr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ft(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new sa;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new sa,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},d=c=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(c=>d(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?d(c):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new sa)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ft(typeof r.accessToken=="string",31837,{l:r}),new aI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ft(e===null||typeof e=="string",2055,{h:e}),new pr(e)}}class rV{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=pr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class iV{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new rV(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(pr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sV{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ft(this.o===void 0,3512);const r=o=>{o.error!=null&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,je("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new BE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new BE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=aV(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function vt(t,e){return t<e?-1:t>e?1:0}function db(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return vt(r,i);{const o=lI(),l=oV(o.encode(FE(t,n)),o.encode(FE(e,n)));return l!==0?l:vt(r,i)}}n+=r>65535?2:1}return vt(t.length,e.length)}function FE(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function oV(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return vt(t[n],e[n]);return vt(t.length,e.length)}function Fu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="__name__";class us{constructor(e,n,r){n===void 0?n=0:n>e.length&&it(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&it(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return us.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof us?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=us.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return vt(e.length,n.length)}static compareSegments(e,n){const r=us.isNumericId(e),i=us.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?us.extractNumericId(e).compare(us.extractNumericId(n)):db(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ao.fromString(e.substring(4,e.length-2))}}class Jt extends us{construct(e,n,r){return new Jt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Jt(n)}static emptyPath(){return new Jt([])}}const lV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xn extends us{construct(e,n,r){return new Xn(e,n,r)}static isValidIdentifier(e){return lV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===HE}static keyField(){return new Xn([HE])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Ne(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const d=e[i];if(d==="\\"){if(i+1===e.length)throw new Ne(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ne(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else d==="`"?(l=!l,i++):d!=="."||l?(r+=d,i++):(o(),i++)}if(o(),l)throw new Ne(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xn(n)}static emptyPath(){return new Xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be(Jt.fromString(e))}static fromName(e){return new Be(Jt.fromString(e).popFirst(5))}static empty(){return new Be(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Jt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new Jt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(t,e,n){if(!n)throw new Ne(ye.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function cI(t,e,n,r){if(e===!0&&r===!0)throw new Ne(ye.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $E(t){if(!Be.isDocumentKey(t))throw new Ne(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qE(t){if(Be.isDocumentKey(t))throw new Ne(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dI(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function og(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":it(12329,{type:typeof t})}function Ar(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ne(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=og(t);throw new Ne(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Eh(t,e){if(!dI(t))throw new Ne(ye.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Ne(ye.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=-62135596800,WE=1e6;class en{static now(){return en.fromMillis(Date.now())}static fromDate(e){return en.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*WE);return new en(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ne(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ne(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<GE)throw new Ne(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/WE}_compareTo(e){return this.seconds===e.seconds?vt(this.nanoseconds,e.nanoseconds):vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:en._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Eh(e,en._jsonSchema))return new en(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-GE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}en._jsonSchemaVersion="firestore/timestamp/1.0",en._jsonSchema={type:kn("string",en._jsonSchemaVersion),seconds:kn("number"),nanoseconds:kn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{static fromTimestamp(e){return new ct(e)}static min(){return new ct(new en(0,0))}static max(){return new ct(new en(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=-1;function uV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ct.fromTimestamp(r===1e9?new en(n+1,0):new en(n,r));return new co(i,Be.empty(),e)}function cV(t){return new co(t.readTime,t.key,Jd)}class co{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new co(ct.min(),Be.empty(),Jd)}static max(){return new co(ct.max(),Be.empty(),Jd)}}function dV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Be.comparator(t.documentKey,e.documentKey),n!==0?n:vt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(t){if(t.code!==ye.FAILED_PRECONDITION||t.message!==hV)throw t;je("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&it(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Se((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Se?n:Se.resolve(n)}catch(n){return Se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Se.reject(n)}static resolve(e){return new Se((n,r)=>{n(e)})}static reject(e){return new Se((n,r)=>{r(e)})}static waitFor(e){return new Se((n,r)=>{let i=0,o=0,l=!1;e.forEach(d=>{++i,d.next(()=>{++o,l&&o===i&&n()},c=>r(c))}),l=!0,o===i&&n()})}static or(e){let n=Se.resolve(!1);for(const r of e)n=n.next(i=>i?Se.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Se((r,i)=>{const o=e.length,l=new Array(o);let d=0;for(let c=0;c<o;c++){const m=c;n(e[m]).next(p=>{l[m]=p,++d,d===o&&r(l)},p=>i(p))}})}static doWhile(e,n){return new Se((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function mV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function oc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}lg.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx=-1;function ug(t){return t==null}function bp(t){return t===0&&1/t==-1/0}function pV(t){return typeof t=="number"&&Number.isInteger(t)&&!bp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="";function gV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=KE(e)),e=vV(t.get(n),e);return KE(e)}function vV(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case hI:n+="";break;default:n+=o}}return n}function KE(t){return t+hI+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function fI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n){this.comparator=e,this.root=n||ar.EMPTY}insert(e,n){return new mn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ar.BLACK,null,null))}remove(e){return new mn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ar.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pm(this.root,e,this.comparator,!1)}getReverseIterator(){return new pm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pm(this.root,e,this.comparator,!0)}}class pm{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ar{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??ar.RED,this.left=i??ar.EMPTY,this.right=o??ar.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new ar(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ar.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ar.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ar.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ar.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw it(43730,{key:this.key,value:this.value});if(this.right.isRed())throw it(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw it(27949);return e+(this.isRed()?0:1)}}ar.EMPTY=null,ar.RED=!0,ar.BLACK=!1;ar.EMPTY=new class{constructor(){this.size=0}get key(){throw it(57766)}get value(){throw it(16141)}get color(){throw it(16727)}get left(){throw it(29726)}get right(){throw it(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new ar(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.comparator=e,this.data=new mn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new XE(this.data.getIterator())}getIteratorFrom(e){return new XE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Fn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Fn(this.comparator);return n.data=e,n}}class XE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e){this.fields=e,e.sort(Xn.comparator)}static empty(){return new Jr([])}unionWith(e){let n=new Fn(Xn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Jr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new mI("Invalid base64 string: "+o):o}}(e);return new Zn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new Zn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zn.EMPTY_BYTE_STRING=new Zn("");const yV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ho(t){if(Ft(!!t,39018),typeof t=="string"){let e=0;const n=yV.exec(t);if(Ft(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:En(t.seconds),nanos:En(t.nanos)}}function En(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fo(t){return typeof t=="string"?Zn.fromBase64String(t):Zn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="server_timestamp",gI="__type__",vI="__previous_value__",yI="__local_write_time__";function cg(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[gI])===null||n===void 0?void 0:n.stringValue)===pI}function dg(t){const e=t.mapValue.fields[vI];return cg(e)?dg(e):e}function eh(t){const e=ho(t.mapValue.fields[yI].timestampValue);return new en(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e,n,r,i,o,l,d,c,m,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.longPollingOptions=c,this.useFetchStreams=m,this.isUsingEmulator=p}}const xp="(default)";class Hu{constructor(e,n){this.projectId=e,this.database=n||xp}static empty(){return new Hu("","")}get isDefaultDatabase(){return this.database===xp}isEqual(e){return e instanceof Hu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="__type__",xV="__max__",gm={mapValue:{}},xI="__vector__",wp="value";function mo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cg(t)?4:_V(t)?9007199254740991:wV(t)?10:11:it(28295,{value:t})}function Es(t,e){if(t===e)return!0;const n=mo(t);if(n!==mo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return eh(t).isEqual(eh(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=ho(i.timestampValue),d=ho(o.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return fo(i.bytesValue).isEqual(fo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return En(i.geoPointValue.latitude)===En(o.geoPointValue.latitude)&&En(i.geoPointValue.longitude)===En(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return En(i.integerValue)===En(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=En(i.doubleValue),d=En(o.doubleValue);return l===d?bp(l)===bp(d):isNaN(l)&&isNaN(d)}return!1}(t,e);case 9:return Fu(t.arrayValue.values||[],e.arrayValue.values||[],Es);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},d=o.mapValue.fields||{};if(YE(l)!==YE(d))return!1;for(const c in l)if(l.hasOwnProperty(c)&&(d[c]===void 0||!Es(l[c],d[c])))return!1;return!0}(t,e);default:return it(52216,{left:t})}}function th(t,e){return(t.values||[]).find(n=>Es(n,e))!==void 0}function $u(t,e){if(t===e)return 0;const n=mo(t),r=mo(e);if(n!==r)return vt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return vt(t.booleanValue,e.booleanValue);case 2:return function(o,l){const d=En(o.integerValue||o.doubleValue),c=En(l.integerValue||l.doubleValue);return d<c?-1:d>c?1:d===c?0:isNaN(d)?isNaN(c)?0:-1:1}(t,e);case 3:return QE(t.timestampValue,e.timestampValue);case 4:return QE(eh(t),eh(e));case 5:return db(t.stringValue,e.stringValue);case 6:return function(o,l){const d=fo(o),c=fo(l);return d.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,l){const d=o.split("/"),c=l.split("/");for(let m=0;m<d.length&&m<c.length;m++){const p=vt(d[m],c[m]);if(p!==0)return p}return vt(d.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,l){const d=vt(En(o.latitude),En(l.latitude));return d!==0?d:vt(En(o.longitude),En(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ZE(t.arrayValue,e.arrayValue);case 10:return function(o,l){var d,c,m,p;const y=o.fields||{},x=l.fields||{},E=(d=y[wp])===null||d===void 0?void 0:d.arrayValue,R=(c=x[wp])===null||c===void 0?void 0:c.arrayValue,P=vt(((m=E?.values)===null||m===void 0?void 0:m.length)||0,((p=R?.values)===null||p===void 0?void 0:p.length)||0);return P!==0?P:ZE(E,R)}(t.mapValue,e.mapValue);case 11:return function(o,l){if(o===gm.mapValue&&l===gm.mapValue)return 0;if(o===gm.mapValue)return 1;if(l===gm.mapValue)return-1;const d=o.fields||{},c=Object.keys(d),m=l.fields||{},p=Object.keys(m);c.sort(),p.sort();for(let y=0;y<c.length&&y<p.length;++y){const x=db(c[y],p[y]);if(x!==0)return x;const E=$u(d[c[y]],m[p[y]]);if(E!==0)return E}return vt(c.length,p.length)}(t.mapValue,e.mapValue);default:throw it(23264,{le:n})}}function QE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return vt(t,e);const n=ho(t),r=ho(e),i=vt(n.seconds,r.seconds);return i!==0?i:vt(n.nanos,r.nanos)}function ZE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=$u(n[i],r[i]);if(o)return o}return vt(n.length,r.length)}function qu(t){return hb(t)}function hb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ho(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return fo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Be.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=hb(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${hb(n.fields[l])}`;return i+"}"}(t.mapValue):it(61005,{value:t})}function Hm(t){switch(mo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dg(t);return e?16+Hm(e):16;case 5:return 2*t.stringValue.length;case 6:return fo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Hm(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return xo(r.fields,(o,l)=>{i+=o.length+Hm(l)}),i}(t.mapValue);default:throw it(13486,{value:t})}}function _p(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fb(t){return!!t&&"integerValue"in t}function Vx(t){return!!t&&"arrayValue"in t}function JE(t){return!!t&&"nullValue"in t}function e2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $m(t){return!!t&&"mapValue"in t}function wV(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[bI])===null||n===void 0?void 0:n.stringValue)===xI}function Ud(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return xo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ud(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ud(t.arrayValue.values[n]);return e}return Object.assign({},t)}function _V(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===xV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.value=e}static empty(){return new Pr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$m(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ud(n)}setAll(e){let n=Xn.emptyPath(),r={},i=[];e.forEach((l,d)=>{if(!n.isImmediateParentOf(d)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=d.popLast()}l?r[d.lastSegment()]=Ud(l):i.push(d.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());$m(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Es(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];$m(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){xo(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Pr(Ud(this.value))}}function wI(t){const e=[];return xo(t.fields,(n,r)=>{const i=new Xn([n]);if($m(r)){const o=wI(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new Jr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n,r,i,o,l,d){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=d}static newInvalidDocument(e){return new gr(e,0,ct.min(),ct.min(),ct.min(),Pr.empty(),0)}static newFoundDocument(e,n,r,i){return new gr(e,1,n,ct.min(),r,i,0)}static newNoDocument(e,n){return new gr(e,2,n,ct.min(),ct.min(),Pr.empty(),0)}static newUnknownDocument(e,n){return new gr(e,3,n,ct.min(),ct.min(),Pr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n){this.position=e,this.inclusive=n}}function t2(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],l=t.position[i];if(o.field.isKeyField()?r=Be.comparator(Be.fromName(l.referenceValue),n.key):r=$u(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function n2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Es(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n="asc"){this.field=e,this.dir=n}}function SV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{}class Dn extends _I{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new EV(e,n,r):n==="array-contains"?new NV(e,r):n==="in"?new RV(e,r):n==="not-in"?new IV(e,r):n==="array-contains-any"?new MV(e,r):new Dn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new AV(e,r):new CV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison($u(n,this.value)):n!==null&&mo(this.value)===mo(n)&&this.matchesComparison($u(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return it(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zi extends _I{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new zi(e,n)}matches(e){return SI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function SI(t){return t.op==="and"}function TI(t){return TV(t)&&SI(t)}function TV(t){for(const e of t.filters)if(e instanceof zi)return!1;return!0}function mb(t){if(t instanceof Dn)return t.field.canonicalString()+t.op.toString()+qu(t.value);if(TI(t))return t.filters.map(e=>mb(e)).join(",");{const e=t.filters.map(n=>mb(n)).join(",");return`${t.op}(${e})`}}function EI(t,e){return t instanceof Dn?function(r,i){return i instanceof Dn&&r.op===i.op&&r.field.isEqual(i.field)&&Es(r.value,i.value)}(t,e):t instanceof zi?function(r,i){return i instanceof zi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,d)=>o&&EI(l,i.filters[d]),!0):!1}(t,e):void it(19439)}function AI(t){return t instanceof Dn?function(n){return`${n.field.canonicalString()} ${n.op} ${qu(n.value)}`}(t):t instanceof zi?function(n){return n.op.toString()+" {"+n.getFilters().map(AI).join(" ,")+"}"}(t):"Filter"}class EV extends Dn{constructor(e,n,r){super(e,n,r),this.key=Be.fromName(r.referenceValue)}matches(e){const n=Be.comparator(e.key,this.key);return this.matchesComparison(n)}}class AV extends Dn{constructor(e,n){super(e,"in",n),this.keys=CI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class CV extends Dn{constructor(e,n){super(e,"not-in",n),this.keys=CI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function CI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Be.fromName(r.referenceValue))}class NV extends Dn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Vx(n)&&th(n.arrayValue,this.value)}}class RV extends Dn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&th(this.value.arrayValue,n)}}class IV extends Dn{constructor(e,n){super(e,"not-in",n)}matches(e){if(th(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!th(this.value.arrayValue,n)}}class MV extends Dn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Vx(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>th(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(e,n=null,r=[],i=[],o=null,l=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=d,this.Pe=null}}function r2(t,e=null,n=[],r=[],i=null,o=null,l=null){return new jV(t,e,n,r,i,o,l)}function Ux(t){const e=dt(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>mb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),ug(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>qu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>qu(r)).join(",")),e.Pe=n}return e.Pe}function zx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!SV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!EI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!n2(t.startAt,e.startAt)&&n2(t.endAt,e.endAt)}function pb(t){return Be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n=null,r=[],i=[],o=null,l="F",d=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=d,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function PV(t,e,n,r,i,o,l,d){return new Sl(t,e,n,r,i,o,l,d)}function hg(t){return new Sl(t)}function i2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Bx(t){return t.collectionGroup!==null}function Ou(t){const e=dt(t);if(e.Te===null){e.Te=[];const n=new Set;for(const o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let d=new Fn(Xn.comparator);return l.filters.forEach(c=>{c.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new nh(o,r))}),n.has(Xn.keyField().canonicalString())||e.Te.push(new nh(Xn.keyField(),r))}return e.Te}function ys(t){const e=dt(t);return e.Ie||(e.Ie=OV(e,Ou(t))),e.Ie}function OV(t,e){if(t.limitType==="F")return r2(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new nh(i.field,o)});const n=t.endAt?new Gu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Gu(t.startAt.position,t.startAt.inclusive):null;return r2(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function gb(t,e){const n=t.filters.concat([e]);return new Sl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Sp(t,e,n){return new Sl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fg(t,e){return zx(ys(t),ys(e))&&t.limitType===e.limitType}function NI(t){return`${Ux(ys(t))}|lt:${t.limitType}`}function pu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>AI(i)).join(", ")}]`),ug(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>qu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>qu(i)).join(",")),`Target(${r})`}(ys(t))}; limitType=${t.limitType})`}function mg(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Be.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Ou(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(l,d,c){const m=t2(l,d,c);return l.inclusive?m<=0:m<0}(r.startAt,Ou(r),i)||r.endAt&&!function(l,d,c){const m=t2(l,d,c);return l.inclusive?m>=0:m>0}(r.endAt,Ou(r),i))}(t,e)}function DV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function RI(t){return(e,n)=>{let r=!1;for(const i of Ou(t)){const o=kV(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function kV(t,e,n){const r=t.field.isKeyField()?Be.comparator(e.key,n.key):function(o,l,d){const c=l.data.field(o),m=d.data.field(o);return c!==null&&m!==null?$u(c,m):it(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return it(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xo(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return fI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV=new mn(Be.comparator);function fa(){return LV}const II=new mn(Be.comparator);function Md(...t){let e=II;for(const n of t)e=e.insert(n.key,n);return e}function MI(t){let e=II;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function rl(){return zd()}function jI(){return zd()}function zd(){return new Tl(t=>t.toString(),(t,e)=>t.isEqual(e))}const VV=new mn(Be.comparator),UV=new Fn(Be.comparator);function At(...t){let e=UV;for(const n of t)e=e.add(n);return e}const zV=new Fn(vt);function BV(){return zV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bp(e)?"-0":e}}function PI(t){return{integerValue:""+t}}function FV(t,e){return pV(e)?PI(e):Fx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(){this._=void 0}}function HV(t,e,n){return t instanceof rh?function(i,o){const l={fields:{[gI]:{stringValue:pI},[yI]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&cg(o)&&(o=dg(o)),o&&(l.fields[vI]=o),{mapValue:l}}(n,e):t instanceof ih?DI(t,e):t instanceof sh?kI(t,e):function(i,o){const l=OI(i,o),d=s2(l)+s2(i.Ee);return fb(l)&&fb(i.Ee)?PI(d):Fx(i.serializer,d)}(t,e)}function $V(t,e,n){return t instanceof ih?DI(t,e):t instanceof sh?kI(t,e):n}function OI(t,e){return t instanceof Tp?function(r){return fb(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class rh extends pg{}class ih extends pg{constructor(e){super(),this.elements=e}}function DI(t,e){const n=LI(e);for(const r of t.elements)n.some(i=>Es(i,r))||n.push(r);return{arrayValue:{values:n}}}class sh extends pg{constructor(e){super(),this.elements=e}}function kI(t,e){let n=LI(e);for(const r of t.elements)n=n.filter(i=>!Es(i,r));return{arrayValue:{values:n}}}class Tp extends pg{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function s2(t){return En(t.integerValue||t.doubleValue)}function LI(t){return Vx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e,n){this.field=e,this.transform=n}}function GV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ih&&i instanceof ih||r instanceof sh&&i instanceof sh?Fu(r.elements,i.elements,Es):r instanceof Tp&&i instanceof Tp?Es(r.Ee,i.Ee):r instanceof rh&&i instanceof rh}(t.transform,e.transform)}class WV{constructor(e,n){this.version=e,this.transformResults=n}}class _i{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _i}static exists(e){return new _i(void 0,e)}static updateTime(e){return new _i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class gg{}function VI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hx(t.key,_i.none()):new Ah(t.key,t.data,_i.none());{const n=t.data,r=Pr.empty();let i=new Fn(Xn.comparator);for(let o of e.fields)if(!i.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new wo(t.key,r,new Jr(i.toArray()),_i.none())}}function KV(t,e,n){t instanceof Ah?function(i,o,l){const d=i.value.clone(),c=o2(i.fieldTransforms,o,l.transformResults);d.setAll(c),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):t instanceof wo?function(i,o,l){if(!qm(i.precondition,o))return void o.convertToUnknownDocument(l.version);const d=o2(i.fieldTransforms,o,l.transformResults),c=o.data;c.setAll(UI(i)),c.setAll(d),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function Bd(t,e,n,r){return t instanceof Ah?function(o,l,d,c){if(!qm(o.precondition,l))return d;const m=o.value.clone(),p=l2(o.fieldTransforms,c,l);return m.setAll(p),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),null}(t,e,n,r):t instanceof wo?function(o,l,d,c){if(!qm(o.precondition,l))return d;const m=l2(o.fieldTransforms,c,l),p=l.data;return p.setAll(UI(o)),p.setAll(m),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(o,l,d){return qm(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d}(t,e,n)}function YV(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=OI(r.transform,i||null);o!=null&&(n===null&&(n=Pr.empty()),n.set(r.field,o))}return n||null}function a2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Fu(r,i,(o,l)=>GV(o,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ah extends gg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wo extends gg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function UI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function o2(t,e,n){const r=new Map;Ft(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const o=t[i],l=o.transform,d=e.data.field(o.field);r.set(o.field,$V(l,d,n[i]))}return r}function l2(t,e,n){const r=new Map;for(const i of t){const o=i.transform,l=n.data.field(i.field);r.set(i.field,HV(o,l,e))}return r}class Hx extends gg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XV extends gg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&KV(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Bd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=jI();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let d=this.applyToLocalView(l,o.mutatedFields);d=n.has(i.key)?null:d;const c=VI(l,d);c!==null&&r.set(i.key,c),l.isValidDocument()||l.convertToNoDocument(ct.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),At())}isEqual(e){return this.batchId===e.batchId&&Fu(this.mutations,e.mutations,(n,r)=>a2(n,r))&&Fu(this.baseMutations,e.baseMutations,(n,r)=>a2(n,r))}}class $x{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ft(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return VV}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new $x(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jn,jt;function e5(t){switch(t){case ye.OK:return it(64938);case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0;default:return it(15467,{code:t})}}function zI(t){if(t===void 0)return da("GRPC error has no .code"),ye.UNKNOWN;switch(t){case jn.OK:return ye.OK;case jn.CANCELLED:return ye.CANCELLED;case jn.UNKNOWN:return ye.UNKNOWN;case jn.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case jn.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case jn.INTERNAL:return ye.INTERNAL;case jn.UNAVAILABLE:return ye.UNAVAILABLE;case jn.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case jn.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case jn.NOT_FOUND:return ye.NOT_FOUND;case jn.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case jn.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case jn.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case jn.ABORTED:return ye.ABORTED;case jn.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case jn.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case jn.DATA_LOSS:return ye.DATA_LOSS;default:return it(39323,{code:t})}}(jt=jn||(jn={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5=new ao([4294967295,4294967295],0);function u2(t){const e=lI().encode(t),n=new JR;return n.update(e),new Uint8Array(n.digest())}function c2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ao([n,r],0),new ao([i,o],0)]}class qx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new jd(`Invalid padding: ${n}`);if(r<0)throw new jd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new jd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new jd(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=ao.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(ao.fromNumber(r)));return i.compare(t5)===1&&(i=new ao([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=u2(e),[r,i]=c2(n);for(let o=0;o<this.hashCount;o++){const l=this.pe(r,i,o);if(!this.ye(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new qx(o,i,n);return r.forEach(d=>l.insert(d)),l}insert(e){if(this.fe===0)return;const n=u2(e),[r,i]=c2(n);for(let o=0;o<this.hashCount;o++){const l=this.pe(r,i,o);this.we(l)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class jd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ch.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new vg(ct.min(),i,new mn(vt),fa(),At())}}class Ch{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ch(r,n,At(),At(),At())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class BI{constructor(e,n){this.targetId=e,this.De=n}}class FI{constructor(e,n,r=Zn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class d2{constructor(){this.ve=0,this.Ce=h2(),this.Fe=Zn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=At(),n=At(),r=At();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:it(38017,{changeType:o})}}),new Ch(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=h2()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class n5{constructor(e){this.We=e,this.Ge=new Map,this.ze=fa(),this.je=vm(),this.Je=vm(),this.He=new mn(vt)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:it(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const o=i.target;if(pb(o))if(r===0){const l=new Be(o.path);this.Xe(n,l,gr.newNoDocument(l,ct.min()))}else Ft(r===1,20013,{expectedCount:r});else{const l=this.ot(n);if(l!==r){const d=this._t(e),c=d?this.ut(d,e,l):1;if(c!==0){this.rt(n);const m=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,m)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let l,d;try{l=fo(r).toUint8Array()}catch(c){if(c instanceof mI)return ha("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{d=new qx(l,i,o)}catch(c){return ha(c instanceof jd?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return d.fe===0?null:d}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const l=this.We.lt(),d=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.Xe(n,o,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((o,l)=>{const d=this.st(l);if(d){if(o.current&&pb(d.target)){const c=new Be(d.target.path);this.Tt(c).has(l)||this.It(l,c)||this.Xe(l,c,gr.newNoDocument(c,e))}o.Ne&&(n.set(l,o.Le()),o.ke())}});let r=At();this.Je.forEach((o,l)=>{let d=!0;l.forEachWhile(c=>{const m=this.st(c);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(o))}),this.ze.forEach((o,l)=>l.setReadTime(e));const i=new vg(e,n,this.He,this.ze,r);return this.ze=fa(),this.je=vm(),this.Je=vm(),this.He=new mn(vt),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new d2,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Fn(vt),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Fn(vt),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||je("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new d2),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function vm(){return new mn(Be.comparator)}function h2(){return new mn(Be.comparator)}const r5={asc:"ASCENDING",desc:"DESCENDING"},i5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},s5={and:"AND",or:"OR"};class a5{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vb(t,e){return t.useProto3Json||ug(e)?e:{value:e}}function Ep(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function o5(t,e){return Ep(t,e.toTimestamp())}function bs(t){return Ft(!!t,49232),ct.fromTimestamp(function(n){const r=ho(n);return new en(r.seconds,r.nanos)}(t))}function Gx(t,e){return yb(t,e).canonicalString()}function yb(t,e){const n=function(i){return new Jt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function $I(t){const e=Jt.fromString(t);return Ft(YI(e),10190,{key:e.toString()}),e}function bb(t,e){return Gx(t.databaseId,e.path)}function o0(t,e){const n=$I(e);if(n.get(1)!==t.databaseId.projectId)throw new Ne(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ne(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Be(GI(n))}function qI(t,e){return Gx(t.databaseId,e)}function l5(t){const e=$I(t);return e.length===4?Jt.emptyPath():GI(e)}function xb(t){return new Jt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function GI(t){return Ft(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function f2(t,e,n){return{name:bb(t,e),fields:n.value.mapValue.fields}}function u5(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:it(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(m,p){return m.useProto3Json?(Ft(p===void 0||typeof p=="string",58123),Zn.fromBase64String(p||"")):(Ft(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Zn.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,d=l&&function(m){const p=m.code===void 0?ye.UNKNOWN:zI(m.code);return new Ne(p,m.message||"")}(l);n=new FI(r,i,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=o0(t,r.document.name),o=bs(r.document.updateTime),l=r.document.createTime?bs(r.document.createTime):ct.min(),d=new Pr({mapValue:{fields:r.document.fields}}),c=gr.newFoundDocument(i,o,l,d),m=r.targetIds||[],p=r.removedTargetIds||[];n=new Gm(m,p,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=o0(t,r.document),o=r.readTime?bs(r.readTime):ct.min(),l=gr.newNoDocument(i,o),d=r.removedTargetIds||[];n=new Gm([],d,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=o0(t,r.document),o=r.removedTargetIds||[];n=new Gm([],o,i,null)}else{if(!("filter"in e))return it(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new JV(i,o),d=r.targetId;n=new BI(d,l)}}return n}function c5(t,e){let n;if(e instanceof Ah)n={update:f2(t,e.key,e.value)};else if(e instanceof Hx)n={delete:bb(t,e.key)};else if(e instanceof wo)n={update:f2(t,e.key,e.data),updateMask:b5(e.fieldMask)};else{if(!(e instanceof XV))return it(16599,{Rt:e.type});n={verify:bb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const d=l.transform;if(d instanceof rh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ih)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof sh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Tp)return{fieldPath:l.field.canonicalString(),increment:d.Ee};throw it(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:o5(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:it(27497)}(t,e.precondition)),n}function d5(t,e){return t&&t.length>0?(Ft(e!==void 0,14353),t.map(n=>function(i,o){let l=i.updateTime?bs(i.updateTime):bs(o);return l.isEqual(ct.min())&&(l=bs(o)),new WV(l,i.transformResults||[])}(n,e))):[]}function h5(t,e){return{documents:[qI(t,e.path)]}}function f5(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qI(t,i);const o=function(m){if(m.length!==0)return KI(zi.create(m,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const l=function(m){if(m.length!==0)return m.map(p=>function(x){return{field:gu(x.field),direction:g5(x.dir)}}(p))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const d=vb(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{Vt:n,parent:i}}function m5(t){let e=l5(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ft(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=function(y){const x=WI(y);return x instanceof zi&&TI(x)?x.getFilters():[x]}(n.where));let l=[];n.orderBy&&(l=function(y){return y.map(x=>function(R){return new nh(vu(R.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(x))}(n.orderBy));let d=null;n.limit&&(d=function(y){let x;return x=typeof y=="object"?y.value:y,ug(x)?null:x}(n.limit));let c=null;n.startAt&&(c=function(y){const x=!!y.before,E=y.values||[];return new Gu(E,x)}(n.startAt));let m=null;return n.endAt&&(m=function(y){const x=!y.before,E=y.values||[];return new Gu(E,x)}(n.endAt)),PV(e,i,l,o,d,"F",c,m)}function p5(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return it(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function WI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=vu(n.unaryFilter.field);return Dn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=vu(n.unaryFilter.field);return Dn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=vu(n.unaryFilter.field);return Dn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=vu(n.unaryFilter.field);return Dn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return it(61313);default:return it(60726)}}(t):t.fieldFilter!==void 0?function(n){return Dn.create(vu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return it(58110);default:return it(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return zi.create(n.compositeFilter.filters.map(r=>WI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return it(1026)}}(n.compositeFilter.op))}(t):it(30097,{filter:t})}function g5(t){return r5[t]}function v5(t){return i5[t]}function y5(t){return s5[t]}function gu(t){return{fieldPath:t.canonicalString()}}function vu(t){return Xn.fromServerFormat(t.fieldPath)}function KI(t){return t instanceof Dn?function(n){if(n.op==="=="){if(e2(n.value))return{unaryFilter:{field:gu(n.field),op:"IS_NAN"}};if(JE(n.value))return{unaryFilter:{field:gu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(e2(n.value))return{unaryFilter:{field:gu(n.field),op:"IS_NOT_NAN"}};if(JE(n.value))return{unaryFilter:{field:gu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gu(n.field),op:v5(n.op),value:n.value}}}(t):t instanceof zi?function(n){const r=n.getFilters().map(i=>KI(i));return r.length===1?r[0]:{compositeFilter:{op:y5(n.op),filters:r}}}(t):it(54877,{filter:t})}function b5(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function YI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n,r,i,o=ct.min(),l=ct.min(),d=Zn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=d,this.expectedCount=c}withSequenceNumber(e){return new no(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new no(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e){this.gt=e}}function w5(t){const e=m5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Sp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{constructor(){this.Dn=new S5}addToCollectionParentIndex(e,n){return this.Dn.add(n),Se.resolve()}getCollectionParents(e,n){return Se.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return Se.resolve()}deleteFieldIndex(e,n){return Se.resolve()}deleteAllFieldIndexes(e){return Se.resolve()}createTargetIndexes(e,n){return Se.resolve()}getDocumentsMatchingTarget(e,n){return Se.resolve(null)}getIndexType(e,n){return Se.resolve(0)}getFieldIndexes(e,n){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,n){return Se.resolve(co.min())}getMinOffsetFromCollectionGroup(e,n){return Se.resolve(co.min())}updateCollectionGroup(e,n,r){return Se.resolve()}updateIndexEntries(e,n){return Se.resolve()}}class S5{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Fn(Jt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Fn(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},XI=41943040;class jr{static withCacheSize(e){return new jr(e,jr.DEFAULT_COLLECTION_PERCENTILE,jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr.DEFAULT_COLLECTION_PERCENTILE=10,jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jr.DEFAULT=new jr(XI,jr.DEFAULT_COLLECTION_PERCENTILE,jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jr.DISABLED=new jr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Wu(0)}static ur(){return new Wu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2="LruGarbageCollector",T5=1048576;function g2([t,e],[n,r]){const i=vt(t,n);return i===0?vt(e,r):i}class E5{constructor(e){this.Tr=e,this.buffer=new Fn(g2),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();g2(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class A5{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){je(p2,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){oc(n)?je(p2,"Ignoring IndexedDB error during garbage collection: ",n):await ac(n)}await this.Rr(3e5)})}}class C5{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Se.resolve(lg.ue);const r=new E5(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(je("LruGarbageCollector","Garbage collection skipped; disabled"),Se.resolve(m2)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(je("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),m2):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,l,d,c,m;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(je("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,l=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,d=Date.now(),this.removeTargets(e,r,n))).next(y=>(o=y,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(m=Date.now(),mu()<=Et.DEBUG&&je("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(d-l)+`ms
	Removed ${o} targets in `+(c-d)+`ms
	Removed ${y} documents in `+(m-c)+`ms
Total Duration: ${m-p}ms`),Se.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:y})))}}function N5(t,e){return new C5(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(){this.changes=new Tl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,gr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Bd(r.mutation,i,Jr.empty(),en.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,At()).next(()=>r))}getLocalViewOfDocuments(e,n,r=At()){const i=rl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let l=Md();return o.forEach((d,c)=>{l=l.insert(d,c.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=rl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,At()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,d)=>{n.set(l,d)})})}computeViews(e,n,r,i){let o=fa();const l=zd(),d=function(){return zd()}();return n.forEach((c,m)=>{const p=r.get(m.key);i.has(m.key)&&(p===void 0||p.mutation instanceof wo)?o=o.insert(m.key,m):p!==void 0?(l.set(m.key,p.mutation.getFieldMask()),Bd(p.mutation,m,p.mutation.getFieldMask(),en.now())):l.set(m.key,Jr.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((m,p)=>l.set(m,p)),n.forEach((m,p)=>{var y;return d.set(m,new I5(p,(y=l.get(m))!==null&&y!==void 0?y:null))}),d))}recalculateAndSaveOverlays(e,n){const r=zd();let i=new mn((l,d)=>l-d),o=At();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const d of l)d.keys().forEach(c=>{const m=n.get(c);if(m===null)return;let p=r.get(c)||Jr.empty();p=d.applyToLocalView(m,p),r.set(c,p);const y=(i.get(d.batchId)||At()).add(c);i=i.insert(d.batchId,y)})}).next(()=>{const l=[],d=i.getReverseIterator();for(;d.hasNext();){const c=d.getNext(),m=c.key,p=c.value,y=jI();p.forEach(x=>{if(!o.has(x)){const E=VI(n.get(x),r.get(x));E!==null&&y.set(x,E),o=o.add(x)}}),l.push(this.documentOverlayCache.saveOverlays(e,m,y))}return Se.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(l){return Be.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Bx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Se.resolve(rl());let d=Jd,c=o;return l.next(m=>Se.forEach(m,(p,y)=>(d<y.largestBatchId&&(d=y.largestBatchId),o.get(p)?Se.resolve():this.remoteDocumentCache.getEntry(e,p).next(x=>{c=c.insert(p,x)}))).next(()=>this.populateOverlays(e,m,o)).next(()=>this.computeViews(e,c,m,At())).next(p=>({batchId:d,changes:MI(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Be(n)).next(r=>{let i=Md();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let l=Md();return this.indexManager.getCollectionParents(e,o).next(d=>Se.forEach(d,c=>{const m=function(y,x){return new Sl(x,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,r,i).next(p=>{p.forEach((y,x)=>{l=l.insert(y,x)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(l=>{o.forEach((c,m)=>{const p=m.getKey();l.get(p)===null&&(l=l.insert(p,gr.newInvalidDocument(p)))});let d=Md();return l.forEach((c,m)=>{const p=o.get(c);p!==void 0&&Bd(p.mutation,m,Jr.empty(),en.now()),mg(n,m)&&(d=d.insert(c,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return Se.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:bs(i.createTime)}}(n)),Se.resolve()}getNamedQuery(e,n){return Se.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:w5(i.bundledQuery),readTime:bs(i.readTime)}}(n)),Se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(){this.overlays=new mn(Be.comparator),this.kr=new Map}getOverlay(e,n){return Se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=rl();return Se.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),Se.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),Se.resolve()}getOverlaysForCollection(e,n,r){const i=rl(),o=n.length+1,l=new Be(n.child("")),d=this.overlays.getIteratorFrom(l);for(;d.hasNext();){const c=d.getNext().value,m=c.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return Se.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new mn((m,p)=>m-p);const l=this.overlays.getIterator();for(;l.hasNext();){const m=l.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let p=o.get(m.largestBatchId);p===null&&(p=rl(),o=o.insert(m.largestBatchId,p)),p.set(m.getKey(),m)}}const d=rl(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((m,p)=>d.set(m,p)),!(d.size()>=i)););return Se.resolve(d)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new ZV(n,r));let o=this.kr.get(n);o===void 0&&(o=At(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(){this.sessionToken=Zn.EMPTY_BYTE_STRING}getSessionToken(e){return Se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(){this.qr=new Fn(Yn.Qr),this.$r=new Fn(Yn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Yn(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Yn(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new Be(new Jt([])),r=new Yn(n,e),i=new Yn(n,e+1),o=[];return this.$r.forEachInRange([r,i],l=>{this.Wr(l),o.push(l.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Be(new Jt([])),r=new Yn(n,e),i=new Yn(n,e+1);let o=At();return this.$r.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const n=new Yn(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Yn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Be.comparator(e.key,n.key)||vt(e.Hr,n.Hr)}static Ur(e,n){return vt(e.Hr,n.Hr)||Be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Fn(Yn.Qr)}checkEmpty(e){return Se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new QV(o,n,r,i);this.mutationQueue.push(l);for(const d of i)this.Yr=this.Yr.add(new Yn(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Se.resolve(l)}lookupMutationBatch(e,n){return Se.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),o=i<0?0:i;return Se.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(this.mutationQueue.length===0?Lx:this.er-1)}getAllMutationBatches(e){return Se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Yn(n,0),i=new Yn(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],l=>{const d=this.Zr(l.Hr);o.push(d)}),Se.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Fn(vt);return n.forEach(i=>{const o=new Yn(i,0),l=new Yn(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,l],d=>{r=r.add(d.Hr)})}),Se.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Be.isDocumentKey(o)||(o=o.child(""));const l=new Yn(new Be(o),0);let d=new Fn(vt);return this.Yr.forEachWhile(c=>{const m=c.key.path;return!!r.isPrefixOf(m)&&(m.length===i&&(d=d.add(c.Hr)),!0)},l),Se.resolve(this.ei(d))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ft(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return Se.forEach(n.mutations,i=>{const o=new Yn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new Yn(n,0),i=this.Yr.firstAfterOrEqual(r);return Se.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Se.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e){this.ni=e,this.docs=function(){return new mn(Be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,l=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Se.resolve(r?r.document.mutableCopy():gr.newInvalidDocument(n))}getEntries(e,n){let r=fa();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():gr.newInvalidDocument(i))}),Se.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=fa();const l=n.path,d=new Be(l.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(d);for(;c.hasNext();){const{key:m,value:{document:p}}=c.getNext();if(!l.isPrefixOf(m.path))break;m.path.length>l.length+1||dV(cV(p),r)<=0||(i.has(p.key)||mg(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return Se.resolve(o)}getAllFromCollectionGroup(e,n,r,i){it(9500)}ri(e,n){return Se.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new L5(this)}getSize(e){return Se.resolve(this.size)}}class L5 extends R5{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),Se.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V5{constructor(e){this.persistence=e,this.ii=new Tl(n=>Ux(n),zx),this.lastRemoteSnapshotVersion=ct.min(),this.highestTargetId=0,this.si=0,this.oi=new Wx,this.targetCount=0,this._i=Wu.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),Se.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Wu(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,Se.resolve()}updateTargetData(e,n){return this.hr(n),Se.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.ii.forEach((l,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.ii.delete(l),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)}),Se.waitFor(o).next(()=>i)}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return Se.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),Se.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),Se.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),Se.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return Se.resolve(r)}containsKey(e,n){return Se.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n){this.ai={},this.overlays={},this.ui=new lg(0),this.ci=!1,this.ci=!0,this.li=new O5,this.referenceDelegate=e(this),this.hi=new V5(this),this.indexManager=new _5,this.remoteDocumentCache=function(i){return new k5(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new x5(n),this.Ti=new j5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new P5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new D5(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){je("MemoryPersistence","Starting transaction:",e);const i=new U5(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return Se.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class U5 extends fV{constructor(e){super(),this.currentSequenceNumber=e}}class Kx{constructor(e){this.persistence=e,this.Ai=new Wx,this.Ri=null}static Vi(e){return new Kx(e)}get mi(){if(this.Ri)return this.Ri;throw it(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),Se.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),Se.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),Se.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.mi,r=>{const i=Be.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,ct.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return Se.or([()=>Se.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Ap{constructor(e,n){this.persistence=e,this.gi=new Tl(r=>gV(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=N5(this,n)}static Vi(e,n){return new Ap(e,n)}Ii(){}di(e){return Se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return Se.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?Se.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,l=>this.Sr(e,l,n).next(d=>{d||(r++,o.removeEntry(l,ct.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),Se.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Se.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Se.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),Se.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Hm(e.data.value)),n}Sr(e,n,r){return Se.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return Se.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=At(),i=At();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Yx(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return mk()?8:mV(vr())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ps(e,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new z5;return this.ws(e,n,l).next(d=>{if(o.result=d,this.Rs)return this.Ss(e,n,l,d.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(mu()<=Et.DEBUG&&je("QueryEngine","SDK will not create cache indexes for query:",pu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Se.resolve()):(mu()<=Et.DEBUG&&je("QueryEngine","Query:",pu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(mu()<=Et.DEBUG&&je("QueryEngine","The SDK decides to create cache indexes for query:",pu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ys(n))):Se.resolve())}ps(e,n){if(i2(n))return Se.resolve(null);let r=ys(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Sp(n,null,"F"),r=ys(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=At(...o);return this.gs.getDocuments(e,l).next(d=>this.indexManager.getMinOffset(e,r).next(c=>{const m=this.bs(n,d);return this.Ds(n,m,l,c.readTime)?this.ps(e,Sp(n,null,"F")):this.vs(e,m,n,c)}))})))}ys(e,n,r,i){return i2(n)||i.isEqual(ct.min())?Se.resolve(null):this.gs.getDocuments(e,r).next(o=>{const l=this.bs(n,o);return this.Ds(n,l,r,i)?Se.resolve(null):(mu()<=Et.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),pu(n)),this.vs(e,l,n,uV(i,Jd)).next(d=>d))})}bs(e,n){let r=new Fn(RI(e));return n.forEach((i,o)=>{mg(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return mu()<=Et.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",pu(n)),this.gs.getDocumentsMatchingQuery(e,n,co.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx="LocalStore",F5=3e8;class H5{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new mn(vt),this.Ms=new Tl(o=>Ux(o),zx),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new M5(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function $5(t,e,n,r){return new H5(t,e,n,r)}async function ZI(t,e){const n=dt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],d=[];let c=At();for(const m of i){l.push(m.batchId);for(const p of m.mutations)c=c.add(p.key)}for(const m of o){d.push(m.batchId);for(const p of m.mutations)c=c.add(p.key)}return n.localDocuments.getDocuments(r,c).next(m=>({Bs:m,removedBatchIds:l,addedBatchIds:d}))})})}function q5(t,e){const n=dt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return function(d,c,m,p){const y=m.batch,x=y.keys();let E=Se.resolve();return x.forEach(R=>{E=E.next(()=>p.getEntry(c,R)).next(P=>{const V=m.docVersions.get(R);Ft(V!==null,48541),P.version.compareTo(V)<0&&(y.applyToRemoteDocument(P,m),P.isValidDocument()&&(P.setReadTime(m.commitVersion),p.addEntry(P)))})}),E.next(()=>d.mutationQueue.removeMutationBatch(c,y))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let c=At();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(c=c.add(d.batch.mutations[m].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function JI(t){const e=dt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function G5(t,e){const n=dt(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const d=[];e.targetChanges.forEach((p,y)=>{const x=i.get(y);if(!x)return;d.push(n.hi.removeMatchingKeys(o,p.removedDocuments,y).next(()=>n.hi.addMatchingKeys(o,p.addedDocuments,y)));let E=x.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?E=E.withResumeToken(Zn.EMPTY_BYTE_STRING,ct.min()).withLastLimboFreeSnapshotVersion(ct.min()):p.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(p.resumeToken,r)),i=i.insert(y,E),function(P,V,O){return P.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=F5?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(x,E,p)&&d.push(n.hi.updateTargetData(o,E))});let c=fa(),m=At();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))}),d.push(W5(o,l,e.documentUpdates).next(p=>{c=p.Ls,m=p.ks})),!r.isEqual(ct.min())){const p=n.hi.getLastRemoteSnapshotVersion(o).next(y=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));d.push(p)}return Se.waitFor(d).next(()=>l.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,m)).next(()=>c)}).then(o=>(n.Fs=i,o))}function W5(t,e,n){let r=At(),i=At();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let l=fa();return n.forEach((d,c)=>{const m=o.get(d);c.isFoundDocument()!==m.isFoundDocument()&&(i=i.add(d)),c.isNoDocument()&&c.version.isEqual(ct.min())?(e.removeEntry(d,c.readTime),l=l.insert(d,c)):!m.isValidDocument()||c.version.compareTo(m.version)>0||c.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(c),l=l.insert(d,c)):je(Xx,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",c.version)}),{Ls:l,ks:i}})}function K5(t,e){const n=dt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Lx),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Y5(t,e){const n=dt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,Se.resolve(i)):n.hi.allocateTargetId(r).next(l=>(i=new no(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function wb(t,e,n){const r=dt(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!oc(l))throw l;je(Xx,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function v2(t,e,n){const r=dt(t);let i=ct.min(),o=At();return r.persistence.runTransaction("Execute query","readwrite",l=>function(c,m,p){const y=dt(c),x=y.Ms.get(p);return x!==void 0?Se.resolve(y.Fs.get(x)):y.hi.getTargetData(m,p)}(r,l,ys(e)).next(d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(l,d.targetId).next(c=>{o=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(l,e,n?i:ct.min(),n?o:At())).next(d=>(X5(r,DV(e),d),{documents:d,qs:o})))}function X5(t,e,n){let r=t.xs.get(e)||ct.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}class y2{constructor(){this.activeTargetIds=BV()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Q5{constructor(){this.Fo=new y2,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new y2,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2="ConnectivityMonitor";class x2{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){je(b2,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){je(b2,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ym=null;function _b(){return ym===null?ym=function(){return 268435456+Math.round(2147483648*Math.random())}():ym++,"0x"+ym.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="RestConnection",J5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class eU{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===xp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){const l=_b(),d=this.Go(e,n.toUriEncodedString());je(l0,`Sending RPC '${e}' ${l}:`,d,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,o);const{host:m}=new URL(d),p=bo(m);return this.jo(e,d,c,r,p).then(y=>(je(l0,`Received RPC '${e}' ${l}: `,y),y),y=>{throw ha(l0,`RPC '${e}' ${l} failed with error: `,y,"url: ",d,"request:",r),y})}Jo(e,n,r,i,o,l){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){const r=J5[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="WebChannelConnection";class nU extends eU{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){const l=_b();return new Promise((d,c)=>{const m=new eI;m.setWithCredentials(!0),m.listenOnce(tI.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Fm.NO_ERROR:const y=m.getResponseJson();je(fr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),d(y);break;case Fm.TIMEOUT:je(fr,`RPC '${e}' ${l} timed out`),c(new Ne(ye.DEADLINE_EXCEEDED,"Request time out"));break;case Fm.HTTP_ERROR:const x=m.getStatus();if(je(fr,`RPC '${e}' ${l} failed with status:`,x,"response text:",m.getResponseText()),x>0){let E=m.getResponseJson();Array.isArray(E)&&(E=E[0]);const R=E?.error;if(R&&R.status&&R.message){const P=function(O){const B=O.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(B)>=0?B:ye.UNKNOWN}(R.status);c(new Ne(P,R.message))}else c(new Ne(ye.UNKNOWN,"Server responded with status "+m.getStatus()))}else c(new Ne(ye.UNAVAILABLE,"Connection failed."));break;default:it(9055,{c_:e,streamId:l,l_:m.getLastErrorCode(),h_:m.getLastError()})}}finally{je(fr,`RPC '${e}' ${l} completed.`)}});const p=JSON.stringify(i);je(fr,`RPC '${e}' ${l} sending request:`,i),m.send(n,"POST",p,r,15)})}P_(e,n,r){const i=_b(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=iI(),d=rI(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(c.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const p=o.join("");je(fr,`Creating RPC '${e}' stream ${i}: ${p}`,c);const y=l.createWebChannel(p,c);this.T_(y);let x=!1,E=!1;const R=new tU({Ho:V=>{E?je(fr,`Not sending because RPC '${e}' stream ${i} is closed:`,V):(x||(je(fr,`Opening RPC '${e}' stream ${i} transport.`),y.open(),x=!0),je(fr,`RPC '${e}' stream ${i} sending:`,V),y.send(V))},Yo:()=>y.close()}),P=(V,O,B)=>{V.listen(O,F=>{try{B(F)}catch(Y){setTimeout(()=>{throw Y},0)}})};return P(y,Id.EventType.OPEN,()=>{E||(je(fr,`RPC '${e}' stream ${i} transport opened.`),R.s_())}),P(y,Id.EventType.CLOSE,()=>{E||(E=!0,je(fr,`RPC '${e}' stream ${i} transport closed`),R.__(),this.I_(y))}),P(y,Id.EventType.ERROR,V=>{E||(E=!0,ha(fr,`RPC '${e}' stream ${i} transport errored. Name:`,V.name,"Message:",V.message),R.__(new Ne(ye.UNAVAILABLE,"The operation could not be completed")))}),P(y,Id.EventType.MESSAGE,V=>{var O;if(!E){const B=V.data[0];Ft(!!B,16349);const F=B,Y=F?.error||((O=F[0])===null||O===void 0?void 0:O.error);if(Y){je(fr,`RPC '${e}' stream ${i} received error:`,Y);const M=Y.status;let j=function(N){const T=jn[N];if(T!==void 0)return zI(T)}(M),C=Y.message;j===void 0&&(j=ye.INTERNAL,C="Unknown error status: "+M+" with message "+Y.message),E=!0,R.__(new Ne(j,C)),y.close()}else je(fr,`RPC '${e}' stream ${i} received:`,B),R.a_(B)}}),P(d,nI.STAT_EVENT,V=>{V.stat===cb.PROXY?je(fr,`RPC '${e}' stream ${i} detected buffering proxy`):V.stat===cb.NOPROXY&&je(fr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{R.o_()},0),R}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function u0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(t){return new a5(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="PersistentStream";class tM{constructor(e,n,r,i,o,l,d,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=d,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new eM(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===ye.RESOURCE_EXHAUSTED?(da(n.toString()),da("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ye.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new Ne(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return je(w2,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(je(w2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rU extends tM{constructor(e,n,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=u5(this.serializer,e),r=function(o){if(!("targetChange"in o))return ct.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?ct.min():l.readTime?bs(l.readTime):ct.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=xb(this.serializer),n.addTarget=function(o,l){let d;const c=l.target;if(d=pb(c)?{documents:h5(o,c)}:{query:f5(o,c).Vt},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){d.resumeToken=HI(o,l.resumeToken);const m=vb(o,l.expectedCount);m!==null&&(d.expectedCount=m)}else if(l.snapshotVersion.compareTo(ct.min())>0){d.readTime=Ep(o,l.snapshotVersion.toTimestamp());const m=vb(o,l.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const r=p5(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=xb(this.serializer),n.removeTarget=e,this.k_(n)}}class iU extends tM{constructor(e,n,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=d5(e.writeResults,e.commitTime),r=bs(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=xb(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>c5(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{}class aU extends sU{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new Ne(ye.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Wo(e,yb(n,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ne(ye.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection.Jo(e,yb(n,r),i,l,d,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ne(ye.UNKNOWN,l.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class oU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(da(n),this._a=!1):je("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl="RemoteStore";class lU{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(l=>{r.enqueueAndForget(async()=>{El(this)&&(je(pl,"Restarting streams for network reachability change."),await async function(c){const m=dt(c);m.Ia.add(4),await Nh(m),m.Aa.set("Unknown"),m.Ia.delete(4),await bg(m)}(this))})}),this.Aa=new oU(r,i)}}async function bg(t){if(El(t))for(const e of t.da)await e(!0)}async function Nh(t){for(const e of t.da)await e(!1)}function nM(t,e){const n=dt(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),ew(n)?Jx(n):lc(n).x_()&&Zx(n,e))}function Qx(t,e){const n=dt(t),r=lc(n);n.Ta.delete(e),r.x_()&&rM(n,e),n.Ta.size===0&&(r.x_()?r.B_():El(n)&&n.Aa.set("Unknown"))}function Zx(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ct.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}lc(t).H_(e)}function rM(t,e){t.Ra.$e(e),lc(t).Y_(e)}function Jx(t){t.Ra=new n5({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),lc(t).start(),t.Aa.aa()}function ew(t){return El(t)&&!lc(t).M_()&&t.Ta.size>0}function El(t){return dt(t).Ia.size===0}function iM(t){t.Ra=void 0}async function uU(t){t.Aa.set("Online")}async function cU(t){t.Ta.forEach((e,n)=>{Zx(t,e)})}async function dU(t,e){iM(t),ew(t)?(t.Aa.la(e),Jx(t)):t.Aa.set("Unknown")}async function hU(t,e,n){if(t.Aa.set("Online"),e instanceof FI&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const d of o.targetIds)i.Ta.has(d)&&(await i.remoteSyncer.rejectListen(d,l),i.Ta.delete(d),i.Ra.removeTarget(d))}(t,e)}catch(r){je(pl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cp(t,r)}else if(e instanceof Gm?t.Ra.Ye(e):e instanceof BI?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ct.min()))try{const r=await JI(t.localStore);n.compareTo(r)>=0&&await function(o,l){const d=o.Ra.Pt(l);return d.targetChanges.forEach((c,m)=>{if(c.resumeToken.approximateByteSize()>0){const p=o.Ta.get(m);p&&o.Ta.set(m,p.withResumeToken(c.resumeToken,l))}}),d.targetMismatches.forEach((c,m)=>{const p=o.Ta.get(c);if(!p)return;o.Ta.set(c,p.withResumeToken(Zn.EMPTY_BYTE_STRING,p.snapshotVersion)),rM(o,c);const y=new no(p.target,c,m,p.sequenceNumber);Zx(o,y)}),o.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(r){je(pl,"Failed to raise snapshot:",r),await Cp(t,r)}}async function Cp(t,e,n){if(!oc(e))throw e;t.Ia.add(1),await Nh(t),t.Aa.set("Offline"),n||(n=()=>JI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{je(pl,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await bg(t)})}function sM(t,e){return e().catch(n=>Cp(t,n,e))}async function xg(t){const e=dt(t),n=po(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Lx;for(;fU(e);)try{const i=await K5(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,mU(e,i)}catch(i){await Cp(e,i)}aM(e)&&oM(e)}function fU(t){return El(t)&&t.Pa.length<10}function mU(t,e){t.Pa.push(e);const n=po(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function aM(t){return El(t)&&!po(t).M_()&&t.Pa.length>0}function oM(t){po(t).start()}async function pU(t){po(t).na()}async function gU(t){const e=po(t);for(const n of t.Pa)e.X_(n.mutations)}async function vU(t,e,n){const r=t.Pa.shift(),i=$x.from(r,e,n);await sM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await xg(t)}async function yU(t,e){e&&po(t).Z_&&await async function(r,i){if(function(l){return e5(l)&&l!==ye.ABORTED}(i.code)){const o=r.Pa.shift();po(r).N_(),await sM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await xg(r)}}(t,e),aM(t)&&oM(t)}async function _2(t,e){const n=dt(t);n.asyncQueue.verifyOperationInProgress(),je(pl,"RemoteStore received new credentials");const r=El(n);n.Ia.add(3),await Nh(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await bg(n)}async function bU(t,e){const n=dt(t);e?(n.Ia.delete(2),await bg(n)):e||(n.Ia.add(2),await Nh(n),n.Aa.set("Unknown"))}function lc(t){return t.Va||(t.Va=function(n,r,i){const o=dt(n);return o.ia(),new rU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:uU.bind(null,t),e_:cU.bind(null,t),n_:dU.bind(null,t),J_:hU.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),ew(t)?Jx(t):t.Aa.set("Unknown")):(await t.Va.stop(),iM(t))})),t.Va}function po(t){return t.ma||(t.ma=function(n,r,i){const o=dt(n);return o.ia(),new iU(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:pU.bind(null,t),n_:yU.bind(null,t),ea:gU.bind(null,t),ta:vU.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await xg(t)):(await t.ma.stop(),t.Pa.length>0&&(je(pl,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new sa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const l=Date.now()+r,d=new tw(e,n,l,i,o);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nw(t,e){if(da("AsyncQueue",`${e}: ${t}`),oc(t))return new Ne(ye.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{static emptySet(e){return new Du(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Be.comparator(n.key,r.key):(n,r)=>Be.comparator(n.key,r.key),this.keyedMap=Md(),this.sortedSet=new mn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Du)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Du;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(){this.fa=new mn(Be.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):it(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ku{constructor(e,n,r,i,o,l,d,c,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=d,this.excludesMetadataChanges=c,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,i,o){const l=[];return n.forEach(d=>{l.push({type:0,doc:d})}),new Ku(e,n,Du.emptySet(n),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class wU{constructor(){this.queries=T2(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=dt(n),o=i.queries;i.queries=T2(),o.forEach((l,d)=>{for(const c of d.wa)c.onError(r)})})(this,new Ne(ye.ABORTED,"Firestore shutting down"))}}function T2(){return new Tl(t=>NI(t),fg)}async function rw(t,e){const n=dt(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new xU,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await n.onListen(i,!0);break;case 1:o.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const d=nw(l,`Initialization of query '${pu(e.query)}' failed`);return void e.onError(d)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&sw(n)}async function iw(t,e){const n=dt(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const l=o.wa.indexOf(e);l>=0&&(o.wa.splice(l,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _U(t,e){const n=dt(t);let r=!1;for(const i of e){const o=i.query,l=n.queries.get(o);if(l){for(const d of l.wa)d.Ca(i)&&(r=!0);l.ya=i}}r&&sw(n)}function SU(t,e,n){const r=dt(t),i=r.queries.get(e);if(i)for(const o of i.wa)o.onError(n);r.queries.delete(e)}function sw(t){t.Da.forEach(e=>{e.next()})}var Sb,E2;(E2=Sb||(Sb={})).Fa="default",E2.Cache="cache";class aw{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ku(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Ku.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Sb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e){this.key=e}}class uM{constructor(e){this.key=e}}class TU{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=At(),this.mutatedKeys=At(),this.Xa=RI(e),this.eu=new Du(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new S2,i=n?n.eu:this.eu;let o=n?n.mutatedKeys:this.mutatedKeys,l=i,d=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,m=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,y)=>{const x=i.get(p),E=mg(this.query,y)?y:null,R=!!x&&this.mutatedKeys.has(x.key),P=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let V=!1;x&&E?x.data.isEqual(E.data)?R!==P&&(r.track({type:3,doc:E}),V=!0):this.iu(x,E)||(r.track({type:2,doc:E}),V=!0,(c&&this.Xa(E,c)>0||m&&this.Xa(E,m)<0)&&(d=!0)):!x&&E?(r.track({type:0,doc:E}),V=!0):x&&!E&&(r.track({type:1,doc:x}),V=!0,(c||m)&&(d=!0)),V&&(E?(l=l.add(E),o=P?o.add(p):o.delete(p)):(l=l.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{eu:l,ru:r,Ds:d,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const l=e.ru.pa();l.sort((p,y)=>function(E,R){const P=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it(20277,{At:V})}};return P(E)-P(R)}(p.type,y.type)||this.Xa(p.doc,y.doc)),this.su(r),i=i!=null&&i;const d=n&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,m=c!==this.Ya;return this.Ya=c,l.length!==0||m?{snapshot:new Ku(this.query,e.eu,o,l,e.mutatedKeys,c===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:d}:{_u:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new S2,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=At(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new uM(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new lM(r))}),n}uu(e){this.Ha=e.qs,this.Za=At();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Ku.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const ow="SyncEngine";class EU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class AU{constructor(e){this.key=e,this.lu=!1}}class CU{constructor(e,n,r,i,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.hu={},this.Pu=new Tl(d=>NI(d),fg),this.Tu=new Map,this.Iu=new Set,this.du=new mn(Be.comparator),this.Eu=new Map,this.Au=new Wx,this.Ru={},this.Vu=new Map,this.mu=Wu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function NU(t,e,n=!0){const r=pM(t);let i;const o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await cM(r,e,n,!0),i}async function RU(t,e){const n=pM(t);await cM(n,e,!0,!1)}async function cM(t,e,n,r){const i=await Y5(t.localStore,ys(e)),o=i.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let d;return r&&(d=await IU(t,e,o,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&nM(t.remoteStore,i),d}async function IU(t,e,n,r,i){t.gu=(y,x,E)=>async function(P,V,O,B){let F=V.view.nu(O);F.Ds&&(F=await v2(P.localStore,V.query,!1).then(({documents:C})=>V.view.nu(C,F)));const Y=B&&B.targetChanges.get(V.targetId),M=B&&B.targetMismatches.get(V.targetId)!=null,j=V.view.applyChanges(F,P.isPrimaryClient,Y,M);return C2(P,V.targetId,j._u),j.snapshot}(t,y,x,E);const o=await v2(t.localStore,e,!0),l=new TU(e,o.qs),d=l.nu(o.documents),c=Ch.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),m=l.applyChanges(d,t.isPrimaryClient,c);C2(t,n,m._u);const p=new EU(e,n,l);return t.Pu.set(e,p),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),m.snapshot}async function MU(t,e,n){const r=dt(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(l=>!fg(l,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await wb(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Qx(r.remoteStore,i.targetId),Tb(r,i.targetId)}).catch(ac)):(Tb(r,i.targetId),await wb(r.localStore,i.targetId,!0))}async function jU(t,e){const n=dt(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Qx(n.remoteStore,r.targetId))}async function PU(t,e,n){const r=zU(t);try{const i=await function(l,d){const c=dt(l),m=en.now(),p=d.reduce((E,R)=>E.add(R.key),At());let y,x;return c.persistence.runTransaction("Locally write mutations","readwrite",E=>{let R=fa(),P=At();return c.Os.getEntries(E,p).next(V=>{R=V,R.forEach((O,B)=>{B.isValidDocument()||(P=P.add(O))})}).next(()=>c.localDocuments.getOverlayedDocuments(E,R)).next(V=>{y=V;const O=[];for(const B of d){const F=YV(B,y.get(B.key).overlayedDocument);F!=null&&O.push(new wo(B.key,F,wI(F.value.mapValue),_i.exists(!0)))}return c.mutationQueue.addMutationBatch(E,m,O,d)}).next(V=>{x=V;const O=V.applyToLocalDocumentSet(y,P);return c.documentOverlayCache.saveOverlays(E,V.batchId,O)})}).then(()=>({batchId:x.batchId,changes:MI(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,d,c){let m=l.Ru[l.currentUser.toKey()];m||(m=new mn(vt)),m=m.insert(d,c),l.Ru[l.currentUser.toKey()]=m}(r,i.batchId,n),await Rh(r,i.changes),await xg(r.remoteStore)}catch(i){const o=nw(i,"Failed to persist write");n.reject(o)}}async function dM(t,e){const n=dt(t);try{const r=await G5(n.localStore,e);e.targetChanges.forEach((i,o)=>{const l=n.Eu.get(o);l&&(Ft(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.lu=!0:i.modifiedDocuments.size>0?Ft(l.lu,14607):i.removedDocuments.size>0&&(Ft(l.lu,42227),l.lu=!1))}),await Rh(n,r,e)}catch(r){await ac(r)}}function A2(t,e,n){const r=dt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((o,l)=>{const d=l.view.va(e);d.snapshot&&i.push(d.snapshot)}),function(l,d){const c=dt(l);c.onlineState=d;let m=!1;c.queries.forEach((p,y)=>{for(const x of y.wa)x.va(d)&&(m=!0)}),m&&sw(c)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function OU(t,e,n){const r=dt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),o=i&&i.key;if(o){let l=new mn(Be.comparator);l=l.insert(o,gr.newNoDocument(o,ct.min()));const d=At().add(o),c=new vg(ct.min(),new Map,new mn(vt),l,d);await dM(r,c),r.du=r.du.remove(o),r.Eu.delete(e),lw(r)}else await wb(r.localStore,e,!1).then(()=>Tb(r,e,n)).catch(ac)}async function DU(t,e){const n=dt(t),r=e.batch.batchId;try{const i=await q5(n.localStore,e);fM(n,r,null),hM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Rh(n,i)}catch(i){await ac(i)}}async function kU(t,e,n){const r=dt(t);try{const i=await function(l,d){const c=dt(l);return c.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let p;return c.mutationQueue.lookupMutationBatch(m,d).next(y=>(Ft(y!==null,37113),p=y.keys(),c.mutationQueue.removeMutationBatch(m,y))).next(()=>c.mutationQueue.performConsistencyCheck(m)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(m,p,d)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,p)).next(()=>c.localDocuments.getDocuments(m,p))})}(r.localStore,e);fM(r,e,n),hM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Rh(r,i)}catch(i){await ac(i)}}function hM(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function fM(t,e,n){const r=dt(t);let i=r.Ru[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Tb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||mM(t,r)})}function mM(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Qx(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),lw(t))}function C2(t,e,n){for(const r of n)r instanceof lM?(t.Au.addReference(r.key,e),LU(t,r)):r instanceof uM?(je(ow,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||mM(t,r.key)):it(19791,{yu:r})}function LU(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(je(ow,"New document in limbo: "+n),t.Iu.add(r),lw(t))}function lw(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Be(Jt.fromString(e)),r=t.mu.next();t.Eu.set(r,new AU(n)),t.du=t.du.insert(n,r),nM(t.remoteStore,new no(ys(hg(n.path)),r,"TargetPurposeLimboResolution",lg.ue))}}async function Rh(t,e,n){const r=dt(t),i=[],o=[],l=[];r.Pu.isEmpty()||(r.Pu.forEach((d,c)=>{l.push(r.gu(c,e,n).then(m=>{var p;if((m||n)&&r.isPrimaryClient){const y=m?!m.fromCache:(p=n?.targetChanges.get(c.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(c.targetId,y?"current":"not-current")}if(m){i.push(m);const y=Yx.Es(c.targetId,m);o.push(y)}}))}),await Promise.all(l),r.hu.J_(i),await async function(c,m){const p=dt(c);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>Se.forEach(m,x=>Se.forEach(x.Is,E=>p.persistence.referenceDelegate.addReference(y,x.targetId,E)).next(()=>Se.forEach(x.ds,E=>p.persistence.referenceDelegate.removeReference(y,x.targetId,E)))))}catch(y){if(!oc(y))throw y;je(Xx,"Failed to update sequence numbers: "+y)}for(const y of m){const x=y.targetId;if(!y.fromCache){const E=p.Fs.get(x),R=E.snapshotVersion,P=E.withLastLimboFreeSnapshotVersion(R);p.Fs=p.Fs.insert(x,P)}}}(r.localStore,o))}async function VU(t,e){const n=dt(t);if(!n.currentUser.isEqual(e)){je(ow,"User change. New user:",e.toKey());const r=await ZI(n.localStore,e);n.currentUser=e,function(o,l){o.Vu.forEach(d=>{d.forEach(c=>{c.reject(new Ne(ye.CANCELLED,l))})}),o.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Rh(n,r.Bs)}}function UU(t,e){const n=dt(t),r=n.Eu.get(e);if(r&&r.lu)return At().add(r.key);{let i=At();const o=n.Tu.get(e);if(!o)return i;for(const l of o){const d=n.Pu.get(l);i=i.unionWith(d.view.tu)}return i}}function pM(t){const e=dt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OU.bind(null,e),e.hu.J_=_U.bind(null,e.eventManager),e.hu.pu=SU.bind(null,e.eventManager),e}function zU(t){const e=dt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kU.bind(null,e),e}class Np{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=yg(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return $5(this.persistence,new B5,e.initialUser,this.serializer)}Du(e){return new QI(Kx.Vi,this.serializer)}bu(e){return new Q5}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Np.provider={build:()=>new Np};class BU extends Np{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Ft(this.persistence.referenceDelegate instanceof Ap,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new A5(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?jr.withCacheSize(this.cacheSizeBytes):jr.DEFAULT;return new QI(r=>Ap.Vi(r,n),this.serializer)}}class Eb{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>A2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=VU.bind(null,this.syncEngine),await bU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new wU}()}createDatastore(e){const n=yg(e.databaseInfo.databaseId),r=function(o){return new nU(o)}(e.databaseInfo);return function(o,l,d,c){return new aU(o,l,d,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,l,d){return new lU(r,i,o,l,d)}(this.localStore,this.datastore,e.asyncQueue,n=>A2(this.syncEngine,n,0),function(){return x2.C()?new x2:new Z5}())}createSyncEngine(e,n){return function(i,o,l,d,c,m,p){const y=new CU(i,o,l,d,c,m);return p&&(y.fu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=dt(i);je(pl,"RemoteStore shutting down."),o.Ia.add(5),await Nh(o),o.Ea.shutdown(),o.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Eb.provider={build:()=>new Eb};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):da("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go="FirestoreClient";class FU{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=pr.UNAUTHENTICATED,this.clientId=ag.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{je(go,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(je(go,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new sa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=nw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function c0(t,e){t.asyncQueue.verifyOperationInProgress(),je(go,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await ZI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{ha("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{je("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{ha("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function N2(t,e){t.asyncQueue.verifyOperationInProgress();const n=await HU(t);je(go,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>_2(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>_2(e.remoteStore,i)),t._onlineComponents=e}async function HU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){je(go,"Using user provided OfflineComponentProvider");try{await c0(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ye.FAILED_PRECONDITION||i.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ha("Error using user provided cache. Falling back to memory cache: "+n),await c0(t,new Np)}}else je(go,"Using default OfflineComponentProvider"),await c0(t,new BU(void 0));return t._offlineComponents}async function gM(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(je(go,"Using user provided OnlineComponentProvider"),await N2(t,t._uninitializedComponentsProvider._online)):(je(go,"Using default OnlineComponentProvider"),await N2(t,new Eb))),t._onlineComponents}function $U(t){return gM(t).then(e=>e.syncEngine)}async function Rp(t){const e=await gM(t),n=e.eventManager;return n.onListen=NU.bind(null,e.syncEngine),n.onUnlisten=MU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=RU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jU.bind(null,e.syncEngine),n}function qU(t,e,n={}){const r=new sa;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,d,c,m){const p=new uw({next:x=>{p.Ou(),l.enqueueAndForget(()=>iw(o,y));const E=x.docs.has(d);!E&&x.fromCache?m.reject(new Ne(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&x.fromCache&&c&&c.source==="server"?m.reject(new Ne(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(x)},error:x=>m.reject(x)}),y=new aw(hg(d.path),p,{includeMetadataChanges:!0,ka:!0});return rw(o,y)}(await Rp(t),t.asyncQueue,e,n,r)),r.promise}function GU(t,e,n={}){const r=new sa;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,d,c,m){const p=new uw({next:x=>{p.Ou(),l.enqueueAndForget(()=>iw(o,y)),x.fromCache&&c.source==="server"?m.reject(new Ne(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(x)},error:x=>m.reject(x)}),y=new aw(d,p,{includeMetadataChanges:!0,ka:!0});return rw(o,y)}(await Rp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM="firestore.googleapis.com",I2=!0;class M2{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yM,this.ssl=I2}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:I2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=XI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<T5)throw new Ne(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ne(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ne(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ne(ye.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new M2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new M2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new oI;switch(r.type){case"firstParty":return new iV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ne(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=R2.get(n);r&&(je("ComponentProvider","Removing Datastore"),R2.delete(n),r.terminate())}(this),Promise.resolve()}}function bM(t,e,n,r={}){var i;t=Ar(t,wg);const o=bo(e),l=t._getSettings(),d=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;o&&(yx(`https://${c}`),bx("Firestore",!0)),l.host!==yM&&l.host!==c&&ha("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},l),{host:c,ssl:o,emulatorOptions:r});if(!cl(m,d)&&(t._setSettings(m),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=pr.MOCK_USER;else{p=cR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new Ne(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new pr(x)}t._authCredentials=new tV(new aI(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bi(this.firestore,e,this._query)}}class hn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}toJSON(){return{type:hn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Eh(n,hn._jsonSchema))return new hn(e,r||null,new Be(Jt.fromString(n.referencePath)))}}hn._jsonSchemaVersion="firestore/documentReference/1.0",hn._jsonSchema={type:kn("string",hn._jsonSchemaVersion),referencePath:kn("string")};class aa extends Bi{constructor(e,n,r){super(e,n,hg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new Be(e))}withConverter(e){return new aa(this.firestore,e,this._path)}}function xt(t,e,...n){if(t=Yt(t),uI("collection","path",e),t instanceof wg){const r=Jt.fromString(e,...n);return qE(r),new aa(t,null,r)}{if(!(t instanceof hn||t instanceof aa))throw new Ne(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Jt.fromString(e,...n));return qE(r),new aa(t.firestore,null,r)}}function Zt(t,e,...n){if(t=Yt(t),arguments.length===1&&(e=ag.newId()),uI("doc","path",e),t instanceof wg){const r=Jt.fromString(e,...n);return $E(r),new hn(t,null,new Be(r))}{if(!(t instanceof hn||t instanceof aa))throw new Ne(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Jt.fromString(e,...n));return $E(r),new hn(t.firestore,t instanceof aa?t.converter:null,new Be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2="AsyncQueue";class P2{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new eM(this,"async_queue_retry"),this.oc=()=>{const r=u0();r&&je(j2,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=u0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=u0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new sa;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!oc(e))throw e;je(j2,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,da("INTERNAL UNHANDLED ERROR: ",O2(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=tw.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&it(47125,{hc:O2(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function O2(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D2(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class As extends wg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new P2,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new P2(e),this._firestoreClient=void 0,await e}}}function xM(t,e){const n=typeof t=="object"?t:_x(),r=typeof t=="string"?t:xp,i=ng(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=oR("firestore");o&&bM(i,...o)}return i}function Ih(t){if(t._terminated)throw new Ne(ye.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||WU(t),t._firestoreClient}function WU(t){var e,n,r;const i=t._freezeSettings(),o=function(d,c,m,p){return new bV(d,c,m,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,vM(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new FU(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(d){const c=d?._online.build();return{_offline:d?._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qr(Zn.fromBase64String(e))}catch(n){throw new Ne(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qr(Zn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Eh(e,Qr._jsonSchema))return Qr.fromBase64String(e.bytes)}}Qr._jsonSchemaVersion="firestore/bytes/1.0",Qr._jsonSchema={type:kn("string",Qr._jsonSchemaVersion),bytes:kn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ne(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ne(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ne(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return vt(this._lat,e._lat)||vt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(e){if(Eh(e,ki._jsonSchema))return new ki(e.latitude,e.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:kn("string",ki._jsonSchemaVersion),latitude:kn("number"),longitude:kn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Eh(e,Li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Li(e.vectorValues);throw new Ne(ye.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Li._jsonSchemaVersion="firestore/vectorValue/1.0",Li._jsonSchema={type:kn("string",Li._jsonSchemaVersion),vectorValues:kn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KU=/^__.*__$/;class YU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ah(e,this.data,n,this.fieldTransforms)}}class wM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new wo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _M(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it(40011,{Ec:t})}}class cw{constructor(e,n,r,i,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new cw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Ip(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(_M(this.Ec)&&KU.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class XU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||yg(e)}Dc(e,n,r,i=!1){return new cw({Ec:e,methodName:n,bc:r,path:Xn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ph(t){const e=t._freezeSettings(),n=yg(t._databaseId);return new XU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function SM(t,e,n,r,i,o={}){const l=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);hw("Data must be an object, but it was:",l,r);const d=EM(r,l);let c,m;if(o.merge)c=new Jr(l.fieldMask),m=l.fieldTransforms;else if(o.mergeFields){const p=[];for(const y of o.mergeFields){const x=Ab(e,y,n);if(!l.contains(x))throw new Ne(ye.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);CM(p,x)||p.push(x)}c=new Jr(p),m=l.fieldTransforms.filter(y=>c.covers(y.field))}else c=null,m=l.fieldTransforms;return new YU(new Pr(d),c,m)}class _g extends jh{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _g}}class dw extends jh{_toFieldTransform(e){return new qV(e.path,new rh)}isEqual(e){return e instanceof dw}}function QU(t,e,n,r){const i=t.Dc(1,e,n);hw("Data must be an object, but it was:",i,r);const o=[],l=Pr.empty();xo(r,(c,m)=>{const p=fw(e,c,n);m=Yt(m);const y=i.gc(p);if(m instanceof _g)o.push(p);else{const x=Oh(m,y);x!=null&&(o.push(p),l.set(p,x))}});const d=new Jr(o);return new wM(l,d,i.fieldTransforms)}function ZU(t,e,n,r,i,o){const l=t.Dc(1,e,n),d=[Ab(e,r,n)],c=[i];if(o.length%2!=0)throw new Ne(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<o.length;x+=2)d.push(Ab(e,o[x])),c.push(o[x+1]);const m=[],p=Pr.empty();for(let x=d.length-1;x>=0;--x)if(!CM(m,d[x])){const E=d[x];let R=c[x];R=Yt(R);const P=l.gc(E);if(R instanceof _g)m.push(E);else{const V=Oh(R,P);V!=null&&(m.push(E),p.set(E,V))}}const y=new Jr(m);return new wM(p,y,l.fieldTransforms)}function TM(t,e,n,r=!1){return Oh(n,t.Dc(r?4:3,e))}function Oh(t,e){if(AM(t=Yt(t)))return hw("Unsupported field value:",e,t),EM(t,e);if(t instanceof jh)return function(r,i){if(!_M(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const d of r){let c=Oh(d,i.yc(l));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),l++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return FV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=en.fromDate(r);return{timestampValue:Ep(i.serializer,o)}}if(r instanceof en){const o=new en(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ep(i.serializer,o)}}if(r instanceof ki)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qr)return{bytesValue:HI(i.serializer,r._byteString)};if(r instanceof hn){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.wc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Gx(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Li)return function(l,d){return{mapValue:{fields:{[bI]:{stringValue:xI},[wp]:{arrayValue:{values:l.toArray().map(m=>{if(typeof m!="number")throw d.wc("VectorValues must only contain numeric values.");return Fx(d.serializer,m)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${og(r)}`)}(t,e)}function EM(t,e){const n={};return fI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xo(t,(r,i)=>{const o=Oh(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function AM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof en||t instanceof ki||t instanceof Qr||t instanceof hn||t instanceof jh||t instanceof Li)}function hw(t,e,n){if(!AM(n)||!dI(n)){const r=og(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function Ab(t,e,n){if((e=Yt(e))instanceof Mh)return e._internalPath;if(typeof e=="string")return fw(t,e);throw Ip("Field path arguments must be of type string or ",t,!1,void 0,n)}const JU=new RegExp("[~\\*/\\[\\]]");function fw(t,e,n){if(e.search(JU)>=0)throw Ip(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Mh(...e.split("."))._internalPath}catch{throw Ip(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ip(t,e,n,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let c="";return(o||l)&&(c+=" (found",o&&(c+=` in field ${r}`),l&&(c+=` in document ${i}`),c+=")"),new Ne(ye.INVALID_ARGUMENT,d+t+c)}function CM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new e9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Sg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class e9 extends mw{data(){return super.data()}}function Sg(t,e){return typeof e=="string"?fw(t,e):e instanceof Mh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ne(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pw{}class Dh extends pw{}function cn(t,e,...n){let r=[];e instanceof pw&&r.push(e),r=r.concat(n),function(o){const l=o.filter(c=>c instanceof Tg).length,d=o.filter(c=>c instanceof kh).length;if(l>1||l>0&&d>0)throw new Ne(ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class kh extends Dh{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new kh(e,n,r)}_apply(e){const n=this._parse(e);return IM(e._query,n),new Bi(e.firestore,e.converter,gb(e._query,n))}_parse(e){const n=Ph(e.firestore);return function(o,l,d,c,m,p,y){let x;if(m.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Ne(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){L2(y,p);const R=[];for(const P of y)R.push(k2(c,o,P));x={arrayValue:{values:R}}}else x=k2(c,o,y)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||L2(y,p),x=TM(d,l,y,p==="in"||p==="not-in");return Dn.create(m,p,x)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function rn(t,e,n){const r=e,i=Sg("where",t);return kh._create(i,r,n)}class Tg extends pw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Tg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:zi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let l=i;const d=o.getFlattenedFilters();for(const c of d)IM(l,c),l=gb(l,c)}(e._query,n),new Bi(e.firestore,e.converter,gb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Eg extends Dh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Eg(e,n)}_apply(e){const n=function(i,o,l){if(i.startAt!==null)throw new Ne(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ne(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nh(o,l)}(e._query,this._field,this._direction);return new Bi(e.firestore,e.converter,function(i,o){const l=i.explicitOrderBy.concat([o]);return new Sl(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Yu(t,e="asc"){const n=e,r=Sg("orderBy",t);return Eg._create(r,n)}class Ag extends Dh{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Ag(e,n,r)}_apply(e){return new Bi(e.firestore,e.converter,Sp(e._query,this._limit,this._limitType))}}function Cb(t){return Ag._create("limit",t,"F")}class Cg extends Dh{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Cg(e,n,r)}_apply(e){const n=t9(e,this.type,this._docOrFields,this._inclusive);return new Bi(e.firestore,e.converter,function(i,o){return new Sl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,n))}}function RM(...t){return Cg._create("startAfter",t,!1)}function t9(t,e,n,r){if(n[0]=Yt(n[0]),n[0]instanceof mw)return function(o,l,d,c,m){if(!c)throw new Ne(ye.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const p=[];for(const y of Ou(o))if(y.field.isKeyField())p.push(_p(l,c.key));else{const x=c.data.field(y.field);if(cg(x))throw new Ne(ye.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(x===null){const E=y.field.canonicalString();throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${E}' (used as the orderBy) does not exist.`)}p.push(x)}return new Gu(p,m)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Ph(t.firestore);return function(l,d,c,m,p,y){const x=l.explicitOrderBy;if(p.length>x.length)throw new Ne(ye.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const E=[];for(let R=0;R<p.length;R++){const P=p[R];if(x[R].field.isKeyField()){if(typeof P!="string")throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof P}`);if(!Bx(l)&&P.indexOf("/")!==-1)throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${P}' contains a slash.`);const V=l.path.child(Jt.fromString(P));if(!Be.isDocumentKey(V))throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${V}' is not because it contains an odd number of segments.`);const O=new Be(V);E.push(_p(d,O))}else{const V=TM(c,m,P);E.push(V)}}return new Gu(E,y)}(t._query,t.firestore._databaseId,i,e,n,r)}}function k2(t,e,n){if(typeof(n=Yt(n))=="string"){if(n==="")throw new Ne(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bx(e)&&n.indexOf("/")!==-1)throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Jt.fromString(n));if(!Be.isDocumentKey(r))throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _p(t,new Be(r))}if(n instanceof hn)return _p(t,n._key);throw new Ne(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${og(n)}.`)}function L2(t,e){if(!Array.isArray(t)||t.length===0)throw new Ne(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function IM(t,e){const n=function(i,o){for(const l of i)for(const d of l.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ne(ye.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ne(ye.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class MM{convertValue(e,n="none"){switch(mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return En(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw it(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xo(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[wp].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>En(l.doubleValue));return new Li(o)}convertGeoPoint(e){return new ki(En(e.latitude),En(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=dg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(eh(e));default:return null}}convertTimestamp(e){const n=ho(e);return new en(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Jt.fromString(e);Ft(YI(r),9688,{name:e});const i=new Hu(r.get(1),r.get(3)),o=new Be(r.popFirst(5));return i.isEqual(n)||da(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class wu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oo extends mw{constructor(e,n,r,i,o,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Sg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(ye.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=oo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}oo._jsonSchemaVersion="firestore/documentSnapshot/1.0",oo._jsonSchema={type:kn("string",oo._jsonSchemaVersion),bundleSource:kn("string","DocumentSnapshot"),bundleName:kn("string"),bundle:kn("string")};class Fd extends oo{data(e={}){return super.data(e)}}class lo{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new wu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Fd(this._firestore,this._userDataWriter,r.key,r,new wu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ne(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(d=>{const c=new Fd(i._firestore,i._userDataWriter,d.doc.key,d.doc,new wu(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:c,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(d=>o||d.type!==3).map(d=>{const c=new Fd(i._firestore,i._userDataWriter,d.doc.key,d.doc,new wu(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,p=-1;return d.type!==0&&(m=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),d.type!==1&&(l=l.add(d.doc),p=l.indexOf(d.doc.key)),{type:n9(d.type),doc:c,oldIndex:m,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(ye.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=lo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ag.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function n9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(t){t=Ar(t,hn);const e=Ar(t.firestore,As);return qU(Ih(e),t._key).then(n=>PM(e,t,n))}lo._jsonSchemaVersion="firestore/querySnapshot/1.0",lo._jsonSchema={type:kn("string",lo._jsonSchemaVersion),bundleSource:kn("string","QuerySnapshot"),bundleName:kn("string"),bundle:kn("string")};class gw extends MM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,n)}}function ln(t){t=Ar(t,Bi);const e=Ar(t.firestore,As),n=Ih(e),r=new gw(e);return NM(t._query),GU(n,t._query).then(i=>new lo(e,r,t,i))}function gl(t,e,n){t=Ar(t,hn);const r=Ar(t.firestore,As),i=jM(t.converter,e,n);return Lh(r,[SM(Ph(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,_i.none())])}function oa(t,e,n,...r){t=Ar(t,hn);const i=Ar(t.firestore,As),o=Ph(i);let l;return l=typeof(e=Yt(e))=="string"||e instanceof Mh?ZU(o,"updateDoc",t._key,e,n,r):QU(o,"updateDoc",t._key,e),Lh(i,[l.toMutation(t._key,_i.exists(!0))])}function Mp(t){return Lh(Ar(t.firestore,As),[new Hx(t._key,_i.none())])}function Cs(t,e){const n=Ar(t.firestore,As),r=Zt(t),i=jM(t.converter,e);return Lh(n,[SM(Ph(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,_i.exists(!1))]).then(()=>r)}function Xu(t,...e){var n,r,i;t=Yt(t);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||D2(e[l])||(o=e[l++]);const d={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(D2(e[l])){const y=e[l];e[l]=(n=y.next)===null||n===void 0?void 0:n.bind(y),e[l+1]=(r=y.error)===null||r===void 0?void 0:r.bind(y),e[l+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}let c,m,p;if(t instanceof hn)m=Ar(t.firestore,As),p=hg(t._key.path),c={next:y=>{e[l]&&e[l](PM(m,t,y))},error:e[l+1],complete:e[l+2]};else{const y=Ar(t,Bi);m=Ar(y.firestore,As),p=y._query;const x=new gw(m);c={next:E=>{e[l]&&e[l](new lo(m,x,y,E))},error:e[l+1],complete:e[l+2]},NM(t._query)}return function(x,E,R,P){const V=new uw(P),O=new aw(E,V,R);return x.asyncQueue.enqueueAndForget(async()=>rw(await Rp(x),O)),()=>{V.Ou(),x.asyncQueue.enqueueAndForget(async()=>iw(await Rp(x),O))}}(Ih(m),p,d,c)}function Lh(t,e){return function(r,i){const o=new sa;return r.asyncQueue.enqueueAndForget(async()=>PU(await $U(r),i,o)),o.promise}(Ih(t),e)}function PM(t,e,n){const r=n.docs.get(e._key),i=new gw(t);return new oo(t,i,e._key,r,new wu(n.hasPendingWrites,n.fromCache),e.converter)}function Vi(){return new dw("serverTimestamp")}(function(e,n=!0){(function(i){sc=i})(_l),dl(new uo("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),d=new As(new nV(r.getProvider("auth-internal")),new sV(l,r.getProvider("app-check-internal")),function(m,p){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Ne(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hu(m.options.projectId,p)}(l,i),l);return o=Object.assign({useFetchStreams:n},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),ps(UE,zE,e),ps(UE,zE,"esm2017")})();const r9=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:MM,Bytes:Qr,CollectionReference:aa,DocumentReference:hn,DocumentSnapshot:oo,FieldPath:Mh,FieldValue:jh,Firestore:As,FirestoreError:Ne,GeoPoint:ki,Query:Bi,QueryCompositeFilterConstraint:Tg,QueryConstraint:Dh,QueryDocumentSnapshot:Fd,QueryFieldFilterConstraint:kh,QueryLimitConstraint:Ag,QueryOrderByConstraint:Eg,QuerySnapshot:lo,QueryStartAtConstraint:Cg,SnapshotMetadata:wu,Timestamp:en,VectorValue:Li,_AutoId:ag,_ByteString:Zn,_DatabaseId:Hu,_DocumentKey:Be,_EmptyAuthCredentialsProvider:oI,_FieldPath:Xn,_cast:Ar,_logWarn:ha,_validateIsNotUsedTogether:cI,addDoc:Cs,collection:xt,connectFirestoreEmulator:bM,deleteDoc:Mp,doc:Zt,ensureFirestoreConfigured:Ih,executeWrite:Lh,getDoc:wi,getDocs:ln,getFirestore:xM,limit:Cb,onSnapshot:Xu,orderBy:Yu,query:cn,serverTimestamp:Vi,setDoc:gl,startAfter:RM,updateDoc:oa,where:rn},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM="firebasestorage.googleapis.com",DM="storageBucket",i9=2*60*1e3,s9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn extends Is{constructor(e,n,r=0){super(d0(e),`Firebase Storage: ${n} (${d0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return d0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var xn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(xn||(xn={}));function d0(t){return"storage/"+t}function vw(){const t="An unknown error occurred, please check the error payload for server response.";return new wn(xn.UNKNOWN,t)}function a9(t){return new wn(xn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function o9(t){return new wn(xn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function l9(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new wn(xn.UNAUTHENTICATED,t)}function u9(){return new wn(xn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function c9(t){return new wn(xn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function d9(){return new wn(xn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function h9(){return new wn(xn.CANCELED,"User canceled the upload/download.")}function f9(t){return new wn(xn.INVALID_URL,"Invalid URL '"+t+"'.")}function m9(t){return new wn(xn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function p9(){return new wn(xn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+DM+"' property when initializing the app?")}function g9(){return new wn(xn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function v9(){return new wn(xn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function y9(t){return new wn(xn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Nb(t){return new wn(xn.INVALID_ARGUMENT,t)}function kM(){return new wn(xn.APP_DELETED,"The Firebase app was deleted.")}function b9(t){return new wn(xn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Hd(t,e){return new wn(xn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function fd(t){throw new wn(xn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ei.makeFromUrl(e,n)}catch{return new ei(e,"")}if(r.path==="")return r;throw m9(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}const l="(/(.*))?$",d=new RegExp("^gs://"+i+l,"i"),c={bucket:1,path:3};function m(Y){Y.path_=decodeURIComponent(Y.path)}const p="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",E=new RegExp(`^https?://${y}/${p}/b/${i}/o${x}`,"i"),R={bucket:1,path:3},P=n===OM?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",O=new RegExp(`^https?://${P}/${i}/${V}`,"i"),F=[{regex:d,indices:c,postModify:o},{regex:E,indices:R,postModify:m},{regex:O,indices:{bucket:1,path:2},postModify:m}];for(let Y=0;Y<F.length;Y++){const M=F[Y],j=M.regex.exec(e);if(j){const C=j[M.indices.bucket];let I=j[M.indices.path];I||(I=""),r=new ei(C,I),M.postModify(r);break}}if(r==null)throw f9(e);return r}}class x9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w9(t,e,n){let r=1,i=null,o=null,l=!1,d=0;function c(){return d===2}let m=!1;function p(...V){m||(m=!0,e.apply(null,V))}function y(V){i=setTimeout(()=>{i=null,t(E,c())},V)}function x(){o&&clearTimeout(o)}function E(V,...O){if(m){x();return}if(V){x(),p.call(null,V,...O);return}if(c()||l){x(),p.call(null,V,...O);return}r<64&&(r*=2);let F;d===1?(d=2,F=0):F=(r+Math.random())*1e3,y(F)}let R=!1;function P(V){R||(R=!0,x(),!m&&(i!==null?(V||(d=2),clearTimeout(i),y(0)):V||(d=1)))}return y(0),o=setTimeout(()=>{l=!0,P(!0)},n),P}function _9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S9(t){return t!==void 0}function T9(t){return typeof t=="object"&&!Array.isArray(t)}function yw(t){return typeof t=="string"||t instanceof String}function V2(t){return bw()&&t instanceof Blob}function bw(){return typeof Blob<"u"}function U2(t,e,n,r){if(r<e)throw Nb(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Nb(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function LM(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ol;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ol||(ol={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e,n,r,i,o,l,d,c,m,p,y,x=!0,E=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=d,this.errorCallback_=c,this.timeout_=m,this.progressCallback_=p,this.connectionFactory_=y,this.retry=x,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,P)=>{this.resolve_=R,this.reject_=P,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new bm(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=d=>{const c=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,m)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const d=o.getErrorCode()===ol.NO_ERROR,c=o.getStatus();if(!d||E9(c,this.additionalRetryCodes_)&&this.retry){const p=o.getErrorCode()===ol.ABORT;r(!1,new bm(!1,null,p));return}const m=this.successCodes_.indexOf(c)!==-1;r(!0,new bm(m,o))})},n=(r,i)=>{const o=this.resolve_,l=this.reject_,d=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(d,d.getResponse());S9(c)?o(c):o()}catch(c){l(c)}else if(d!==null){const c=vw();c.serverResponse=d.getErrorText(),this.errorCallback_?l(this.errorCallback_(d,c)):l(c)}else if(i.canceled){const c=this.appDelete_?kM():h9();l(c)}else{const c=d9();l(c)}};this.canceled_?n(!1,new bm(!1,null,!0)):this.backoffId_=w9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&_9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class bm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function C9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function N9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function R9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function I9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function M9(t,e,n,r,i,o,l=!0,d=!1){const c=LM(t.urlParams),m=t.url+c,p=Object.assign({},t.headers);return R9(p,e),C9(p,n),N9(p,o),I9(p,r),new A9(m,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function P9(...t){const e=j9();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(bw())return new Blob(t);throw new wn(xn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function O9(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D9(t){if(typeof atob>"u")throw y9("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class h0{constructor(e,n){this.data=e,this.contentType=n||null}}function k9(t,e){switch(t){case ms.RAW:return new h0(VM(e));case ms.BASE64:case ms.BASE64URL:return new h0(UM(t,e));case ms.DATA_URL:return new h0(V9(e),U9(e))}throw vw()}function VM(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,l=t.charCodeAt(++n);r=65536|(o&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function L9(t){let e;try{e=decodeURIComponent(t)}catch{throw Hd(ms.DATA_URL,"Malformed data URL.")}return VM(e)}function UM(t,e){switch(t){case ms.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Hd(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ms.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Hd(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=D9(e)}catch(i){throw i.message.includes("polyfill")?i:Hd(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class zM{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Hd(ms.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=z9(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function V9(t){const e=new zM(t);return e.base64?UM(ms.BASE64,e.rest):L9(e.rest)}function U9(t){return new zM(t).contentType}function z9(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n){let r=0,i="";V2(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(V2(this.data_)){const r=this.data_,i=O9(r,e,n);return i===null?null:new Ja(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ja(r,!0)}}static getBlob(...e){if(bw()){const n=e.map(r=>r instanceof Ja?r.data_:r);return new Ja(P9.apply(null,n))}else{const n=e.map(l=>yw(l)?k9(ms.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(l=>{for(let d=0;d<l.length;d++)i[o++]=l[d]}),new Ja(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(t){let e;try{e=JSON.parse(t)}catch{return null}return T9(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function F9(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function FM(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H9(t,e){return e}class Tr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||H9}}let xm=null;function $9(t){return!yw(t)||t.length<2?t:FM(t)}function HM(){if(xm)return xm;const t=[];t.push(new Tr("bucket")),t.push(new Tr("generation")),t.push(new Tr("metageneration")),t.push(new Tr("name","fullPath",!0));function e(o,l){return $9(l)}const n=new Tr("name");n.xform=e,t.push(n);function r(o,l){return l!==void 0?Number(l):l}const i=new Tr("size");return i.xform=r,t.push(i),t.push(new Tr("timeCreated")),t.push(new Tr("updated")),t.push(new Tr("md5Hash",null,!0)),t.push(new Tr("cacheControl",null,!0)),t.push(new Tr("contentDisposition",null,!0)),t.push(new Tr("contentEncoding",null,!0)),t.push(new Tr("contentLanguage",null,!0)),t.push(new Tr("contentType",null,!0)),t.push(new Tr("metadata","customMetadata",!0)),xm=t,xm}function q9(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new ei(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function G9(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const l=n[o];r[l.local]=l.xform(r,e[l.server])}return q9(r,t),r}function $M(t,e,n){const r=BM(e);return r===null?null:G9(t,r,n)}function W9(t,e,n,r){const i=BM(e);if(i===null||!yw(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(m=>{const p=t.bucket,y=t.fullPath,x="/b/"+l(p)+"/o/"+l(y),E=xw(x,n,r),R=LM({alt:"media",token:m});return E+R})[0]}function K9(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class qM{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(t){if(!t)throw vw()}function Y9(t,e){function n(r,i){const o=$M(t,i,e);return GM(o!==null),o}return n}function X9(t,e){function n(r,i){const o=$M(t,i,e);return GM(o!==null),W9(o,i,t.host,t._protocol)}return n}function WM(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=u9():i=l9():n.getStatus()===402?i=o9(t.bucket):n.getStatus()===403?i=c9(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Q9(t){const e=WM(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=a9(t.path)),o.serverResponse=i.serverResponse,o}return n}function Z9(t,e,n){const r=e.fullServerUrl(),i=xw(r,t.host,t._protocol),o="GET",l=t.maxOperationRetryTime,d=new qM(i,o,X9(t,n),l);return d.errorHandler=Q9(e),d}function J9(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function e8(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=J9(null,e)),r}function t8(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function d(){let F="";for(let Y=0;Y<2;Y++)F=F+Math.random().toString().slice(2);return F}const c=d();l["Content-Type"]="multipart/related; boundary="+c;const m=e8(e,r,i),p=K9(m,n),y="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+c+`\r
Content-Type: `+m.contentType+`\r
\r
`,x=`\r
--`+c+"--",E=Ja.getBlob(y,r,x);if(E===null)throw g9();const R={name:m.fullPath},P=xw(o,t.host,t._protocol),V="POST",O=t.maxUploadRetryTime,B=new qM(P,V,Y9(t,n),O);return B.urlParams=R,B.headers=l,B.body=E.uploadData(),B.errorHandler=WM(e),B}class n8{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ol.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ol.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ol.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,o){if(this.sent_)throw fd("cannot .send() more than once");if(bo(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw fd("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw fd("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw fd("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw fd("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class r8 extends n8{initXhr(){this.xhr_.responseType="text"}}function KM(){return new r8}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n){this._service=e,n instanceof ei?this._location=n:this._location=ei.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new vl(e,n)}get root(){const e=new ei(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return FM(this._location.path)}get storage(){return this._service}get parent(){const e=B9(this._location.path);if(e===null)return null;const n=new ei(this._location.bucket,e);return new vl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw b9(e)}}function i8(t,e,n){t._throwIfRoot("uploadBytes");const r=t8(t.storage,t._location,HM(),new Ja(e,!0),n);return t.storage.makeRequestWithTokens(r,KM).then(i=>({metadata:i,ref:t}))}function s8(t){t._throwIfRoot("getDownloadURL");const e=Z9(t.storage,t._location,HM());return t.storage.makeRequestWithTokens(e,KM).then(n=>{if(n===null)throw v9();return n})}function a8(t,e){const n=F9(t._location.path,e),r=new ei(t._location.bucket,n);return new vl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o8(t){return/^[A-Za-z]+:\/\//.test(t)}function l8(t,e){return new vl(t,e)}function YM(t,e){if(t instanceof ww){const n=t;if(n._bucket==null)throw p9();const r=new vl(n,n._bucket);return e!=null?YM(r,e):r}else return e!==void 0?a8(t,e):t}function u8(t,e){if(e&&o8(e)){if(t instanceof ww)return l8(t,e);throw Nb("To use ref(service, url), the first argument must be a Storage instance.")}else return YM(t,e)}function z2(t,e){const n=e?.[DM];return n==null?null:ei.makeFromBucketSpec(n,t)}function c8(t,e,n,r={}){t.host=`${e}:${n}`;const i=bo(e);i&&(yx(`https://${t.host}/b`),bx("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:cR(o,t.app.options.projectId))}class ww{constructor(e,n,r,i,o,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=OM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=i9,this._maxUploadRetryTime=s9,this._requests=new Set,i!=null?this._bucket=ei.makeFromBucketSpec(i,this._host):this._bucket=z2(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ei.makeFromBucketSpec(this._url,e):this._bucket=z2(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){U2("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){U2("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Xr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new vl(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new x9(kM());{const l=M9(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const B2="@firebase/storage",F2="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM="storage";function Ng(t,e,n){return t=Yt(t),i8(t,e,n)}function Rg(t){return t=Yt(t),s8(t)}function Ig(t,e){return t=Yt(t),u8(t,e)}function d8(t=_x(),e){t=Yt(t);const r=ng(t,XM).getImmediate({identifier:e}),i=oR("storage");return i&&h8(r,...i),r}function h8(t,e,n,r={}){c8(t,e,n,r)}function f8(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new ww(n,r,i,e,_l)}function m8(){dl(new uo(XM,f8,"PUBLIC").setMultipleInstances(!0)),ps(B2,F2,""),ps(B2,F2,"esm2017")}m8();const p8={apiKey:"AIzaSyBkP3gypmQHs_CrrBgiy7IXMDz_VVJDGvw",authDomain:"mangrov-cf6e2.firebaseapp.com",projectId:"mangrov-cf6e2",storageBucket:"mangrov-cf6e2.firebasestorage.app",messagingSenderId:"936868961990",appId:"1:936868961990:web:022a545478ec5b5fa501c7",measurementId:"G-PC68SEG8KL"},_w=fR(p8),Oi=ZR(_w),Ve=xM(_w),Mg=d8(_w),QM=A.createContext(void 0);function g8({children:t}){const[e,n]=A.useState({isSignedIn:!1,pending:!0,user:null,signOut:async()=>{try{await H3(Oi)}catch(r){console.error("Error signing out:",r)}}});return A.useEffect(()=>{const r=Oi.onAuthStateChanged(i=>n(o=>({...o,user:i,pending:!1,isSignedIn:!!i})));return()=>r()},[]),h.jsx(QM.Provider,{value:{...e,auth:Oi},children:t})}function Cr(){const t=A.useContext(QM);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}var md={},H2;function v8(){if(H2)return md;H2=1,Object.defineProperty(md,"__esModule",{value:!0}),md.parse=l,md.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function l(x,E){const R=new o,P=x.length;if(P<2)return R;const V=E?.decode||p;let O=0;do{const B=x.indexOf("=",O);if(B===-1)break;const F=x.indexOf(";",O),Y=F===-1?P:F;if(B>Y){O=x.lastIndexOf(";",B-1)+1;continue}const M=d(x,O,B),j=c(x,B,M),C=x.slice(M,j);if(R[C]===void 0){let I=d(x,B+1,Y),N=c(x,Y,I);const T=V(x.slice(I,N));R[C]=T}O=Y+1}while(O<P);return R}function d(x,E,R){do{const P=x.charCodeAt(E);if(P!==32&&P!==9)return E}while(++E<R);return R}function c(x,E,R){for(;E>R;){const P=x.charCodeAt(--E);if(P!==32&&P!==9)return E+1}return R}function m(x,E,R){const P=R?.encode||encodeURIComponent;if(!t.test(x))throw new TypeError(`argument name is invalid: ${x}`);const V=P(E);if(!e.test(V))throw new TypeError(`argument val is invalid: ${E}`);let O=x+"="+V;if(!R)return O;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);O+="; Max-Age="+R.maxAge}if(R.domain){if(!n.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);O+="; Domain="+R.domain}if(R.path){if(!r.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);O+="; Path="+R.path}if(R.expires){if(!y(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);O+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(O+="; HttpOnly"),R.secure&&(O+="; Secure"),R.partitioned&&(O+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return O}function p(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function y(x){return i.call(x)==="[object Date]"}return md}v8();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ZM=t=>{throw TypeError(t)},y8=(t,e,n)=>e.has(t)||ZM("Cannot "+n),f0=(t,e,n)=>(y8(t,e,"read from private field"),n?n.call(t):e.get(t)),b8=(t,e,n)=>e.has(t)?ZM("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),$2="popstate";function x8(t={}){function e(r,i){let{pathname:o,search:l,hash:d}=r.location;return ah("",{pathname:o,search:l,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:vo(i)}return _8(e,n,null,t)}function Tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function An(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function w8(){return Math.random().toString(36).substring(2,10)}function q2(t,e){return{usr:t.state,key:t.key,idx:e}}function ah(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?_o(e):e,state:n,key:e&&e.key||r||w8()}}function vo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function _o(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function _8(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,d="POP",c=null,m=p();m==null&&(m=0,l.replaceState({...l.state,idx:m},""));function p(){return(l.state||{idx:null}).idx}function y(){d="POP";let V=p(),O=V==null?null:V-m;m=V,c&&c({action:d,location:P.location,delta:O})}function x(V,O){d="PUSH";let B=ah(P.location,V,O);m=p()+1;let F=q2(B,m),Y=P.createHref(B);try{l.pushState(F,"",Y)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(Y)}o&&c&&c({action:d,location:P.location,delta:1})}function E(V,O){d="REPLACE";let B=ah(P.location,V,O);m=p();let F=q2(B,m),Y=P.createHref(B);l.replaceState(F,"",Y),o&&c&&c({action:d,location:P.location,delta:0})}function R(V){return JM(V)}let P={get action(){return d},get location(){return t(i,l)},listen(V){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener($2,y),c=V,()=>{i.removeEventListener($2,y),c=null}},createHref(V){return e(i,V)},createURL:R,encodeLocation(V){let O=R(V);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:x,replace:E,go(V){return l.go(V)}};return P}function JM(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Tt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:vo(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var Pd,G2=class{constructor(t){if(b8(this,Pd,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(f0(this,Pd).has(t))return f0(this,Pd).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){f0(this,Pd).set(t,e)}};Pd=new WeakMap;var S8=new Set(["lazy","caseSensitive","path","id","index","children"]);function T8(t){return S8.has(t)}var E8=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function A8(t){return E8.has(t)}function C8(t){return t.index===!0}function jp(t,e,n=[],r={}){return t.map((i,o)=>{let l=[...n,String(o)],d=typeof i.id=="string"?i.id:l.join("-");if(Tt(i.index!==!0||!i.children,"Cannot specify children on an index route"),Tt(!r[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),C8(i)){let c={...i,...e(i),id:d};return r[d]=c,c}else{let c={...i,...e(i),id:d,children:void 0};return r[d]=c,i.children&&(c.children=jp(i.children,e,l,r)),c}})}function eo(t,e,n="/"){return Wm(t,e,n,!1)}function Wm(t,e,n,r){let i=typeof e=="string"?_o(e):e,o=Ti(i.pathname||"/",n);if(o==null)return null;let l=ej(t);R8(l);let d=null;for(let c=0;d==null&&c<l.length;++c){let m=z8(o);d=V8(l[c],m,r)}return d}function N8(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function ej(t,e=[],n=[],r=""){let i=(o,l,d)=>{let c={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};c.relativePath.startsWith("/")&&(Tt(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let m=xs([r,c.relativePath]),p=n.concat(c);o.children&&o.children.length>0&&(Tt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),ej(o.children,e,p,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:k8(m,o.index),routesMeta:p})};return t.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))i(o,l);else for(let d of tj(o.path))i(o,l,d)}),e}function tj(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=tj(r.join("/")),d=[];return d.push(...l.map(c=>c===""?o:[o,c].join("/"))),i&&d.push(...l),d.map(c=>t.startsWith("/")&&c===""?"/":c)}function R8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:L8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var I8=/^:[\w-]+$/,M8=3,j8=2,P8=1,O8=10,D8=-2,W2=t=>t==="*";function k8(t,e){let n=t.split("/"),r=n.length;return n.some(W2)&&(r+=D8),e&&(r+=j8),n.filter(i=>!W2(i)).reduce((i,o)=>i+(I8.test(o)?M8:o===""?P8:O8),r)}function L8(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function V8(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",l=[];for(let d=0;d<r.length;++d){let c=r[d],m=d===r.length-1,p=o==="/"?e:e.slice(o.length)||"/",y=Pp({path:c.relativePath,caseSensitive:c.caseSensitive,end:m},p),x=c.route;if(!y&&m&&n&&!r[r.length-1].route.index&&(y=Pp({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!y)return null;Object.assign(i,y.params),l.push({params:i,pathname:xs([o,y.pathname]),pathnameBase:H8(xs([o,y.pathnameBase])),route:x}),y.pathnameBase!=="/"&&(o=xs([o,y.pathnameBase]))}return l}function Pp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=U8(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((m,{paramName:p,isOptional:y},x)=>{if(p==="*"){let R=d[x]||"";l=o.slice(0,o.length-R.length).replace(/(.)\/+$/,"$1")}const E=d[x];return y&&!E?m[p]=void 0:m[p]=(E||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:l,pattern:t}}function U8(t,e=!1,n=!0){An(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,c)=>(r.push({paramName:d,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function z8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return An(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ti(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function B8(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?_o(t):t;return{pathname:n?n.startsWith("/")?n:F8(n,e):e,search:$8(r),hash:q8(i)}}function F8(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function m0(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nj(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Sw(t){let e=nj(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Tw(t,e,n,r=!1){let i;typeof t=="string"?i=_o(t):(i={...t},Tt(!i.pathname||!i.pathname.includes("?"),m0("?","pathname","search",i)),Tt(!i.pathname||!i.pathname.includes("#"),m0("#","pathname","hash",i)),Tt(!i.search||!i.search.includes("#"),m0("#","search","hash",i)));let o=t===""||i.pathname==="",l=o?"/":i.pathname,d;if(l==null)d=n;else{let y=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),y-=1;i.pathname=x.join("/")}d=y>=0?e[y]:"/"}let c=B8(i,d),m=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(m||p)&&(c.pathname+="/"),c}var xs=t=>t.join("/").replace(/\/\/+/g,"/"),H8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,q8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Op=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function oh(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var rj=["POST","PUT","PATCH","DELETE"],G8=new Set(rj),W8=["GET",...rj],K8=new Set(W8),Y8=new Set([301,302,303,307,308]),X8=new Set([307,308]),p0={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Q8={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},pd={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ew=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Z8=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),ij="remix-router-transitions",sj=Symbol("ResetLoaderData");function J8(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Tt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],i=t.mapRouteProperties||Z8,o={},l=jp(t.routes,i,void 0,o),d,c=t.basename||"/",m=t.dataStrategy||i7,p={unstable_middleware:!1,...t.future},y=null,x=new Set,E=null,R=null,P=null,V=t.hydrationData!=null,O=eo(l,t.history.location,c),B=!1,F=null,Y;if(O==null&&!t.patchRoutesOnNavigation){let te=xi(404,{pathname:t.history.location.pathname}),{matches:ae,route:de}=sA(l);Y=!0,O=ae,F={[de.id]:te}}else if(O&&!t.hydrationData&&br(O,l,t.history.location.pathname).active&&(O=null),O)if(O.some(te=>te.route.lazy))Y=!1;else if(!O.some(te=>te.route.loader))Y=!0;else{let te=t.hydrationData?t.hydrationData.loaderData:null,ae=t.hydrationData?t.hydrationData.errors:null;if(ae){let de=O.findIndex(_e=>ae[_e.route.id]!==void 0);Y=O.slice(0,de+1).every(_e=>!Ib(_e.route,te,ae))}else Y=O.every(de=>!Ib(de.route,te,ae))}else{Y=!1,O=[];let te=br(null,l,t.history.location.pathname);te.active&&te.matches&&(B=!0,O=te.matches)}let M,j={historyAction:t.history.action,location:t.history.location,matches:O,initialized:Y,navigation:p0,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||F,fetchers:new Map,blockers:new Map},C="POP",I=!1,N,T=!1,U=new Map,$=null,D=!1,G=!1,Z=new Set,H=new Map,S=0,J=-1,K=new Map,w=new Set,z=new Map,X=new Map,Q=new Set,ne=new Map,se,le=null;function ve(){if(y=t.history.listen(({action:te,location:ae,delta:de})=>{if(se){se(),se=void 0;return}An(ne.size===0||de!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let _e=ya({currentLocation:j.location,nextLocation:ae,historyAction:te});if(_e&&de!=null){let Te=new Promise(Oe=>{se=Oe});t.history.go(de*-1),ri(_e,{state:"blocked",location:ae,proceed(){ri(_e,{state:"proceeding",proceed:void 0,reset:void 0,location:ae}),Te.then(()=>t.history.go(de))},reset(){let Oe=new Map(j.blockers);Oe.set(_e,pd),Re({blockers:Oe})}});return}return pe(te,ae)}),n){p7(e,U);let te=()=>g7(e,U);e.addEventListener("pagehide",te),$=()=>e.removeEventListener("pagehide",te)}return j.initialized||pe("POP",j.location,{initialHydration:!0}),M}function Ee(){y&&y(),$&&$(),x.clear(),N&&N.abort(),j.fetchers.forEach((te,ae)=>tn(ae)),j.blockers.forEach((te,ae)=>js(ae))}function Pe(te){return x.add(te),()=>x.delete(te)}function Re(te,ae={}){j={...j,...te};let de=[],_e=[];j.fetchers.forEach((Te,Oe)=>{Te.state==="idle"&&(Q.has(Oe)?de.push(Oe):_e.push(Oe))}),Q.forEach(Te=>{!j.fetchers.has(Te)&&!H.has(Te)&&de.push(Te)}),[...x].forEach(Te=>Te(j,{deletedFetchers:de,viewTransitionOpts:ae.viewTransitionOpts,flushSync:ae.flushSync===!0})),de.forEach(Te=>tn(Te)),_e.forEach(Te=>j.fetchers.delete(Te))}function ze(te,ae,{flushSync:de}={}){let _e=j.actionData!=null&&j.navigation.formMethod!=null&&Yr(j.navigation.formMethod)&&j.navigation.state==="loading"&&te.state?._isRedirect!==!0,Te;ae.actionData?Object.keys(ae.actionData).length>0?Te=ae.actionData:Te=null:_e?Te=j.actionData:Te=null;let Oe=ae.loaderData?rA(j.loaderData,ae.loaderData,ae.matches||[],ae.errors):j.loaderData,Ge=j.blockers;Ge.size>0&&(Ge=new Map(Ge),Ge.forEach((Le,et)=>Ge.set(et,pd)));let De=I===!0||j.navigation.formMethod!=null&&Yr(j.navigation.formMethod)&&te.state?._isRedirect!==!0;d&&(l=d,d=void 0),D||C==="POP"||(C==="PUSH"?t.history.push(te,te.state):C==="REPLACE"&&t.history.replace(te,te.state));let Ue;if(C==="POP"){let Le=U.get(j.location.pathname);Le&&Le.has(te.pathname)?Ue={currentLocation:j.location,nextLocation:te}:U.has(te.pathname)&&(Ue={currentLocation:te,nextLocation:j.location})}else if(T){let Le=U.get(j.location.pathname);Le?Le.add(te.pathname):(Le=new Set([te.pathname]),U.set(j.location.pathname,Le)),Ue={currentLocation:j.location,nextLocation:te}}Re({...ae,actionData:Te,loaderData:Oe,historyAction:C,location:te,initialized:!0,navigation:p0,revalidation:"idle",restoreScrollPosition:ba(te,ae.matches||j.matches),preventScrollReset:De,blockers:Ge},{viewTransitionOpts:Ue,flushSync:de===!0}),C="POP",I=!1,T=!1,D=!1,G=!1,le?.resolve(),le=null}async function Ye(te,ae){if(typeof te=="number"){t.history.go(te);return}let de=Rb(j.location,j.matches,c,te,ae?.fromRouteId,ae?.relative),{path:_e,submission:Te,error:Oe}=K2(!1,de,ae),Ge=j.location,De=ah(j.location,_e,ae&&ae.state);De={...De,...t.history.encodeLocation(De)};let Ue=ae&&ae.replace!=null?ae.replace:void 0,Le="PUSH";Ue===!0?Le="REPLACE":Ue===!1||Te!=null&&Yr(Te.formMethod)&&Te.formAction===j.location.pathname+j.location.search&&(Le="REPLACE");let et=ae&&"preventScrollReset"in ae?ae.preventScrollReset===!0:void 0,We=(ae&&ae.flushSync)===!0,st=ya({currentLocation:Ge,nextLocation:De,historyAction:Le});if(st){ri(st,{state:"blocked",location:De,proceed(){ri(st,{state:"proceeding",proceed:void 0,reset:void 0,location:De}),Ye(te,ae)},reset(){let wt=new Map(j.blockers);wt.set(st,pd),Re({blockers:wt})}});return}await pe(Le,De,{submission:Te,pendingError:Oe,preventScrollReset:et,replace:ae&&ae.replace,enableViewTransition:ae&&ae.viewTransition,flushSync:We})}function Qe(){le||(le=v7()),Cn(),Re({revalidation:"loading"});let te=le.promise;return j.navigation.state==="submitting"?te:j.navigation.state==="idle"?(pe(j.historyAction,j.location,{startUninterruptedRevalidation:!0}),te):(pe(C||j.historyAction,j.navigation.location,{overrideNavigation:j.navigation,enableViewTransition:T===!0}),te)}async function pe(te,ae,de){N&&N.abort(),N=null,C=te,D=(de&&de.startUninterruptedRevalidation)===!0,Ci(j.location,j.matches),I=(de&&de.preventScrollReset)===!0,T=(de&&de.enableViewTransition)===!0;let _e=d||l,Te=de&&de.overrideNavigation,Oe=de?.initialHydration&&j.matches&&j.matches.length>0&&!B?j.matches:eo(_e,ae,c),Ge=(de&&de.flushSync)===!0;if(Oe&&j.initialized&&!G&&c7(j.location,ae)&&!(de&&de.submission&&Yr(de.submission.formMethod))){ze(ae,{matches:Oe},{flushSync:Ge});return}let De=br(Oe,_e,ae.pathname);if(De.active&&De.matches&&(Oe=De.matches),!Oe){let{error:Pt,notFoundMatches:Ct,route:yt}=Ps(ae.pathname);ze(ae,{matches:Ct,loaderData:{},errors:{[yt.id]:Pt}},{flushSync:Ge});return}N=new AbortController;let Ue=yu(t.history,ae,N.signal,de&&de.submission),Le=new G2(t.unstable_getContext?await t.unstable_getContext():void 0),et;if(de&&de.pendingError)et=[tl(Oe).route.id,{type:"error",error:de.pendingError}];else if(de&&de.submission&&Yr(de.submission.formMethod)){let Pt=await Ce(Ue,ae,de.submission,Oe,Le,De.active,de&&de.initialHydration===!0,{replace:de.replace,flushSync:Ge});if(Pt.shortCircuited)return;if(Pt.pendingActionResult){let[Ct,yt]=Pt.pendingActionResult;if(Kr(yt)&&oh(yt.error)&&yt.error.status===404){N=null,ze(ae,{matches:Pt.matches,loaderData:{},errors:{[Ct]:yt.error}});return}}Oe=Pt.matches||Oe,et=Pt.pendingActionResult,Te=g0(ae,de.submission),Ge=!1,De.active=!1,Ue=yu(t.history,Ue.url,Ue.signal)}let{shortCircuited:We,matches:st,loaderData:wt,errors:Ut}=await $e(Ue,ae,Oe,Le,De.active,Te,de&&de.submission,de&&de.fetcherSubmission,de&&de.replace,de&&de.initialHydration===!0,Ge,et);We||(N=null,ze(ae,{matches:st||Oe,...iA(et),loaderData:wt,errors:Ut}))}async function Ce(te,ae,de,_e,Te,Oe,Ge,De={}){Cn();let Ue=f7(ae,de);if(Re({navigation:Ue},{flushSync:De.flushSync===!0}),Oe){let We=await Wi(_e,ae.pathname,te.signal);if(We.type==="aborted")return{shortCircuited:!0};if(We.type==="error"){let st=tl(We.partialMatches).route.id;return{matches:We.partialMatches,pendingActionResult:[st,{type:"error",error:We.error}]}}else if(We.matches)_e=We.matches;else{let{notFoundMatches:st,error:wt,route:Ut}=Ps(ae.pathname);return{matches:st,pendingActionResult:[Ut.id,{type:"error",error:wt}]}}}let Le,et=Od(_e,ae);if(!et.route.action&&!et.route.lazy)Le={type:"error",error:xi(405,{method:te.method,pathname:ae.pathname,routeId:et.route.id})};else{let We=ku(i,o,te,_e,et,Ge?[]:r,Te),st=await pn(te,We,Te,null);if(Le=st[et.route.id],!Le){for(let wt of _e)if(st[wt.route.id]){Le=st[wt.route.id];break}}if(te.signal.aborted)return{shortCircuited:!0}}if(il(Le)){let We;return De&&De.replace!=null?We=De.replace:We=eA(Le.response.headers.get("Location"),new URL(te.url),c)===j.location.pathname+j.location.search,await ht(te,Le,!0,{submission:de,replace:We}),{shortCircuited:!0}}if(Kr(Le)){let We=tl(_e,et.route.id);return(De&&De.replace)!==!0&&(C="PUSH"),{matches:_e,pendingActionResult:[We.route.id,Le,et.route.id]}}return{matches:_e,pendingActionResult:[et.route.id,Le]}}async function $e(te,ae,de,_e,Te,Oe,Ge,De,Ue,Le,et,We){let st=Oe||g0(ae,Ge),wt=Ge||De||oA(st),Ut=!D&&!Le;if(Te){if(Ut){let Nn=Ie(We);Re({navigation:st,...Nn!==void 0?{actionData:Nn}:{}},{flushSync:et})}let ut=await Wi(de,ae.pathname,te.signal);if(ut.type==="aborted")return{shortCircuited:!0};if(ut.type==="error"){let Nn=tl(ut.partialMatches).route.id;return{matches:ut.partialMatches,loaderData:{},errors:{[Nn]:ut.error}}}else if(ut.matches)de=ut.matches;else{let{error:Nn,notFoundMatches:Ur,route:Nr}=Ps(ae.pathname);return{matches:Ur,loaderData:{},errors:{[Nr.id]:Nn}}}}let Pt=d||l,{dsMatches:Ct,revalidatingFetchers:yt}=Y2(te,_e,i,o,t.history,j,de,wt,ae,Le?[]:r,Le===!0,G,Z,Q,z,w,Pt,c,t.patchRoutesOnNavigation!=null,We);if(J=++S,!t.dataStrategy&&!Ct.some(ut=>ut.shouldLoad)&&yt.length===0){let ut=qi();return ze(ae,{matches:de,loaderData:{},errors:We&&Kr(We[1])?{[We[0]]:We[1].error}:null,...iA(We),...ut?{fetchers:new Map(j.fetchers)}:{}},{flushSync:et}),{shortCircuited:!0}}if(Ut){let ut={};if(!Te){ut.navigation=st;let Nn=Ie(We);Nn!==void 0&&(ut.actionData=Nn)}yt.length>0&&(ut.fetchers=Je(yt)),Re(ut,{flushSync:et})}yt.forEach(ut=>{ur(ut.key),ut.controller&&H.set(ut.key,ut.controller)});let si=()=>yt.forEach(ut=>ur(ut.key));N&&N.signal.addEventListener("abort",si);let{loaderResults:Ln,fetcherResults:xr}=await lr(Ct,yt,te,_e);if(te.signal.aborted)return{shortCircuited:!0};N&&N.signal.removeEventListener("abort",si),yt.forEach(ut=>H.delete(ut.key));let er=wm(Ln);if(er)return await ht(te,er.result,!0,{replace:Ue}),{shortCircuited:!0};if(er=wm(xr),er)return w.add(er.key),await ht(te,er.result,!0,{replace:Ue}),{shortCircuited:!0};let{loaderData:Yi,errors:Vr}=nA(j,de,Ln,We,yt,xr);Le&&j.errors&&(Vr={...j.errors,...Vr});let wa=qi(),cr=Gi(J),wr=wa||cr||yt.length>0;return{matches:de,loaderData:Yi,errors:Vr,...wr?{fetchers:new Map(j.fetchers)}:{}}}function Ie(te){if(te&&!Kr(te[1]))return{[te[0]]:te[1].data};if(j.actionData)return Object.keys(j.actionData).length===0?null:j.actionData}function Je(te){return te.forEach(ae=>{let de=j.fetchers.get(ae.key),_e=gd(void 0,de?de.data:void 0);j.fetchers.set(ae.key,_e)}),new Map(j.fetchers)}async function mt(te,ae,de,_e){ur(te);let Te=(_e&&_e.flushSync)===!0,Oe=d||l,Ge=Rb(j.location,j.matches,c,de,ae,_e?.relative),De=eo(Oe,Ge,c),Ue=br(De,Oe,Ge);if(Ue.active&&Ue.matches&&(De=Ue.matches),!De){qe(te,ae,xi(404,{pathname:Ge}),{flushSync:Te});return}let{path:Le,submission:et,error:We}=K2(!0,Ge,_e);if(We){qe(te,ae,We,{flushSync:Te});return}let st=Od(De,Le),wt=new G2(t.unstable_getContext?await t.unstable_getContext():void 0),Ut=(_e&&_e.preventScrollReset)===!0;if(et&&Yr(et.formMethod)){await lt(te,ae,Le,st,De,wt,Ue.active,Te,Ut,et);return}z.set(te,{routeId:ae,path:Le}),await Nt(te,ae,Le,st,De,wt,Ue.active,Te,Ut,et)}async function lt(te,ae,de,_e,Te,Oe,Ge,De,Ue,Le){Cn(),z.delete(te);function et(Xt){if(!Xt.route.action&&!Xt.route.lazy){let ai=xi(405,{method:Le.formMethod,pathname:de,routeId:ae});return qe(te,ae,ai,{flushSync:De}),!0}return!1}if(!Ge&&et(_e))return;let We=j.fetchers.get(te);pt(te,m7(Le,We),{flushSync:De});let st=new AbortController,wt=yu(t.history,de,st.signal,Le);if(Ge){let Xt=await Wi(Te,de,wt.signal,te);if(Xt.type==="aborted")return;if(Xt.type==="error"){qe(te,ae,Xt.error,{flushSync:De});return}else if(Xt.matches){if(Te=Xt.matches,_e=Od(Te,de),et(_e))return}else{qe(te,ae,xi(404,{pathname:de}),{flushSync:De});return}}H.set(te,st);let Ut=S,Pt=ku(i,o,wt,Te,_e,r,Oe),yt=(await pn(wt,Pt,Oe,te))[_e.route.id];if(wt.signal.aborted){H.get(te)===st&&H.delete(te);return}if(Q.has(te)){if(il(yt)||Kr(yt)){pt(te,Ga(void 0));return}}else{if(il(yt))if(H.delete(te),J>Ut){pt(te,Ga(void 0));return}else return w.add(te),pt(te,gd(Le)),ht(wt,yt,!1,{fetcherSubmission:Le,preventScrollReset:Ue});if(Kr(yt)){qe(te,ae,yt.error);return}}let si=j.navigation.location||j.location,Ln=yu(t.history,si,st.signal),xr=d||l,er=j.navigation.state!=="idle"?eo(xr,j.navigation.location,c):j.matches;Tt(er,"Didn't find any matches after fetcher action");let Yi=++S;K.set(te,Yi);let Vr=gd(Le,yt.data);j.fetchers.set(te,Vr);let{dsMatches:wa,revalidatingFetchers:cr}=Y2(Ln,Oe,i,o,t.history,j,er,Le,si,r,!1,G,Z,Q,z,w,xr,c,t.patchRoutesOnNavigation!=null,[_e.route.id,yt]);cr.filter(Xt=>Xt.key!==te).forEach(Xt=>{let ai=Xt.key,Os=j.fetchers.get(ai),tr=gd(void 0,Os?Os.data:void 0);j.fetchers.set(ai,tr),ur(ai),Xt.controller&&H.set(ai,Xt.controller)}),Re({fetchers:new Map(j.fetchers)});let wr=()=>cr.forEach(Xt=>ur(Xt.key));st.signal.addEventListener("abort",wr);let{loaderResults:ut,fetcherResults:Nn}=await lr(wa,cr,Ln,Oe);if(st.signal.aborted)return;if(st.signal.removeEventListener("abort",wr),K.delete(te),H.delete(te),cr.forEach(Xt=>H.delete(Xt.key)),j.fetchers.has(te)){let Xt=Ga(yt.data);j.fetchers.set(te,Xt)}let Ur=wm(ut);if(Ur)return ht(Ln,Ur.result,!1,{preventScrollReset:Ue});if(Ur=wm(Nn),Ur)return w.add(Ur.key),ht(Ln,Ur.result,!1,{preventScrollReset:Ue});let{loaderData:Nr,errors:Xi}=nA(j,er,ut,void 0,cr,Nn);Gi(Yi),j.navigation.state==="loading"&&Yi>J?(Tt(C,"Expected pending action"),N&&N.abort(),ze(j.navigation.location,{matches:er,loaderData:Nr,errors:Xi,fetchers:new Map(j.fetchers)})):(Re({errors:Xi,loaderData:rA(j.loaderData,Nr,er,Xi),fetchers:new Map(j.fetchers)}),G=!1)}async function Nt(te,ae,de,_e,Te,Oe,Ge,De,Ue,Le){let et=j.fetchers.get(te);pt(te,gd(Le,et?et.data:void 0),{flushSync:De});let We=new AbortController,st=yu(t.history,de,We.signal);if(Ge){let yt=await Wi(Te,de,st.signal,te);if(yt.type==="aborted")return;if(yt.type==="error"){qe(te,ae,yt.error,{flushSync:De});return}else if(yt.matches)Te=yt.matches,_e=Od(Te,de);else{qe(te,ae,xi(404,{pathname:de}),{flushSync:De});return}}H.set(te,We);let wt=S,Ut=ku(i,o,st,Te,_e,r,Oe),Ct=(await pn(st,Ut,Oe,te))[_e.route.id];if(H.get(te)===We&&H.delete(te),!st.signal.aborted){if(Q.has(te)){pt(te,Ga(void 0));return}if(il(Ct))if(J>wt){pt(te,Ga(void 0));return}else{w.add(te),await ht(st,Ct,!1,{preventScrollReset:Ue});return}if(Kr(Ct)){qe(te,ae,Ct.error);return}pt(te,Ga(Ct.data))}}async function ht(te,ae,de,{submission:_e,fetcherSubmission:Te,preventScrollReset:Oe,replace:Ge}={}){ae.response.headers.has("X-Remix-Revalidate")&&(G=!0);let De=ae.response.headers.get("Location");Tt(De,"Expected a Location header on the redirect Response"),De=eA(De,new URL(te.url),c);let Ue=ah(j.location,De,{_isRedirect:!0});if(n){let Ut=!1;if(ae.response.headers.has("X-Remix-Reload-Document"))Ut=!0;else if(Ew.test(De)){const Pt=JM(De,!0);Ut=Pt.origin!==e.location.origin||Ti(Pt.pathname,c)==null}if(Ut){Ge?e.location.replace(De):e.location.assign(De);return}}N=null;let Le=Ge===!0||ae.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:et,formAction:We,formEncType:st}=j.navigation;!_e&&!Te&&et&&We&&st&&(_e=oA(j.navigation));let wt=_e||Te;if(X8.has(ae.response.status)&&wt&&Yr(wt.formMethod))await pe(Le,Ue,{submission:{...wt,formAction:De},preventScrollReset:Oe||I,enableViewTransition:de?T:void 0});else{let Ut=g0(Ue,_e);await pe(Le,Ue,{overrideNavigation:Ut,fetcherSubmission:Te,preventScrollReset:Oe||I,enableViewTransition:de?T:void 0})}}async function pn(te,ae,de,_e){let Te,Oe={};try{Te=await s7(m,te,ae,_e,de,!1)}catch(Ge){return ae.filter(De=>De.shouldLoad).forEach(De=>{Oe[De.route.id]={type:"error",error:Ge}}),Oe}if(te.signal.aborted)return Oe;for(let[Ge,De]of Object.entries(Te))if(d7(De)){let Ue=De.result;Oe[Ge]={type:"redirect",response:l7(Ue,te,Ge,ae,c)}}else Oe[Ge]=await o7(De);return Oe}async function lr(te,ae,de,_e){let Te=pn(de,te,_e,null),Oe=Promise.all(ae.map(async Ue=>{if(Ue.matches&&Ue.match&&Ue.request&&Ue.controller){let et=(await pn(Ue.request,Ue.matches,_e,Ue.key))[Ue.match.route.id];return{[Ue.key]:et}}else return Promise.resolve({[Ue.key]:{type:"error",error:xi(404,{pathname:Ue.path})}})})),Ge=await Te,De=(await Oe).reduce((Ue,Le)=>Object.assign(Ue,Le),{});return{loaderResults:Ge,fetcherResults:De}}function Cn(){G=!0,z.forEach((te,ae)=>{H.has(ae)&&Z.add(ae),ur(ae)})}function pt(te,ae,de={}){j.fetchers.set(te,ae),Re({fetchers:new Map(j.fetchers)},{flushSync:(de&&de.flushSync)===!0})}function qe(te,ae,de,_e={}){let Te=tl(j.matches,ae);tn(te),Re({errors:{[Te.route.id]:de},fetchers:new Map(j.fetchers)},{flushSync:(_e&&_e.flushSync)===!0})}function sn(te){return X.set(te,(X.get(te)||0)+1),Q.has(te)&&Q.delete(te),j.fetchers.get(te)||Q8}function tn(te){let ae=j.fetchers.get(te);H.has(te)&&!(ae&&ae.state==="loading"&&K.has(te))&&ur(te),z.delete(te),K.delete(te),w.delete(te),Q.delete(te),Z.delete(te),j.fetchers.delete(te)}function $i(te){let ae=(X.get(te)||0)-1;ae<=0?(X.delete(te),Q.add(te)):X.set(te,ae),Re({fetchers:new Map(j.fetchers)})}function ur(te){let ae=H.get(te);ae&&(ae.abort(),H.delete(te))}function an(te){for(let ae of te){let de=sn(ae),_e=Ga(de.data);j.fetchers.set(ae,_e)}}function qi(){let te=[],ae=!1;for(let de of w){let _e=j.fetchers.get(de);Tt(_e,`Expected fetcher: ${de}`),_e.state==="loading"&&(w.delete(de),te.push(de),ae=!0)}return an(te),ae}function Gi(te){let ae=[];for(let[de,_e]of K)if(_e<te){let Te=j.fetchers.get(de);Tt(Te,`Expected fetcher: ${de}`),Te.state==="loading"&&(ur(de),K.delete(de),ae.push(de))}return an(ae),ae.length>0}function Lr(te,ae){let de=j.blockers.get(te)||pd;return ne.get(te)!==ae&&ne.set(te,ae),de}function js(te){j.blockers.delete(te),ne.delete(te)}function ri(te,ae){let de=j.blockers.get(te)||pd;Tt(de.state==="unblocked"&&ae.state==="blocked"||de.state==="blocked"&&ae.state==="blocked"||de.state==="blocked"&&ae.state==="proceeding"||de.state==="blocked"&&ae.state==="unblocked"||de.state==="proceeding"&&ae.state==="unblocked",`Invalid blocker state transition: ${de.state} -> ${ae.state}`);let _e=new Map(j.blockers);_e.set(te,ae),Re({blockers:_e})}function ya({currentLocation:te,nextLocation:ae,historyAction:de}){if(ne.size===0)return;ne.size>1&&An(!1,"A router only supports one blocker at a time");let _e=Array.from(ne.entries()),[Te,Oe]=_e[_e.length-1],Ge=j.blockers.get(Te);if(!(Ge&&Ge.state==="proceeding")&&Oe({currentLocation:te,nextLocation:ae,historyAction:de}))return Te}function Ps(te){let ae=xi(404,{pathname:te}),de=d||l,{matches:_e,route:Te}=sA(de);return{notFoundMatches:_e,route:Te,error:ae}}function To(te,ae,de){if(E=te,P=ae,R=de||null,!V&&j.navigation===p0){V=!0;let _e=ba(j.location,j.matches);_e!=null&&Re({restoreScrollPosition:_e})}return()=>{E=null,P=null,R=null}}function ii(te,ae){return R&&R(te,ae.map(_e=>N8(_e,j.loaderData)))||te.key}function Ci(te,ae){if(E&&P){let de=ii(te,ae);E[de]=P()}}function ba(te,ae){if(E){let de=ii(te,ae),_e=E[de];if(typeof _e=="number")return _e}return null}function br(te,ae,de){if(t.patchRoutesOnNavigation)if(te){if(Object.keys(te[0].params).length>0)return{active:!0,matches:Wm(ae,de,c,!0)}}else return{active:!0,matches:Wm(ae,de,c,!0)||[]};return{active:!1,matches:null}}async function Wi(te,ae,de,_e){if(!t.patchRoutesOnNavigation)return{type:"success",matches:te};let Te=te;for(;;){let Oe=d==null,Ge=d||l,De=o;try{await t.patchRoutesOnNavigation({signal:de,path:ae,matches:Te,fetcherKey:_e,patch:(et,We)=>{de.aborted||X2(et,We,Ge,De,i)}})}catch(et){return{type:"error",error:et,partialMatches:Te}}finally{Oe&&!de.aborted&&(l=[...l])}if(de.aborted)return{type:"aborted"};let Ue=eo(Ge,ae,c);if(Ue)return{type:"success",matches:Ue};let Le=Wm(Ge,ae,c,!0);if(!Le||Te.length===Le.length&&Te.every((et,We)=>et.route.id===Le[We].route.id))return{type:"success",matches:null};Te=Le}}function Ki(te){o={},d=jp(te,i,void 0,o)}function xa(te,ae){let de=d==null;X2(te,ae,d||l,o,i),de&&(l=[...l],Re({}))}return M={get basename(){return c},get future(){return p},get state(){return j},get routes(){return l},get window(){return e},initialize:ve,subscribe:Pe,enableScrollRestoration:To,navigate:Ye,fetch:mt,revalidate:Qe,createHref:te=>t.history.createHref(te),encodeLocation:te=>t.history.encodeLocation(te),getFetcher:sn,deleteFetcher:$i,dispose:Ee,getBlocker:Lr,deleteBlocker:js,patchRoutes:xa,_internalFetchControllers:H,_internalSetRoutes:Ki},M}function e7(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Rb(t,e,n,r,i,o){let l,d;if(i){l=[];for(let m of e)if(l.push(m),m.route.id===i){d=m;break}}else l=e,d=e[e.length-1];let c=Tw(r||".",Sw(l),Ti(t.pathname,n)||t.pathname,o==="path");if(r==null&&(c.search=t.search,c.hash=t.hash),(r==null||r===""||r===".")&&d){let m=Aw(c.search);if(d.route.index&&!m)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&m){let p=new URLSearchParams(c.search),y=p.getAll("index");p.delete("index"),y.filter(E=>E).forEach(E=>p.append("index",E));let x=p.toString();c.search=x?`?${x}`:""}}return n!=="/"&&(c.pathname=c.pathname==="/"?n:xs([n,c.pathname])),vo(c)}function K2(t,e,n){if(!n||!e7(n))return{path:e};if(n.formMethod&&!h7(n.formMethod))return{path:e,error:xi(405,{method:n.formMethod})};let r=()=>({path:e,error:xi(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),l=dj(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Yr(o))return r();let y=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((x,[E,R])=>`${x}${E}=${R}
`,""):String(n.body);return{path:e,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:y}}}else if(n.formEncType==="application/json"){if(!Yr(o))return r();try{let y=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:y,text:void 0}}}catch{return r()}}}Tt(typeof FormData=="function","FormData is not available in this environment");let d,c;if(n.formData)d=jb(n.formData),c=n.formData;else if(n.body instanceof FormData)d=jb(n.body),c=n.body;else if(n.body instanceof URLSearchParams)d=n.body,c=tA(d);else if(n.body==null)d=new URLSearchParams,c=new FormData;else try{d=new URLSearchParams(n.body),c=tA(d)}catch{return r()}let m={formMethod:o,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Yr(m.formMethod))return{path:e,submission:m};let p=_o(e);return t&&p.search&&Aw(p.search)&&d.append("index",""),p.search=`?${d}`,{path:vo(p),submission:m}}function Y2(t,e,n,r,i,o,l,d,c,m,p,y,x,E,R,P,V,O,B,F){let Y=F?Kr(F[1])?F[1].error:F[1].data:void 0,M=i.createURL(o.location),j=i.createURL(c),C;if(p&&o.errors){let D=Object.keys(o.errors)[0];C=l.findIndex(G=>G.route.id===D)}else if(F&&Kr(F[1])){let D=F[0];C=l.findIndex(G=>G.route.id===D)-1}let I=F?F[1].statusCode:void 0,N=I&&I>=400,T={currentUrl:M,currentParams:o.matches[0]?.params||{},nextUrl:j,nextParams:l[0].params,...d,actionResult:Y,actionStatus:I},U=l.map((D,G)=>{let{route:Z}=D,H=null;if(C!=null&&G>C?H=!1:Z.lazy?H=!0:Z.loader==null?H=!1:p?H=Ib(Z,o.loaderData,o.errors):t7(o.loaderData,o.matches[G],D)&&(H=!0),H!==null)return Mb(n,r,t,D,m,e,H);let S=N?!1:y||M.pathname+M.search===j.pathname+j.search||M.search!==j.search||n7(o.matches[G],D),J={...T,defaultShouldRevalidate:S},K=Dp(D,J);return Mb(n,r,t,D,m,e,K,J)}),$=[];return R.forEach((D,G)=>{if(p||!l.some(X=>X.route.id===D.routeId)||E.has(G))return;let Z=o.fetchers.get(G),H=Z&&Z.state!=="idle"&&Z.data===void 0,S=eo(V,D.path,O);if(!S){if(B&&H)return;$.push({key:G,routeId:D.routeId,path:D.path,matches:null,match:null,request:null,controller:null});return}if(P.has(G))return;let J=Od(S,D.path),K=new AbortController,w=yu(i,D.path,K.signal),z=null;if(x.has(G))x.delete(G),z=ku(n,r,w,S,J,m,e);else if(H)y&&(z=ku(n,r,w,S,J,m,e));else{let X={...T,defaultShouldRevalidate:N?!1:y};Dp(J,X)&&(z=ku(n,r,w,S,J,m,e,X))}z&&$.push({key:G,routeId:D.routeId,path:D.path,matches:z,match:J,request:w,controller:K})}),{dsMatches:U,revalidatingFetchers:$}}function Ib(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function t7(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function n7(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Dp(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function X2(t,e,n,r,i){let o;if(t){let c=r[t];Tt(c,`No route found to patch children into: routeId = ${t}`),c.children||(c.children=[]),o=c.children}else o=n;let l=e.filter(c=>!o.some(m=>aj(c,m))),d=jp(l,i,[t||"_","patch",String(o?.length||"0")],r);o.push(...d)}function aj(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>e.children?.some(i=>aj(n,i))):!1}var Q2=new WeakMap,oj=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let i=n[e.id];if(Tt(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let o=i.lazy[t];if(!o)return;let l=Q2.get(i);l||(l={},Q2.set(i,l));let d=l[t];if(d)return d;let c=(async()=>{let m=T8(t),y=i[t]!==void 0&&t!=="hasErrorBoundary";if(m)An(!m,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),l[t]=Promise.resolve();else if(y)An(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let x=await o();x!=null&&(Object.assign(i,{[t]:x}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(x=>x===void 0)&&(i.lazy=void 0))})();return l[t]=c,c},Z2=new WeakMap;function r7(t,e,n,r,i){let o=n[t.id];if(Tt(o,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let p=Z2.get(o);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let y=(async()=>{Tt(typeof t.lazy=="function","No lazy route function found");let x=await t.lazy(),E={};for(let R in x){let P=x[R];if(P===void 0)continue;let V=A8(R),B=o[R]!==void 0&&R!=="hasErrorBoundary";V?An(!V,"Route property "+R+" is not a supported property to be returned from a lazy route function. This property will be ignored."):B?An(!B,`Route "${o.id}" has a static property "${R}" defined but its lazy function is also returning a value for this property. The lazy route property "${R}" will be ignored.`):E[R]=P}Object.assign(o,E),Object.assign(o,{...r(o),lazy:void 0})})();return Z2.set(o,y),y.catch(()=>{}),{lazyRoutePromise:y,lazyHandlerPromise:y}}let l=Object.keys(t.lazy),d=[],c;for(let p of l){if(i&&i.includes(p))continue;let y=oj({key:p,route:t,manifest:n,mapRouteProperties:r});y&&(d.push(y),p===e&&(c=y))}let m=d.length>0?Promise.all(d).then(()=>{}):void 0;return m?.catch(()=>{}),c?.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:c}}async function J2(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,o)=>{n[e[o].route.id]=i}),n}async function i7(t){return t.matches.some(e=>e.route.unstable_middleware)?lj(t,!1,()=>J2(t),(e,n)=>({[n]:{type:"error",result:e}})):J2(t)}async function lj(t,e,n,r){let{matches:i,request:o,params:l,context:d}=t,c={handlerResult:void 0};try{let m=i.flatMap(y=>y.route.unstable_middleware?y.route.unstable_middleware.map(x=>[y.route.id,x]):[]),p=await uj({request:o,params:l,context:d},m,e,c,n);return e?p:c.handlerResult}catch(m){if(!c.middlewareError)throw m;let p=await r(c.middlewareError.error,c.middlewareError.routeId);return c.handlerResult?Object.assign(c.handlerResult,p):p}}async function uj(t,e,n,r,i,o=0){let{request:l}=t;if(l.signal.aborted)throw l.signal.reason?l.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${l.method} ${l.url}`);let d=e[o];if(!d)return r.handlerResult=await i(),r.handlerResult;let[c,m]=d,p=!1,y,x=async()=>{if(p)throw new Error("You may only call `next()` once per middleware");p=!0,await uj(t,e,n,r,i,o+1)};try{let E=await m({request:t.request,params:t.params,context:t.context},x);return p?E===void 0?y:E:x()}catch(E){throw r.middlewareError?r.middlewareError.error!==E&&(r.middlewareError={routeId:c,error:E}):r.middlewareError={routeId:c,error:E},E}}function cj(t,e,n,r,i){let o=oj({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),l=r7(r.route,Yr(n.method)?"action":"loader",e,t,i);return{middleware:o,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function Mb(t,e,n,r,i,o,l,d=null){let c=!1,m=cj(t,e,n,r,i);return{...r,_lazyPromises:m,shouldLoad:l,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(p){return c=!0,d?typeof p=="boolean"?Dp(r,{...d,defaultShouldRevalidate:p}):Dp(r,d):l},resolve(p){return c||l||p&&n.method==="GET"&&(r.route.lazy||r.route.loader)?a7({request:n,match:r,lazyHandlerPromise:m?.handler,lazyRoutePromise:m?.route,handlerOverride:p,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function ku(t,e,n,r,i,o,l,d=null){return r.map(c=>c.route.id!==i.route.id?{...c,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:cj(t,e,n,c,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Mb(t,e,n,c,o,l,!0,d))}async function s7(t,e,n,r,i,o){n.some(m=>m._lazyPromises?.middleware)&&await Promise.all(n.map(m=>m._lazyPromises?.middleware));let l={request:e,params:n[0].params,context:i,matches:n},c=await t({...l,fetcherKey:r,unstable_runClientMiddleware:m=>{let p=l;return lj(p,!1,()=>m({...p,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(y,x)=>({[x]:{type:"error",result:y}}))}});try{await Promise.all(n.flatMap(m=>[m._lazyPromises?.handler,m._lazyPromises?.route]))}catch{}return c}async function a7({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:o}){let l,d,c=Yr(t.method),m=c?"action":"loader",p=y=>{let x,E=new Promise((V,O)=>x=O);d=()=>x(),t.signal.addEventListener("abort",d);let R=V=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${m}" [routeId: ${e.route.id}]`)):y({request:t,params:e.params,context:o},...V!==void 0?[V]:[]),P=(async()=>{try{return{type:"data",result:await(i?i(O=>R(O)):R())}}catch(V){return{type:"error",result:V}}})();return Promise.race([P,E])};try{let y=c?e.route.action:e.route.loader;if(n||r)if(y){let x,[E]=await Promise.all([p(y).catch(R=>{x=R}),n,r]);if(x!==void 0)throw x;l=E}else{await n;let x=c?e.route.action:e.route.loader;if(x)[l]=await Promise.all([p(x),r]);else if(m==="action"){let E=new URL(t.url),R=E.pathname+E.search;throw xi(405,{method:t.method,pathname:R,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(y)l=await p(y);else{let x=new URL(t.url),E=x.pathname+x.search;throw xi(404,{pathname:E})}}catch(y){return{type:"error",result:y}}finally{d&&t.signal.removeEventListener("abort",d)}return l}async function o7(t){let{result:e,type:n}=t;if(hj(e)){let r;try{let i=e.headers.get("Content-Type");i&&/\bapplication\/json\b/.test(i)?e.body==null?r=null:r=await e.json():r=await e.text()}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new Op(e.status,e.statusText,r),statusCode:e.status,headers:e.headers}:{type:"data",data:r,statusCode:e.status,headers:e.headers}}return n==="error"?aA(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Op(e.init?.status||500,void 0,e.data),statusCode:oh(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:oh(e)?e.status:void 0}:aA(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function l7(t,e,n,r,i){let o=t.headers.get("Location");if(Tt(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ew.test(o)){let l=r.slice(0,r.findIndex(d=>d.route.id===n)+1);o=Rb(new URL(e.url),l,i,o),t.headers.set("Location",o)}return t}function eA(t,e,n){if(Ew.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=Ti(i.pathname,n)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return t}function yu(t,e,n,r){let i=t.createURL(dj(e)).toString(),o={signal:n};if(r&&Yr(r.formMethod)){let{formMethod:l,formEncType:d}=r;o.method=l.toUpperCase(),d==="application/json"?(o.headers=new Headers({"Content-Type":d}),o.body=JSON.stringify(r.json)):d==="text/plain"?o.body=r.text:d==="application/x-www-form-urlencoded"&&r.formData?o.body=jb(r.formData):o.body=r.formData}return new Request(i,o)}function jb(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function tA(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function u7(t,e,n,r=!1,i=!1){let o={},l=null,d,c=!1,m={},p=n&&Kr(n[1])?n[1].error:void 0;return t.forEach(y=>{if(!(y.route.id in e))return;let x=y.route.id,E=e[x];if(Tt(!il(E),"Cannot handle redirect results in processLoaderData"),Kr(E)){let R=E.error;if(p!==void 0&&(R=p,p=void 0),l=l||{},i)l[x]=R;else{let P=tl(t,x);l[P.route.id]==null&&(l[P.route.id]=R)}r||(o[x]=sj),c||(c=!0,d=oh(E.error)?E.error.status:500),E.headers&&(m[x]=E.headers)}else o[x]=E.data,E.statusCode&&E.statusCode!==200&&!c&&(d=E.statusCode),E.headers&&(m[x]=E.headers)}),p!==void 0&&n&&(l={[n[0]]:p},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:l,statusCode:d||200,loaderHeaders:m}}function nA(t,e,n,r,i,o){let{loaderData:l,errors:d}=u7(e,n,r);return i.filter(c=>!c.matches||c.matches.some(m=>m.shouldLoad)).forEach(c=>{let{key:m,match:p,controller:y}=c,x=o[m];if(Tt(x,"Did not find corresponding fetcher result"),!(y&&y.signal.aborted))if(Kr(x)){let E=tl(t.matches,p?.route.id);d&&d[E.route.id]||(d={...d,[E.route.id]:x.error}),t.fetchers.delete(m)}else if(il(x))Tt(!1,"Unhandled fetcher revalidation redirect");else{let E=Ga(x.data);t.fetchers.set(m,E)}}),{loaderData:l,errors:d}}function rA(t,e,n,r){let i=Object.entries(e).filter(([,o])=>o!==sj).reduce((o,[l,d])=>(o[l]=d,o),{});for(let o of n){let l=o.route.id;if(!e.hasOwnProperty(l)&&t.hasOwnProperty(l)&&o.route.loader&&(i[l]=t[l]),r&&r.hasOwnProperty(l))break}return i}function iA(t){return t?Kr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function tl(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function sA(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function xi(t,{pathname:e,routeId:n,method:r,type:i,message:o}={}){let l="Unknown Server Error",d="Unknown @remix-run/router error";return t===400?(l="Bad Request",r&&e&&n?d=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(d="Unable to encode submission body")):t===403?(l="Forbidden",d=`Route "${n}" does not match URL "${e}"`):t===404?(l="Not Found",d=`No route matches URL "${e}"`):t===405&&(l="Method Not Allowed",r&&e&&n?d=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(d=`Invalid request method "${r.toUpperCase()}"`)),new Op(t||500,l,new Error(d),!0)}function wm(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(il(i))return{key:r,result:i}}}function dj(t){let e=typeof t=="string"?_o(t):t;return vo({...e,hash:""})}function c7(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function d7(t){return hj(t.result)&&Y8.has(t.result.status)}function Kr(t){return t.type==="error"}function il(t){return(t&&t.type)==="redirect"}function aA(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function hj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function h7(t){return K8.has(t.toUpperCase())}function Yr(t){return G8.has(t.toUpperCase())}function Aw(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Od(t,e){let n=typeof e=="string"?_o(e).search:e.search;if(t[t.length-1].route.index&&Aw(n||""))return t[t.length-1];let r=nj(t);return r[r.length-1]}function oA(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:l}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:l,text:void 0}}}function g0(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function f7(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function gd(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function m7(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Ga(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function p7(t,e){try{let n=t.sessionStorage.getItem(ij);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function g7(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(ij,JSON.stringify(n))}catch(r){An(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function v7(){let t,e,n=new Promise((r,i)=>{t=async o=>{r(o);try{await n}catch{}},e=async o=>{i(o);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Al=A.createContext(null);Al.displayName="DataRouter";var Vh=A.createContext(null);Vh.displayName="DataRouterState";var Cw=A.createContext({isTransitioning:!1});Cw.displayName="ViewTransition";var fj=A.createContext(new Map);fj.displayName="Fetchers";var y7=A.createContext(null);y7.displayName="Await";var Ms=A.createContext(null);Ms.displayName="Navigation";var jg=A.createContext(null);jg.displayName="Location";var Fi=A.createContext({outlet:null,matches:[],isDataRoute:!1});Fi.displayName="Route";var Nw=A.createContext(null);Nw.displayName="RouteError";function b7(t,{relative:e}={}){Tt(Uh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=A.useContext(Ms),{hash:i,pathname:o,search:l}=zh(t,{relative:e}),d=o;return n!=="/"&&(d=o==="/"?n:xs([n,o])),r.createHref({pathname:d,search:l,hash:i})}function Uh(){return A.useContext(jg)!=null}function Hi(){return Tt(Uh(),"useLocation() may be used only in the context of a <Router> component."),A.useContext(jg).location}var mj="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pj(t){A.useContext(Ms).static||A.useLayoutEffect(t)}function Jn(){let{isDataRoute:t}=A.useContext(Fi);return t?O7():x7()}function x7(){Tt(Uh(),"useNavigate() may be used only in the context of a <Router> component.");let t=A.useContext(Al),{basename:e,navigator:n}=A.useContext(Ms),{matches:r}=A.useContext(Fi),{pathname:i}=Hi(),o=JSON.stringify(Sw(r)),l=A.useRef(!1);return pj(()=>{l.current=!0}),A.useCallback((c,m={})=>{if(An(l.current,mj),!l.current)return;if(typeof c=="number"){n.go(c);return}let p=Tw(c,JSON.parse(o),i,m.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:xs([e,p.pathname])),(m.replace?n.replace:n.push)(p,m.state,m)},[e,n,o,i,t])}var w7=A.createContext(null);function _7(t){let e=A.useContext(Fi).outlet;return e&&A.createElement(w7.Provider,{value:t},e)}function Rw(){let{matches:t}=A.useContext(Fi),e=t[t.length-1];return e?e.params:{}}function zh(t,{relative:e}={}){let{matches:n}=A.useContext(Fi),{pathname:r}=Hi(),i=JSON.stringify(Sw(n));return A.useMemo(()=>Tw(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function S7(t,e,n,r){Tt(Uh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=A.useContext(Ms),{matches:o}=A.useContext(Fi),l=o[o.length-1],d=l?l.params:{},c=l?l.pathname:"/",m=l?l.pathnameBase:"/",p=l&&l.route;{let O=p&&p.path||"";gj(c,!p||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let y=Hi(),x;x=y;let E=x.pathname||"/",R=E;if(m!=="/"){let O=m.replace(/^\//,"").split("/");R="/"+E.replace(/^\//,"").split("/").slice(O.length).join("/")}let P=eo(t,{pathname:R});return An(p||P!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),An(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),N7(P&&P.map(O=>Object.assign({},O,{params:Object.assign({},d,O.params),pathname:xs([m,i.encodeLocation?i.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?m:xs([m,i.encodeLocation?i.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),o,n,r)}function T7(){let t=P7(),e=oh(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=A.createElement(A.Fragment,null,A.createElement("p",null," Hey developer "),A.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",A.createElement("code",{style:o},"ErrorBoundary")," or"," ",A.createElement("code",{style:o},"errorElement")," prop on your route.")),A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:i},n):null,l)}var E7=A.createElement(T7,null),A7=class extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?A.createElement(Fi.Provider,{value:this.props.routeContext},A.createElement(Nw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function C7({routeContext:t,match:e,children:n}){let r=A.useContext(Al);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),A.createElement(Fi.Provider,{value:t},n)}function N7(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n?.errors;if(o!=null){let c=i.findIndex(m=>m.route.id&&o?.[m.route.id]!==void 0);Tt(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let l=!1,d=-1;if(n)for(let c=0;c<i.length;c++){let m=i[c];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=c),m.route.id){let{loaderData:p,errors:y}=n,x=m.route.loader&&!p.hasOwnProperty(m.route.id)&&(!y||y[m.route.id]===void 0);if(m.route.lazy||x){l=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((c,m,p)=>{let y,x=!1,E=null,R=null;n&&(y=o&&m.route.id?o[m.route.id]:void 0,E=m.route.errorElement||E7,l&&(d<0&&p===0?(gj("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,R=null):d===p&&(x=!0,R=m.route.hydrateFallbackElement||null)));let P=e.concat(i.slice(0,p+1)),V=()=>{let O;return y?O=E:x?O=R:m.route.Component?O=A.createElement(m.route.Component,null):m.route.element?O=m.route.element:O=c,A.createElement(C7,{match:m,routeContext:{outlet:c,matches:P,isDataRoute:n!=null},children:O})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?A.createElement(A7,{location:n.location,revalidation:n.revalidation,component:E,error:y,children:V(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):V()},null)}function Iw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R7(t){let e=A.useContext(Al);return Tt(e,Iw(t)),e}function I7(t){let e=A.useContext(Vh);return Tt(e,Iw(t)),e}function M7(t){let e=A.useContext(Fi);return Tt(e,Iw(t)),e}function Mw(t){let e=M7(t),n=e.matches[e.matches.length-1];return Tt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function j7(){return Mw("useRouteId")}function P7(){let t=A.useContext(Nw),e=I7("useRouteError"),n=Mw("useRouteError");return t!==void 0?t:e.errors?.[n]}function O7(){let{router:t}=R7("useNavigate"),e=Mw("useNavigate"),n=A.useRef(!1);return pj(()=>{n.current=!0}),A.useCallback(async(i,o={})=>{An(n.current,mj),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var lA={};function gj(t,e,n){!e&&!lA[t]&&(lA[t]=!0,An(!1,n))}var uA={};function cA(t,e){!t&&!uA[e]&&(uA[e]=!0,console.warn(e))}function D7(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&An(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:A.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&An(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:A.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&An(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:A.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var k7=["HydrateFallback","hydrateFallbackElement"],L7=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function V7({router:t,flushSync:e}){let[n,r]=A.useState(t.state),[i,o]=A.useState(),[l,d]=A.useState({isTransitioning:!1}),[c,m]=A.useState(),[p,y]=A.useState(),[x,E]=A.useState(),R=A.useRef(new Map),P=A.useCallback((F,{deletedFetchers:Y,flushSync:M,viewTransitionOpts:j})=>{F.fetchers.forEach((I,N)=>{I.data!==void 0&&R.current.set(N,I.data)}),Y.forEach(I=>R.current.delete(I)),cA(M===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let C=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(cA(j==null||C,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!j||!C){e&&M?e(()=>r(F)):A.startTransition(()=>r(F));return}if(e&&M){e(()=>{p&&(c&&c.resolve(),p.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:j.currentLocation,nextLocation:j.nextLocation})});let I=t.window.document.startViewTransition(()=>{e(()=>r(F))});I.finished.finally(()=>{e(()=>{m(void 0),y(void 0),o(void 0),d({isTransitioning:!1})})}),e(()=>y(I));return}p?(c&&c.resolve(),p.skipTransition(),E({state:F,currentLocation:j.currentLocation,nextLocation:j.nextLocation})):(o(F),d({isTransitioning:!0,flushSync:!1,currentLocation:j.currentLocation,nextLocation:j.nextLocation}))},[t.window,e,p,c]);A.useLayoutEffect(()=>t.subscribe(P),[t,P]),A.useEffect(()=>{l.isTransitioning&&!l.flushSync&&m(new L7)},[l]),A.useEffect(()=>{if(c&&i&&t.window){let F=i,Y=c.promise,M=t.window.document.startViewTransition(async()=>{A.startTransition(()=>r(F)),await Y});M.finished.finally(()=>{m(void 0),y(void 0),o(void 0),d({isTransitioning:!1})}),y(M)}},[i,c,t.window]),A.useEffect(()=>{c&&i&&n.location.key===i.location.key&&c.resolve()},[c,p,n.location,i]),A.useEffect(()=>{!l.isTransitioning&&x&&(o(x.state),d({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),E(void 0))},[l.isTransitioning,x]);let V=A.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:F=>t.navigate(F),push:(F,Y,M)=>t.navigate(F,{state:Y,preventScrollReset:M?.preventScrollReset}),replace:(F,Y,M)=>t.navigate(F,{replace:!0,state:Y,preventScrollReset:M?.preventScrollReset})}),[t]),O=t.basename||"/",B=A.useMemo(()=>({router:t,navigator:V,static:!1,basename:O}),[t,V,O]);return A.createElement(A.Fragment,null,A.createElement(Al.Provider,{value:B},A.createElement(Vh.Provider,{value:n},A.createElement(fj.Provider,{value:R.current},A.createElement(Cw.Provider,{value:l},A.createElement(F7,{basename:O,location:n.location,navigationType:n.historyAction,navigator:V},A.createElement(U7,{routes:t.routes,future:t.future,state:n})))))),null)}var U7=A.memo(z7);function z7({routes:t,future:e,state:n}){return S7(t,void 0,n,e)}function B7(t){return _7(t.context)}function F7({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Tt(!Uh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),d=A.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof n=="string"&&(n=_o(n));let{pathname:c="/",search:m="",hash:p="",state:y=null,key:x="default"}=n,E=A.useMemo(()=>{let R=Ti(c,l);return R==null?null:{location:{pathname:R,search:m,hash:p,state:y,key:x},navigationType:r}},[l,c,m,p,y,x,r]);return An(E!=null,`<Router basename="${l}"> is not able to match the URL "${c}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:A.createElement(Ms.Provider,{value:d},A.createElement(jg.Provider,{children:e,value:E}))}var Km="get",Ym="application/x-www-form-urlencoded";function Pg(t){return t!=null&&typeof t.tagName=="string"}function H7(t){return Pg(t)&&t.tagName.toLowerCase()==="button"}function $7(t){return Pg(t)&&t.tagName.toLowerCase()==="form"}function q7(t){return Pg(t)&&t.tagName.toLowerCase()==="input"}function G7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function W7(t,e){return t.button===0&&(!e||e==="_self")&&!G7(t)}function Pb(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function K7(t,e){let n=Pb(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(o=>{n.append(i,o)})}),n}var _m=null;function Y7(){if(_m===null)try{new FormData(document.createElement("form"),0),_m=!1}catch{_m=!0}return _m}var X7=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function v0(t){return t!=null&&!X7.has(t)?(An(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ym}"`),null):t}function Q7(t,e){let n,r,i,o,l;if($7(t)){let d=t.getAttribute("action");r=d?Ti(d,e):null,n=t.getAttribute("method")||Km,i=v0(t.getAttribute("enctype"))||Ym,o=new FormData(t)}else if(H7(t)||q7(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||d.getAttribute("action");if(r=c?Ti(c,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Km,i=v0(t.getAttribute("formenctype"))||v0(d.getAttribute("enctype"))||Ym,o=new FormData(d,t),!Y7()){let{name:m,type:p,value:y}=t;if(p==="image"){let x=m?`${m}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else m&&o.append(m,y)}}else{if(Pg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Km,r=null,i=Ym,l=t}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:l}}function jw(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Z7(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function J7(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ez(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await Z7(o,n);return l.links?l.links():[]}return[]}));return iz(r.flat(1).filter(J7).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function dA(t,e,n,r,i,o){let l=(c,m)=>n[m]?c.route.id!==n[m].route.id:!0,d=(c,m)=>n[m].pathname!==c.pathname||n[m].route.path?.endsWith("*")&&n[m].params["*"]!==c.params["*"];return o==="assets"?e.filter((c,m)=>l(c,m)||d(c,m)):o==="data"?e.filter((c,m)=>{let p=r.routes[c.route.id];if(!p||!p.hasLoader)return!1;if(l(c,m)||d(c,m))return!0;if(c.route.shouldRevalidate){let y=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function tz(t,e,{includeHydrateFallback:n}={}){return nz(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function nz(t){return[...new Set(t)]}function rz(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function iz(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(rz(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var sz=new Set([100,101,204,205]);function az(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Ti(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function vj(){let t=A.useContext(Al);return jw(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function oz(){let t=A.useContext(Vh);return jw(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Pw=A.createContext(void 0);Pw.displayName="FrameworkContext";function yj(){let t=A.useContext(Pw);return jw(t,"You must render this element inside a <HydratedRouter> element"),t}function lz(t,e){let n=A.useContext(Pw),[r,i]=A.useState(!1),[o,l]=A.useState(!1),{onFocus:d,onBlur:c,onMouseEnter:m,onMouseLeave:p,onTouchStart:y}=e,x=A.useRef(null);A.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let P=O=>{O.forEach(B=>{l(B.isIntersecting)})},V=new IntersectionObserver(P,{threshold:.5});return x.current&&V.observe(x.current),()=>{V.disconnect()}}},[t]),A.useEffect(()=>{if(r){let P=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(P)}}},[r]);let E=()=>{i(!0)},R=()=>{i(!1),l(!1)};return n?t!=="intent"?[o,x,{}]:[o,x,{onFocus:vd(d,E),onBlur:vd(c,R),onMouseEnter:vd(m,E),onMouseLeave:vd(p,R),onTouchStart:vd(y,E)}]:[!1,x,{}]}function vd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function uz({page:t,...e}){let{router:n}=vj(),r=A.useMemo(()=>eo(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?A.createElement(dz,{page:t,matches:r,...e}):null}function cz(t){let{manifest:e,routeModules:n}=yj(),[r,i]=A.useState([]);return A.useEffect(()=>{let o=!1;return ez(t,e,n).then(l=>{o||i(l)}),()=>{o=!0}},[t,e,n]),r}function dz({page:t,matches:e,...n}){let r=Hi(),{manifest:i,routeModules:o}=yj(),{basename:l}=vj(),{loaderData:d,matches:c}=oz(),m=A.useMemo(()=>dA(t,e,c,i,r,"data"),[t,e,c,i,r]),p=A.useMemo(()=>dA(t,e,c,i,r,"assets"),[t,e,c,i,r]),y=A.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let R=new Set,P=!1;if(e.forEach(O=>{let B=i.routes[O.route.id];!B||!B.hasLoader||(!m.some(F=>F.route.id===O.route.id)&&O.route.id in d&&o[O.route.id]?.shouldRevalidate||B.hasClientLoader?P=!0:R.add(O.route.id))}),R.size===0)return[];let V=az(t,l);return P&&R.size>0&&V.searchParams.set("_routes",e.filter(O=>R.has(O.route.id)).map(O=>O.route.id).join(",")),[V.pathname+V.search]},[l,d,r,i,m,e,t,o]),x=A.useMemo(()=>tz(p,i),[p,i]),E=cz(p);return A.createElement(A.Fragment,null,y.map(R=>A.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...n})),x.map(R=>A.createElement("link",{key:R,rel:"modulepreload",href:R,...n})),E.map(({key:R,link:P})=>A.createElement("link",{key:R,...P})))}function hz(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var bj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bj&&(window.__reactRouterVersion="7.6.3")}catch{}function fz(t,e){return J8({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:x8({window:e?.window}),hydrationData:mz(),routes:t,mapRouteProperties:D7,hydrationRouteProperties:k7,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function mz(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:pz(t.errors)}),t}function pz(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Op(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let l=new o(i.message);l.stack="",n[r]=l}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}var xj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zr=A.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:d,target:c,to:m,preventScrollReset:p,viewTransition:y,...x},E){let{basename:R}=A.useContext(Ms),P=typeof m=="string"&&xj.test(m),V,O=!1;if(typeof m=="string"&&P&&(V=m,bj))try{let N=new URL(window.location.href),T=m.startsWith("//")?new URL(N.protocol+m):new URL(m),U=Ti(T.pathname,R);T.origin===N.origin&&U!=null?m=U+T.search+T.hash:O=!0}catch{An(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=b7(m,{relative:i}),[F,Y,M]=lz(r,x),j=bz(m,{replace:l,state:d,target:c,preventScrollReset:p,relative:i,viewTransition:y});function C(N){e&&e(N),N.defaultPrevented||j(N)}let I=A.createElement("a",{...x,...M,href:V||B,onClick:O||o?e:C,ref:hz(E,Y),target:c,"data-discover":!P&&n==="render"?"true":void 0});return F&&!P?A.createElement(A.Fragment,null,I,A.createElement(uz,{page:B})):I});Zr.displayName="Link";var gz=A.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:d,children:c,...m},p){let y=zh(l,{relative:m.relative}),x=Hi(),E=A.useContext(Vh),{navigator:R,basename:P}=A.useContext(Ms),V=E!=null&&Tz(y)&&d===!0,O=R.encodeLocation?R.encodeLocation(y).pathname:y.pathname,B=x.pathname,F=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(B=B.toLowerCase(),F=F?F.toLowerCase():null,O=O.toLowerCase()),F&&P&&(F=Ti(F,P)||F);const Y=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let M=B===O||!i&&B.startsWith(O)&&B.charAt(Y)==="/",j=F!=null&&(F===O||!i&&F.startsWith(O)&&F.charAt(O.length)==="/"),C={isActive:M,isPending:j,isTransitioning:V},I=M?e:void 0,N;typeof r=="function"?N=r(C):N=[r,M?"active":null,j?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let T=typeof o=="function"?o(C):o;return A.createElement(Zr,{...m,"aria-current":I,className:N,ref:p,style:T,to:l,viewTransition:d},typeof c=="function"?c(C):c)});gz.displayName="NavLink";var vz=A.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:l=Km,action:d,onSubmit:c,relative:m,preventScrollReset:p,viewTransition:y,...x},E)=>{let R=_z(),P=Sz(d,{relative:m}),V=l.toLowerCase()==="get"?"get":"post",O=typeof d=="string"&&xj.test(d),B=F=>{if(c&&c(F),F.defaultPrevented)return;F.preventDefault();let Y=F.nativeEvent.submitter,M=Y?.getAttribute("formmethod")||l;R(Y||F.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:i,state:o,relative:m,preventScrollReset:p,viewTransition:y})};return A.createElement("form",{ref:E,method:V,action:P,onSubmit:r?c:B,...x,"data-discover":!O&&t==="render"?"true":void 0})});vz.displayName="Form";function yz(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wj(t){let e=A.useContext(Al);return Tt(e,yz(t)),e}function bz(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let d=Jn(),c=Hi(),m=zh(t,{relative:o});return A.useCallback(p=>{if(W7(p,e)){p.preventDefault();let y=n!==void 0?n:vo(c)===vo(m);d(t,{replace:y,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[c,d,m,n,r,e,t,i,o,l])}function Ow(t){An(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=A.useRef(Pb(t)),n=A.useRef(!1),r=Hi(),i=A.useMemo(()=>K7(r.search,n.current?null:e.current),[r.search]),o=Jn(),l=A.useCallback((d,c)=>{const m=Pb(typeof d=="function"?d(i):d);n.current=!0,o("?"+m,c)},[o,i]);return[i,l]}var xz=0,wz=()=>`__${String(++xz)}__`;function _z(){let{router:t}=wj("useSubmit"),{basename:e}=A.useContext(Ms),n=j7();return A.useCallback(async(r,i={})=>{let{action:o,method:l,encType:d,formData:c,body:m}=Q7(r,e);if(i.navigate===!1){let p=i.fetcherKey||wz();await t.fetch(p,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:m,formMethod:i.method||l,formEncType:i.encType||d,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:m,formMethod:i.method||l,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function Sz(t,{relative:e}={}){let{basename:n}=A.useContext(Ms),r=A.useContext(Fi);Tt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...zh(t||".",{relative:e})},l=Hi();if(t==null){o.search=l.search;let d=new URLSearchParams(o.search),c=d.getAll("index");if(c.some(p=>p==="")){d.delete("index"),c.filter(y=>y).forEach(y=>d.append("index",y));let p=d.toString();o.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:xs([n,o.pathname])),vo(o)}function Tz(t,e={}){let n=A.useContext(Cw);Tt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=wj("useViewTransitionState"),i=zh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Ti(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Ti(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Pp(i.pathname,l)!=null||Pp(i.pathname,o)!=null}[...sz];const Ez="modulepreload",Az=function(t){return"/"+t},hA={},Dw=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let m=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};var l=m;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),c=d?.nonce||d?.getAttribute("nonce");i=m(n.map(p=>{if(p=Az(p),p in hA)return;hA[p]=!0;const y=p.endsWith(".css"),x=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${x}`))return;const E=document.createElement("link");if(E.rel=y?"stylesheet":Ez,y||(E.as="script"),E.crossOrigin="",E.href=p,c&&E.setAttribute("nonce",c),document.head.appendChild(E),y)return new Promise((R,P)=>{E.addEventListener("load",R),E.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(d){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=d,window.dispatchEvent(c),!c.defaultPrevented)throw d}return i.then(d=>{for(const c of d||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Nz=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),fA=t=>{const e=Nz(t);return e.charAt(0).toUpperCase()+e.slice(1)},_j=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),Rz=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Iz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...d},c)=>A.createElement("svg",{ref:c,...Iz,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:_j("lucide",i),...!o&&!Rz(d)&&{"aria-hidden":"true"},...d},[...l.map(([m,p])=>A.createElement(m,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(t,e)=>{const n=A.forwardRef(({className:r,...i},o)=>A.createElement(Mz,{ref:o,iconNode:e,className:_j(`lucide-${Cz(fA(t))}`,`lucide-${t}`,r),...i}));return n.displayName=fA(t),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Pz=rt("activity",jz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],kw=rt("arrow-left-right",Oz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Bh=rt("arrow-left",Dz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Og=rt("arrow-right",kz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Lw=rt("arrow-up",Lz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],yl=rt("bookmark",Vz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Vw=rt("check",Uz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Fh=rt("chevron-down",zz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Sj=rt("chevron-up",Bz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],kp=rt("circle-check-big",Fz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],$z=rt("circle-x",Hz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Gz=rt("cloud-upload",qz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Kz=rt("external-link",Wz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Xz=rt("eye",Yz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Xm=rt("file-text",Qz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],bu=rt("funnel",Zz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],eB=rt("globe",Jz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],nB=rt("grid-3x3",tB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Qu=rt("heart",rB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Uw=rt("house",iB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Tj=rt("image",sB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],oB=rt("languages",aB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ej=rt("loader-circle",lB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],_u=rt("lock",uB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Aj=rt("log-out",cB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Cj=rt("mail",dB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],fB=rt("menu",hB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Ob=rt("message-circle",mB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Zu=rt("message-square",pB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["path",{d:"M5 12h14",key:"1ays0h"}]],mA=rt("minus",gB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],yB=rt("package",vB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ju=rt("plus",bB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],wB=rt("reply",xB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],pA=rt("rotate-ccw",_B);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],y0=rt("scale",SB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],bl=rt("search",TB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Dg=rt("send",EB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],CB=rt("settings",AB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Lu=rt("shield",NB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Vu=rt("shopping-bag",RB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],MB=rt("shopping-cart",IB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],gA=rt("sparkles",jB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],OB=rt("square-pen",PB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Nj=rt("trash-2",DB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Db=rt("trending-up",kB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Rj=rt("triangle-alert",LB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],xl=rt("user",VB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],hs=rt("users",UB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ui=rt("x",zB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BB=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],FB=rt("zap",BB),zw=A.createContext({});function Cl(t){const e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}const Bw=typeof window<"u",Hh=Bw?A.useLayoutEffect:A.useEffect,kg=A.createContext(null);function Fw(t,e){t.indexOf(e)===-1&&t.push(e)}function Hw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ns=(t,e,n)=>n>e?e:n<t?t:n;let lh=()=>{};const ma={},Ij=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Mj(t){return typeof t=="object"&&t!==null}const jj=t=>/^0[^.\s]+$/u.test(t);function $w(t){let e;return()=>(e===void 0&&(e=t()),e)}const Dr=t=>t,HB=(t,e)=>n=>e(t(n)),$h=(...t)=>t.reduce(HB),ec=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class qw{constructor(){this.subscriptions=[]}add(e){return Fw(this.subscriptions,e),()=>Hw(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const l=this.subscriptions[o];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ws=t=>t*1e3,_s=t=>t/1e3;function Gw(t,e){return e?t*(1e3/e):0}const Pj=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,$B=1e-7,qB=12;function GB(t,e,n,r,i){let o,l,d=0;do l=e+(n-e)/2,o=Pj(l,r,i)-t,o>0?n=l:e=l;while(Math.abs(o)>$B&&++d<qB);return l}function qh(t,e,n,r){if(t===e&&n===r)return Dr;const i=o=>GB(o,0,1,t,n);return o=>o===0||o===1?o:Pj(i(o),e,r)}const Oj=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Dj=t=>e=>1-t(1-e),kj=qh(.33,1.53,.69,.99),Ww=Dj(kj),Lj=Oj(Ww),Vj=t=>(t*=2)<1?.5*Ww(t):.5*(2-Math.pow(2,-10*(t-1))),Kw=t=>1-Math.sin(Math.acos(t)),Uj=Dj(Kw),zj=Oj(Kw),WB=qh(.42,0,1,1),Lp=qh(0,0,.58,1),Vp=qh(.42,0,.58,1),KB=t=>Array.isArray(t)&&typeof t[0]!="number",Bj=t=>Array.isArray(t)&&typeof t[0]=="number",YB={linear:Dr,easeIn:WB,easeInOut:Vp,easeOut:Lp,circIn:Kw,circInOut:zj,circOut:Uj,backIn:Ww,backInOut:Lj,backOut:kj,anticipate:Vj},XB=t=>typeof t=="string",vA=t=>{if(Bj(t)){lh(t.length===4);const[e,n,r,i]=t;return qh(e,n,r,i)}else if(XB(t))return YB[t];return t},Sm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],yA={value:null};function QB(t,e){let n=new Set,r=new Set,i=!1,o=!1;const l=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1},c=0;function m(y){l.has(y)&&(p.schedule(y),t()),c++,y(d)}const p={schedule:(y,x=!1,E=!1)=>{const P=E&&i?n:r;return x&&l.add(y),P.has(y)||P.add(y),y},cancel:y=>{r.delete(y),l.delete(y)},process:y=>{if(d=y,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(m),e&&yA.value&&yA.value.frameloop[e].push(c),c=0,n.clear(),i=!1,o&&(o=!1,p.process(y))}};return p}const ZB=40;function Fj(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=Sm.reduce((F,Y)=>(F[Y]=QB(o,e?Y:void 0),F),{}),{setup:d,read:c,resolveKeyframes:m,preUpdate:p,update:y,preRender:x,render:E,postRender:R}=l,P=()=>{const F=ma.useManualTiming?i.timestamp:performance.now();n=!1,ma.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(F-i.timestamp,ZB),1)),i.timestamp=F,i.isProcessing=!0,d.process(i),c.process(i),m.process(i),p.process(i),y.process(i),x.process(i),E.process(i),R.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(P))},V=()=>{n=!0,r=!0,i.isProcessing||t(P)};return{schedule:Sm.reduce((F,Y)=>{const M=l[Y];return F[Y]=(j,C=!1,I=!1)=>(n||V(),M.schedule(j,C,I)),F},{}),cancel:F=>{for(let Y=0;Y<Sm.length;Y++)l[Sm[Y]].cancel(F)},state:i,steps:l}}const{schedule:Vt,cancel:Ei,state:Kn,steps:b0}=Fj(typeof requestAnimationFrame<"u"?requestAnimationFrame:Dr,!0);let Qm;function JB(){Qm=void 0}const Or={now:()=>(Qm===void 0&&Or.set(Kn.isProcessing||ma.useManualTiming?Kn.timestamp:performance.now()),Qm),set:t=>{Qm=t,queueMicrotask(JB)}},Hj=t=>e=>typeof e=="string"&&e.startsWith(t),Yw=Hj("--"),eF=Hj("var(--"),Xw=t=>eF(t)?tF.test(t.split("/*")[0].trim()):!1,tF=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,uc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},uh={...uc,transform:t=>Ns(0,1,t)},Tm={...uc,default:1},$d=t=>Math.round(t*1e5)/1e5,Qw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function nF(t){return t==null}const rF=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Zw=(t,e)=>n=>!!(typeof n=="string"&&rF.test(n)&&n.startsWith(t)||e&&!nF(n)&&Object.prototype.hasOwnProperty.call(n,e)),$j=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,l,d]=r.match(Qw);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(l),alpha:d!==void 0?parseFloat(d):1}},iF=t=>Ns(0,255,t),x0={...uc,transform:t=>Math.round(iF(t))},sl={test:Zw("rgb","red"),parse:$j("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+x0.transform(t)+", "+x0.transform(e)+", "+x0.transform(n)+", "+$d(uh.transform(r))+")"};function sF(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const kb={test:Zw("#"),parse:sF,transform:sl.transform},Gh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Wa=Gh("deg"),Ss=Gh("%"),ot=Gh("px"),aF=Gh("vh"),oF=Gh("vw"),bA={...Ss,parse:t=>Ss.parse(t)/100,transform:t=>Ss.transform(t*100)},Su={test:Zw("hsl","hue"),parse:$j("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ss.transform($d(e))+", "+Ss.transform($d(n))+", "+$d(uh.transform(r))+")"},Pn={test:t=>sl.test(t)||kb.test(t)||Su.test(t),parse:t=>sl.test(t)?sl.parse(t):Su.test(t)?Su.parse(t):kb.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?sl.transform(t):Su.transform(t),getAnimatableNone:t=>{const e=Pn.parse(t);return e.alpha=0,Pn.transform(e)}},lF=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function uF(t){return isNaN(t)&&typeof t=="string"&&(t.match(Qw)?.length||0)+(t.match(lF)?.length||0)>0}const qj="number",Gj="color",cF="var",dF="var(",xA="${}",hF=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ch(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const d=e.replace(hF,c=>(Pn.test(c)?(r.color.push(o),i.push(Gj),n.push(Pn.parse(c))):c.startsWith(dF)?(r.var.push(o),i.push(cF),n.push(c)):(r.number.push(o),i.push(qj),n.push(parseFloat(c))),++o,xA)).split(xA);return{values:n,split:d,indexes:r,types:i}}function Wj(t){return ch(t).values}function Kj(t){const{split:e,types:n}=ch(t),r=e.length;return i=>{let o="";for(let l=0;l<r;l++)if(o+=e[l],i[l]!==void 0){const d=n[l];d===qj?o+=$d(i[l]):d===Gj?o+=Pn.transform(i[l]):o+=i[l]}return o}}const fF=t=>typeof t=="number"?0:Pn.test(t)?Pn.getAnimatableNone(t):t;function mF(t){const e=Wj(t);return Kj(t)(e.map(fF))}const yo={test:uF,parse:Wj,createTransformer:Kj,getAnimatableNone:mF};function w0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function pF({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,l=0;if(!e)i=o=l=n;else{const d=n<.5?n*(1+e):n+e-n*e,c=2*n-d;i=w0(c,d,t+1/3),o=w0(c,d,t),l=w0(c,d,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function Up(t,e){return n=>n>0?e:t}const dn=(t,e,n)=>t+(e-t)*n,_0=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},gF=[kb,sl,Su],vF=t=>gF.find(e=>e.test(t));function wA(t){const e=vF(t);if(!e)return!1;let n=e.parse(t);return e===Su&&(n=pF(n)),n}const _A=(t,e)=>{const n=wA(t),r=wA(e);if(!n||!r)return Up(t,e);const i={...n};return o=>(i.red=_0(n.red,r.red,o),i.green=_0(n.green,r.green,o),i.blue=_0(n.blue,r.blue,o),i.alpha=dn(n.alpha,r.alpha,o),sl.transform(i))},Lb=new Set(["none","hidden"]);function yF(t,e){return Lb.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function bF(t,e){return n=>dn(t,e,n)}function Jw(t){return typeof t=="number"?bF:typeof t=="string"?Xw(t)?Up:Pn.test(t)?_A:_F:Array.isArray(t)?Yj:typeof t=="object"?Pn.test(t)?_A:xF:Up}function Yj(t,e){const n=[...t],r=n.length,i=t.map((o,l)=>Jw(o)(o,e[l]));return o=>{for(let l=0;l<r;l++)n[l]=i[l](o);return n}}function xF(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Jw(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function wF(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],l=t.indexes[o][r[o]],d=t.values[l]??0;n[i]=d,r[o]++}return n}const _F=(t,e)=>{const n=yo.createTransformer(e),r=ch(t),i=ch(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Lb.has(t)&&!i.values.length||Lb.has(e)&&!r.values.length?yF(t,e):$h(Yj(wF(r,i),i.values),n):Up(t,e)};function Xj(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?dn(t,e,n):Jw(t)(t,e)}const SF=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Vt.update(e,n),stop:()=>Ei(e),now:()=>Kn.isProcessing?Kn.timestamp:Or.now()}},Qj=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=Math.round(t(o/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},zp=2e4;function e1(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<zp;)e+=n,r=t.next(e);return e>=zp?1/0:e}function TF(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(e1(r),zp);return{type:"keyframes",ease:o=>r.next(i*o).value/e,duration:_s(i)}}const EF=5;function Zj(t,e,n){const r=Math.max(e-EF,0);return Gw(n-t(r),e-r)}const yn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},S0=.001;function AF({duration:t=yn.duration,bounce:e=yn.bounce,velocity:n=yn.velocity,mass:r=yn.mass}){let i,o,l=1-e;l=Ns(yn.minDamping,yn.maxDamping,l),t=Ns(yn.minDuration,yn.maxDuration,_s(t)),l<1?(i=m=>{const p=m*l,y=p*t,x=p-n,E=Vb(m,l),R=Math.exp(-y);return S0-x/E*R},o=m=>{const y=m*l*t,x=y*n+n,E=Math.pow(l,2)*Math.pow(m,2)*t,R=Math.exp(-y),P=Vb(Math.pow(m,2),l);return(-i(m)+S0>0?-1:1)*((x-E)*R)/P}):(i=m=>{const p=Math.exp(-m*t),y=(m-n)*t+1;return-S0+p*y},o=m=>{const p=Math.exp(-m*t),y=(n-m)*(t*t);return p*y});const d=5/t,c=NF(i,o,d);if(t=ws(t),isNaN(c))return{stiffness:yn.stiffness,damping:yn.damping,duration:t};{const m=Math.pow(c,2)*r;return{stiffness:m,damping:l*2*Math.sqrt(r*m),duration:t}}}const CF=12;function NF(t,e,n){let r=n;for(let i=1;i<CF;i++)r=r-t(r)/e(r);return r}function Vb(t,e){return t*Math.sqrt(1-e*e)}const RF=["duration","bounce"],IF=["stiffness","damping","mass"];function SA(t,e){return e.some(n=>t[n]!==void 0)}function MF(t){let e={velocity:yn.velocity,stiffness:yn.stiffness,damping:yn.damping,mass:yn.mass,isResolvedFromDuration:!1,...t};if(!SA(t,IF)&&SA(t,RF))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*Ns(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:yn.mass,stiffness:i,damping:o}}else{const n=AF(t);e={...e,...n,mass:yn.mass},e.isResolvedFromDuration=!0}return e}function Bp(t=yn.visualDuration,e=yn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],d={done:!1,value:o},{stiffness:c,damping:m,mass:p,duration:y,velocity:x,isResolvedFromDuration:E}=MF({...n,velocity:-_s(n.velocity||0)}),R=x||0,P=m/(2*Math.sqrt(c*p)),V=l-o,O=_s(Math.sqrt(c/p)),B=Math.abs(V)<5;r||(r=B?yn.restSpeed.granular:yn.restSpeed.default),i||(i=B?yn.restDelta.granular:yn.restDelta.default);let F;if(P<1){const M=Vb(O,P);F=j=>{const C=Math.exp(-P*O*j);return l-C*((R+P*O*V)/M*Math.sin(M*j)+V*Math.cos(M*j))}}else if(P===1)F=M=>l-Math.exp(-O*M)*(V+(R+O*V)*M);else{const M=O*Math.sqrt(P*P-1);F=j=>{const C=Math.exp(-P*O*j),I=Math.min(M*j,300);return l-C*((R+P*O*V)*Math.sinh(I)+M*V*Math.cosh(I))/M}}const Y={calculatedDuration:E&&y||null,next:M=>{const j=F(M);if(E)d.done=M>=y;else{let C=M===0?R:0;P<1&&(C=M===0?ws(R):Zj(F,M,j));const I=Math.abs(C)<=r,N=Math.abs(l-j)<=i;d.done=I&&N}return d.value=d.done?l:j,d},toString:()=>{const M=Math.min(e1(Y),zp),j=Qj(C=>Y.next(M*C).value,M,30);return M+"ms "+j},toTransition:()=>{}};return Y}Bp.applyToOptions=t=>{const e=TF(t,100,Bp);return t.ease=e.ease,t.duration=ws(e.duration),t.type="keyframes",t};function Ub({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:l,min:d,max:c,restDelta:m=.5,restSpeed:p}){const y=t[0],x={done:!1,value:y},E=I=>d!==void 0&&I<d||c!==void 0&&I>c,R=I=>d===void 0?c:c===void 0||Math.abs(d-I)<Math.abs(c-I)?d:c;let P=n*e;const V=y+P,O=l===void 0?V:l(V);O!==V&&(P=O-y);const B=I=>-P*Math.exp(-I/r),F=I=>O+B(I),Y=I=>{const N=B(I),T=F(I);x.done=Math.abs(N)<=m,x.value=x.done?O:T};let M,j;const C=I=>{E(x.value)&&(M=I,j=Bp({keyframes:[x.value,R(x.value)],velocity:Zj(F,I,x.value),damping:i,stiffness:o,restDelta:m,restSpeed:p}))};return C(0),{calculatedDuration:null,next:I=>{let N=!1;return!j&&M===void 0&&(N=!0,Y(I),C(I)),M!==void 0&&I>=M?j.next(I-M):(!N&&Y(I),x)}}}function jF(t,e,n){const r=[],i=n||ma.mix||Xj,o=t.length-1;for(let l=0;l<o;l++){let d=i(t[l],t[l+1]);if(e){const c=Array.isArray(e)?e[l]||Dr:e;d=$h(c,d)}r.push(d)}return r}function t1(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(lh(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=jF(e,r,i),c=d.length,m=p=>{if(l&&p<t[0])return e[0];let y=0;if(c>1)for(;y<t.length-2&&!(p<t[y+1]);y++);const x=ec(t[y],t[y+1],p);return d[y](x)};return n?p=>m(Ns(t[0],t[o-1],p)):m}function PF(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=ec(0,e,r);t.push(dn(n,1,i))}}function Jj(t){const e=[0];return PF(e,t.length-1),e}function OF(t,e){return t.map(n=>n*e)}function DF(t,e){return t.map(()=>e||Vp).splice(0,t.length-1)}function qd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=KB(r)?r.map(vA):vA(r),o={done:!1,value:e[0]},l=OF(n&&n.length===e.length?n:Jj(e),t),d=t1(l,e,{ease:Array.isArray(i)?i:DF(e,i)});return{calculatedDuration:t,next:c=>(o.value=d(c),o.done=c>=t,o)}}const kF=t=>t!==null;function n1(t,{repeat:e,repeatType:n="loop"},r,i=1){const o=t.filter(kF),d=i<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!d||r===void 0?o[d]:r}const LF={decay:Ub,inertia:Ub,tween:qd,keyframes:qd,spring:Bp};function eP(t){typeof t.type=="string"&&(t.type=LF[t.type])}class r1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const VF=t=>t/100;class Lg extends r1{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Or.now()&&this.tick(Or.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;eP(e);const{type:n=qd,repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:l=0}=e;let{keyframes:d}=e;const c=n||qd;c!==qd&&typeof d[0]!="number"&&(this.mixKeyframes=$h(VF,Xj(d[0],d[1])),d=[0,100]);const m=c({...e,keyframes:d});o==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...d].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=e1(m));const{calculatedDuration:p}=m;this.calculatedDuration=p,this.resolvedDuration=p+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:d,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:p,repeat:y,repeatType:x,repeatDelay:E,type:R,onUpdate:P,finalKeyframe:V}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const O=this.currentTime-m*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?O<0:O>i;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let F=this.currentTime,Y=r;if(y){const I=Math.min(this.currentTime,i)/d;let N=Math.floor(I),T=I%1;!T&&I>=1&&(T=1),T===1&&N--,N=Math.min(N,y+1),!!(N%2)&&(x==="reverse"?(T=1-T,E&&(T-=E/d)):x==="mirror"&&(Y=l)),F=Ns(0,1,T)*d}const M=B?{done:!1,value:p[0]}:Y.next(F);o&&(M.value=o(M.value));let{done:j}=M;!B&&c!==null&&(j=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return C&&R!==Ub&&(M.value=n1(p,this.options,V,this.speed)),P&&P(M.value),C&&this.finish(),M}then(e,n){return this.finished.then(e,n)}get duration(){return _s(this.calculatedDuration)}get time(){return _s(this.currentTime)}set time(e){e=ws(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Or.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=_s(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=SF,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Or.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function UF(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const al=t=>t*180/Math.PI,zb=t=>{const e=al(Math.atan2(t[1],t[0]));return Bb(e)},zF={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:zb,rotateZ:zb,skewX:t=>al(Math.atan(t[1])),skewY:t=>al(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Bb=t=>(t=t%360,t<0&&(t+=360),t),TA=zb,EA=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),AA=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),BF={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:EA,scaleY:AA,scale:t=>(EA(t)+AA(t))/2,rotateX:t=>Bb(al(Math.atan2(t[6],t[5]))),rotateY:t=>Bb(al(Math.atan2(-t[2],t[0]))),rotateZ:TA,rotate:TA,skewX:t=>al(Math.atan(t[4])),skewY:t=>al(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Fb(t){return t.includes("scale")?1:0}function Hb(t,e){if(!t||t==="none")return Fb(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=BF,i=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=zF,i=d}if(!i)return Fb(e);const o=r[e],l=i[1].split(",").map(HF);return typeof o=="function"?o(l):l[o]}const FF=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Hb(n,e)};function HF(t){return parseFloat(t.trim())}const cc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],dc=new Set(cc),CA=t=>t===uc||t===ot,$F=new Set(["x","y","z"]),qF=cc.filter(t=>!$F.has(t));function GF(t){const e=[];return qF.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ll={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Hb(e,"x"),y:(t,{transform:e})=>Hb(e,"y")};ll.translateX=ll.x;ll.translateY=ll.y;const ul=new Set;let $b=!1,qb=!1,Gb=!1;function tP(){if(qb){const t=Array.from(ul).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=GF(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,l])=>{r.getValue(o)?.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}qb=!1,$b=!1,ul.forEach(t=>t.complete(Gb)),ul.clear()}function nP(){ul.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(qb=!0)})}function WF(){Gb=!0,nP(),tP(),Gb=!1}class i1{constructor(e,n,r,i,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(ul.add(this),$b||($b=!0,Vt.read(nP),Vt.resolveKeyframes(tP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const o=i?.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const d=r.readValue(n,l);d!=null&&(e[0]=d)}e[0]===void 0&&(e[0]=l),i&&o===void 0&&i.set(e[0])}UF(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ul.delete(this)}cancel(){this.state==="scheduled"&&(ul.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const KF=t=>t.startsWith("--");function YF(t,e,n){KF(e)?t.style.setProperty(e,n):t.style[e]=n}const rP=$w(()=>window.ScrollTimeline!==void 0),XF={};function QF(t,e){const n=$w(t);return()=>XF[e]??n()}const iP=QF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Dd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,NA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Dd([0,.65,.55,1]),circOut:Dd([.55,0,1,.45]),backIn:Dd([.31,.01,.66,-.59]),backOut:Dd([.33,1.53,.69,.99])};function sP(t,e){if(t)return typeof t=="function"?iP()?Qj(t,e):"ease-out":Bj(t)?Dd(t):Array.isArray(t)?t.map(n=>sP(n,e)||NA.easeOut):NA[t]}function ZF(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:l="loop",ease:d="easeOut",times:c}={},m=void 0){const p={[e]:n};c&&(p.offset=c);const y=sP(d,i);Array.isArray(y)&&(p.easing=y);const x={delay:r,duration:i,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return m&&(x.pseudoElement=m),t.animate(p,x)}function aP(t){return typeof t=="function"&&"applyToOptions"in t}function JF({type:t,...e}){return aP(t)&&iP()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class eH extends r1{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:d,onComplete:c}=e;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=e,lh(typeof e.type!="string");const m=JF(e);this.animation=ZF(n,r,i,m,o),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=n1(i,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(p):YF(n,r,p),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return _s(Number(e))}get time(){return _s(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ws(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&rP()?(this.animation.timeline=e,Dr):n(this)}}const oP={anticipate:Vj,backInOut:Lj,circInOut:zj};function tH(t){return t in oP}function nH(t){typeof t.ease=="string"&&tH(t.ease)&&(t.ease=oP[t.ease])}const RA=10;class rH extends eH{constructor(e){nH(e),eP(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:o,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const d=new Lg({...l,autoplay:!1}),c=ws(this.finishedTime??this.time);n.setWithVelocity(d.sample(c-RA).value,d.sample(c).value,RA),d.stop()}}const IA=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(yo.test(t)||t==="0")&&!t.startsWith("url("));function iH(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function sH(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=IA(i,e),d=IA(o,e);return!l||!d?!1:iH(t)||(n==="spring"||aP(n))&&r}const aH=new Set(["opacity","clipPath","filter","transform"]),oH=$w(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function lH(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:o,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:m}=e.owner.getProps();return oH()&&n&&aH.has(n)&&(n!=="transform"||!m)&&!c&&!r&&i!=="mirror"&&o!==0&&l!=="inertia"}const uH=40;class cH extends r1{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",keyframes:d,name:c,motionValue:m,element:p,...y}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Or.now();const x={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:l,name:c,motionValue:m,element:p,...y},E=p?.KeyframeResolver||i1;this.keyframeResolver=new E(d,(R,P,V)=>this.onKeyframesResolved(R,P,x,!V),c,m,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:o,type:l,velocity:d,delay:c,isHandoff:m,onUpdate:p}=r;this.resolvedAt=Or.now(),sH(e,o,l,d)||((ma.instantAnimations||!c)&&p?.(n1(e,r,n)),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const x={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>uH?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},E=!m&&lH(x)?new rH({...x,element:x.motionValue.owner.current}):new Lg(x);E.finished.then(()=>this.notifyFinished()).catch(Dr),this.pendingTimeline&&(this.stopTimeline=E.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=E}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),WF()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const dH=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hH(t){const e=dH.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function lP(t,e,n=1){const[r,i]=hH(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const l=o.trim();return Ij(l)?parseFloat(l):l}return Xw(i)?lP(i,e,n+1):i}function s1(t,e){return t?.[e]??t?.default??t}const uP=new Set(["width","height","top","left","right","bottom",...cc]),fH={test:t=>t==="auto",parse:t=>t},cP=t=>e=>e.test(t),dP=[uc,ot,Ss,Wa,oF,aF,fH],MA=t=>dP.find(cP(t));function mH(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||jj(t):!0}const pH=new Set(["brightness","contrast","saturate","opacity"]);function gH(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Qw)||[];if(!r)return t;const i=n.replace(r,"");let o=pH.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const vH=/\b([a-z-]*)\(.*?\)/gu,Wb={...yo,getAnimatableNone:t=>{const e=t.match(vH);return e?e.map(gH).join(" "):t}},jA={...uc,transform:Math.round},yH={rotate:Wa,rotateX:Wa,rotateY:Wa,rotateZ:Wa,scale:Tm,scaleX:Tm,scaleY:Tm,scaleZ:Tm,skew:Wa,skewX:Wa,skewY:Wa,distance:ot,translateX:ot,translateY:ot,translateZ:ot,x:ot,y:ot,z:ot,perspective:ot,transformPerspective:ot,opacity:uh,originX:bA,originY:bA,originZ:ot},a1={borderWidth:ot,borderTopWidth:ot,borderRightWidth:ot,borderBottomWidth:ot,borderLeftWidth:ot,borderRadius:ot,radius:ot,borderTopLeftRadius:ot,borderTopRightRadius:ot,borderBottomRightRadius:ot,borderBottomLeftRadius:ot,width:ot,maxWidth:ot,height:ot,maxHeight:ot,top:ot,right:ot,bottom:ot,left:ot,padding:ot,paddingTop:ot,paddingRight:ot,paddingBottom:ot,paddingLeft:ot,margin:ot,marginTop:ot,marginRight:ot,marginBottom:ot,marginLeft:ot,backgroundPositionX:ot,backgroundPositionY:ot,...yH,zIndex:jA,fillOpacity:uh,strokeOpacity:uh,numOctaves:jA},bH={...a1,color:Pn,backgroundColor:Pn,outlineColor:Pn,fill:Pn,stroke:Pn,borderColor:Pn,borderTopColor:Pn,borderRightColor:Pn,borderBottomColor:Pn,borderLeftColor:Pn,filter:Wb,WebkitFilter:Wb},hP=t=>bH[t];function fP(t,e){let n=hP(t);return n!==Wb&&(n=yo),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const xH=new Set(["auto","none","0"]);function wH(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!xH.has(o)&&ch(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=fP(n,i)}class _H extends i1{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let m=e[c];if(typeof m=="string"&&(m=m.trim(),Xw(m))){const p=lP(m,n.current);p!==void 0&&(e[c]=p),c===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!uP.has(r)||e.length!==2)return;const[i,o]=e,l=MA(i),d=MA(o);if(l!==d)if(CA(l)&&CA(d))for(let c=0;c<e.length;c++){const m=e[c];typeof m=="string"&&(e[c]=parseFloat(m))}else ll[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||mH(e[i]))&&r.push(i);r.length&&wH(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ll[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,l=r[o];r[o]=ll[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,c])=>{e.getValue(d).set(c)}),this.resolveNoneKeyframes()}}function mP(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const i=document.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const pP=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function o1(t){return Mj(t)&&"offsetHeight"in t}const PA=30,SH=t=>!isNaN(parseFloat(t)),Gd={current:void 0};class TH{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=Or.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();i&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Or.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=SH(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new qw);const r=this.events[e].add(n);return e==="change"?()=>{r(),Vt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Gd.current&&Gd.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Or.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>PA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,PA);return Gw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Di(t,e){return new TH(t,e)}const{schedule:l1}=Fj(queueMicrotask,!1),ji={x:!1,y:!1};function gP(){return ji.x||ji.y}function EH(t){return t==="x"||t==="y"?ji[t]?null:(ji[t]=!0,()=>{ji[t]=!1}):ji.x||ji.y?null:(ji.x=ji.y=!0,()=>{ji.x=ji.y=!1})}function vP(t,e){const n=mP(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function OA(t){return!(t.pointerType==="touch"||gP())}function AH(t,e,n={}){const[r,i,o]=vP(t,n),l=d=>{if(!OA(d))return;const{target:c}=d,m=e(c,d);if(typeof m!="function"||!c)return;const p=y=>{OA(y)&&(m(y),c.removeEventListener("pointerleave",p))};c.addEventListener("pointerleave",p,i)};return r.forEach(d=>{d.addEventListener("pointerenter",l,i)}),o}const yP=(t,e)=>e?t===e?!0:yP(t,e.parentElement):!1,u1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,CH=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function NH(t){return CH.has(t.tagName)||t.tabIndex!==-1}const Zm=new WeakSet;function DA(t){return e=>{e.key==="Enter"&&t(e)}}function T0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const RH=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=DA(()=>{if(Zm.has(n))return;T0(n,"down");const i=DA(()=>{T0(n,"up")}),o=()=>T0(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function kA(t){return u1(t)&&!gP()}function IH(t,e,n={}){const[r,i,o]=vP(t,n),l=d=>{const c=d.currentTarget;if(!kA(d))return;Zm.add(c);const m=e(c,d),p=(E,R)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",x),Zm.has(c)&&Zm.delete(c),kA(E)&&typeof m=="function"&&m(E,{success:R})},y=E=>{p(E,c===window||c===document||n.useGlobalTarget||yP(c,E.target))},x=E=>{p(E,!1)};window.addEventListener("pointerup",y,i),window.addEventListener("pointercancel",x,i)};return r.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",l,i),o1(d)&&(d.addEventListener("focus",m=>RH(m,i)),!NH(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),o}function c1(t){return Mj(t)&&"ownerSVGElement"in t}const Jm=new WeakMap;let ep;const bP=(t,e,n)=>(r,i)=>i&&i[0]?i[0][t+"Size"]:c1(r)&&"getBBox"in r?r.getBBox()[e]:r[n],MH=bP("inline","width","offsetWidth"),jH=bP("block","height","offsetHeight");function PH({target:t,borderBoxSize:e}){Jm.get(t)?.forEach(n=>{n(t,{get width(){return MH(t,e)},get height(){return jH(t,e)}})})}function OH(t){t.forEach(PH)}function DH(){typeof ResizeObserver>"u"||(ep=new ResizeObserver(OH))}function kH(t,e){ep||DH();const n=mP(t);return n.forEach(r=>{let i=Jm.get(r);i||(i=new Set,Jm.set(r,i)),i.add(e),ep?.observe(r)}),()=>{n.forEach(r=>{const i=Jm.get(r);i?.delete(e),i?.size||ep?.unobserve(r)})}}const tp=new Set;let Tu;function LH(){Tu=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};tp.forEach(e=>e(t))},window.addEventListener("resize",Tu)}function VH(t){return tp.add(t),Tu||LH(),()=>{tp.delete(t),!tp.size&&typeof Tu=="function"&&(window.removeEventListener("resize",Tu),Tu=void 0)}}function UH(t,e){return typeof t=="function"?VH(t):kH(t,e)}function xP(t,e){let n;const r=()=>{const{currentTime:i}=e,l=(i===null?0:i.value)/100;n!==l&&t(l),n=l};return Vt.preUpdate(r,!0),()=>Ei(r)}function zH(t){return c1(t)&&t.tagName==="svg"}function BH(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],o=t[2+n],l=t[3+n],d=t1(i,o,l);return e?d(r):d}const Qn=t=>!!(t&&t.getVelocity);function FH(t,e,n){const r=t.get();let i=null,o=r,l;const d=typeof r=="string"?r.replace(/[\d.-]/g,""):void 0,c=()=>{i&&(i.stop(),i=null)},m=()=>{c(),i=new Lg({keyframes:[VA(t.get()),VA(o)],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:l})};t.attach((y,x)=>(o=y,l=E=>x(LA(E,d)),Vt.postRender(m),t.get()),c);let p;return Qn(e)&&(p=e.on("change",y=>t.set(LA(y,d))),t.on("destroy",p)),p}function LA(t,e){return e?t+e:t}function VA(t){return typeof t=="number"?t:parseFloat(t)}const HH=[...dP,Pn,yo],$H=t=>HH.find(cP(t)),hc=A.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class qH extends A.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=o1(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function GH({children:t,isPresent:e,anchorX:n,root:r}){const i=A.useId(),o=A.useRef(null),l=A.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=A.useContext(hc);return A.useInsertionEffect(()=>{const{width:c,height:m,top:p,left:y,right:x}=l.current;if(e||!o.current||!c||!m)return;const E=n==="left"?`left: ${y}`:`right: ${x}`;o.current.dataset.motionPopId=i;const R=document.createElement("style");d&&(R.nonce=d);const P=r??document.head;return P.appendChild(R),R.sheet&&R.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${m}px !important;
            ${E}px !important;
            top: ${p}px !important;
          }
        `),()=>{P.removeChild(R),P.contains(R)&&P.removeChild(R)}},[e]),h.jsx(qH,{isPresent:e,childRef:o,sizeRef:l,children:A.cloneElement(t,{ref:o})})}const WH=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:l,anchorX:d,root:c})=>{const m=Cl(KH),p=A.useId();let y=!0,x=A.useMemo(()=>(y=!1,{id:p,initial:e,isPresent:n,custom:i,onExitComplete:E=>{m.set(E,!0);for(const R of m.values())if(!R)return;r&&r()},register:E=>(m.set(E,!1),()=>m.delete(E))}),[n,m,r]);return o&&y&&(x={...x}),A.useMemo(()=>{m.forEach((E,R)=>m.set(R,!1))},[n]),A.useEffect(()=>{!n&&!m.size&&r&&r()},[n]),l==="popLayout"&&(t=h.jsx(GH,{isPresent:n,anchorX:d,root:c,children:t})),h.jsx(kg.Provider,{value:x,children:t})};function KH(){return new Map}function wP(t=!0){const e=A.useContext(kg);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=A.useId();A.useEffect(()=>{if(t)return i(o)},[t]);const l=A.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,l]:[!0]}const Em=t=>t.key||"";function UA(t){const e=[];return A.Children.forEach(t,n=>{A.isValidElement(n)&&e.push(n)}),e}const fn=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:l=!1,anchorX:d="left",root:c})=>{const[m,p]=wP(l),y=A.useMemo(()=>UA(t),[t]),x=l&&!m?[]:y.map(Em),E=A.useRef(!0),R=A.useRef(y),P=Cl(()=>new Map),[V,O]=A.useState(y),[B,F]=A.useState(y);Hh(()=>{E.current=!1,R.current=y;for(let j=0;j<B.length;j++){const C=Em(B[j]);x.includes(C)?P.delete(C):P.get(C)!==!0&&P.set(C,!1)}},[B,x.length,x.join("-")]);const Y=[];if(y!==V){let j=[...y];for(let C=0;C<B.length;C++){const I=B[C],N=Em(I);x.includes(N)||(j.splice(C,0,I),Y.push(I))}return o==="wait"&&Y.length&&(j=Y),F(UA(j)),O(y),null}const{forceRender:M}=A.useContext(zw);return h.jsx(h.Fragment,{children:B.map(j=>{const C=Em(j),I=l&&!m?!1:y===B||x.includes(C),N=()=>{if(P.has(C))P.set(C,!0);else return;let T=!0;P.forEach(U=>{U||(T=!1)}),T&&(M?.(),F(R.current),l&&p?.(),r&&r())};return h.jsx(WH,{isPresent:I,initial:!E.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:o,root:c,onExitComplete:I?void 0:N,anchorX:d,children:j},C)})})},_P=A.createContext({strict:!1}),zA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},tc={};for(const t in zA)tc[t]={isEnabled:e=>zA[t].some(n=>!!e[n])};function YH(t){for(const e in t)tc[e]={...tc[e],...t[e]}}const XH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Fp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||XH.has(t)}let SP=t=>!Fp(t);function QH(t){typeof t=="function"&&(SP=e=>e.startsWith("on")?!Fp(e):t(e))}try{QH(require("@emotion/is-prop-valid").default)}catch{}function ZH(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(SP(i)||n===!0&&Fp(i)||!e&&!Fp(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function JH(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Vg=A.createContext({});function Ug(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function dh(t){return typeof t=="string"||Array.isArray(t)}const d1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],h1=["initial",...d1];function zg(t){return Ug(t.animate)||h1.some(e=>dh(t[e]))}function TP(t){return!!(zg(t)||t.variants)}function e$(t,e){if(zg(t)){const{initial:n,animate:r}=t;return{initial:n===!1||dh(n)?n:void 0,animate:dh(r)?r:void 0}}return t.inherit!==!1?e:{}}function t$(t){const{initial:e,animate:n}=e$(t,A.useContext(Vg));return A.useMemo(()=>({initial:e,animate:n}),[BA(e),BA(n)])}function BA(t){return Array.isArray(t)?t.join(" "):t}const n$=Symbol.for("motionComponentSymbol");function Eu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function r$(t,e,n){return A.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Eu(n)&&(n.current=r))},[e])}const f1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),i$="framerAppearId",EP="data-"+f1(i$),AP=A.createContext({});function s$(t,e,n,r,i){const{visualElement:o}=A.useContext(Vg),l=A.useContext(_P),d=A.useContext(kg),c=A.useContext(hc).reducedMotion,m=A.useRef(null);r=r||l.renderer,!m.current&&r&&(m.current=r(t,{visualState:e,parent:o,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:c}));const p=m.current,y=A.useContext(AP);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&a$(m.current,n,i,y);const x=A.useRef(!1);A.useInsertionEffect(()=>{p&&x.current&&p.update(n,d)});const E=n[EP],R=A.useRef(!!E&&!window.MotionHandoffIsComplete?.(E)&&window.MotionHasOptimisedAnimation?.(E));return Hh(()=>{p&&(x.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),l1.render(p.render),R.current&&p.animationState&&p.animationState.animateChanges())}),A.useEffect(()=>{p&&(!R.current&&p.animationState&&p.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(E)}),R.current=!1))}),p}function a$(t,e,n,r){const{layoutId:i,layout:o,drag:l,dragConstraints:d,layoutScroll:c,layoutRoot:m,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:CP(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!l||d&&Eu(d),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:c,layoutRoot:m})}function CP(t){if(t)return t.options.allowProjection!==!1?t.projection:CP(t.parent)}function o$({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&YH(t);function o(d,c){let m;const p={...A.useContext(hc),...d,layoutId:l$(d)},{isStatic:y}=p,x=t$(d),E=r(d,y);if(!y&&Bw){u$();const R=c$(p);m=R.MeasureLayout,x.visualElement=s$(i,E,p,e,R.ProjectionNode)}return h.jsxs(Vg.Provider,{value:x,children:[m&&x.visualElement?h.jsx(m,{visualElement:x.visualElement,...p}):null,n(i,d,r$(E,x.visualElement,c),E,y,x.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const l=A.forwardRef(o);return l[n$]=i,l}function l$({layoutId:t}){const e=A.useContext(zw).id;return e&&t!==void 0?e+"-"+t:t}function u$(t,e){A.useContext(_P).strict}function c$(t){const{drag:e,layout:n}=tc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const hh={};function d$(t){for(const e in t)hh[e]=t[e],Yw(e)&&(hh[e].isCSSVariable=!0)}function NP(t,{layout:e,layoutId:n}){return dc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!hh[t]||t==="opacity")}const h$={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},f$=cc.length;function m$(t,e,n){let r="",i=!0;for(let o=0;o<f$;o++){const l=cc[o],d=t[l];if(d===void 0)continue;let c=!0;if(typeof d=="number"?c=d===(l.startsWith("scale")?1:0):c=parseFloat(d)===0,!c||n){const m=pP(d,a1[l]);if(!c){i=!1;const p=h$[l]||l;r+=`${p}(${m}) `}n&&(e[l]=m)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function m1(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let l=!1,d=!1;for(const c in e){const m=e[c];if(dc.has(c)){l=!0;continue}else if(Yw(c)){i[c]=m;continue}else{const p=pP(m,a1[c]);c.startsWith("origin")?(d=!0,o[c]=p):r[c]=p}}if(e.transform||(l||n?r.transform=m$(e,t.transform,n):r.transform&&(r.transform="none")),d){const{originX:c="50%",originY:m="50%",originZ:p=0}=o;r.transformOrigin=`${c} ${m} ${p}`}}const p1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function RP(t,e,n){for(const r in e)!Qn(e[r])&&!NP(r,n)&&(t[r]=e[r])}function p$({transformTemplate:t},e){return A.useMemo(()=>{const n=p1();return m1(n,e,t),Object.assign({},n.vars,n.style)},[e])}function g$(t,e){const n=t.style||{},r={};return RP(r,n,t),Object.assign(r,p$(t,e)),r}function v$(t,e){const n={},r=g$(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const y$={offset:"stroke-dashoffset",array:"stroke-dasharray"},b$={offset:"strokeDashoffset",array:"strokeDasharray"};function x$(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?y$:b$;t[o.offset]=ot.transform(-r);const l=ot.transform(e),d=ot.transform(n);t[o.array]=`${l} ${d}`}function IP(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:o=1,pathOffset:l=0,...d},c,m,p){if(m1(t,d,m),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:x}=t;y.transform&&(x.transform=y.transform,delete y.transform),(x.transform||y.transformOrigin)&&(x.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),x.transform&&(x.transformBox=p?.transformBox??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),i!==void 0&&x$(y,i,o,l,!1)}const MP=()=>({...p1(),attrs:{}}),jP=t=>typeof t=="string"&&t.toLowerCase()==="svg";function w$(t,e,n,r){const i=A.useMemo(()=>{const o=MP();return IP(o,e,jP(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};RP(o,t.style,t),i.style={...o,...i.style}}return i}const _$=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function g1(t){return typeof t!="string"||t.includes("-")?!1:!!(_$.indexOf(t)>-1||/[A-Z]/u.test(t))}function S$(t=!1){return(n,r,i,{latestValues:o},l)=>{const c=(g1(n)?w$:v$)(r,o,l,n),m=ZH(r,typeof n=="string",t),p=n!==A.Fragment?{...m,...c,ref:i}:{},{children:y}=r,x=A.useMemo(()=>Qn(y)?y.get():y,[y]);return A.createElement(n,{...p,children:x})}}function FA(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function v1(t,e,n,r){if(typeof e=="function"){const[i,o]=FA(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=FA(r);e=e(n!==void 0?n:t.custom,i,o)}return e}function np(t){return Qn(t)?t.get():t}function T$({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:E$(n,r,i,t),renderState:e()}}const PP=t=>(e,n)=>{const r=A.useContext(Vg),i=A.useContext(kg),o=()=>T$(t,e,r,i);return n?o():Cl(o)};function E$(t,e,n,r){const i={},o=r(t,{});for(const x in o)i[x]=np(o[x]);let{initial:l,animate:d}=t;const c=zg(t),m=TP(t);e&&m&&!c&&t.inherit!==!1&&(l===void 0&&(l=e.initial),d===void 0&&(d=e.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const y=p?d:l;if(y&&typeof y!="boolean"&&!Ug(y)){const x=Array.isArray(y)?y:[y];for(let E=0;E<x.length;E++){const R=v1(t,x[E]);if(R){const{transitionEnd:P,transition:V,...O}=R;for(const B in O){let F=O[B];if(Array.isArray(F)){const Y=p?F.length-1:0;F=F[Y]}F!==null&&(i[B]=F)}for(const B in P)i[B]=P[B]}}}return i}function y1(t,e,n){const{style:r}=t,i={};for(const o in r)(Qn(r[o])||e.style&&Qn(e.style[o])||NP(o,t)||n?.getValue(o)?.liveStyle!==void 0)&&(i[o]=r[o]);return i}const A$={useVisualState:PP({scrapeMotionValuesFromProps:y1,createRenderState:p1})};function OP(t,e,n){const r=y1(t,e,n);for(const i in t)if(Qn(t[i])||Qn(e[i])){const o=cc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}const C$={useVisualState:PP({scrapeMotionValuesFromProps:OP,createRenderState:MP})};function N$(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...g1(r)?C$:A$,preloadedFeatures:t,useRender:S$(i),createVisualElement:e,Component:r};return o$(l)}}function fh(t,e,n){const r=t.getProps();return v1(r,e,n!==void 0?n:r.custom,t)}const Kb=t=>Array.isArray(t);function R$(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Di(n))}function I$(t){return Kb(t)?t[t.length-1]||0:t}function b1(t,e){const n=fh(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const l in o){const d=I$(o[l]);R$(t,l,d)}}function M$(t){return!!(Qn(t)&&t.add)}function Yb(t,e){const n=t.getValue("willChange");if(M$(n))return n.add(e);if(!n&&ma.WillChange){const r=new ma.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function DP(t){return t.props[EP]}const j$=t=>t!==null;function P$(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(j$),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[o]}const O$={type:"spring",stiffness:500,damping:25,restSpeed:10},D$=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),k$={type:"keyframes",duration:.8},L$={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},V$=(t,{keyframes:e})=>e.length>2?k$:dc.has(t)?t.startsWith("scale")?D$(e[1]):O$:L$;function U$({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:l,repeatDelay:d,from:c,elapsed:m,...p}){return!!Object.keys(p).length}const x1=(t,e,n,r={},i,o)=>l=>{const d=s1(r,t)||{},c=d.delay||r.delay||0;let{elapsed:m=0}=r;m=m-ws(c);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-m,onUpdate:x=>{e.set(x),d.onUpdate&&d.onUpdate(x)},onComplete:()=>{l(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:o?void 0:i};U$(d)||Object.assign(p,V$(t,p)),p.duration&&(p.duration=ws(p.duration)),p.repeatDelay&&(p.repeatDelay=ws(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let y=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(y=!0)),(ma.instantAnimations||ma.skipAnimations)&&(y=!0,p.duration=0,p.delay=0),p.allowFlatten=!d.type&&!d.ease,y&&!o&&e.get()!==void 0){const x=P$(p.keyframes,d);if(x!==void 0){Vt.update(()=>{p.onUpdate(x),p.onComplete()});return}}return d.isSync?new Lg(p):new cH(p)};function z$({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function kP(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:l,...d}=e;r&&(o=r);const c=[],m=i&&t.animationState&&t.animationState.getState()[i];for(const p in d){const y=t.getValue(p,t.latestValues[p]??null),x=d[p];if(x===void 0||m&&z$(m,p))continue;const E={delay:n,...s1(o||{},p)},R=y.get();if(R!==void 0&&!y.isAnimating&&!Array.isArray(x)&&x===R&&!E.velocity)continue;let P=!1;if(window.MotionHandoffAnimation){const O=DP(t);if(O){const B=window.MotionHandoffAnimation(O,p,Vt);B!==null&&(E.startTime=B,P=!0)}}Yb(t,p),y.start(x1(p,y,x,t.shouldReduceMotion&&uP.has(p)?{type:!1}:E,t,P));const V=y.animation;V&&c.push(V)}return l&&Promise.all(c).then(()=>{Vt.update(()=>{l&&b1(t,l)})}),c}function Xb(t,e,n={}){const r=fh(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(kP(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:m=0,staggerChildren:p,staggerDirection:y}=i;return B$(t,e,c,m,p,y,n)}:()=>Promise.resolve(),{when:d}=i;if(d){const[c,m]=d==="beforeChildren"?[o,l]:[l,o];return c().then(()=>m())}else return Promise.all([o(),l(n.delay)])}function B$(t,e,n=0,r=0,i=0,o=1,l){const d=[],c=t.variantChildren.size,m=(c-1)*i,p=typeof r=="function",y=p?x=>r(x,c):o===1?(x=0)=>x*i:(x=0)=>m-x*i;return Array.from(t.variantChildren).sort(F$).forEach((x,E)=>{x.notify("AnimationStart",e),d.push(Xb(x,e,{...l,delay:n+(p?0:r)+y(E)}).then(()=>x.notify("AnimationComplete",e)))}),Promise.all(d)}function F$(t,e){return t.sortNodePosition(e)}function LP(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>Xb(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=Xb(t,e,n);else{const i=typeof e=="function"?fh(t,e,n.custom):e;r=Promise.all(kP(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function VP(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const H$=h1.length;function UP(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?UP(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<H$;n++){const r=h1[n],i=t.props[r];(dh(i)||i===!1)&&(e[r]=i)}return e}const $$=[...d1].reverse(),q$=d1.length;function G$(t){return e=>Promise.all(e.map(({animation:n,options:r})=>LP(t,n,r)))}function W$(t){let e=G$(t),n=HA(),r=!0;const i=c=>(m,p)=>{const y=fh(t,p,c==="exit"?t.presenceContext?.custom:void 0);if(y){const{transition:x,transitionEnd:E,...R}=y;m={...m,...R,...E}}return m};function o(c){e=c(t)}function l(c){const{props:m}=t,p=UP(t.parent)||{},y=[],x=new Set;let E={},R=1/0;for(let V=0;V<q$;V++){const O=$$[V],B=n[O],F=m[O]!==void 0?m[O]:p[O],Y=dh(F),M=O===c?B.isActive:null;M===!1&&(R=V);let j=F===p[O]&&F!==m[O]&&Y;if(j&&r&&t.manuallyAnimateOnMount&&(j=!1),B.protectedKeys={...E},!B.isActive&&M===null||!F&&!B.prevProp||Ug(F)||typeof F=="boolean")continue;const C=K$(B.prevProp,F);let I=C||O===c&&B.isActive&&!j&&Y||V>R&&Y,N=!1;const T=Array.isArray(F)?F:[F];let U=T.reduce(i(O),{});M===!1&&(U={});const{prevResolvedValues:$={}}=B,D={...$,...U},G=S=>{I=!0,x.has(S)&&(N=!0,x.delete(S)),B.needsAnimating[S]=!0;const J=t.getValue(S);J&&(J.liveStyle=!1)};for(const S in D){const J=U[S],K=$[S];if(E.hasOwnProperty(S))continue;let w=!1;Kb(J)&&Kb(K)?w=!VP(J,K):w=J!==K,w?J!=null?G(S):x.add(S):J!==void 0&&x.has(S)?G(S):B.protectedKeys[S]=!0}B.prevProp=F,B.prevResolvedValues=U,B.isActive&&(E={...E,...U}),r&&t.blockInitialAnimation&&(I=!1),I&&(!(j&&C)||N)&&y.push(...T.map(S=>({animation:S,options:{type:O}})))}if(x.size){const V={};if(typeof m.initial!="boolean"){const O=fh(t,Array.isArray(m.initial)?m.initial[0]:m.initial);O&&O.transition&&(V.transition=O.transition)}x.forEach(O=>{const B=t.getBaseTarget(O),F=t.getValue(O);F&&(F.liveStyle=!0),V[O]=B??null}),y.push({animation:V})}let P=!!y.length;return r&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(P=!1),r=!1,P?e(y):Promise.resolve()}function d(c,m){if(n[c].isActive===m)return Promise.resolve();t.variantChildren?.forEach(y=>y.animationState?.setActive(c,m)),n[c].isActive=m;const p=l(c);for(const y in n)n[y].protectedKeys={};return p}return{animateChanges:l,setActive:d,setAnimateFunction:o,getState:()=>n,reset:()=>{n=HA(),r=!0}}}function K$(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!VP(e,t):!1}function Qo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function HA(){return{animate:Qo(!0),whileInView:Qo(),whileHover:Qo(),whileTap:Qo(),whileDrag:Qo(),whileFocus:Qo(),exit:Qo()}}class So{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Y$ extends So{constructor(e){super(e),e.animationState||(e.animationState=W$(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ug(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let X$=0;class Q$ extends So{constructor(){super(...arguments),this.id=X$++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Z$={animation:{Feature:Y$},exit:{Feature:Q$}};function mh(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Wh(t){return{point:{x:t.pageX,y:t.pageY}}}const J$=t=>e=>u1(e)&&t(e,Wh(e));function Wd(t,e,n,r){return mh(t,e,J$(n),r)}function zP({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function eq({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function tq(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const BP=1e-4,nq=1-BP,rq=1+BP,FP=.01,iq=0-FP,sq=0+FP;function Er(t){return t.max-t.min}function aq(t,e,n){return Math.abs(t-e)<=n}function $A(t,e,n,r=.5){t.origin=r,t.originPoint=dn(e.min,e.max,t.origin),t.scale=Er(n)/Er(e),t.translate=dn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=nq&&t.scale<=rq||isNaN(t.scale))&&(t.scale=1),(t.translate>=iq&&t.translate<=sq||isNaN(t.translate))&&(t.translate=0)}function Kd(t,e,n,r){$A(t.x,e.x,n.x,r?r.originX:void 0),$A(t.y,e.y,n.y,r?r.originY:void 0)}function qA(t,e,n){t.min=n.min+e.min,t.max=t.min+Er(e)}function oq(t,e,n){qA(t.x,e.x,n.x),qA(t.y,e.y,n.y)}function GA(t,e,n){t.min=e.min-n.min,t.max=t.min+Er(e)}function Yd(t,e,n){GA(t.x,e.x,n.x),GA(t.y,e.y,n.y)}const WA=()=>({translate:0,scale:1,origin:0,originPoint:0}),Au=()=>({x:WA(),y:WA()}),KA=()=>({min:0,max:0}),Tn=()=>({x:KA(),y:KA()});function bi(t){return[t("x"),t("y")]}function E0(t){return t===void 0||t===1}function Qb({scale:t,scaleX:e,scaleY:n}){return!E0(t)||!E0(e)||!E0(n)}function el(t){return Qb(t)||HP(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function HP(t){return YA(t.x)||YA(t.y)}function YA(t){return t&&t!=="0%"}function Hp(t,e,n){const r=t-n,i=e*r;return n+i}function XA(t,e,n,r,i){return i!==void 0&&(t=Hp(t,i,r)),Hp(t,n,r)+e}function Zb(t,e=0,n=1,r,i){t.min=XA(t.min,e,n,r,i),t.max=XA(t.max,e,n,r,i)}function $P(t,{x:e,y:n}){Zb(t.x,e.translate,e.scale,e.originPoint),Zb(t.y,n.translate,n.scale,n.originPoint)}const QA=.999999999999,ZA=1.0000000000001;function lq(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,l;for(let d=0;d<i;d++){o=n[d],l=o.projectionDelta;const{visualElement:c}=o.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Nu(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,$P(t,l)),r&&el(o.latestValues)&&Nu(t,o.latestValues))}e.x<ZA&&e.x>QA&&(e.x=1),e.y<ZA&&e.y>QA&&(e.y=1)}function Cu(t,e){t.min=t.min+e,t.max=t.max+e}function JA(t,e,n,r,i=.5){const o=dn(t.min,t.max,i);Zb(t,e,n,o,r)}function Nu(t,e){JA(t.x,e.x,e.scaleX,e.scale,e.originX),JA(t.y,e.y,e.scaleY,e.scale,e.originY)}function qP(t,e){return zP(tq(t.getBoundingClientRect(),e))}function uq(t,e,n){const r=qP(t,n),{scroll:i}=e;return i&&(Cu(r.x,i.offset.x),Cu(r.y,i.offset.y)),r}const GP=({current:t})=>t?t.ownerDocument.defaultView:null,eC=(t,e)=>Math.abs(t-e);function cq(t,e){const n=eC(t.x,e.x),r=eC(t.y,e.y);return Math.sqrt(n**2+r**2)}class WP{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=C0(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,R=cq(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!E&&!R)return;const{point:P}=x,{timestamp:V}=Kn;this.history.push({...P,timestamp:V});const{onStart:O,onMove:B}=this.handlers;E||(O&&O(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),B&&B(this.lastMoveEvent,x)},this.handlePointerMove=(x,E)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=A0(E,this.transformPagePoint),Vt.update(this.updatePoint,!0)},this.handlePointerUp=(x,E)=>{this.end();const{onEnd:R,onSessionEnd:P,resumeAnimation:V}=this.handlers;if(this.dragSnapToOrigin&&V&&V(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=C0(x.type==="pointercancel"?this.lastMoveEventInfo:A0(E,this.transformPagePoint),this.history);this.startEvent&&R&&R(x,O),P&&P(x,O)},!u1(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=i||window;const d=Wh(e),c=A0(d,this.transformPagePoint),{point:m}=c,{timestamp:p}=Kn;this.history=[{...m,timestamp:p}];const{onSessionStart:y}=n;y&&y(e,C0(c,this.history)),this.removeListeners=$h(Wd(this.contextWindow,"pointermove",this.handlePointerMove),Wd(this.contextWindow,"pointerup",this.handlePointerUp),Wd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ei(this.updatePoint)}}function A0(t,e){return e?{point:e(t.point)}:t}function tC(t,e){return{x:t.x-e.x,y:t.y-e.y}}function C0({point:t},e){return{point:t,delta:tC(t,KP(e)),offset:tC(t,dq(e)),velocity:hq(e,.1)}}function dq(t){return t[0]}function KP(t){return t[t.length-1]}function hq(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=KP(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ws(e)));)n--;if(!r)return{x:0,y:0};const o=_s(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function fq(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?dn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?dn(n,t,r.max):Math.min(t,n)),t}function nC(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function mq(t,{top:e,left:n,bottom:r,right:i}){return{x:nC(t.x,n,i),y:nC(t.y,e,r)}}function rC(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function pq(t,e){return{x:rC(t.x,e.x),y:rC(t.y,e.y)}}function gq(t,e){let n=.5;const r=Er(t),i=Er(e);return i>r?n=ec(e.min,e.max-r,t.min):r>i&&(n=ec(t.min,t.max-i,e.min)),Ns(0,1,n)}function vq(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Jb=.35;function yq(t=Jb){return t===!1?t=0:t===!0&&(t=Jb),{x:iC(t,"left","right"),y:iC(t,"top","bottom")}}function iC(t,e,n){return{min:sC(t,e),max:sC(t,n)}}function sC(t,e){return typeof t=="number"?t:t[e]||0}const bq=new WeakMap;class xq{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=y=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Wh(y).point)},l=(y,x)=>{const{drag:E,dragPropagation:R,onDragStart:P}=this.getProps();if(E&&!R&&(this.openDragLock&&this.openDragLock(),this.openDragLock=EH(E),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bi(O=>{let B=this.getAxisMotionValue(O).get()||0;if(Ss.test(B)){const{projection:F}=this.visualElement;if(F&&F.layout){const Y=F.layout.layoutBox[O];Y&&(B=Er(Y)*(parseFloat(B)/100))}}this.originPoint[O]=B}),P&&Vt.postRender(()=>P(y,x)),Yb(this.visualElement,"transform");const{animationState:V}=this.visualElement;V&&V.setActive("whileDrag",!0)},d=(y,x)=>{this.latestPointerEvent=y,this.latestPanInfo=x;const{dragPropagation:E,dragDirectionLock:R,onDirectionLock:P,onDrag:V}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:O}=x;if(R&&this.currentDirection===null){this.currentDirection=wq(O),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",x.point,O),this.updateAxis("y",x.point,O),this.visualElement.render(),V&&V(y,x)},c=(y,x)=>{this.latestPointerEvent=y,this.latestPanInfo=x,this.stop(y,x),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>bi(y=>this.getAnimationState(y)==="paused"&&this.getAxisMotionValue(y).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new WP(e,{onSessionStart:o,onStart:l,onMove:d,onSessionEnd:c,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:r,contextWindow:GP(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!r)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:d}=this.getProps();d&&Vt.postRender(()=>d(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Am(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=fq(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Eu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=mq(r.layoutBox,e):this.constraints=!1,this.elastic=yq(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&bi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=vq(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Eu(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=uq(r,i.root,this.visualElement.getTransformPagePoint());let l=pq(i.layout.layoutBox,o);if(n){const d=n(eq(l));this.hasMutatedConstraints=!!d,d&&(l=zP(d))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:d}=this.getProps(),c=this.constraints||{},m=bi(p=>{if(!Am(p,n,this.currentDirection))return;let y=c&&c[p]||{};l&&(y={min:0,max:0});const x=i?200:1e6,E=i?40:1e7,R={type:"inertia",velocity:r?e[p]:0,bounceStiffness:x,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...o,...y};return this.startAxisValueAnimation(p,R)});return Promise.all(m).then(d)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Yb(this.visualElement,e),r.start(x1(e,r,0,n,this.visualElement,!1))}stopAnimation(){bi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){bi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){bi(n=>{const{drag:r}=this.getProps();if(!Am(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:d}=i.layout.layoutBox[n];o.set(e[n]-dn(l,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Eu(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};bi(l=>{const d=this.getAxisMotionValue(l);if(d&&this.constraints!==!1){const c=d.get();i[l]=gq({min:c,max:c},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),bi(l=>{if(!Am(l,e,null))return;const d=this.getAxisMotionValue(l),{min:c,max:m}=this.constraints[l];d.set(dn(c,m,i[l]))})}addListeners(){if(!this.visualElement.current)return;bq.set(this.visualElement,this);const e=this.visualElement.current,n=Wd(e,"pointerdown",c=>{const{drag:m,dragListener:p=!0}=this.getProps();m&&p&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Eu(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Vt.read(r);const l=mh(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:m})=>{this.isDragging&&m&&(bi(p=>{const y=this.getAxisMotionValue(p);y&&(this.originPoint[p]+=c[p].translate,y.set(y.get()+c[p].translate))}),this.visualElement.render())});return()=>{l(),n(),o(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:l=Jb,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:l,dragMomentum:d}}}function Am(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function wq(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class _q extends So{constructor(e){super(e),this.removeGroupControls=Dr,this.removeListeners=Dr,this.controls=new xq(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Dr}unmount(){this.removeGroupControls(),this.removeListeners()}}const aC=t=>(e,n)=>{t&&Vt.postRender(()=>t(e,n))};class Sq extends So{constructor(){super(...arguments),this.removePointerDownListener=Dr}onPointerDown(e){this.session=new WP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:GP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:aC(e),onStart:aC(n),onMove:r,onEnd:(o,l)=>{delete this.session,i&&Vt.postRender(()=>i(o,l))}}}mount(){this.removePointerDownListener=Wd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function oC(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const yd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ot.test(t))t=parseFloat(t);else return t;const n=oC(t,e.target.x),r=oC(t,e.target.y);return`${n}% ${r}%`}},Tq={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=yo.parse(t);if(i.length>5)return r;const o=yo.createTransformer(t),l=typeof i[0]!="number"?1:0,d=n.x.scale*e.x,c=n.y.scale*e.y;i[0+l]/=d,i[1+l]/=c;const m=dn(d,c,.5);return typeof i[2+l]=="number"&&(i[2+l]/=m),typeof i[3+l]=="number"&&(i[3+l]/=m),o(i)}};let lC=!1;class Eq extends A.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;d$(Aq),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),lC&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),rp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,{projection:l}=r;return l&&(l.isPresent=o,lC=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||Vt.postRender(()=>{const d=l.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),l1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function YP(t){const[e,n]=wP(),r=A.useContext(zw);return h.jsx(Eq,{...t,layoutGroup:r,switchLayoutGroup:A.useContext(AP),isPresent:e,safeToRemove:n})}const Aq={borderRadius:{...yd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:yd,borderTopRightRadius:yd,borderBottomLeftRadius:yd,borderBottomRightRadius:yd,boxShadow:Tq};function Cq(t,e,n){const r=Qn(t)?t:Di(t);return r.start(x1("",r,e,n)),r.animation}const Nq=(t,e)=>t.depth-e.depth;class Rq{constructor(){this.children=[],this.isDirty=!1}add(e){Fw(this.children,e),this.isDirty=!0}remove(e){Hw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Nq),this.isDirty=!1,this.children.forEach(e)}}function Iq(t,e){const n=Or.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(Ei(r),t(o-e))};return Vt.setup(r,!0),()=>Ei(r)}const XP=["TopLeft","TopRight","BottomLeft","BottomRight"],Mq=XP.length,uC=t=>typeof t=="string"?parseFloat(t):t,cC=t=>typeof t=="number"||ot.test(t);function jq(t,e,n,r,i,o){i?(t.opacity=dn(0,n.opacity??1,Pq(r)),t.opacityExit=dn(e.opacity??1,0,Oq(r))):o&&(t.opacity=dn(e.opacity??1,n.opacity??1,r));for(let l=0;l<Mq;l++){const d=`border${XP[l]}Radius`;let c=dC(e,d),m=dC(n,d);if(c===void 0&&m===void 0)continue;c||(c=0),m||(m=0),c===0||m===0||cC(c)===cC(m)?(t[d]=Math.max(dn(uC(c),uC(m),r),0),(Ss.test(m)||Ss.test(c))&&(t[d]+="%")):t[d]=m}(e.rotate||n.rotate)&&(t.rotate=dn(e.rotate||0,n.rotate||0,r))}function dC(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Pq=QP(0,.5,Uj),Oq=QP(.5,.95,Dr);function QP(t,e,n){return r=>r<t?0:r>e?1:n(ec(t,e,r))}function hC(t,e){t.min=e.min,t.max=e.max}function yi(t,e){hC(t.x,e.x),hC(t.y,e.y)}function fC(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function mC(t,e,n,r,i){return t-=e,t=Hp(t,1/n,r),i!==void 0&&(t=Hp(t,1/i,r)),t}function Dq(t,e=0,n=1,r=.5,i,o=t,l=t){if(Ss.test(e)&&(e=parseFloat(e),e=dn(l.min,l.max,e/100)-l.min),typeof e!="number")return;let d=dn(o.min,o.max,r);t===o&&(d-=e),t.min=mC(t.min,e,n,d,i),t.max=mC(t.max,e,n,d,i)}function pC(t,e,[n,r,i],o,l){Dq(t,e[n],e[r],e[i],e.scale,o,l)}const kq=["x","scaleX","originX"],Lq=["y","scaleY","originY"];function gC(t,e,n,r){pC(t.x,e,kq,n?n.x:void 0,r?r.x:void 0),pC(t.y,e,Lq,n?n.y:void 0,r?r.y:void 0)}function vC(t){return t.translate===0&&t.scale===1}function ZP(t){return vC(t.x)&&vC(t.y)}function yC(t,e){return t.min===e.min&&t.max===e.max}function Vq(t,e){return yC(t.x,e.x)&&yC(t.y,e.y)}function bC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function JP(t,e){return bC(t.x,e.x)&&bC(t.y,e.y)}function xC(t){return Er(t.x)/Er(t.y)}function wC(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Uq{constructor(){this.members=[]}add(e){Fw(this.members,e),e.scheduleRender()}remove(e){if(Hw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function zq(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,l=n?.z||0;if((i||o||l)&&(r=`translate3d(${i}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:p,rotateX:y,rotateY:x,skewX:E,skewY:R}=n;m&&(r=`perspective(${m}px) ${r}`),p&&(r+=`rotate(${p}deg) `),y&&(r+=`rotateX(${y}deg) `),x&&(r+=`rotateY(${x}deg) `),E&&(r+=`skewX(${E}deg) `),R&&(r+=`skewY(${R}deg) `)}const d=t.x.scale*e.x,c=t.y.scale*e.y;return(d!==1||c!==1)&&(r+=`scale(${d}, ${c})`),r||"none"}const N0=["","X","Y","Z"],Bq=1e3;let Fq=0;function R0(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function eO(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=DP(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Vt,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&eO(r)}function tO({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},d=e?.()){this.id=Fq++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(qq),this.nodes.forEach(Yq),this.nodes.forEach(Xq),this.nodes.forEach(Gq)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Rq)}addEventListener(l,d){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new qw),this.eventHandlers.get(l).add(d)}notifyListeners(l,...d){const c=this.eventHandlers.get(l);c&&c.notify(...d)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=c1(l)&&!zH(l),this.instance=l;const{layoutId:d,layout:c,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||d)&&(this.isLayoutDirty=!0),t){let p,y=0;const x=()=>this.root.updateBlockedByResize=!1;Vt.read(()=>{y=window.innerWidth}),t(l,()=>{const E=window.innerWidth;E!==y&&(y=E,this.root.updateBlockedByResize=!0,p&&p(),p=Iq(x,250),rp.hasAnimatedSinceResize&&(rp.hasAnimatedSinceResize=!1,this.nodes.forEach(TC)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||c)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:y,hasRelativeLayoutChanged:x,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||m.getDefaultTransition()||tG,{onLayoutAnimationStart:P,onLayoutAnimationComplete:V}=m.getProps(),O=!this.targetLayout||!JP(this.targetLayout,E),B=!y&&x;if(this.options.layoutRoot||this.resumeFrom||B||y&&(O||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...s1(R,"layout"),onPlay:P,onComplete:V};(m.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(p,B)}else y||TC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ei(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Qq),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&eO(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const y=this.path[p];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:d,layout:c}=this.options;if(d===void 0&&!c)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_C);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(SC);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Kq),this.nodes.forEach(Hq),this.nodes.forEach($q)):this.nodes.forEach(SC),this.clearAllSnapshots();const d=Or.now();Kn.delta=Ns(0,1e3/60,d-Kn.timestamp),Kn.timestamp=d,Kn.isProcessing=!0,b0.update.process(Kn),b0.preRender.process(Kn),b0.render.process(Kn),Kn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,l1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Wq),this.sharedNodes.forEach(Zq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Vt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Vt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Er(this.snapshot.measuredBox.x)&&!Er(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(d=!1),d&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!ZP(this.projectionDelta),c=this.getTransformTemplate(),m=c?c(this.latestValues,""):void 0,p=m!==this.prevTransformTemplateValue;l&&this.instance&&(d||el(this.latestValues)||p)&&(i(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const d=this.measurePageBox();let c=this.removeElementScroll(d);return l&&(c=this.removeTransform(c)),nG(c),{animationId:this.root.animationId,measuredBox:d,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Tn();const d=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(rG))){const{scroll:m}=this.root;m&&(Cu(d.x,m.offset.x),Cu(d.y,m.offset.y))}return d}removeElementScroll(l){const d=Tn();if(yi(d,l),this.scroll?.wasRoot)return d;for(let c=0;c<this.path.length;c++){const m=this.path[c],{scroll:p,options:y}=m;m!==this.root&&p&&y.layoutScroll&&(p.wasRoot&&yi(d,l),Cu(d.x,p.offset.x),Cu(d.y,p.offset.y))}return d}applyTransform(l,d=!1){const c=Tn();yi(c,l);for(let m=0;m<this.path.length;m++){const p=this.path[m];!d&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Nu(c,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),el(p.latestValues)&&Nu(c,p.latestValues)}return el(this.latestValues)&&Nu(c,this.latestValues),c}removeTransform(l){const d=Tn();yi(d,l);for(let c=0;c<this.path.length;c++){const m=this.path[c];if(!m.instance||!el(m.latestValues))continue;Qb(m.latestValues)&&m.updateSnapshot();const p=Tn(),y=m.measurePageBox();yi(p,y),gC(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,p)}return el(this.latestValues)&&gC(d,this.latestValues),d}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Kn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==d;if(!(l||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:y}=this.options;if(!(!this.layout||!(p||y))){if(this.resolvedRelativeTargetAt=Kn.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tn(),this.relativeTargetOrigin=Tn(),Yd(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),yi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Tn(),this.targetWithTransforms=Tn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),oq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yi(this.target,this.layout.layoutBox),$P(this.target,this.targetDelta)):yi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tn(),this.relativeTargetOrigin=Tn(),Yd(this.relativeTargetOrigin,this.target,x.target),yi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Qb(this.parent.latestValues)||HP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),d=!!this.resumingFrom||this!==l;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Kn.timestamp&&(c=!1),c)return;const{layout:m,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||p))return;yi(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,x=this.treeScale.y;lq(this.layoutCorrected,this.treeScale,this.path,d),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Tn());const{target:E}=l;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(fC(this.prevProjectionDelta.x,this.projectionDelta.x),fC(this.prevProjectionDelta.y,this.projectionDelta.y)),Kd(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==x||!wC(this.projectionDelta.x,this.prevProjectionDelta.x)||!wC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Au(),this.projectionDelta=Au(),this.projectionDeltaWithTransform=Au()}setAnimationOrigin(l,d=!1){const c=this.snapshot,m=c?c.latestValues:{},p={...this.latestValues},y=Au();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const x=Tn(),E=c?c.source:void 0,R=this.layout?this.layout.source:void 0,P=E!==R,V=this.getStack(),O=!V||V.members.length<=1,B=!!(P&&!O&&this.options.crossfade===!0&&!this.path.some(eG));this.animationProgress=0;let F;this.mixTargetDelta=Y=>{const M=Y/1e3;EC(y.x,l.x,M),EC(y.y,l.y,M),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Yd(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Jq(this.relativeTarget,this.relativeTargetOrigin,x,M),F&&Vq(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=Tn()),yi(F,this.relativeTarget)),P&&(this.animationValues=p,jq(p,m,this.latestValues,M,B,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ei(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Vt.update(()=>{rp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Di(0)),this.currentAnimation=Cq(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),l.onUpdate&&l.onUpdate(d)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Bq),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:d,target:c,layout:m,latestValues:p}=l;if(!(!d||!c||!m)){if(this!==l&&this.layout&&m&&nO(this.options.animationType,this.layout.layoutBox,m.layoutBox)){c=this.target||Tn();const y=Er(this.layout.layoutBox.x);c.x.min=l.target.x.min,c.x.max=c.x.min+y;const x=Er(this.layout.layoutBox.y);c.y.min=l.target.y.min,c.y.max=c.y.min+x}yi(d,c),Nu(d,p),Kd(this.projectionDeltaWithTransform,this.layoutCorrected,d,p)}}registerSharedNode(l,d){this.sharedNodes.has(l)||this.sharedNodes.set(l,new Uq),this.sharedNodes.get(l).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:d,preserveFollowOpacity:c}={}){const m=this.getStack();m&&m.promote(this,c),l&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let d=!1;const{latestValues:c}=l;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(d=!0),!d)return;const m={};c.z&&R0("z",l,m,this.animationValues);for(let p=0;p<N0.length;p++)R0(`rotate${N0[p]}`,l,m,this.animationValues),R0(`skew${N0[p]}`,l,m,this.animationValues);l.render();for(const p in m)l.setStaticValue(p,m[p]),this.animationValues&&(this.animationValues[p]=m[p]);l.scheduleRender()}applyProjectionStyles(l,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=np(d?.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=np(d?.pointerEvents)||""),this.hasProjected&&!el(this.latestValues)&&(l.transform=c?c({},""):"none",this.hasProjected=!1);return}l.visibility="";const p=m.animationValues||m.latestValues;this.applyTransformsToTarget();let y=zq(this.projectionDeltaWithTransform,this.treeScale,p);c&&(y=c(p,y)),l.transform=y;const{x,y:E}=this.projectionDelta;l.transformOrigin=`${x.origin*100}% ${E.origin*100}% 0`,m.animationValues?l.opacity=m===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=m===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const R in hh){if(p[R]===void 0)continue;const{correct:P,applyTo:V,isCSSVariable:O}=hh[R],B=y==="none"?p[R]:P(p[R],m);if(V){const F=V.length;for(let Y=0;Y<F;Y++)l[V[Y]]=B}else O?this.options.visualElement.renderState.vars[R]=B:l[R]=B}this.options.layoutId&&(l.pointerEvents=m===this?np(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(_C),this.root.sharedNodes.clear()}}}function Hq(t){t.updateLayout()}function $q(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?bi(p=>{const y=o?e.measuredBox[p]:e.layoutBox[p],x=Er(y);y.min=n[p].min,y.max=y.min+x}):nO(i,e.layoutBox,n)&&bi(p=>{const y=o?e.measuredBox[p]:e.layoutBox[p],x=Er(n[p]);y.max=y.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+x)});const l=Au();Kd(l,n,e.layoutBox);const d=Au();o?Kd(d,t.applyTransform(r,!0),e.measuredBox):Kd(d,n,e.layoutBox);const c=!ZP(l);let m=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:y,layout:x}=p;if(y&&x){const E=Tn();Yd(E,e.layoutBox,y.layoutBox);const R=Tn();Yd(R,n,x.layoutBox),JP(E,R)||(m=!0),p.options.layoutRoot&&(t.relativeTarget=R,t.relativeTargetOrigin=E,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:l,hasLayoutChanged:c,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function qq(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Gq(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Wq(t){t.clearSnapshot()}function _C(t){t.clearMeasurements()}function SC(t){t.isLayoutDirty=!1}function Kq(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function TC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Yq(t){t.resolveTargetDelta()}function Xq(t){t.calcProjection()}function Qq(t){t.resetSkewAndRotation()}function Zq(t){t.removeLeadSnapshot()}function EC(t,e,n){t.translate=dn(e.translate,0,n),t.scale=dn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function AC(t,e,n,r){t.min=dn(e.min,n.min,r),t.max=dn(e.max,n.max,r)}function Jq(t,e,n,r){AC(t.x,e.x,n.x,r),AC(t.y,e.y,n.y,r)}function eG(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const tG={duration:.45,ease:[.4,0,.1,1]},CC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),NC=CC("applewebkit/")&&!CC("chrome/")?Math.round:Dr;function RC(t){t.min=NC(t.min),t.max=NC(t.max)}function nG(t){RC(t.x),RC(t.y)}function nO(t,e,n){return t==="position"||t==="preserve-aspect"&&!aq(xC(e),xC(n),.2)}function rG(t){return t!==t.root&&t.scroll?.wasRoot}const iG=tO({attachResizeListener:(t,e)=>mh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),I0={current:void 0},rO=tO({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!I0.current){const t=new iG({});t.mount(window),t.setOptions({layoutScroll:!0}),I0.current=t}return I0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),sG={pan:{Feature:Sq},drag:{Feature:_q,ProjectionNode:rO,MeasureLayout:YP}};function IC(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&Vt.postRender(()=>o(e,Wh(e)))}class aG extends So{mount(){const{current:e}=this.node;e&&(this.unmount=AH(e,(n,r)=>(IC(this.node,r,"Start"),i=>IC(this.node,i,"End"))))}unmount(){}}class oG extends So{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=$h(mh(this.node.current,"focus",()=>this.onFocus()),mh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function MC(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&Vt.postRender(()=>o(e,Wh(e)))}class lG extends So{mount(){const{current:e}=this.node;e&&(this.unmount=IH(e,(n,r)=>(MC(this.node,r,"Start"),(i,{success:o})=>MC(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ex=new WeakMap,M0=new WeakMap,uG=t=>{const e=ex.get(t.target);e&&e(t)},cG=t=>{t.forEach(uG)};function dG({root:t,...e}){const n=t||document;M0.has(n)||M0.set(n,{});const r=M0.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(cG,{root:t,...e})),r[i]}function hG(t,e,n){const r=dG(e);return ex.set(t,n),r.observe(t),()=>{ex.delete(t),r.unobserve(t)}}const fG={some:0,all:1};class mG extends So{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:fG[i]},d=c=>{const{isIntersecting:m}=c;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:p,onViewportLeave:y}=this.node.getProps(),x=m?p:y;x&&x(c)};return hG(this.node.current,l,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(pG(e,n))&&this.startObserver()}unmount(){}}function pG({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const gG={inView:{Feature:mG},tap:{Feature:lG},focus:{Feature:oG},hover:{Feature:aG}},vG={layout:{ProjectionNode:rO,MeasureLayout:YP}},tx={current:null},iO={current:!1};function yG(){if(iO.current=!0,!!Bw)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>tx.current=t.matches;t.addEventListener("change",e),e()}else tx.current=!1}const bG=new WeakMap;function xG(t,e,n){for(const r in e){const i=e[r],o=n[r];if(Qn(i))t.addValue(r,i);else if(Qn(o))t.addValue(r,Di(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,Di(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const jC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class wG{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:l},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=i1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Or.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Vt.render(this.render,!1,!0))};const{latestValues:c,renderState:m}=l;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=d,this.blockInitialAnimation=!!o,this.isControllingVariants=zg(n),this.isVariantNode=TP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in y){const E=y[x];c[x]!==void 0&&Qn(E)&&E.set(c[x],!1)}}mount(e){this.current=e,bG.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),iO.current||yG(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:tx.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ei(this.notifyUpdate),Ei(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=dc.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&Vt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in tc){const n=tc[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<jC.length;r++){const i=jC[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,l=e[o];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=xG(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Di(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(Ij(r)||jj(r))?r=parseFloat(r):!$H(r)&&yo.test(n)&&(r=fP(e,n)),this.setBaseTarget(e,Qn(r)?r.get():r)),Qn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=v1(this.props,n,this.presenceContext?.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Qn(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new qw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class sO extends wG{constructor(){super(...arguments),this.KeyframeResolver=_H}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Qn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function aO(t,{style:e,vars:n},r,i){const o=t.style;let l;for(l in e)o[l]=e[l];i?.applyProjectionStyles(o,r);for(l in n)o.setProperty(l,n[l])}function _G(t){return window.getComputedStyle(t)}class SG extends sO{constructor(){super(...arguments),this.type="html",this.renderInstance=aO}readValueFromInstance(e,n){if(dc.has(n))return this.projection?.isProjecting?Fb(n):FF(e,n);{const r=_G(e),i=(Yw(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return qP(e,n)}build(e,n,r){m1(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return y1(e,n,r)}}const oO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function TG(t,e,n,r){aO(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(oO.has(i)?i:f1(i),e.attrs[i])}class EG extends sO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(dc.has(n)){const r=hP(n);return r&&r.default||0}return n=oO.has(n)?n:f1(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return OP(e,n,r)}build(e,n,r){IP(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){TG(e,n,r,i)}mount(e){this.isSVGTag=jP(e.tagName),super.mount(e)}}const AG=(t,e)=>g1(t)?new EG(e):new SG(e,{allowProjection:t!==A.Fragment}),CG=N$({...Z$,...gG,...sG,...vG},AG),ce=JH(CG),NG=50,PC=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),RG=()=>({time:0,x:PC(),y:PC()}),IG={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function OC(t,e,n,r){const i=n[e],{length:o,position:l}=IG[e],d=i.current,c=n.time;i.current=t[`scroll${l}`],i.scrollLength=t[`scroll${o}`]-t[`client${o}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=ec(0,i.scrollLength,i.current);const m=r-c;i.velocity=m>NG?0:Gw(i.current-d,m)}function MG(t,e,n){OC(t,"x",e,n),OC(t,"y",e,n),e.time=n}function jG(t,e){const n={x:0,y:0};let r=t;for(;r&&r!==e;)if(o1(r))n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const i=r.getBoundingClientRect();r=r.parentElement;const o=r.getBoundingClientRect();n.x+=i.left-o.left,n.y+=i.top-o.top}else if(r instanceof SVGGraphicsElement){const{x:i,y:o}=r.getBBox();n.x+=i,n.y+=o;let l=null,d=r.parentNode;for(;!l;)d.tagName==="svg"&&(l=d),d=r.parentNode;r=l}else break;return n}const nx={start:0,center:.5,end:1};function DC(t,e,n=0){let r=0;if(t in nx&&(t=nx[t]),typeof t=="string"){const i=parseFloat(t);t.endsWith("px")?r=i:t.endsWith("%")?t=i/100:t.endsWith("vw")?r=i/100*document.documentElement.clientWidth:t.endsWith("vh")?r=i/100*document.documentElement.clientHeight:t=i}return typeof t=="number"&&(r=e*t),n+r}const PG=[0,0];function OG(t,e,n,r){let i=Array.isArray(t)?t:PG,o=0,l=0;return typeof t=="number"?i=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?i=t.split(" "):i=[t,nx[t]?t:"0"]),o=DC(i[0],n,r),l=DC(i[1],e),o-l}const DG={All:[[0,0],[1,1]]},kG={x:0,y:0};function LG(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function VG(t,e,n){const{offset:r=DG.All}=n,{target:i=t,axis:o="y"}=n,l=o==="y"?"height":"width",d=i!==t?jG(i,t):kG,c=i===t?{width:t.scrollWidth,height:t.scrollHeight}:LG(i),m={width:t.clientWidth,height:t.clientHeight};e[o].offset.length=0;let p=!e[o].interpolate;const y=r.length;for(let x=0;x<y;x++){const E=OG(r[x],m[l],c[l],d[o]);!p&&E!==e[o].interpolatorOffsets[x]&&(p=!0),e[o].offset[x]=E}p&&(e[o].interpolate=t1(e[o].offset,Jj(r),{clamp:!1}),e[o].interpolatorOffsets=[...e[o].offset]),e[o].progress=Ns(0,1,e[o].interpolate(e[o].current))}function UG(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let r=e;for(;r&&r!==t;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function zG(t,e,n,r={}){return{measure:i=>{UG(t,r.target,n),MG(t,n,i),(r.offset||r.target)&&VG(t,n,r)},notify:()=>e(n)}}const bd=new WeakMap,kC=new WeakMap,j0=new WeakMap,LC=t=>t===document.scrollingElement?window:t;function lO(t,{container:e=document.scrollingElement,...n}={}){if(!e)return Dr;let r=j0.get(e);r||(r=new Set,j0.set(e,r));const i=RG(),o=zG(e,t,i,n);if(r.add(o),!bd.has(e)){const d=()=>{for(const y of r)y.measure(Kn.timestamp);Vt.preUpdate(c)},c=()=>{for(const y of r)y.notify()},m=()=>Vt.read(d);bd.set(e,m);const p=LC(e);window.addEventListener("resize",m,{passive:!0}),e!==document.documentElement&&kC.set(e,UH(e,m)),p.addEventListener("scroll",m,{passive:!0}),m()}const l=bd.get(e);return Vt.read(l,!1,!0),()=>{Ei(l);const d=j0.get(e);if(!d||(d.delete(o),d.size))return;const c=bd.get(e);bd.delete(e),c&&(LC(e).removeEventListener("scroll",c),kC.get(e)?.(),window.removeEventListener("resize",c))}}const VC=new Map;function BG(t){const e={value:0},n=lO(r=>{e.value=r[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function uO({source:t,container:e,...n}){const{axis:r}=n;t&&(e=t);const i=VC.get(e)??new Map;VC.set(e,i);const o=n.target??"self",l=i.get(o)??{},d=r+(n.offset??[]).join(",");return l[d]||(l[d]=!n.target&&rP()?new ScrollTimeline({source:e,axis:r}):BG({container:e,...n})),l[d]}function FG(t,e){const n=uO(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:r=>(r.pause(),xP(i=>{r.time=r.duration*i},n))})}function HG(t){return t.length===2}function $G(t,e){return HG(t)?lO(n=>{t(n[e.axis].progress,n)},e):xP(t,uO(e))}function qG(t,{axis:e="y",container:n=document.scrollingElement,...r}={}){if(!n)return Dr;const i={axis:e,container:n,...r};return typeof t=="function"?$G(t,i):FG(t,i)}const GG=()=>({scrollX:Di(0),scrollY:Di(0),scrollXProgress:Di(0),scrollYProgress:Di(0)}),Cm=t=>t?!t.current:!1;function w1({container:t,target:e,...n}={}){const r=Cl(GG),i=A.useRef(null),o=A.useRef(!1),l=A.useCallback(()=>(i.current=qG((d,{x:c,y:m})=>{r.scrollX.set(c.current),r.scrollXProgress.set(c.progress),r.scrollY.set(m.current),r.scrollYProgress.set(m.progress)},{...n,container:t?.current||void 0,target:e?.current||void 0}),()=>{i.current?.()}),[t,e,JSON.stringify(n.offset)]);return Hh(()=>{if(o.current=!1,Cm(t)||Cm(e)){o.current=!0;return}else return l()},[l]),A.useEffect(()=>{if(o.current)return lh(!Cm(t)),lh(!Cm(e)),l()},[l]),r}function Ru(t){const e=Cl(()=>Di(t)),{isStatic:n}=A.useContext(hc);if(n){const[,r]=A.useState(t);A.useEffect(()=>e.on("change",r),[])}return e}function cO(t,e){const n=Ru(e()),r=()=>n.set(e());return r(),Hh(()=>{const i=()=>Vt.preRender(r,!1,!0),o=t.map(l=>l.on("change",i));return()=>{o.forEach(l=>l()),Ei(r)}}),n}function WG(t){Gd.current=[],t();const e=cO(Gd.current,t);return Gd.current=void 0,e}function ro(t,e,n,r){if(typeof t=="function")return WG(t);const i=typeof e=="function"?e:BH(e,n,r);return Array.isArray(t)?UC(t,i):UC([t],([o])=>i(o))}function UC(t,e){const n=Cl(()=>[]);return cO(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function Nm(t,e={}){const{isStatic:n}=A.useContext(hc),r=()=>Qn(t)?t.get():t;if(n)return ro(r);const i=Ru(r());return A.useInsertionEffect(()=>FH(i,t,e),[i,JSON.stringify(e)]),i}function KG(t){const e=A.useRef(0),{isStatic:n}=A.useContext(hc);A.useEffect(()=>{if(n)return;const r=({timestamp:i,delta:o})=>{e.current||(e.current=i),t(i-e.current,o)};return Vt.update(r,!0),()=>Ei(r)},[t])}function YG(t){t.values.forEach(e=>e.stop())}function rx(t,e){[...e].reverse().forEach(r=>{const i=t.getVariant(r);i&&b1(t,i),t.variantChildren&&t.variantChildren.forEach(o=>{rx(o,e)})})}function XG(t,e){if(Array.isArray(e))return rx(t,e);if(typeof e=="string")return rx(t,[e]);b1(t,e)}function QG(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,r){const i=[];return t.forEach(o=>{i.push(LP(o,n,{transitionOverride:r}))}),Promise.all(i)},set(n){return t.forEach(r=>{XG(r,n)})},stop(){t.forEach(n=>{YG(n)})},mount(){return()=>{e.stop()}}};return e}function ZG(){const t=Cl(QG);return Hh(t.mount,[]),t}const JG=ZG,dO=A.createContext(null),eW=({children:t})=>{const[e,n]=A.useState([]);A.useEffect(()=>{const m=localStorage.getItem("cart");m&&n(JSON.parse(m))},[]),A.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);const r=m=>{n(p=>p.find(x=>x.id===m.id)?p.map(x=>x.id===m.id?{...x,quantity:x.quantity+1}:x):[...p,{...m,quantity:1}])},i=m=>{n(p=>p.filter(y=>y.id!==m))},o=(m,p)=>{p<=0?i(m):n(y=>y.map(x=>x.id===m?{...x,quantity:p}:x))},l=()=>{n([])},d=A.useMemo(()=>e.reduce((m,p)=>m+p.quantity,0),[e]),c=A.useMemo(()=>e.reduce((m,p)=>m+(p.price||0)*p.quantity,0),[e]);return h.jsx(dO.Provider,{value:{cart:e,totalItems:d,totalPrice:c,addToCart:r,removeFromCart:i,updateQuantity:o,clearCart:l},children:t})},Bg=()=>{const t=A.useContext(dO);if(!t)throw new Error("useCart must be used within a CartProvider");return t},hO=A.createContext(null),tW=({children:t})=>{const{user:e}=Cr(),[n,r]=A.useState([]);A.useEffect(()=>{if(!e){r([]);return}const m=cn(xt(Ve,"messages"),rn("read","==",!1)),p=Xu(m,y=>{const x=new Map;y.docs.forEach(E=>{const R=E.data();if(R.isSystemMessage||R.senderId===e.uid||!R.chatId)return;const P=R.chatId;x.has(P)||x.set(P,{chatId:P,count:0,lastMessageTime:R.timestamp?.toDate()||new Date,lastMessage:R.text||"",otherUserId:R.senderId,otherUserName:R.senderName||"Unknown User"});const V=x.get(P);V.count+=1,R.timestamp?.toDate()>V.lastMessageTime&&(V.lastMessageTime=R.timestamp.toDate(),V.lastMessage=R.text||"")}),r(Array.from(x.values()))});return()=>p()},[e]);const i=m=>{r(p=>p.filter(y=>y.chatId!==m))},o=()=>{r([])},l=m=>n.some(p=>p.chatId===m),d=m=>{const p=n.find(y=>y.chatId===m);return p?p.count:0},c=A.useMemo(()=>n.reduce((m,p)=>m+p.count,0),[n]);return h.jsx(hO.Provider,{value:{unreadMessages:n,totalUnread:c,markAsRead:i,markAllAsRead:o,hasUnread:l,getUnreadCount:d},children:t})},Fg=()=>{const t=A.useContext(hO);if(!t)throw new Error("useUnreadMessages must be used within UnreadMessagesProvider");return t};function fO({isOpen:t,onClose:e,onConfirm:n,title:r,message:i,confirmText:o="Confirm",cancelText:l="Cancel",type:d="warning"}){const m=(()=>{switch(d){case"danger":return{icon:"text-red-500",confirmButton:"bg-red-600 hover:bg-red-700 text-white",iconBg:"bg-red-500/20"};case"warning":return{icon:"text-red-500",confirmButton:"bg-red-600 hover:bg-red-700 text-white",iconBg:"bg-red-500/20"};default:return{icon:"text-blue-500",confirmButton:"bg-blue-600 hover:bg-blue-700 text-white",iconBg:"bg-blue-500/20"}}})();return h.jsx(fn,{children:t&&h.jsxs(h.Fragment,{children:[h.jsx(ce.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50",onClick:e}),h.jsx(ce.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{duration:.2},className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:p=>p.stopPropagation(),children:h.jsxs("div",{className:"bg-neutral-900 border border-white/10 rounded-2xl shadow-2xl w-full max-w-md mx-4",children:[h.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${m.iconBg}`,children:h.jsx(Rj,{size:20,className:m.icon})}),h.jsx("h2",{className:"text-xl font-bold text-white",children:r})]}),h.jsx("button",{onClick:e,className:"text-white/60 hover:text-white transition-colors p-1",children:h.jsx(Ui,{size:20})})]}),h.jsxs("div",{className:"p-6",children:[h.jsx("p",{className:"text-white/80 text-base leading-relaxed mb-6",children:i}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[h.jsx("button",{onClick:e,className:"flex-1 px-4 py-3 rounded-lg border border-white/20 text-white hover:bg-white/5 transition-colors font-medium",children:l}),h.jsx("button",{onClick:()=>{n(),e()},className:`flex-1 px-4 py-3 rounded-lg transition-colors font-medium ${m.confirmButton}`,children:o})]})]})]})})]})})}const to=25,nW=[{to:"/dashboard",icon:h.jsx(Uw,{size:to}),label:"Home"},{to:"/search",icon:h.jsx(bl,{size:to}),label:"Search"},{to:"/add",icon:h.jsx(Ju,{size:to}),label:"Add"},{to:"/trade",icon:h.jsx(kw,{size:to}),label:"Activity"},{to:"/messages",icon:h.jsx(Zu,{size:to}),label:"Messages"}],rW=[{to:"/cart",icon:h.jsx(Vu,{size:to}),label:"Cart"},{to:"/user",icon:h.jsx(xl,{size:to}),label:"Profile"}];function iW(){const t=Hi(),e=Jn(),{totalItems:n}=Bg(),{totalUnread:r}=Fg(),{user:i,signOut:o}=Cr(),[l,d]=A.useState(null),[c,m]=A.useState(!1);A.useEffect(()=>{(async()=>{if(i)try{const{fetchUserData:x}=await Dw(async()=>{const{fetchUserData:R}=await Promise.resolve().then(()=>aD);return{fetchUserData:R}},[]),E=await x(i.uid);E?.username&&d(E.username)}catch(x){console.error("Error fetching user username:",x)}})()},[i]),A.useEffect(()=>{console.log("totalItems changed:",n),console.log("totalUnread changed:",r)},[n,r]);const p=async()=>{try{await o(),e("/")}catch(y){console.error("Error signing out:",y)}};return h.jsxs(h.Fragment,{children:[h.jsxs("aside",{className:"w-20 bg-primary-950 border-r border-white/10 flex flex-col items-center py-4 gap-4 fixed left-0 top-0 bottom-0 z-10",children:[h.jsx(Zr,{to:"/",children:h.jsx("img",{src:"/icon.png",alt:"logo",className:"w-10 h-10 mb-4"})}),nW.map(y=>{const x=t.pathname===y.to,E=y.to==="/messages",R=t.pathname.startsWith("/messages/"),P=V=>{V.preventDefault(),e("/messages",{replace:!0}),window.dispatchEvent(new CustomEvent("clearChatWindow"))};return E?h.jsxs("button",{onClick:P,className:`relative p-2 cursor-pointer rounded-lg transition-all duration-200 ${x||R?"bg-primary text-white":"text-white/60 hover:text-white"}`,children:[y.icon,r>0&&h.jsx(fn,{mode:"popLayout",children:h.jsx(ce.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:300,damping:20},className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-semibold w-5 h-5 flex items-center justify-center rounded-full",children:r>99?"99+":r},r)})]},y.to):h.jsx(Zr,{to:y.to,className:`relative p-2 rounded-lg transition-all duration-200 cursor-pointer ${x?"bg-primary text-white":"text-white/60 hover:text-white"}`,children:y.icon},y.to)}),h.jsxs("div",{className:"mt-auto flex flex-col gap-4",children:[rW.map(y=>{const x=t.pathname===y.to,E=y.to==="/cart",R=y.to==="/user",P=t.pathname.startsWith("/user/");return R?h.jsxs("button",{onClick:()=>{e(l?`/user/${l}`:"/user")},className:`relative p-2 rounded-lg transition-all duration-200 ${x||R&&P?"bg-primary text-white":"text-white/60 hover:text-white"}`,children:[y.icon,E&&n>0&&h.jsx(fn,{mode:"popLayout",children:h.jsx(ce.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:300,damping:20},className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-semibold w-5 h-5 flex items-center justify-center rounded-full",children:n},n)})]},y.to):h.jsxs(Zr,{to:y.to,className:`relative p-2 rounded-lg transition-all duration-200 cursor-pointer ${x?"bg-primary text-white":"text-white/60 hover:text-white"}`,children:[y.icon,E&&n>0&&h.jsx(fn,{mode:"popLayout",children:h.jsx(ce.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:300,damping:20},className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-semibold w-5 h-5 flex items-center justify-center rounded-full",children:n},n)})]},y.to)}),h.jsx("button",{onClick:()=>m(!0),className:"p-2 rounded-lg transition-all duration-200 text-red-400 hover:text-red-300 hover:bg-red-500/10 cursor-pointer",title:"Logout",children:h.jsx(Aj,{size:to})})]})]}),h.jsx(fO,{isOpen:c,onClose:()=>m(!1),onConfirm:p,title:"Logout",message:"Are you sure you want to logout? You'll need to sign in again to access your account.",confirmText:"Logout",cancelText:"Cancel",type:"warning"})]})}const Ka=24,sW=[{to:"/dashboard",icon:h.jsx(Uw,{size:Ka}),label:"Home"},{to:"/search",icon:h.jsx(bl,{size:Ka}),label:"Search"},{to:"/add",icon:h.jsx(Ju,{size:Ka}),label:"Add"},{to:"/trade",icon:h.jsx(kw,{size:Ka}),label:"Activity"},{to:"/messages",icon:h.jsx(Zu,{size:Ka}),label:"Messages"},{to:"/cart",icon:h.jsx(Vu,{size:Ka}),label:"Cart"},{to:"/user",icon:h.jsx(xl,{size:Ka}),label:"Profile"}];function mO(){const[t,e]=A.useState(!1),[n,r]=A.useState(!1),i=Hi(),o=Jn(),{totalItems:l}=Bg(),{totalUnread:d}=Fg(),{user:c,signOut:m}=Cr(),[p,y]=A.useState(null);A.useEffect(()=>{(async()=>{if(c)try{const{fetchUserData:B}=await Dw(async()=>{const{fetchUserData:Y}=await Promise.resolve().then(()=>aD);return{fetchUserData:Y}},void 0),F=await B(c.uid);F?.username&&y(F.username)}catch(B){console.error("Error fetching user username:",B)}})()},[c]);const x=()=>{e(!t)},E=O=>{e(!1),O==="/user"?p?o(`/user/${p}`,{replace:!0}):o("/user",{replace:!0}):o(O,{replace:!0})},R=async()=>{try{await m(),o("/")}catch(O){console.error("Error signing out:",O)}},P={closed:{opacity:0,x:"100%",transition:{duration:.3,ease:"easeInOut"}},open:{opacity:1,x:0,transition:{duration:.3,ease:"easeInOut"}}},V={closed:{opacity:0,x:20},open:{opacity:1,x:0}};return h.jsxs(h.Fragment,{children:[h.jsx(ce.button,{onClick:x,className:"fixed top-4 right-4 z-50 p-3 bg-neutral-900/80 backdrop-blur-sm rounded-xl border border-white/10 text-white hover:bg-neutral-800/80 transition-all duration-200",whileTap:{scale:.95},whileHover:{scale:1.05},children:h.jsx(fn,{mode:"wait",children:t?h.jsx(ce.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},transition:{duration:.2},children:h.jsx(Ui,{size:24})},"close"):h.jsx(ce.div,{initial:{rotate:90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:-90,opacity:0},transition:{duration:.2},children:h.jsx(fB,{size:24})},"menu")})}),h.jsx(fn,{children:t&&h.jsx(ce.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40",onClick:()=>e(!1)})}),h.jsx(fn,{children:t&&h.jsxs(ce.div,{variants:P,initial:"closed",animate:"open",exit:"closed",className:"fixed top-0 right-0 h-full w-80 max-w-[85vw] bg-neutral-900 border-l border-white/10 z-50 overflow-hidden",children:[h.jsx("div",{className:"p-6 border-b border-white/10",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("img",{src:"/icon.png",alt:"logo",className:"w-10 h-10"}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-xl font-bold text-white",children:"Mangrov"}),h.jsx("p",{className:"text-sm text-white/60",children:"Discover & Connect"})]})]})}),h.jsx("nav",{className:"flex-1 p-4",children:h.jsx("div",{className:"space-y-2",children:sW.map((O,B)=>{const F=i.pathname===O.to,Y=O.to==="/cart",M=O.to==="/messages",j=i.pathname.startsWith("/messages/"),C=O.to==="/user",I=i.pathname.startsWith("/user/");return h.jsx(ce.div,{variants:V,transition:{delay:B*.1},children:h.jsxs("button",{onClick:()=>E(O.to),className:`w-full flex items-center gap-4 p-4 rounded-xl transition-all duration-200 ${F||M&&j||C&&I?"bg-primary text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[h.jsxs("div",{className:"relative",children:[O.icon,Y&&l>0&&h.jsx(ce.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-semibold w-5 h-5 flex items-center justify-center rounded-full",children:l}),M&&d>0&&h.jsx(ce.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-semibold w-5 h-5 flex items-center justify-center rounded-full",children:d>99?"99+":d})]}),h.jsx("span",{className:"font-medium",children:O.label})]})},O.to)})})}),h.jsx("div",{className:"p-4 border-t border-white/10",children:h.jsxs("button",{onClick:()=>r(!0),className:"w-full flex items-center gap-4 p-4 rounded-xl text-red-400 hover:text-red-300 hover:bg-red-500/10 transition-all duration-200",children:[h.jsx(Aj,{size:Ka}),h.jsx("span",{className:"font-medium",children:"Logout"})]})}),h.jsx("div",{className:"p-4 border-t border-white/10",children:h.jsx("div",{className:"text-center",children:h.jsx("p",{className:"text-xs text-white/40",children:" 2025 Mangrov"})})})]})}),h.jsx(fO,{isOpen:n,onClose:()=>r(!1),onConfirm:R,title:"Logout",message:"Are you sure you want to logout? You'll need to sign in again to access your account.",confirmText:"Logout",cancelText:"Cancel",type:"warning"})]})}function aW(){const{isSignedIn:t,pending:e}=Cr(),n=Hi(),r=Jn(),i=!["/","/about","/terms-of-service","/privacy-policy","/reset-password","/auth/action"].includes(n.pathname);return A.useEffect(()=>{!e&&!t&&!["/","/about","/terms-of-service","/privacy-policy","/reset-password","/auth/action"].includes(n.pathname)&&r("/")},[t,n.pathname,e]),h.jsx(tW,{children:h.jsxs("div",{className:"min-h-screen font-inter bg-transparent-950 text-white",children:[i&&h.jsx("div",{className:"hidden lg:block",children:h.jsx(iW,{})}),i&&h.jsx("div",{className:"lg:hidden",children:h.jsx(mO,{})}),h.jsx("main",{className:`min-h-screen overflow-y-auto ${i?"lg:pl-20":""}`,children:h.jsx(fn,{mode:"wait",children:h.jsx(B7,{},n.pathname)})})]})})}const oW="#FF0069",pO=A.forwardRef(function({title:e="Instagram",color:n="currentColor",size:r=24,...i},o){return n==="default"&&(n=oW),h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,fill:n,viewBox:"0 0 24 24",ref:o,...i,children:[h.jsx("title",{children:e}),h.jsx("path",{d:"M7.0301.084c-1.2768.0602-2.1487.264-2.911.5634-.7888.3075-1.4575.72-2.1228 1.3877-.6652.6677-1.075 1.3368-1.3802 2.127-.2954.7638-.4956 1.6365-.552 2.914-.0564 1.2775-.0689 1.6882-.0626 4.947.0062 3.2586.0206 3.6671.0825 4.9473.061 1.2765.264 2.1482.5635 2.9107.308.7889.72 1.4573 1.388 2.1228.6679.6655 1.3365 1.0743 2.1285 1.38.7632.295 1.6361.4961 2.9134.552 1.2773.056 1.6884.069 4.9462.0627 3.2578-.0062 3.668-.0207 4.9478-.0814 1.28-.0607 2.147-.2652 2.9098-.5633.7889-.3086 1.4578-.72 2.1228-1.3881.665-.6682 1.0745-1.3378 1.3795-2.1284.2957-.7632.4966-1.636.552-2.9124.056-1.2809.0692-1.6898.063-4.948-.0063-3.2583-.021-3.6668-.0817-4.9465-.0607-1.2797-.264-2.1487-.5633-2.9117-.3084-.7889-.72-1.4568-1.3876-2.1228C21.2982 1.33 20.628.9208 19.8378.6165 19.074.321 18.2017.1197 16.9244.0645 15.6471.0093 15.236-.005 11.977.0014 8.718.0076 8.31.0215 7.0301.0839m.1402 21.6932c-1.17-.0509-1.8053-.2453-2.2287-.408-.5606-.216-.96-.4771-1.3819-.895-.422-.4178-.6811-.8186-.9-1.378-.1644-.4234-.3624-1.058-.4171-2.228-.0595-1.2645-.072-1.6442-.079-4.848-.007-3.2037.0053-3.583.0607-4.848.05-1.169.2456-1.805.408-2.2282.216-.5613.4762-.96.895-1.3816.4188-.4217.8184-.6814 1.3783-.9003.423-.1651 1.0575-.3614 2.227-.4171 1.2655-.06 1.6447-.072 4.848-.079 3.2033-.007 3.5835.005 4.8495.0608 1.169.0508 1.8053.2445 2.228.408.5608.216.96.4754 1.3816.895.4217.4194.6816.8176.9005 1.3787.1653.4217.3617 1.056.4169 2.2263.0602 1.2655.0739 1.645.0796 4.848.0058 3.203-.0055 3.5834-.061 4.848-.051 1.17-.245 1.8055-.408 2.2294-.216.5604-.4763.96-.8954 1.3814-.419.4215-.8181.6811-1.3783.9-.4224.1649-1.0577.3617-2.2262.4174-1.2656.0595-1.6448.072-4.8493.079-3.2045.007-3.5825-.006-4.848-.0608M16.953 5.5864A1.44 1.44 0 1 0 18.39 4.144a1.44 1.44 0 0 0-1.437 1.4424M5.8385 12.012c.0067 3.4032 2.7706 6.1557 6.173 6.1493 3.4026-.0065 6.157-2.7701 6.1506-6.1733-.0065-3.4032-2.771-6.1565-6.174-6.1498-3.403.0067-6.156 2.771-6.1496 6.1738M8 12.0077a4 4 0 1 1 4.008 3.9921A3.9996 3.9996 0 0 1 8 12.0077"})]})}),lW="#FF0000",gO=A.forwardRef(function({title:e="YouTube",color:n="currentColor",size:r=24,...i},o){return n==="default"&&(n=lW),h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,fill:n,viewBox:"0 0 24 24",ref:o,...i,children:[h.jsx("title",{children:e}),h.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})]})});function uW(){return h.jsxs("div",{className:"flex flex-col items-center justify-center sm:justify-start gap-6 w-full",children:[h.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-4 flex-wrap w-full",children:[h.jsx(Zr,{to:"/about",className:"border-2 border-primary rounded-lg bg-transparent tracking-widest text-white px-8 2xs:px-16 py-2 uppercase font-extrabold text-lg sm:text-xl hover:bg-primary transition-all duration-300 text-center",children:"About"}),h.jsx(Zr,{to:"https://instagram.com/_mangrov_",target:"_blank",children:h.jsx(pO,{className:"text-white w-8 h-8 sm:w-10 sm:h-10"})}),h.jsx(Zr,{to:"https://youtube.com",target:"_blank",children:h.jsx(gO,{className:"text-white w-8 h-8 sm:w-10 sm:h-10"})})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-2 sm:space-y-0 sm:space-x-6 text-neutral-400",children:[h.jsx("span",{className:"text-sm cursor-pointer hover:text-primary transition-colors",onClick:()=>window.location.href="/terms-of-service",children:"Terms of Service"}),h.jsx("span",{className:"hidden sm:inline text-sm",children:""}),h.jsx("span",{className:"text-sm cursor-pointer hover:text-primary transition-colors",onClick:()=>window.location.href="/privacy-policy",children:"Privacy Policy"})]})]})}function Nl({start:t,end:e,speed:n=40,className:r="",imgWidthTW:i="w-40",imgHeightTW:o="h-32"}){if(!t||!e)return null;const l=Ru(t.x),d=Ru(t.y),c=Ru(e.x),m=Ru(e.y),p=Nm(l,{damping:40,stiffness:10}),y=Nm(d,{damping:40,stiffness:10}),x=Nm(c,{damping:40,stiffness:10}),E=Nm(m,{damping:40,stiffness:10});A.useEffect(()=>{l.stop(),d.stop(),c.stop(),m.stop(),l.set(l.get()),d.set(d.get()),c.set(c.get()),m.set(m.get()),requestAnimationFrame(()=>{l.set(t.x),d.set(t.y),c.set(e.x),m.set(e.y)})},[t.x,t.y,e.x,e.y]);const R=ro([p,x],([T,U])=>U-T),P=ro([y,E],([T,U])=>U-T),V=ro([R,P],([T,U])=>Math.hypot(T,U)),O=ro([R,P],([T,U])=>Math.atan2(U,T)*(180/Math.PI)),B=Array.from({length:9},(T,U)=>`/strip/image${U+1}.png`),F=Math.ceil(B.length/2),Y=B.slice(0,F),M=B.slice(F).length?B.slice(F):Y,C=160+8,I=`${i} ${o} object-cover select-none shrink-0 opacity-20 md:opacity-30 rounded-xl mr-2`,N=({direction:T,images:U})=>{const $=U.length*C,D=T==="left"?0:-$,[G,Z]=A.useState(D);return KG((H,S)=>{Z(J=>{const K=n*S/1e3;let w=T==="left"?J-K:J+K;return T==="left"&&w<=-$&&(w+=$),T==="right"&&w>=0&&(w-=$),w})}),h.jsx(ce.div,{initial:{opacity:1},animate:{opacity:1},exit:{opacity:0},className:"flex whitespace-nowrap",style:{transform:`translateX(${G}px)`},children:Array.from({length:18},(H,S)=>U[S%U.length]).map((H,S)=>h.jsx("img",{src:H,className:I,draggable:!1},S))})};return h.jsxs(ce.div,{className:`absolute pointer-events-none overflow-hidden ${r}`,style:{top:y,left:p,width:V,rotate:O,transformOrigin:"0 0"},children:[h.jsx(N,{direction:"right",images:Y}),h.jsx("div",{className:"h-2"}),h.jsx(N,{direction:"left",images:M})]})}function Hg(){const[t,e]=A.useState([window.innerWidth,window.innerHeight]);return A.useEffect(()=>{const n=()=>{e([window.innerWidth,window.innerHeight])};return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t}function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function cW(t,e){if(wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vO(t){var e=cW(t,"string");return wl(e)=="symbol"?e:e+""}function kd(t,e,n){return(e=vO(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zC(Object(n),!0).forEach(function(r){kd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dW(t){if(Array.isArray(t))return t}function hW(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,l,d=[],c=!0,m=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(d.push(r.value),d.length!==e);c=!0);}catch(p){m=!0,i=p}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(m)throw i}}return d}}function ix(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function yO(t,e){if(t){if(typeof t=="string")return ix(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ix(t,e):void 0}}function fW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function la(t,e){return dW(t)||hW(t,e)||yO(t,e)||fW()}function mW(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function va(t,e){if(t==null)return{};var n,r,i=mW(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var pW=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function gW(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,o=t.defaultValue,l=o===void 0?null:o,d=t.inputValue,c=t.menuIsOpen,m=t.onChange,p=t.onInputChange,y=t.onMenuClose,x=t.onMenuOpen,E=t.value,R=va(t,pW),P=A.useState(d!==void 0?d:n),V=la(P,2),O=V[0],B=V[1],F=A.useState(c!==void 0?c:i),Y=la(F,2),M=Y[0],j=Y[1],C=A.useState(E!==void 0?E:l),I=la(C,2),N=I[0],T=I[1],U=A.useCallback(function(J,K){typeof m=="function"&&m(J,K),T(J)},[m]),$=A.useCallback(function(J,K){var w;typeof p=="function"&&(w=p(J,K)),B(w!==void 0?w:J)},[p]),D=A.useCallback(function(){typeof x=="function"&&x(),j(!0)},[x]),G=A.useCallback(function(){typeof y=="function"&&y(),j(!1)},[y]),Z=d!==void 0?d:O,H=c!==void 0?c:M,S=E!==void 0?E:N;return Xe(Xe({},R),{},{inputValue:Z,menuIsOpen:H,onChange:U,onInputChange:$,onMenuClose:G,onMenuOpen:D,value:S})}function nt(){return nt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nt.apply(null,arguments)}function vW(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vO(r.key),r)}}function yW(t,e,n){return e&&BC(t.prototype,e),n&&BC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sx(t,e){return sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},sx(t,e)}function bW(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sx(t,e)}function $p(t){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$p(t)}function bO(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bO=function(){return!!t})()}function xW(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wW(t,e){if(e&&(wl(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xW(t)}function _W(t){var e=bO();return function(){var n,r=$p(t);if(e){var i=$p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return wW(this,n)}}function SW(t){if(Array.isArray(t))return ix(t)}function TW(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function EW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _1(t){return SW(t)||TW(t)||yO(t)||EW()}function AW(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function CW(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var NW=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(CW(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=AW(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),mr="-ms-",qp="-moz-",kt="-webkit-",xO="comm",S1="rule",T1="decl",RW="@import",wO="@keyframes",IW="@layer",MW=Math.abs,$g=String.fromCharCode,jW=Object.assign;function PW(t,e){return or(t,0)^45?(((e<<2^or(t,0))<<2^or(t,1))<<2^or(t,2))<<2^or(t,3):0}function _O(t){return t.trim()}function OW(t,e){return(t=e.exec(t))?t[0]:t}function Lt(t,e,n){return t.replace(e,n)}function ax(t,e){return t.indexOf(e)}function or(t,e){return t.charCodeAt(e)|0}function ph(t,e,n){return t.slice(e,n)}function cs(t){return t.length}function E1(t){return t.length}function Rm(t,e){return e.push(t),t}function DW(t,e){return t.map(e).join("")}var qg=1,nc=1,SO=0,kr=0,On=0,fc="";function Gg(t,e,n,r,i,o,l){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:qg,column:nc,length:l,return:""}}function xd(t,e){return jW(Gg("",null,null,"",null,null,0),t,{length:-t.length},e)}function kW(){return On}function LW(){return On=kr>0?or(fc,--kr):0,nc--,On===10&&(nc=1,qg--),On}function ti(){return On=kr<SO?or(fc,kr++):0,nc++,On===10&&(nc=1,qg++),On}function Ts(){return or(fc,kr)}function ip(){return kr}function Kh(t,e){return ph(fc,t,e)}function gh(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function TO(t){return qg=nc=1,SO=cs(fc=t),kr=0,[]}function EO(t){return fc="",t}function sp(t){return _O(Kh(kr-1,ox(t===91?t+2:t===40?t+1:t)))}function VW(t){for(;(On=Ts())&&On<33;)ti();return gh(t)>2||gh(On)>3?"":" "}function UW(t,e){for(;--e&&ti()&&!(On<48||On>102||On>57&&On<65||On>70&&On<97););return Kh(t,ip()+(e<6&&Ts()==32&&ti()==32))}function ox(t){for(;ti();)switch(On){case t:return kr;case 34:case 39:t!==34&&t!==39&&ox(On);break;case 40:t===41&&ox(t);break;case 92:ti();break}return kr}function zW(t,e){for(;ti()&&t+On!==57;)if(t+On===84&&Ts()===47)break;return"/*"+Kh(e,kr-1)+"*"+$g(t===47?t:ti())}function BW(t){for(;!gh(Ts());)ti();return Kh(t,kr)}function FW(t){return EO(ap("",null,null,null,[""],t=TO(t),0,[0],t))}function ap(t,e,n,r,i,o,l,d,c){for(var m=0,p=0,y=l,x=0,E=0,R=0,P=1,V=1,O=1,B=0,F="",Y=i,M=o,j=r,C=F;V;)switch(R=B,B=ti()){case 40:if(R!=108&&or(C,y-1)==58){ax(C+=Lt(sp(B),"&","&\f"),"&\f")!=-1&&(O=-1);break}case 34:case 39:case 91:C+=sp(B);break;case 9:case 10:case 13:case 32:C+=VW(R);break;case 92:C+=UW(ip()-1,7);continue;case 47:switch(Ts()){case 42:case 47:Rm(HW(zW(ti(),ip()),e,n),c);break;default:C+="/"}break;case 123*P:d[m++]=cs(C)*O;case 125*P:case 59:case 0:switch(B){case 0:case 125:V=0;case 59+p:O==-1&&(C=Lt(C,/\f/g,"")),E>0&&cs(C)-y&&Rm(E>32?HC(C+";",r,n,y-1):HC(Lt(C," ","")+";",r,n,y-2),c);break;case 59:C+=";";default:if(Rm(j=FC(C,e,n,m,p,i,d,F,Y=[],M=[],y),o),B===123)if(p===0)ap(C,e,j,j,Y,o,y,d,M);else switch(x===99&&or(C,3)===110?100:x){case 100:case 108:case 109:case 115:ap(t,j,j,r&&Rm(FC(t,j,j,0,0,i,d,F,i,Y=[],y),M),i,M,y,d,r?Y:M);break;default:ap(C,j,j,j,[""],M,0,d,M)}}m=p=E=0,P=O=1,F=C="",y=l;break;case 58:y=1+cs(C),E=R;default:if(P<1){if(B==123)--P;else if(B==125&&P++==0&&LW()==125)continue}switch(C+=$g(B),B*P){case 38:O=p>0?1:(C+="\f",-1);break;case 44:d[m++]=(cs(C)-1)*O,O=1;break;case 64:Ts()===45&&(C+=sp(ti())),x=Ts(),p=y=cs(F=C+=BW(ip())),B++;break;case 45:R===45&&cs(C)==2&&(P=0)}}return o}function FC(t,e,n,r,i,o,l,d,c,m,p){for(var y=i-1,x=i===0?o:[""],E=E1(x),R=0,P=0,V=0;R<r;++R)for(var O=0,B=ph(t,y+1,y=MW(P=l[R])),F=t;O<E;++O)(F=_O(P>0?x[O]+" "+B:Lt(B,/&\f/g,x[O])))&&(c[V++]=F);return Gg(t,e,n,i===0?S1:d,c,m,p)}function HW(t,e,n){return Gg(t,e,n,xO,$g(kW()),ph(t,2,-2),0)}function HC(t,e,n,r){return Gg(t,e,n,T1,ph(t,0,r),ph(t,r+1,-1),r)}function Uu(t,e){for(var n="",r=E1(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function $W(t,e,n,r){switch(t.type){case IW:if(t.children.length)break;case RW:case T1:return t.return=t.return||t.value;case xO:return"";case wO:return t.return=t.value+"{"+Uu(t.children,r)+"}";case S1:t.value=t.props.join(",")}return cs(n=Uu(t.children,r))?t.return=t.value+"{"+n+"}":""}function qW(t){var e=E1(t);return function(n,r,i,o){for(var l="",d=0;d<e;d++)l+=t[d](n,r,i,o)||"";return l}}function GW(t){return function(e){e.root||(e=e.return)&&t(e)}}function WW(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var KW=function(e,n,r){for(var i=0,o=0;i=o,o=Ts(),i===38&&o===12&&(n[r]=1),!gh(o);)ti();return Kh(e,kr)},YW=function(e,n){var r=-1,i=44;do switch(gh(i)){case 0:i===38&&Ts()===12&&(n[r]=1),e[r]+=KW(kr-1,n,r);break;case 2:e[r]+=sp(i);break;case 4:if(i===44){e[++r]=Ts()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=$g(i)}while(i=ti());return e},XW=function(e,n){return EO(YW(TO(e),n))},$C=new WeakMap,QW=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!$C.get(r))&&!i){$C.set(e,!0);for(var o=[],l=XW(n,o),d=r.props,c=0,m=0;c<l.length;c++)for(var p=0;p<d.length;p++,m++)e.props[m]=o[c]?l[c].replace(/&\f/g,d[p]):d[p]+" "+l[c]}}},ZW=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function AO(t,e){switch(PW(t,e)){case 5103:return kt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return kt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return kt+t+qp+t+mr+t+t;case 6828:case 4268:return kt+t+mr+t+t;case 6165:return kt+t+mr+"flex-"+t+t;case 5187:return kt+t+Lt(t,/(\w+).+(:[^]+)/,kt+"box-$1$2"+mr+"flex-$1$2")+t;case 5443:return kt+t+mr+"flex-item-"+Lt(t,/flex-|-self/,"")+t;case 4675:return kt+t+mr+"flex-line-pack"+Lt(t,/align-content|flex-|-self/,"")+t;case 5548:return kt+t+mr+Lt(t,"shrink","negative")+t;case 5292:return kt+t+mr+Lt(t,"basis","preferred-size")+t;case 6060:return kt+"box-"+Lt(t,"-grow","")+kt+t+mr+Lt(t,"grow","positive")+t;case 4554:return kt+Lt(t,/([^-])(transform)/g,"$1"+kt+"$2")+t;case 6187:return Lt(Lt(Lt(t,/(zoom-|grab)/,kt+"$1"),/(image-set)/,kt+"$1"),t,"")+t;case 5495:case 3959:return Lt(t,/(image-set\([^]*)/,kt+"$1$`$1");case 4968:return Lt(Lt(t,/(.+:)(flex-)?(.*)/,kt+"box-pack:$3"+mr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+kt+t+t;case 4095:case 3583:case 4068:case 2532:return Lt(t,/(.+)-inline(.+)/,kt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(cs(t)-1-e>6)switch(or(t,e+1)){case 109:if(or(t,e+4)!==45)break;case 102:return Lt(t,/(.+:)(.+)-([^]+)/,"$1"+kt+"$2-$3$1"+qp+(or(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~ax(t,"stretch")?AO(Lt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(or(t,e+1)!==115)break;case 6444:switch(or(t,cs(t)-3-(~ax(t,"!important")&&10))){case 107:return Lt(t,":",":"+kt)+t;case 101:return Lt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+kt+(or(t,14)===45?"inline-":"")+"box$3$1"+kt+"$2$3$1"+mr+"$2box$3")+t}break;case 5936:switch(or(t,e+11)){case 114:return kt+t+mr+Lt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return kt+t+mr+Lt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return kt+t+mr+Lt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return kt+t+mr+t+t}return t}var JW=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case T1:e.return=AO(e.value,e.length);break;case wO:return Uu([xd(e,{value:Lt(e.value,"@","@"+kt)})],i);case S1:if(e.length)return DW(e.props,function(o){switch(OW(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Uu([xd(e,{props:[Lt(o,/:(read-\w+)/,":"+qp+"$1")]})],i);case"::placeholder":return Uu([xd(e,{props:[Lt(o,/:(plac\w+)/,":"+kt+"input-$1")]}),xd(e,{props:[Lt(o,/:(plac\w+)/,":"+qp+"$1")]}),xd(e,{props:[Lt(o,/:(plac\w+)/,mr+"input-$1")]})],i)}return""})}},eK=[JW],tK=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(P){var V=P.getAttribute("data-emotion");V.indexOf(" ")!==-1&&(document.head.appendChild(P),P.setAttribute("data-s",""))})}var i=e.stylisPlugins||eK,o={},l,d=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(P){for(var V=P.getAttribute("data-emotion").split(" "),O=1;O<V.length;O++)o[V[O]]=!0;d.push(P)});var c,m=[QW,ZW];{var p,y=[$W,GW(function(P){p.insert(P)})],x=qW(m.concat(i,y)),E=function(V){return Uu(FW(V),x)};c=function(V,O,B,F){p=B,E(V?V+"{"+O.styles+"}":O.styles),F&&(R.inserted[O.name]=!0)}}var R={key:n,sheet:new NW({key:n,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:c};return R.sheet.hydrate(d),R},P0={exports:{}},Bt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qC;function nK(){if(qC)return Bt;qC=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,l=t?Symbol.for("react.provider"):60109,d=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,m=t?Symbol.for("react.concurrent_mode"):60111,p=t?Symbol.for("react.forward_ref"):60112,y=t?Symbol.for("react.suspense"):60113,x=t?Symbol.for("react.suspense_list"):60120,E=t?Symbol.for("react.memo"):60115,R=t?Symbol.for("react.lazy"):60116,P=t?Symbol.for("react.block"):60121,V=t?Symbol.for("react.fundamental"):60117,O=t?Symbol.for("react.responder"):60118,B=t?Symbol.for("react.scope"):60119;function F(M){if(typeof M=="object"&&M!==null){var j=M.$$typeof;switch(j){case e:switch(M=M.type,M){case c:case m:case r:case o:case i:case y:return M;default:switch(M=M&&M.$$typeof,M){case d:case p:case R:case E:case l:return M;default:return j}}case n:return j}}}function Y(M){return F(M)===m}return Bt.AsyncMode=c,Bt.ConcurrentMode=m,Bt.ContextConsumer=d,Bt.ContextProvider=l,Bt.Element=e,Bt.ForwardRef=p,Bt.Fragment=r,Bt.Lazy=R,Bt.Memo=E,Bt.Portal=n,Bt.Profiler=o,Bt.StrictMode=i,Bt.Suspense=y,Bt.isAsyncMode=function(M){return Y(M)||F(M)===c},Bt.isConcurrentMode=Y,Bt.isContextConsumer=function(M){return F(M)===d},Bt.isContextProvider=function(M){return F(M)===l},Bt.isElement=function(M){return typeof M=="object"&&M!==null&&M.$$typeof===e},Bt.isForwardRef=function(M){return F(M)===p},Bt.isFragment=function(M){return F(M)===r},Bt.isLazy=function(M){return F(M)===R},Bt.isMemo=function(M){return F(M)===E},Bt.isPortal=function(M){return F(M)===n},Bt.isProfiler=function(M){return F(M)===o},Bt.isStrictMode=function(M){return F(M)===i},Bt.isSuspense=function(M){return F(M)===y},Bt.isValidElementType=function(M){return typeof M=="string"||typeof M=="function"||M===r||M===m||M===o||M===i||M===y||M===x||typeof M=="object"&&M!==null&&(M.$$typeof===R||M.$$typeof===E||M.$$typeof===l||M.$$typeof===d||M.$$typeof===p||M.$$typeof===V||M.$$typeof===O||M.$$typeof===B||M.$$typeof===P)},Bt.typeOf=F,Bt}var GC;function rK(){return GC||(GC=1,P0.exports=nK()),P0.exports}var O0,WC;function iK(){if(WC)return O0;WC=1;var t=rK(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[t.ForwardRef]=r,o[t.Memo]=i;function l(R){return t.isMemo(R)?i:o[R.$$typeof]||e}var d=Object.defineProperty,c=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,y=Object.getPrototypeOf,x=Object.prototype;function E(R,P,V){if(typeof P!="string"){if(x){var O=y(P);O&&O!==x&&E(R,O,V)}var B=c(P);m&&(B=B.concat(m(P)));for(var F=l(R),Y=l(P),M=0;M<B.length;++M){var j=B[M];if(!n[j]&&!(V&&V[j])&&!(Y&&Y[j])&&!(F&&F[j])){var C=p(P,j);try{d(R,j,C)}catch{}}}}return R}return O0=E,O0}iK();var sK=!0;function aK(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var CO=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||sK===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},oK=function(e,n,r){CO(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function lK(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var uK={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},cK=/[A-Z]|^ms/g,dK=/_EMO_([^_]+?)_([^]*?)_EMO_/g,NO=function(e){return e.charCodeAt(1)===45},KC=function(e){return e!=null&&typeof e!="boolean"},D0=WW(function(t){return NO(t)?t:t.replace(cK,"-$&").toLowerCase()}),YC=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(dK,function(r,i,o){return ds={name:i,styles:o,next:ds},i})}return uK[e]!==1&&!NO(e)&&typeof n=="number"&&n!==0?n+"px":n};function vh(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return ds={name:i.name,styles:i.styles,next:ds},i.name;var o=n;if(o.styles!==void 0){var l=o.next;if(l!==void 0)for(;l!==void 0;)ds={name:l.name,styles:l.styles,next:ds},l=l.next;var d=o.styles+";";return d}return hK(t,e,n)}case"function":{if(t!==void 0){var c=ds,m=n(t);return ds=c,vh(t,e,m)}break}}var p=n;return p}function hK(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=vh(t,e,n[i])+";";else for(var o in n){var l=n[o];if(typeof l!="object"){var d=l;KC(d)&&(r+=D0(o)+":"+YC(o,d)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&e==null)for(var c=0;c<l.length;c++)KC(l[c])&&(r+=D0(o)+":"+YC(o,l[c])+";");else{var m=vh(t,e,l);switch(o){case"animation":case"animationName":{r+=D0(o)+":"+m+";";break}default:r+=o+"{"+m+"}"}}}return r}var XC=/label:\s*([^\s;{]+)\s*(;|$)/g,ds;function RO(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";ds=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=vh(n,e,o);else{var l=o;i+=l[0]}for(var d=1;d<t.length;d++)if(i+=vh(n,e,t[d]),r){var c=o;i+=c[d]}XC.lastIndex=0;for(var m="",p;(p=XC.exec(i))!==null;)m+="-"+p[1];var y=lK(i)+m;return{name:y,styles:i,next:ds}}var fK=function(e){return e()},mK=eE.useInsertionEffect?eE.useInsertionEffect:!1,pK=mK||fK,IO=A.createContext(typeof HTMLElement<"u"?tK({key:"css"}):null);IO.Provider;var gK=function(e){return A.forwardRef(function(n,r){var i=A.useContext(IO);return e(n,i,r)})},vK=A.createContext({}),A1={}.hasOwnProperty,lx="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",yK=function(e,n){var r={};for(var i in n)A1.call(n,i)&&(r[i]=n[i]);return r[lx]=e,r},bK=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return CO(n,r,i),pK(function(){return oK(n,r,i)}),null},xK=gK(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[lx],o=[r],l="";typeof t.className=="string"?l=aK(e.registered,o,t.className):t.className!=null&&(l=t.className+" ");var d=RO(o,void 0,A.useContext(vK));l+=e.key+"-"+d.name;var c={};for(var m in t)A1.call(t,m)&&m!=="css"&&m!==lx&&(c[m]=t[m]);return c.className=l,n&&(c.ref=n),A.createElement(A.Fragment,null,A.createElement(bK,{cache:e,serialized:d,isStringTag:typeof i=="string"}),A.createElement(i,c))}),wK=xK,He=function(e,n){var r=arguments;if(n==null||!A1.call(n,"css"))return A.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=wK,o[1]=yK(e,n);for(var l=2;l<i;l++)o[l]=r[l];return A.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(He||(He={}));function C1(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return RO(e)}function _K(){var t=C1.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function SK(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var TK=nR();const EK=Math.min,AK=Math.max,Gp=Math.round,Im=Math.floor,Wp=t=>({x:t,y:t});function CK(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Wg(){return typeof window<"u"}function MO(t){return PO(t)?(t.nodeName||"").toLowerCase():"#document"}function pa(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function jO(t){var e;return(e=(PO(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function PO(t){return Wg()?t instanceof Node||t instanceof pa(t).Node:!1}function NK(t){return Wg()?t instanceof Element||t instanceof pa(t).Element:!1}function N1(t){return Wg()?t instanceof HTMLElement||t instanceof pa(t).HTMLElement:!1}function QC(t){return!Wg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof pa(t).ShadowRoot}const RK=new Set(["inline","contents"]);function OO(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=R1(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!RK.has(i)}function IK(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const MK=new Set(["html","body","#document"]);function jK(t){return MK.has(MO(t))}function R1(t){return pa(t).getComputedStyle(t)}function PK(t){if(MO(t)==="html")return t;const e=t.assignedSlot||t.parentNode||QC(t)&&t.host||jO(t);return QC(e)?e.host:e}function DO(t){const e=PK(t);return jK(e)?t.ownerDocument?t.ownerDocument.body:t.body:N1(e)&&OO(e)?e:DO(e)}function Kp(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=DO(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),l=pa(i);if(o){const d=ux(l);return e.concat(l,l.visualViewport||[],OO(i)?i:[],d&&n?Kp(d):[])}return e.concat(i,Kp(i,[],n))}function ux(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function OK(t){const e=R1(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=N1(t),o=i?t.offsetWidth:n,l=i?t.offsetHeight:r,d=Gp(n)!==o||Gp(r)!==l;return d&&(n=o,r=l),{width:n,height:r,$:d}}function I1(t){return NK(t)?t:t.contextElement}function ZC(t){const e=I1(t);if(!N1(e))return Wp(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=OK(e);let l=(o?Gp(n.width):n.width)/r,d=(o?Gp(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!d||!Number.isFinite(d))&&(d=1),{x:l,y:d}}const DK=Wp(0);function kK(t){const e=pa(t);return!IK()||!e.visualViewport?DK:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function LK(t,e,n){return!1}function JC(t,e,n,r){e===void 0&&(e=!1);const i=t.getBoundingClientRect(),o=I1(t);let l=Wp(1);e&&(l=ZC(t));const d=LK()?kK(o):Wp(0);let c=(i.left+d.x)/l.x,m=(i.top+d.y)/l.y,p=i.width/l.x,y=i.height/l.y;if(o){const x=pa(o),E=r;let R=x,P=ux(R);for(;P&&r&&E!==R;){const V=ZC(P),O=P.getBoundingClientRect(),B=R1(P),F=O.left+(P.clientLeft+parseFloat(B.paddingLeft))*V.x,Y=O.top+(P.clientTop+parseFloat(B.paddingTop))*V.y;c*=V.x,m*=V.y,p*=V.x,y*=V.y,c+=F,m+=Y,R=pa(P),P=ux(R)}}return CK({width:p,height:y,x:c,y:m})}function kO(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function VK(t,e){let n=null,r;const i=jO(t);function o(){var d;clearTimeout(r),(d=n)==null||d.disconnect(),n=null}function l(d,c){d===void 0&&(d=!1),c===void 0&&(c=1),o();const m=t.getBoundingClientRect(),{left:p,top:y,width:x,height:E}=m;if(d||e(),!x||!E)return;const R=Im(y),P=Im(i.clientWidth-(p+x)),V=Im(i.clientHeight-(y+E)),O=Im(p),F={rootMargin:-R+"px "+-P+"px "+-V+"px "+-O+"px",threshold:AK(0,EK(1,c))||1};let Y=!0;function M(j){const C=j[0].intersectionRatio;if(C!==c){if(!Y)return l();C?l(!1,C):r=setTimeout(()=>{l(!1,1e-7)},1e3)}C===1&&!kO(m,t.getBoundingClientRect())&&l(),Y=!1}try{n=new IntersectionObserver(M,{...F,root:i.ownerDocument})}catch{n=new IntersectionObserver(M,F)}n.observe(t)}return l(!0),o}function UK(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,m=I1(t),p=i||o?[...m?Kp(m):[],...Kp(e)]:[];p.forEach(O=>{i&&O.addEventListener("scroll",n,{passive:!0}),o&&O.addEventListener("resize",n)});const y=m&&d?VK(m,n):null;let x=-1,E=null;l&&(E=new ResizeObserver(O=>{let[B]=O;B&&B.target===m&&E&&(E.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var F;(F=E)==null||F.observe(e)})),n()}),m&&!c&&E.observe(m),E.observe(e));let R,P=c?JC(t):null;c&&V();function V(){const O=JC(t);P&&!kO(P,O)&&n(),P=O,R=requestAnimationFrame(V)}return n(),()=>{var O;p.forEach(B=>{i&&B.removeEventListener("scroll",n),o&&B.removeEventListener("resize",n)}),y?.(),(O=E)==null||O.disconnect(),E=null,c&&cancelAnimationFrame(R)}}var cx=A.useLayoutEffect,zK=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Yp=function(){};function BK(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function FK(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=[].concat(r);if(e&&t)for(var l in e)e.hasOwnProperty(l)&&e[l]&&o.push("".concat(BK(t,l)));return o.filter(function(d){return d}).map(function(d){return String(d).trim()}).join(" ")}var eN=function(e){return QK(e)?e.filter(Boolean):wl(e)==="object"&&e!==null?[e]:[]},LO=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=va(e,zK);return Xe({},n)},bn=function(e,n,r){var i=e.cx,o=e.getStyles,l=e.getClassNames,d=e.className;return{css:o(n,e),className:i(r??{},l(n,e),d)}};function Kg(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function HK(t){return Kg(t)?window.innerHeight:t.clientHeight}function VO(t){return Kg(t)?window.pageYOffset:t.scrollTop}function Xp(t,e){if(Kg(t)){window.scrollTo(0,e);return}t.scrollTop=e}function $K(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function qK(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function Mm(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Yp,i=VO(t),o=e-i,l=10,d=0;function c(){d+=l;var m=qK(d,i,o,n);Xp(t,m),d<n?window.requestAnimationFrame(c):r(t)}c()}function tN(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?Xp(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&Xp(t,Math.max(e.offsetTop-i,0))}function GK(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function nN(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function WK(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var UO=!1,KK={get passive(){return UO=!0}},jm=typeof window<"u"?window:{};jm.addEventListener&&jm.removeEventListener&&(jm.addEventListener("p",Yp,KK),jm.removeEventListener("p",Yp,!1));var YK=UO;function XK(t){return t!=null}function QK(t){return Array.isArray(t)}function Pm(t,e,n){return t?e:n}var ZK=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=Object.entries(e).filter(function(l){var d=la(l,1),c=d[0];return!r.includes(c)});return o.reduce(function(l,d){var c=la(d,2),m=c[0],p=c[1];return l[m]=p,l},{})},JK=["children","innerProps"],eY=["children","innerProps"];function tY(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,o=t.shouldScroll,l=t.isFixedPosition,d=t.controlHeight,c=$K(n),m={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return m;var p=c.getBoundingClientRect(),y=p.height,x=n.getBoundingClientRect(),E=x.bottom,R=x.height,P=x.top,V=n.offsetParent.getBoundingClientRect(),O=V.top,B=l?window.innerHeight:HK(c),F=VO(c),Y=parseInt(getComputedStyle(n).marginBottom,10),M=parseInt(getComputedStyle(n).marginTop,10),j=O-M,C=B-P,I=j+F,N=y-F-P,T=E-B+F+Y,U=F+P-M,$=160;switch(i){case"auto":case"bottom":if(C>=R)return{placement:"bottom",maxHeight:e};if(N>=R&&!l)return o&&Mm(c,T,$),{placement:"bottom",maxHeight:e};if(!l&&N>=r||l&&C>=r){o&&Mm(c,T,$);var D=l?C-Y:N-Y;return{placement:"bottom",maxHeight:D}}if(i==="auto"||l){var G=e,Z=l?j:I;return Z>=r&&(G=Math.min(Z-Y-d,e)),{placement:"top",maxHeight:G}}if(i==="bottom")return o&&Xp(c,T),{placement:"bottom",maxHeight:e};break;case"top":if(j>=R)return{placement:"top",maxHeight:e};if(I>=R&&!l)return o&&Mm(c,U,$),{placement:"top",maxHeight:e};if(!l&&I>=r||l&&j>=r){var H=e;return(!l&&I>=r||l&&j>=r)&&(H=l?j-M:I-M),o&&Mm(c,U,$),{placement:"top",maxHeight:H}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return m}function nY(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var zO=function(e){return e==="auto"?"bottom":e},rY=function(e,n){var r,i=e.placement,o=e.theme,l=o.borderRadius,d=o.spacing,c=o.colors;return Xe((r={label:"menu"},kd(r,nY(i),"100%"),kd(r,"position","absolute"),kd(r,"width","100%"),kd(r,"zIndex",1),r),n?{}:{backgroundColor:c.neutral0,borderRadius:l,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:d.menuGutter,marginTop:d.menuGutter})},BO=A.createContext(null),iY=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,o=e.menuPlacement,l=e.menuPosition,d=e.menuShouldScrollIntoView,c=e.theme,m=A.useContext(BO)||{},p=m.setPortalPlacement,y=A.useRef(null),x=A.useState(i),E=la(x,2),R=E[0],P=E[1],V=A.useState(null),O=la(V,2),B=O[0],F=O[1],Y=c.spacing.controlHeight;return cx(function(){var M=y.current;if(M){var j=l==="fixed",C=d&&!j,I=tY({maxHeight:i,menuEl:M,minHeight:r,placement:o,shouldScroll:C,isFixedPosition:j,controlHeight:Y});P(I.maxHeight),F(I.placement),p?.(I.placement)}},[i,o,l,d,r,p,Y]),n({ref:y,placerProps:Xe(Xe({},e),{},{placement:B||zO(o),maxHeight:R})})},sY=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return He("div",nt({},bn(e,"menu",{menu:!0}),{ref:r},i),n)},aY=sY,oY=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return Xe({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},lY=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,o=e.isMulti;return He("div",nt({},bn(e,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:i},r),n)},FO=function(e,n){var r=e.theme,i=r.spacing.baseUnit,o=r.colors;return Xe({textAlign:"center"},n?{}:{color:o.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},uY=FO,cY=FO,dY=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,o=va(e,JK);return He("div",nt({},bn(Xe(Xe({},o),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},hY=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,o=va(e,eY);return He("div",nt({},bn(Xe(Xe({},o),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},fY=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},mY=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,o=e.innerProps,l=e.menuPlacement,d=e.menuPosition,c=A.useRef(null),m=A.useRef(null),p=A.useState(zO(l)),y=la(p,2),x=y[0],E=y[1],R=A.useMemo(function(){return{setPortalPlacement:E}},[]),P=A.useState(null),V=la(P,2),O=V[0],B=V[1],F=A.useCallback(function(){if(i){var C=GK(i),I=d==="fixed"?0:window.pageYOffset,N=C[x]+I;(N!==O?.offset||C.left!==O?.rect.left||C.width!==O?.rect.width)&&B({offset:N,rect:C})}},[i,d,x,O?.offset,O?.rect.left,O?.rect.width]);cx(function(){F()},[F]);var Y=A.useCallback(function(){typeof m.current=="function"&&(m.current(),m.current=null),i&&c.current&&(m.current=UK(i,c.current,F,{elementResize:"ResizeObserver"in window}))},[i,F]);cx(function(){Y()},[Y]);var M=A.useCallback(function(C){c.current=C,Y()},[Y]);if(!n&&d!=="fixed"||!O)return null;var j=He("div",nt({ref:M},bn(Xe(Xe({},e),{},{offset:O.offset,position:d,rect:O.rect}),"menuPortal",{"menu-portal":!0}),o),r);return He(BO.Provider,{value:R},n?TK.createPortal(j,n):j)},pY=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},gY=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,o=e.isRtl;return He("div",nt({},bn(e,"container",{"--is-disabled":i,"--is-rtl":o}),r),n)},vY=function(e,n){var r=e.theme.spacing,i=e.isMulti,o=e.hasValue,l=e.selectProps.controlShouldRenderValue;return Xe({alignItems:"center",display:i&&o&&l?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},yY=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,o=e.hasValue;return He("div",nt({},bn(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":o}),r),n)},bY=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},xY=function(e){var n=e.children,r=e.innerProps;return He("div",nt({},bn(e,"indicatorsContainer",{indicators:!0}),r),n)},rN,wY=["size"],_Y=["innerProps","isRtl","size"],SY={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},HO=function(e){var n=e.size,r=va(e,wY);return He("svg",nt({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:SY},r))},M1=function(e){return He(HO,nt({size:20},e),He("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},$O=function(e){return He(HO,nt({size:20},e),He("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},qO=function(e,n){var r=e.isFocused,i=e.theme,o=i.spacing.baseUnit,l=i.colors;return Xe({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?l.neutral60:l.neutral20,padding:o*2,":hover":{color:r?l.neutral80:l.neutral40}})},TY=qO,EY=function(e){var n=e.children,r=e.innerProps;return He("div",nt({},bn(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||He($O,null))},AY=qO,CY=function(e){var n=e.children,r=e.innerProps;return He("div",nt({},bn(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||He(M1,null))},NY=function(e,n){var r=e.isDisabled,i=e.theme,o=i.spacing.baseUnit,l=i.colors;return Xe({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?l.neutral10:l.neutral20,marginBottom:o*2,marginTop:o*2})},RY=function(e){var n=e.innerProps;return He("span",nt({},n,bn(e,"indicatorSeparator",{"indicator-separator":!0})))},IY=_K(rN||(rN=SK([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),MY=function(e,n){var r=e.isFocused,i=e.size,o=e.theme,l=o.colors,d=o.spacing.baseUnit;return Xe({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?l.neutral60:l.neutral20,padding:d*2})},k0=function(e){var n=e.delay,r=e.offset;return He("span",{css:C1({animation:"".concat(IY," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},jY=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,o=i===void 0?4:i,l=va(e,_Y);return He("div",nt({},bn(Xe(Xe({},l),{},{innerProps:n,isRtl:r,size:o}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),He(k0,{delay:0,offset:r}),He(k0,{delay:160,offset:!0}),He(k0,{delay:320,offset:!r}))},PY=function(e,n){var r=e.isDisabled,i=e.isFocused,o=e.theme,l=o.colors,d=o.borderRadius,c=o.spacing;return Xe({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?l.neutral5:l.neutral0,borderColor:r?l.neutral10:i?l.primary:l.neutral20,borderRadius:d,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(l.primary):void 0,"&:hover":{borderColor:i?l.primary:l.neutral30}})},OY=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,o=e.innerRef,l=e.innerProps,d=e.menuIsOpen;return He("div",nt({ref:o},bn(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":d}),l,{"aria-disabled":r||void 0}),n)},DY=OY,kY=["data"],LY=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},VY=function(e){var n=e.children,r=e.cx,i=e.getStyles,o=e.getClassNames,l=e.Heading,d=e.headingProps,c=e.innerProps,m=e.label,p=e.theme,y=e.selectProps;return He("div",nt({},bn(e,"group",{group:!0}),c),He(l,nt({},d,{selectProps:y,theme:p,getStyles:i,getClassNames:o,cx:r}),m),He("div",null,n))},UY=function(e,n){var r=e.theme,i=r.colors,o=r.spacing;return Xe({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"})},zY=function(e){var n=LO(e);n.data;var r=va(n,kY);return He("div",nt({},bn(e,"groupHeading",{"group-heading":!0}),r))},BY=VY,FY=["innerRef","isDisabled","isHidden","inputClassName"],HY=function(e,n){var r=e.isDisabled,i=e.value,o=e.theme,l=o.spacing,d=o.colors;return Xe(Xe({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},$Y),n?{}:{margin:l.baseUnit/2,paddingBottom:l.baseUnit/2,paddingTop:l.baseUnit/2,color:d.neutral80})},GO={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},$Y={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Xe({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},GO)},qY=function(e){return Xe({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},GO)},GY=function(e){var n=e.cx,r=e.value,i=LO(e),o=i.innerRef,l=i.isDisabled,d=i.isHidden,c=i.inputClassName,m=va(i,FY);return He("div",nt({},bn(e,"input",{"input-container":!0}),{"data-value":r||""}),He("input",nt({className:n({input:!0},c),ref:o,style:qY(d),disabled:l},m)))},WY=GY,KY=function(e,n){var r=e.theme,i=r.spacing,o=r.borderRadius,l=r.colors;return Xe({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:l.neutral10,borderRadius:o/2,margin:i.baseUnit/2})},YY=function(e,n){var r=e.theme,i=r.borderRadius,o=r.colors,l=e.cropWithEllipsis;return Xe({overflow:"hidden",textOverflow:l||l===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},XY=function(e,n){var r=e.theme,i=r.spacing,o=r.borderRadius,l=r.colors,d=e.isFocused;return Xe({alignItems:"center",display:"flex"},n?{}:{borderRadius:o/2,backgroundColor:d?l.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:l.dangerLight,color:l.danger}})},WO=function(e){var n=e.children,r=e.innerProps;return He("div",r,n)},QY=WO,ZY=WO;function JY(t){var e=t.children,n=t.innerProps;return He("div",nt({role:"button"},n),e||He(M1,{size:14}))}var eX=function(e){var n=e.children,r=e.components,i=e.data,o=e.innerProps,l=e.isDisabled,d=e.removeProps,c=e.selectProps,m=r.Container,p=r.Label,y=r.Remove;return He(m,{data:i,innerProps:Xe(Xe({},bn(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":l})),o),selectProps:c},He(p,{data:i,innerProps:Xe({},bn(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},n),He(y,{data:i,innerProps:Xe(Xe({},bn(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},d),selectProps:c}))},tX=eX,nX=function(e,n){var r=e.isDisabled,i=e.isFocused,o=e.isSelected,l=e.theme,d=l.spacing,c=l.colors;return Xe({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:o?c.primary:i?c.primary25:"transparent",color:r?c.neutral20:o?c.neutral0:"inherit",padding:"".concat(d.baseUnit*2,"px ").concat(d.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:o?c.primary:c.primary50}})},rX=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,o=e.isSelected,l=e.innerRef,d=e.innerProps;return He("div",nt({},bn(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":o}),{ref:l,"aria-disabled":r},d),n)},iX=rX,sX=function(e,n){var r=e.theme,i=r.spacing,o=r.colors;return Xe({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:o.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},aX=function(e){var n=e.children,r=e.innerProps;return He("div",nt({},bn(e,"placeholder",{placeholder:!0}),r),n)},oX=aX,lX=function(e,n){var r=e.isDisabled,i=e.theme,o=i.spacing,l=i.colors;return Xe({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?l.neutral40:l.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},uX=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return He("div",nt({},bn(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},cX=uX,Yg={ClearIndicator:CY,Control:DY,DropdownIndicator:EY,DownChevron:$O,CrossIcon:M1,Group:BY,GroupHeading:zY,IndicatorsContainer:xY,IndicatorSeparator:RY,Input:WY,LoadingIndicator:jY,Menu:aY,MenuList:lY,MenuPortal:mY,LoadingMessage:hY,NoOptionsMessage:dY,MultiValue:tX,MultiValueContainer:QY,MultiValueLabel:ZY,MultiValueRemove:JY,Option:iX,Placeholder:oX,SelectContainer:gY,SingleValue:cX,ValueContainer:yY},dX=function(e){return Xe(Xe({},Yg),e.components)},iN=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function hX(t,e){return!!(t===e||iN(t)&&iN(e))}function fX(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!hX(t[n],e[n]))return!1;return!0}function mX(t,e){e===void 0&&(e=fX);var n=null;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var l=t.apply(this,i);return n={lastResult:l,lastArgs:i,lastThis:this},l}return r.clear=function(){n=null},r}var pX={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},gX=function(e){return He("span",nt({css:pX},e))},sN=gX,vX={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,o=e.context,l=e.isInitialFocus;switch(o){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return l?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,o=e.labels,l=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return l?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,o=e.label,l=o===void 0?"":o,d=e.selectValue,c=e.isDisabled,m=e.isSelected,p=e.isAppleDevice,y=function(P,V){return P&&P.length?"".concat(P.indexOf(V)+1," of ").concat(P.length):""};if(n==="value"&&d)return"value ".concat(l," focused, ").concat(y(d,r),".");if(n==="menu"&&p){var x=c?" disabled":"",E="".concat(m?" selected":"").concat(x);return"".concat(l).concat(E,", ").concat(y(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},yX=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,o=e.focusableOptions,l=e.isFocused,d=e.selectValue,c=e.selectProps,m=e.id,p=e.isAppleDevice,y=c.ariaLiveMessages,x=c.getOptionLabel,E=c.inputValue,R=c.isMulti,P=c.isOptionDisabled,V=c.isSearchable,O=c.menuIsOpen,B=c.options,F=c.screenReaderStatus,Y=c.tabSelectsValue,M=c.isLoading,j=c["aria-label"],C=c["aria-live"],I=A.useMemo(function(){return Xe(Xe({},vX),y||{})},[y]),N=A.useMemo(function(){var Z="";if(n&&I.onChange){var H=n.option,S=n.options,J=n.removedValue,K=n.removedValues,w=n.value,z=function(Ee){return Array.isArray(Ee)?null:Ee},X=J||H||z(w),Q=X?x(X):"",ne=S||K||void 0,se=ne?ne.map(x):[],le=Xe({isDisabled:X&&P(X,d),label:Q,labels:se},n);Z=I.onChange(le)}return Z},[n,I,P,d,x]),T=A.useMemo(function(){var Z="",H=r||i,S=!!(r&&d&&d.includes(r));if(H&&I.onFocus){var J={focused:H,label:x(H),isDisabled:P(H,d),isSelected:S,options:o,context:H===r?"menu":"value",selectValue:d,isAppleDevice:p};Z=I.onFocus(J)}return Z},[r,i,x,P,I,o,d,p]),U=A.useMemo(function(){var Z="";if(O&&B.length&&!M&&I.onFilter){var H=F({count:o.length});Z=I.onFilter({inputValue:E,resultsMessage:H})}return Z},[o,E,O,I,B,F,M]),$=n?.action==="initial-input-focus",D=A.useMemo(function(){var Z="";if(I.guidance){var H=i?"value":O?"menu":"input";Z=I.guidance({"aria-label":j,context:H,isDisabled:r&&P(r,d),isMulti:R,isSearchable:V,tabSelectsValue:Y,isInitialFocus:$})}return Z},[j,r,i,R,P,V,O,I,d,Y,$]),G=He(A.Fragment,null,He("span",{id:"aria-selection"},N),He("span",{id:"aria-focused"},T),He("span",{id:"aria-results"},U),He("span",{id:"aria-guidance"},D));return He(A.Fragment,null,He(sN,{id:m},$&&G),He(sN,{"aria-live":C,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},l&&!$&&G))},bX=yX,dx=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],xX=new RegExp("["+dx.map(function(t){return t.letters}).join("")+"]","g"),KO={};for(var L0=0;L0<dx.length;L0++)for(var V0=dx[L0],U0=0;U0<V0.letters.length;U0++)KO[V0.letters[U0]]=V0.base;var YO=function(e){return e.replace(xX,function(n){return KO[n]})},wX=mX(YO),aN=function(e){return e.replace(/^\s+|\s+$/g,"")},_X=function(e){return"".concat(e.label," ").concat(e.value)},SX=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=Xe({ignoreCase:!0,ignoreAccents:!0,stringify:_X,trim:!0,matchFrom:"any"},e),o=i.ignoreCase,l=i.ignoreAccents,d=i.stringify,c=i.trim,m=i.matchFrom,p=c?aN(r):r,y=c?aN(d(n)):d(n);return o&&(p=p.toLowerCase(),y=y.toLowerCase()),l&&(p=wX(p),y=YO(y)),m==="start"?y.substr(0,p.length)===p:y.indexOf(p)>-1}},TX=["innerRef"];function EX(t){var e=t.innerRef,n=va(t,TX),r=ZK(n,"onExited","in","enter","exit","appear");return He("input",nt({ref:e},r,{css:C1({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var AX=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function CX(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,o=t.onTopLeave,l=A.useRef(!1),d=A.useRef(!1),c=A.useRef(0),m=A.useRef(null),p=A.useCallback(function(V,O){if(m.current!==null){var B=m.current,F=B.scrollTop,Y=B.scrollHeight,M=B.clientHeight,j=m.current,C=O>0,I=Y-M-F,N=!1;I>O&&l.current&&(r&&r(V),l.current=!1),C&&d.current&&(o&&o(V),d.current=!1),C&&O>I?(n&&!l.current&&n(V),j.scrollTop=Y,N=!0,l.current=!0):!C&&-O>F&&(i&&!d.current&&i(V),j.scrollTop=0,N=!0,d.current=!0),N&&AX(V)}},[n,r,i,o]),y=A.useCallback(function(V){p(V,V.deltaY)},[p]),x=A.useCallback(function(V){c.current=V.changedTouches[0].clientY},[]),E=A.useCallback(function(V){var O=c.current-V.changedTouches[0].clientY;p(V,O)},[p]),R=A.useCallback(function(V){if(V){var O=YK?{passive:!1}:!1;V.addEventListener("wheel",y,O),V.addEventListener("touchstart",x,O),V.addEventListener("touchmove",E,O)}},[E,x,y]),P=A.useCallback(function(V){V&&(V.removeEventListener("wheel",y,!1),V.removeEventListener("touchstart",x,!1),V.removeEventListener("touchmove",E,!1))},[E,x,y]);return A.useEffect(function(){if(e){var V=m.current;return R(V),function(){P(V)}}},[e,R,P]),function(V){m.current=V}}var oN=["boxSizing","height","overflow","paddingRight","position"],lN={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function uN(t){t.cancelable&&t.preventDefault()}function cN(t){t.stopPropagation()}function dN(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function hN(){return"ontouchstart"in window||navigator.maxTouchPoints}var fN=!!(typeof window<"u"&&window.document&&window.document.createElement),wd=0,fu={capture:!1,passive:!1};function NX(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=A.useRef({}),o=A.useRef(null),l=A.useCallback(function(c){if(fN){var m=document.body,p=m&&m.style;if(r&&oN.forEach(function(R){var P=p&&p[R];i.current[R]=P}),r&&wd<1){var y=parseInt(i.current.paddingRight,10)||0,x=document.body?document.body.clientWidth:0,E=window.innerWidth-x+y||0;Object.keys(lN).forEach(function(R){var P=lN[R];p&&(p[R]=P)}),p&&(p.paddingRight="".concat(E,"px"))}m&&hN()&&(m.addEventListener("touchmove",uN,fu),c&&(c.addEventListener("touchstart",dN,fu),c.addEventListener("touchmove",cN,fu))),wd+=1}},[r]),d=A.useCallback(function(c){if(fN){var m=document.body,p=m&&m.style;wd=Math.max(wd-1,0),r&&wd<1&&oN.forEach(function(y){var x=i.current[y];p&&(p[y]=x)}),m&&hN()&&(m.removeEventListener("touchmove",uN,fu),c&&(c.removeEventListener("touchstart",dN,fu),c.removeEventListener("touchmove",cN,fu)))}},[r]);return A.useEffect(function(){if(e){var c=o.current;return l(c),function(){d(c)}}},[e,l,d]),function(c){o.current=c}}var RX=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},IX={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function MX(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,o=t.onBottomArrive,l=t.onBottomLeave,d=t.onTopArrive,c=t.onTopLeave,m=CX({isEnabled:i,onBottomArrive:o,onBottomLeave:l,onTopArrive:d,onTopLeave:c}),p=NX({isEnabled:n}),y=function(E){m(E),p(E)};return He(A.Fragment,null,n&&He("div",{onClick:RX,css:IX}),e(y))}var jX={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},PX=function(e){var n=e.name,r=e.onFocus;return He("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:jX,value:"",onChange:function(){}})},OX=PX;function j1(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function DX(){return j1(/^iPhone/i)}function XO(){return j1(/^Mac/i)}function kX(){return j1(/^iPad/i)||XO()&&navigator.maxTouchPoints>1}function LX(){return DX()||kX()}function VX(){return XO()||LX()}var UX=function(e){return e.label},zX=function(e){return e.label},BX=function(e){return e.value},FX=function(e){return!!e.isDisabled},HX={clearIndicator:AY,container:pY,control:PY,dropdownIndicator:TY,group:LY,groupHeading:UY,indicatorsContainer:bY,indicatorSeparator:NY,input:HY,loadingIndicator:MY,loadingMessage:cY,menu:rY,menuList:oY,menuPortal:fY,multiValue:KY,multiValueLabel:YY,multiValueRemove:XY,noOptionsMessage:uY,option:nX,placeholder:sX,singleValue:lX,valueContainer:vY},$X={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},qX=4,QO=4,GX=38,WX=QO*2,KX={baseUnit:QO,controlHeight:GX,menuGutter:WX},z0={borderRadius:qX,colors:$X,spacing:KX},YX={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:nN(),captureMenuScroll:!nN(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:SX(),formatGroupLabel:UX,getOptionLabel:zX,getOptionValue:BX,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:FX,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!WK(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function mN(t,e,n,r){var i=eD(t,e,n),o=tD(t,e,n),l=JO(t,e),d=Qp(t,e);return{type:"option",data:e,isDisabled:i,isSelected:o,label:l,value:d,index:r}}function op(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(l,d){return mN(t,l,e,d)}).filter(function(l){return gN(t,l)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var o=mN(t,n,e,r);return gN(t,o)?o:void 0}).filter(XK)}function ZO(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,_1(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function pN(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,_1(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function XX(t,e){return ZO(op(t,e))}function gN(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,o=e.isSelected,l=e.label,d=e.value;return(!rD(t)||!o)&&nD(t,{label:l,value:d,data:i},r)}function QX(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var o=e.indexOf(n);if(o>-1)return n;if(i<e.length)return e[i]}return null}function ZX(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var B0=function(e,n){var r,i=(r=e.find(function(o){return o.data===n}))===null||r===void 0?void 0:r.id;return i||null},JO=function(e,n){return e.getOptionLabel(n)},Qp=function(e,n){return e.getOptionValue(n)};function eD(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function tD(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=Qp(t,e);return n.some(function(i){return Qp(t,i)===r})}function nD(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var rD=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},JX=1,iD=function(t){bW(n,t);var e=_W(n);function n(r){var i;if(vW(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.controlRef=null,i.getControlRef=function(c){i.controlRef=c},i.focusedOptionRef=null,i.getFocusedOptionRef=function(c){i.focusedOptionRef=c},i.menuListRef=null,i.getMenuListRef=function(c){i.menuListRef=c},i.inputRef=null,i.getInputRef=function(c){i.inputRef=c},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(c,m){var p=i.props,y=p.onChange,x=p.name;m.name=x,i.ariaOnChange(c,m),y(c,m)},i.setValue=function(c,m,p){var y=i.props,x=y.closeMenuOnSelect,E=y.isMulti,R=y.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:R}),x&&(i.setState({inputIsHiddenAfterUpdate:!E}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(c,{action:m,option:p})},i.selectOption=function(c){var m=i.props,p=m.blurInputOnSelect,y=m.isMulti,x=m.name,E=i.state.selectValue,R=y&&i.isOptionSelected(c,E),P=i.isOptionDisabled(c,E);if(R){var V=i.getOptionValue(c);i.setValue(E.filter(function(O){return i.getOptionValue(O)!==V}),"deselect-option",c)}else if(!P)y?i.setValue([].concat(_1(E),[c]),"select-option",c):i.setValue(c,"select-option");else{i.ariaOnChange(c,{action:"select-option",option:c,name:x});return}p&&i.blurInput()},i.removeValue=function(c){var m=i.props.isMulti,p=i.state.selectValue,y=i.getOptionValue(c),x=p.filter(function(R){return i.getOptionValue(R)!==y}),E=Pm(m,x,x[0]||null);i.onChange(E,{action:"remove-value",removedValue:c}),i.focusInput()},i.clearValue=function(){var c=i.state.selectValue;i.onChange(Pm(i.props.isMulti,[],null),{action:"clear",removedValues:c})},i.popValue=function(){var c=i.props.isMulti,m=i.state.selectValue,p=m[m.length-1],y=m.slice(0,m.length-1),x=Pm(c,y,y[0]||null);p&&i.onChange(x,{action:"pop-value",removedValue:p})},i.getFocusedOptionId=function(c){return B0(i.state.focusableOptionsWithIds,c)},i.getFocusableOptionsWithIds=function(){return pN(op(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var c=arguments.length,m=new Array(c),p=0;p<c;p++)m[p]=arguments[p];return FK.apply(void 0,[i.props.classNamePrefix].concat(m))},i.getOptionLabel=function(c){return JO(i.props,c)},i.getOptionValue=function(c){return Qp(i.props,c)},i.getStyles=function(c,m){var p=i.props.unstyled,y=HX[c](m,p);y.boxSizing="border-box";var x=i.props.styles[c];return x?x(y,m):y},i.getClassNames=function(c,m){var p,y;return(p=(y=i.props.classNames)[c])===null||p===void 0?void 0:p.call(y,m)},i.getElementId=function(c){return"".concat(i.state.instancePrefix,"-").concat(c)},i.getComponents=function(){return dX(i.props)},i.buildCategorizedOptions=function(){return op(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return ZO(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(c,m){i.setState({ariaSelection:Xe({value:c},m)})},i.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(c){i.blockOptionHover=!1},i.onControlMouseDown=function(c){if(!c.defaultPrevented){var m=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&i.onMenuClose():m&&i.openMenu("first"):(m&&(i.openAfterFocus=!0),i.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},i.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!i.props.isDisabled){var m=i.props,p=m.isMulti,y=m.menuIsOpen;i.focusInput(),y?(i.setState({inputIsHiddenAfterUpdate:!p}),i.onMenuClose()):i.openMenu("first"),c.preventDefault()}},i.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(i.clearValue(),c.preventDefault(),i.openAfterFocus=!1,c.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(c){typeof i.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&Kg(c.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(c)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(c){var m=c.touches,p=m&&m.item(0);p&&(i.initialTouchX=p.clientX,i.initialTouchY=p.clientY,i.userIsDragging=!1)},i.onTouchMove=function(c){var m=c.touches,p=m&&m.item(0);if(p){var y=Math.abs(p.clientX-i.initialTouchX),x=Math.abs(p.clientY-i.initialTouchY),E=5;i.userIsDragging=y>E||x>E}},i.onTouchEnd=function(c){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(c.target)&&i.menuListRef&&!i.menuListRef.contains(c.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(c){i.userIsDragging||i.onControlMouseDown(c)},i.onClearIndicatorTouchEnd=function(c){i.userIsDragging||i.onClearIndicatorMouseDown(c)},i.onDropdownIndicatorTouchEnd=function(c){i.userIsDragging||i.onDropdownIndicatorMouseDown(c)},i.handleInputChange=function(c){var m=i.props.inputValue,p=c.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(p,{action:"input-change",prevInputValue:m}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(c){i.props.onFocus&&i.props.onFocus(c),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(c){var m=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(c),i.onInputChange("",{action:"input-blur",prevInputValue:m}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(c){if(!(i.blockOptionHover||i.state.focusedOption===c)){var m=i.getFocusableOptions(),p=m.indexOf(c);i.setState({focusedOption:c,focusedOptionId:p>-1?i.getFocusedOptionId(c):null})}},i.shouldHideSelectedOptions=function(){return rD(i.props)},i.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),i.focus()},i.onKeyDown=function(c){var m=i.props,p=m.isMulti,y=m.backspaceRemovesValue,x=m.escapeClearsValue,E=m.inputValue,R=m.isClearable,P=m.isDisabled,V=m.menuIsOpen,O=m.onKeyDown,B=m.tabSelectsValue,F=m.openMenuOnFocus,Y=i.state,M=Y.focusedOption,j=Y.focusedValue,C=Y.selectValue;if(!P&&!(typeof O=="function"&&(O(c),c.defaultPrevented))){switch(i.blockOptionHover=!0,c.key){case"ArrowLeft":if(!p||E)return;i.focusValue("previous");break;case"ArrowRight":if(!p||E)return;i.focusValue("next");break;case"Delete":case"Backspace":if(E)return;if(j)i.removeValue(j);else{if(!y)return;p?i.popValue():R&&i.clearValue()}break;case"Tab":if(i.isComposing||c.shiftKey||!V||!B||!M||F&&i.isOptionSelected(M,C))return;i.selectOption(M);break;case"Enter":if(c.keyCode===229)break;if(V){if(!M||i.isComposing)return;i.selectOption(M);break}return;case"Escape":V?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:E}),i.onMenuClose()):R&&x&&i.clearValue();break;case" ":if(E)return;if(!V){i.openMenu("first");break}if(!M)return;i.selectOption(M);break;case"ArrowUp":V?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":V?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!V)return;i.focusOption("pageup");break;case"PageDown":if(!V)return;i.focusOption("pagedown");break;case"Home":if(!V)return;i.focusOption("first");break;case"End":if(!V)return;i.focusOption("last");break;default:return}c.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++JX),i.state.selectValue=eN(r.value),r.menuIsOpen&&i.state.selectValue.length){var o=i.getFocusableOptionsWithIds(),l=i.buildFocusableOptions(),d=l.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=o,i.state.focusedOption=l[d],i.state.focusedOptionId=B0(o,l[d])}return i}return yW(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&tN(this.menuListRef,this.focusedOptionRef),VX()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(i){var o=this.props,l=o.isDisabled,d=o.menuIsOpen,c=this.state.isFocused;(c&&!l&&i.isDisabled||c&&d&&!i.menuIsOpen)&&this.focusInput(),c&&l&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!l&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(tN(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,o){this.props.onInputChange(i,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var o=this,l=this.state,d=l.selectValue,c=l.isFocused,m=this.buildFocusableOptions(),p=i==="first"?0:m.length-1;if(!this.props.isMulti){var y=m.indexOf(d[0]);y>-1&&(p=y)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:m[p],focusedOptionId:this.getFocusedOptionId(m[p])},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(i){var o=this.state,l=o.selectValue,d=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=l.indexOf(d);d||(c=-1);var m=l.length-1,p=-1;if(l.length){switch(i){case"previous":c===0?p=0:c===-1?p=m:p=c-1;break;case"next":c>-1&&c<m&&(p=c+1);break}this.setState({inputIsHidden:p!==-1,focusedValue:l[p]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,l=this.state.focusedOption,d=this.getFocusableOptions();if(d.length){var c=0,m=d.indexOf(l);l||(m=-1),i==="up"?c=m>0?m-1:d.length-1:i==="down"?c=(m+1)%d.length:i==="pageup"?(c=m-o,c<0&&(c=0)):i==="pagedown"?(c=m+o,c>d.length-1&&(c=d.length-1)):i==="last"&&(c=d.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:d[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(d[c])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(z0):Xe(Xe({},z0),this.props.theme):z0}},{key:"getCommonProps",value:function(){var i=this.clearValue,o=this.cx,l=this.getStyles,d=this.getClassNames,c=this.getValue,m=this.selectOption,p=this.setValue,y=this.props,x=y.isMulti,E=y.isRtl,R=y.options,P=this.hasValue();return{clearValue:i,cx:o,getStyles:l,getClassNames:d,getValue:c,hasValue:P,isMulti:x,isRtl:E,options:R,selectOption:m,selectProps:y,setValue:p,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,o=i.isClearable,l=i.isMulti;return o===void 0?l:o}},{key:"isOptionDisabled",value:function(i,o){return eD(this.props,i,o)}},{key:"isOptionSelected",value:function(i,o){return tD(this.props,i,o)}},{key:"filterOption",value:function(i,o){return nD(this.props,i,o)}},{key:"formatOptionLabel",value:function(i,o){if(typeof this.props.formatOptionLabel=="function"){var l=this.props.inputValue,d=this.state.selectValue;return this.props.formatOptionLabel(i,{context:o,inputValue:l,selectValue:d})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,o=i.isDisabled,l=i.isSearchable,d=i.inputId,c=i.inputValue,m=i.tabIndex,p=i.form,y=i.menuIsOpen,x=i.required,E=this.getComponents(),R=E.Input,P=this.state,V=P.inputIsHidden,O=P.ariaSelection,B=this.commonProps,F=d||this.getElementId("input"),Y=Xe(Xe(Xe({"aria-autocomplete":"list","aria-expanded":y,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":x,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},y&&{"aria-controls":this.getElementId("listbox")}),!l&&{"aria-readonly":!0}),this.hasValue()?O?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return l?A.createElement(R,nt({},B,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:F,innerRef:this.getInputRef,isDisabled:o,isHidden:V,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:m,form:p,type:"text",value:c},Y)):A.createElement(EX,nt({id:F,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Yp,onFocus:this.onInputFocus,disabled:o,tabIndex:m,inputMode:"none",form:p,value:""},Y))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,o=this.getComponents(),l=o.MultiValue,d=o.MultiValueContainer,c=o.MultiValueLabel,m=o.MultiValueRemove,p=o.SingleValue,y=o.Placeholder,x=this.commonProps,E=this.props,R=E.controlShouldRenderValue,P=E.isDisabled,V=E.isMulti,O=E.inputValue,B=E.placeholder,F=this.state,Y=F.selectValue,M=F.focusedValue,j=F.isFocused;if(!this.hasValue()||!R)return O?null:A.createElement(y,nt({},x,{key:"placeholder",isDisabled:P,isFocused:j,innerProps:{id:this.getElementId("placeholder")}}),B);if(V)return Y.map(function(I,N){var T=I===M,U="".concat(i.getOptionLabel(I),"-").concat(i.getOptionValue(I));return A.createElement(l,nt({},x,{components:{Container:d,Label:c,Remove:m},isFocused:T,isDisabled:P,key:U,index:N,removeProps:{onClick:function(){return i.removeValue(I)},onTouchEnd:function(){return i.removeValue(I)},onMouseDown:function(D){D.preventDefault()}},data:I}),i.formatOptionLabel(I,"value"))});if(O)return null;var C=Y[0];return A.createElement(p,nt({},x,{data:C,isDisabled:P}),this.formatOptionLabel(C,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),o=i.ClearIndicator,l=this.commonProps,d=this.props,c=d.isDisabled,m=d.isLoading,p=this.state.isFocused;if(!this.isClearable()||!o||c||!this.hasValue()||m)return null;var y={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return A.createElement(o,nt({},l,{innerProps:y,isFocused:p}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),o=i.LoadingIndicator,l=this.commonProps,d=this.props,c=d.isDisabled,m=d.isLoading,p=this.state.isFocused;if(!o||!m)return null;var y={"aria-hidden":"true"};return A.createElement(o,nt({},l,{innerProps:y,isDisabled:c,isFocused:p}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator,l=i.IndicatorSeparator;if(!o||!l)return null;var d=this.commonProps,c=this.props.isDisabled,m=this.state.isFocused;return A.createElement(l,nt({},d,{isDisabled:c,isFocused:m}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator;if(!o)return null;var l=this.commonProps,d=this.props.isDisabled,c=this.state.isFocused,m={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return A.createElement(o,nt({},l,{innerProps:m,isDisabled:d,isFocused:c}))}},{key:"renderMenu",value:function(){var i=this,o=this.getComponents(),l=o.Group,d=o.GroupHeading,c=o.Menu,m=o.MenuList,p=o.MenuPortal,y=o.LoadingMessage,x=o.NoOptionsMessage,E=o.Option,R=this.commonProps,P=this.state.focusedOption,V=this.props,O=V.captureMenuScroll,B=V.inputValue,F=V.isLoading,Y=V.loadingMessage,M=V.minMenuHeight,j=V.maxMenuHeight,C=V.menuIsOpen,I=V.menuPlacement,N=V.menuPosition,T=V.menuPortalTarget,U=V.menuShouldBlockScroll,$=V.menuShouldScrollIntoView,D=V.noOptionsMessage,G=V.onMenuScrollToTop,Z=V.onMenuScrollToBottom;if(!C)return null;var H=function(Q,ne){var se=Q.type,le=Q.data,ve=Q.isDisabled,Ee=Q.isSelected,Pe=Q.label,Re=Q.value,ze=P===le,Ye=ve?void 0:function(){return i.onOptionHover(le)},Qe=ve?void 0:function(){return i.selectOption(le)},pe="".concat(i.getElementId("option"),"-").concat(ne),Ce={id:pe,onClick:Qe,onMouseMove:Ye,onMouseOver:Ye,tabIndex:-1,role:"option","aria-selected":i.state.isAppleDevice?void 0:Ee};return A.createElement(E,nt({},R,{innerProps:Ce,data:le,isDisabled:ve,isSelected:Ee,key:pe,label:Pe,type:se,value:Re,isFocused:ze,innerRef:ze?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(Q.data,"menu"))},S;if(this.hasOptions())S=this.getCategorizedOptions().map(function(X){if(X.type==="group"){var Q=X.data,ne=X.options,se=X.index,le="".concat(i.getElementId("group"),"-").concat(se),ve="".concat(le,"-heading");return A.createElement(l,nt({},R,{key:le,data:Q,options:ne,Heading:d,headingProps:{id:ve,data:X.data},label:i.formatGroupLabel(X.data)}),X.options.map(function(Ee){return H(Ee,"".concat(se,"-").concat(Ee.index))}))}else if(X.type==="option")return H(X,"".concat(X.index))});else if(F){var J=Y({inputValue:B});if(J===null)return null;S=A.createElement(y,R,J)}else{var K=D({inputValue:B});if(K===null)return null;S=A.createElement(x,R,K)}var w={minMenuHeight:M,maxMenuHeight:j,menuPlacement:I,menuPosition:N,menuShouldScrollIntoView:$},z=A.createElement(iY,nt({},R,w),function(X){var Q=X.ref,ne=X.placerProps,se=ne.placement,le=ne.maxHeight;return A.createElement(c,nt({},R,w,{innerRef:Q,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:F,placement:se}),A.createElement(MX,{captureEnabled:O,onTopArrive:G,onBottomArrive:Z,lockEnabled:U},function(ve){return A.createElement(m,nt({},R,{innerRef:function(Pe){i.getMenuListRef(Pe),ve(Pe)},innerProps:{role:"listbox","aria-multiselectable":R.isMulti,id:i.getElementId("listbox")},isLoading:F,maxHeight:le,focusedOption:P}),S)}))});return T||N==="fixed"?A.createElement(p,nt({},R,{appendTo:T,controlElement:this.controlRef,menuPlacement:I,menuPosition:N}),z):z}},{key:"renderFormField",value:function(){var i=this,o=this.props,l=o.delimiter,d=o.isDisabled,c=o.isMulti,m=o.name,p=o.required,y=this.state.selectValue;if(p&&!this.hasValue()&&!d)return A.createElement(OX,{name:m,onFocus:this.onValueInputFocus});if(!(!m||d))if(c)if(l){var x=y.map(function(P){return i.getOptionValue(P)}).join(l);return A.createElement("input",{name:m,type:"hidden",value:x})}else{var E=y.length>0?y.map(function(P,V){return A.createElement("input",{key:"i-".concat(V),name:m,type:"hidden",value:i.getOptionValue(P)})}):A.createElement("input",{name:m,type:"hidden",value:""});return A.createElement("div",null,E)}else{var R=y[0]?this.getOptionValue(y[0]):"";return A.createElement("input",{name:m,type:"hidden",value:R})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,o=this.state,l=o.ariaSelection,d=o.focusedOption,c=o.focusedValue,m=o.isFocused,p=o.selectValue,y=this.getFocusableOptions();return A.createElement(bX,nt({},i,{id:this.getElementId("live-region"),ariaSelection:l,focusedOption:d,focusedValue:c,isFocused:m,selectValue:p,focusableOptions:y,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),o=i.Control,l=i.IndicatorsContainer,d=i.SelectContainer,c=i.ValueContainer,m=this.props,p=m.className,y=m.id,x=m.isDisabled,E=m.menuIsOpen,R=this.state.isFocused,P=this.commonProps=this.getCommonProps();return A.createElement(d,nt({},P,{className:p,innerProps:{id:y,onKeyDown:this.onKeyDown},isDisabled:x,isFocused:R}),this.renderLiveRegion(),A.createElement(o,nt({},P,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:x,isFocused:R,menuIsOpen:E}),A.createElement(c,nt({},P,{isDisabled:x}),this.renderPlaceholderOrValue(),this.renderInput()),A.createElement(l,nt({},P,{isDisabled:x}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,o){var l=o.prevProps,d=o.clearFocusValueOnUpdate,c=o.inputIsHiddenAfterUpdate,m=o.ariaSelection,p=o.isFocused,y=o.prevWasFocused,x=o.instancePrefix,E=i.options,R=i.value,P=i.menuIsOpen,V=i.inputValue,O=i.isMulti,B=eN(R),F={};if(l&&(R!==l.value||E!==l.options||P!==l.menuIsOpen||V!==l.inputValue)){var Y=P?XX(i,B):[],M=P?pN(op(i,B),"".concat(x,"-option")):[],j=d?QX(o,B):null,C=ZX(o,Y),I=B0(M,C);F={selectValue:B,focusedOption:C,focusedOptionId:I,focusableOptionsWithIds:M,focusedValue:j,clearFocusValueOnUpdate:!1}}var N=c!=null&&i!==l?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},T=m,U=p&&y;return p&&!U&&(T={value:Pm(O,B,B[0]||null),options:B,action:"initial-input-focus"},U=!y),m?.action==="initial-input-focus"&&(T=null),Xe(Xe(Xe({},F),N),{},{prevProps:i,ariaSelection:T,prevWasFocused:U})}}]),n}(A.Component);iD.defaultProps=YX;var eQ=A.forwardRef(function(t,e){var n=gW(t);return A.createElement(iD,nt({ref:e},n))}),yh=eQ;const tQ=JSON.parse(`[{"value":"AF","label":"Afghanistan"},{"value":"AX","label":"land Islands"},{"value":"AL","label":"Albania"},{"value":"DZ","label":"Algeria"},{"value":"AS","label":"American Samoa"},{"value":"AD","label":"Andorra"},{"value":"AO","label":"Angola"},{"value":"AI","label":"Anguilla"},{"value":"AQ","label":"Antarctica"},{"value":"AG","label":"Antigua and Barbuda"},{"value":"AR","label":"Argentina"},{"value":"AM","label":"Armenia"},{"value":"AW","label":"Aruba"},{"value":"AU","label":"Australia"},{"value":"AT","label":"Austria"},{"value":"AZ","label":"Azerbaijan"},{"value":"BS","label":"Bahamas"},{"value":"BH","label":"Bahrain"},{"value":"BD","label":"Bangladesh"},{"value":"BB","label":"Barbados"},{"value":"BY","label":"Belarus"},{"value":"BE","label":"Belgium"},{"value":"BZ","label":"Belize"},{"value":"BJ","label":"Benin"},{"value":"BM","label":"Bermuda"},{"value":"BT","label":"Bhutan"},{"value":"BO","label":"Bolivia, Plurinational State of"},{"value":"BQ","label":"Bonaire, Sint Eustatius and Saba"},{"value":"BA","label":"Bosnia and Herzegovina"},{"value":"BW","label":"Botswana"},{"value":"BV","label":"Bouvet Island"},{"value":"BR","label":"Brazil"},{"value":"IO","label":"British Indian Ocean Territory"},{"value":"BN","label":"Brunei Darussalam"},{"value":"BG","label":"Bulgaria"},{"value":"BF","label":"Burkina Faso"},{"value":"BI","label":"Burundi"},{"value":"CV","label":"Cabo Verde"},{"value":"KH","label":"Cambodia"},{"value":"CM","label":"Cameroon"},{"value":"CA","label":"Canada"},{"value":"KY","label":"Cayman Islands"},{"value":"CF","label":"Central African Republic"},{"value":"TD","label":"Chad"},{"value":"CL","label":"Chile"},{"value":"CN","label":"China"},{"value":"CX","label":"Christmas Island"},{"value":"CC","label":"Cocos (Keeling) Islands"},{"value":"CO","label":"Colombia"},{"value":"KM","label":"Comoros"},{"value":"CG","label":"Congo"},{"value":"CD","label":"Congo, Democratic Republic of the"},{"value":"CK","label":"Cook Islands"},{"value":"CR","label":"Costa Rica"},{"value":"HR","label":"Croatia"},{"value":"CU","label":"Cuba"},{"value":"CW","label":"Curaao"},{"value":"CY","label":"Cyprus"},{"value":"CZ","label":"Czechia"},{"value":"CI","label":"Cte d'Ivoire"},{"value":"DK","label":"Denmark"},{"value":"DJ","label":"Djibouti"},{"value":"DM","label":"Dominica"},{"value":"DO","label":"Dominican Republic"},{"value":"EC","label":"Ecuador"},{"value":"EG","label":"Egypt"},{"value":"SV","label":"El Salvador"},{"value":"GQ","label":"Equatorial Guinea"},{"value":"ER","label":"Eritrea"},{"value":"EE","label":"Estonia"},{"value":"SZ","label":"Eswatini"},{"value":"ET","label":"Ethiopia"},{"value":"FK","label":"Falkland Islands (Malvinas)"},{"value":"FO","label":"Faroe Islands"},{"value":"FJ","label":"Fiji"},{"value":"FI","label":"Finland"},{"value":"FR","label":"France"},{"value":"GF","label":"French Guiana"},{"value":"PF","label":"French Polynesia"},{"value":"TF","label":"French Southern Territories"},{"value":"GA","label":"Gabon"},{"value":"GM","label":"Gambia"},{"value":"GE","label":"Georgia"},{"value":"DE","label":"Germany"},{"value":"GH","label":"Ghana"},{"value":"GI","label":"Gibraltar"},{"value":"GR","label":"Greece"},{"value":"GL","label":"Greenland"},{"value":"GD","label":"Grenada"},{"value":"GP","label":"Guadeloupe"},{"value":"GU","label":"Guam"},{"value":"GT","label":"Guatemala"},{"value":"GG","label":"Guernsey"},{"value":"GN","label":"Guinea"},{"value":"GW","label":"Guinea-Bissau"},{"value":"GY","label":"Guyana"},{"value":"HT","label":"Haiti"},{"value":"HM","label":"Heard Island and McDonald Islands"},{"value":"VA","label":"Holy See"},{"value":"HN","label":"Honduras"},{"value":"HK","label":"Hong Kong"},{"value":"HU","label":"Hungary"},{"value":"IS","label":"Iceland"},{"value":"IN","label":"India"},{"value":"ID","label":"Indonesia"},{"value":"IR","label":"Iran, Islamic Republic of"},{"value":"IQ","label":"Iraq"},{"value":"IE","label":"Ireland"},{"value":"IM","label":"Isle of Man"},{"value":"IL","label":"Israel"},{"value":"IT","label":"Italy"},{"value":"JM","label":"Jamaica"},{"value":"JP","label":"Japan"},{"value":"JE","label":"Jersey"},{"value":"JO","label":"Jordan"},{"value":"KZ","label":"Kazakhstan"},{"value":"KE","label":"Kenya"},{"value":"KI","label":"Kiribati"},{"value":"KP","label":"Korea, Democratic People's Republic of"},{"value":"KR","label":"Korea, Republic of"},{"value":"KW","label":"Kuwait"},{"value":"KG","label":"Kyrgyzstan"},{"value":"LA","label":"Lao People's Democratic Republic"},{"value":"LV","label":"Latvia"},{"value":"LB","label":"Lebanon"},{"value":"LS","label":"Lesotho"},{"value":"LR","label":"Liberia"},{"value":"LY","label":"Libya"},{"value":"LI","label":"Liechtenstein"},{"value":"LT","label":"Lithuania"},{"value":"LU","label":"Luxembourg"},{"value":"MO","label":"Macao"},{"value":"MG","label":"Madagascar"},{"value":"MW","label":"Malawi"},{"value":"MY","label":"Malaysia"},{"value":"MV","label":"Maldives"},{"value":"ML","label":"Mali"},{"value":"MT","label":"Malta"},{"value":"MH","label":"Marshall Islands"},{"value":"MQ","label":"Martinique"},{"value":"MR","label":"Mauritania"},{"value":"MU","label":"Mauritius"},{"value":"YT","label":"Mayotte"},{"value":"MX","label":"Mexico"},{"value":"FM","label":"Micronesia, Federated States of"},{"value":"MD","label":"Moldova, Republic of"},{"value":"MC","label":"Monaco"},{"value":"MN","label":"Mongolia"},{"value":"ME","label":"Montenegro"},{"value":"MS","label":"Montserrat"},{"value":"MA","label":"Morocco"},{"value":"MZ","label":"Mozambique"},{"value":"MM","label":"Myanmar"},{"value":"NA","label":"Namibia"},{"value":"NR","label":"Nauru"},{"value":"NP","label":"Nepal"},{"value":"NL","label":"Netherlands"},{"value":"NC","label":"New Caledonia"},{"value":"NZ","label":"New Zealand"},{"value":"NI","label":"Nicaragua"},{"value":"NE","label":"Niger"},{"value":"NG","label":"Nigeria"},{"value":"NU","label":"Niue"},{"value":"NF","label":"Norfolk Island"},{"value":"MK","label":"North Macedonia"},{"value":"MP","label":"Northern Mariana Islands"},{"value":"NO","label":"Norway"},{"value":"OM","label":"Oman"},{"value":"PK","label":"Pakistan"},{"value":"PW","label":"Palau"},{"value":"PS","label":"Palestine, State of"},{"value":"PA","label":"Panama"},{"value":"PG","label":"Papua New Guinea"},{"value":"PY","label":"Paraguay"},{"value":"PE","label":"Peru"},{"value":"PH","label":"Philippines"},{"value":"PN","label":"Pitcairn"},{"value":"PL","label":"Poland"},{"value":"PT","label":"Portugal"},{"value":"PR","label":"Puerto Rico"},{"value":"QA","label":"Qatar"},{"value":"RO","label":"Romania"},{"value":"RU","label":"Russian Federation"},{"value":"RW","label":"Rwanda"},{"value":"RE","label":"Runion"},{"value":"BL","label":"Saint Barthlemy"},{"value":"SH","label":"Saint Helena, Ascension and Tristan da Cunha"},{"value":"KN","label":"Saint Kitts and Nevis"},{"value":"LC","label":"Saint Lucia"},{"value":"MF","label":"Saint Martin (French part)"},{"value":"PM","label":"Saint Pierre and Miquelon"},{"value":"VC","label":"Saint Vincent and the Grenadines"},{"value":"WS","label":"Samoa"},{"value":"SM","label":"San Marino"},{"value":"ST","label":"Sao Tome and Principe"},{"value":"SA","label":"Saudi Arabia"},{"value":"SN","label":"Senegal"},{"value":"RS","label":"Serbia"},{"value":"SC","label":"Seychelles"},{"value":"SL","label":"Sierra Leone"},{"value":"SG","label":"Singapore"},{"value":"SX","label":"Sint Maarten (Dutch part)"},{"value":"SK","label":"Slovakia"},{"value":"SI","label":"Slovenia"},{"value":"SB","label":"Solomon Islands"},{"value":"SO","label":"Somalia"},{"value":"ZA","label":"South Africa"},{"value":"GS","label":"South Georgia and the South Sandwich Islands"},{"value":"SS","label":"South Sudan"},{"value":"ES","label":"Spain"},{"value":"LK","label":"Sri Lanka"},{"value":"SD","label":"Sudan"},{"value":"SR","label":"Suriname"},{"value":"SJ","label":"Svalbard and Jan Mayen"},{"value":"SE","label":"Sweden"},{"value":"CH","label":"Switzerland"},{"value":"SY","label":"Syrian Arab Republic"},{"value":"TW","label":"Taiwan, Province of China"},{"value":"TJ","label":"Tajikistan"},{"value":"TZ","label":"Tanzania, United Republic of"},{"value":"TH","label":"Thailand"},{"value":"TL","label":"Timor-Leste"},{"value":"TG","label":"Togo"},{"value":"TK","label":"Tokelau"},{"value":"TO","label":"Tonga"},{"value":"TT","label":"Trinidad and Tobago"},{"value":"TN","label":"Tunisia"},{"value":"TR","label":"Turkey"},{"value":"TM","label":"Turkmenistan"},{"value":"TC","label":"Turks and Caicos Islands"},{"value":"TV","label":"Tuvalu"},{"value":"UG","label":"Uganda"},{"value":"UA","label":"Ukraine"},{"value":"AE","label":"United Arab Emirates"},{"value":"GB","label":"United Kingdom"},{"value":"UM","label":"United States Minor Outlying Islands"},{"value":"US","label":"United States"},{"value":"UY","label":"Uruguay"},{"value":"UZ","label":"Uzbekistan"},{"value":"VU","label":"Vanuatu"},{"value":"VE","label":"Venezuela, Bolivarian Republic of"},{"value":"VN","label":"Viet Nam"},{"value":"VG","label":"Virgin Islands, British"},{"value":"VI","label":"Virgin Islands, U.S."},{"value":"WF","label":"Wallis and Futuna"},{"value":"EH","label":"Western Sahara"},{"value":"YE","label":"Yemen"},{"value":"ZM","label":"Zambia"},{"value":"ZW","label":"Zimbabwe"}]`),nQ=JSON.parse(`[{"value":"AF","label":""},{"value":"AX","label":"land"},{"value":"AL","label":"Shqipria"},{"value":"DZ","label":""},{"value":"AS","label":"American Samoa"},{"value":"AD","label":"Andorra"},{"value":"AO","label":"Angola"},{"value":"AI","label":"Anguilla"},{"value":"AQ","label":"Antarctica"},{"value":"AG","label":"Antigua and Barbuda"},{"value":"AR","label":"Argentina"},{"value":"AM","label":""},{"value":"AW","label":"Aruba"},{"value":"AU","label":"Australia"},{"value":"AT","label":"sterreich"},{"value":"AZ","label":"Azrbaycan"},{"value":"BS","label":"Bahamas"},{"value":"BH","label":""},{"value":"BD","label":"Bangladesh"},{"value":"BB","label":"Barbados"},{"value":"BY","label":""},{"value":"BE","label":"Belgi"},{"value":"BZ","label":"Belize"},{"value":"BJ","label":"Bnin"},{"value":"BM","label":"Bermuda"},{"value":"BT","label":"brug-yul"},{"value":"BO","label":"Bolivia"},{"value":"BQ","label":"Bonaire"},{"value":"BA","label":"Bosna i Hercegovina"},{"value":"BW","label":"Botswana"},{"value":"BV","label":"Bouvetya"},{"value":"BR","label":"Brasil"},{"value":"IO","label":"British Indian Ocean Territory"},{"value":"BN","label":"Negara Brunei Darussalam"},{"value":"BG","label":""},{"value":"BF","label":"Burkina Faso"},{"value":"BI","label":"Burundi"},{"value":"KH","label":"Kmpcha"},{"value":"CM","label":"Cameroon"},{"value":"CA","label":"Canada"},{"value":"CV","label":"Cabo Verde"},{"value":"KY","label":"Cayman Islands"},{"value":"CF","label":"Kdrsse t Bafrka"},{"value":"TD","label":"Tchad"},{"value":"CL","label":"Chile"},{"value":"CN","label":""},{"value":"CX","label":"Christmas Island"},{"value":"CC","label":"Cocos (Keeling) Islands"},{"value":"CO","label":"Colombia"},{"value":"KM","label":"Komori"},{"value":"CG","label":"Rpublique du Congo"},{"value":"CD","label":"Rpublique dmocratique du Congo"},{"value":"CK","label":"Cook Islands"},{"value":"CR","label":"Costa Rica"},{"value":"CI","label":"Cte d'Ivoire"},{"value":"HR","label":"Hrvatska"},{"value":"CU","label":"Cuba"},{"value":"CW","label":"Curaao"},{"value":"CY","label":""},{"value":"CZ","label":"esk republika"},{"value":"DK","label":"Danmark"},{"value":"DJ","label":"Djibouti"},{"value":"DM","label":"Dominica"},{"value":"DO","label":"Repblica Dominicana"},{"value":"EC","label":"Ecuador"},{"value":"EG","label":""},{"value":"SV","label":"El Salvador"},{"value":"GQ","label":"Guinea Ecuatorial"},{"value":"ER","label":""},{"value":"EE","label":"Eesti"},{"value":"ET","label":""},{"value":"FK","label":"Falkland Islands"},{"value":"FO","label":"Froyar"},{"value":"FJ","label":"Fiji"},{"value":"FI","label":"Suomi"},{"value":"FR","label":"France"},{"value":"GF","label":"Guyane franaise"},{"value":"PF","label":"Polynsie franaise"},{"value":"TF","label":"Territoire des Terres australes et antarctiques fr"},{"value":"GA","label":"Gabon"},{"value":"GM","label":"Gambia"},{"value":"GE","label":""},{"value":"DE","label":"Deutschland"},{"value":"GH","label":"Ghana"},{"value":"GI","label":"Gibraltar"},{"value":"GR","label":""},{"value":"GL","label":"Kalaallit Nunaat"},{"value":"GD","label":"Grenada"},{"value":"GP","label":"Guadeloupe"},{"value":"GU","label":"Guam"},{"value":"GT","label":"Guatemala"},{"value":"GG","label":"Guernsey"},{"value":"GN","label":"Guine"},{"value":"GW","label":"Guin-Bissau"},{"value":"GY","label":"Guyana"},{"value":"HT","label":"Hati"},{"value":"HM","label":"Heard Island and McDonald Islands"},{"value":"VA","label":"Vaticano"},{"value":"HN","label":"Honduras"},{"value":"HK","label":""},{"value":"HU","label":"Magyarorszg"},{"value":"IS","label":"sland"},{"value":"IN","label":""},{"value":"ID","label":"Indonesia"},{"value":"IR","label":""},{"value":"IQ","label":""},{"value":"IE","label":"ire"},{"value":"IM","label":"Isle of Man"},{"value":"IL","label":""},{"value":"IT","label":"Italia"},{"value":"JM","label":"Jamaica"},{"value":"JP","label":""},{"value":"JE","label":"Jersey"},{"value":"JO","label":""},{"value":"KZ","label":""},{"value":"KE","label":"Kenya"},{"value":"KI","label":"Kiribati"},{"value":"KP","label":""},{"value":"KR","label":""},{"value":"KW","label":""},{"value":"KG","label":""},{"value":"LA","label":""},{"value":"LV","label":"Latvija"},{"value":"LB","label":""},{"value":"LS","label":"Lesotho"},{"value":"LR","label":"Liberia"},{"value":"LY","label":""},{"value":"LI","label":"Liechtenstein"},{"value":"LT","label":"Lietuva"},{"value":"LU","label":"Luxembourg"},{"value":"MO","label":""},{"value":"MK","label":" "},{"value":"MG","label":"Madagasikara"},{"value":"MW","label":"Malawi"},{"value":"MY","label":"Malaysia"},{"value":"MV","label":"Maldives"},{"value":"ML","label":"Mali"},{"value":"MT","label":"Malta"},{"value":"MH","label":"Maje"},{"value":"MQ","label":"Martinique"},{"value":"MR","label":""},{"value":"MU","label":"Maurice"},{"value":"YT","label":"Mayotte"},{"value":"MX","label":"Mxico"},{"value":"FM","label":"Micronesia"},{"value":"MD","label":"Moldova"},{"value":"MC","label":"Monaco"},{"value":"MN","label":" "},{"value":"ME","label":" "},{"value":"MS","label":"Montserrat"},{"value":"MA","label":""},{"value":"MZ","label":"Moambique"},{"value":"MM","label":""},{"value":"NA","label":"Namibia"},{"value":"NR","label":"Nauru"},{"value":"NP","label":""},{"value":"NL","label":"Nederland"},{"value":"NC","label":"Nouvelle-Caldonie"},{"value":"NZ","label":"New Zealand"},{"value":"NI","label":"Nicaragua"},{"value":"NE","label":"Niger"},{"value":"NG","label":"Nigeria"},{"value":"NU","label":"Niu"},{"value":"NF","label":"Norfolk Island"},{"value":"MP","label":"Northern Mariana Islands"},{"value":"NO","label":"Norge"},{"value":"OM","label":""},{"value":"PK","label":"Pakistan"},{"value":"PW","label":"Palau"},{"value":"PS","label":""},{"value":"PA","label":"Panam"},{"value":"PG","label":"Papua Niugini"},{"value":"PY","label":"Paraguay"},{"value":"PE","label":"Per"},{"value":"PH","label":"Pilipinas"},{"value":"PN","label":"Pitcairn Islands"},{"value":"PL","label":"Polska"},{"value":"PT","label":"Portugal"},{"value":"PR","label":"Puerto Rico"},{"value":"QA","label":""},{"value":"RE","label":"La Runion"},{"value":"RO","label":"Romnia"},{"value":"RU","label":""},{"value":"RW","label":"Rwanda"},{"value":"BL","label":"Saint-Barthlemy"},{"value":"SH","label":"Saint Helena"},{"value":"KN","label":"Saint Kitts and Nevis"},{"value":"LC","label":"Saint Lucia"},{"value":"MF","label":"Saint-Martin"},{"value":"PM","label":"Saint-Pierre-et-Miquelon"},{"value":"VC","label":"Saint Vincent and the Grenadines"},{"value":"WS","label":"Samoa"},{"value":"SM","label":"San Marino"},{"value":"ST","label":"So Tom e Prncipe"},{"value":"SA","label":" "},{"value":"SN","label":"Sngal"},{"value":"RS","label":""},{"value":"SC","label":"Seychelles"},{"value":"SL","label":"Sierra Leone"},{"value":"SG","label":"Singapore"},{"value":"SX","label":"Sint Maarten"},{"value":"SK","label":"Slovensko"},{"value":"SI","label":"Slovenija"},{"value":"SB","label":"Solomon Islands"},{"value":"SO","label":"Soomaaliya"},{"value":"ZA","label":"South Africa"},{"value":"GS","label":"South Georgia"},{"value":"SS","label":"South Sudan"},{"value":"ES","label":"Espaa"},{"value":"LK","label":"r lakva"},{"value":"SD","label":""},{"value":"SR","label":"Suriname"},{"value":"SJ","label":"Svalbard og Jan Mayen"},{"value":"SZ","label":"Swaziland"},{"value":"SE","label":"Sverige"},{"value":"CH","label":"Schweiz"},{"value":"SY","label":""},{"value":"TW","label":""},{"value":"TJ","label":""},{"value":"TZ","label":"Tanzania"},{"value":"TH","label":""},{"value":"TL","label":"Timor-Leste"},{"value":"TG","label":"Togo"},{"value":"TK","label":"Tokelau"},{"value":"TO","label":"Tonga"},{"value":"TT","label":"Trinidad and Tobago"},{"value":"TN","label":""},{"value":"TR","label":"Trkiye"},{"value":"TM","label":"Trkmenistan"},{"value":"TC","label":"Turks and Caicos Islands"},{"value":"TV","label":"Tuvalu"},{"value":"UG","label":"Uganda"},{"value":"UA","label":""},{"value":"AE","label":"   "},{"value":"GB","label":"United Kingdom"},{"value":"US","label":"United States"},{"value":"UM","label":"United States Minor Outlying Islands"},{"value":"UY","label":"Uruguay"},{"value":"UZ","label":"Ozbekiston"},{"value":"VU","label":"Vanuatu"},{"value":"VE","label":"Venezuela"},{"value":"VN","label":"Vit Nam"},{"value":"VG","label":"British Virgin Islands"},{"value":"VI","label":"United States Virgin Islands"},{"value":"WF","label":"Wallis et Futuna"},{"value":"EH","label":" "},{"value":"YE","label":""},{"value":"ZM","label":"Zambia"},{"value":"ZW","label":"Zimbabwe"}]`);var F0,vN;function rQ(){if(vN)return F0;vN=1;class t{constructor(){this.data=tQ,this.labelMap={},this.valueMap={},this.data.forEach(r=>{this.labelMap[r.label.toLowerCase()]=r.value,this.valueMap[r.value.toLowerCase()]=r.label})}getValue(r){return this.labelMap[r.toLowerCase()]}getLabel(r){return this.valueMap[r.toLowerCase()]}getLabels(){return this.data.map(r=>r.label)}getValues(){return this.data.map(r=>r.value)}getLabelList(){return this.labelMap}getValueList(){return this.valueMap}getData(){return this.data}setLabel(r,i){return this.data.forEach(o=>{o.value===r&&(o.label=i,this.valueMap[o.value.toLowerCase()]=o.label)}),this}setEmpty(r){return this.data.unshift({value:"",label:r}),this.valueMap[""]=r,this.labelMap[r]="",this}native(){return this.nativeData=nQ,this.nativeData.forEach(r=>{this.labelMap[r.label.toLowerCase()]=r.value,this.valueMap[r.value.toLowerCase()]=r.label}),this}}return F0=()=>{if(!(this instanceof t))return new t},F0}var iQ=rQ();const hx=eg(iQ),fs=[{id:"gardening",label:"Gardening Tools",img:"https://images.unsplash.com/photo-1601312540057-7234a01baef6?auto=format&fit=crop&w=400"},{id:"crochet",label:"Crochet Fashion",img:"https://plus.unsplash.com/premium_photo-1725914369468-d3b3899ef9f1?auto=format&fit=crop&w=400"},{id:"womens",label:"Women's Clothing",img:"https://images.unsplash.com/photo-1490481651871-ab68de25d43d?auto=format&fit=crop&w=400"},{id:"mens",label:"Men's Clothing",img:"https://images.unsplash.com/photo-1512436991641-6745cdb1723f?auto=format&fit=crop&w=400"},{id:"hiking",label:"Hiking Gear",img:"https://images.unsplash.com/photo-1485809052957-5113b0ff51af?auto=format&fit=crop&w=400"},{id:"smart_home",label:"Smart Home",img:"https://images.unsplash.com/photo-1600585154340-be6161a56a0c?auto=format&fit=crop&w=400"},{id:"pet",label:"Pet Supplies",img:"https://images.unsplash.com/photo-1560807707-8cc77767d783?auto=format&fit=crop&w=400"},{id:"art_supplies",label:"Art Supplies",img:"https://images.unsplash.com/photo-1647967560446-9209bf3bfb41?auto=format&fit=crop&w=400"},{id:"gaming",label:"Indie Gaming",img:"https://images.unsplash.com/photo-1661347561879-c9ab77bac89f?q=80&w=1170&auto=format&fit=crop&w=400"},{id:"eco",label:"Eco Products",img:"https://images.unsplash.com/photo-1633878353649-66a04593751f?auto=format&fit=crop&w=400"},{id:"photography",label:"Photography",img:"https://images.unsplash.com/photo-1541516160071-4bb0c5af65ba?auto=format&fit=crop&w=400"},{id:"yoga",label:"Yoga & Wellness",img:"https://images.unsplash.com/photo-1545389336-cf090694435e?auto=format&fit=crop&w=400"},{id:"cooking",label:"Cooking",img:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=400"},{id:"baking",label:"Baking",img:"https://images.unsplash.com/photo-1511690743698-d9d85f2fbf38?auto=format&fit=crop&w=400"},{id:"travel",label:"Travel",img:"https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=400"},{id:"fitness",label:"Fitness",img:"https://images.unsplash.com/photo-1517438984742-1262db08379e?auto=format&fit=crop&w=400"},{id:"cycling",label:"Cycling",img:"https://plus.unsplash.com/premium_photo-1685207267343-1c8852b45575?auto=format&fit=crop&w=400"},{id:"running",label:"Running",img:"https://images.unsplash.com/photo-1486218119243-13883505764c?auto=format&fit=crop&w=400"},{id:"camping",label:"Camping",img:"https://images.unsplash.com/photo-1504280390367-361c6d9f38f4?auto=format&fit=crop&w=400"},{id:"music",label:"Music",img:"https://images.unsplash.com/photo-1597591578307-941860622461?auto=format&fit=crop&w=400"},{id:"movies",label:"Movies",img:"https://images.unsplash.com/photo-1524985069026-dd778a71c7b4?auto=format&fit=crop&w=400"},{id:"books",label:"Books",img:"https://images.unsplash.com/photo-1512820790803-83ca734da794?auto=format&fit=crop&w=400"},{id:"tech",label:"Tech Gadgets",img:"https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=400"},{id:"gaming_pc",label:"PC Gaming",img:"https://images.unsplash.com/photo-1626218174358-7769486c4b79?auto=format&fit=crop&w=400"},{id:"board_games",label:"Board Games",img:"https://images.unsplash.com/photo-1585504198199-20277593b94f?auto=format&fit=crop&w=400"},{id:"skincare",label:"Skincare",img:"https://plus.unsplash.com/premium_photo-1661630984481-e29093921ff7?auto=format&fit=crop&w=400"},{id:"makeup",label:"Makeup",img:"https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?auto=format&fit=crop&w=400"},{id:"jewelry",label:"Jewelry",img:"https://plus.unsplash.com/premium_photo-1661645433820-24c8604e4db5?auto=format&fit=crop&w=400"},{id:"watches",label:"Watches",img:"https://images.unsplash.com/photo-1522312346375-d1a52e2b99b3?auto=format&fit=crop&w=400"},{id:"coffee",label:"Coffee",img:"https://images.unsplash.com/photo-1509042239860-f550ce710b93?auto=format&fit=crop&w=400"},{id:"tea",label:"Tea",img:"https://plus.unsplash.com/premium_photo-1674406481284-43eba097a291?auto=format&fit=crop&w=400"},{id:"wine",label:"Wine",img:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?auto=format&fit=crop&w=400"},{id:"beer",label:"Craft Beer",img:"https://images.unsplash.com/photo-1587582816472-81e94768469a?auto=format&fit=crop&w=400"},{id:"fitness_tracker",label:"Wearables",img:"https://plus.unsplash.com/premium_photo-1683147713829-10d253b2f5eb?auto=format&fit=crop&w=400"},{id:"podcasting",label:"Podcasting",img:"https://plus.unsplash.com/premium_photo-1679079455767-1bbb40492d6a?auto=format&fit=crop&w=400"},{id:"gardening_flowers",label:"Flower Gardening",img:"https://images.unsplash.com/photo-1594886551831-610f739902e9?auto=format&fit=crop&w=400"},{id:"landscaping",label:"Landscaping",img:"https://images.unsplash.com/photo-1734079692160-fcbe4be6ab96?auto=format&fit=crop&w=400"},{id:"woodworking",label:"Woodworking",img:"https://images.unsplash.com/photo-1497218770144-3fea6dbc33fe?auto=format&fit=crop&w=400"},{id:"diy",label:"DIY Projects",img:"https://images.unsplash.com/photo-1574291814206-363acdf2aa79?auto=format&fit=crop&w=400"},{id:"coding",label:"Coding",img:"https://images.unsplash.com/photo-1461749280684-dccba630e2f6?auto=format&fit=crop&w=400"},{id:"robotics",label:"Robotics",img:"https://images.unsplash.com/photo-1640367169401-534dec442631?auto=format&fit=crop&w=400"},{id:"cryptocurrency",label:"Cryptocurrency",img:"https://plus.unsplash.com/premium_photo-1742902896916-3f2033cb7f9f?q=80&w=1170&auto=format&fit=crop&w=400"},{id:"investing",label:"Investing",img:"https://plus.unsplash.com/premium_photo-1670249419881-b115ba63924a?auto=format&fit=crop&w=400"},{id:"cars",label:"Cars",img:"https://images.unsplash.com/photo-1571987502227-9231b837d92a?auto=format&fit=crop&w=400"},{id:"motorcycles",label:"Motorcycles",img:"https://images.unsplash.com/photo-1709423377982-fbe2169e5b67?auto=format&fit=crop&w=400"},{id:"boats",label:"Boating",img:"https://images.unsplash.com/photo-1514416139844-650b66160eaa?auto=format&fit=crop&w=400"},{id:"fitness_classes",label:"Group Fitness",img:"https://images.unsplash.com/photo-1470286084930-1df42b2b99e9?auto=format&fit=crop&w=400"},{id:"design",label:"Graphic Design",img:"https://plus.unsplash.com/premium_photo-1661382011487-cd3d6b1d9dff?auto=format&fit=crop&w=400"},{id:"illustration",label:"Illustration",img:"https://images.unsplash.com/photo-1579762715118-a6f1d4b934f1?auto=format&fit=crop&w=400"},{id:"mindfulness",label:"Mindfulness",img:"https://plus.unsplash.com/premium_photo-1674675646818-01d7a7bae64c?auto=format&fit=crop&w=400"},{id:"journaling",label:"Journaling",img:"https://images.unsplash.com/photo-1586380951230-e6703d9f6833?auto=format&fit=crop&w=400"},{id:"parenting",label:"Parenting",img:"https://plus.unsplash.com/premium_photo-1680089169415-018d84b9d564?auto=format&fit=crop&w=400"},{id:"education",label:"Education",img:"https://images.unsplash.com/photo-1541339907198-e08756dedf3f?auto=format&fit=crop&w=400"},{id:"environment",label:"Environmentalism",img:"https://images.unsplash.com/photo-1569013998506-31fb2d10491b?auto=format&fit=crop&w=400"},{id:"charity",label:"Charity",img:"https://images.unsplash.com/photo-1532629345422-7515f3d16bb6?auto=format&fit=crop&w=400"},{id:"volunteering",label:"Volunteering",img:"https://plus.unsplash.com/premium_photo-1681152781070-7c279db690e1?auto=format&fit=crop&w=400"},{id:"pets_dogs",label:"Dogs",img:"https://images.unsplash.com/photo-1518717758536-85ae29035b6d?auto=format&fit=crop&w=400"},{id:"pets_cats",label:"Cats",img:"https://images.unsplash.com/photo-1518791841217-8f162f1e1131?auto=format&fit=crop&w=400"}],fx=[{label:"English",value:"en"},{label:"Espaol",value:"es"},{label:"Franais",value:"fr"}];function sQ({onClick:t}){return h.jsxs(ce.button,{whileTap:{scale:.9},onClick:t,className:"flex items-center gap-1 text-sm opacity-80 hover:opacity-100 mb-4 cursor-pointer transition-all duration-300",children:[h.jsx(Bh,{size:18})," Back"]})}function P1(){const t=JG();return A.useEffect(()=>{t.start({opacity:1})},[t]),h.jsx(ce.div,{className:"w-8 h-8 border-6 border-primary border-t-transparent rounded-full animate-spin","aria-label":"Loading",role:"status",initial:{opacity:0},animate:t,transition:{duration:.4,ease:"easeOut"}})}const aQ=t=>{const e=["bg-[#4B3B2A]","bg-[#6F4E37]","bg-[#A68A64]","bg-[#8C6E54]","bg-[#7C5C45]","bg-[#D1BFA3]","bg-[#A89F91]","bg-[#C2B280]","bg-[#5E503F]","bg-[#3B3228]","bg-[#556B2F]","bg-[#4B5320]","bg-[#2E4E3F]","bg-[#3C5A4C]","bg-[#6A6051]","bg-[#746C57]","bg-[#91876E]","bg-[#5C544E]"];let n=0;for(let i=0;i<t.length;i++)n=t.charCodeAt(i)+((n<<5)-n);const r=Math.abs(n)%e.length;return e[r]},mx=t=>t?t.toUpperCase().replace(/./g,e=>String.fromCodePoint(127397+e.charCodeAt(0))):"",ta=t=>/^[a-zA-Z0-9_]+$/.test(t),O1=async(t,e)=>{try{const n=xt(Ve,"users"),r=cn(n,rn("username","==",t)),i=await ln(r);return e?i.docs.some(o=>o.id!==e):!i.empty}catch(n){return console.error("Error checking username existence:",n),!1}},D1=async t=>{try{const{doc:e,getDoc:n}=await Dw(async()=>{const{doc:i,getDoc:o}=await Promise.resolve().then(()=>r9);return{doc:i,getDoc:o}},void 0),r=await n(e(Ve,"users",t));return r.exists()?r.data():null}catch(e){return console.error("Error fetching user data:",e),null}},sD=async t=>{try{const e=cn(xt(Ve,"users"),rn("username","==",t)),n=await ln(e);if(!n.empty){const r=n.docs[0];return{uid:r.id,...r.data()}}return null}catch(e){return console.error("Error fetching user by username:",e),null}},k1=async t=>{try{const e=cn(xt(Ve,"trades"),rn("uid","==",t));return(await ln(e)).docs.map(r=>({id:r.id,...r.data()})).filter(r=>r.isAvailable!==!1)}catch(e){return console.error("Error fetching user trades:",e),[]}},L1=async t=>{try{const e=cn(xt(Ve,"users",t,"saves")),r=(await ln(e)).docs.map(l=>l.id);if(r.length===0)return[];const i=cn(xt(Ve,"posts"),rn("__name__","in",r));return(await ln(i)).docs.map(l=>({id:l.id,...l.data()}))}catch(e){return console.error("Error fetching saved posts:",e),[]}},aD=Object.freeze(Object.defineProperty({__proto__:null,checkUsernameExists:O1,fetchSavedPosts:L1,fetchUserByUsername:sD,fetchUserData:D1,fetchUserTrades:k1},Symbol.toStringTag,{value:"Module"})),_d="bg-primary text-primary-foreground hover:bg-primary/80 cursor-pointer transition-all duration-200 active:scale-95 uppercase tracking-widest font-bold disabled:opacity-40 disabled:cursor-not-allowed py-3 sm:py-2 text-base sm:text-sm",Sd="rounded-md bg-muted px-3 py-3 sm:py-2 text-base sm:text-base outline-none focus:ring-2 ring-primary/80 transition-all duration-200 w-full",Td={initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}},yN={control:t=>({...t,background:"#1b1b1b",border:"none",minHeight:"2.6rem",cursor:"pointer"}),singleValue:t=>({...t,color:"#fff"}),input:t=>({...t,color:"#fff"}),placeholder:t=>({...t,color:"#888"}),menu:t=>({...t,background:"#1b1b1b"}),option:(t,e)=>({...t,background:e.isFocused?"#2a2a2a":"#1b1b1b",color:"#fff",cursor:"pointer"}),indicatorSeparator:()=>({display:"none"})},bN=t=>h.jsx(Yg.DropdownIndicator,{...t,children:h.jsx(Fh,{size:18,className:"text-muted-foreground"})}),oQ=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,lQ=t=>oQ.test(t),uQ=t=>/^(?=.*[A-Z])(?=.*\d)(?=.*[^A-Za-z0-9]).{8,}$/.test(t);function xN(){const t=Jn(),[e,n]=A.useState("email"),[r,i]=A.useState(""),[o,l]=A.useState(""),[d,c]=A.useState(""),[m,p]=A.useState(null),[y,x]=A.useState(null),[E,R]=A.useState(""),[P,V]=A.useState(new Set),[O,B]=A.useState(""),[F,Y]=A.useState(!1),[M,j]=A.useState(null),C=lQ(r),I=o.trim().length>1&&d.trim().length>2&&ta(d)&&m&&y,N=P.size>0,T=uQ(O),{user:U,pending:$}=Cr(),D=async()=>{if(!C)return j("Please enter a valid email address");try{const J=await U3(Oi,r),K=J.length>0;console.log("Email check result:",{email:r,isExisting:K,methods:J}),Y(K),n(K?"verify":"basic")}catch{j("Failed to check email. Please try again later.")}},G=async()=>{if(!I)return!o.trim()||!d.trim()||!m||!y||ta(d)?j("Fill out all required fields"):j("Username can only contain letters, numbers, and underscores");if(await O1(d)){j("Username already exists. Please choose a different one.");return}n("interests")},Z=()=>{if(!N)return j("Select at least one interest");n("verify")},H=async()=>{if(!T)return j("Password must be at least 8 characters, include one uppercase, one number, and one special character");try{if(F)await L3(Oi,r,O);else{const J=await k3(Oi,r,O);await BR(J.user,{displayName:o}),await gl(Zt(Ve,"users",J.user.uid),{displayName:o,username:d,avatar:J.user.photoURL||"",country:m?.value||"",language:y?.value||"",interests:Array.from(P)})}t("/dashboard")}catch{j("Authentication failed. Please check your credentials.")}},S=()=>{t("/dashboard")};return h.jsxs("div",{className:"mx-auto w-full max-w-sm px-4 py-8 sm:px-6 sm:py-12 text-center",children:[h.jsx(ce.img,{src:"/icon.png",alt:"logo",className:"w-20 h-20 sm:w-24 sm:h-24 mx-auto mb-4 sm:mb-6",initial:{y:-10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,ease:"backOut"}}),$?h.jsx("div",{className:"flex justify-center items-center h-24",children:h.jsx(P1,{})}):U?h.jsxs(ce.div,{...Td,className:"mt-4",children:[h.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-extrabold mb-2 text-white",children:"Welcome"}),h.jsxs("p",{className:"text-sm sm:text-base mb-6 text-white/70",children:["Continue to your ",h.jsx("span",{className:"text-primary",children:"dashboard"}),"."]}),h.jsx(ce.button,{whileTap:{scale:.97},onClick:S,className:`w-full rounded-md py-2 ${_d}`,children:"Go to Dashboard"})]}):h.jsxs(h.Fragment,{children:[M&&h.jsx("div",{className:"bg-red-500/20 text-destructive text-sm sm:text-base rounded-md px-3 py-2 mb-4",role:"alert",children:M}),e!=="email"&&h.jsx(sQ,{onClick:()=>{e==="basic"?n("email"):e==="interests"?n("basic"):e==="verify"&&n(F?"email":"interests")}}),h.jsxs(fn,{mode:"wait",children:[e==="email"&&h.jsxs(ce.div,{...Td,children:[h.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-extrabold mb-2 text-white",children:"Welcome"}),h.jsxs("p",{className:"text-sm sm:text-base mb-6 text-white/70",children:["Enter your ",h.jsx("span",{className:"text-primary",children:"email"})," to continue."]}),h.jsx("label",{className:"block text-sm sm:text-base text-left mb-1",children:"Email"}),h.jsxs("div",{className:"relative",children:[h.jsx(Cj,{className:"absolute left-3 top-1/2 -translate-y-1/2 opacity-50",size:18}),h.jsx("input",{type:"email",value:r,onChange:J=>{i(J.target.value),j(null)},className:`pl-10 w-full ${Sd}`,placeholder:"you@example.com"})]}),h.jsx(ce.button,{onClick:D,className:`mt-6 w-full rounded-md py-2 ${_d}`,disabled:!C,children:"Continue"})]},"email"),e==="basic"&&h.jsxs(ce.div,{...Td,children:[h.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-extrabold mb-2 text-white",children:"Basic Info"}),h.jsxs("p",{className:"text-sm sm:text-base mb-6 text-white/70",children:["Let us get to ",h.jsx("span",{className:"text-primary",children:"know"})," you better."]}),h.jsx("label",{className:"block text-sm sm:text-base text-left mb-1",children:"Name"}),h.jsx("input",{value:o,onChange:J=>{l(J.target.value),j(null)},placeholder:"John Doe",className:`w-full mb-3 ${Sd}`}),h.jsx("label",{className:"block text-sm sm:text-base text-left mb-1",children:"Username"}),h.jsx("input",{value:d,onChange:J=>{c(J.target.value),j(null)},placeholder:"johndoe123",className:`w-full mb-3 ${Sd} ${d&&!ta(d)?"border-red-500 focus:border-red-500":d&&ta(d)?"border-green-500 focus:border-green-500":""}`}),d&&!ta(d)&&h.jsx("p",{className:"text-red-500 text-xs mb-3",children:"Username can only contain letters, numbers, and underscores"}),!d&&h.jsx("p",{className:"text-neutral-400 text-xs mb-3",children:"Only letters, numbers, and underscores allowed"}),h.jsx("label",{className:"block text-sm sm:text-base text-left mb-1",children:"Country"}),h.jsx(yh,{instanceId:"country",options:hx().getData(),value:m,onChange:J=>{p(J),j(null)},placeholder:"Select country",styles:yN,components:{DropdownIndicator:bN},className:"mb-3 text-left w-full",menuShouldScrollIntoView:!1}),h.jsx("label",{className:"block text-sm sm:text-base text-left mb-1",children:"Language"}),h.jsx(yh,{instanceId:"language",options:fx,value:y,onChange:J=>{x(J),j(null)},placeholder:"Select language",styles:yN,components:{DropdownIndicator:bN},className:"mb-3 text-left w-full"}),h.jsx(ce.button,{onClick:G,className:`mt-8 w-full rounded-md py-2 ${_d}`,disabled:!I,children:"Continue"})]},"basic"),e==="interests"&&h.jsxs(ce.div,{...Td,children:[h.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-extrabold mb-2 text-white",children:"Interests"}),h.jsxs("p",{className:"text-sm sm:text-base mb-6 text-white/70",children:["These help us"," ",h.jsx("span",{className:"text-primary",children:"personalize"})," your experience."]}),h.jsx("input",{type:"text",placeholder:"Search",value:E,onChange:J=>R(J.target.value),className:`w-full mb-4 ${Sd}`}),h.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 sm:gap-4 max-h-64 sm:max-h-72 overflow-y-auto pr-1",children:fs.filter(({label:J})=>J.toLowerCase().includes(E.toLowerCase())).map(({id:J,label:K,img:w})=>{const z=P.has(J);return h.jsxs("div",{onClick:()=>{V(X=>{const Q=new Set(X);return Q.has(J)?Q.delete(J):Q.add(J),Q}),j(null)},className:`relative cursor-pointer rounded-xl overflow-hidden border-2 ${z?"border-primary":"border-transparent"}`,children:[h.jsx("img",{src:w,alt:K,className:"w-full h-16 sm:h-20 md:h-24 object-cover"}),z&&h.jsx("div",{className:"absolute top-1 right-1 bg-primary p-1 rounded-full",children:h.jsx(Vw,{size:14,className:"text-white"})}),h.jsx("p",{className:"text-xs sm:text-sm mt-1 sm:mt-2 px-1 pb-2 truncate",children:K})]},J)})}),h.jsx(ce.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Z,className:`w-full rounded-md py-2 mt-6 ${_d}`,disabled:!N,children:"Continue"})]},"interests"),e==="verify"&&h.jsxs(ce.div,{...Td,children:[h.jsxs("h2",{className:"text-xl sm:text-2xl md:text-3xl font-extrabold mb-2 text-white",children:[" ",F?"Enter Password":"Create Password"]}),h.jsx("p",{className:"text-sm sm:text-base mb-6 text-white/70",children:F?"Welcome back, please enter your password.":"Create a strong password to finish signing up."}),h.jsx("label",{className:"block text-sm sm:text-base text-left mb-1",children:"Password"}),h.jsx("input",{type:"password",value:O,onChange:J=>{B(J.target.value),j(null)},className:`w-full mb-4 ${Sd}`,placeholder:""}),h.jsx(ce.button,{whileTap:{scale:.97},onClick:H,className:`w-full rounded-md py-2 ${_d}`,disabled:!O,children:"Continue"}),F&&h.jsx(ce.button,{whileTap:{scale:.97},onClick:()=>{console.log("Reset password button clicked"),t("/reset-password")},className:"w-full mt-3 text-sm text-primary hover:text-primary/80 transition-colors cursor-pointer py-2 px-4 rounded-md hover:bg-primary/10 border border-primary/20",children:"Forgot your password?"})]},"verify")]})]})]})}const wN={initial:{opacity:0,y:40},animate:{opacity:1,y:0,transition:{duration:.5,ease:Vp,staggerChildren:.15,delayChildren:.2}},exit:{opacity:0,y:-20,transition:{duration:.4,ease:Vp}}},Om={initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.4,ease:Lp}}};function cQ(){const[t,e]=Hg();return h.jsxs(ce.div,{className:"flex flex-col md:flex-row justify-center h-screen overflow-hidden",variants:wN,initial:"initial",animate:"animate",exit:"exit",children:[h.jsxs(ce.div,{className:"w-full md:w-1/2 px-6 py-8 md:p-20 flex flex-col min-h-screen justify-start md:justify-between text-center md:text-left space-y-6 md:space-y-8",variants:wN,children:[h.jsx(ce.h1,{className:"text-5xl md:text-7xl xl:text-8xl font-semibold leading-tight",variants:Om,children:"Welcome to Mangrov"}),h.jsxs(ce.p,{className:"text-base sm:text-lg md:text-3xl xl:text-4xl leading-relaxed text-neutral-300",variants:Om,children:["A"," ",h.jsx("span",{className:"text-primary font-semibold",children:"shopping experience"})," ","designed by meaningful, raw,"," ",h.jsx("span",{className:"text-primary font-semibold",children:"human experiences"}),"."]}),h.jsx(ce.div,{className:"block md:hidden mt-4",variants:Om,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.4,ease:Lp},children:h.jsx(xN,{})}),h.jsx(ce.div,{variants:Om,className:"self-center md:self-start",children:h.jsx(uW,{})})]}),h.jsx(ce.div,{className:"hidden md:flex w-full md:w-1/2 items-center justify-center p-6 md:p-0",initial:{opacity:0,x:40},animate:{opacity:1,x:0},transition:{delay:.8,duration:.5,ease:Lp},children:h.jsx(xN,{})}),h.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:h.jsx(Nl,{start:{x:-200,y:e*3/4},end:{x:(t+400)/2,y:-300},speed:12,className:"absolute bottom-0 left-0 w-full h-screen",imgHeightTW:"h-32 sm:h-40 md:h-44",imgWidthTW:"w-44 sm:w-52 md:w-56"})})]})}function yr({children:t,className:e=""}){return h.jsx(ce.div,{className:e,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.35,ease:"easeInOut"},children:t})}function dQ(){const t=Jn(),[e,n]=A.useState(window.innerWidth),[r,i]=A.useState(!1),{scrollYProgress:o}=w1(),l=ro(o,[0,1],[0,-200]);return A.useEffect(()=>{const d=()=>n(window.innerWidth);return window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[]),A.useEffect(()=>{const d=()=>{i(window.scrollY>500)};return window.addEventListener("scroll",d),()=>window.removeEventListener("scroll",d)},[]),A.useEffect(()=>(document.body.classList.add("allow-scroll"),()=>{document.body.classList.remove("allow-scroll")}),[]),h.jsxs(yr,{className:"min-h-screen bg-neutral-950 overflow-hidden",children:[h.jsxs("section",{className:"relative h-screen flex items-center justify-center",children:[h.jsx(ce.div,{style:{y:l},className:"absolute inset-0",children:h.jsx(Nl,{start:{x:-200,y:200},end:{x:e+200,y:200},speed:25,className:"opacity-15"})}),h.jsx("div",{className:"relative z-10 text-center px-4 max-w-4xl mx-auto",children:h.jsxs(ce.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},children:[h.jsxs("div",{className:"flex items-center justify-center mb-6",children:[h.jsx("img",{src:"/icon.png",alt:"Mangrov Logo",className:"w-12 h-12 mr-4"}),h.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-white",children:["Meet ",h.jsx("span",{className:"text-primary",children:"Mangrov"})]})]}),h.jsxs("p",{className:"text-xl md:text-2xl text-neutral-300 mb-8 leading-relaxed",children:["Where"," ",h.jsx("span",{className:"text-primary font-semibold",children:"personalized shopping"})," ","meets",h.jsxs("span",{className:"text-primary font-semibold",children:[" ","sustainable brands"]})]}),h.jsxs("div",{className:"flex items-center justify-center space-x-8 text-neutral-400",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(gA,{className:"w-5 h-5 text-primary mr-2"}),h.jsx("span",{children:"AI-Powered"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(Qu,{className:"w-5 h-5 text-primary mr-2"}),h.jsx("span",{children:"Sustainable"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(hs,{className:"w-5 h-5 text-primary mr-2"}),h.jsx("span",{children:"Community"})]})]})]})})]}),h.jsx("section",{id:"problem-section",className:"py-20 px-4",children:h.jsxs("div",{className:"max-w-6xl mx-auto",children:[h.jsxs(ce.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[h.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["The ",h.jsx("span",{className:"text-primary",children:"Harsh Reality"})]}),h.jsxs("p",{className:"text-xl text-neutral-300 max-w-3xl mx-auto leading-relaxed",children:[h.jsx("span",{className:"text-primary font-semibold",children:"60% of global greenhouse gas emissions"})," ","are caused by consumers, yet most don't care about sustainability. A few eco-conscious individuals won't tackle the climate crisis alone."]})]}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[h.jsx(ce.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:.2},viewport:{once:!0},children:h.jsxs("div",{className:"bg-neutral-900 p-8 rounded-2xl border border-neutral-800",children:[h.jsxs("div",{className:"flex items-center mb-4",children:[h.jsx(Db,{className:"w-8 h-8 text-primary mr-3"}),h.jsx("h3",{className:"text-2xl font-bold text-white",children:"The Challenge"})]}),h.jsxs("p",{className:"text-neutral-300 leading-relaxed",children:["Traditional sustainability messaging falls on deaf ears. Consumers need",h.jsxs("span",{className:"text-primary font-semibold",children:[" ","tangible value"]})," ","they can feel when making eco-friendly choices."]})]})}),h.jsx(ce.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:.4},viewport:{once:!0},children:h.jsxs("div",{className:"bg-neutral-900 p-8 rounded-2xl border border-neutral-800",children:[h.jsxs("div",{className:"flex items-center mb-4",children:[h.jsx(FB,{className:"w-8 h-8 text-primary mr-3"}),h.jsx("h3",{className:"text-2xl font-bold text-white",children:"Our Solution"})]}),h.jsxs("p",{className:"text-neutral-300 leading-relaxed",children:['Instead of just repeating "eco-friendly", we offer',h.jsxs("span",{className:"text-primary font-semibold",children:[" ","personalized experiences"]})," ","that make sustainable shopping feel natural and rewarding."]})]})})]})]})}),h.jsx("section",{id:"features-section",className:"py-20 px-4 bg-neutral-900/50",children:h.jsxs("div",{className:"max-w-6xl mx-auto",children:[h.jsxs(ce.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[h.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["The ",h.jsx("span",{className:"text-primary",children:"Mangrov"})," Experience"]}),h.jsx("p",{className:"text-xl text-neutral-300 max-w-3xl mx-auto",children:"We're creating the most seamless and personal shopping experience that's sustainable."})]}),h.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:gA,title:"AI-Powered Recommendations",description:"Precise product suggestions powered by advanced AI searches that understand your unique preferences.",color:"text-blue-400"},{icon:Vu,title:"Unique Product Display",description:"Swipe through interactive cards to discover products in an engaging, intuitive way.",color:"text-green-400"},{icon:hs,title:"Community Trading",description:"Trade items with other users to give products a second life and reduce waste together.",color:"text-purple-400"}].map((d,c)=>h.jsxs(ce.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:c*.2},viewport:{once:!0},className:"bg-neutral-900 p-8 rounded-2xl border border-neutral-800 hover:border-primary/50 transition-colors",children:[h.jsx("div",{className:"w-16 h-16 bg-neutral-800 rounded-2xl flex items-center justify-center mb-6",children:h.jsx(d.icon,{className:`w-8 h-8 ${d.color}`})}),h.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:d.title}),h.jsx("p",{className:"text-neutral-300 leading-relaxed",children:d.description})]},c))})]})}),h.jsx("section",{id:"stats-section",className:"py-20 px-4",children:h.jsxs("div",{className:"max-w-6xl mx-auto",children:[h.jsx(ce.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:h.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Ready for ",h.jsx("span",{className:"text-primary",children:"Launch"})]})}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[h.jsx(ce.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:.2},viewport:{once:!0},children:h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx(kp,{className:"w-8 h-8 text-primary"}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-2xl font-bold text-white",children:"Prototype Complete"}),h.jsx("p",{className:"text-neutral-300",children:"Fully functional platform ready for launch"})]})]}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsx(kp,{className:"w-8 h-8 text-primary"}),h.jsxs("div",{children:[h.jsx("h3",{className:"text-2xl font-bold text-white",children:"Community-Driven"}),h.jsx("p",{className:"text-neutral-300",children:"Built for users who care about sustainability"})]})]})]})}),h.jsxs(ce.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:.4},viewport:{once:!0},className:"bg-gradient-to-br from-primary/20 to-primary/5 p-8 rounded-2xl border border-primary/20",children:[h.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Our Mission"}),h.jsxs("p",{className:"text-neutral-300 leading-relaxed mb-6",children:["To create a global shift in consumer behavior by making sustainable shopping",h.jsxs("span",{className:"text-primary font-semibold",children:[" ","personal, engaging, and rewarding"]}),"."]}),h.jsxs("div",{className:"flex items-center text-primary font-semibold cursor-pointer hover:text-primary/80 transition-colors",onClick:()=>t("/dashboard"),children:[h.jsx("span",{children:"Join the revolution"}),h.jsx(Og,{className:"w-5 h-5 ml-2"})]})]})]})]})}),h.jsx("section",{id:"cta-section",className:"py-20 px-4 bg-neutral-900",children:h.jsx("div",{className:"max-w-4xl mx-auto text-center",children:h.jsxs(ce.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},children:[h.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Be Part of the ",h.jsx("span",{className:"text-primary",children:"Change"})]}),h.jsx("p",{className:"text-xl text-neutral-300 mb-8 max-w-2xl mx-auto",children:"Experience shopping that doesn't just feel goodit does good. Join us in creating a sustainable future, one purchase at a time."}),h.jsx(ce.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("/dashboard"),className:"bg-primary text-white px-8 py-4 rounded-xl font-semibold text-lg hover:bg-primary/80 transition-colors",children:"Get Started Today"})]})})}),h.jsx("footer",{className:"bg-neutral-950 py-12 px-4 border-t border-neutral-800",children:h.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[h.jsxs("div",{className:"flex items-center justify-center mb-6",children:[h.jsx("img",{src:"/icon.png",alt:"Mangrov Logo",className:"w-8 h-8 mr-3"}),h.jsx("h3",{className:"text-2xl font-bold text-white",children:"Mangrov"})]}),h.jsx("p",{className:"text-neutral-400 text-base mb-6 leading-relaxed",children:"Where personalized shopping meets sustainable brands"}),h.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-2 sm:space-y-0 sm:space-x-6 text-neutral-400",children:[h.jsx("span",{className:"text-sm",children:" 2024 Mangrov. All rights reserved."}),h.jsx("span",{className:"hidden sm:inline text-sm",children:""}),h.jsx("span",{className:"text-sm cursor-pointer hover:text-primary transition-colors",onClick:()=>t("/terms-of-service"),children:"Terms of Service"}),h.jsx("span",{className:"hidden sm:inline text-sm",children:""}),h.jsx("span",{className:"text-sm cursor-pointer hover:text-primary transition-colors",onClick:()=>t("/privacy-policy"),children:"Privacy Policy"})]})]})}),h.jsx(ce.button,{initial:{opacity:0,scale:0},animate:{opacity:r?1:0,scale:r?1:0},transition:{duration:.3},onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-20 right-8 z-50 bg-primary text-white p-4 rounded-full shadow-lg hover:bg-primary/80 transition-colors",children:h.jsx(Lw,{className:"w-6 h-6"})})]})}function oD({onLanguageChange:t,currentLanguage:e}){const[n,r]=A.useState(!1),i=()=>{if(n)return;r(!0);const o=e==="en"?"es":"en";setTimeout(()=>{t(o),r(!1)},150)};return h.jsx("div",{className:"flex items-center justify-center my-8",children:h.jsxs("div",{className:"flex items-center space-x-4 bg-neutral-900 p-2 rounded-2xl border border-neutral-800",children:[h.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2",children:[h.jsx(eB,{className:"w-4 h-4 text-neutral-400"}),h.jsx("span",{className:`text-sm font-medium transition-colors ${e==="en"?"text-primary":"text-neutral-400"}`,children:"EN"})]}),h.jsx("button",{onClick:i,disabled:n,className:`relative w-12 h-6 rounded-full transition-colors duration-300 ${e==="es"?"bg-primary":"bg-neutral-700"} ${n?"cursor-not-allowed":"cursor-pointer"}`,children:h.jsx(ce.div,{className:"absolute top-1 w-4 h-4 bg-white rounded-full shadow-md",animate:{x:e==="en"?2:26},transition:{type:"spring",stiffness:500,damping:30}})}),h.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2",children:[h.jsx(oB,{className:"w-4 h-4 text-neutral-400"}),h.jsx("span",{className:`text-sm font-medium transition-colors ${e==="es"?"text-primary":"text-neutral-400"}`,children:"ES"})]})]})})}const lD={termsOfService:{en:{title:"Terms of Service",lastUpdated:"Last updated: December 2024",subtitle:"Terms and Conditions",sections:{purpose:{title:"1. Purpose of the Application",content:"Mangrov is a digital platform that connects users interested in trading, exchanging, or purchasing ecological products. The application does not directly produce, store, or distribute the products offered; its function is to mediate and facilitate contact between users."},userRegistration:{title:"2. User Registration",content:["To access certain features, the user must register with true and up-to-date information.","The user is responsible for the confidentiality of their account and password.","Creating false, duplicate, or unauthorized accounts on behalf of third parties is prohibited."]},permittedProducts:{title:"3. Permitted Products",content:["Only posting and offering ecological, sustainable, reusable, recycled, or environmentally friendly products is permitted.","Offering illegal, dangerous, counterfeit, or products that infringe the rights of third parties is prohibited.","Mangrov reserves the right to remove posts that do not comply with these conditions."]},barterTransactions:{title:"4. Barter and Transactions",content:["Users may agree to barter (exchange of products) or sales (with or without money).","Mangrov is not responsible for the quality, safety, compliance, or legality of the products offered by users.","Any agreement between users is their own responsibility."]},userResponsibilities:{title:"5. User Responsibilities",intro:"The user agrees to:",content:["Make appropriate and respectful use of the application.","Not use Mangrov for fraudulent, deceptive, or illegal activities.","Maintain cordial conduct in communication with other users."]},mangrovResponsibilities:{title:"6. Mangrov's Responsibilities",content:["Mangrov does not guarantee the continuous availability of the service.","Mangrov is not responsible for any loss, damage, or disputes arising from transactions between users.","It may suspend or delete accounts that violate these terms or cause harm to the community."]},intellectualProperty:{title:"7. Intellectual Property",content:["The content, design, logo, and functionality of the App are the property of Mangrov and are protected by intellectual property laws.","Users retain the rights to the content they post, but grant Mangrov a limited license to display it within the App."]},privacyData:{title:"8. Privacy and Personal Data",content:"Use of the App implies acceptance of Mangrov's Privacy Policy, which explains how users' personal data is collected, used, and protected."},modifications:{title:"9. Modifications",content:"Mangrov may modify these Terms and Conditions at any time. Changes will be notified within the App, and the user will be deemed to have accepted them by continuing to use the platform."},applicableLaw:{title:"10. Applicable Law",content:"These Terms and Conditions are governed by the laws of the country in which Mangrov operates. Any dispute will be resolved in the competent courts of that jurisdiction."}}},es:{title:"Trminos de Servicio",lastUpdated:"ltima actualizacin: Diciembre 2024",subtitle:"Trminos y Condiciones",sections:{purpose:{title:"1. Objeto de la aplicacin",content:"Mangrov es una plataforma digital que conecta a usuarios interesados en comercializar, intercambiar o adquirir productos ecolgicos. La aplicacin no produce, almacena ni distribuye directamente los productos ofrecidos; su funcin es intermediar y facilitar el contacto entre usuarios."},userRegistration:{title:"2. Registro de usuarios",content:["Para acceder a ciertas funcionalidades, el usuario debe registrarse con datos verdicos y actualizados.","El usuario es responsable de la confidencialidad de su cuenta y contrasea.","No est permitido crear cuentas falsas, duplicadas o en nombre de terceros sin autorizacin."]},permittedProducts:{title:"3. Productos permitidos",content:["nicamente est autorizado publicar y ofrecer productos ecolgicos, sostenibles, reutilizables, reciclados o amigables con el medio ambiente.","Est prohibida la oferta de productos ilegales, peligrosos, falsificados o que vulneren derechos de terceros.","Mangrov se reserva el derecho de eliminar publicaciones que no cumplan estas condiciones."]},barterTransactions:{title:"4. Trueques y transacciones",content:["Los usuarios podrn acordar trueques (intercambio de productos) o ventas (con o sin dinero de por medio).","Mangrov no se hace responsable de la calidad, seguridad, cumplimiento o legalidad de los productos ofrecidos por los usuarios.","Cualquier acuerdo entre usuarios es de su propia responsabilidad."]},userResponsibilities:{title:"5. Responsabilidades del usuario",intro:"El usuario se compromete a:",content:["Hacer un uso adecuado y respetuoso de la aplicacin.","No utilizar Mangrov para actividades fraudulentas, engaosas o ilcitas.","Mantener una conducta cordial en la comunicacin con otros usuarios."]},mangrovResponsibilities:{title:"6. Responsabilidad de Mangrov",content:["Mangrov no garantiza la disponibilidad continua del servicio.","No se responsabiliza por prdidas, daos o conflictos surgidos en las transacciones entre usuarios.","Puede suspender o eliminar cuentas que infrinjan estos trminos o perjudiquen a la comunidad."]},intellectualProperty:{title:"7. Propiedad intelectual",content:["El contenido, diseo, logotipo y funcionalidades de la aplicacin son propiedad de Mangrov y estn protegidos por las leyes de propiedad intelectual.","Los usuarios conservan los derechos sobre el contenido que publiquen, pero otorgan a Mangrov una licencia limitada para mostrarlo dentro de la aplicacin."]},privacyData:{title:"8. Privacidad y datos personales",content:"El uso de la aplicacin implica la aceptacin de la Poltica de Privacidad de Mangrov, donde se explica cmo se recopilan, usan y protegen los datos personales de los usuarios."},modifications:{title:"9. Modificaciones",content:"Mangrov podr modificar estos Trminos y Condiciones en cualquier momento. Los cambios se notificarn dentro de la aplicacin y se considerar que el usuario los acepta si contina utilizando la plataforma."},applicableLaw:{title:"10. Legislacin aplicable",content:"Estos Trminos y Condiciones se rigen por las leyes del pas en el que opera Mangrov. Cualquier disputa ser resuelta en los tribunales competentes de dicha jurisdiccin."}}}},privacyPolicy:{en:{title:"Privacy Policy",lastUpdated:"Last updated: December 2024",subtitle:"Privacy Policy",description:"At Mangrov, we value and respect your privacy. This Privacy Policy explains how we collect, use, store, and protect your personal data when you use our app.",sections:{dataCollection:{title:"1. Data We Collect",intro:"When you use Mangrov, we may collect the following information:",content:["Registration Data: name, email, phone number, password, and approximate location.","Usage Data: in-app interactions, posts made, trade or purchase history.","Optional Data: profile photos and product descriptions.","Technical Data: IP address, device type, operating system, and language settings."]},useOfInformation:{title:"2. Use of Information",intro:"The information collected is used to:",content:["Create and manage your account in the app.","Facilitate the listing, purchase, sale, and exchange of eco-friendly products.","Improve user experience and personalize content.","Prevent fraud, abuse, and illegal activities.","Send notifications related to your activity in the app."]},dataSharing:{title:"3. Data Sharing",content:["With other users: Your name, profile picture, and posts will be visible in the app.","With third parties: We will only share data with service providers who help us operate (e.g., payment systems or cloud storage).","By law: If validly requested to do so by a legal authority."]},storageSecurity:{title:"4. Storage and Security",content:["Data is stored on secure servers with technical and administrative safeguards.","Although we implement security measures, we cannot guarantee absolute protection against unauthorized access."]},userRights:{title:"5. User Rights",intro:"As a user, you have the right to:",content:["Access, correct, or delete your personal data.","Withdraw your consent at any time.","Request a restriction on the use of your data."],contact:"Exercise these rights by contacting us at: mangrov.team@gmail.com"},cookies:{title:"6. Cookies and Similar Technologies",content:"Mangrov may use cookies or similar technologies to improve user experience, analyze traffic, and personalize the application. The user can deactivate them from their device settings."},minors:{title:"7. Minors",content:"The use of Mangrov is allowed only to users over 18 years of age. Minors must have authorization from their parents or legal guardians."},changes:{title:"8. Changes in Policy",content:"Mangrov reserves the right to modify this Privacy Policy at any time. Changes will be notified through the application."},contact:{title:"9. Contact",content:"If you have questions or concerns about this policy, you can write to us at: mangrov.team@gmail.com"}}},es:{title:"Poltica de Privacidad",lastUpdated:"ltima actualizacin: Diciembre 2024",subtitle:"Poltica de Privacidad",description:"En Mangrov valoramos y respetamos tu privacidad. Esta Poltica de Privacidad explica cmo recopilamos, utilizamos, almacenamos y protegemos tus datos personales cuando usas nuestra aplicacin.",sections:{dataCollection:{title:"1. Datos que recopilamos",intro:"Al usar Mangrov, podemos recopilar la siguiente informacin:",content:["Datos de registro: nombre, correo electrnico, nmero de telfono, contrasea y ubicacin aproximada.","Datos de uso: interacciones dentro de la aplicacin, publicaciones realizadas, historial de trueques o compras.","Datos opcionales: fotos de perfil y descripciones de productos.","Datos tcnicos: direccin IP, tipo de dispositivo, sistema operativo y configuracin de idioma."]},useOfInformation:{title:"2. Uso de la informacin",intro:"La informacin recopilada se utiliza para:",content:["Crear y administrar tu cuenta en la aplicacin.","Facilitar la publicacin, compra, venta e intercambio de productos ecolgicos.","Mejorar la experiencia del usuario y personalizar el contenido.","Prevenir fraudes, abusos y actividades ilegales.","Enviar notificaciones relacionadas con tu actividad en la aplicacin."]},dataSharing:{title:"3. Comparticin de datos",content:["Con otros usuarios: tu nombre, foto de perfil y publicaciones sern visibles en la aplicacin.","Con terceros: solo compartiremos datos con proveedores de servicios que nos ayuden a operar (por ejemplo, sistemas de pago o almacenamiento en la nube).","Por ley: si una autoridad legal lo solicita de manera vlida."]},storageSecurity:{title:"4. Almacenamiento y seguridad",content:["Los datos se almacenan en servidores seguros con medidas de proteccin tcnicas y administrativas.","Aunque implementamos medidas de seguridad, no podemos garantizar la proteccin absoluta frente a accesos no autorizados."]},userRights:{title:"5. Derechos del usuario",intro:"Como usuario, tienes derecho a:",content:["Acceder, corregir o eliminar tus datos personales.","Retirar tu consentimiento en cualquier momento.","Solicitar la limitacin del uso de tus datos."],contact:"Ejercer estos derechos contactndonos en: mangrov.team@gmail.com"},cookies:{title:"6. Cookies y tecnologas similares",content:"Mangrov puede usar cookies o tecnologas similares para mejorar la experiencia de usuario, analizar el trfico y personalizar la aplicacin. El usuario puede desactivarlas desde la configuracin de su dispositivo."},minors:{title:"7. Menores de edad",content:"El uso de Mangrov est permitido nicamente a mayores de 18 aos. Los menores debern contar con la autorizacin de sus padres o tutores legales."},changes:{title:"8. Cambios en la poltica",content:"Mangrov se reserva el derecho de modificar esta Poltica de Privacidad en cualquier momento. Los cambios sern notificados a travs de la aplicacin."},contact:{title:"9. Contacto",content:"Si tienes dudas o inquietudes sobre esta poltica, puedes escribirnos a: mangrov.team@gmail.com"}}}}};function hQ(){const t=Jn(),[e,n]=A.useState(window.innerWidth),[r,i]=A.useState(!1),[o,l]=A.useState("en"),{scrollYProgress:d}=w1(),c=lD.termsOfService[o],m=ro(d,[0,1],[0,-200]);return A.useEffect(()=>{const p=()=>n(window.innerWidth);return window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]),A.useEffect(()=>{const p=()=>{i(window.scrollY>500)};return window.addEventListener("scroll",p),()=>window.removeEventListener("scroll",p)},[]),A.useEffect(()=>(document.body.classList.add("allow-scroll"),()=>{document.body.classList.remove("allow-scroll")}),[]),h.jsxs(yr,{className:"min-h-screen bg-neutral-950 overflow-hidden",children:[h.jsxs("section",{className:"relative h-screen flex items-center justify-center",children:[h.jsx(ce.div,{style:{y:m},className:"absolute inset-0",children:h.jsx(Nl,{start:{x:-200,y:200},end:{x:e+200,y:200},speed:25,className:"opacity-15"})}),h.jsx("div",{className:"relative z-10 text-center px-4 max-w-4xl mx-auto",children:h.jsxs(ce.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},children:[h.jsxs("div",{className:"flex items-center justify-center mb-6",children:[h.jsx(Xm,{className:"w-12 h-12 text-primary mr-4"}),h.jsx("h1",{className:"text-5xl md:text-7xl font-bold text-white",children:c.title.includes(" ")?h.jsxs(h.Fragment,{children:[c.title.split(" ").slice(0,-1).join(" ")," ",h.jsx("span",{className:"text-primary",children:c.title.split(" ").slice(-1)[0]})]}):c.title})]}),h.jsx("p",{className:"text-xl md:text-2xl text-neutral-300 mb-8 leading-relaxed",children:c.lastUpdated.includes(": ")?h.jsxs(h.Fragment,{children:[c.lastUpdated.split(": ")[0],":"," ",h.jsx("span",{className:"text-primary font-semibold",children:c.lastUpdated.split(": ")[1]})]}):c.lastUpdated}),h.jsxs("div",{className:"flex items-center justify-center space-x-8 text-neutral-400",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(Lu,{className:"w-5 h-5 text-primary mr-2"}),h.jsx("span",{children:"Legal Protection"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(_u,{className:"w-5 h-5 text-primary mr-2"}),h.jsx("span",{children:"Privacy First"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(hs,{className:"w-5 h-5 text-primary mr-2"}),h.jsx("span",{children:"User Rights"})]})]})]})})]}),h.jsx("section",{className:"py-20 px-4",children:h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs(ce.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"mb-16",children:[h.jsx("h2",{className:"text-4xl font-bold text-white mb-8 text-center",children:c.subtitle.includes(" ")?h.jsxs(h.Fragment,{children:[c.subtitle.split(" ").slice(0,-1).join(" ")," ",h.jsx("span",{className:"text-primary",children:c.subtitle.split(" ").slice(-1)[0]})]}):c.subtitle}),h.jsx(oD,{onLanguageChange:l,currentLanguage:o})]}),h.jsxs("div",{className:"space-y-12",children:[h.jsxs(ce.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"bg-neutral-900 p-8 rounded-2xl border border-neutral-800",children:[h.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[h.jsx(y0,{className:"w-6 h-6 text-primary mr-3"}),c.sections.purpose.title]}),h.jsx("p",{className:"text-neutral-300 leading-relaxed",children:c.sections.purpose.content})]}),h.jsxs(ce.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},viewport:{once:!0},className:"bg-neutral-900 p-8 rounded-2xl border border-neutral-800",children:[h.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[h.jsx(hs,{className:"w-6 h-6 text-primary mr-3"}),c.sections.userRegistration.title]}),h.jsx("ul",{className:"text-neutral-300 leading-relaxed space-y-3",children:c.sections.userRegistration.content.map((p,y)=>h.jsxs("li",{children:[" ",p]},y))})]}),h.jsxs(ce.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},className:"bg-neutral-900 p-8 rounded-2xl border border-neutral-800",children:[h.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[h.jsx(Lu,{className:"w-6 h-6 text-primary mr-3"}),c.sections.permittedProducts.title]}),h.jsx("ul",{className:"text-neutral-300 leading-relaxed space-y-3",children:c.sections.permittedProducts.content.map((p,y)=>h.jsxs("li",{children:[" ",p]},y))})]}),h.jsxs(ce.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.3},viewport:{once:!0},className:"bg-neutral-900 p-8 rounded-2xl border border-neutral-800",children:[h.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[h.jsx(y0,{className:"w-6 h-6 text-primary mr-3"}),c.sections.barterTransactions.title]}),h.jsx("ul",{className:"text-neutral-300 leading-relaxed space-y-3",children:c.sections.barterTransactions.content.map((p,y)=>h.jsxs("li",{children:[" ",p]},y))})]}),h.jsxs(ce.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.4},viewport:{once:!0},className:"bg-neutral-900 p-8 rounded-2xl border border-neutral-800",children:[h.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[h.jsx(hs,{className:"w-6 h-6 text-primary mr-3"}),c.sections.userResponsibilities.title]}),h.jsx("p",{className:"text-neutral-300 leading-relaxed mb-4",children:c.sections.userResponsibilities.intro}),h.jsx("ul",{className:"text-neutral-300 leading-relaxed space-y-3",children:c.sections.userResponsibilities.content.map((p,y)=>h.jsxs("li",{children:[" ",p]},y))})]}),h.jsxs(ce.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.5},viewport:{once:!0},className:"bg-neutral-900 p-8 rounded-2xl border border-neutral-800",children:[h.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[h.jsx(Lu,{className:"w-6 h-6 text-primary mr-3"}),c.sections.mangrovResponsibilities.title]}),h.jsx("ul",{className:"text-neutral-300 leading-relaxed space-y-3",children:c.sections.mangrovResponsibilities.content.map((p,y)=>h.jsxs("li",{children:[" ",p]},y))})]}),h.jsxs(ce.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.6},viewport:{once:!0},className:"bg-neutral-900 p-8 rounded-2xl border border-neutral-800",children:[h.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[h.jsx(Xm,{className:"w-6 h-6 text-primary mr-3"}),c.sections.intellectualProperty.title]}),h.jsx("ul",{className:"text-neutral-300 leading-relaxed space-y-3",children:c.sections.intellectualProperty.content.map((p,y)=>h.jsxs("li",{children:[" ",p]},y))})]}),h.jsxs(ce.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.7},viewport:{once:!0},className:"bg-neutral-900 p-8 rounded-2xl border border-neutral-800",children:[h.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[h.jsx(_u,{className:"w-6 h-6 text-primary mr-3"}),c.sections.privacyData.title]}),h.jsx("p",{className:"text-neutral-300 leading-relaxed",children:c.sections.privacyData.content})]}),h.jsxs(ce.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.8},viewport:{once:!0},className:"bg-neutral-900 p-8 rounded-2xl border border-neutral-800",children:[h.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[h.jsx(Xm,{className:"w-6 h-6 text-primary mr-3"}),c.sections.modifications.title]}),h.jsx("p",{className:"text-neutral-300 leading-relaxed",children:c.sections.modifications.content})]}),h.jsxs(ce.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.9},viewport:{once:!0},className:"bg-neutral-900 p-8 rounded-2xl border border-neutral-800",children:[h.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[h.jsx(y0,{className:"w-6 h-6 text-primary mr-3"}),c.sections.applicableLaw.title]}),h.jsx("p",{className:"text-neutral-300 leading-relaxed",children:c.sections.applicableLaw.content})]})]})]})}),h.jsx("footer",{className:"bg-neutral-950 py-12 px-4 border-t border-neutral-800",children:h.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[h.jsxs("div",{className:"flex items-center justify-center mb-6",children:[h.jsx("img",{src:"/icon.png",alt:"Mangrov Logo",className:"w-8 h-8 mr-3"}),h.jsx("h3",{className:"text-2xl font-bold text-white",children:"Mangrov"})]}),h.jsx("p",{className:"text-neutral-400 text-base mb-6 leading-relaxed",children:"Where personalized shopping meets sustainable brands"}),h.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-2 sm:space-y-0 sm:space-x-6 text-neutral-400",children:[h.jsx("span",{className:"text-sm",children:" 2024 Mangrov. All rights reserved."}),h.jsx("span",{className:"hidden sm:inline text-sm",children:""}),h.jsx("span",{className:"text-sm cursor-pointer hover:text-primary transition-colors",onClick:()=>t("/terms-of-service"),children:"Terms of Service"}),h.jsx("span",{className:"hidden sm:inline text-sm",children:""}),h.jsx("span",{className:"text-sm cursor-pointer hover:text-primary transition-colors",onClick:()=>t("/privacy-policy"),children:"Privacy Policy"})]})]})}),h.jsx(ce.button,{initial:{opacity:0,scale:0},animate:{opacity:r?1:0,scale:r?1:0},transition:{duration:.3},onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-20 right-8 z-50 bg-primary text-white p-4 rounded-full shadow-lg hover:bg-primary/80 transition-colors",children:h.jsx(Lw,{className:"w-6 h-6"})})]})}function fQ(){const t=Jn(),[e,n]=A.useState(window.innerWidth),[r,i]=A.useState(!1),[o,l]=A.useState("en"),{scrollYProgress:d}=w1(),c=lD.privacyPolicy[o],m=ro(d,[0,1],[0,-200]);return A.useEffect(()=>{const p=()=>n(window.innerWidth);return window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]),A.useEffect(()=>{const p=()=>{i(window.scrollY>500)};return window.addEventListener("scroll",p),()=>window.removeEventListener("scroll",p)},[]),A.useEffect(()=>(document.body.classList.add("allow-scroll"),()=>{document.body.classList.remove("allow-scroll")}),[]),h.jsxs(yr,{className:"min-h-screen bg-neutral-950 overflow-hidden",children:[h.jsxs("section",{className:"relative h-screen flex items-center justify-center",children:[h.jsx(ce.div,{style:{y:m},className:"absolute inset-0",children:h.jsx(Nl,{start:{x:-200,y:200},end:{x:e+200,y:200},speed:25,className:"opacity-15"})}),h.jsx("div",{className:"relative z-10 text-center px-4 max-w-4xl mx-auto",children:h.jsxs(ce.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},children:[h.jsxs("div",{className:"flex items-center justify-center mb-6",children:[h.jsx(_u,{className:"w-12 h-12 text-primary mr-4"}),h.jsx("h1",{className:"text-5xl md:text-7xl font-bold text-white",children:c.title.includes(" ")?h.jsxs(h.Fragment,{children:[c.title.split(" ").slice(0,-1).join(" ")," ",h.jsx("span",{className:"text-primary",children:c.title.split(" ").slice(-1)[0]})]}):c.title})]}),h.jsx("p",{className:"text-xl md:text-2xl text-neutral-300 mb-8 leading-relaxed",children:c.lastUpdated.includes(": ")?h.jsxs(h.Fragment,{children:[c.lastUpdated.split(": ")[0],":"," ",h.jsx("span",{className:"text-primary font-semibold",children:c.lastUpdated.split(": ")[1]})]}):c.lastUpdated}),h.jsxs("div",{className:"flex items-center justify-center space-x-8 text-neutral-400",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(Lu,{className:"w-5 h-5 text-primary mr-2"}),h.jsx("span",{children:"Data Protection"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(_u,{className:"w-5 h-5 text-primary mr-2"}),h.jsx("span",{children:"Privacy First"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(hs,{className:"w-5 h-5 text-primary mr-2"}),h.jsx("span",{children:"User Rights"})]})]})]})})]}),h.jsx("section",{className:"py-20 px-4",children:h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs(ce.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"mb-16",children:[h.jsx("h2",{className:"text-4xl font-bold text-white mb-8 text-center",children:c.subtitle.includes(" ")?h.jsxs(h.Fragment,{children:[c.subtitle.split(" ").slice(0,-1).join(" ")," ",h.jsx("span",{className:"text-primary",children:c.subtitle.split(" ").slice(-1)[0]})]}):c.subtitle}),h.jsx("p",{className:"text-xl text-neutral-300 text-center max-w-3xl mx-auto",children:c.description}),h.jsx(oD,{onLanguageChange:l,currentLanguage:o})]}),h.jsxs("div",{className:"space-y-12",children:[h.jsxs(ce.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},viewport:{once:!0},className:"bg-neutral-900 p-8 rounded-2xl border border-neutral-800",children:[h.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[h.jsx(_u,{className:"w-6 h-6 text-primary mr-3"}),c.sections.dataCollection.title]}),h.jsx("p",{className:"text-neutral-300 leading-relaxed mb-4",children:c.sections.dataCollection.intro}),h.jsx("ul",{className:"text-neutral-300 leading-relaxed space-y-3",children:c.sections.dataCollection.content.map((p,y)=>h.jsxs("li",{children:[" ",p]},y))})]}),h.jsxs(ce.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},viewport:{once:!0},className:"bg-neutral-900 p-8 rounded-2xl border border-neutral-800",children:[h.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[h.jsx(Lu,{className:"w-6 h-6 text-primary mr-3"}),c.sections.useOfInformation.title]}),h.jsx("p",{className:"text-neutral-300 leading-relaxed mb-4",children:c.sections.useOfInformation.intro}),h.jsx("ul",{className:"text-neutral-300 leading-relaxed space-y-3",children:c.sections.useOfInformation.content.map((p,y)=>h.jsxs("li",{children:[" ",p]},y))})]}),h.jsxs(ce.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},viewport:{once:!0},className:"bg-neutral-900 p-8 rounded-2xl border border-neutral-800",children:[h.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[h.jsx(hs,{className:"w-6 h-6 text-primary mr-3"}),c.sections.dataSharing.title]}),h.jsx("ul",{className:"text-neutral-300 leading-relaxed space-y-3",children:c.sections.dataSharing.content.map((p,y)=>h.jsxs("li",{children:[" ",p]},y))})]}),h.jsxs(ce.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.3},viewport:{once:!0},className:"bg-neutral-900 p-8 rounded-2xl border border-neutral-800",children:[h.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[h.jsx(_u,{className:"w-6 h-6 text-primary mr-3"}),c.sections.storageSecurity.title]}),h.jsx("ul",{className:"text-neutral-300 leading-relaxed space-y-3",children:c.sections.storageSecurity.content.map((p,y)=>h.jsxs("li",{children:[" ",p]},y))})]}),h.jsxs(ce.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.4},viewport:{once:!0},className:"bg-neutral-900 p-8 rounded-2xl border border-neutral-800",children:[h.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[h.jsx(hs,{className:"w-6 h-6 text-primary mr-3"}),c.sections.userRights.title]}),h.jsx("p",{className:"text-neutral-300 leading-relaxed mb-4",children:c.sections.userRights.intro}),h.jsx("ul",{className:"text-neutral-300 leading-relaxed space-y-3",children:c.sections.userRights.content.map((p,y)=>h.jsxs("li",{children:[" ",p]},y))}),h.jsx("p",{className:"text-neutral-300 leading-relaxed mt-4",children:c.sections.userRights.contact})]}),h.jsxs(ce.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.5},viewport:{once:!0},className:"bg-neutral-900 p-8 rounded-2xl border border-neutral-800",children:[h.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[h.jsx(Lu,{className:"w-6 h-6 text-primary mr-3"}),c.sections.cookies.title]}),h.jsx("p",{className:"text-neutral-300 leading-relaxed",children:c.sections.cookies.content})]}),h.jsxs(ce.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.6},viewport:{once:!0},className:"bg-neutral-900 p-8 rounded-2xl border border-neutral-800",children:[h.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[h.jsx(hs,{className:"w-6 h-6 text-primary mr-3"}),c.sections.minors.title]}),h.jsx("p",{className:"text-neutral-300 leading-relaxed",children:c.sections.minors.content})]}),h.jsxs(ce.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.7},viewport:{once:!0},className:"bg-neutral-900 p-8 rounded-2xl border border-neutral-800",children:[h.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[h.jsx(Xm,{className:"w-6 h-6 text-primary mr-3"}),c.sections.changes.title]}),h.jsx("p",{className:"text-neutral-300 leading-relaxed",children:c.sections.changes.content})]}),h.jsxs(ce.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.8},viewport:{once:!0},className:"bg-neutral-900 p-8 rounded-2xl border border-neutral-800",children:[h.jsxs("h3",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[h.jsx(hs,{className:"w-6 h-6 text-primary mr-3"}),c.sections.contact.title]}),h.jsx("p",{className:"text-neutral-300 leading-relaxed",children:c.sections.contact.content})]})]})]})}),h.jsx("footer",{className:"bg-neutral-950 py-12 px-4 border-t border-neutral-800",children:h.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[h.jsxs("div",{className:"flex items-center justify-center mb-6",children:[h.jsx("img",{src:"/icon.png",alt:"Mangrov Logo",className:"w-8 h-8 mr-3"}),h.jsx("h3",{className:"text-2xl font-bold text-white",children:"Mangrov"})]}),h.jsx("p",{className:"text-neutral-400 text-base mb-6 leading-relaxed",children:"Where personalized shopping meets sustainable brands"}),h.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-2 sm:space-y-0 sm:space-x-6 text-neutral-400",children:[h.jsx("span",{className:"text-sm",children:" 2024 Mangrov. All rights reserved."}),h.jsx("span",{className:"hidden sm:inline text-sm",children:""}),h.jsx("span",{className:"text-sm cursor-pointer hover:text-primary transition-colors",onClick:()=>t("/terms-of-service"),children:"Terms of Service"}),h.jsx("span",{className:"hidden sm:inline text-sm",children:""}),h.jsx("span",{className:"text-sm cursor-pointer hover:text-primary transition-colors",onClick:()=>t("/privacy-policy"),children:"Privacy Policy"})]})]})}),h.jsx(ce.button,{initial:{opacity:0,scale:0},animate:{opacity:r?1:0,scale:r?1:0},transition:{duration:.3},onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-20 right-8 z-50 bg-primary text-white p-4 rounded-full shadow-lg hover:bg-primary/80 transition-colors",children:h.jsx(Lw,{className:"w-6 h-6"})})]})}function V1({trade:t,isOpen:e,onClose:n,onTradeUpdate:r}){const{user:i}=Cr(),[o,l]=A.useState(!1),[d,c]=A.useState(!1),[m,p]=A.useState(!1),[y,x]=A.useState({title:"",description:"",quantity:1,isAvailable:!0});A.useEffect(()=>{d&&t&&x({title:t.title||"",description:t.description||"",quantity:t.quantity||1,isAvailable:t.isAvailable!==!1})},[d,t]);const E=i?.uid===t?.uid,R=async()=>{if(!(!t||!i||i.uid!==t.uid))try{p(!0),await oa(Zt(Ve,"trades",t.id),{title:y.title,description:y.description,quantity:y.quantity,isAvailable:y.isAvailable}),c(!1),r&&r({...t,title:y.title,description:y.description,quantity:y.quantity,isAvailable:y.isAvailable}),n()}catch(V){console.error("Error updating trade:",V)}finally{p(!1)}},P=async()=>{if(!(!t||!i||i.uid!==t.uid)&&window.confirm("Are you sure you want to delete this trade?"))try{await Mp(Zt(Ve,"trades",t.id)),n()}catch(V){console.error("Error deleting trade:",V)}};return t?h.jsx(fn,{children:e&&h.jsx(ce.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:h.jsxs(ce.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-gradient-to-br from-neutral-900 via-neutral-800 to-neutral-900 rounded-3xl p-8 w-full max-w-md max-h-[90vh] overflow-y-auto border border-neutral-700 shadow-2xl",children:[h.jsxs("div",{className:"relative mb-6",children:[h.jsxs("div",{className:"absolute top-0 right-0 flex gap-2",children:[E&&h.jsx("button",{onClick:()=>l(!o),className:"text-neutral-400 hover:text-white transition cursor-pointer",children:h.jsx(CB,{size:20})}),h.jsx("button",{onClick:n,className:"text-neutral-400 hover:text-white transition cursor-pointer",children:h.jsx(Ui,{size:20})})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary to-primary/60 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(kw,{size:32,className:"text-white"})}),h.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:t.title}),h.jsx("div",{className:"flex justify-center gap-2 mb-4",children:t.niche.map(V=>h.jsx("span",{className:"px-3 py-1 bg-primary/20 text-primary rounded-full text-xs font-bold",children:V},V))})]})]}),h.jsxs("div",{className:"relative mb-6",children:[h.jsx("img",{src:t.images[0],alt:t.title,className:"w-full h-48 object-cover rounded-2xl border-2 border-neutral-700"}),!t.isAvailable&&h.jsx("div",{className:"absolute top-4 left-4 bg-red-600 text-white px-3 py-1 rounded-full text-sm font-bold",children:"UNAVAILABLE"})]}),h.jsxs("div",{className:"space-y-4 mb-6",children:[h.jsx("div",{className:"bg-neutral-800/50 rounded-xl p-4",children:h.jsx("p",{className:"text-neutral-300 text-sm leading-relaxed",children:t.description})}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"bg-neutral-800/30 rounded-xl p-3 text-center",children:[h.jsx("div",{className:"text-neutral-400 text-xs mb-1",children:"QUANTITY"}),h.jsx("div",{className:"text-white font-bold text-lg",children:t.quantity})]}),h.jsxs("div",{className:"bg-neutral-800/30 rounded-xl p-3 text-center",children:[h.jsx("div",{className:"text-neutral-400 text-xs mb-1",children:"STATUS"}),h.jsx("div",{className:`font-bold text-sm ${t.isAvailable?"text-green-400":"text-red-400"}`,children:t.isAvailable?"AVAILABLE":"UNAVAILABLE"})]})]}),t.keywords.length>0&&h.jsxs("div",{className:"bg-neutral-800/30 rounded-xl p-3",children:[h.jsx("div",{className:"text-neutral-400 text-xs mb-2",children:"KEYWORDS"}),h.jsx("div",{className:"flex flex-wrap gap-1",children:t.keywords.map(V=>h.jsx("span",{className:"px-2 py-1 bg-neutral-700 text-neutral-300 rounded text-xs",children:V},V))})]})]}),h.jsx(fn,{children:o&&h.jsx(ce.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-neutral-700 pt-4 mt-4",children:d?h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs text-neutral-400 mb-1",children:"TITLE"}),h.jsx("input",{value:y.title,onChange:V=>x({...y,title:V.target.value}),className:"w-full bg-neutral-800 text-white px-3 py-2 rounded-md border border-neutral-700 focus:border-primary outline-none text-sm"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs text-neutral-400 mb-1",children:"DESCRIPTION"}),h.jsx("textarea",{value:y.description,onChange:V=>x({...y,description:V.target.value}),className:"w-full bg-neutral-800 text-white px-3 py-2 rounded-md border border-neutral-700 focus:border-primary outline-none text-sm h-20 resize-none"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs text-neutral-400 mb-1",children:"QUANTITY"}),h.jsx("input",{type:"number",min:"1",value:y.quantity,onChange:V=>x({...y,quantity:parseInt(V.target.value)||1}),className:"w-full bg-neutral-800 text-white px-3 py-2 rounded-md border border-neutral-700 focus:border-primary outline-none text-sm"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:y.isAvailable,onChange:V=>x({...y,isAvailable:V.target.checked}),className:"sr-only peer"}),h.jsx("div",{className:"w-11 h-6 bg-neutral-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]}),h.jsx("span",{className:"text-white text-sm cursor-pointer",children:"Available for trade"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:R,disabled:m,className:"flex-1 bg-primary text-white px-3 py-2 rounded-md hover:bg-primary/80 transition text-sm flex items-center justify-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed",children:[m?h.jsx(Ej,{size:14,className:"animate-spin"}):h.jsx(Vw,{size:14}),m?"Saving...":"Save"]}),h.jsx("button",{onClick:()=>c(!1),disabled:m,className:"flex-1 bg-neutral-700 text-white px-3 py-2 rounded-md hover:bg-neutral-600 transition text-sm disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",children:"Cancel"})]})]}):h.jsxs("div",{className:"space-y-2",children:[h.jsxs("button",{onClick:()=>c(!0),className:"w-full bg-primary text-white px-4 py-2 rounded-md hover:bg-primary/80 transition flex items-center justify-center gap-2 text-sm cursor-pointer",children:[h.jsx(OB,{size:14}),"Edit Trade"]}),h.jsxs("button",{onClick:P,className:"w-full bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition flex items-center justify-center gap-2 text-sm cursor-pointer",children:[h.jsx(Nj,{size:14}),"Delete Trade"]})]})})})]})})}):null}var lp={exports:{}},mQ=lp.exports,_N;function pQ(){return _N||(_N=1,function(t,e){(function(n,r){t.exports=r()})(mQ,function(){var n=1e3,r=6e4,i=36e5,o="millisecond",l="second",d="minute",c="hour",m="day",p="week",y="month",x="quarter",E="year",R="date",P="Invalid Date",V=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,O=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,B={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(G){var Z=["th","st","nd","rd"],H=G%100;return"["+G+(Z[(H-20)%10]||Z[H]||Z[0])+"]"}},F=function(G,Z,H){var S=String(G);return!S||S.length>=Z?G:""+Array(Z+1-S.length).join(H)+G},Y={s:F,z:function(G){var Z=-G.utcOffset(),H=Math.abs(Z),S=Math.floor(H/60),J=H%60;return(Z<=0?"+":"-")+F(S,2,"0")+":"+F(J,2,"0")},m:function G(Z,H){if(Z.date()<H.date())return-G(H,Z);var S=12*(H.year()-Z.year())+(H.month()-Z.month()),J=Z.clone().add(S,y),K=H-J<0,w=Z.clone().add(S+(K?-1:1),y);return+(-(S+(H-J)/(K?J-w:w-J))||0)},a:function(G){return G<0?Math.ceil(G)||0:Math.floor(G)},p:function(G){return{M:y,y:E,w:p,d:m,D:R,h:c,m:d,s:l,ms:o,Q:x}[G]||String(G||"").toLowerCase().replace(/s$/,"")},u:function(G){return G===void 0}},M="en",j={};j[M]=B;var C="$isDayjsObject",I=function(G){return G instanceof $||!(!G||!G[C])},N=function G(Z,H,S){var J;if(!Z)return M;if(typeof Z=="string"){var K=Z.toLowerCase();j[K]&&(J=K),H&&(j[K]=H,J=K);var w=Z.split("-");if(!J&&w.length>1)return G(w[0])}else{var z=Z.name;j[z]=Z,J=z}return!S&&J&&(M=J),J||!S&&M},T=function(G,Z){if(I(G))return G.clone();var H=typeof Z=="object"?Z:{};return H.date=G,H.args=arguments,new $(H)},U=Y;U.l=N,U.i=I,U.w=function(G,Z){return T(G,{locale:Z.$L,utc:Z.$u,x:Z.$x,$offset:Z.$offset})};var $=function(){function G(H){this.$L=N(H.locale,null,!0),this.parse(H),this.$x=this.$x||H.x||{},this[C]=!0}var Z=G.prototype;return Z.parse=function(H){this.$d=function(S){var J=S.date,K=S.utc;if(J===null)return new Date(NaN);if(U.u(J))return new Date;if(J instanceof Date)return new Date(J);if(typeof J=="string"&&!/Z$/i.test(J)){var w=J.match(V);if(w){var z=w[2]-1||0,X=(w[7]||"0").substring(0,3);return K?new Date(Date.UTC(w[1],z,w[3]||1,w[4]||0,w[5]||0,w[6]||0,X)):new Date(w[1],z,w[3]||1,w[4]||0,w[5]||0,w[6]||0,X)}}return new Date(J)}(H),this.init()},Z.init=function(){var H=this.$d;this.$y=H.getFullYear(),this.$M=H.getMonth(),this.$D=H.getDate(),this.$W=H.getDay(),this.$H=H.getHours(),this.$m=H.getMinutes(),this.$s=H.getSeconds(),this.$ms=H.getMilliseconds()},Z.$utils=function(){return U},Z.isValid=function(){return this.$d.toString()!==P},Z.isSame=function(H,S){var J=T(H);return this.startOf(S)<=J&&J<=this.endOf(S)},Z.isAfter=function(H,S){return T(H)<this.startOf(S)},Z.isBefore=function(H,S){return this.endOf(S)<T(H)},Z.$g=function(H,S,J){return U.u(H)?this[S]:this.set(J,H)},Z.unix=function(){return Math.floor(this.valueOf()/1e3)},Z.valueOf=function(){return this.$d.getTime()},Z.startOf=function(H,S){var J=this,K=!!U.u(S)||S,w=U.p(H),z=function(Pe,Re){var ze=U.w(J.$u?Date.UTC(J.$y,Re,Pe):new Date(J.$y,Re,Pe),J);return K?ze:ze.endOf(m)},X=function(Pe,Re){return U.w(J.toDate()[Pe].apply(J.toDate("s"),(K?[0,0,0,0]:[23,59,59,999]).slice(Re)),J)},Q=this.$W,ne=this.$M,se=this.$D,le="set"+(this.$u?"UTC":"");switch(w){case E:return K?z(1,0):z(31,11);case y:return K?z(1,ne):z(0,ne+1);case p:var ve=this.$locale().weekStart||0,Ee=(Q<ve?Q+7:Q)-ve;return z(K?se-Ee:se+(6-Ee),ne);case m:case R:return X(le+"Hours",0);case c:return X(le+"Minutes",1);case d:return X(le+"Seconds",2);case l:return X(le+"Milliseconds",3);default:return this.clone()}},Z.endOf=function(H){return this.startOf(H,!1)},Z.$set=function(H,S){var J,K=U.p(H),w="set"+(this.$u?"UTC":""),z=(J={},J[m]=w+"Date",J[R]=w+"Date",J[y]=w+"Month",J[E]=w+"FullYear",J[c]=w+"Hours",J[d]=w+"Minutes",J[l]=w+"Seconds",J[o]=w+"Milliseconds",J)[K],X=K===m?this.$D+(S-this.$W):S;if(K===y||K===E){var Q=this.clone().set(R,1);Q.$d[z](X),Q.init(),this.$d=Q.set(R,Math.min(this.$D,Q.daysInMonth())).$d}else z&&this.$d[z](X);return this.init(),this},Z.set=function(H,S){return this.clone().$set(H,S)},Z.get=function(H){return this[U.p(H)]()},Z.add=function(H,S){var J,K=this;H=Number(H);var w=U.p(S),z=function(ne){var se=T(K);return U.w(se.date(se.date()+Math.round(ne*H)),K)};if(w===y)return this.set(y,this.$M+H);if(w===E)return this.set(E,this.$y+H);if(w===m)return z(1);if(w===p)return z(7);var X=(J={},J[d]=r,J[c]=i,J[l]=n,J)[w]||1,Q=this.$d.getTime()+H*X;return U.w(Q,this)},Z.subtract=function(H,S){return this.add(-1*H,S)},Z.format=function(H){var S=this,J=this.$locale();if(!this.isValid())return J.invalidDate||P;var K=H||"YYYY-MM-DDTHH:mm:ssZ",w=U.z(this),z=this.$H,X=this.$m,Q=this.$M,ne=J.weekdays,se=J.months,le=J.meridiem,ve=function(Re,ze,Ye,Qe){return Re&&(Re[ze]||Re(S,K))||Ye[ze].slice(0,Qe)},Ee=function(Re){return U.s(z%12||12,Re,"0")},Pe=le||function(Re,ze,Ye){var Qe=Re<12?"AM":"PM";return Ye?Qe.toLowerCase():Qe};return K.replace(O,function(Re,ze){return ze||function(Ye){switch(Ye){case"YY":return String(S.$y).slice(-2);case"YYYY":return U.s(S.$y,4,"0");case"M":return Q+1;case"MM":return U.s(Q+1,2,"0");case"MMM":return ve(J.monthsShort,Q,se,3);case"MMMM":return ve(se,Q);case"D":return S.$D;case"DD":return U.s(S.$D,2,"0");case"d":return String(S.$W);case"dd":return ve(J.weekdaysMin,S.$W,ne,2);case"ddd":return ve(J.weekdaysShort,S.$W,ne,3);case"dddd":return ne[S.$W];case"H":return String(z);case"HH":return U.s(z,2,"0");case"h":return Ee(1);case"hh":return Ee(2);case"a":return Pe(z,X,!0);case"A":return Pe(z,X,!1);case"m":return String(X);case"mm":return U.s(X,2,"0");case"s":return String(S.$s);case"ss":return U.s(S.$s,2,"0");case"SSS":return U.s(S.$ms,3,"0");case"Z":return w}return null}(Re)||w.replace(":","")})},Z.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Z.diff=function(H,S,J){var K,w=this,z=U.p(S),X=T(H),Q=(X.utcOffset()-this.utcOffset())*r,ne=this-X,se=function(){return U.m(w,X)};switch(z){case E:K=se()/12;break;case y:K=se();break;case x:K=se()/3;break;case p:K=(ne-Q)/6048e5;break;case m:K=(ne-Q)/864e5;break;case c:K=ne/i;break;case d:K=ne/r;break;case l:K=ne/n;break;default:K=ne}return J?K:U.a(K)},Z.daysInMonth=function(){return this.endOf(y).$D},Z.$locale=function(){return j[this.$L]},Z.locale=function(H,S){if(!H)return this.$L;var J=this.clone(),K=N(H,S,!0);return K&&(J.$L=K),J},Z.clone=function(){return U.w(this.$d,this)},Z.toDate=function(){return new Date(this.valueOf())},Z.toJSON=function(){return this.isValid()?this.toISOString():null},Z.toISOString=function(){return this.$d.toISOString()},Z.toString=function(){return this.$d.toUTCString()},G}(),D=$.prototype;return T.prototype=D,[["$ms",o],["$s",l],["$m",d],["$H",c],["$W",m],["$M",y],["$y",E],["$D",R]].forEach(function(G){D[G[1]]=function(Z){return this.$g(Z,G[0],G[1])}}),T.extend=function(G,Z){return G.$i||(G(Z,$,T),G.$i=!0),T},T.locale=N,T.isDayjs=I,T.unix=function(G){return T(1e3*G)},T.en=j[M],T.Ls=j,T.p={},T})}(lp)),lp.exports}var gQ=pQ();const vQ=eg(gQ);function yQ({comment:t,onReplyClick:e,isReplying:n,replyText:r,onReplyChange:i,onReplySubmit:o,isSubmitting:l=!1}){const[d,c]=A.useState(null),[m,p]=A.useState(null),[y,x]=A.useState(!1),[E,R]=A.useState(""),[P,V]=A.useState(!0);A.useEffect(()=>{(async()=>{try{V(!0);const M=await wi(Zt(Ve,"users",t.user));M.exists()&&c(M.data())}catch(M){console.error("Error fetching user data:",M)}finally{V(!1)}})()},[t.user]),A.useEffect(()=>{(async()=>{if(t.replyToUserId)try{const M=await wi(Zt(Ve,"users",t.replyToUserId));if(M.exists()){const j=M.data();p(j.name)}}catch(M){console.error("Error fetching reply user data:",M)}})()},[t.replyToUserId]),A.useEffect(()=>{if(t.timestamp){const Y=vQ(t.timestamp.toDate()).format("HH:mm");R(Y)}},[t.timestamp]);const O=()=>{if(t.replyToId){const Y=document.querySelector(`[data-id='${t.replyToId}']`);Y&&Y.classList.add("bg-primary/20"),x(!0)}},B=()=>{if(t.replyToId){const Y=document.querySelector(`[data-id='${t.replyToId}']`);Y&&Y.classList.remove("bg-primary/20"),x(!1)}},F=Y=>{Y.key==="Enter"&&!Y.shiftKey&&(Y.preventDefault(),o(t.id,t.user))};return P?h.jsx("div",{className:"animate-pulse",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"w-8 h-8 bg-neutral-700 rounded-full"}),h.jsxs("div",{className:"flex-1 space-y-2",children:[h.jsx("div",{className:"h-4 bg-neutral-700 rounded w-24"}),h.jsx("div",{className:"h-3 bg-neutral-700 rounded w-full"})]})]})}):h.jsxs(ce.div,{"data-id":t.id,onMouseEnter:O,onMouseLeave:B,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2},className:`group relative rounded-lg p-3 transition-all duration-200 ${t.replyToId?"ml-6 border-l-2 border-primary/30 pl-4 bg-neutral-800/30":"bg-neutral-800/20"} ${y?"bg-primary/20":""}`,children:[h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsxs("div",{className:"flex-shrink-0",children:[d?.avatar?h.jsx("img",{src:d.avatar,alt:`${d.name}'s avatar`,className:"w-8 h-8 rounded-full object-cover border border-white/10",onError:Y=>{const M=Y.target;M.style.display="none",M.nextElementSibling?.classList.remove("hidden")}}):null,h.jsx("div",{className:`w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center text-primary text-sm font-semibold ${d?.avatar?"hidden":""}`,children:d?.name?.charAt(0)?.toUpperCase()||"U"})]}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("span",{className:"font-semibold text-primary text-sm",children:d?.name||"Unknown User"}),m&&h.jsxs("span",{className:"text-xs text-neutral-400",children:["replying to @",m]}),h.jsx("span",{className:"text-xs text-neutral-500 ml-auto",children:E})]}),h.jsx("div",{className:"text-white/90 text-sm leading-relaxed break-words",children:t.text}),h.jsx("div",{className:"flex items-center mt-2",children:h.jsxs("button",{onClick:()=>e(t.id),disabled:l,className:"flex items-center gap-1 text-xs text-neutral-400 hover:text-primary transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[h.jsx(wB,{size:12}),"Reply"]})})]})]}),n&&h.jsxs(ce.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3 flex items-center gap-2 bg-neutral-800/50 rounded-lg p-3",children:[h.jsx("input",{value:r,onChange:Y=>i(Y.target.value),onKeyPress:F,placeholder:`Reply to ${d?.name||"user"}...`,disabled:l,className:"flex-1 bg-transparent text-white placeholder-white/60 text-sm outline-none"}),h.jsx(ce.button,{whileTap:{scale:.95},onClick:()=>o(t.id,t.user),disabled:!r.trim()||l,className:"text-primary hover:text-primary/80 disabled:text-white/40 disabled:cursor-not-allowed transition-colors",children:h.jsx(Dg,{size:14})})]})]})}var H0={},$0={},Ed={},q0={},SN;function bQ(){return SN||(SN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e}(q0)),q0}var G0,TN;function xQ(){if(TN)return G0;TN=1;var t="Expected a function",e=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,d=parseInt,c=typeof hm=="object"&&hm&&hm.Object===Object&&hm,m=typeof self=="object"&&self&&self.Object===Object&&self,p=c||m||Function("return this")(),y=Object.prototype,x=y.toString,E=Math.max,R=Math.min,P=function(){return p.Date.now()};function V(M,j,C){var I,N,T,U,$,D,G=0,Z=!1,H=!1,S=!0;if(typeof M!="function")throw new TypeError(t);j=Y(j)||0,O(C)&&(Z=!!C.leading,H="maxWait"in C,T=H?E(Y(C.maxWait)||0,j):T,S="trailing"in C?!!C.trailing:S);function J(ve){var Ee=I,Pe=N;return I=N=void 0,G=ve,U=M.apply(Pe,Ee),U}function K(ve){return G=ve,$=setTimeout(X,j),Z?J(ve):U}function w(ve){var Ee=ve-D,Pe=ve-G,Re=j-Ee;return H?R(Re,T-Pe):Re}function z(ve){var Ee=ve-D,Pe=ve-G;return D===void 0||Ee>=j||Ee<0||H&&Pe>=T}function X(){var ve=P();if(z(ve))return Q(ve);$=setTimeout(X,w(ve))}function Q(ve){return $=void 0,S&&I?J(ve):(I=N=void 0,U)}function ne(){$!==void 0&&clearTimeout($),G=0,I=D=N=$=void 0}function se(){return $===void 0?U:Q(P())}function le(){var ve=P(),Ee=z(ve);if(I=arguments,N=this,D=ve,Ee){if($===void 0)return K(D);if(H)return $=setTimeout(X,j),J(D)}return $===void 0&&($=setTimeout(X,j)),U}return le.cancel=ne,le.flush=se,le}function O(M){var j=typeof M;return!!M&&(j=="object"||j=="function")}function B(M){return!!M&&typeof M=="object"}function F(M){return typeof M=="symbol"||B(M)&&x.call(M)==n}function Y(M){if(typeof M=="number")return M;if(F(M))return e;if(O(M)){var j=typeof M.valueOf=="function"?M.valueOf():M;M=O(j)?j+"":j}if(typeof M!="string")return M===0?M:+M;M=M.replace(r,"");var C=o.test(M);return C||l.test(M)?d(M.slice(2),C?2:8):i.test(M)?e:+M}return G0=V,G0}var W0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var EN;function Xg(){return EN||(EN=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",l=0;l<arguments.length;l++){var d=arguments[l];d&&(o=i(o,r(d)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var d in o)e.call(o,d)&&o[d]&&(l=i(l,d));return l}function i(o,l){return l?o?o+" "+l:o+l:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(W0)),W0.exports}var Me={},K0={},AN;function uD(){return AN||(AN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(Rs());function n(i){return i&&i.__esModule?i:{default:i}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(o){return e.default.createElement("ul",{style:{display:"block"}},o)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(o){return e.default.createElement("button",null,o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};t.default=r}(K0)),K0}var CN;function Yh(){if(CN)return Me;CN=1,Object.defineProperty(Me,"__esModule",{value:!0}),Me.checkSpecKeys=Me.checkNavigable=Me.changeSlide=Me.canUseDOM=Me.canGoNext=void 0,Me.clamp=m,Me.extractObject=void 0,Me.filterSettings=J,Me.validSettings=Me.swipeStart=Me.swipeMove=Me.swipeEnd=Me.slidesOnRight=Me.slidesOnLeft=Me.slideHandler=Me.siblingDirection=Me.safePreventDefault=Me.lazyStartIndex=Me.lazySlidesOnRight=Me.lazySlidesOnLeft=Me.lazyEndIndex=Me.keyHandler=Me.initializedState=Me.getWidth=Me.getTrackLeft=Me.getTrackCSS=Me.getTrackAnimateCSS=Me.getTotalSlides=Me.getSwipeDirection=Me.getSlideCount=Me.getRequiredLazySlides=Me.getPreClones=Me.getPostClones=Me.getOnDemandLazySlides=Me.getNavigableIndexes=Me.getHeight=void 0;var t=n(Rs()),e=n(uD());function n(K){return K&&K.__esModule?K:{default:K}}function r(K){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},r(K)}function i(K,w){var z=Object.keys(K);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(K);w&&(X=X.filter(function(Q){return Object.getOwnPropertyDescriptor(K,Q).enumerable})),z.push.apply(z,X)}return z}function o(K){for(var w=1;w<arguments.length;w++){var z=arguments[w]!=null?arguments[w]:{};w%2?i(Object(z),!0).forEach(function(X){l(K,X,z[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(z)):i(Object(z)).forEach(function(X){Object.defineProperty(K,X,Object.getOwnPropertyDescriptor(z,X))})}return K}function l(K,w,z){return w=d(w),w in K?Object.defineProperty(K,w,{value:z,enumerable:!0,configurable:!0,writable:!0}):K[w]=z,K}function d(K){var w=c(K,"string");return r(w)=="symbol"?w:String(w)}function c(K,w){if(r(K)!="object"||!K)return K;var z=K[Symbol.toPrimitive];if(z!==void 0){var X=z.call(K,w);if(r(X)!="object")return X;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(K)}function m(K,w,z){return Math.max(w,Math.min(K,z))}var p=Me.safePreventDefault=function(w){var z=["onTouchStart","onTouchMove","onWheel"];z.includes(w._reactName)||w.preventDefault()},y=Me.getOnDemandLazySlides=function(w){for(var z=[],X=x(w),Q=E(w),ne=X;ne<Q;ne++)w.lazyLoadedList.indexOf(ne)<0&&z.push(ne);return z};Me.getRequiredLazySlides=function(w){for(var z=[],X=x(w),Q=E(w),ne=X;ne<Q;ne++)z.push(ne);return z};var x=Me.lazyStartIndex=function(w){return w.currentSlide-R(w)},E=Me.lazyEndIndex=function(w){return w.currentSlide+P(w)},R=Me.lazySlidesOnLeft=function(w){return w.centerMode?Math.floor(w.slidesToShow/2)+(parseInt(w.centerPadding)>0?1:0):0},P=Me.lazySlidesOnRight=function(w){return w.centerMode?Math.floor((w.slidesToShow-1)/2)+1+(parseInt(w.centerPadding)>0?1:0):w.slidesToShow},V=Me.getWidth=function(w){return w&&w.offsetWidth||0},O=Me.getHeight=function(w){return w&&w.offsetHeight||0},B=Me.getSwipeDirection=function(w){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,X,Q,ne,se;return X=w.startX-w.curX,Q=w.startY-w.curY,ne=Math.atan2(Q,X),se=Math.round(ne*180/Math.PI),se<0&&(se=360-Math.abs(se)),se<=45&&se>=0||se<=360&&se>=315?"left":se>=135&&se<=225?"right":z===!0?se>=35&&se<=135?"up":"down":"vertical"},F=Me.canGoNext=function(w){var z=!0;return w.infinite||(w.centerMode&&w.currentSlide>=w.slideCount-1||w.slideCount<=w.slidesToShow||w.currentSlide>=w.slideCount-w.slidesToShow)&&(z=!1),z};Me.extractObject=function(w,z){var X={};return z.forEach(function(Q){return X[Q]=w[Q]}),X},Me.initializedState=function(w){var z=t.default.Children.count(w.children),X=w.listRef,Q=Math.ceil(V(X)),ne=w.trackRef&&w.trackRef.node,se=Math.ceil(V(ne)),le;if(w.vertical)le=Q;else{var ve=w.centerMode&&parseInt(w.centerPadding)*2;typeof w.centerPadding=="string"&&w.centerPadding.slice(-1)==="%"&&(ve*=Q/100),le=Math.ceil((Q-ve)/w.slidesToShow)}var Ee=X&&O(X.querySelector('[data-index="0"]')),Pe=Ee*w.slidesToShow,Re=w.currentSlide===void 0?w.initialSlide:w.currentSlide;w.rtl&&w.currentSlide===void 0&&(Re=z-1-w.initialSlide);var ze=w.lazyLoadedList||[],Ye=y(o(o({},w),{},{currentSlide:Re,lazyLoadedList:ze}));ze=ze.concat(Ye);var Qe={slideCount:z,slideWidth:le,listWidth:Q,trackWidth:se,currentSlide:Re,slideHeight:Ee,listHeight:Pe,lazyLoadedList:ze};return w.autoplaying===null&&w.autoplay&&(Qe.autoplaying="playing"),Qe},Me.slideHandler=function(w){var z=w.waitForAnimate,X=w.animating,Q=w.fade,ne=w.infinite,se=w.index,le=w.slideCount,ve=w.lazyLoad,Ee=w.currentSlide,Pe=w.centerMode,Re=w.slidesToScroll,ze=w.slidesToShow,Ye=w.useCSS,Qe=w.lazyLoadedList;if(z&&X)return{};var pe=se,Ce,$e,Ie,Je={},mt={},lt=ne?se:m(se,0,le-1);if(Q){if(!ne&&(se<0||se>=le))return{};se<0?pe=se+le:se>=le&&(pe=se-le),ve&&Qe.indexOf(pe)<0&&(Qe=Qe.concat(pe)),Je={animating:!0,currentSlide:pe,lazyLoadedList:Qe,targetSlide:pe},mt={animating:!1,targetSlide:pe}}else Ce=pe,pe<0?(Ce=pe+le,ne?le%Re!==0&&(Ce=le-le%Re):Ce=0):!F(w)&&pe>Ee?pe=Ce=Ee:Pe&&pe>=le?(pe=ne?le:le-1,Ce=ne?0:le-1):pe>=le&&(Ce=pe-le,ne?le%Re!==0&&(Ce=0):Ce=le-ze),!ne&&pe+ze>=le&&(Ce=le-ze),$e=T(o(o({},w),{},{slideIndex:pe})),Ie=T(o(o({},w),{},{slideIndex:Ce})),ne||($e===Ie&&(pe=Ce),$e=Ie),ve&&(Qe=Qe.concat(y(o(o({},w),{},{currentSlide:pe})))),Ye?(Je={animating:!0,currentSlide:Ce,trackStyle:N(o(o({},w),{},{left:$e})),lazyLoadedList:Qe,targetSlide:lt},mt={animating:!1,currentSlide:Ce,trackStyle:I(o(o({},w),{},{left:Ie})),swipeLeft:null,targetSlide:lt}):Je={currentSlide:Ce,trackStyle:I(o(o({},w),{},{left:Ie})),lazyLoadedList:Qe,targetSlide:lt};return{state:Je,nextState:mt}},Me.changeSlide=function(w,z){var X,Q,ne,se,le,ve=w.slidesToScroll,Ee=w.slidesToShow,Pe=w.slideCount,Re=w.currentSlide,ze=w.targetSlide,Ye=w.lazyLoad,Qe=w.infinite;if(se=Pe%ve!==0,X=se?0:(Pe-Re)%ve,z.message==="previous")ne=X===0?ve:Ee-X,le=Re-ne,Ye&&!Qe&&(Q=Re-ne,le=Q===-1?Pe-1:Q),Qe||(le=ze-ve);else if(z.message==="next")ne=X===0?ve:X,le=Re+ne,Ye&&!Qe&&(le=(Re+ve)%Pe+X),Qe||(le=ze+ve);else if(z.message==="dots")le=z.index*z.slidesToScroll;else if(z.message==="children"){if(le=z.index,Qe){var pe=G(o(o({},w),{},{targetSlide:le}));le>z.currentSlide&&pe==="left"?le=le-Pe:le<z.currentSlide&&pe==="right"&&(le=le+Pe)}}else z.message==="index"&&(le=Number(z.index));return le},Me.keyHandler=function(w,z,X){return w.target.tagName.match("TEXTAREA|INPUT|SELECT")||!z?"":w.keyCode===37?X?"next":"previous":w.keyCode===39?X?"previous":"next":""},Me.swipeStart=function(w,z,X){return w.target.tagName==="IMG"&&p(w),!z||!X&&w.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:w.touches?w.touches[0].pageX:w.clientX,startY:w.touches?w.touches[0].pageY:w.clientY,curX:w.touches?w.touches[0].pageX:w.clientX,curY:w.touches?w.touches[0].pageY:w.clientY}}},Me.swipeMove=function(w,z){var X=z.scrolling,Q=z.animating,ne=z.vertical,se=z.swipeToSlide,le=z.verticalSwiping,ve=z.rtl,Ee=z.currentSlide,Pe=z.edgeFriction,Re=z.edgeDragged,ze=z.onEdge,Ye=z.swiped,Qe=z.swiping,pe=z.slideCount,Ce=z.slidesToScroll,$e=z.infinite,Ie=z.touchObject,Je=z.swipeEvent,mt=z.listHeight,lt=z.listWidth;if(!X){if(Q)return p(w);ne&&se&&le&&p(w);var Nt,ht={},pn=T(z);Ie.curX=w.touches?w.touches[0].pageX:w.clientX,Ie.curY=w.touches?w.touches[0].pageY:w.clientY,Ie.swipeLength=Math.round(Math.sqrt(Math.pow(Ie.curX-Ie.startX,2)));var lr=Math.round(Math.sqrt(Math.pow(Ie.curY-Ie.startY,2)));if(!le&&!Qe&&lr>10)return{scrolling:!0};le&&(Ie.swipeLength=lr);var Cn=(ve?-1:1)*(Ie.curX>Ie.startX?1:-1);le&&(Cn=Ie.curY>Ie.startY?1:-1);var pt=Math.ceil(pe/Ce),qe=B(z.touchObject,le),sn=Ie.swipeLength;return $e||(Ee===0&&(qe==="right"||qe==="down")||Ee+1>=pt&&(qe==="left"||qe==="up")||!F(z)&&(qe==="left"||qe==="up"))&&(sn=Ie.swipeLength*Pe,Re===!1&&ze&&(ze(qe),ht.edgeDragged=!0)),!Ye&&Je&&(Je(qe),ht.swiped=!0),ne?Nt=pn+sn*(mt/lt)*Cn:ve?Nt=pn-sn*Cn:Nt=pn+sn*Cn,le&&(Nt=pn+sn*Cn),ht=o(o({},ht),{},{touchObject:Ie,swipeLeft:Nt,trackStyle:I(o(o({},z),{},{left:Nt}))}),Math.abs(Ie.curX-Ie.startX)<Math.abs(Ie.curY-Ie.startY)*.8||Ie.swipeLength>10&&(ht.swiping=!0,p(w)),ht}},Me.swipeEnd=function(w,z){var X=z.dragging,Q=z.swipe,ne=z.touchObject,se=z.listWidth,le=z.touchThreshold,ve=z.verticalSwiping,Ee=z.listHeight,Pe=z.swipeToSlide,Re=z.scrolling,ze=z.onSwipe,Ye=z.targetSlide,Qe=z.currentSlide,pe=z.infinite;if(!X)return Q&&p(w),{};var Ce=ve?Ee/le:se/le,$e=B(ne,ve),Ie={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(Re||!ne.swipeLength)return Ie;if(ne.swipeLength>Ce){p(w),ze&&ze($e);var Je,mt,lt=pe?Qe:Ye;switch($e){case"left":case"up":mt=lt+j(z),Je=Pe?M(z,mt):mt,Ie.currentDirection=0;break;case"right":case"down":mt=lt-j(z),Je=Pe?M(z,mt):mt,Ie.currentDirection=1;break;default:Je=lt}Ie.triggerSlideHandler=Je}else{var Nt=T(z);Ie.trackStyle=N(o(o({},z),{},{left:Nt}))}return Ie};var Y=Me.getNavigableIndexes=function(w){for(var z=w.infinite?w.slideCount*2:w.slideCount,X=w.infinite?w.slidesToShow*-1:0,Q=w.infinite?w.slidesToShow*-1:0,ne=[];X<z;)ne.push(X),X=Q+w.slidesToScroll,Q+=Math.min(w.slidesToScroll,w.slidesToShow);return ne},M=Me.checkNavigable=function(w,z){var X=Y(w),Q=0;if(z>X[X.length-1])z=X[X.length-1];else for(var ne in X){if(z<X[ne]){z=Q;break}Q=X[ne]}return z},j=Me.getSlideCount=function(w){var z=w.centerMode?w.slideWidth*Math.floor(w.slidesToShow/2):0;if(w.swipeToSlide){var X,Q=w.listRef,ne=Q.querySelectorAll&&Q.querySelectorAll(".slick-slide")||[];if(Array.from(ne).every(function(ve){if(w.vertical){if(ve.offsetTop+O(ve)/2>w.swipeLeft*-1)return X=ve,!1}else if(ve.offsetLeft-z+V(ve)/2>w.swipeLeft*-1)return X=ve,!1;return!0}),!X)return 0;var se=w.rtl===!0?w.slideCount-w.currentSlide:w.currentSlide,le=Math.abs(X.dataset.index-se)||1;return le}else return w.slidesToScroll},C=Me.checkSpecKeys=function(w,z){return z.reduce(function(X,Q){return X&&w.hasOwnProperty(Q)},!0)?null:console.error("Keys Missing:",w)},I=Me.getTrackCSS=function(w){C(w,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var z,X,Q=w.slideCount+2*w.slidesToShow;w.vertical?X=Q*w.slideHeight:z=D(w)*w.slideWidth;var ne={opacity:1,transition:"",WebkitTransition:""};if(w.useTransform){var se=w.vertical?"translate3d(0px, "+w.left+"px, 0px)":"translate3d("+w.left+"px, 0px, 0px)",le=w.vertical?"translate3d(0px, "+w.left+"px, 0px)":"translate3d("+w.left+"px, 0px, 0px)",ve=w.vertical?"translateY("+w.left+"px)":"translateX("+w.left+"px)";ne=o(o({},ne),{},{WebkitTransform:se,transform:le,msTransform:ve})}else w.vertical?ne.top=w.left:ne.left=w.left;return w.fade&&(ne={opacity:1}),z&&(ne.width=z),X&&(ne.height=X),window&&!window.addEventListener&&window.attachEvent&&(w.vertical?ne.marginTop=w.left+"px":ne.marginLeft=w.left+"px"),ne},N=Me.getTrackAnimateCSS=function(w){C(w,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var z=I(w);return w.useTransform?(z.WebkitTransition="-webkit-transform "+w.speed+"ms "+w.cssEase,z.transition="transform "+w.speed+"ms "+w.cssEase):w.vertical?z.transition="top "+w.speed+"ms "+w.cssEase:z.transition="left "+w.speed+"ms "+w.cssEase,z},T=Me.getTrackLeft=function(w){if(w.unslick)return 0;C(w,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var z=w.slideIndex,X=w.trackRef,Q=w.infinite,ne=w.centerMode,se=w.slideCount,le=w.slidesToShow,ve=w.slidesToScroll,Ee=w.slideWidth,Pe=w.listWidth,Re=w.variableWidth,ze=w.slideHeight,Ye=w.fade,Qe=w.vertical,pe=0,Ce,$e,Ie=0;if(Ye||w.slideCount===1)return 0;var Je=0;if(Q?(Je=-U(w),se%ve!==0&&z+ve>se&&(Je=-(z>se?le-(z-se):se%ve)),ne&&(Je+=parseInt(le/2))):(se%ve!==0&&z+ve>se&&(Je=le-se%ve),ne&&(Je=parseInt(le/2))),pe=Je*Ee,Ie=Je*ze,Qe?Ce=z*ze*-1+Ie:Ce=z*Ee*-1+pe,Re===!0){var mt,lt=X&&X.node;if(mt=z+U(w),$e=lt&&lt.childNodes[mt],Ce=$e?$e.offsetLeft*-1:0,ne===!0){mt=Q?z+U(w):z,$e=lt&&lt.children[mt],Ce=0;for(var Nt=0;Nt<mt;Nt++)Ce-=lt&&lt.children[Nt]&&lt.children[Nt].offsetWidth;Ce-=parseInt(w.centerPadding),Ce+=$e&&(Pe-$e.offsetWidth)/2}}return Ce},U=Me.getPreClones=function(w){return w.unslick||!w.infinite?0:w.variableWidth?w.slideCount:w.slidesToShow+(w.centerMode?1:0)},$=Me.getPostClones=function(w){return w.unslick||!w.infinite?0:w.slideCount},D=Me.getTotalSlides=function(w){return w.slideCount===1?1:U(w)+w.slideCount+$(w)},G=Me.siblingDirection=function(w){return w.targetSlide>w.currentSlide?w.targetSlide>w.currentSlide+Z(w)?"left":"right":w.targetSlide<w.currentSlide-H(w)?"right":"left"},Z=Me.slidesOnRight=function(w){var z=w.slidesToShow,X=w.centerMode,Q=w.rtl,ne=w.centerPadding;if(X){var se=(z-1)/2+1;return parseInt(ne)>0&&(se+=1),Q&&z%2===0&&(se+=1),se}return Q?0:z-1},H=Me.slidesOnLeft=function(w){var z=w.slidesToShow,X=w.centerMode,Q=w.rtl,ne=w.centerPadding;if(X){var se=(z-1)/2+1;return parseInt(ne)>0&&(se+=1),!Q&&z%2===0&&(se+=1),se}return Q?z-1:0};Me.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var S=Me.validSettings=Object.keys(e.default);function J(K){return S.reduce(function(w,z){return K.hasOwnProperty(z)&&(w[z]=K[z]),w},{})}return Me}var Ad={},NN;function wQ(){if(NN)return Ad;NN=1,Object.defineProperty(Ad,"__esModule",{value:!0}),Ad.Track=void 0;var t=r(Rs()),e=r(Xg()),n=Yh();function r(N){return N&&N.__esModule?N:{default:N}}function i(N){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},i(N)}function o(){return o=Object.assign?Object.assign.bind():function(N){for(var T=1;T<arguments.length;T++){var U=arguments[T];for(var $ in U)Object.prototype.hasOwnProperty.call(U,$)&&(N[$]=U[$])}return N},o.apply(this,arguments)}function l(N,T){if(!(N instanceof T))throw new TypeError("Cannot call a class as a function")}function d(N,T){for(var U=0;U<T.length;U++){var $=T[U];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(N,F($.key),$)}}function c(N,T,U){return T&&d(N.prototype,T),Object.defineProperty(N,"prototype",{writable:!1}),N}function m(N,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(T&&T.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),T&&p(N,T)}function p(N,T){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,D){return $.__proto__=D,$},p(N,T)}function y(N){var T=R();return function(){var $=P(N),D;if(T){var G=P(this).constructor;D=Reflect.construct($,arguments,G)}else D=$.apply(this,arguments);return x(this,D)}}function x(N,T){if(T&&(i(T)==="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E(N)}function E(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function R(){try{var N=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R=function(){return!!N})()}function P(N){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(U){return U.__proto__||Object.getPrototypeOf(U)},P(N)}function V(N,T){var U=Object.keys(N);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(N);T&&($=$.filter(function(D){return Object.getOwnPropertyDescriptor(N,D).enumerable})),U.push.apply(U,$)}return U}function O(N){for(var T=1;T<arguments.length;T++){var U=arguments[T]!=null?arguments[T]:{};T%2?V(Object(U),!0).forEach(function($){B(N,$,U[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(U)):V(Object(U)).forEach(function($){Object.defineProperty(N,$,Object.getOwnPropertyDescriptor(U,$))})}return N}function B(N,T,U){return T=F(T),T in N?Object.defineProperty(N,T,{value:U,enumerable:!0,configurable:!0,writable:!0}):N[T]=U,N}function F(N){var T=Y(N,"string");return i(T)=="symbol"?T:String(T)}function Y(N,T){if(i(N)!="object"||!N)return N;var U=N[Symbol.toPrimitive];if(U!==void 0){var $=U.call(N,T);if(i($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(N)}var M=function(T){var U,$,D,G,Z;T.rtl?Z=T.slideCount-1-T.index:Z=T.index,D=Z<0||Z>=T.slideCount,T.centerMode?(G=Math.floor(T.slidesToShow/2),$=(Z-T.currentSlide)%T.slideCount===0,Z>T.currentSlide-G-1&&Z<=T.currentSlide+G&&(U=!0)):U=T.currentSlide<=Z&&Z<T.currentSlide+T.slidesToShow;var H;T.targetSlide<0?H=T.targetSlide+T.slideCount:T.targetSlide>=T.slideCount?H=T.targetSlide-T.slideCount:H=T.targetSlide;var S=Z===H;return{"slick-slide":!0,"slick-active":U,"slick-center":$,"slick-cloned":D,"slick-current":S}},j=function(T){var U={};return(T.variableWidth===void 0||T.variableWidth===!1)&&(U.width=T.slideWidth),T.fade&&(U.position="relative",T.vertical?U.top=-T.index*parseInt(T.slideHeight):U.left=-T.index*parseInt(T.slideWidth),U.opacity=T.currentSlide===T.index?1:0,U.zIndex=T.currentSlide===T.index?999:998,T.useCSS&&(U.transition="opacity "+T.speed+"ms "+T.cssEase+", visibility "+T.speed+"ms "+T.cssEase)),U},C=function(T,U){return T.key||U},I=function(T){var U,$=[],D=[],G=[],Z=t.default.Children.count(T.children),H=(0,n.lazyStartIndex)(T),S=(0,n.lazyEndIndex)(T);return t.default.Children.forEach(T.children,function(J,K){var w,z={message:"children",index:K,slidesToScroll:T.slidesToScroll,currentSlide:T.currentSlide};!T.lazyLoad||T.lazyLoad&&T.lazyLoadedList.indexOf(K)>=0?w=J:w=t.default.createElement("div",null);var X=j(O(O({},T),{},{index:K})),Q=w.props.className||"",ne=M(O(O({},T),{},{index:K}));if($.push(t.default.cloneElement(w,{key:"original"+C(w,K),"data-index":K,className:(0,e.default)(ne,Q),tabIndex:"-1","aria-hidden":!ne["slick-active"],style:O(O({outline:"none"},w.props.style||{}),X),onClick:function(ve){w.props&&w.props.onClick&&w.props.onClick(ve),T.focusOnSelect&&T.focusOnSelect(z)}})),T.infinite&&T.fade===!1){var se=Z-K;se<=(0,n.getPreClones)(T)&&(U=-se,U>=H&&(w=J),ne=M(O(O({},T),{},{index:U})),D.push(t.default.cloneElement(w,{key:"precloned"+C(w,U),"data-index":U,tabIndex:"-1",className:(0,e.default)(ne,Q),"aria-hidden":!ne["slick-active"],style:O(O({},w.props.style||{}),X),onClick:function(ve){w.props&&w.props.onClick&&w.props.onClick(ve),T.focusOnSelect&&T.focusOnSelect(z)}}))),U=Z+K,U<S&&(w=J),ne=M(O(O({},T),{},{index:U})),G.push(t.default.cloneElement(w,{key:"postcloned"+C(w,U),"data-index":U,tabIndex:"-1",className:(0,e.default)(ne,Q),"aria-hidden":!ne["slick-active"],style:O(O({},w.props.style||{}),X),onClick:function(ve){w.props&&w.props.onClick&&w.props.onClick(ve),T.focusOnSelect&&T.focusOnSelect(z)}}))}}),T.rtl?D.concat($,G).reverse():D.concat($,G)};return Ad.Track=function(N){m(U,N);var T=y(U);function U(){var $;l(this,U);for(var D=arguments.length,G=new Array(D),Z=0;Z<D;Z++)G[Z]=arguments[Z];return $=T.call.apply(T,[this].concat(G)),B(E($),"node",null),B(E($),"handleRef",function(H){$.node=H}),$}return c(U,[{key:"render",value:function(){var D=I(this.props),G=this.props,Z=G.onMouseEnter,H=G.onMouseOver,S=G.onMouseLeave,J={onMouseEnter:Z,onMouseOver:H,onMouseLeave:S};return t.default.createElement("div",o({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},J),D)}}]),U}(t.default.PureComponent),Ad}var Cd={},RN;function _Q(){if(RN)return Cd;RN=1;function t(M){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},t(M)}Object.defineProperty(Cd,"__esModule",{value:!0}),Cd.Dots=void 0;var e=i(Rs()),n=i(Xg()),r=Yh();function i(M){return M&&M.__esModule?M:{default:M}}function o(M,j){var C=Object.keys(M);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(M);j&&(I=I.filter(function(N){return Object.getOwnPropertyDescriptor(M,N).enumerable})),C.push.apply(C,I)}return C}function l(M){for(var j=1;j<arguments.length;j++){var C=arguments[j]!=null?arguments[j]:{};j%2?o(Object(C),!0).forEach(function(I){d(M,I,C[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(C)):o(Object(C)).forEach(function(I){Object.defineProperty(M,I,Object.getOwnPropertyDescriptor(C,I))})}return M}function d(M,j,C){return j=y(j),j in M?Object.defineProperty(M,j,{value:C,enumerable:!0,configurable:!0,writable:!0}):M[j]=C,M}function c(M,j){if(!(M instanceof j))throw new TypeError("Cannot call a class as a function")}function m(M,j){for(var C=0;C<j.length;C++){var I=j[C];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,y(I.key),I)}}function p(M,j,C){return j&&m(M.prototype,j),Object.defineProperty(M,"prototype",{writable:!1}),M}function y(M){var j=x(M,"string");return t(j)=="symbol"?j:String(j)}function x(M,j){if(t(M)!="object"||!M)return M;var C=M[Symbol.toPrimitive];if(C!==void 0){var I=C.call(M,j);if(t(I)!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(M)}function E(M,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(j&&j.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),j&&R(M,j)}function R(M,j){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,N){return I.__proto__=N,I},R(M,j)}function P(M){var j=B();return function(){var I=F(M),N;if(j){var T=F(this).constructor;N=Reflect.construct(I,arguments,T)}else N=I.apply(this,arguments);return V(this,N)}}function V(M,j){if(j&&(t(j)==="object"||typeof j=="function"))return j;if(j!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O(M)}function O(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}function B(){try{var M=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B=function(){return!!M})()}function F(M){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)},F(M)}var Y=function(j){var C;return j.infinite?C=Math.ceil(j.slideCount/j.slidesToScroll):C=Math.ceil((j.slideCount-j.slidesToShow)/j.slidesToScroll)+1,C};return Cd.Dots=function(M){E(C,M);var j=P(C);function C(){return c(this,C),j.apply(this,arguments)}return p(C,[{key:"clickHandler",value:function(N,T){T.preventDefault(),this.props.clickHandler(N)}},{key:"render",value:function(){for(var N=this.props,T=N.onMouseEnter,U=N.onMouseOver,$=N.onMouseLeave,D=N.infinite,G=N.slidesToScroll,Z=N.slidesToShow,H=N.slideCount,S=N.currentSlide,J=Y({slideCount:H,slidesToScroll:G,slidesToShow:Z,infinite:D}),K={onMouseEnter:T,onMouseOver:U,onMouseLeave:$},w=[],z=0;z<J;z++){var X=(z+1)*G-1,Q=D?X:(0,r.clamp)(X,0,H-1),ne=Q-(G-1),se=D?ne:(0,r.clamp)(ne,0,H-1),le=(0,n.default)({"slick-active":D?S>=se&&S<=Q:S===se}),ve={message:"dots",index:z,slidesToScroll:G,currentSlide:S},Ee=this.clickHandler.bind(this,ve);w=w.concat(e.default.createElement("li",{key:z,className:le},e.default.cloneElement(this.props.customPaging(z),{onClick:Ee})))}return e.default.cloneElement(this.props.appendDots(w),l({className:this.props.dotsClass},K))}}]),C}(e.default.PureComponent),Cd}var Zo={},IN;function SQ(){if(IN)return Zo;IN=1;function t(M){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},t(M)}Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.PrevArrow=Zo.NextArrow=void 0;var e=i(Rs()),n=i(Xg()),r=Yh();function i(M){return M&&M.__esModule?M:{default:M}}function o(){return o=Object.assign?Object.assign.bind():function(M){for(var j=1;j<arguments.length;j++){var C=arguments[j];for(var I in C)Object.prototype.hasOwnProperty.call(C,I)&&(M[I]=C[I])}return M},o.apply(this,arguments)}function l(M,j){var C=Object.keys(M);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(M);j&&(I=I.filter(function(N){return Object.getOwnPropertyDescriptor(M,N).enumerable})),C.push.apply(C,I)}return C}function d(M){for(var j=1;j<arguments.length;j++){var C=arguments[j]!=null?arguments[j]:{};j%2?l(Object(C),!0).forEach(function(I){c(M,I,C[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(C)):l(Object(C)).forEach(function(I){Object.defineProperty(M,I,Object.getOwnPropertyDescriptor(C,I))})}return M}function c(M,j,C){return j=x(j),j in M?Object.defineProperty(M,j,{value:C,enumerable:!0,configurable:!0,writable:!0}):M[j]=C,M}function m(M,j){if(!(M instanceof j))throw new TypeError("Cannot call a class as a function")}function p(M,j){for(var C=0;C<j.length;C++){var I=j[C];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(M,x(I.key),I)}}function y(M,j,C){return j&&p(M.prototype,j),Object.defineProperty(M,"prototype",{writable:!1}),M}function x(M){var j=E(M,"string");return t(j)=="symbol"?j:String(j)}function E(M,j){if(t(M)!="object"||!M)return M;var C=M[Symbol.toPrimitive];if(C!==void 0){var I=C.call(M,j);if(t(I)!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(M)}function R(M,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(j&&j.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),j&&P(M,j)}function P(M,j){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,N){return I.__proto__=N,I},P(M,j)}function V(M){var j=F();return function(){var I=Y(M),N;if(j){var T=Y(this).constructor;N=Reflect.construct(I,arguments,T)}else N=I.apply(this,arguments);return O(this,N)}}function O(M,j){if(j&&(t(j)==="object"||typeof j=="function"))return j;if(j!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B(M)}function B(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}function F(){try{var M=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F=function(){return!!M})()}function Y(M){return Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)},Y(M)}return Zo.PrevArrow=function(M){R(C,M);var j=V(C);function C(){return m(this,C),j.apply(this,arguments)}return y(C,[{key:"clickHandler",value:function(N,T){T&&T.preventDefault(),this.props.clickHandler(N,T)}},{key:"render",value:function(){var N={"slick-arrow":!0,"slick-prev":!0},T=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(N["slick-disabled"]=!0,T=null);var U={key:"0","data-role":"none",className:(0,n.default)(N),style:{display:"block"},onClick:T},$={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},D;return this.props.prevArrow?D=e.default.cloneElement(this.props.prevArrow,d(d({},U),$)):D=e.default.createElement("button",o({key:"0",type:"button"},U)," ","Previous"),D}}]),C}(e.default.PureComponent),Zo.NextArrow=function(M){R(C,M);var j=V(C);function C(){return m(this,C),j.apply(this,arguments)}return y(C,[{key:"clickHandler",value:function(N,T){T&&T.preventDefault(),this.props.clickHandler(N,T)}},{key:"render",value:function(){var N={"slick-arrow":!0,"slick-next":!0},T=this.clickHandler.bind(this,{message:"next"});(0,r.canGoNext)(this.props)||(N["slick-disabled"]=!0,T=null);var U={key:"1","data-role":"none",className:(0,n.default)(N),style:{display:"block"},onClick:T},$={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},D;return this.props.nextArrow?D=e.default.cloneElement(this.props.nextArrow,d(d({},U),$)):D=e.default.createElement("button",o({key:"1",type:"button"},U)," ","Next"),D}}]),C}(e.default.PureComponent),Zo}var cD=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var l=o[i];n.call(r,l[1],l[0])}},e}()}(),px=typeof window<"u"&&typeof document<"u"&&window.document===document,Zp=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),TQ=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Zp):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),EQ=2;function AQ(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&d()}function l(){TQ(o)}function d(){var c=Date.now();if(n){if(c-i<EQ)return;r=!0}else n=!0,r=!1,setTimeout(l,e);i=c}return d}var CQ=20,NQ=["top","right","bottom","left","width","height","size","weight"],RQ=typeof MutationObserver<"u",IQ=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=AQ(this.refresh.bind(this),CQ)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!px||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),RQ?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!px||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=NQ.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),dD=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},rc=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Zp},hD=Qg(0,0,0,0);function Jp(t){return parseFloat(t)||0}function MN(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var o=t["border-"+i+"-width"];return r+Jp(o)},0)}function MQ(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var o=i[r],l=t["padding-"+o];n[o]=Jp(l)}return n}function jQ(t){var e=t.getBBox();return Qg(0,0,e.width,e.height)}function PQ(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return hD;var r=rc(t).getComputedStyle(t),i=MQ(r),o=i.left+i.right,l=i.top+i.bottom,d=Jp(r.width),c=Jp(r.height);if(r.boxSizing==="border-box"&&(Math.round(d+o)!==e&&(d-=MN(r,"left","right")+o),Math.round(c+l)!==n&&(c-=MN(r,"top","bottom")+l)),!DQ(t)){var m=Math.round(d+o)-e,p=Math.round(c+l)-n;Math.abs(m)!==1&&(d-=m),Math.abs(p)!==1&&(c-=p)}return Qg(i.left,i.top,d,c)}var OQ=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof rc(t).SVGGraphicsElement}:function(t){return t instanceof rc(t).SVGElement&&typeof t.getBBox=="function"}}();function DQ(t){return t===rc(t).document.documentElement}function kQ(t){return px?OQ(t)?jQ(t):PQ(t):hD}function LQ(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,l=Object.create(o.prototype);return dD(l,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),l}function Qg(t,e,n,r){return{x:t,y:e,width:n,height:r}}var VQ=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Qg(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=kQ(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),UQ=function(){function t(e,n){var r=LQ(n);dD(this,{target:e,contentRect:r})}return t}(),zQ=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new cD,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof rc(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new VQ(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof rc(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new UQ(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),fD=typeof WeakMap<"u"?new WeakMap:new cD,mD=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=IQ.getInstance(),r=new zQ(e,n,this);fD.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){mD.prototype[t]=function(){var e;return(e=fD.get(this))[t].apply(e,arguments)}});var BQ=function(){return typeof Zp.ResizeObserver<"u"?Zp.ResizeObserver:mD}();const FQ=Object.freeze(Object.defineProperty({__proto__:null,default:BQ},Symbol.toStringTag,{value:"Module"})),HQ=B4(FQ);var jN;function $Q(){if(jN)return Ed;jN=1,Object.defineProperty(Ed,"__esModule",{value:!0}),Ed.InnerSlider=void 0;var t=m(Rs()),e=m(bQ()),n=m(xQ()),r=m(Xg()),i=Yh(),o=wQ(),l=_Q(),d=SQ(),c=m(HQ);function m(D){return D&&D.__esModule?D:{default:D}}function p(D){"@babel/helpers - typeof";return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(G){return typeof G}:function(G){return G&&typeof Symbol=="function"&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},p(D)}function y(){return y=Object.assign?Object.assign.bind():function(D){for(var G=1;G<arguments.length;G++){var Z=arguments[G];for(var H in Z)Object.prototype.hasOwnProperty.call(Z,H)&&(D[H]=Z[H])}return D},y.apply(this,arguments)}function x(D,G){if(D==null)return{};var Z=E(D,G),H,S;if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(D);for(S=0;S<J.length;S++)H=J[S],!(G.indexOf(H)>=0)&&Object.prototype.propertyIsEnumerable.call(D,H)&&(Z[H]=D[H])}return Z}function E(D,G){if(D==null)return{};var Z={},H=Object.keys(D),S,J;for(J=0;J<H.length;J++)S=H[J],!(G.indexOf(S)>=0)&&(Z[S]=D[S]);return Z}function R(D,G){var Z=Object.keys(D);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(D);G&&(H=H.filter(function(S){return Object.getOwnPropertyDescriptor(D,S).enumerable})),Z.push.apply(Z,H)}return Z}function P(D){for(var G=1;G<arguments.length;G++){var Z=arguments[G]!=null?arguments[G]:{};G%2?R(Object(Z),!0).forEach(function(H){T(D,H,Z[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(Z)):R(Object(Z)).forEach(function(H){Object.defineProperty(D,H,Object.getOwnPropertyDescriptor(Z,H))})}return D}function V(D,G){if(!(D instanceof G))throw new TypeError("Cannot call a class as a function")}function O(D,G){for(var Z=0;Z<G.length;Z++){var H=G[Z];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(D,U(H.key),H)}}function B(D,G,Z){return G&&O(D.prototype,G),Object.defineProperty(D,"prototype",{writable:!1}),D}function F(D,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(G&&G.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),Object.defineProperty(D,"prototype",{writable:!1}),G&&Y(D,G)}function Y(D,G){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(H,S){return H.__proto__=S,H},Y(D,G)}function M(D){var G=I();return function(){var H=N(D),S;if(G){var J=N(this).constructor;S=Reflect.construct(H,arguments,J)}else S=H.apply(this,arguments);return j(this,S)}}function j(D,G){if(G&&(p(G)==="object"||typeof G=="function"))return G;if(G!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C(D)}function C(D){if(D===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}function I(){try{var D=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I=function(){return!!D})()}function N(D){return N=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Z){return Z.__proto__||Object.getPrototypeOf(Z)},N(D)}function T(D,G,Z){return G=U(G),G in D?Object.defineProperty(D,G,{value:Z,enumerable:!0,configurable:!0,writable:!0}):D[G]=Z,D}function U(D){var G=$(D,"string");return p(G)=="symbol"?G:String(G)}function $(D,G){if(p(D)!="object"||!D)return D;var Z=D[Symbol.toPrimitive];if(Z!==void 0){var H=Z.call(D,G);if(p(H)!="object")return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return(G==="string"?String:Number)(D)}return Ed.InnerSlider=function(D){F(Z,D);var G=M(Z);function Z(H){var S;V(this,Z),S=G.call(this,H),T(C(S),"listRefHandler",function(K){return S.list=K}),T(C(S),"trackRefHandler",function(K){return S.track=K}),T(C(S),"adaptHeight",function(){if(S.props.adaptiveHeight&&S.list){var K=S.list.querySelector('[data-index="'.concat(S.state.currentSlide,'"]'));S.list.style.height=(0,i.getHeight)(K)+"px"}}),T(C(S),"componentDidMount",function(){if(S.props.onInit&&S.props.onInit(),S.props.lazyLoad){var K=(0,i.getOnDemandLazySlides)(P(P({},S.props),S.state));K.length>0&&(S.setState(function(z){return{lazyLoadedList:z.lazyLoadedList.concat(K)}}),S.props.onLazyLoad&&S.props.onLazyLoad(K))}var w=P({listRef:S.list,trackRef:S.track},S.props);S.updateState(w,!0,function(){S.adaptHeight(),S.props.autoplay&&S.autoPlay("update")}),S.props.lazyLoad==="progressive"&&(S.lazyLoadTimer=setInterval(S.progressiveLazyLoad,1e3)),S.ro=new c.default(function(){S.state.animating?(S.onWindowResized(!1),S.callbackTimers.push(setTimeout(function(){return S.onWindowResized()},S.props.speed))):S.onWindowResized()}),S.ro.observe(S.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(z){z.onfocus=S.props.pauseOnFocus?S.onSlideFocus:null,z.onblur=S.props.pauseOnFocus?S.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",S.onWindowResized):window.attachEvent("onresize",S.onWindowResized)}),T(C(S),"componentWillUnmount",function(){S.animationEndCallback&&clearTimeout(S.animationEndCallback),S.lazyLoadTimer&&clearInterval(S.lazyLoadTimer),S.callbackTimers.length&&(S.callbackTimers.forEach(function(K){return clearTimeout(K)}),S.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",S.onWindowResized):window.detachEvent("onresize",S.onWindowResized),S.autoplayTimer&&clearInterval(S.autoplayTimer),S.ro.disconnect()}),T(C(S),"componentDidUpdate",function(K){if(S.checkImagesLoad(),S.props.onReInit&&S.props.onReInit(),S.props.lazyLoad){var w=(0,i.getOnDemandLazySlides)(P(P({},S.props),S.state));w.length>0&&(S.setState(function(Q){return{lazyLoadedList:Q.lazyLoadedList.concat(w)}}),S.props.onLazyLoad&&S.props.onLazyLoad(w))}S.adaptHeight();var z=P(P({listRef:S.list,trackRef:S.track},S.props),S.state),X=S.didPropsChange(K);X&&S.updateState(z,X,function(){S.state.currentSlide>=t.default.Children.count(S.props.children)&&S.changeSlide({message:"index",index:t.default.Children.count(S.props.children)-S.props.slidesToShow,currentSlide:S.state.currentSlide}),S.props.autoplay?S.autoPlay("update"):S.pause("paused")})}),T(C(S),"onWindowResized",function(K){S.debouncedResize&&S.debouncedResize.cancel(),S.debouncedResize=(0,n.default)(function(){return S.resizeWindow(K)},50),S.debouncedResize()}),T(C(S),"resizeWindow",function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,w=!!(S.track&&S.track.node);if(w){var z=P(P({listRef:S.list,trackRef:S.track},S.props),S.state);S.updateState(z,K,function(){S.props.autoplay?S.autoPlay("update"):S.pause("paused")}),S.setState({animating:!1}),clearTimeout(S.animationEndCallback),delete S.animationEndCallback}}),T(C(S),"updateState",function(K,w,z){var X=(0,i.initializedState)(K);K=P(P(P({},K),X),{},{slideIndex:X.currentSlide});var Q=(0,i.getTrackLeft)(K);K=P(P({},K),{},{left:Q});var ne=(0,i.getTrackCSS)(K);(w||t.default.Children.count(S.props.children)!==t.default.Children.count(K.children))&&(X.trackStyle=ne),S.setState(X,z)}),T(C(S),"ssrInit",function(){if(S.props.variableWidth){var K=0,w=0,z=[],X=(0,i.getPreClones)(P(P(P({},S.props),S.state),{},{slideCount:S.props.children.length})),Q=(0,i.getPostClones)(P(P(P({},S.props),S.state),{},{slideCount:S.props.children.length}));S.props.children.forEach(function($e){z.push($e.props.style.width),K+=$e.props.style.width});for(var ne=0;ne<X;ne++)w+=z[z.length-1-ne],K+=z[z.length-1-ne];for(var se=0;se<Q;se++)K+=z[se];for(var le=0;le<S.state.currentSlide;le++)w+=z[le];var ve={width:K+"px",left:-w+"px"};if(S.props.centerMode){var Ee="".concat(z[S.state.currentSlide],"px");ve.left="calc(".concat(ve.left," + (100% - ").concat(Ee,") / 2 ) ")}return{trackStyle:ve}}var Pe=t.default.Children.count(S.props.children),Re=P(P(P({},S.props),S.state),{},{slideCount:Pe}),ze=(0,i.getPreClones)(Re)+(0,i.getPostClones)(Re)+Pe,Ye=100/S.props.slidesToShow*ze,Qe=100/ze,pe=-Qe*((0,i.getPreClones)(Re)+S.state.currentSlide)*Ye/100;S.props.centerMode&&(pe+=(100-Qe*Ye/100)/2);var Ce={width:Ye+"%",left:pe+"%"};return{slideWidth:Qe+"%",trackStyle:Ce}}),T(C(S),"checkImagesLoad",function(){var K=S.list&&S.list.querySelectorAll&&S.list.querySelectorAll(".slick-slide img")||[],w=K.length,z=0;Array.prototype.forEach.call(K,function(X){var Q=function(){return++z&&z>=w&&S.onWindowResized()};if(!X.onclick)X.onclick=function(){return X.parentNode.focus()};else{var ne=X.onclick;X.onclick=function(se){ne(se),X.parentNode.focus()}}X.onload||(S.props.lazyLoad?X.onload=function(){S.adaptHeight(),S.callbackTimers.push(setTimeout(S.onWindowResized,S.props.speed))}:(X.onload=Q,X.onerror=function(){Q(),S.props.onLazyLoadError&&S.props.onLazyLoadError()}))})}),T(C(S),"progressiveLazyLoad",function(){for(var K=[],w=P(P({},S.props),S.state),z=S.state.currentSlide;z<S.state.slideCount+(0,i.getPostClones)(w);z++)if(S.state.lazyLoadedList.indexOf(z)<0){K.push(z);break}for(var X=S.state.currentSlide-1;X>=-(0,i.getPreClones)(w);X--)if(S.state.lazyLoadedList.indexOf(X)<0){K.push(X);break}K.length>0?(S.setState(function(Q){return{lazyLoadedList:Q.lazyLoadedList.concat(K)}}),S.props.onLazyLoad&&S.props.onLazyLoad(K)):S.lazyLoadTimer&&(clearInterval(S.lazyLoadTimer),delete S.lazyLoadTimer)}),T(C(S),"slideHandler",function(K){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,z=S.props,X=z.asNavFor,Q=z.beforeChange,ne=z.onLazyLoad,se=z.speed,le=z.afterChange,ve=S.state.currentSlide,Ee=(0,i.slideHandler)(P(P(P({index:K},S.props),S.state),{},{trackRef:S.track,useCSS:S.props.useCSS&&!w})),Pe=Ee.state,Re=Ee.nextState;if(Pe){Q&&Q(ve,Pe.currentSlide);var ze=Pe.lazyLoadedList.filter(function(Ye){return S.state.lazyLoadedList.indexOf(Ye)<0});ne&&ze.length>0&&ne(ze),!S.props.waitForAnimate&&S.animationEndCallback&&(clearTimeout(S.animationEndCallback),le&&le(ve),delete S.animationEndCallback),S.setState(Pe,function(){X&&S.asNavForIndex!==K&&(S.asNavForIndex=K,X.innerSlider.slideHandler(K)),Re&&(S.animationEndCallback=setTimeout(function(){var Ye=Re.animating,Qe=x(Re,["animating"]);S.setState(Qe,function(){S.callbackTimers.push(setTimeout(function(){return S.setState({animating:Ye})},10)),le&&le(Pe.currentSlide),delete S.animationEndCallback})},se))})}}),T(C(S),"changeSlide",function(K){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,z=P(P({},S.props),S.state),X=(0,i.changeSlide)(z,K);if(!(X!==0&&!X)&&(w===!0?S.slideHandler(X,w):S.slideHandler(X),S.props.autoplay&&S.autoPlay("update"),S.props.focusOnSelect)){var Q=S.list.querySelectorAll(".slick-current");Q[0]&&Q[0].focus()}}),T(C(S),"clickHandler",function(K){S.clickable===!1&&(K.stopPropagation(),K.preventDefault()),S.clickable=!0}),T(C(S),"keyHandler",function(K){var w=(0,i.keyHandler)(K,S.props.accessibility,S.props.rtl);w!==""&&S.changeSlide({message:w})}),T(C(S),"selectHandler",function(K){S.changeSlide(K)}),T(C(S),"disableBodyScroll",function(){var K=function(z){z=z||window.event,z.preventDefault&&z.preventDefault(),z.returnValue=!1};window.ontouchmove=K}),T(C(S),"enableBodyScroll",function(){window.ontouchmove=null}),T(C(S),"swipeStart",function(K){S.props.verticalSwiping&&S.disableBodyScroll();var w=(0,i.swipeStart)(K,S.props.swipe,S.props.draggable);w!==""&&S.setState(w)}),T(C(S),"swipeMove",function(K){var w=(0,i.swipeMove)(K,P(P(P({},S.props),S.state),{},{trackRef:S.track,listRef:S.list,slideIndex:S.state.currentSlide}));w&&(w.swiping&&(S.clickable=!1),S.setState(w))}),T(C(S),"swipeEnd",function(K){var w=(0,i.swipeEnd)(K,P(P(P({},S.props),S.state),{},{trackRef:S.track,listRef:S.list,slideIndex:S.state.currentSlide}));if(w){var z=w.triggerSlideHandler;delete w.triggerSlideHandler,S.setState(w),z!==void 0&&(S.slideHandler(z),S.props.verticalSwiping&&S.enableBodyScroll())}}),T(C(S),"touchEnd",function(K){S.swipeEnd(K),S.clickable=!0}),T(C(S),"slickPrev",function(){S.callbackTimers.push(setTimeout(function(){return S.changeSlide({message:"previous"})},0))}),T(C(S),"slickNext",function(){S.callbackTimers.push(setTimeout(function(){return S.changeSlide({message:"next"})},0))}),T(C(S),"slickGoTo",function(K){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(K=Number(K),isNaN(K))return"";S.callbackTimers.push(setTimeout(function(){return S.changeSlide({message:"index",index:K,currentSlide:S.state.currentSlide},w)},0))}),T(C(S),"play",function(){var K;if(S.props.rtl)K=S.state.currentSlide-S.props.slidesToScroll;else if((0,i.canGoNext)(P(P({},S.props),S.state)))K=S.state.currentSlide+S.props.slidesToScroll;else return!1;S.slideHandler(K)}),T(C(S),"autoPlay",function(K){S.autoplayTimer&&clearInterval(S.autoplayTimer);var w=S.state.autoplaying;if(K==="update"){if(w==="hovered"||w==="focused"||w==="paused")return}else if(K==="leave"){if(w==="paused"||w==="focused")return}else if(K==="blur"&&(w==="paused"||w==="hovered"))return;S.autoplayTimer=setInterval(S.play,S.props.autoplaySpeed+50),S.setState({autoplaying:"playing"})}),T(C(S),"pause",function(K){S.autoplayTimer&&(clearInterval(S.autoplayTimer),S.autoplayTimer=null);var w=S.state.autoplaying;K==="paused"?S.setState({autoplaying:"paused"}):K==="focused"?(w==="hovered"||w==="playing")&&S.setState({autoplaying:"focused"}):w==="playing"&&S.setState({autoplaying:"hovered"})}),T(C(S),"onDotsOver",function(){return S.props.autoplay&&S.pause("hovered")}),T(C(S),"onDotsLeave",function(){return S.props.autoplay&&S.state.autoplaying==="hovered"&&S.autoPlay("leave")}),T(C(S),"onTrackOver",function(){return S.props.autoplay&&S.pause("hovered")}),T(C(S),"onTrackLeave",function(){return S.props.autoplay&&S.state.autoplaying==="hovered"&&S.autoPlay("leave")}),T(C(S),"onSlideFocus",function(){return S.props.autoplay&&S.pause("focused")}),T(C(S),"onSlideBlur",function(){return S.props.autoplay&&S.state.autoplaying==="focused"&&S.autoPlay("blur")}),T(C(S),"render",function(){var K=(0,r.default)("slick-slider",S.props.className,{"slick-vertical":S.props.vertical,"slick-initialized":!0}),w=P(P({},S.props),S.state),z=(0,i.extractObject)(w,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),X=S.props.pauseOnHover;z=P(P({},z),{},{onMouseEnter:X?S.onTrackOver:null,onMouseLeave:X?S.onTrackLeave:null,onMouseOver:X?S.onTrackOver:null,focusOnSelect:S.props.focusOnSelect&&S.clickable?S.selectHandler:null});var Q;if(S.props.dots===!0&&S.state.slideCount>=S.props.slidesToShow){var ne=(0,i.extractObject)(w,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),se=S.props.pauseOnDotsHover;ne=P(P({},ne),{},{clickHandler:S.changeSlide,onMouseEnter:se?S.onDotsLeave:null,onMouseOver:se?S.onDotsOver:null,onMouseLeave:se?S.onDotsLeave:null}),Q=t.default.createElement(l.Dots,ne)}var le,ve,Ee=(0,i.extractObject)(w,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);Ee.clickHandler=S.changeSlide,S.props.arrows&&(le=t.default.createElement(d.PrevArrow,Ee),ve=t.default.createElement(d.NextArrow,Ee));var Pe=null;S.props.vertical&&(Pe={height:S.state.listHeight});var Re=null;S.props.vertical===!1?S.props.centerMode===!0&&(Re={padding:"0px "+S.props.centerPadding}):S.props.centerMode===!0&&(Re={padding:S.props.centerPadding+" 0px"});var ze=P(P({},Pe),Re),Ye=S.props.touchMove,Qe={className:"slick-list",style:ze,onClick:S.clickHandler,onMouseDown:Ye?S.swipeStart:null,onMouseMove:S.state.dragging&&Ye?S.swipeMove:null,onMouseUp:Ye?S.swipeEnd:null,onMouseLeave:S.state.dragging&&Ye?S.swipeEnd:null,onTouchStart:Ye?S.swipeStart:null,onTouchMove:S.state.dragging&&Ye?S.swipeMove:null,onTouchEnd:Ye?S.touchEnd:null,onTouchCancel:S.state.dragging&&Ye?S.swipeEnd:null,onKeyDown:S.props.accessibility?S.keyHandler:null},pe={className:K,dir:"ltr",style:S.props.style};return S.props.unslick&&(Qe={className:"slick-list"},pe={className:K}),t.default.createElement("div",pe,S.props.unslick?"":le,t.default.createElement("div",y({ref:S.listRefHandler},Qe),t.default.createElement(o.Track,y({ref:S.trackRefHandler},z),S.props.children)),S.props.unslick?"":ve,S.props.unslick?"":Q)}),S.list=null,S.track=null,S.state=P(P({},e.default),{},{currentSlide:S.props.initialSlide,targetSlide:S.props.initialSlide?S.props.initialSlide:0,slideCount:t.default.Children.count(S.props.children)}),S.callbackTimers=[],S.clickable=!0,S.debouncedResize=null;var J=S.ssrInit();return S.state=P(P({},S.state),J),S}return B(Z,[{key:"didPropsChange",value:function(S){for(var J=!1,K=0,w=Object.keys(this.props);K<w.length;K++){var z=w[K];if(!S.hasOwnProperty(z)){J=!0;break}if(!(p(S[z])==="object"||typeof S[z]=="function"||isNaN(S[z]))&&S[z]!==this.props[z]){J=!0;break}}return J||t.default.Children.count(this.props.children)!==t.default.Children.count(S.children)}}]),Z}(t.default.Component),Ed}var Y0,PN;function qQ(){if(PN)return Y0;PN=1;var t=function(e){return e.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()}).toLowerCase()};return Y0=t,Y0}var X0,ON;function GQ(){if(ON)return X0;ON=1;var t=qQ(),e=function(i){var o=/[height|width]$/;return o.test(i)},n=function(i){var o="",l=Object.keys(i);return l.forEach(function(d,c){var m=i[d];d=t(d),e(d)&&typeof m=="number"&&(m=m+"px"),m===!0?o+=d:m===!1?o+="not "+d:o+="("+d+": "+m+")",c<l.length-1&&(o+=" and ")}),o},r=function(i){var o="";return typeof i=="string"?i:i instanceof Array?(i.forEach(function(l,d){o+=n(l),d<i.length-1&&(o+=", ")}),o):n(i)};return X0=r,X0}var Q0,DN;function WQ(){if(DN)return Q0;DN=1;function t(e){this.options=e,!e.deferSetup&&this.setup()}return t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},Q0=t,Q0}var Z0,kN;function pD(){if(kN)return Z0;kN=1;function t(r,i){var o=0,l=r.length,d;for(o;o<l&&(d=i(r[o],o),d!==!1);o++);}function e(r){return Object.prototype.toString.apply(r)==="[object Array]"}function n(r){return typeof r=="function"}return Z0={isFunction:n,isArray:e,each:t},Z0}var J0,LN;function KQ(){if(LN)return J0;LN=1;var t=WQ(),e=pD().each;function n(r,i){this.query=r,this.isUnconditional=i,this.handlers=[],this.mql=window.matchMedia(r);var o=this;this.listener=function(l){o.mql=l.currentTarget||l,o.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(r){var i=new t(r);this.handlers.push(i),this.matches()&&i.on()},removeHandler:function(r){var i=this.handlers;e(i,function(o,l){if(o.equals(r))return o.destroy(),!i.splice(l,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";e(this.handlers,function(i){i[r]()})}},J0=n,J0}var eb,VN;function YQ(){if(VN)return eb;VN=1;var t=KQ(),e=pD(),n=e.each,r=e.isFunction,i=e.isArray;function o(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return o.prototype={constructor:o,register:function(l,d,c){var m=this.queries,p=c&&this.browserIsIncapable;return m[l]||(m[l]=new t(l,p)),r(d)&&(d={match:d}),i(d)||(d=[d]),n(d,function(y){r(y)&&(y={match:y}),m[l].addHandler(y)}),this},unregister:function(l,d){var c=this.queries[l];return c&&(d?c.removeHandler(d):(c.clear(),delete this.queries[l])),this}},eb=o,eb}var tb,UN;function XQ(){if(UN)return tb;UN=1;var t=YQ();return tb=new t,tb}var zN;function QQ(){return zN||(zN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=l(Rs()),n=$Q(),r=l(GQ()),i=l(uD()),o=Yh();function l(N){return N&&N.__esModule?N:{default:N}}function d(N){"@babel/helpers - typeof";return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},d(N)}function c(){return c=Object.assign?Object.assign.bind():function(N){for(var T=1;T<arguments.length;T++){var U=arguments[T];for(var $ in U)Object.prototype.hasOwnProperty.call(U,$)&&(N[$]=U[$])}return N},c.apply(this,arguments)}function m(N,T){var U=Object.keys(N);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(N);T&&($=$.filter(function(D){return Object.getOwnPropertyDescriptor(N,D).enumerable})),U.push.apply(U,$)}return U}function p(N){for(var T=1;T<arguments.length;T++){var U=arguments[T]!=null?arguments[T]:{};T%2?m(Object(U),!0).forEach(function($){M(N,$,U[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(U)):m(Object(U)).forEach(function($){Object.defineProperty(N,$,Object.getOwnPropertyDescriptor(U,$))})}return N}function y(N,T){if(!(N instanceof T))throw new TypeError("Cannot call a class as a function")}function x(N,T){for(var U=0;U<T.length;U++){var $=T[U];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(N,j($.key),$)}}function E(N,T,U){return T&&x(N.prototype,T),Object.defineProperty(N,"prototype",{writable:!1}),N}function R(N,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(T&&T.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),T&&P(N,T)}function P(N,T){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,D){return $.__proto__=D,$},P(N,T)}function V(N){var T=F();return function(){var $=Y(N),D;if(T){var G=Y(this).constructor;D=Reflect.construct($,arguments,G)}else D=$.apply(this,arguments);return O(this,D)}}function O(N,T){if(T&&(d(T)==="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B(N)}function B(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function F(){try{var N=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F=function(){return!!N})()}function Y(N){return Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(U){return U.__proto__||Object.getPrototypeOf(U)},Y(N)}function M(N,T,U){return T=j(T),T in N?Object.defineProperty(N,T,{value:U,enumerable:!0,configurable:!0,writable:!0}):N[T]=U,N}function j(N){var T=C(N,"string");return d(T)=="symbol"?T:String(T)}function C(N,T){if(d(N)!="object"||!N)return N;var U=N[Symbol.toPrimitive];if(U!==void 0){var $=U.call(N,T);if(d($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return(T==="string"?String:Number)(N)}var I=(0,o.canUseDOM)()&&XQ();t.default=function(N){R(U,N);var T=V(U);function U($){var D;return y(this,U),D=T.call(this,$),M(B(D),"innerSliderRefHandler",function(G){return D.innerSlider=G}),M(B(D),"slickPrev",function(){return D.innerSlider.slickPrev()}),M(B(D),"slickNext",function(){return D.innerSlider.slickNext()}),M(B(D),"slickGoTo",function(G){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return D.innerSlider.slickGoTo(G,Z)}),M(B(D),"slickPause",function(){return D.innerSlider.pause("paused")}),M(B(D),"slickPlay",function(){return D.innerSlider.autoPlay("play")}),D.state={breakpoint:null},D._responsiveMediaHandlers=[],D}return E(U,[{key:"media",value:function(D,G){I.register(D,G),this._responsiveMediaHandlers.push({query:D,handler:G})}},{key:"componentDidMount",value:function(){var D=this;if(this.props.responsive){var G=this.props.responsive.map(function(H){return H.breakpoint});G.sort(function(H,S){return H-S}),G.forEach(function(H,S){var J;S===0?J=(0,r.default)({minWidth:0,maxWidth:H}):J=(0,r.default)({minWidth:G[S-1]+1,maxWidth:H}),(0,o.canUseDOM)()&&D.media(J,function(){D.setState({breakpoint:H})})});var Z=(0,r.default)({minWidth:G.slice(-1)[0]});(0,o.canUseDOM)()&&this.media(Z,function(){D.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(D){I.unregister(D.query,D.handler)})}},{key:"render",value:function(){var D=this,G,Z;this.state.breakpoint?(Z=this.props.responsive.filter(function(se){return se.breakpoint===D.state.breakpoint}),G=Z[0].settings==="unslick"?"unslick":p(p(p({},i.default),this.props),Z[0].settings)):G=p(p({},i.default),this.props),G.centerMode&&(G.slidesToScroll>1,G.slidesToScroll=1),G.fade&&(G.slidesToShow>1,G.slidesToScroll>1,G.slidesToShow=1,G.slidesToScroll=1);var H=e.default.Children.toArray(this.props.children);H=H.filter(function(se){return typeof se=="string"?!!se.trim():!!se}),G.variableWidth&&(G.rows>1||G.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),G.variableWidth=!1);for(var S=[],J=null,K=0;K<H.length;K+=G.rows*G.slidesPerRow){for(var w=[],z=K;z<K+G.rows*G.slidesPerRow;z+=G.slidesPerRow){for(var X=[],Q=z;Q<z+G.slidesPerRow&&(G.variableWidth&&H[Q].props.style&&(J=H[Q].props.style.width),!(Q>=H.length));Q+=1)X.push(e.default.cloneElement(H[Q],{key:100*K+10*z+Q,tabIndex:-1,style:{width:"".concat(100/G.slidesPerRow,"%"),display:"inline-block"}}));w.push(e.default.createElement("div",{key:10*K+z},X))}G.variableWidth?S.push(e.default.createElement("div",{key:K,style:{width:J}},w)):S.push(e.default.createElement("div",{key:K},w))}if(G==="unslick"){var ne="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:ne},H)}else S.length<=G.slidesToShow&&!G.infinite&&(G.unslick=!0);return e.default.createElement(n.InnerSlider,c({style:this.props.style,ref:this.innerSliderRefHandler},(0,o.filterSettings)(G)),S)}}]),U}(e.default.Component)}($0)),$0}var BN;function ZQ(){return BN||(BN=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(QQ());function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default}(H0)),H0}var JQ=ZQ();const eZ=eg(JQ);function tZ(t){const[e,n]=A.useState([]);return A.useEffect(()=>{t&&(async()=>{const r=await ln(xt(Ve,"businesses",t,"products"));n(r.docs.map(i=>({id:i.id,...i.data()})))})()},[t]),e}function nZ({products:t}){const{cart:e,addToCart:n,updateQuantity:r}=Bg();return h.jsx(ce.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.2},className:"absolute z-50 bottom-10 right-0 bg-neutral-900 rounded-xl p-4 w-72 shadow-xl border border-neutral-700 space-y-3",children:t.map(i=>{const o=e.find(l=>l.id===i.productId);return h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"font-medium",children:i.name}),h.jsxs("p",{className:"text-xs text-neutral-400",children:["$",i.price?.toFixed(2)]})]}),o?h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>r(i.productId,o.quantity-1),className:"px-2 text-white cursor-pointer hover:text-primary",children:""}),h.jsx("input",{min:1,className:"w-10 text-center bg-transparent border border-neutral-700 rounded text-white hover:border-primary focus:outline-none focus:ring-1 focus:ring-primary",value:o.quantity,onChange:l=>r(i.productId,Math.max(1,parseInt(l.target.value)||1))}),h.jsx("button",{onClick:()=>r(i.productId,o.quantity+1),className:"px-2 text-white cursor-pointer hover:text-primary",children:"+"})]}):h.jsx("button",{onClick:()=>n({id:i.productId,name:i.name,price:i.price,image:i.image||"",quantity:1}),className:"bg-primary text-sm px-3 py-1 rounded cursor-pointer hover:opacity-90",children:"Add to Cart"})]},i.productId)})})}const FN={initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9}};function U1({post:t,onClose:e,user:n,liked:r,saved:i,handleLike:o,handleSave:l}){const[d,c]=A.useState([]),[m,p]=A.useState(""),[y,x]=A.useState(null),[E,R]=A.useState(""),[P,V]=A.useState(!1),[O,B]=A.useState(!1),[F,Y]=A.useState(!1),M=A.useRef(null),j=A.useRef(null),C=tZ(t.business),I=async()=>{if(!(!m.trim()||F)){Y(!0);try{await Cs(xt(Ve,"posts",t.id,"comments"),{text:m.trim(),user:n.uid,timestamp:Vi()}),p("")}catch(U){console.error("Error posting comment:",U)}finally{Y(!1)}}},N=async(U,$)=>{if(!(!E.trim()||F)){Y(!0);try{await Cs(xt(Ve,"posts",t.id,"comments"),{text:E.trim(),user:n.uid,timestamp:Vi(),replyToId:U,replyToUserId:$}),R(""),x(null)}catch(D){console.error("Error posting reply:",D)}finally{Y(!1)}}},T=U=>{U.key==="Enter"&&!U.shiftKey&&(U.preventDefault(),I())};return A.useEffect(()=>{const U=cn(xt(Ve,"posts",t.id,"comments"),Yu("timestamp","asc")),$=Xu(U,D=>{c(D.docs.map(G=>({id:G.id,...G.data()})))});return()=>$()},[t.id]),A.useEffect(()=>{function U($){M.current&&!M.current.contains($.target)&&B(!1)}return O&&document.addEventListener("mousedown",U),()=>{document.removeEventListener("mousedown",U)}},[O]),h.jsxs(ce.div,{...FN,transition:{duration:.25},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-2 sm:p-4",children:[h.jsx("button",{onClick:e,className:"absolute top-6 right-6 sm:top-8 sm:right-8 text-white hover:bg-neutral-800/80 p-3 rounded-xl transition-all duration-200 z-50 cursor-pointer backdrop-blur-sm",children:h.jsx(Ui,{size:18,className:"sm:w-5 sm:h-5"})}),h.jsxs(ce.div,{...FN,transition:{duration:.3},className:"bg-neutral-900 text-white w-full max-w-5xl h-[95vh] sm:h-[90vh] rounded-xl overflow-hidden flex flex-col lg:flex-row max-h-screen",children:[h.jsxs("div",{className:"w-full lg:w-2/3 bg-black flex items-center justify-center relative h-1/2 lg:h-full overflow-hidden",children:[!P&&h.jsx("div",{className:"absolute inset-0 bg-neutral-800 animate-pulse"}),h.jsx(eZ,{dots:!0,infinite:!0,speed:400,slidesToShow:1,slidesToScroll:1,arrows:!1,className:"w-full h-full",appendDots:U=>h.jsx("div",{style:{bottom:"10px"},children:h.jsx("ul",{className:"flex justify-center gap-2",children:U})}),customPaging:()=>h.jsx("div",{className:"w-2 h-2 bg-white/50 rounded-full"}),children:t.images.map((U,$)=>h.jsx("div",{className:"flex justify-center items-center h-full w-full",children:h.jsx("img",{src:U,alt:`Image ${$+1}`,onLoad:()=>V(!0),className:`h-full w-full object-cover transition-opacity duration-500 ${P?"opacity-100":"opacity-0"}`})},$))})]}),h.jsxs("div",{className:"w-full lg:w-1/3 border-t lg:border-l border-neutral-800 flex flex-col justify-between h-1/2 lg:h-full",children:[h.jsxs("div",{className:"p-3 sm:p-4 border-b border-neutral-800",children:[h.jsx("h2",{className:"text-base sm:text-lg font-semibold line-clamp-2",children:t.title}),h.jsx("p",{className:"text-xs sm:text-sm text-primary/80 mt-1",children:t.niche}),t.description&&h.jsx("p",{className:"text-xs sm:text-sm text-white/80 mt-1 line-clamp-3",children:t.description}),h.jsx("p",{className:"text-xs text-neutral-400 mt-2",children:t.timestamp?.toDate().toLocaleString()})]}),h.jsx("div",{className:"flex-1 overflow-y-auto p-3 sm:p-4 min-h-0",children:h.jsx("div",{className:"space-y-2 sm:space-y-3",children:d.length===0?h.jsxs("div",{className:"text-center py-4 sm:py-8",children:[h.jsx("p",{className:"text-xs sm:text-sm text-white/60",children:"No comments yet."}),h.jsx("p",{className:"text-xs text-white/40 mt-1",children:"Be the first to comment!"})]}):d.map(U=>h.jsx(yQ,{postId:t.id,comment:U,onReplyClick:$=>x(y===$?null:$),isReplying:y===U.id,replyText:E,onReplyChange:R,onReplySubmit:N,isSubmitting:F},U.id))})}),h.jsxs("div",{className:"border-t border-neutral-800 p-3 sm:p-4 space-y-3 sm:space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-4 sm:gap-6",children:[t.likes!==!1&&h.jsx(ce.button,{whileTap:{scale:.9},onClick:o,className:"cursor-pointer hover:scale-105 transition-transform p-2",children:r?h.jsx(Qu,{size:20,className:"sm:w-6 sm:h-6 text-red-500",fill:"currentColor"}):h.jsx(Qu,{size:20,className:"sm:w-6 sm:h-6 text-white hover:text-red-400"})}),t.saves!==!1&&h.jsx(ce.button,{whileTap:{scale:.9},onClick:l,className:"cursor-pointer hover:scale-105 transition-transform p-2",children:i?h.jsx(yl,{size:20,className:"sm:w-6 sm:h-6 text-primary",fill:"currentColor"}):h.jsx(yl,{size:20,className:"sm:w-6 sm:h-6 text-white hover:text-primary"})}),h.jsxs("div",{className:"ml-auto flex items-center gap-2 sm:gap-3",children:[h.jsxs("div",{className:"relative",ref:M,children:[h.jsx("button",{onClick:()=>B(!O),className:"cursor-pointer hover:scale-105 transition-transform p-2",children:h.jsx(MB,{size:20,className:"sm:w-6 sm:h-6 text-white hover:text-primary"})}),h.jsx(fn,{children:O&&h.jsx(nZ,{products:C.filter(U=>t.productIds.includes(U.id))})})]}),t.business&&h.jsx("a",{href:`/business/${t.business}`,target:"_blank",className:"cursor-pointer hover:scale-105 transition-transform p-2",children:h.jsx(Kz,{size:20,className:"sm:w-6 sm:h-6 text-white hover:text-primary"})})]})]}),t.comments!==!1&&h.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 bg-neutral-800/50 rounded-lg p-2 sm:p-3",children:[h.jsx("input",{ref:j,className:"flex-1 bg-transparent text-white placeholder-white/60 text-xs sm:text-sm outline-none",placeholder:"Add a comment...",value:m,onChange:U=>p(U.target.value),onKeyPress:T,disabled:F}),h.jsx(ce.button,{whileTap:{scale:.95},onClick:I,disabled:!m.trim()||F,className:"text-primary hover:text-primary/80 disabled:text-white/40 disabled:cursor-not-allowed transition-colors p-1",children:h.jsx(Dg,{size:16,className:"sm:w-5 sm:h-5"})})]})]})]})]},"modal")]})}function rZ(){const{user:t}=Cr(),{totalUnread:e}=Fg(),n=Jn(),[r,i]=A.useState(null),[o,l]=A.useState([]),[d,c]=A.useState([]),[m,p]=A.useState({totalTrades:0,savedPosts:0,unreadMessages:0,recentActivity:0}),[y,x]=A.useState(!0),[E,R]=A.useState(""),[P,V]=A.useState(null),[O,B]=A.useState(!1),[F,Y]=A.useState(!1),[M,j]=A.useState(null),[C,I]=A.useState(null);A.useEffect(()=>{if(!t)return;(async()=>{try{x(!0);const[H,S,J]=await Promise.all([D1(t.uid),k1(t.uid),L1(t.uid)]);i(H),l(S),c(J),p({totalTrades:S.length,savedPosts:J.length,unreadMessages:e,recentActivity:S.filter(K=>K.timestamp?.toDate&&new Date(K.timestamp.toDate())>new Date(Date.now()-7*24*60*60*1e3)).length})}catch(H){console.error("Error loading dashboard data:",H)}finally{x(!1)}})()},[t]),A.useEffect(()=>{p(Z=>({...Z,unreadMessages:e}))},[e]);const N=()=>{const Z=new Date().getHours();return Z<12?"Good Morning":Z<17?"Good Afternoon":"Good Evening"},T=Z=>{j(Z),B(!0)},U=Z=>{I(Z),Y(!0)},$=fs.filter(Z=>Z.label.toLowerCase().includes(E.toLowerCase())),D=o.slice(0,4),G=d.slice(0,4);return y?h.jsx(yr,{className:"flex h-screen w-full bg-neutral-950 text-white",children:h.jsx("div",{className:"flex-1 p-6",children:h.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-full",children:Array.from({length:6}).map((Z,H)=>h.jsxs("div",{className:"bg-neutral-900 rounded-2xl p-6 animate-pulse",children:[h.jsx("div",{className:"h-6 bg-neutral-800 rounded mb-4"}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("div",{className:"h-4 bg-neutral-800 rounded"}),h.jsx("div",{className:"h-4 bg-neutral-800 rounded w-3/4"})]})]},H))})})}):h.jsxs(yr,{className:"min-h-screen w-full bg-neutral-950 text-white",children:[h.jsxs("div",{className:"p-4 sm:p-6",children:[h.jsx(ce.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 sm:mb-8",children:h.jsx("div",{className:"flex items-center justify-between mb-4",children:h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl sm:text-4xl font-bold",children:[N(),", ",r?.name||t?.displayName||"User"]}),h.jsx("p",{className:"text-neutral-400 mt-1 text-sm sm:text-base",children:r?.country&&h.jsxs("span",{className:"flex items-center gap-2",children:[h.jsx("span",{children:mx(r.country)}),h.jsx("span",{children:r.country})]})})]})})}),h.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[h.jsx(Dm,{title:"Active Trades",value:m.totalTrades,icon:h.jsx(Db,{className:"w-5 h-5"}),color:"text-green-400",onClick:()=>n("/user?tab=trades")}),h.jsx(Dm,{title:"Saved Posts",value:m.savedPosts,icon:h.jsx(yl,{className:"w-5 h-5"}),color:"text-blue-400",onClick:()=>n("/user?tab=saved")}),h.jsx(Dm,{title:"Unread Messages",value:m.unreadMessages,icon:h.jsx(Ob,{className:"w-5 h-5"}),color:"text-purple-400",onClick:()=>n("/messages")}),h.jsx(Dm,{title:"Recent Activity",value:m.recentActivity,icon:h.jsx(Pz,{className:"w-5 h-5"}),color:"text-orange-400",onClick:()=>n("/trade")})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[h.jsxs(ce.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"lg:col-span-2 bg-neutral-900 rounded-xl sm:rounded-2xl p-4 sm:p-6",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[h.jsx(bl,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"}),h.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Discover Interests"})]}),h.jsx("div",{className:"mb-4 sm:mb-6",children:h.jsx("input",{type:"text",placeholder:"Search interests...",value:E,onChange:Z=>R(Z.target.value),className:"w-full bg-neutral-800 text-white px-3 sm:px-4 py-2 sm:py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base"})}),h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4 max-h-80 sm:max-h-96 overflow-y-auto",children:$.map(Z=>h.jsx(sZ,{interest:Z,selectedInterest:P,onSelect:V},Z.id))})]}),h.jsxs(ce.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-neutral-900 rounded-xl sm:rounded-2xl p-4 sm:p-6",children:[h.jsxs("div",{className:"mb-6 sm:mb-8",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[h.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Recent Trades"}),h.jsx(Zr,{to:"/user?tab=trades",className:"text-primary hover:underline text-sm",children:"View All"})]}),h.jsx("div",{className:"space-y-4",children:D.length>0?D.map(Z=>h.jsx(iZ,{trade:Z,onClick:()=>T(Z)},Z.id)):h.jsxs("div",{className:"text-center py-8 text-neutral-400",children:[h.jsx(Db,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),h.jsx("p",{children:"No trades yet"}),h.jsx("button",{onClick:()=>n("/add"),className:"text-primary hover:underline text-sm mt-2",children:"Add your first trade"})]})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[h.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Saved Posts"}),h.jsx(Zr,{to:"/user?tab=saved",className:"text-primary hover:underline text-sm",children:"View All"})]}),h.jsx("div",{className:"space-y-4",children:G.length>0?G.map(Z=>h.jsx(aZ,{post:Z,onClick:()=>U(Z)},Z.id)):h.jsxs("div",{className:"text-center py-8 text-neutral-400",children:[h.jsx(yl,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),h.jsx("p",{children:"No saved posts"}),h.jsx("p",{className:"text-xs mt-1",children:"Posts you save will appear here"})]})})]})]}),h.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"lg:col-span-3 bg-neutral-900 rounded-xl sm:rounded-2xl p-4 sm:p-6",children:[h.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Mangrov"}),h.jsxs("p",{className:"text-neutral-400",children:["Shop through ",h.jsx("span",{className:"text-primary",children:"sustainable"})," ","products enabling",h.jsx("span",{className:"text-primary",children:" memorable experiences"})]})]}),h.jsxs("div",{className:"flex flex-row items-center gap-3 sm:gap-4",children:[h.jsx(Zr,{to:"/about",className:"border-2 border-primary rounded-lg bg-transparent tracking-widest text-white px-4 sm:px-8 py-1.5 sm:py-2 text-xs sm:text-sm uppercase font-bold hover:bg-primary transition-all duration-300",children:"About"}),h.jsx(Zr,{to:"https://instagram.com/_mangrov_",target:"_blank",children:h.jsx(pO,{className:"text-white w-6 h-6 sm:w-8 sm:h-8 hover:text-primary transition-colors"})}),h.jsx(Zr,{to:"https://youtube.com",target:"_blank",children:h.jsx(gO,{className:"text-white w-6 h-6 sm:w-8 sm:h-8 hover:text-primary transition-colors"})})]})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-6 text-neutral-400",children:[h.jsx("p",{className:"text-xs text-neutral-500 mt-4",children:" 2025 Mangrov"}),h.jsx("p",{className:"text-xs text-neutral-500 mt-4",children:h.jsx("span",{className:"text-sm cursor-pointer hover:text-primary transition-colors",onClick:()=>window.location.href="/terms-of-service",children:"Terms of Service"})}),h.jsx("p",{className:"text-xs text-neutral-500 mt-4",children:h.jsx("span",{className:"text-sm cursor-pointer hover:text-primary transition-colors",onClick:()=>window.location.href="/privacy-policy",children:"Privacy Policy"})})]})]})]})]}),h.jsxs(fn,{mode:"wait",children:[O&&M&&h.jsx(V1,{trade:M,isOpen:O,onClose:()=>{B(!1),j(null)},onTradeUpdate:Z=>{l(H=>H.map(S=>S.id===Z.id?{...S,...Z}:S)),j(Z)}}),F&&C&&h.jsx(U1,{post:C,onClose:()=>{Y(!1),I(null)},user:t,liked:!1,saved:!0,handleLike:()=>{},handleSave:()=>{}})]})]})}function Dm({title:t,value:e,icon:n,color:r,onClick:i}){return h.jsxs(ce.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:i,className:"bg-neutral-900 rounded-xl p-4 cursor-pointer hover:bg-neutral-800 transition-colors",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("div",{className:`${r}`,children:n}),h.jsx(Og,{className:"w-4 h-4 text-neutral-400"})]}),h.jsx("div",{className:"text-2xl font-bold",children:e}),h.jsx("div",{className:"text-sm text-neutral-400",children:t})]})}function iZ({trade:t,onClick:e}){return h.jsx(ce.div,{whileHover:{scale:1.02},className:"bg-neutral-800 rounded-lg p-3 cursor-pointer hover:bg-neutral-700 transition-colors",onClick:e,children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("img",{src:t.images?.[0],alt:t.title,className:"w-12 h-12 rounded-lg object-cover"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h4",{className:"font-semibold text-white truncate",children:t.title}),h.jsx("p",{className:"text-xs text-neutral-400",children:t.timestamp?.toDate?.()?new Date(t.timestamp.toDate()).toLocaleDateString():"Recently"})]}),h.jsxs("div",{className:"flex items-center gap-1",children:[h.jsx(Xz,{className:"w-4 h-4 text-neutral-400"}),h.jsx("span",{className:"text-xs text-neutral-400",children:"0"})]})]})})}function sZ({interest:t,selectedInterest:e,onSelect:n}){const[r,i]=A.useState(!1),[o,l]=A.useState(!1),d=Jn(),c=()=>{n(t.id),d(`/search?interest=${t.id}`)};return h.jsxs(ce.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:c,className:`relative aspect-square rounded-xl overflow-hidden cursor-pointer transition-all duration-200 ${e===t.id?"ring-2 ring-primary":"hover:ring-2 hover:ring-primary/50"}`,children:[!r&&!o&&h.jsx("div",{className:"absolute inset-0 bg-neutral-800 animate-pulse"}),o&&h.jsx("div",{className:"absolute inset-0 bg-neutral-800 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-8 h-8 bg-neutral-700 rounded-full mx-auto mb-2"}),h.jsx("p",{className:"text-xs text-neutral-400",children:t.label})]})}),h.jsx("img",{src:t.img,alt:t.label,className:`w-full h-full object-cover transition-opacity duration-300 ${r?"opacity-100":"opacity-0"}`,onLoad:()=>i(!0),onError:()=>l(!0),loading:"lazy"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"}),h.jsx("div",{className:"absolute bottom-3 left-3 right-3",children:h.jsx("p",{className:"text-white text-sm font-semibold",children:t.label})})]})}function aZ({post:t,onClick:e}){return h.jsx(ce.div,{whileHover:{scale:1.02},className:"bg-neutral-800 rounded-lg p-3 cursor-pointer hover:bg-neutral-700 transition-colors",onClick:e,children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("img",{src:t.images?.[0],alt:t.title,className:"w-12 h-12 rounded-lg object-cover"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h4",{className:"font-semibold text-white truncate",children:t.title}),h.jsx("p",{className:"text-xs text-neutral-400",children:t.timestamp?.toDate?.()?new Date(t.timestamp.toDate()).toLocaleDateString():"Recently"})]}),h.jsx(yl,{className:"w-4 h-4 text-primary fill-current"})]})})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var gx=function(t,e){return gx=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},gx(t,e)};function oZ(t,e){gx(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Xd=function(){return Xd=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Xd.apply(this,arguments)};function lZ(t,e,n,r){var i,o=!1,l=0;function d(){i&&clearTimeout(i)}function c(){d(),o=!0}typeof e!="boolean"&&(r=n,n=e,e=void 0);function m(){var p=this,y=Date.now()-l,x=arguments;if(o)return;function E(){l=Date.now(),n.apply(p,x)}function R(){i=void 0}r&&!i&&E(),d(),r===void 0&&y>t?E():e!==!0&&(i=setTimeout(r?R:E,r===void 0?t-y:t))}return m.cancel=c,m}var zu={Pixel:"Pixel",Percent:"Percent"},HN={unit:zu.Percent,value:.8};function $N(t){return typeof t=="number"?{unit:zu.Percent,value:t*100}:typeof t=="string"?t.match(/^(\d*(\.\d+)?)px$/)?{unit:zu.Pixel,value:parseFloat(t)}:t.match(/^(\d*(\.\d+)?)%$/)?{unit:zu.Percent,value:parseFloat(t)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),HN):(console.warn("scrollThreshold should be string or number"),HN)}var uZ=function(t){oZ(e,t);function e(n){var r=t.call(this,n)||this;return r.lastScrollTop=0,r.actionTriggered=!1,r.startY=0,r.currentY=0,r.dragging=!1,r.maxPullDownDistance=0,r.getScrollableTarget=function(){return r.props.scrollableTarget instanceof HTMLElement?r.props.scrollableTarget:typeof r.props.scrollableTarget=="string"?document.getElementById(r.props.scrollableTarget):(r.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},r.onStart=function(i){r.lastScrollTop||(r.dragging=!0,i instanceof MouseEvent?r.startY=i.pageY:i instanceof TouchEvent&&(r.startY=i.touches[0].pageY),r.currentY=r.startY,r._infScroll&&(r._infScroll.style.willChange="transform",r._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},r.onMove=function(i){r.dragging&&(i instanceof MouseEvent?r.currentY=i.pageY:i instanceof TouchEvent&&(r.currentY=i.touches[0].pageY),!(r.currentY<r.startY)&&(r.currentY-r.startY>=Number(r.props.pullDownToRefreshThreshold)&&r.setState({pullToRefreshThresholdBreached:!0}),!(r.currentY-r.startY>r.maxPullDownDistance*1.5)&&r._infScroll&&(r._infScroll.style.overflow="visible",r._infScroll.style.transform="translate3d(0px, "+(r.currentY-r.startY)+"px, 0px)")))},r.onEnd=function(){r.startY=0,r.currentY=0,r.dragging=!1,r.state.pullToRefreshThresholdBreached&&(r.props.refreshFunction&&r.props.refreshFunction(),r.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){r._infScroll&&(r._infScroll.style.overflow="auto",r._infScroll.style.transform="none",r._infScroll.style.willChange="unset")})},r.onScrollListener=function(i){typeof r.props.onScroll=="function"&&setTimeout(function(){return r.props.onScroll&&r.props.onScroll(i)},0);var o=r.props.height||r._scrollableNode?i.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!r.actionTriggered){var l=r.props.inverse?r.isElementAtTop(o,r.props.scrollThreshold):r.isElementAtBottom(o,r.props.scrollThreshold);l&&r.props.hasMore&&(r.actionTriggered=!0,r.setState({showLoader:!0}),r.props.next&&r.props.next()),r.lastScrollTop=o.scrollTop}},r.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:n.dataLength},r.throttledOnScrollListener=lZ(150,r.onScrollListener).bind(r),r.onStart=r.onStart.bind(r),r.onMove=r.onMove.bind(r),r.onEnd=r.onEnd.bind(r),r}return e.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},e.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},e.prototype.componentDidUpdate=function(n){this.props.dataLength!==n.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},e.getDerivedStateFromProps=function(n,r){var i=n.dataLength!==r.prevDataLength;return i?Xd(Xd({},r),{prevDataLength:n.dataLength}):null},e.prototype.isElementAtTop=function(n,r){r===void 0&&(r=.8);var i=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,o=$N(r);return o.unit===zu.Pixel?n.scrollTop<=o.value+i-n.scrollHeight+1:n.scrollTop<=o.value/100+i-n.scrollHeight+1},e.prototype.isElementAtBottom=function(n,r){r===void 0&&(r=.8);var i=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,o=$N(r);return o.unit===zu.Pixel?n.scrollTop+i>=n.scrollHeight-o.value:n.scrollTop+i>=o.value/100*n.scrollHeight},e.prototype.render=function(){var n=this,r=Xd({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),i=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),o=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return nl.createElement("div",{style:o,className:"infinite-scroll-component__outerdiv"},nl.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(l){return n._infScroll=l},style:r},this.props.pullDownToRefresh&&nl.createElement("div",{style:{position:"relative"},ref:function(l){return n._pullDown=l}},nl.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!i&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},e}(A.Component);function cZ({post:t,index:e,isLoaded:n,onImageLoad:r,userSavedPosts:i=[]}){const{user:o}=Cr(),[l,d]=A.useState(!1),[c,m]=A.useState(0),[p,y]=A.useState(!1),[x,E]=A.useState(!1),[R,P]=A.useState(!1);A.useEffect(()=>{if(!o||!t?.id)return;const B=Zt(Ve,"posts",t.id,"likes",o.uid),F=xt(Ve,"posts",t.id,"likes"),Y=Xu(F,M=>{m(M.size)});return wi(B).then(M=>{d(M.exists())}),y(i.includes(t.id)),()=>Y()},[o,t,i]);const V=async()=>{if(d(!l),!o)return;const B=Zt(Ve,"posts",t.id,"likes",o.uid);l?await Mp(B):await gl(B,{timestamp:Date.now()})},O=async()=>{y(!p);const B=Zt(Ve,"users",o?.uid,"saves",t.id);p?await Mp(B):await gl(B,{timestamp:Date.now()})};return h.jsxs(h.Fragment,{children:[h.jsxs(ce.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:e*.03,duration:.3,ease:"easeOut"},className:"relative group rounded-xl overflow-hidden shadow-md bg-neutral-800 w-full cursor-pointer",onClick:()=>P(!0),children:[!n&&h.jsx("div",{className:"absolute inset-0 animate-pulse rounded-xl bg-neutral-700 z-50"}),h.jsx("img",{src:t.images[0],alt:t.title,loading:"lazy",onLoad:r,className:`w-full h-auto object-cover rounded-xl transition-all duration-500 ${n?"opacity-100":"opacity-0"}`,style:{aspectRatio:"3 / 4"}}),h.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-3 z-20",children:h.jsxs("div",{className:"flex justify-between items-end w-full gap-4",children:[h.jsxs("div",{className:"flex flex-col text-white text-left",children:[h.jsx("div",{className:"text-base font-semibold mb-1",children:t.title}),h.jsx(fn,{children:h.jsx(ce.div,{layout:!0,initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"text-sm overflow-hidden",children:h.jsx("p",{className:x?"":"truncate",children:t.keywords.concat(t.niche).map(B=>B[0].toUpperCase()+B.slice(1).toLowerCase()).join(", ")})})}),t.keywords.concat(t.niche).join(", ").length>40&&h.jsxs(ce.button,{layout:!0,onClick:B=>{B.stopPropagation(),E(!x)},className:"text-xs text-blue-300 hover:underline mt-1 flex items-center gap-1",children:[x?"View less":"View more",x?h.jsx(Sj,{size:12}):h.jsx(Fh,{size:12})]})]}),h.jsxs("div",{className:"flex-shrink-0 flex flex-row items-end gap-2 text-white text-base",onClick:B=>B.stopPropagation(),children:[t.likes&&h.jsxs("button",{onClick:V,className:"flex items-center gap-1 cursor-pointer",children:[h.jsx(Qu,{size:28,className:l?"text-red-500":"text-white",strokeWidth:2,fill:l?"currentColor":"none"}),h.jsx("span",{className:"text-sm",children:c})]}),t.saves&&h.jsx("button",{onClick:O,className:"flex items-center gap-1 cursor-pointer",children:h.jsx(yl,{size:28,className:p?"text-green-500":"text-white",strokeWidth:2,fill:p?"currentColor":"none"})})]})]})})]}),h.jsx(fn,{children:R&&h.jsx(U1,{post:t,user:o,onClose:()=>P(!1),liked:l,saved:p,handleLike:V,handleSave:O})})]})}function dZ(){const{user:t}=Cr(),[e,n]=Ow(),[r,i]=A.useState([]),[o,l]=A.useState([]),[d,c]=A.useState([]),[m,p]=A.useState([]),[y,x]=A.useState(""),[E,R]=A.useState(""),[P,V]=A.useState(null),[O,B]=A.useState(!0),[F,Y]=A.useState(null),[M,j]=A.useState(!1),[C,I]=A.useState([0,1e3]),[N,T]=A.useState("recent"),[U,$]=A.useState(""),D=20,[G,Z]=A.useState([]);A.useEffect(()=>{document.body.style.overflow="auto"},[]),A.useEffect(()=>{const Q=e.get("interest");Q&&(Y(Q),j(!0))},[e]),A.useEffect(()=>{const Q=setTimeout(()=>{R(y.trim().toLowerCase())},300);return()=>clearTimeout(Q)},[y]);const H=async()=>{const Q=xt(Ve,"posts"),ne=cn(Q,Yu("timestamp","desc"),Cb(D)),se=await ln(ne),le=se.docs.map(ve=>({id:ve.id,...ve.data()}));i(le),c(le),p(le),V(se.docs[se.docs.length-1]),B(se.docs.length===D)},S=async()=>{if(!O||!P)return;const Q=xt(Ve,"posts"),ne=cn(Q,Yu("timestamp","desc"),RM(P),Cb(D)),se=await ln(ne);if(se.empty){B(!1);return}const le=se.docs.map(ve=>({id:ve.id,...ve.data()}));i(ve=>[...ve,...le]),V(se.docs[se.docs.length-1])},J=()=>{const Q=m.length,ne=d.slice(Q,Q+D);p(se=>[...se,...ne])},K=A.useCallback(async()=>{if(!t)return;const Q=xt(Ve,"users",t.uid,"saves"),se=(await ln(Q)).docs.map(Pe=>Pe.id);if(se.length===0){l([]);return}const le=cn(xt(Ve,"posts"),rn("__name__","in",se)),Ee=(await ln(le)).docs.map(Pe=>({id:Pe.id,...Pe.data()}));l(Ee)},[t]);A.useEffect(()=>{H(),K()},[K]),A.useEffect(()=>{let Q=r;E&&(Q=Q.filter(ne=>ne.title?.toLowerCase().includes(E)||ne.description?.toLowerCase().includes(E)||(ne.niche?.[0]?.toLowerCase()||"").includes(E))),F&&(Q=Q.filter(ne=>(ne.niche?.[0]?.toLowerCase()||"")===F.toLowerCase())),Q=Q.filter(ne=>{const se=ne.price||0;return se>=C[0]&&se<=C[1]}),Q=[...Q].sort((ne,se)=>{switch(N){case"price-low":return(ne.price||0)-(se.price||0);case"price-high":return(se.price||0)-(ne.price||0);case"popular":return(se.views||0)-(ne.views||0);case"recent":default:return new Date(se.timestamp?.toDate?.()||0).getTime()-new Date(ne.timestamp?.toDate?.()||0).getTime()}}),c(Q),p(Q.slice(0,D))},[r,E,F,C,N]);const w=Q=>{Z(ne=>[...ne,Q])},z=()=>{d.length>m.length?J():S()},X=()=>{Y(null),I([0,1e3]),T("recent"),x(""),$(""),n({})};return h.jsx(yr,{className:"min-h-screen bg-neutral-950 text-white overflow-scroll",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Discover Products"}),h.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[h.jsxs("div",{className:"flex-1 relative",children:[h.jsx(bl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-neutral-400 w-5 h-5"}),h.jsx("input",{type:"text",placeholder:"Search products...",value:y,onChange:Q=>x(Q.target.value),className:"w-full bg-neutral-900 border border-neutral-700 rounded-lg pl-10 pr-4 py-3 text-white placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),h.jsxs("button",{onClick:()=>j(!M),className:"flex items-center gap-2 bg-neutral-900 border border-neutral-700 rounded-lg px-4 py-3 hover:bg-neutral-800 transition-colors",children:[h.jsx(bu,{className:"w-5 h-5"}),"Filters"]})]}),(F||C[0]>0||C[1]<1e3||N!=="recent")&&h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx("span",{className:"text-sm text-neutral-400",children:"Active filters:"}),F&&h.jsx("span",{className:"bg-primary/20 text-primary px-2 py-1 rounded text-sm",children:fs.find(Q=>Q.id===F)?.label||F}),(C[0]>0||C[1]<1e3)&&h.jsxs("span",{className:"bg-primary/20 text-primary px-2 py-1 rounded text-sm",children:["$",C[0]," - $",C[1]]}),N!=="recent"&&h.jsx("span",{className:"bg-primary/20 text-primary px-2 py-1 rounded text-sm capitalize",children:N.replace("-"," ")}),h.jsxs("button",{onClick:X,className:"text-neutral-400 hover:text-white text-sm flex items-center gap-1",children:[h.jsx(Ui,{className:"w-4 h-4"}),"Clear all"]})]})]}),h.jsx(fn,{children:M&&h.jsx(ce.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-neutral-900 rounded-lg p-6 mb-6 overflow-hidden",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold mb-3",children:"Category"}),h.jsx("div",{className:"mb-3",children:h.jsx("input",{type:"text",placeholder:"Search categories...",value:U,onChange:Q=>$(Q.target.value),className:"w-full bg-neutral-800 border border-neutral-700 rounded px-3 py-2 text-sm text-white placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-primary"})}),h.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto",children:fs.filter(Q=>Q.label.toLowerCase().includes(U.toLowerCase())).map(Q=>h.jsx("button",{onClick:()=>Y(F===Q.id?null:Q.id),className:`p-2 rounded text-sm transition-colors ${F===Q.id?"bg-primary text-white":"bg-neutral-800 text-neutral-300 hover:bg-neutral-700"}`,children:Q.label},Q.id))}),fs.filter(Q=>Q.label.toLowerCase().includes(U.toLowerCase())).length>0&&h.jsxs("p",{className:"text-xs text-neutral-400 mt-2",children:[fs.filter(Q=>Q.label.toLowerCase().includes(U.toLowerCase())).length," ","categories available"]}),U&&fs.filter(Q=>Q.label.toLowerCase().includes(U.toLowerCase())).length===0&&h.jsxs("p",{className:"text-xs text-neutral-400 mt-2",children:['No categories found matching "',U,'"']})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold mb-3",children:"Price Range"}),h.jsx("div",{className:"space-y-4",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("label",{className:"block text-xs text-neutral-400 mb-1",children:"Min"}),h.jsx("input",{type:"number",placeholder:"0",value:C[0],onChange:Q=>I([Number(Q.target.value),C[1]]),className:"w-full bg-neutral-800 border border-neutral-700 rounded px-3 py-2 text-sm text-white placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),h.jsx("div",{className:"flex items-center justify-center pt-6",children:h.jsx("span",{className:"text-neutral-400 text-sm font-medium",children:"to"})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("label",{className:"block text-xs text-neutral-400 mb-1",children:"Max"}),h.jsx("input",{type:"number",placeholder:"1000",value:C[1],onChange:Q=>I([C[0],Number(Q.target.value)]),className:"w-full bg-neutral-800 border border-neutral-700 rounded px-3 py-2 text-sm text-white placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]})]})})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold mb-3",children:"Sort By"}),h.jsx("div",{className:"space-y-2",children:[{value:"recent",label:"Most Recent"},{value:"price-low",label:"Price: Low to High"},{value:"price-high",label:"Price: High to Low"},{value:"popular",label:"Most Popular"}].map(Q=>h.jsx("button",{onClick:()=>T(Q.value),className:`w-full text-left p-2 rounded text-sm transition-colors ${N===Q.value?"bg-primary text-white":"bg-neutral-800 text-neutral-300 hover:bg-neutral-700"}`,children:Q.label},Q.value))})]})]})})}),h.jsx("div",{className:"mb-6",children:h.jsxs("p",{className:"text-neutral-400",children:[d.length," product",d.length!==1?"s":""," found"]})}),h.jsx(uZ,{dataLength:m.length,next:z,hasMore:O||m.length<d.length,loader:h.jsx("div",{className:"flex justify-center py-8",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}),className:"overflow-hidden",children:h.jsx("div",{className:"columns-1 sm:columns-2 md:columns-3 lg:columns-4 xl:columns-5 gap-4 space-y-4",children:m.map((Q,ne)=>h.jsx(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ne*.1},className:"break-inside-avoid mb-4",children:h.jsx(cZ,{post:Q,index:ne,isLoaded:G.includes(ne),onImageLoad:()=>w(ne),userSavedPosts:o.map(se=>se.id)})},Q.id))})}),d.length===0&&h.jsxs("div",{className:"text-center py-16",children:[h.jsx("div",{className:"w-16 h-16 bg-neutral-800 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(bl,{className:"w-8 h-8 text-neutral-400"})}),h.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No products found"}),h.jsx("p",{className:"text-neutral-400 mb-4",children:"Try adjusting your search terms or filters"}),h.jsx("button",{onClick:X,className:"bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/80 transition-colors",children:"Clear all filters"})]})]})})}function hZ(){return h.jsxs(ce.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5,ease:"easeOut"},className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-neutral-950/90 backdrop-blur-sm",children:[h.jsx(ce.img,{src:"/icon.png",alt:"logo",className:"w-20 h-20 md:w-24 md:h-24",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.5,ease:"easeOut"}}),h.jsx(ce.h1,{className:"text-4xl md:text-5xl font-bold text-white mt-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{delay:.1,duration:.6},children:"Mangrov"}),h.jsx(ce.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{delay:.2,duration:.4},className:"mt-6",children:h.jsx(P1,{})})]})}const fZ={control:t=>({...t,background:"#1b1b1b",border:"none",minHeight:"2.6rem",cursor:"pointer"}),singleValue:t=>({...t,color:"#fff"}),input:t=>({...t,color:"#fff"}),placeholder:t=>({...t,color:"#888"}),menu:t=>({...t,background:"#1b1b1b"}),option:(t,e)=>({...t,background:e.isFocused?"#2a2a2a":"#1b1b1b",color:"#fff",cursor:"pointer"}),indicatorSeparator:()=>({display:"none"})},mZ=t=>h.jsx(Yg.DropdownIndicator,{...t,children:h.jsx(Fh,{size:18,className:"text-neutral-400"})}),pZ="bg-primary text-primary-foreground hover:bg-primary/80 transition duration-200 active:scale-95 uppercase tracking-wide font-bold py-2 rounded-md w-full cursor-pointer disabled:opacity-50",qN="rounded-md bg-muted px-3 py-2 text-sm sm:text-base outline-none focus:ring-2 ring-primary focus:border-primary hover:border-primary transition duration-200 w-full border border-transparent",gZ={initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}};function vZ({type:t,setStage:e}){const{user:n}=Cr(),[r,i]=A.useState(""),[o,l]=A.useState(""),[d,c]=A.useState([]),[m,p]=A.useState([]),[y,x]=A.useState(""),[E,R]=A.useState("0"),[P,V]=A.useState("1"),[O,B]=A.useState("1"),[F,Y]=A.useState(""),[M,j]=A.useState(null),[C,I]=A.useState(null),[N,T]=A.useState(!1),[U,$]=A.useState(!1),[D,G]=A.useState(null),Z=()=>!(!r.trim()||!o.trim()||t==="post"&&d.length<1||t==="trade"&&d.length!==1||t==="post"&&(!E||!P)||t==="trade"&&!O||!M),H=()=>{const z=y.trim();z&&!m.includes(z)&&(p([...m,z]),x(""))},S=z=>{if(!z.target.files)return;const X=Array.from(z.target.files);c(t==="trade"?[X[0]]:[...d,...X])},J=z=>c(d.filter((X,Q)=>Q!==z)),K=z=>p(m.filter(X=>X!==z)),w=async()=>{if(!Z()){I("Please fill in all required fields correctly.");return}if(!n){I("You must be logged in to create content.");return}try{T(!0);const z=t==="post"?"post-images":"trade-images",X=[];for(const se of d){const le=Ig(Mg,`${z}/${Date.now()}_${se.name}`);await Ng(le,se);const ve=await Rg(le);X.push(ve)}const Q={title:r,description:o,images:X,keywords:m,niche:[M?.label],timestamp:en.now(),uid:n.uid},ne=await Cs(xt(Ve,t==="post"?"posts":"trades"),t==="post"?{...Q,price:parseFloat(E),quantity:parseInt(P)||1,url:F||null}:{...Q,quantity:parseInt(O)||1,isAvailable:!0});console.log("Document written: ",ne.id),t==="trade"?(G(ne.id),$(!0)):e("select")}catch(z){console.error(z),I("Upload failed, please try again.")}finally{T(!1)}};return U&&D?h.jsxs(ce.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-md mx-auto py-20 px-8 text-white text-center",children:[h.jsxs(ce.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"mb-8",children:[h.jsx("div",{className:"w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),h.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Trade Created Successfully!"}),h.jsx("p",{className:"text-neutral-400",children:"Your trade is now live and ready for discovery."})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx(ce.button,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},onClick:()=>window.location.href=`/trades/${D}`,className:"w-full bg-primary text-primary-foreground hover:bg-primary/80 cursor-pointer transition-all duration-200 active:scale-95 uppercase tracking-wide font-bold py-3 rounded-md",children:"View Trade"}),h.jsx(ce.button,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},onClick:()=>e("select"),className:"w-full bg-neutral-800 text-white hover:bg-neutral-700 cursor-pointer transition-all duration-200 active:scale-95 uppercase tracking-wide font-bold py-3 rounded-md",children:"Create Another"})]})]}):h.jsxs(ce.div,{...gZ,className:"max-w-2xl mx-auto py-10 px-8 text-white space-y-6 overflow-y-scroll h-screen w-full",children:[h.jsxs("h2",{className:"text-2xl font-bold mb-4 capitalize",children:["Add ",t]}),C&&h.jsx("p",{className:"text-red-500",children:C}),h.jsxs("div",{className:"space-y-1",children:[h.jsxs("div",{className:"flex items-center justify-between text-sm text-neutral-400",children:[h.jsx("label",{children:"Title"}),h.jsxs("span",{children:[r.length,"/30"]})]}),h.jsx("input",{value:r,onChange:z=>i(z.target.value.slice(0,30)),placeholder:"Enter a short title",className:"w-full rounded-md bg-neutral-900 text-white placeholder-neutral-500 px-4 py-2 outline-none border border-neutral-700 focus:border-green-500 transition"})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsxs("div",{className:"flex items-center justify-between text-sm text-neutral-400",children:[h.jsx("label",{children:"Description"}),h.jsxs("span",{children:[o.length,"/300"]})]}),h.jsx("textarea",{value:o,onChange:z=>l(z.target.value.slice(0,300)),placeholder:"Enter a brief description",className:"w-full rounded-md bg-neutral-900 text-white placeholder-neutral-500 px-4 py-2 h-28 resize-none outline-none border border-neutral-700 focus:border-green-500 transition"})]}),t==="post"&&h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("label",{className:"text-sm text-neutral-400 block mb-1",children:"Price ($)"}),h.jsx("div",{className:"flex items-center rounded-md border border-neutral-700 bg-neutral-900",children:h.jsx("input",{inputMode:"decimal",min:"0",step:"0.01",value:E,onChange:z=>{const X=parseFloat(z.target.value);!isNaN(X)&&X>=0?R(X):z.target.value===""&&R("")},className:"w-full bg-transparent text-white text-sm px-2 py-2.5 outline-none no-spinner"})})]}),h.jsxs("div",{className:"flex-1",children:[h.jsx("label",{className:"text-sm text-neutral-400 block mb-1",children:"Quantity"}),h.jsxs("div",{className:"flex items-center rounded-md border border-neutral-700 bg-neutral-900",children:[h.jsx("button",{type:"button",onClick:()=>V(z=>Math.max(0,parseInt(z||"0")-1)),className:"px-3 py-2 text-neutral-300 hover:text-white hover:bg-neutral-800 transition-colors duration-150 cursor-pointer",children:"-"}),h.jsx("input",{inputMode:"numeric",min:"0",value:P,onChange:z=>{const X=parseInt(z.target.value);!isNaN(X)&&X>=0?V(X):z.target.value===""&&V("")},className:"w-full bg-transparent text-white text-sm px-2 py-2 outline-none no-spinner"}),h.jsx("button",{type:"button",onClick:()=>V(z=>parseInt(z||"0")+1),className:"px-3 py-2 text-neutral-300 hover:text-white hover:bg-neutral-800 transition-colors duration-150 cursor-pointer",children:"+"})]})]})]}),t==="trade"&&h.jsxs("div",{className:"flex-1",children:[h.jsx("label",{className:"text-sm text-neutral-400 block mb-1",children:"Quantity Available"}),h.jsxs("div",{className:"flex items-center rounded-md border border-neutral-700 bg-neutral-900",children:[h.jsx("button",{type:"button",onClick:()=>B(z=>Math.max(1,parseInt(z||"1")-1)),className:"px-3 py-2 text-neutral-300 hover:text-white hover:bg-neutral-800 transition-colors duration-150 cursor-pointer",children:"-"}),h.jsx("input",{inputMode:"numeric",min:"1",value:O,onChange:z=>{const X=parseInt(z.target.value);!isNaN(X)&&X>=1?B(X):z.target.value===""&&B("")},className:"w-full bg-transparent text-white text-sm px-2 py-2 outline-none no-spinner"}),h.jsx("button",{type:"button",onClick:()=>B(z=>parseInt(z||"1")+1),className:"px-3 py-2 text-neutral-300 hover:text-white hover:bg-neutral-800 transition-colors duration-150 cursor-pointer",children:"+"})]})]}),t==="post"&&h.jsx("input",{className:qN,placeholder:"External Link (optional)",value:F,onChange:z=>Y(z.target.value)}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("label",{className:"text-sm text-neutral-400 block",children:["Upload ",t==="trade"?"exactly 1 image":"one or more images"]}),!(t==="trade"&&d.length>=1)&&h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"file",accept:"image/*",multiple:t==="post",onChange:S,id:"file-upload",className:"hidden"}),h.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer border border-dashed border-white/30 hover:border-green-500 transition-colors duration-200 w-full flex flex-col items-center justify-center py-6 px-4 bg-neutral-900 rounded-lg text-sm text-white text-center hover:bg-neutral-800",children:[h.jsx(Ju,{size:32,className:"mb-2 text-primary"}),h.jsxs("span",{children:["Click to ",d.length?"add more":"upload"," image",t==="post"?"s":""]})]})]}),d.length>0&&h.jsx("div",{className:"flex justify-center mt-4",children:d.map((z,X)=>h.jsxs("div",{className:"relative group w-full max-w-md",children:[h.jsx("img",{src:URL.createObjectURL(z),alt:"preview",className:"w-full h-auto object-contain rounded-md border border-white/10"}),h.jsx("button",{onClick:()=>J(X),className:"absolute top-1 right-1 bg-black/70 hover:bg-red-600 transition p-1 rounded-full text-white cursor-pointer",title:"Remove",children:h.jsx(Ui,{size:14})})]},X))})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{className:qN,placeholder:"Add keyword",value:y,onChange:z=>x(z.target.value),onKeyDown:z=>z.key==="Enter"&&H()}),h.jsx("button",{onClick:H,className:"bg-primary px-3 rounded-md hover:bg-primary/80",children:h.jsx(Ju,{size:20})})]}),h.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:m.map(z=>h.jsxs("div",{className:"bg-muted px-3 py-1 rounded-lg flex items-center gap-2",children:[h.jsx("span",{children:z}),h.jsx("button",{onClick:()=>K(z),children:h.jsx(Ui,{size:16,className:"text-red-400"})})]},z))})]}),h.jsx(yh,{placeholder:"Select niche",options:fs.map(z=>({label:z.label,value:z.id})),menuShouldScrollIntoView:!1,styles:fZ,components:{DropdownIndicator:mZ},value:M,onChange:z=>j(z)}),N?h.jsx("div",{className:"flex items-center justify-center",children:h.jsx(hZ,{})}):h.jsxs("button",{className:pZ,disabled:!Z()||N,onClick:w,children:["Submit ",t]})]},"form")}function yZ(){const[t,e]=A.useState("form"),[n]=A.useState("trade"),r=200,i=(c,m)=>c==="left"?m==="start"?-r-Math.random()*200:o+r+Math.random()*200:m==="start"?o+r+Math.random()*200:-r-Math.random()*200,[o,l]=Hg(),[d]=A.useState(()=>{const c=Math.random()>.5?"left":"right";return{start:{x:i(c,"start"),y:-r},end:{x:i(c,"end"),y:l+r}}});return h.jsxs(h.Fragment,{children:[h.jsx(yr,{className:"relative h-screen overflow-hidden",children:h.jsx(fn,{mode:"wait",children:t==="form"&&n&&h.jsx(vZ,{type:n,setStage:e})})}),h.jsx("div",{className:"lg:hidden",children:h.jsx(mO,{})}),h.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:h.jsx(Nl,{start:d.start,end:d.end,speed:12,className:"absolute bottom-0 left-0 opacity-25 w-full h-screen",imgHeightTW:"h-32 sm:h-40 md:h-44",imgWidthTW:"w-44 sm:w-52 md:w-56"})})]})}const bZ="Left",xZ="Right",wZ="Up",_Z="Down",Iu={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},vx={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},GN="mousemove",WN="mouseup",SZ="touchend",TZ="touchmove",EZ="touchstart";function AZ(t,e,n,r){return t>e?n>0?xZ:bZ:r>0?_Z:wZ}function KN(t,e){if(e===0)return t;const n=Math.PI/180*e,r=t[0]*Math.cos(n)+t[1]*Math.sin(n),i=t[1]*Math.cos(n)-t[0]*Math.sin(n);return[r,i]}function CZ(t,e){const n=p=>{const y="touches"in p;y&&p.touches.length>1||t((x,E)=>{E.trackMouse&&!y&&(document.addEventListener(GN,r),document.addEventListener(WN,l));const{clientX:R,clientY:P}=y?p.touches[0]:p,V=KN([R,P],E.rotationAngle);return E.onTouchStartOrOnMouseDown&&E.onTouchStartOrOnMouseDown({event:p}),Object.assign(Object.assign(Object.assign({},x),vx),{initial:V.slice(),xy:V,start:p.timeStamp||0})})},r=p=>{t((y,x)=>{const E="touches"in p;if(E&&p.touches.length>1)return y;if(p.timeStamp-y.start>x.swipeDuration)return y.swiping?Object.assign(Object.assign({},y),{swiping:!1}):y;const{clientX:R,clientY:P}=E?p.touches[0]:p,[V,O]=KN([R,P],x.rotationAngle),B=V-y.xy[0],F=O-y.xy[1],Y=Math.abs(B),M=Math.abs(F),j=(p.timeStamp||0)-y.start,C=Math.sqrt(Y*Y+M*M)/(j||1),I=[B/(j||1),F/(j||1)],N=AZ(Y,M,B,F),T=typeof x.delta=="number"?x.delta:x.delta[N.toLowerCase()]||Iu.delta;if(Y<T&&M<T&&!y.swiping)return y;const U={absX:Y,absY:M,deltaX:B,deltaY:F,dir:N,event:p,first:y.first,initial:y.initial,velocity:C,vxvy:I};U.first&&x.onSwipeStart&&x.onSwipeStart(U),x.onSwiping&&x.onSwiping(U);let $=!1;return(x.onSwiping||x.onSwiped||x[`onSwiped${N}`])&&($=!0),$&&x.preventScrollOnSwipe&&x.trackTouch&&p.cancelable&&p.preventDefault(),Object.assign(Object.assign({},y),{first:!1,eventData:U,swiping:!0})})},i=p=>{t((y,x)=>{let E;if(y.swiping&&y.eventData){if(p.timeStamp-y.start<x.swipeDuration){E=Object.assign(Object.assign({},y.eventData),{event:p}),x.onSwiped&&x.onSwiped(E);const R=x[`onSwiped${E.dir}`];R&&R(E)}}else x.onTap&&x.onTap({event:p});return x.onTouchEndOrOnMouseUp&&x.onTouchEndOrOnMouseUp({event:p}),Object.assign(Object.assign(Object.assign({},y),vx),{eventData:E})})},o=()=>{document.removeEventListener(GN,r),document.removeEventListener(WN,l)},l=p=>{o(),i(p)},d=(p,y)=>{let x=()=>{};if(p&&p.addEventListener){const E=Object.assign(Object.assign({},Iu.touchEventOptions),y.touchEventOptions),R=[[EZ,n,E],[TZ,r,Object.assign(Object.assign({},E),y.preventScrollOnSwipe?{passive:!1}:{})],[SZ,i,E]];R.forEach(([P,V,O])=>p.addEventListener(P,V,O)),x=()=>R.forEach(([P,V])=>p.removeEventListener(P,V))}return x},m={ref:p=>{p!==null&&t((y,x)=>{if(y.el===p)return y;const E={};return y.el&&y.el!==p&&y.cleanUpTouch&&(y.cleanUpTouch(),E.cleanUpTouch=void 0),x.trackTouch&&p&&(E.cleanUpTouch=d(p,x)),Object.assign(Object.assign(Object.assign({},y),{el:p}),E)})}};return e.trackMouse&&(m.onMouseDown=n),[m,d]}function NZ(t,e,n,r){return!e.trackTouch||!t.el?(t.cleanUpTouch&&t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:void 0})):t.cleanUpTouch?e.preventScrollOnSwipe!==n.preventScrollOnSwipe||e.touchEventOptions.passive!==n.touchEventOptions.passive?(t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:r(t.el,e)})):t:Object.assign(Object.assign({},t),{cleanUpTouch:r(t.el,e)})}function RZ(t){const{trackMouse:e}=t,n=A.useRef(Object.assign({},vx)),r=A.useRef(Object.assign({},Iu)),i=A.useRef(Object.assign({},r.current));i.current=Object.assign({},r.current),r.current=Object.assign(Object.assign({},Iu),t);let o;for(o in Iu)r.current[o]===void 0&&(r.current[o]=Iu[o]);const[l,d]=A.useMemo(()=>CZ(c=>n.current=c(n.current,r.current),{trackMouse:e}),[e]);return n.current=NZ(n.current,r.current,i.current,d),l}function IZ(){const{user:t}=Cr(),e=Jn(),[n,r]=A.useState([]),[i,o]=A.useState([]),[l,d]=A.useState(0),[c,m]=A.useState([]),[p,y]=A.useState([]),[x,E]=A.useState(!1),[R,P]=A.useState(null),[V,O]=A.useState(!1),[B,F]=A.useState(!1),[Y,M]=A.useState(null),[j,C]=A.useState([]),[I,N]=A.useState("swipe"),[T,U]=A.useState(!0),[$,D]=A.useState(!1),[G,Z]=A.useState(!0),[H,S]=A.useState(!1),[J,K]=A.useState(new Set),[w,z]=A.useState(!1);A.useEffect(()=>{if(!t)return;(async()=>{const $e=(await wi(Zt(Ve,"users",t.uid))).data();$e?.interests&&(y($e.interests),m($e.interests)),U(!1)})()},[t]),A.useEffect(()=>{if(!t)return;(async()=>{const Ce=cn(xt(Ve,"trades"),rn("uid","==",t.uid)),Ie=(await ln(Ce)).docs.map(Je=>({id:Je.id,...Je.data()}));o(Ie)})()},[t]),A.useEffect(()=>{if(!t)return;Z(!0),(async()=>{const Ce=cn(xt(Ve,"tradeMatches"),rn("fromUser","==",t.uid)),$e=cn(xt(Ve,"tradeMatches"),rn("toUser","==",t.uid)),[Ie,Je]=await Promise.all([ln(Ce),ln($e)]),lt=[...Ie.docs.map(ht=>({id:ht.id,...ht.data()})),...Je.docs.map(ht=>({id:ht.id,...ht.data()}))].filter(ht=>ht.fromLiked&&ht.toLiked);console.log("Total matches found:",lt.length);const Nt=await Promise.all(lt.map(async ht=>{let pn="",lr="",Cn="",pt="";try{console.log("Processing match:",ht);const[qe,sn]=await Promise.all([wi(Zt(Ve,"users",ht.fromUser)),wi(Zt(Ve,"users",ht.toUser))]);if(qe.exists()){const an=qe.data();pn=an?.name||an?.username||"Unknown User",console.log("From user data:",an)}if(sn.exists()){const an=sn.data();lr=an?.name||an?.username||"Unknown User",console.log("To user data:",an)}const tn=[];ht.fromItem&&ht.fromItem.trim()!==""?(console.log("Fetching fromItem:",ht.fromItem),tn.push(wi(Zt(Ve,"trades",ht.fromItem)))):(console.log("fromItem is empty or null"),tn.push(Promise.resolve(null))),ht.toItem&&ht.toItem.trim()!==""?(console.log("Fetching toItem:",ht.toItem),tn.push(wi(Zt(Ve,"trades",ht.toItem)))):(console.log("toItem is empty or null"),tn.push(Promise.resolve(null)));const[$i,ur]=await Promise.all(tn);if($i&&$i.exists()){const an=$i.data();Cn=an?.title||"Unknown Item",console.log("From item data:",an)}else Cn="Item not selected yet",console.log("From item not found or empty");if(ur&&ur.exists()){const an=ur.data();pt=an?.title||"Unknown Item",console.log("To item data:",an)}else pt="Unknown Item",console.log("To item not found or empty");console.log("Final enriched match:",{fromUserName:pn,toUserName:lr,fromItemTitle:Cn,toItemTitle:pt})}catch(qe){console.error("Error fetching match details:",qe),pn="Unknown User",lr="Unknown User",Cn="Unknown Item",pt="Unknown Item"}return{...ht,fromUserName:pn,toUserName:lr,fromItemTitle:Cn,toItemTitle:pt}}));console.log("Final enriched matches:",Nt),C(Nt),Z(!1)})()},[t]),A.useEffect(()=>{if(!t)return;(async()=>{try{const Ce=xt(Ve,"users",t.uid,"passes"),$e=await ln(Ce),Ie=new Set($e.docs.map(Je=>Je.id));K(Ie)}catch(Ce){console.error("Error fetching passed trades:",Ce)}})()},[t]);const X=A.useCallback(async()=>{D(!0);let pe=[],Ce=[];if(t){const Ie=cn(xt(Ve,"tradeMatches"),rn("fromUser","==",t.uid));Ce=(await ln(Ie)).docs.map(mt=>({id:mt.id,...mt.data()}))}const $e=new Set(Ce.map(Ie=>Ie.toItem));if(V)pe=(await ln(xt(Ve,"trades"))).docs.filter(Je=>Je.data().uid!==t?.uid&&!J.has(Je.id)&&!$e.has(Je.id)).map(Je=>({id:Je.id,...Je.data()}));else if(c.length>0){const Ie=[];for(let lt=0;lt<c.length;lt+=10){const Nt=c.slice(lt,lt+10),ht=cn(xt(Ve,"trades"),rn("niche","array-contains-any",Nt));Ie.push(ln(ht))}pe=(await Promise.all(Ie)).flatMap(lt=>lt.docs.map(Nt=>({id:Nt.id,...Nt.data()})));const mt=new Set;pe=pe.filter(lt=>mt.has(lt.id)||lt.uid===t?.uid||J.has(lt.id)||$e.has(lt.id)?!1:(mt.add(lt.id),!0))}r(pe),d(0),z(pe.length===0&&(J.size>0||$e.size>0)),D(!1)},[c,V,t,J]),Q=A.useCallback(pe=>{O(pe)},[]),ne=A.useCallback(pe=>{const Ce=Array.from(pe.target.selectedOptions,$e=>$e.value);m(Ce),O(!1)},[]);A.useEffect(()=>{X()},[c,V,t,J]);const se=async()=>{const pe=n[l];if(pe&&t)try{await gl(Zt(Ve,"users",t.uid,"passes",pe.id),{tradeId:pe.id,timestamp:new Date}),K(Ce=>new Set([...Ce,pe.id]))}catch(Ce){console.error("Error adding to passed trades:",Ce)}d(Ce=>Math.min(Ce+1,n.length-1))},le=async()=>{const pe=n[l];if(pe&&t)try{const Ce=cn(xt(Ve,"tradeMatches"),rn("fromUser","==",t.uid),rn("toUser","==",pe.uid),rn("toItem","==",pe.id)),$e=cn(xt(Ve,"tradeMatches"),rn("fromUser","==",pe.uid),rn("toUser","==",t.uid),rn("toItem","==",pe.id)),[Ie,Je]=await Promise.all([ln(Ce),ln($e)]);if(Ie.empty)if(Je.empty)await Cs(xt(Ve,"tradeMatches"),{fromUser:t.uid,toUser:pe.uid,fromItem:"",toItem:pe.id,fromLiked:!0,toLiked:!1,timestamp:new Date});else{const mt=Je.docs[0];await oa(Zt(Ve,"tradeMatches",mt.id),{toLiked:!0})}else{const mt=Ie.docs[0];await oa(Zt(Ve,"tradeMatches",mt.id),{fromLiked:!0})}}catch(Ce){console.error("Error handling swipe right:",Ce)}d(Ce=>Math.min(Ce+1,n.length-1))},ve=pe=>{x||(pe==="left"?(M(n[l]),F(!0)):(P(pe),E(!0),setTimeout(()=>{le(),E(!1),P(null)},350)))},Ee=async pe=>{if(!(!Y||!t)){try{const Ce=cn(xt(Ve,"tradeMatches"),rn("fromUser","==",Y.uid),rn("toUser","==",t.uid),rn("toItem","==",pe.id)),$e=await ln(Ce);if($e.empty)await Cs(xt(Ve,"tradeMatches"),{fromUser:t.uid,toUser:Y.uid,fromItem:pe.id,toItem:Y.id,fromLiked:!0,toLiked:!1,timestamp:new Date});else{const Ie=$e.docs[0];await oa(Zt(Ve,"tradeMatches",Ie.id),{fromItem:pe.id,toLiked:!0})}}catch(Ce){console.error("Error handling item selection:",Ce)}F(!1),M(null),se()}},Pe=async()=>{if(t)try{const pe=xt(Ve,"users",t.uid,"passes"),$e=(await ln(pe)).docs.map(Ie=>gl(Ie.ref,{},{merge:!1}));await Promise.all($e),K(new Set),z(!1),X()}catch(pe){console.error("Error resetting passed trades:",pe)}},Re=RZ({onSwipedLeft:()=>ve("left"),onSwipedRight:()=>ve("right"),trackMouse:!0}),ze=A.useMemo(()=>h.jsxs("div",{className:"relative w-full max-w-2xl flex items-center justify-center select-none",children:[n.slice(l,l+2).map((pe,Ce)=>{const $e=Ce===0,Ie=Ce*10,Je=1-Ce*.04;return h.jsx(fn,{children:$e?A.createElement(ce.div,{...Re,key:pe.id,className:" max-w-lg w-full flex flex-col items-center justify-center cursor-pointer",style:{zIndex:2},initial:{x:0,opacity:1,scale:1},animate:{x:x?R==="left"?-500:500:0,opacity:x?0:1,scale:1},exit:{x:R==="left"?-500:500,opacity:0,scale:.95},transition:{duration:.35}},h.jsxs("div",{className:"relative w-full rounded-3xl shadow-2xl overflow-hidden",children:[h.jsx("img",{src:pe.images?.[0],alt:pe.title,className:"w-full h-auto object-cover"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),h.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:[h.jsx("h2",{className:"text-xl font-bold mb-2",children:pe.title}),h.jsx("p",{className:"text-sm text-neutral-200 leading-relaxed",children:pe.description})]})]})):h.jsx(ce.div,{className:"absolute w-full flex flex-col items-center justify-center",style:{zIndex:1,top:Ie,scale:Je,opacity:.7},initial:{scale:.96,opacity:.7},animate:{scale:Je,opacity:.7},exit:{opacity:0},transition:{duration:.2},children:h.jsxs("div",{className:"relative w-full rounded-3xl shadow-xl overflow-hidden",children:[h.jsx("img",{src:pe.images?.[0],alt:pe.title,className:"w-full h-auto object-cover"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),h.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:h.jsx("h2",{className:"text-lg font-bold",children:pe.title})})]})},pe.id)},pe.id)}),$?h.jsx("div",{className:"w-full flex flex-col items-center justify-center text-center px-6 py-16",children:h.jsxs("div",{className:"mb-8 w-full max-w-lg",children:[h.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-neutral-800 to-neutral-700 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg animate-pulse",children:h.jsx(bu,{size:48,className:"text-neutral-400"})}),h.jsx("div",{className:"w-64 h-8 bg-neutral-800 rounded mb-4 animate-pulse mx-auto"}),h.jsx("div",{className:"w-96 h-4 bg-neutral-800 rounded animate-pulse mx-auto"})]})}):n.length===0&&h.jsx("div",{className:"w-full flex flex-col items-center justify-center text-center px-6 py-16",children:h.jsxs("div",{className:"mb-8 w-full max-w-lg",children:[h.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-neutral-800 to-neutral-700 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:w?h.jsx(pA,{size:48,className:"text-neutral-400"}):h.jsx(bu,{size:48,className:"text-neutral-400"})}),h.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:w?"No More Trades to View":c.length===0&&!V?"No Trades Found":"No Trades Available"}),h.jsx("p",{className:"text-lg text-neutral-400 leading-relaxed",children:w?h.jsxs(h.Fragment,{children:["You've seen all available trades."," ",h.jsx("span",{className:"text-primary font-semibold",children:"Reset"})," ","to view passed trades again or try different"," ",h.jsx("span",{className:"text-primary font-semibold",children:"filters"}),"."]}):c.length===0&&!V?h.jsxs(h.Fragment,{children:["There are no trades found for your"," ",h.jsx("span",{className:"text-primary font-semibold",children:"interests"}),". Try enabling"," ",h.jsx("span",{className:"text-primary font-semibold",children:"Random Mode"})," ","or select some interests to discover more trades!"]}):h.jsxs(h.Fragment,{children:["No trades match your current"," ",h.jsx("span",{className:"text-primary font-semibold",children:"filters"}),". Try adjusting your"," ",h.jsx("span",{className:"text-primary font-semibold",children:"preferences"})," ","or enabling Random Mode."]})}),w&&h.jsx("div",{className:"mt-6",children:h.jsxs("button",{onClick:Pe,className:"px-6 py-3 bg-gradient-to-r from-primary to-primary/80 text-white rounded-lg hover:from-primary/90 hover:to-primary/70 transition-all duration-200 flex items-center gap-2 mx-auto cursor-pointer shadow-lg",children:[h.jsx(pA,{size:20}),"Reset Passed Trades"]})})]})})]}),[n,l,R,x,Re,c,V,w]),Ye="bg-primary text-primary-foreground hover:bg-primary/80 cursor-pointer transition-all duration-200 active:scale-95 uppercase tracking-widest font-bold disabled:opacity-40 disabled:cursor-not-allowed",Qe="rounded-md bg-muted px-3 py-2 text-sm sm:text-base outline-none focus:ring-2 ring-primary/80 transition-all duration-200";return T?h.jsxs(yr,{className:"flex flex-col items-center justify-center min-h-screen space-y-6 bg-neutral-950",children:[h.jsxs("div",{className:"w-full max-w-md flex border-b border-neutral-700",children:[h.jsx("div",{className:"flex-1 py-2",children:h.jsx("div",{className:"w-16 h-4 bg-neutral-700 rounded mx-auto animate-pulse"})}),h.jsx("div",{className:"flex-1 py-2",children:h.jsx("div",{className:"w-20 h-4 bg-neutral-700 rounded mx-auto animate-pulse"})})]}),h.jsx("div",{className:"relative w-full max-w-md h-[500px] flex items-center justify-center",children:h.jsxs("div",{className:"w-full h-full bg-neutral-900 rounded-2xl shadow-2xl p-4 flex flex-col items-center text-center border-2 border-neutral-800",children:[h.jsx("div",{className:"w-full h-64 bg-neutral-800 rounded-xl mb-4 animate-pulse"}),h.jsx("div",{className:"w-3/4 h-8 bg-neutral-800 rounded mb-2 animate-pulse"}),h.jsx("div",{className:"w-full h-4 bg-neutral-800 rounded animate-pulse"})]})}),h.jsx("div",{className:"w-32 h-4 bg-neutral-700 rounded animate-pulse"}),h.jsxs("div",{className:"flex space-x-8 mt-2 w-full max-w-xs",children:[h.jsx("div",{className:"w-1/2 h-12 bg-neutral-700 rounded-md animate-pulse"}),h.jsx("div",{className:"w-1/2 h-12 bg-neutral-700 rounded-md animate-pulse"})]})]}):h.jsxs(yr,{className:"min-h-screen bg-neutral-950",children:[h.jsx("div",{className:"sticky top-0 z-10 bg-neutral-950/95 backdrop-blur-sm border-b border-neutral-800",children:h.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:h.jsx("div",{className:"flex justify-center",children:h.jsxs("div",{className:"flex border-b border-neutral-700",children:[h.jsxs("button",{onClick:()=>N("swipe"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium transition cursor-pointer ${I==="swipe"?"text-primary border-b-2 border-primary":"text-neutral-400 hover:text-neutral-300"}`,children:[h.jsx(bu,{size:16}),"Discover"]}),h.jsxs("button",{onClick:()=>N("matches"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium transition cursor-pointer ${I==="matches"?"text-primary border-b-2 border-primary":"text-neutral-400 hover:text-neutral-300"}`,children:[h.jsx(Ob,{size:16}),"Matches (",j.length,")"]})]})})})}),h.jsx("div",{className:"relative max-w-6xl mx-auto px-4 py-6",children:h.jsx(fn,{mode:"wait",children:I==="swipe"?h.jsx(ce.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},className:"flex flex-col items-center",children:h.jsxs("div",{className:"flex flex-col items-center justify-center space-y-6 w-full",children:[ze,h.jsx("div",{className:"text-neutral-400 text-sm mb-2",children:n.length>0&&h.jsxs("span",{children:["Card ",l+1," of ",n.length]})}),h.jsxs("div",{className:"flex space-x-8 mt-2 w-full max-w-xs",children:[h.jsxs("button",{onClick:()=>ve("left"),disabled:x||l>=n.length,className:`w-1/2 rounded-md py-4 ${Ye}`,children:[h.jsx(Qu,{className:"w-6 h-6 mx-auto"}),"Like"]}),h.jsxs("button",{onClick:()=>ve("right"),disabled:x||l>=n.length,className:`w-1/2 rounded-md py-4 ${Ye}`,children:[h.jsx(Ui,{className:"w-6 h-6 mx-auto"}),"Pass"]})]}),h.jsx("div",{className:"mt-8",children:h.jsxs("button",{onClick:()=>S(!H),className:`flex items-center gap-2 px-6 py-3 rounded-full shadow-lg transition-all duration-300 cursor-pointer ${H?"bg-primary text-white":"bg-neutral-800 text-neutral-300 hover:bg-neutral-700"}`,children:[h.jsx(bu,{size:20}),"Filters",H?h.jsx(Fh,{size:16}):h.jsx(Sj,{size:16})]})})]})},"swipe"):h.jsx(ce.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"max-w-2xl mx-auto",children:h.jsx("div",{className:"space-y-4",children:G?h.jsx("div",{className:"space-y-4",children:[1,2,3].map(pe=>h.jsxs("div",{className:"bg-neutral-900 rounded-xl p-6 border border-neutral-700",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("div",{className:"w-16 h-4 bg-neutral-700 rounded animate-pulse"}),h.jsx("div",{className:"w-8 h-8 bg-neutral-700 rounded animate-pulse"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("div",{className:"w-full h-4 bg-neutral-700 rounded animate-pulse"}),h.jsx("div",{className:"w-3/4 h-4 bg-neutral-700 rounded animate-pulse"}),h.jsx("div",{className:"w-1/2 h-3 bg-neutral-700 rounded animate-pulse"})]})]},pe))}):j.length===0?h.jsxs("div",{className:"text-center text-neutral-400 py-16",children:[h.jsx(Qu,{className:"w-16 h-16 mx-auto mb-6 opacity-50"}),h.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No matches yet"}),h.jsx("p",{className:"text-neutral-500",children:"Start swiping to find trades!"})]}):j.map(pe=>{const Ce=pe.fromUser===t?.uid,$e=Ce?pe.toUser:pe.fromUser,Ie=Ce?pe.toUserName:pe.fromUserName,Je=Ce?pe.fromItemTitle:pe.toItemTitle,mt=Ce?pe.toItemTitle:pe.fromItemTitle;return h.jsxs(ce.div,{onClick:()=>e(`/messages/${$e}`),className:"bg-gradient-to-br from-neutral-900 to-neutral-800 rounded-2xl p-6 border border-neutral-700/50 cursor-pointer hover:border-primary/50 hover:from-neutral-800 hover:to-neutral-700 transition-all duration-300 shadow-lg hover:shadow-xl",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{scale:1.02},whileTap:{scale:.98},children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-3 h-3 bg-primary rounded-full animate-pulse"}),h.jsx("span",{className:"text-sm font-medium text-neutral-300 uppercase tracking-wide",children:"Match"})]}),h.jsx("button",{onClick:lt=>{lt.stopPropagation(),e(`/messages/${$e}`)},className:"text-primary hover:text-white transition-all duration-200 p-2 rounded-xl hover:bg-primary/20 group",children:h.jsx(Ob,{className:"w-5 h-5 group-hover:scale-110 transition-transform"})})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"flex items-center gap-3 p-4 bg-neutral-800/50 rounded-xl border border-neutral-700/50",children:h.jsx("div",{className:"flex-1",children:h.jsxs("p",{className:"text-white text-sm leading-relaxed",children:[h.jsx("span",{className:"text-primary font-semibold cursor-pointer hover:underline transition-colors",onClick:lt=>{lt.stopPropagation();const Nt=$e===pe.fromUser?pe.fromUserName:pe.toUserName;Nt&&e(`/user/${Nt}`)},children:Ie})," ","wants to trade"," ",h.jsxs("span",{className:"text-primary font-semibold",children:['"',mt,'"']})," ","for your"," ",h.jsxs("span",{className:"text-primary font-semibold",children:['"',Je,'"']})]})})}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:`w-2 h-2 rounded-full ${pe.fromLiked&&pe.toLiked?"bg-green-500 animate-pulse":"bg-yellow-500"}`}),h.jsx("p",{className:`text-xs font-medium ${pe.fromLiked&&pe.toLiked?"text-green-400":"text-yellow-400"}`,children:pe.fromLiked&&pe.toLiked?"Mutual match!":"Pending response"})]}),h.jsx("div",{className:"text-xs text-neutral-500",children:pe.timestamp?.toDate?.()?new Date(pe.timestamp.toDate()).toLocaleDateString():"Recently"})]})]})]},pe.id)})})},"matches")})}),h.jsx(fn,{children:H&&I==="swipe"&&h.jsx(ce.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed bottom-0 left-0 right-0 z-10 bg-neutral-900 border-t border-neutral-800 shadow-2xl",children:h.jsx("div",{className:"max-w-6xl mx-auto px-4 py-6",children:h.jsxs("div",{className:"bg-neutral-800 rounded-xl p-6 border border-neutral-700",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[h.jsx(bu,{size:20}),"Filters"]}),h.jsx("button",{onClick:()=>S(!1),className:"text-neutral-400 hover:text-white transition cursor-pointer",children:h.jsx(Ui,{size:20})})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:V,onChange:pe=>Q(pe.target.checked),className:"sr-only peer"}),h.jsx("div",{className:"w-11 h-6 bg-neutral-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]}),h.jsx("span",{className:"text-white text-sm",children:"Random Mode (show all)"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Filter by Interests"}),h.jsx("select",{className:`w-full ${Qe} cursor-pointer`,value:c,onChange:ne,multiple:!0,disabled:V,size:Math.min(p.length,6)||2,children:p.map(pe=>h.jsx("option",{value:pe,children:fs.find(Ce=>Ce.id===pe)?.label||pe},pe))}),!V&&p.length>1&&h.jsx("div",{className:"text-xs text-neutral-400 mt-1",children:"Hold Ctrl (Cmd on Mac) to select multiple interests"})]})]})]})})})}),h.jsx(fn,{children:B&&h.jsx(ce.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:h.jsxs(ce.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-neutral-900 rounded-xl p-6 w-full max-w-md max-h-[80vh] overflow-y-auto",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"text-xl font-bold text-white",children:"Select Your Item to Trade"}),h.jsx("button",{onClick:()=>F(!1),className:"text-neutral-400 hover:text-white cursor-pointer transition-colors",children:h.jsx(Ui,{className:"w-6 h-6"})})]}),h.jsx("div",{className:"space-y-3",children:i.map(pe=>h.jsxs(ce.div,{onClick:()=>Ee(pe),className:"flex items-center gap-3 p-3 rounded-lg border border-neutral-700 hover:border-primary cursor-pointer transition-all duration-200 hover:bg-neutral-800",whileHover:{scale:1.02},whileTap:{scale:.98},children:[h.jsx("img",{src:pe.images?.[0],alt:pe.title,className:"w-16 h-16 object-cover rounded-lg"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h4",{className:"text-white font-medium",children:pe.title}),h.jsx("p",{className:"text-sm text-neutral-400",children:pe.description})]}),h.jsx(Og,{className:"w-5 h-5 text-neutral-400"})]},pe.id))}),i.length===0&&h.jsxs("div",{className:"text-center text-neutral-400 py-8",children:[h.jsx("p",{children:"You need to add some trades first!"}),h.jsx(ce.button,{onClick:()=>e("/add"),className:"mt-4 px-6 py-2 rounded-md text-sm bg-primary text-white hover:bg-primary/80 cursor-pointer transition-all duration-200 active:scale-95 uppercase tracking-wide font-bold",whileHover:{scale:1.05},whileTap:{scale:.95},children:"ADD TRADE"})]})]})})})]})}function MZ(){const{tradeId:t}=Rw(),e=Jn(),[n,r]=A.useState(null),[i,o]=A.useState(!0);return A.useEffect(()=>{if(!t)return;(async()=>{try{const d=await wi(Zt(Ve,"trades",t));d.exists()&&r({id:d.id,...d.data()})}finally{o(!1)}})()},[t]),i?null:h.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:h.jsx(V1,{trade:n,isOpen:!!n,onClose:()=>e(-1)})})}function jZ(t){const[e,n]=nl.useState(()=>window.matchMedia(t).matches);return nl.useEffect(()=>{const r=window.matchMedia(t),i=()=>n(r.matches);return r.addEventListener("change",i),()=>r.removeEventListener("change",i)},[t]),e}const PZ=A.memo(({selectedChat:t,otherUser:e,messages:n,onNavigateToProfile:r,isLoading:i=!1})=>{const{user:o}=Cr(),[l,d]=A.useState(""),c=A.useRef(null),m=A.useRef(null),[p,y]=A.useState(!0);A.useEffect(()=>{if(t&&c.current&&m.current){const O=()=>{c.current&&m.current&&(m.current.scrollTop=m.current.scrollHeight,c.current.scrollIntoView({behavior:"instant"}),y(!0))};O(),setTimeout(O,0),setTimeout(O,100),setTimeout(O,200),setTimeout(O,500)}},[t?.id,n.length]),A.useEffect(()=>{c.current&&p&&n.length>0&&c.current.scrollIntoView({behavior:"smooth"})},[n,p]);const x=()=>{if(!m.current)return;const{scrollTop:O,scrollHeight:B,clientHeight:F}=m.current,Y=O+F>=B-10;y(Y)};A.useEffect(()=>{if(!t||!o)return;const O=new IntersectionObserver(F=>{F.forEach(Y=>{if(Y.isIntersecting){const M=Y.target.getAttribute("data-message-id"),j=Y.target.getAttribute("data-system-message")==="true";M&&!j&&oa(Zt(Ve,"messages",M),{read:!0}).catch(console.error)}})},{threshold:.5});return document.querySelectorAll("[data-message-id]").forEach(F=>{const Y=F.getAttribute("data-message-id"),M=F.getAttribute("data-sender-id"),j=F.getAttribute("data-system-message")==="true";Y&&M&&M!==o.uid&&!j&&O.observe(F)}),()=>O.disconnect()},[n,t,o]);const E=async(O,B)=>{if(!(!t||!o||!O.trim()&&!B))try{const F={chatId:t.id,text:O.trim(),senderId:o.uid,receiverId:t.participants.find(Y=>Y!==o.uid),timestamp:Vi(),read:!1};B&&(F.imageUrl=B),await Cs(xt(Ve,"messages"),F),await oa(Zt(Ve,"chats",t.id),{lastMessage:{text:O.trim()||"Image",senderId:o.uid},lastMessageTime:Vi()}),d("")}catch(F){console.error("Error sending message:",F)}},R=async O=>{if(!(!t||!o))try{const B=Ig(Mg,`chat-images/${t.id}/${Date.now()}-${O.name}`),F=await Ng(B,O),Y=await Rg(F.ref);await E("",Y)}catch(B){console.error("Error uploading image:",B)}},P=O=>{O.preventDefault(),l.trim()&&E(l)},V=O=>{if(!O)return"";try{const B=O.toDate(),M=(new Date().getTime()-B.getTime())/(1e3*60),j=M/60,C=j/24;return M<1?"now":M<60?`${Math.floor(M)}m`:j<24?`${Math.floor(j)}h`:C<7?`${Math.floor(C)}d`:B.toLocaleDateString("en-US",{month:"short",day:"numeric"})}catch{return""}};return t?i?h.jsxs("div",{className:"flex-1 flex flex-col min-h-0 bg-neutral-950",children:[h.jsx("div",{className:"p-6 border-b border-neutral-800 bg-neutral-900 flex-shrink-0",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-12 h-12 bg-neutral-700 rounded-full animate-pulse flex-shrink-0"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"w-40 h-6 bg-neutral-700 rounded animate-pulse mb-2"}),h.jsx("div",{className:"w-32 h-4 bg-neutral-700 rounded animate-pulse"})]})]})}),h.jsx("div",{className:"flex-1 p-6 space-y-6",children:[1,2,3,4,5].map(O=>h.jsx("div",{className:`flex ${O%2===0?"justify-end":"justify-start"}`,children:h.jsx("div",{className:`max-w-[60%] min-w-[200px] ${O%2===0?"bg-primary":"bg-neutral-700"} rounded-2xl p-4`,children:h.jsx("div",{className:`w-48 h-4 ${O%2===0?"bg-primary/80":"bg-neutral-600"} rounded animate-pulse`})})},O))}),h.jsx("div",{className:"p-6 border-t border-neutral-800 bg-neutral-900 flex-shrink-0",children:h.jsxs("div",{className:"flex gap-3",children:[h.jsx("div",{className:"flex-1 h-12 bg-neutral-700 rounded-xl animate-pulse"}),h.jsx("div",{className:"w-12 h-12 bg-neutral-700 rounded-xl animate-pulse"}),h.jsx("div",{className:"w-12 h-12 bg-neutral-700 rounded-xl animate-pulse"})]})})]}):h.jsxs("div",{className:"flex-1 flex flex-col min-h-0 bg-neutral-950",children:[h.jsx("div",{className:"p-6 border-b border-neutral-800 bg-neutral-900 flex-shrink-0",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[e?.avatar?h.jsx("img",{src:e.avatar,alt:e.displayName||e.username,className:"w-12 h-12 rounded-full object-cover border-2 border-primary/20 flex-shrink-0",onError:O=>{O.currentTarget.style.display="none",O.currentTarget.nextElementSibling?.classList.remove("hidden")}}):null,h.jsx("div",{className:`w-12 h-12 bg-gradient-to-br from-primary to-primary/60 rounded-full flex items-center justify-center text-white font-bold text-lg flex-shrink-0 ${e?.avatar?"hidden":""}`,children:e?.displayName?.charAt(0)||e?.username?.charAt(0)||"U"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h2",{className:"text-xl font-bold text-white cursor-pointer hover:text-primary transition-colors truncate",onClick:()=>{e?.username&&r(e.username)},children:e?.displayName||e?.username||"Unknown User"}),h.jsx("p",{className:"text-sm text-neutral-400 truncate",children:e?.username?`@${e.username}`:""})]})]}),h.jsx("div",{className:"flex items-center gap-2",children:h.jsx("button",{onClick:()=>{e?.username&&r(e.username)},className:"p-2 text-neutral-400 hover:text-white hover:bg-neutral-800 rounded-lg transition-all",children:h.jsx(xl,{size:20})})})]})}),h.jsxs("div",{ref:m,onScroll:x,className:"flex-1 overflow-y-auto p-6 space-y-4 min-h-0",children:[n.map(O=>h.jsx("div",{className:`flex ${O.isSystemMessage?"justify-center":O.senderId===o?.uid?"justify-end":"justify-start"}`,children:h.jsxs("div",{"data-message-id":O.id,"data-sender-id":O.senderId,"data-system-message":O.isSystemMessage?"true":"false",className:`${O.isSystemMessage?"bg-neutral-800 text-neutral-400 text-center text-sm px-4 py-2 max-w-[400px] whitespace-nowrap rounded-full":O.senderId===o?.uid?"bg-primary text-white max-w-[60%] min-w-[100px] rounded-2xl rounded-br-md":"bg-neutral-700 text-white max-w-[60%] min-w-[100px] rounded-2xl rounded-bl-md"} p-4 break-words whitespace-pre-wrap shadow-lg`,children:[O.imageUrl&&h.jsx("img",{src:O.imageUrl,alt:"Message attachment",className:"w-full h-auto rounded-lg mb-3 max-h-64 object-cover"}),h.jsx("p",{className:"text-sm leading-relaxed",children:O.text}),!O.isSystemMessage&&h.jsx("p",{className:"text-xs opacity-70 mt-2 text-right",children:V(O.timestamp)})]})},O.id)),h.jsx("div",{ref:c})]}),h.jsx("div",{className:"p-6 border-t border-neutral-800 bg-neutral-900 flex-shrink-0",children:h.jsxs("form",{onSubmit:P,className:"flex items-center gap-3",children:[h.jsx("input",{type:"text",value:l,onChange:O=>d(O.target.value),placeholder:"Type a message...",className:"flex-1 bg-neutral-800 text-white px-4 py-3 rounded-xl border border-neutral-700 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all"}),h.jsxs("label",{className:"cursor-pointer p-3 hover:bg-neutral-800 rounded-xl transition-colors",children:[h.jsx("input",{type:"file",accept:"image/*",onChange:O=>{const B=O.target.files?.[0];B&&R(B)},className:"hidden"}),h.jsx(Tj,{size:24,className:"text-neutral-400 hover:text-white transition-colors"})]}),h.jsx("button",{type:"submit",disabled:!l.trim(),className:"bg-primary text-white p-3 rounded-xl hover:bg-primary/80 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center shadow-lg",children:h.jsx(Dg,{size:20})})]})})]}):h.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center bg-neutral-950",children:[h.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-primary to-primary/60 rounded-full flex items-center justify-center mb-6",children:h.jsx(Zu,{size:48,className:"text-white"})}),h.jsx("h2",{className:"text-3xl font-bold text-primary mb-2",children:"Messages"}),h.jsx("p",{className:"text-neutral-400 mb-6 max-w-md",children:"Select a conversation from the sidebar to start messaging"}),h.jsx("div",{className:"w-16 h-1 bg-gradient-to-r from-primary to-primary/60 rounded-full"})]})}),OZ=A.memo(({selectedChat:t,otherUser:e,messages:n,onNavigateToProfile:r,onBackToChats:i,isLoading:o=!1})=>{const{user:l}=Cr(),[d,c]=A.useState(""),m=A.useRef(null),p=A.useRef(null),[y,x]=A.useState(!0);A.useEffect(()=>{if(t&&m.current&&p.current){const B=()=>{m.current&&p.current&&(p.current.scrollTop=p.current.scrollHeight,m.current.scrollIntoView({behavior:"instant"}),x(!0))};B(),setTimeout(B,0),setTimeout(B,100),setTimeout(B,200),setTimeout(B,500)}},[t?.id,n.length]),A.useEffect(()=>{m.current&&y&&n.length>0&&m.current.scrollIntoView({behavior:"smooth"})},[n,y]);const E=()=>{if(!p.current)return;const{scrollTop:B,scrollHeight:F,clientHeight:Y}=p.current,M=B+Y>=F-10;x(M)};A.useEffect(()=>{if(!t||!l)return;const B=new IntersectionObserver(Y=>{Y.forEach(M=>{if(M.isIntersecting){const j=M.target.getAttribute("data-message-id"),C=M.target.getAttribute("data-system-message")==="true";j&&!C&&oa(Zt(Ve,"messages",j),{read:!0}).catch(console.error)}})},{threshold:.5});return document.querySelectorAll("[data-message-id]").forEach(Y=>{const M=Y.getAttribute("data-message-id"),j=Y.getAttribute("data-sender-id"),C=Y.getAttribute("data-system-message")==="true";M&&j&&j!==l.uid&&!C&&B.observe(Y)}),()=>B.disconnect()},[n,t,l]);const R=async(B,F)=>{if(!(!t||!l||!B.trim()&&!F))try{const Y={chatId:t.id,text:B.trim(),senderId:l.uid,receiverId:t.participants.find(M=>M!==l.uid),timestamp:Vi(),read:!1};F&&(Y.imageUrl=F),await Cs(xt(Ve,"messages"),Y),await oa(Zt(Ve,"chats",t.id),{lastMessage:{text:B.trim(),timestamp:Vi()},lastMessageTime:Vi()}),c("")}catch(Y){console.error("Error sending message:",Y)}},P=async B=>{if(!(!t||!l))try{const F=Ig(Mg,`chat-images/${t.id}/${Date.now()}-${B.name}`),Y=await Ng(F,B),M=await Rg(Y.ref);await R("",M)}catch(F){console.error("Error uploading image:",F)}},V=B=>{B.preventDefault(),d.trim()&&R(d)},O=B=>{if(!B)return"";try{const F=B.toDate(),j=(new Date().getTime()-F.getTime())/(1e3*60),C=j/60,I=C/24;return j<1?"now":j<60?`${Math.floor(j)}m`:C<24?`${Math.floor(C)}h`:I<7?`${Math.floor(I)}d`:F.toLocaleDateString("en-US",{month:"short",day:"numeric"})}catch{return""}};return h.jsxs(ce.div,{initial:{opacity:0,x:"100%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"100%"},transition:{duration:.3,ease:"easeInOut"},className:"fixed inset-0 bg-neutral-950 z-50 flex flex-col",children:[h.jsx("div",{className:"p-4 border-b border-neutral-800 bg-neutral-900 flex-shrink-0",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("button",{onClick:i,className:"p-2 text-neutral-400 hover:text-white transition-colors",children:h.jsx(Bh,{size:24})}),e?.avatar?h.jsx("img",{src:e.avatar,alt:e.displayName||e.username,className:"w-10 h-10 rounded-full object-cover border border-white/10 flex-shrink-0",onError:B=>{B.currentTarget.style.display="none",B.currentTarget.nextElementSibling?.classList.remove("hidden")}}):null,h.jsx("span",{className:`w-10 h-10 bg-gradient-to-br from-primary to-primary/60 rounded-full flex items-center justify-center text-white font-bold ${e?.avatar?"hidden":""}`,children:e?.displayName?.charAt(0)||e?.username?.charAt(0)||"U"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h3",{className:"text-white font-semibold truncate",children:e?.displayName||e?.username||"Unknown User"}),h.jsx("p",{className:"text-sm text-neutral-400",children:e?.username?`@${e.username}`:""})]}),h.jsx("button",{onClick:()=>{e?.username&&r(e.username)},className:"p-2 text-neutral-400 hover:text-white transition-colors",children:h.jsx(xl,{size:20})})]})}),h.jsxs("div",{ref:p,onScroll:E,className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:[o?h.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(B=>h.jsx("div",{className:`flex ${B%2===0?"justify-end":"justify-start"}`,children:h.jsx("div",{className:`max-w-[70%] min-w-[200px] ${B%2===0?"bg-primary":"bg-neutral-700"} rounded-lg p-3`,children:h.jsx("div",{className:`w-48 h-4 ${B%2===0?"bg-primary/80":"bg-neutral-600"} rounded animate-pulse`})})},B))}):n.map(B=>h.jsx("div",{className:`flex ${B.isSystemMessage?"justify-center":B.senderId===l?.uid?"justify-end":"justify-start"}`,children:h.jsxs("div",{"data-message-id":B.id,"data-sender-id":B.senderId,"data-system-message":B.isSystemMessage?"true":"false",className:`${B.isSystemMessage?"bg-neutral-800 text-neutral-400 text-center text-xs px-3 py-1.5 max-w-[400px] whitespace-nowrap":B.senderId===l?.uid?"bg-primary text-white max-w-[70%] min-w-[80px]":"bg-neutral-700 text-white max-w-[70%] min-w-[80px]"} rounded-lg p-2.5 break-words whitespace-pre-wrap`,children:[B.imageUrl&&h.jsx("img",{src:B.imageUrl,alt:"Message attachment",className:"w-full h-auto rounded mb-2"}),h.jsx("p",{className:"text-sm",children:B.text}),!B.isSystemMessage&&h.jsx("p",{className:"text-xs opacity-70 mt-1",children:O(B.timestamp)})]})},B.id)),h.jsx("div",{ref:m})]}),h.jsx("div",{className:"p-4 border-t border-neutral-800 bg-neutral-900 flex-shrink-0",children:h.jsxs("form",{onSubmit:V,className:"flex items-center gap-3",children:[h.jsx("input",{type:"text",value:d,onChange:B=>c(B.target.value),placeholder:"Type a message...",className:"flex-1 bg-neutral-800 text-white px-4 py-3 rounded-lg border border-neutral-700 focus:border-primary outline-none"}),h.jsxs("label",{className:"cursor-pointer p-2 hover:bg-neutral-800 rounded-lg transition-colors",children:[h.jsx("input",{type:"file",accept:"image/*",onChange:B=>{const F=B.target.files?.[0];F&&P(F)},className:"hidden"}),h.jsx(Tj,{size:24,className:"text-neutral-400 hover:text-white transition-colors"})]}),h.jsx("button",{type:"submit",disabled:!d.trim(),className:"bg-primary text-white p-2 rounded-lg hover:bg-primary/80 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:h.jsx(Dg,{size:20})})]})})]})}),DZ=A.memo(({chats:t,selectedChatId:e,onChatSelect:n,hasUnread:r,getUnreadCount:i,formatTime:o,searchQuery:l,setSearchQuery:d,chatListLoading:c})=>{const m=A.useMemo(()=>t.filter(p=>p.otherUser?.displayName?.toLowerCase().includes(l.toLowerCase())||p.otherUser?.username?.toLowerCase().includes(l.toLowerCase())),[t,l]);return h.jsxs(ce.div,{initial:{opacity:0,x:"-100%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"-100%"},transition:{duration:.3,ease:"easeInOut"},className:"h-full flex flex-col",children:[h.jsxs("div",{className:"p-4 border-b border-neutral-800 bg-neutral-900 flex-shrink-0",children:[h.jsx("div",{className:"flex items-center justify-between mb-4",children:h.jsx("h1",{className:"text-2xl font-bold text-primary",children:"Messages"})}),h.jsxs("div",{className:"relative",children:[h.jsx(bl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-neutral-400",size:16}),h.jsx("input",{type:"text",placeholder:"Search messages",value:l,onChange:p=>d(p.target.value),className:"w-full bg-neutral-800 text-white px-10 py-3 rounded-lg border border-neutral-700 focus:border-primary outline-none"})]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:c?h.jsx("div",{className:"p-4 space-y-4",children:[1,2,3,4,5].map(p=>h.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.1},className:"flex items-center gap-3 p-3 rounded-lg",children:[h.jsx("div",{className:"w-12 h-12 bg-neutral-700 rounded-full animate-pulse flex-shrink-0"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"w-24 h-4 bg-neutral-700 rounded mb-2 animate-pulse"}),h.jsx("div",{className:"w-32 h-3 bg-neutral-700 rounded animate-pulse"})]})]},p))}):m.length===0?h.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center h-full text-neutral-400 p-8",children:[h.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-primary to-primary/60 rounded-full flex items-center justify-center mb-4",children:h.jsx(Zu,{size:40,className:"text-white"})}),h.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"No Messages Yet"}),h.jsx("p",{className:"text-sm text-center",children:"Start connecting with other users to see your conversations here"})]}):h.jsx("div",{className:"p-4 space-y-2",children:m.map((p,y)=>h.jsx(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.1},onClick:()=>n(p),className:`p-4 rounded-xl cursor-pointer transition-all duration-200 ${e===p.id?"bg-neutral-800":"hover:bg-neutral-800/50"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsxs("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-primary/60 rounded-full flex items-center justify-center overflow-hidden flex-shrink-0",children:[p.otherUser?.avatar?h.jsx("img",{src:p.otherUser.avatar,alt:p.otherUser.displayName||p.otherUser.username,className:"w-full h-full object-cover",onError:x=>{x.currentTarget.style.display="none",x.currentTarget.nextElementSibling?.classList.remove("hidden")}}):null,h.jsx("span",{className:`text-white font-bold text-lg ${p.otherUser?.avatar?"hidden":""}`,children:p.otherUser?.displayName?.charAt(0)||p.otherUser?.username?.charAt(0)||"U"})]}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h3",{className:"text-white font-semibold truncate",children:p.otherUser?.displayName||p.otherUser?.username||"Unknown User"}),p.lastMessageTime&&h.jsx("span",{className:"text-xs text-neutral-400 flex-shrink-0 ml-2",children:o(p.lastMessageTime)})]}),h.jsx("p",{className:"text-sm text-neutral-400 truncate",children:p.lastMessage?.imageUrl?"Image":p.lastMessage?.text||"No messages yet"})]}),r(p.id)&&h.jsx(ce.div,{initial:{scale:0},animate:{scale:1},className:"flex items-center justify-center w-5 h-5 bg-red-500 text-white text-xs font-semibold rounded-full flex-shrink-0",children:i(p.id)>99?"99+":i(p.id)})]})},p.id))})})]})}),kZ=A.memo(({chats:t,selectedChatId:e,onChatSelect:n,hasUnread:r,getUnreadCount:i,formatTime:o,searchQuery:l,setSearchQuery:d,chatListLoading:c})=>{const m=A.useMemo(()=>t.filter(p=>p.otherUser?.displayName?.toLowerCase().includes(l.toLowerCase())||p.otherUser?.username?.toLowerCase().includes(l.toLowerCase())),[t,l]);return h.jsxs("div",{className:"w-80 border-r border-neutral-800 bg-neutral-900 flex flex-col h-full",children:[h.jsxs("div",{className:"p-6 border-b border-neutral-800 flex-shrink-0",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold text-primary",children:"Messages"}),h.jsx("div",{className:"w-8 h-8 bg-primary/20 rounded-lg flex items-center justify-center",children:h.jsx(Zu,{size:20,className:"text-primary"})})]}),h.jsxs("div",{className:"relative",children:[h.jsx(bl,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-neutral-400",size:18}),h.jsx("input",{type:"text",placeholder:"Search conversations...",value:l,onChange:p=>d(p.target.value),className:"w-full bg-neutral-800 text-white px-12 py-3 rounded-xl border border-neutral-700 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition-all"})]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:c?h.jsx("div",{className:"p-4 space-y-4",children:[1,2,3,4,5,6].map(p=>h.jsxs("div",{className:"flex items-center gap-4 p-4 rounded-xl",children:[h.jsx("div",{className:"w-14 h-14 bg-neutral-700 rounded-full animate-pulse flex-shrink-0"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"w-28 h-5 bg-neutral-700 rounded mb-2 animate-pulse"}),h.jsx("div",{className:"w-40 h-4 bg-neutral-700 rounded animate-pulse"})]})]},p))}):m.length===0?h.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-neutral-400 p-8",children:[h.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-primary to-primary/60 rounded-full flex items-center justify-center mb-4",children:h.jsx(Zu,{size:40,className:"text-white"})}),h.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"No Messages Yet"}),h.jsx("p",{className:"text-sm text-center max-w-xs",children:"Start connecting with other users to see your conversations here"})]}):h.jsx("div",{className:"p-4 space-y-2",children:m.map((p,y)=>h.jsx(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.05},onClick:()=>n(p),className:`p-4 rounded-xl cursor-pointer transition-all duration-200 ${e===p.id?"bg-neutral-800 border border-primary/20":"hover:bg-neutral-800/50"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("div",{className:"relative",children:[h.jsxs("div",{className:"w-14 h-14 bg-gradient-to-br from-primary to-primary/60 rounded-full flex items-center justify-center overflow-hidden flex-shrink-0",children:[p.otherUser?.avatar?h.jsx("img",{src:p.otherUser.avatar,alt:p.otherUser.displayName||p.otherUser.username,className:"w-full h-full object-cover",onError:x=>{x.currentTarget.style.display="none",x.currentTarget.nextElementSibling?.classList.remove("hidden")}}):null,h.jsx("span",{className:`text-white font-bold text-lg ${p.otherUser?.avatar?"hidden":""}`,children:p.otherUser?.displayName?.charAt(0)||p.otherUser?.username?.charAt(0)||"U"})]}),r(p.id)&&h.jsx(ce.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 flex items-center justify-center w-6 h-6 bg-red-500 text-white text-xs font-bold rounded-full flex-shrink-0 border-2 border-neutral-900",children:i(p.id)>99?"99+":i(p.id)})]}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsx("h3",{className:"text-white font-semibold truncate",children:p.otherUser?.displayName||p.otherUser?.username||"Unknown User"}),p.lastMessageTime&&h.jsx("span",{className:"text-xs text-neutral-400 flex-shrink-0 ml-2",children:o(p.lastMessageTime)})]}),h.jsx("p",{className:"text-sm text-neutral-400 truncate",children:p.lastMessage?.imageUrl?" Image":p.lastMessage?.text||"No messages yet"})]})]})},p.id))})})]})});function YN(){const{user:t}=Cr(),{userId:e}=Rw(),n=Jn(),r=jZ("(min-width: 768px)"),{hasUnread:i,getUnreadCount:o}=Fg(),[l,d]=A.useState([]),[c,m]=A.useState(null),[p,y]=A.useState([]),[x,E]=A.useState(null),[R,P]=A.useState(!0),[V,O]=A.useState(!1),[B,F]=A.useState(""),[Y,M]=A.useState(!1),j=A.useCallback(D=>{if(D){const G=D.participants.find(Z=>Z!==t?.uid);G&&window.history.replaceState(null,"",`/messages/${G}`)}else window.history.replaceState(null,"","/messages")},[t?.uid]),C=A.useCallback(async D=>{try{const G=cn(xt(Ve,"messages"),rn("chatId","==",D),rn("isSystemMessage","==",!0));(await ln(G)).empty&&await Cs(xt(Ve,"messages"),{chatId:D,text:" You both were matched because of a trade!",senderId:"system",receiverId:"system",timestamp:Vi(),read:!0,isSystemMessage:!0,readable:!1})}catch(G){console.error("Error creating trade match message:",G)}},[]),I=A.useCallback(async D=>{if(t)try{const G=cn(xt(Ve,"chats"),rn("participants","array-contains",t.uid)),H=(await ln(G)).docs.find(K=>{const w=K.data();return w.participants.includes(D)&&w.participants.length===2});if(H){const K=H.data(),w={id:H.id,participants:K.participants,lastMessageTime:K.lastMessageTime,unreadCount:K.unreadCount||0};m(w),O(!0),await C(w.id);return}const J={id:(await Cs(xt(Ve,"chats"),{participants:[t.uid,D].sort(),lastMessageTime:Vi(),unreadCount:0})).id,participants:[t.uid,D].sort(),lastMessageTime:Vi(),unreadCount:0};m(J),O(!0),await C(J.id)}catch(G){console.error("Error creating chat:",G)}},[t,C]);A.useEffect(()=>{if(!t)return;const D=cn(xt(Ve,"chats"),rn("participants","array-contains",t.uid),Yu("lastMessageTime","desc")),G=Xu(D,async Z=>{const H=[],S=new Set;for(const J of Z.docs){const K=J.data();K.id=J.id;const w=K.participants.find(z=>z!==t.uid);if(w){const z=[t.uid,w].sort().join("_");if(S.has(z))continue;S.add(z);try{const X=await wi(Zt(Ve,"users",w));if(X.exists()){const Q=X.data();K.otherUser=Q}}catch(X){console.error("Error fetching user data:",X)}H.push(K)}}d(H),P(!1)});return()=>G()},[t]),A.useEffect(()=>{if(!(!t||!l.length))if(e){const D=l.find(G=>G.participants.includes(e));D?(m(D),O(!0)):I(e)}else!e&&c&&m(null)},[e,t,l.length,I]),A.useEffect(()=>{if(!c||!t)return;const D=cn(xt(Ve,"messages"),rn("chatId","==",c.id),Yu("timestamp","asc")),G=Xu(D,Z=>{const H=Z.docs.map(S=>({id:S.id,...S.data()}));y(H),O(!1)});return()=>G()},[c,t]),A.useEffect(()=>{if(!c||!t){E(null);return}const D=c.participants.find(G=>G!==t.uid);if(D){let G=!0;return wi(Zt(Ve,"users",D)).then(Z=>{if(G)if(Z.exists()){const H=Z.data();E(H)}else E(null)}).catch(Z=>{G&&(console.error("Error fetching other user:",Z),E(null))}),()=>{G=!1}}else E(null)},[c?.id,t?.uid]);const N=A.useCallback(D=>{O(!0),m(D),r&&M(!0),j(D)},[j,r]),T=A.useCallback(D=>{if(!D)return"";try{const G=D.toDate(),S=(new Date().getTime()-G.getTime())/(1e3*60),J=S/60,K=J/24;return S<1?"now":S<60?`${Math.floor(S)}m`:J<24?`${Math.floor(J)}h`:K<7?`${Math.floor(K)}d`:G.toLocaleDateString("en-US",{month:"short",day:"numeric"})}catch{return""}},[]),U=A.useCallback(()=>{m(null),j(null)},[j]),$=A.useCallback(()=>{M(!1),m(null),j(null)},[j]);return A.useEffect(()=>{const D=()=>{r&&$()};return window.addEventListener("clearChatWindow",D),()=>{window.removeEventListener("clearChatWindow",D)}},[r,$]),h.jsx(yr,{className:"h-screen bg-neutral-950 overflow-hidden",children:r?h.jsxs("div",{className:"flex h-full",children:[h.jsx(kZ,{chats:l,selectedChatId:c?.id,onChatSelect:N,hasUnread:i,getUnreadCount:o,formatTime:T,searchQuery:B,setSearchQuery:F,chatListLoading:R}),h.jsx(PZ,{selectedChat:Y?c:null,otherUser:x,messages:p,onNavigateToProfile:D=>n(`/user/${D}`),onClose:$,isLoading:V})]}):h.jsx(fn,{mode:"wait",children:c?h.jsx(OZ,{selectedChat:c,otherUser:x,messages:p,onNavigateToProfile:D=>n(`/user/${D}`),onBackToChats:U,isLoading:V},"chat-window"):h.jsx(DZ,{chats:l,selectedChatId:void 0,onChatSelect:N,hasUnread:i,getUnreadCount:o,formatTime:T,searchQuery:B,setSearchQuery:F,chatListLoading:R},"chat-list")})})}const LZ="bg-primary text-primary-foreground hover:bg-primary/80 cursor-pointer transition-all duration-200 active:scale-95 uppercase tracking-widest font-bold disabled:opacity-40 disabled:cursor-not-allowed rounded-md",nb="rounded-md bg-muted px-3 py-2 text-sm outline-none focus:ring-2 ring-primary/80 transition-all duration-200",XN={initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9}},QN={control:t=>({...t,background:"#1b1b1b",border:"none",minHeight:"2.6rem",cursor:"pointer"}),singleValue:t=>({...t,color:"#fff"}),input:t=>({...t,color:"#fff"}),placeholder:t=>({...t,color:"#888"}),menu:t=>({...t,background:"#1b1b1b"}),option:(t,e)=>({...t,background:e.isFocused?"#2a2a2a":"#1b1b1b",color:"#fff",cursor:"pointer"}),indicatorSeparator:()=>({display:"none"})},ZN=t=>h.jsx(Yg.DropdownIndicator,{...t,children:h.jsx(Fh,{size:18,className:"text-muted-foreground"})});function VZ({initialData:t,setData:e,onClose:n}){const[r,i]=A.useState(t?.displayName||""),[o,l]=A.useState(t?.username||""),[d,c]=A.useState(t?.country||null),[m,p]=A.useState(t?.language||null),[y,x]=A.useState(""),[E,R]=A.useState(new Set(t?.interests||[])),[P,V]=A.useState(t?.avatar||""),[O,B]=A.useState(null),[F,Y]=A.useState(!1),M=async()=>{if(!r.trim())return B("Name is required");if(!o.trim())return B("Username is required");if(o.trim().length<3)return B("Username must be at least 3 characters");if(!ta(o))return B("Username can only contain letters, numbers, and underscores");Y(!0);const I=ZR().currentUser;if(!I)return B("You must be logged in.");if(await O1(o,I.uid)){B("Username already exists. Please choose a different one."),Y(!1);return}let T=P;if(P&&P.startsWith("data:")){const $=await fetch(P).then(G=>G.blob()),D=Ig(Mg,`avatars/${I.uid}.jpg`);await Ng(D,$),T=await Rg(D)}const U={displayName:r,username:o,avatar:T,country:d?.value||t.country,language:m?.value||t.language,interests:Array.from(E)};await gl(Zt(Ve,"users",I.uid),U,{merge:!0}),await BR(I,{displayName:r,photoURL:T}),e(U),Y(!1),n()},j=C=>{const I=C.target.files?.[0];if(!I)return;const N=new FileReader;N.onloadend=()=>V(N.result),N.readAsDataURL(I)};return h.jsx(ce.div,{...XN,transition:{duration:.25},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-6",children:h.jsxs(ce.div,{...XN,transition:{duration:.25},className:"bg-neutral-900 text-white w-full max-w-2xl rounded-xl relative p-5 sm:p-6 h-full flex flex-col",children:[h.jsx("button",{onClick:n,className:"absolute top-4 right-4 cursor-pointer hover:bg-neutral-800 p-2 rounded-xl transition-colors",children:h.jsx(Ui,{size:24})}),h.jsx("h2",{className:"text-2xl font-bold mb-1 text-primary",children:"Edit Profile"}),h.jsx("p",{className:"text-sm mb-4 text-muted-foreground",children:"Update your profile information."}),h.jsxs("div",{className:"flex items-center gap-4 mb-5",children:[h.jsxs("label",{htmlFor:"avatar",className:"relative cursor-pointer shrink-0",children:[P?h.jsx("img",{src:P,className:"w-16 h-16 rounded-full object-cover border",alt:"Avatar"}):h.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center border",children:h.jsx(xl,{className:"text-muted-foreground",size:28})}),h.jsx("div",{className:"absolute bottom-0 right-0 p-1 bg-primary rounded-full",children:h.jsx(Gz,{size:14})}),h.jsx("input",{id:"avatar",type:"file",accept:"image/*",className:"hidden",onChange:j})]}),h.jsx("input",{className:`${nb} w-full`,value:r,onChange:C=>{i(C.target.value),B(null)},placeholder:"Your name"})]}),h.jsxs("div",{className:"mb-5",children:[h.jsx("label",{className:"block text-sm mb-1",children:"Username"}),h.jsx("input",{className:`${nb} w-full ${o&&!ta(o)?"border-red-500 focus:border-red-500":o&&ta(o)?"border-green-500 focus:border-green-500":""}`,value:o,onChange:C=>{l(C.target.value),B(null)},placeholder:"johndoe123"}),o&&!ta(o)&&h.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Username can only contain letters, numbers, and underscores"}),!o&&h.jsx("p",{className:"text-neutral-400 text-xs mt-1",children:"Only letters, numbers, and underscores allowed"})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-5",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm mb-1",children:"Country"}),h.jsx(yh,{instanceId:"country",options:hx().getData(),value:typeof d=="string"?hx().getData().find(C=>C.value===t.country):d,onChange:C=>{c(C),B(null)},placeholder:"Select country",styles:QN,components:{DropdownIndicator:ZN},menuShouldScrollIntoView:!1})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm mb-1",children:"Language"}),h.jsx(yh,{instanceId:"language",options:fx,value:typeof m=="string"?fx.find(C=>C.value===t.language):m,onChange:C=>{p(C),B(null)},placeholder:"Select language",styles:QN,components:{DropdownIndicator:ZN},menuShouldScrollIntoView:!1})]})]}),h.jsx("h3",{className:"text-xl font-semibold mb-1",children:"Interests"}),h.jsxs("p",{className:"text-sm mb-3",children:["These help us ",h.jsx("span",{className:"text-primary",children:"personalize"})," your experience."]}),h.jsx("input",{type:"text",placeholder:"Search interests",value:y,onChange:C=>x(C.target.value),className:`w-full mb-3 ${nb}`}),h.jsx("div",{className:"flex-grow overflow-y-auto pr-1 mb-4",children:h.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:fs.filter(({label:C})=>C.toLowerCase().includes(y.toLowerCase())).map(({id:C,label:I,img:N})=>{const T=E.has(C);return h.jsxs("div",{onClick:()=>{R(U=>{const $=new Set(U);return $.has(C)?$.delete(C):$.add(C),$}),B(null)},className:`relative cursor-pointer rounded-xl overflow-hidden border-2 ${T?"border-primary":"border-transparent"}`,children:[h.jsx("img",{src:N,alt:I,className:"w-full h-20 object-cover"}),T&&h.jsx("div",{className:"absolute top-1 right-1 bg-primary p-1 rounded-full",children:h.jsx(Vw,{size:14,className:"text-white"})}),h.jsx("p",{className:"text-xs mt-2 px-1 pb-2 truncate text-center",children:I})]},C)})})}),O&&h.jsx("p",{className:"text-red-500 text-sm mb-3",children:O}),h.jsx("div",{className:"flex justify-center",children:F?h.jsx(P1,{}):h.jsx("button",{onClick:M,className:`${LZ} px-6 py-2 text-sm`,disabled:F,children:"Save Changes"})})]},"modal")})}const km={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};function UZ(){const{user:t}=Cr(),{username:e}=Rw(),n=Jn(),[r]=Ow(),[i,o]=A.useState(null),[l,d]=A.useState([]),[c,m]=A.useState([]),[p,y]=A.useState(!1),[x,E]=A.useState(!1),[R,P]=A.useState(!1),[V,O]=A.useState(null),[B,F]=A.useState(null),[Y,M]=A.useState("trades"),[j,C]=A.useState(!0),[I,N]=A.useState(!1),T=!e||t&&i&&t.uid===i.uid;A.useEffect(()=>{!e&&t&&i?.username&&!I&&window.location.pathname==="/user"&&(N(!0),n(`/user/${i.username}`,{replace:!0}))},[e,t,i,n,I]),A.useEffect(()=>{(async()=>{try{let Z,H;if(e){if(H=await sD(e),!H){n("/error");return}Z=H.uid}else{if(!t)return;if(H=await D1(t.uid),!H){n("/error");return}Z=t.uid}const[S,J]=await Promise.all([k1(Z),T?L1(Z):Promise.resolve([])]);o(H),d(S),m(J)}catch(Z){console.error("Failed to fetch profile data:",Z),n("/error")}finally{C(!1)}})()},[e,t,n,T]),A.useEffect(()=>{if(!T)return;const G=r.get("tab");M(G==="saved"?"saved":"trades")},[r,T]);const U=G=>{O(G),E(!0)},$=G=>{F(G),P(!0)},D=G=>{d(Z=>Z.map(H=>H.id===G.id?{...H,...G}:H)),O(G)};return j||I?h.jsxs(yr,{className:"px-4 py-8 text-white max-w-4xl mx-auto",children:[h.jsxs("div",{className:"flex items-center justify-between mb-8",children:[h.jsxs("div",{className:"flex items-center gap-5",children:[h.jsx("div",{className:"w-24 h-24 rounded-full bg-neutral-700 animate-pulse"}),h.jsxs("div",{children:[h.jsx("div",{className:"w-48 h-8 bg-neutral-700 rounded mb-2 animate-pulse"}),h.jsx("div",{className:"w-32 h-4 bg-neutral-700 rounded animate-pulse"})]})]}),T&&h.jsx("div",{className:"w-24 h-10 bg-neutral-700 rounded animate-pulse"})]}),h.jsx("div",{className:"mt-6 mb-8",children:h.jsx("div",{className:"flex flex-wrap gap-3",children:[1,2,3].map(G=>h.jsx("div",{className:"w-24 h-8 bg-neutral-700 rounded-lg animate-pulse"},G))})}),T&&h.jsx("div",{className:"flex justify-center border-t border-white/10 mb-4",children:[1,2].map(G=>h.jsx("div",{className:"w-1/2 py-3",children:h.jsx("div",{className:"w-16 h-4 bg-neutral-700 rounded mx-auto animate-pulse"})},G))}),h.jsx("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(G=>h.jsx("div",{className:"aspect-square bg-neutral-700 rounded-xl animate-pulse"},G))})]}):h.jsxs(yr,{className:"px-4 py-8 text-white max-w-4xl mx-auto",children:[i&&h.jsxs(h.Fragment,{children:[!T&&h.jsx(ce.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"mb-6",children:h.jsxs("button",{onClick:()=>n(-1),className:"flex items-center gap-2 text-neutral-400 hover:text-white transition-colors p-2 rounded-lg hover:bg-neutral-800",children:[h.jsx(Bh,{size:20}),h.jsx("span",{className:"text-sm",children:"Back"})]})}),h.jsxs(ce.div,{variants:km,initial:"hidden",animate:"visible",transition:{duration:.4},className:"mb-8",children:[h.jsx("div",{className:"md:hidden",children:h.jsxs("div",{className:"flex flex-col items-center text-center mb-6",children:[i.avatar?h.jsx("img",{src:i.avatar,alt:"Profile",className:"w-20 h-20 rounded-full object-cover border border-white/10 mb-4"}):h.jsx("div",{className:"w-20 h-20 rounded-full border border-white/10 bg-white/10 flex items-center justify-center mb-4",children:h.jsx(xl,{size:32,className:"text-white/60"})}),h.jsxs("div",{className:"mb-4",children:[h.jsxs("h1",{className:"text-xl font-bold text-white mb-1",children:[i.displayName||"User",i.country&&h.jsx("span",{className:"ml-2",children:mx(i.country)})]}),i.username&&h.jsxs("p",{className:"text-sm text-white/60 mb-1",children:["@",i.username]}),T&&h.jsx("p",{className:"text-sm text-white/60 break-all",children:t?.email}),!T&&i.bio&&h.jsx("p",{className:"text-sm text-white/60 mt-1",children:i.bio})]}),T&&h.jsx("button",{onClick:()=>y(!0),className:"w-full max-w-xs px-6 py-2.5 text-sm bg-primary text-primary-foreground hover:bg-primary/80 cursor-pointer transition-all duration-200 active:scale-95 uppercase tracking-wide font-bold disabled:opacity-40 disabled:cursor-not-allowed rounded-lg",children:"EDIT PROFILE"})]})}),h.jsxs("div",{className:"hidden md:flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-5",children:[i.avatar?h.jsx("img",{src:i.avatar,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border border-white/10"}):h.jsx("div",{className:"w-24 h-24 rounded-full border border-white/10 bg-white/10 flex items-center justify-center",children:h.jsx(xl,{size:40,className:"text-white/60"})}),h.jsxs("div",{children:[h.jsxs("h1",{className:"text-3xl font-bold text-white",children:[i.displayName||"User",i.country&&h.jsx("span",{className:"ml-2",children:mx(i.country)})]}),i.username&&h.jsxs("p",{className:"text-sm text-white/60 mb-1",children:["@",i.username]}),T?h.jsx("p",{className:"text-sm text-white/60",children:t?.email}):i.bio&&h.jsx("p",{className:"text-sm text-white/60",children:i.bio})]})]}),T&&h.jsx("button",{onClick:()=>y(!0),className:"px-6 rounded-md py-1.5 text-sm bg-primary text-primary-foreground hover:bg-primary/80 cursor-pointer transition-all duration-200 active:scale-95 uppercase tracking-wide font-bold disabled:opacity-40 disabled:cursor-not-allowed",children:"EDIT PROFILE"})]})]}),i.interests&&i.interests.length>0&&h.jsx(ce.div,{variants:km,initial:"hidden",animate:"visible",transition:{delay:.2,duration:.4},className:"mt-6 mb-8",children:h.jsx("div",{className:"flex flex-wrap gap-3",children:i.interests.map(G=>h.jsx("span",{className:`px-4 py-2 rounded-lg text-sm font-semibold text-white ${aQ(G)}`,children:G.replace("_"," ").split(" ").map(Z=>Z.charAt(0).toUpperCase()+Z.slice(1)).join(" ")},G))})}),T&&h.jsxs(ce.div,{variants:km,initial:"hidden",animate:"visible",transition:{delay:.3,duration:.4},className:"flex justify-center border-t border-white/10 mb-4",children:[h.jsxs("button",{onClick:()=>M("trades"),className:`flex items-center justify-center gap-1 px-6 py-3 text-sm font-medium transition w-1/2 cursor-pointer ${Y==="trades"?"border-t-2 border-white":"text-white/40"}`,children:[h.jsx(nB,{size:18}),"Trades"]}),h.jsxs("button",{onClick:()=>M("saved"),className:`flex items-center justify-center gap-1 px-6 py-3 text-sm font-medium transition w-1/2 cursor-pointer ${Y==="saved"?"border-t-2 border-white":"text-white/40"}`,children:[h.jsx(yl,{size:18}),"Saved"]})]}),h.jsx(ce.div,{variants:km,initial:"hidden",animate:"visible",transition:{delay:.4,duration:.4},className:"mt-6",children:T?h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(Y==="trades"?l:c).map((G,Z)=>h.jsxs(ce.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:Z*.05},className:`relative aspect-square overflow-hidden rounded-xl bg-white/10 cursor-pointer hover:scale-105 transition-transform duration-200 ${Y==="trades"?"hover:border-2 hover:border-primary":""}`,onClick:()=>Y==="trades"?U(G):$(G),children:[h.jsx("img",{src:G.images?.[0],alt:G.title||G.caption||"Item",className:"object-cover w-full h-full"}),Y==="trades"&&!G.isAvailable&&h.jsx("div",{className:"absolute top-2 right-2 bg-red-600 text-white px-2 py-1 rounded-full text-xs font-bold",children:"UNAVAILABLE"})]},G.id)),Y==="trades"&&l.length===0&&h.jsx("p",{className:"text-sm text-white/40 col-span-full text-center",children:"You haven't added any trades yet."}),Y==="saved"&&c.length===0&&h.jsx("p",{className:"text-sm text-white/40 col-span-full text-center",children:"No saved posts yet."})]}):l.length===0?h.jsx("div",{className:"flex justify-center items-center",children:h.jsxs("div",{className:"text-center text-neutral-400 py-16",children:[h.jsx(yB,{className:"w-16 h-16 mx-auto mb-6 opacity-50"}),h.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No trades available"}),h.jsx("p",{className:"text-neutral-500",children:"This user hasn't added any trades yet."})]})}):h.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:l.map((G,Z)=>h.jsx(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Z*.1},className:"aspect-square bg-neutral-900 rounded-xl border border-neutral-700 overflow-hidden hover:border-primary transition-colors cursor-pointer",onClick:()=>n(`/trades/${G.id}`),children:h.jsx("img",{src:G.images?.[0],alt:G.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-200"})},G.id))})})]}),h.jsxs(fn,{mode:"wait",children:[p&&h.jsx(VZ,{initialData:i,setData:G=>o(G),onClose:()=>y(!1)}),x&&h.jsx(V1,{trade:V,isOpen:x,onClose:()=>{E(!1),O(null)},onTradeUpdate:D}),R&&B&&h.jsx(U1,{post:B,onClose:()=>{P(!1),F(null)},user:t,liked:!1,saved:!0,handleLike:()=>{},handleSave:()=>{}})]})]})}const zZ={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3}},BZ={animate:{transition:{staggerChildren:.1}}};function FZ(){const{cart:t,totalPrice:e,updateQuantity:n,removeFromCart:r}=Bg();return h.jsx(yr,{className:"min-h-screen bg-neutral-950",children:h.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8 md:py-12",children:[h.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"text-center mb-8 md:mb-12",children:[h.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[h.jsx("div",{className:"w-12 h-12 bg-primary/20 rounded-full flex items-center justify-center",children:h.jsx(Vu,{className:"w-6 h-6 text-primary"})}),h.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white",children:"Your Cart"})]}),h.jsx("p",{className:"text-neutral-400 text-sm md:text-base",children:t.length===0?"Start adding items to your cart":`${t.length} item${t.length===1?"":"s"} in your cart`})]}),t.length===0?h.jsxs(ce.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"flex flex-col items-center justify-center py-16 md:py-24",children:[h.jsx("div",{className:"w-24 h-24 bg-neutral-800 rounded-full flex items-center justify-center mb-6",children:h.jsx(Vu,{className:"w-12 h-12 text-neutral-400"})}),h.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-white mb-2",children:"Your cart is empty"}),h.jsx("p",{className:"text-neutral-400 text-center max-w-md",children:"Looks like you haven't added any items to your cart yet. Start exploring our collection!"})]}):h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[h.jsx(ce.div,{variants:BZ,initial:"initial",animate:"animate",className:"lg:col-span-2 space-y-4",children:t.map(i=>h.jsx(ce.div,{variants:zZ,className:"bg-neutral-900 border border-neutral-800 rounded-xl p-4 md:p-6 hover:border-neutral-700 transition-colors",children:h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[h.jsx("div",{className:"flex-shrink-0",children:i.image?h.jsx("img",{src:i.image,alt:i.name,className:"w-20 h-20 md:w-24 md:h-24 rounded-lg object-cover border border-neutral-700"}):h.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 rounded-lg bg-neutral-800 border border-neutral-700 flex items-center justify-center",children:h.jsx(Vu,{className:"w-8 h-8 text-neutral-400"})})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h3",{className:"font-semibold text-white text-lg mb-1 truncate",children:i.name}),h.jsxs("p",{className:"text-neutral-400 text-sm mb-3",children:["$",i.price?.toFixed(2)??0," each"]}),h.jsxs("div",{className:"flex items-center justify-between md:hidden",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("button",{onClick:()=>n(i.id,i.quantity-1),className:"w-8 h-8 bg-neutral-800 hover:bg-neutral-700 rounded-lg flex items-center justify-center text-white transition-colors",disabled:i.quantity<=1,children:h.jsx(mA,{size:16})}),h.jsx("span",{className:"w-12 text-center text-white font-medium",children:i.quantity}),h.jsx("button",{onClick:()=>n(i.id,i.quantity+1),className:"w-8 h-8 bg-neutral-800 hover:bg-neutral-700 rounded-lg flex items-center justify-center text-white transition-colors",children:h.jsx(Ju,{size:16})})]}),h.jsx("button",{onClick:()=>r(i.id),className:"text-red-400 hover:text-red-300 transition-colors p-2",children:h.jsx(Nj,{size:18})})]})]}),h.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("button",{onClick:()=>n(i.id,i.quantity-1),className:"w-8 h-8 bg-neutral-800 hover:bg-neutral-700 rounded-lg flex items-center justify-center text-white transition-colors",disabled:i.quantity<=1,children:h.jsx(mA,{size:16})}),h.jsx("span",{className:"w-12 text-center text-white font-medium",children:i.quantity}),h.jsx("button",{onClick:()=>n(i.id,i.quantity+1),className:"w-8 h-8 bg-neutral-800 hover:bg-neutral-700 rounded-lg flex items-center justify-center text-white transition-colors",children:h.jsx(Ju,{size:16})})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("p",{className:"text-lg font-semibold text-white",children:["$",((i.price??0)*i.quantity).toFixed(2)]}),h.jsx("button",{onClick:()=>r(i.id),className:"text-red-400 hover:text-red-300 transition-colors text-sm mt-1",children:"Remove"})]})]})]})},i.id))}),h.jsx(ce.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.2},className:"lg:col-span-1",children:h.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 rounded-xl p-6 sticky top-8",children:[h.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Order Summary"}),h.jsxs("div",{className:"space-y-4 mb-6",children:[h.jsxs("div",{className:"flex justify-between text-neutral-400",children:[h.jsx("span",{children:"Subtotal"}),h.jsxs("span",{children:["$",e.toFixed(2)]})]}),h.jsxs("div",{className:"flex justify-between text-neutral-400",children:[h.jsx("span",{children:"Shipping"}),h.jsx("span",{className:"text-green-400",children:"Free"})]}),h.jsx("div",{className:"border-t border-neutral-800 pt-4",children:h.jsxs("div",{className:"flex justify-between text-lg font-semibold text-white",children:[h.jsx("span",{children:"Total"}),h.jsxs("span",{className:"text-primary",children:["$",e.toFixed(2)]})]})})]}),h.jsxs("button",{className:"w-full bg-primary hover:bg-primary/90 text-white font-semibold py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:["Proceed to Checkout",h.jsx(Og,{size:18})]}),h.jsx("p",{className:"text-xs text-neutral-500 text-center mt-4",children:"Secure checkout powered by Stripe"})]})})]})]})})}const HZ="bg-primary text-primary-foreground hover:bg-primary/80 cursor-pointer transition-all duration-200 active:scale-95 uppercase tracking-widest font-bold disabled:opacity-40 disabled:cursor-not-allowed py-3 sm:py-2 text-base sm:text-sm w-full rounded-md",$Z="rounded-md bg-muted px-3 py-3 sm:py-2 text-base sm:text-base outline-none focus:ring-2 ring-primary/80 transition-all duration-200 w-full",JN={initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}},qZ=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,eR=t=>qZ.test(t);function GZ(){const t=Jn(),[e,n]=A.useState(""),[r,i]=A.useState(!1),[o,l]=A.useState(!1),[d,c]=A.useState(null),[m,p]=Hg(),[y]=A.useState(()=>{const R=Math.random()>.5?"left":"right",P=200;return{start:{x:R==="left"?-P-Math.random()*200:m+P+Math.random()*200,y:-P},end:{x:R==="left"?m+P+Math.random()*200:-P-Math.random()*200,y:p+P}}}),x=async()=>{if(!eR(e)){c("Please enter a valid email address");return}i(!0),c(null);try{await P3(Oi,e),l(!0)}catch(R){R.code==="auth/user-not-found"?c("No account found with this email address"):R.code==="auth/too-many-requests"?c("Too many attempts. Please try again later"):c("Failed to send reset email. Please try again")}finally{i(!1)}},E=()=>{t("/")};return h.jsx(h.Fragment,{children:h.jsxs(yr,{className:"relative h-screen overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:h.jsx(Nl,{start:y.start,end:y.end,speed:12,className:"absolute bottom-0 left-0 opacity-25 w-full h-screen",imgHeightTW:"h-32 sm:h-40 md:h-44",imgWidthTW:"w-44 sm:w-52 md:w-56"})}),h.jsx("div",{className:"relative z-10 min-h-screen flex flex-col justify-center px-4 sm:px-6",children:h.jsxs("div",{className:"mx-auto w-full max-w-sm",children:[h.jsxs(ce.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},onClick:E,className:"flex items-center gap-2 text-white/70 hover:text-white transition-colors mb-8 cursor-pointer",children:[h.jsx(Bh,{size:20}),h.jsx("span",{className:"text-sm",children:"Back to Sign In"})]}),h.jsx(ce.img,{src:"/icon.png",alt:"logo",className:"w-20 h-20 sm:w-24 sm:h-24 mx-auto mb-6",initial:{y:-10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,ease:"backOut"}}),d&&h.jsx(ce.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-500/20 text-red-400 text-sm sm:text-base rounded-md px-3 py-2 mb-6",role:"alert",children:d}),o?h.jsx(ce.div,{...JN,children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-6",children:h.jsx(kp,{className:"w-8 h-8 text-primary"})}),h.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold mb-4 text-white",children:"Check Your Email"}),h.jsxs("p",{className:"text-sm sm:text-base mb-6 text-white/70",children:["We've sent a password reset link to"," ",h.jsx("span",{className:"text-primary font-semibold",children:e})]}),h.jsx("div",{className:"bg-neutral-900/50 rounded-lg p-4 mb-6",children:h.jsx("p",{className:"text-xs text-white/50 leading-relaxed",children:"Click the link in your email to reset your password. If you don't see it, check your spam folder."})}),h.jsx(ce.button,{whileTap:{scale:.97},onClick:E,className:"w-full rounded-md py-3 bg-neutral-800 text-white hover:bg-neutral-700 transition-colors cursor-pointer",children:"Back to Sign In"}),h.jsx("div",{className:"mt-4",children:h.jsx("button",{onClick:()=>{l(!1),n(""),c(null)},className:"text-sm text-primary hover:text-primary/80 transition-colors cursor-pointer",children:"Send to a different email"})})]})}):h.jsxs(ce.div,{...JN,children:[h.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold mb-2 text-white text-center",children:"Reset Password"}),h.jsx("p",{className:"text-sm sm:text-base mb-8 text-white/70 text-center",children:"Enter your email address and we'll send you a link to reset your password."}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm sm:text-base text-left mb-2 text-white/80",children:"Email Address"}),h.jsxs("div",{className:"relative",children:[h.jsx(Cj,{className:"absolute left-3 top-1/2 -translate-y-1/2 opacity-50",size:18}),h.jsx("input",{type:"email",value:e,onChange:R=>{n(R.target.value),c(null)},className:`pl-10 ${$Z}`,placeholder:"you@example.com",disabled:r})]})]}),h.jsx(ce.button,{whileTap:{scale:.97},onClick:x,className:HZ,disabled:!eR(e)||r,children:r?"Sending...":"Send Reset Link"})]}),h.jsx("div",{className:"mt-6 text-center",children:h.jsxs("p",{className:"text-xs text-white/50",children:["Remember your password?"," ",h.jsx("button",{onClick:E,className:"text-primary hover:text-primary/80 transition-colors cursor-pointer",children:"Sign in"})]})})]})]})})]})})}const WZ="bg-primary text-primary-foreground hover:bg-primary/80 cursor-pointer transition-all duration-200 active:scale-95 uppercase tracking-widest font-bold disabled:opacity-40 disabled:cursor-not-allowed py-3 sm:py-2 text-base sm:text-sm w-full rounded-md",tR="rounded-md bg-muted px-3 py-3 sm:py-2 text-base sm:text-base outline-none focus:ring-2 ring-primary/80 transition-all duration-200 w-full",Lm={initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}};function KZ(){const t=Jn(),[e]=Ow(),[n,r]=A.useState(!0),[i,o]=A.useState(null),[l,d]=A.useState(!1),[c,m]=A.useState(null),[p,y]=A.useState(""),[x,E]=A.useState(""),[R,P]=A.useState(null),[V,O]=Hg(),[B]=A.useState(()=>{const C=Math.random()>.5?"left":"right",I=200;return{start:{x:C==="left"?-I-Math.random()*200:V+I+Math.random()*200,y:-I},end:{x:C==="left"?V+I+Math.random()*200:-I-Math.random()*200,y:O+I}}});A.useEffect(()=>{(async()=>{const I=e.get("mode"),N=e.get("oobCode");if(!I||!N){o("Invalid action link. Please try requesting a new one."),r(!1);return}m(I);try{const T=await D3(Oi,N);switch(P(T.data.email||null),I){case"resetPassword":r(!1);break;case"verifyEmail":await NE(Oi,N),d(!0),r(!1);break;case"recoverEmail":await NE(Oi,N),d(!0),r(!1);break;default:o("Unknown action type."),r(!1)}}catch(T){console.error("Auth action error:",T),T.code==="auth/invalid-action-code"?o("This link has expired or is invalid. Please request a new one."):T.code==="auth/expired-action-code"?o("This link has expired. Please request a new one."):o("An error occurred. Please try again."),r(!1)}})()},[e]);const F=async()=>{if(p!==x){o("Passwords do not match.");return}if(p.length<8){o("Password must be at least 8 characters long.");return}r(!0),o(null);try{const C=e.get("oobCode");if(!C){o("Invalid reset code.");return}await O3(Oi,C,p),d(!0)}catch(C){console.error("Password reset error:",C),C.code==="auth/weak-password"?o("Password is too weak. Please choose a stronger password."):o("Failed to reset password. Please try again.")}finally{r(!1)}},Y=()=>{t("/")},M=()=>{switch(c){case"resetPassword":return"Reset Password";case"verifyEmail":return"Verify Email";case"recoverEmail":return"Recover Email";default:return"Account Action"}},j=()=>{switch(c){case"resetPassword":return"Enter your new password below.";case"verifyEmail":return"Your email has been verified successfully!";case"recoverEmail":return"Your email has been recovered successfully!";default:return""}};return h.jsx(h.Fragment,{children:h.jsxs(yr,{className:"relative h-screen overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:h.jsx(Nl,{start:B.start,end:B.end,speed:12,className:"absolute bottom-0 left-0 opacity-25 w-full h-screen",imgHeightTW:"h-32 sm:h-40 md:h-44",imgWidthTW:"w-44 sm:w-52 md:w-56"})}),h.jsx("div",{className:"relative z-10 min-h-screen flex flex-col justify-center px-4 sm:px-6",children:h.jsxs("div",{className:"mx-auto w-full max-w-sm",children:[h.jsxs(ce.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},onClick:Y,className:"flex items-center gap-2 text-white/70 hover:text-white transition-colors mb-8 cursor-pointer",children:[h.jsx(Bh,{size:20}),h.jsx("span",{className:"text-sm",children:"Back to Sign In"})]}),h.jsx(ce.img,{src:"/icon.png",alt:"logo",className:"w-20 h-20 sm:w-24 sm:h-24 mx-auto mb-6",initial:{y:-10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,ease:"backOut"}}),n?h.jsxs(ce.div,{...Lm,className:"text-center",children:[h.jsx("div",{className:"flex justify-center mb-4",children:h.jsx(Ej,{className:"w-8 h-8 text-primary animate-spin"})}),h.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold mb-2 text-white",children:"Processing..."}),h.jsx("p",{className:"text-sm sm:text-base text-white/70",children:"Please wait while we process your request."})]}):i?h.jsxs(ce.div,{...Lm,className:"text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:h.jsx($z,{className:"w-8 h-8 text-red-500"})}),h.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold mb-4 text-white",children:"Error"}),h.jsx("p",{className:"text-sm sm:text-base mb-6 text-white/70",children:i}),h.jsx(ce.button,{whileTap:{scale:.97},onClick:Y,className:"w-full rounded-md py-3 bg-neutral-800 text-white hover:bg-neutral-700 transition-colors cursor-pointer",children:"Back to Sign In"})]}):l?h.jsxs(ce.div,{...Lm,className:"text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-6",children:h.jsx(kp,{className:"w-8 h-8 text-primary"})}),h.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold mb-4 text-white",children:"Success!"}),h.jsx("p",{className:"text-sm sm:text-base mb-6 text-white/70",children:j()}),h.jsx(ce.button,{whileTap:{scale:.97},onClick:Y,className:"w-full rounded-md py-3 bg-primary text-white hover:bg-primary/80 transition-colors cursor-pointer",children:"Continue to Sign In"})]}):c==="resetPassword"?h.jsxs(ce.div,{...Lm,children:[h.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold mb-2 text-white text-center",children:M()}),h.jsx("p",{className:"text-sm sm:text-base mb-6 text-white/70 text-center",children:j()}),R&&h.jsx("div",{className:"bg-neutral-900/50 rounded-lg p-4 mb-6",children:h.jsxs("p",{className:"text-xs text-white/50",children:["Resetting password for:"," ",h.jsx("span",{className:"text-primary font-semibold",children:R})]})}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm sm:text-base text-left mb-2 text-white/80",children:"New Password"}),h.jsx("input",{type:"password",value:p,onChange:C=>{y(C.target.value),o(null)},className:tR,placeholder:""})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm sm:text-base text-left mb-2 text-white/80",children:"Confirm Password"}),h.jsx("input",{type:"password",value:x,onChange:C=>{E(C.target.value),o(null)},className:tR,placeholder:""})]}),h.jsx(ce.button,{whileTap:{scale:.97},onClick:F,className:WZ,disabled:!p||!x||n,children:n?"Resetting...":"Reset Password"})]})]}):null]})})]})})}function YZ(){const t=Jn();return h.jsx(yr,{className:"min-h-screen bg-neutral-950",children:h.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen px-4",children:h.jsxs(ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center max-w-md",children:[h.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-2xl",children:h.jsx(Rj,{size:48,className:"text-white"})}),h.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Oops! Something went wrong"}),h.jsx("p",{className:"text-lg text-neutral-400 mb-8 leading-relaxed",children:"We encountered an unexpected error. Don't worry, it's not your fault!"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs(ce.button,{onClick:()=>t("/"),className:"w-full bg-gradient-to-r from-primary to-primary/80 text-white px-8 py-4 rounded-xl hover:from-primary/90 hover:to-primary/70 transition-all duration-200 flex items-center justify-center gap-3 font-semibold shadow-lg cursor-pointer",whileHover:{scale:1.02},whileTap:{scale:.98},children:[h.jsx(Uw,{size:20}),"Return to Home"]}),h.jsx(ce.button,{onClick:()=>window.location.reload(),className:"w-full bg-neutral-800 text-white px-8 py-4 rounded-xl hover:bg-neutral-700 transition-all duration-200 font-semibold cursor-pointer",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Try Again"})]}),h.jsx("div",{className:"mt-12 text-sm text-neutral-500",children:h.jsx("p",{children:"If the problem persists, please contact support."})})]})})})}const XZ=fz([{path:"/",Component:aW,children:[{index:!0,Component:cQ},{path:"about",Component:dQ},{path:"terms-of-service",Component:hQ},{path:"privacy-policy",Component:fQ},{path:"dashboard",Component:rZ},{path:"search",Component:dZ},{path:"add",Component:yZ},{path:"trade",Component:IZ},{path:"trades/:tradeId",Component:MZ},{path:"messages",Component:YN},{path:"messages/:userId",Component:YN},{path:"cart",Component:FZ},{path:"user/:username?",Component:UZ},{path:"reset-password",Component:GZ},{path:"auth/action",Component:KZ}],errorElement:h.jsx(YZ,{})}]);X4.createRoot(document.getElementById("root")).render(h.jsx(A.StrictMode,{children:h.jsx(g8,{children:h.jsx(eW,{children:h.jsx(V7,{router:XZ})})})}));
