function vj(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var am=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $p(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function yj(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var My={exports:{}},id={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jT;function bj(){if(jT)return id;jT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var l=null;if(o!==void 0&&(l=""+o),i.key!==void 0&&(l=""+i.key),"key"in i){o={};for(var c in i)c!=="key"&&(o[c]=i[c])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:l,ref:i!==void 0?i:null,props:o}}return id.Fragment=e,id.jsx=n,id.jsxs=n,id}var kT;function wj(){return kT||(kT=1,My.exports=bj()),My.exports}var g=wj(),Py={exports:{}},ht={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LT;function xj(){if(LT)return ht;LT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.iterator;function w(x){return x===null||typeof x!="object"?null:(x=y&&x[y]||x["@@iterator"],typeof x=="function"?x:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,P={};function V(x,U,X){this.props=x,this.context=U,this.refs=P,this.updater=X||E}V.prototype.isReactComponent={},V.prototype.setState=function(x,U){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,U,"setState")},V.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function z(){}z.prototype=V.prototype;function F(x,U,X){this.props=x,this.context=U,this.refs=P,this.updater=X||E}var $=F.prototype=new z;$.constructor=F,N($,V.prototype),$.isPureReactComponent=!0;var Q=Array.isArray,O={H:null,A:null,T:null,S:null,V:null},M=Object.prototype.hasOwnProperty;function C(x,U,X,Y,ne,se){return X=se.ref,{$$typeof:t,type:x,key:U,ref:X!==void 0?X:null,props:se}}function I(x,U){return C(x.type,U,void 0,void 0,void 0,x.props)}function A(x){return typeof x=="object"&&x!==null&&x.$$typeof===t}function S(x){var U={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(X){return U[X]})}var k=/\/+/g;function H(x,U){return typeof x=="object"&&x!==null&&x.key!=null?S(""+x.key):U.toString(36)}function j(){}function K(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(j,j):(x.status="pending",x.then(function(U){x.status==="pending"&&(x.status="fulfilled",x.value=U)},function(U){x.status==="pending"&&(x.status="rejected",x.reason=U)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function Z(x,U,X,Y,ne){var se=typeof x;(se==="undefined"||se==="boolean")&&(x=null);var le=!1;if(x===null)le=!0;else switch(se){case"bigint":case"string":case"number":le=!0;break;case"object":switch(x.$$typeof){case t:case e:le=!0;break;case p:return le=x._init,Z(le(x._payload),U,X,Y,ne)}}if(le)return ne=ne(x),le=Y===""?"."+H(x,0):Y,Q(ne)?(X="",le!=null&&(X=le.replace(k,"$&/")+"/"),Z(ne,U,X,"",function(Pe){return Pe})):ne!=null&&(A(ne)&&(ne=I(ne,X+(ne.key==null||x&&x.key===ne.key?"":(""+ne.key).replace(k,"$&/")+"/")+le)),U.push(ne)),1;le=0;var ge=Y===""?".":Y+":";if(Q(x))for(var Ee=0;Ee<x.length;Ee++)Y=x[Ee],se=ge+H(Y,Ee),le+=Z(Y,U,X,se,ne);else if(Ee=w(x),typeof Ee=="function")for(x=Ee.call(x),Ee=0;!(Y=x.next()).done;)Y=Y.value,se=ge+H(Y,Ee++),le+=Z(Y,U,X,se,ne);else if(se==="object"){if(typeof x.then=="function")return Z(K(x),U,X,Y,ne);throw U=String(x),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return le}function B(x,U,X){if(x==null)return x;var Y=[],ne=0;return Z(x,Y,"","",function(se){return U.call(X,se,ne++)}),Y}function T(x){if(x._status===-1){var U=x._result;U=U(),U.then(function(X){(x._status===0||x._status===-1)&&(x._status=1,x._result=X)},function(X){(x._status===0||x._status===-1)&&(x._status=2,x._result=X)}),x._status===-1&&(x._status=0,x._result=U)}if(x._status===1)return x._result.default;throw x._result}var J=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function W(){}return ht.Children={map:B,forEach:function(x,U,X){B(x,function(){U.apply(this,arguments)},X)},count:function(x){var U=0;return B(x,function(){U++}),U},toArray:function(x){return B(x,function(U){return U})||[]},only:function(x){if(!A(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},ht.Component=V,ht.Fragment=n,ht.Profiler=i,ht.PureComponent=F,ht.StrictMode=r,ht.Suspense=d,ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,ht.__COMPILER_RUNTIME={__proto__:null,c:function(x){return O.H.useMemoCache(x)}},ht.cache=function(x){return function(){return x.apply(null,arguments)}},ht.cloneElement=function(x,U,X){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var Y=N({},x.props),ne=x.key,se=void 0;if(U!=null)for(le in U.ref!==void 0&&(se=void 0),U.key!==void 0&&(ne=""+U.key),U)!M.call(U,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&U.ref===void 0||(Y[le]=U[le]);var le=arguments.length-2;if(le===1)Y.children=X;else if(1<le){for(var ge=Array(le),Ee=0;Ee<le;Ee++)ge[Ee]=arguments[Ee+2];Y.children=ge}return C(x.type,ne,void 0,void 0,se,Y)},ht.createContext=function(x){return x={$$typeof:l,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:o,_context:x},x},ht.createElement=function(x,U,X){var Y,ne={},se=null;if(U!=null)for(Y in U.key!==void 0&&(se=""+U.key),U)M.call(U,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(ne[Y]=U[Y]);var le=arguments.length-2;if(le===1)ne.children=X;else if(1<le){for(var ge=Array(le),Ee=0;Ee<le;Ee++)ge[Ee]=arguments[Ee+2];ne.children=ge}if(x&&x.defaultProps)for(Y in le=x.defaultProps,le)ne[Y]===void 0&&(ne[Y]=le[Y]);return C(x,se,void 0,void 0,null,ne)},ht.createRef=function(){return{current:null}},ht.forwardRef=function(x){return{$$typeof:c,render:x}},ht.isValidElement=A,ht.lazy=function(x){return{$$typeof:p,_payload:{_status:-1,_result:x},_init:T}},ht.memo=function(x,U){return{$$typeof:h,type:x,compare:U===void 0?null:U}},ht.startTransition=function(x){var U=O.T,X={};O.T=X;try{var Y=x(),ne=O.S;ne!==null&&ne(X,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(W,J)}catch(se){J(se)}finally{O.T=U}},ht.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},ht.use=function(x){return O.H.use(x)},ht.useActionState=function(x,U,X){return O.H.useActionState(x,U,X)},ht.useCallback=function(x,U){return O.H.useCallback(x,U)},ht.useContext=function(x){return O.H.useContext(x)},ht.useDebugValue=function(){},ht.useDeferredValue=function(x,U){return O.H.useDeferredValue(x,U)},ht.useEffect=function(x,U,X){var Y=O.H;if(typeof X=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Y.useEffect(x,U)},ht.useId=function(){return O.H.useId()},ht.useImperativeHandle=function(x,U,X){return O.H.useImperativeHandle(x,U,X)},ht.useInsertionEffect=function(x,U){return O.H.useInsertionEffect(x,U)},ht.useLayoutEffect=function(x,U){return O.H.useLayoutEffect(x,U)},ht.useMemo=function(x,U){return O.H.useMemo(x,U)},ht.useOptimistic=function(x,U){return O.H.useOptimistic(x,U)},ht.useReducer=function(x,U,X){return O.H.useReducer(x,U,X)},ht.useRef=function(x){return O.H.useRef(x)},ht.useState=function(x){return O.H.useState(x)},ht.useSyncExternalStore=function(x,U,X){return O.H.useSyncExternalStore(x,U,X)},ht.useTransition=function(){return O.H.useTransition()},ht.version="19.1.0",ht}var VT;function Ss(){return VT||(VT=1,Py.exports=xj()),Py.exports}var R=Ss();const xd=$p(R),UT=vj({__proto__:null,default:xd},[R]);var Dy={exports:{}},sd={},jy={exports:{}},ky={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zT;function _j(){return zT||(zT=1,function(t){function e(B,T){var J=B.length;B.push(T);e:for(;0<J;){var W=J-1>>>1,x=B[W];if(0<i(x,T))B[W]=T,B[J]=x,J=W;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var T=B[0],J=B.pop();if(J!==T){B[0]=J;e:for(var W=0,x=B.length,U=x>>>1;W<U;){var X=2*(W+1)-1,Y=B[X],ne=X+1,se=B[ne];if(0>i(Y,J))ne<x&&0>i(se,Y)?(B[W]=se,B[ne]=J,W=ne):(B[W]=Y,B[X]=J,W=X);else if(ne<x&&0>i(se,J))B[W]=se,B[ne]=J,W=ne;else break e}}return T}function i(B,T){var J=B.sortIndex-T.sortIndex;return J!==0?J:B.id-T.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],h=[],p=1,y=null,w=3,E=!1,N=!1,P=!1,V=!1,z=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function Q(B){for(var T=n(h);T!==null;){if(T.callback===null)r(h);else if(T.startTime<=B)r(h),T.sortIndex=T.expirationTime,e(d,T);else break;T=n(h)}}function O(B){if(P=!1,Q(B),!N)if(n(d)!==null)N=!0,M||(M=!0,H());else{var T=n(h);T!==null&&Z(O,T.startTime-B)}}var M=!1,C=-1,I=5,A=-1;function S(){return V?!0:!(t.unstable_now()-A<I)}function k(){if(V=!1,M){var B=t.unstable_now();A=B;var T=!0;try{e:{N=!1,P&&(P=!1,F(C),C=-1),E=!0;var J=w;try{t:{for(Q(B),y=n(d);y!==null&&!(y.expirationTime>B&&S());){var W=y.callback;if(typeof W=="function"){y.callback=null,w=y.priorityLevel;var x=W(y.expirationTime<=B);if(B=t.unstable_now(),typeof x=="function"){y.callback=x,Q(B),T=!0;break t}y===n(d)&&r(d),Q(B)}else r(d);y=n(d)}if(y!==null)T=!0;else{var U=n(h);U!==null&&Z(O,U.startTime-B),T=!1}}break e}finally{y=null,w=J,E=!1}T=void 0}}finally{T?H():M=!1}}}var H;if(typeof $=="function")H=function(){$(k)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,K=j.port2;j.port1.onmessage=k,H=function(){K.postMessage(null)}}else H=function(){z(k,0)};function Z(B,T){C=z(function(){B(t.unstable_now())},T)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(B){switch(w){case 1:case 2:case 3:var T=3;break;default:T=w}var J=w;w=T;try{return B()}finally{w=J}},t.unstable_requestPaint=function(){V=!0},t.unstable_runWithPriority=function(B,T){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var J=w;w=B;try{return T()}finally{w=J}},t.unstable_scheduleCallback=function(B,T,J){var W=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?W+J:W):J=W,B){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=J+x,B={id:p++,callback:T,priorityLevel:B,startTime:J,expirationTime:x,sortIndex:-1},J>W?(B.sortIndex=J,e(h,B),n(d)===null&&B===n(h)&&(P?(F(C),C=-1):P=!0,Z(O,J-W))):(B.sortIndex=x,e(d,B),N||E||(N=!0,M||(M=!0,H()))),B},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(B){var T=w;return function(){var J=w;w=T;try{return B.apply(this,arguments)}finally{w=J}}}}(ky)),ky}var BT;function Sj(){return BT||(BT=1,jy.exports=_j()),jy.exports}var Ly={exports:{}},dr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FT;function Tj(){if(FT)return dr;FT=1;var t=Ss();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(d,h,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:y==null?null:""+y,children:d,containerInfo:h,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return dr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,dr.createPortal=function(d,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(d,h,null,p)},dr.flushSync=function(d){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=h,r.p=p,r.d.f()}},dr.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},dr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},dr.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var p=h.as,y=c(p,h.crossOrigin),w=typeof h.integrity=="string"?h.integrity:void 0,E=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:w,fetchPriority:E}):p==="script"&&r.d.X(d,{crossOrigin:y,integrity:w,fetchPriority:E,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},dr.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=c(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},dr.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,y=c(p,h.crossOrigin);r.d.L(d,p,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},dr.preloadModule=function(d,h){if(typeof d=="string")if(h){var p=c(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},dr.requestFormReset=function(d){r.d.r(d)},dr.unstable_batchedUpdates=function(d,h){return d(h)},dr.useFormState=function(d,h,p){return l.H.useFormState(d,h,p)},dr.useFormStatus=function(){return l.H.useHostTransitionStatus()},dr.version="19.1.0",dr}var HT;function UR(){if(HT)return Ly.exports;HT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ly.exports=Tj(),Ly.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $T;function Ej(){if($T)return sd;$T=1;var t=Sj(),e=Ss(),n=UR();function r(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function l(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function c(s){if(o(s)!==s)throw Error(r(188))}function d(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(r(188));return a!==s?null:s}for(var u=s,f=a;;){var v=u.return;if(v===null)break;var b=v.alternate;if(b===null){if(f=v.return,f!==null){u=f;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===u)return c(v),s;if(b===f)return c(v),a;b=b.sibling}throw Error(r(188))}if(u.return!==f.return)u=v,f=b;else{for(var L=!1,q=v.child;q;){if(q===u){L=!0,u=v,f=b;break}if(q===f){L=!0,f=v,u=b;break}q=q.sibling}if(!L){for(q=b.child;q;){if(q===u){L=!0,u=b,f=v;break}if(q===f){L=!0,f=b,u=v;break}q=q.sibling}if(!L)throw Error(r(189))}}if(u.alternate!==f)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?s:a}function h(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=h(s),a!==null)return a;s=s.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),$=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),S=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function H(s){return s===null||typeof s!="object"?null:(s=k&&s[k]||s["@@iterator"],typeof s=="function"?s:null)}var j=Symbol.for("react.client.reference");function K(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===j?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case N:return"Fragment";case V:return"Profiler";case P:return"StrictMode";case O:return"Suspense";case M:return"SuspenseList";case A:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case $:return(s.displayName||"Context")+".Provider";case F:return(s._context.displayName||"Context")+".Consumer";case Q:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case C:return a=s.displayName||null,a!==null?a:K(s.type)||"Memo";case I:a=s._payload,s=s._init;try{return K(s(a))}catch{}}return null}var Z=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},W=[],x=-1;function U(s){return{current:s}}function X(s){0>x||(s.current=W[x],W[x]=null,x--)}function Y(s,a){x++,W[x]=s.current,s.current=a}var ne=U(null),se=U(null),le=U(null),ge=U(null);function Ee(s,a){switch(Y(le,a),Y(se,s),Y(ne,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?uT(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=uT(a),s=cT(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}X(ne),Y(ne,s)}function Pe(){X(ne),X(se),X(le)}function Ne(s){s.memoizedState!==null&&Y(ge,s);var a=ne.current,u=cT(a,s.type);a!==u&&(Y(se,s),Y(ne,u))}function ze(s){se.current===s&&(X(ne),X(se)),ge.current===s&&(X(ge),Jc._currentValue=J)}var We=Object.prototype.hasOwnProperty,Xe=t.unstable_scheduleCallback,me=t.unstable_cancelCallback,Ce=t.unstable_shouldYield,$e=t.unstable_requestPaint,Ie=t.unstable_now,Ze=t.unstable_getCurrentPriorityLevel,mt=t.unstable_ImmediatePriority,ot=t.unstable_UserBlockingPriority,Rt=t.unstable_NormalPriority,dt=t.unstable_LowPriority,mn=t.unstable_IdlePriority,or=t.log,Cn=t.unstable_setDisableYieldValue,pt=null,qe=null;function nn(s){if(typeof or=="function"&&Cn(s),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(pt,s)}catch{}}var en=Math.clz32?Math.clz32:sn,Ui=Math.log,lr=Math.LN2;function sn(s){return s>>>=0,s===0?32:31-(Ui(s)/lr|0)|0}var zi=256,Bi=4194304;function kr(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Cs(s,a,u){var f=s.pendingLanes;if(f===0)return 0;var v=0,b=s.suspendedLanes,L=s.pingedLanes;s=s.warmLanes;var q=f&134217727;return q!==0?(f=q&~b,f!==0?v=kr(f):(L&=q,L!==0?v=kr(L):u||(u=q&~s,u!==0&&(v=kr(u))))):(q=f&~b,q!==0?v=kr(q):L!==0?v=kr(L):u||(u=f&~s,u!==0&&(v=kr(u)))),v===0?0:a!==0&&a!==v&&(a&b)===0&&(b=v&-v,u=a&-a,b>=u||b===32&&(u&4194048)!==0)?a:v}function ei(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function ma(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rs(){var s=zi;return zi<<=1,(zi&4194048)===0&&(zi=256),s}function vo(){var s=Bi;return Bi<<=1,(Bi&62914560)===0&&(Bi=4194304),s}function ti(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function Ti(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function pa(s,a,u,f,v,b){var L=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var q=s.entanglements,ee=s.expirationTimes,de=s.hiddenUpdates;for(u=L&~u;0<u;){var ye=31-en(u),xe=1<<ye;q[ye]=0,ee[ye]=-1;var fe=de[ye];if(fe!==null)for(de[ye]=null,ye=0;ye<fe.length;ye++){var he=fe[ye];he!==null&&(he.lane&=-536870913)}u&=~xe}f!==0&&vr(s,f,0),b!==0&&v===0&&s.tag!==0&&(s.suspendedLanes|=b&~(L&~a))}function vr(s,a,u){s.pendingLanes|=a,s.suspendedLanes&=~a;var f=31-en(a);s.entangledLanes|=a,s.entanglements[f]=s.entanglements[f]|1073741824|u&4194090}function Fi(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var f=31-en(u),v=1<<f;v&a|s[f]&a&&(s[f]|=a),u&=~v}}function Hi(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ga(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function te(){var s=T.p;return s!==0?s:(s=window.event,s===void 0?32:NT(s.type))}function ae(s,a){var u=T.p;try{return T.p=s,a()}finally{T.p=u}}var ce=Math.random().toString(36).slice(2),_e="__reactFiber$"+ce,Te="__reactProps$"+ce,De="__reactContainer$"+ce,Ge="__reactEvents$"+ce,je="__reactListeners$"+ce,Ve="__reactHandles$"+ce,Le="__reactResources$"+ce,Je="__reactMarker$"+ce;function Ke(s){delete s[_e],delete s[Te],delete s[Ge],delete s[je],delete s[Ve]}function it(s){var a=s[_e];if(a)return a;for(var u=s.parentNode;u;){if(a=u[De]||u[_e]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=mT(s);s!==null;){if(u=s[_e])return u;s=mT(s)}return a}s=u,u=s.parentNode}return null}function wt(s){if(s=s[_e]||s[De]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function Ut(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(r(33))}function Pt(s){var a=s[Le];return a||(a=s[Le]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Ct(s){s[Je]=!0}var yt=new Set,ni={};function Ln(s,a){yr(s,a),yr(s+"Capture",a)}function yr(s,a){for(ni[s]=a,s=0;s<a.length;s++)yt.add(a[s])}var Jn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$i={},Lr={};function va(s){return We.call(Lr,s)?!0:We.call($i,s)?!1:Jn.test(s)?Lr[s]=!0:($i[s]=!0,!1)}function ur(s,a,u){if(va(a))if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var f=a.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+u)}}function br(s,a,u){if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+u)}}function lt(s,a,u,f){if(f===null)s.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(a,u,""+f)}}var Rn,Vr;function Er(s){if(Rn===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);Rn=a&&a[1]||"",Vr=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rn+s+Vr}var qi=!1;function Yt(s,a){if(!s||qi)return"";qi=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(a){var xe=function(){throw Error()};if(Object.defineProperty(xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xe,[])}catch(he){var fe=he}Reflect.construct(s,[],xe)}else{try{xe.call()}catch(he){fe=he}s.call(xe.prototype)}}else{try{throw Error()}catch(he){fe=he}(xe=s())&&typeof xe.catch=="function"&&xe.catch(function(){})}}catch(he){if(he&&fe&&typeof he.stack=="string")return[he.stack,fe.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=f.DetermineComponentFrameRoot(),L=b[0],q=b[1];if(L&&q){var ee=L.split(`
`),de=q.split(`
`);for(v=f=0;f<ee.length&&!ee[f].includes("DetermineComponentFrameRoot");)f++;for(;v<de.length&&!de[v].includes("DetermineComponentFrameRoot");)v++;if(f===ee.length||v===de.length)for(f=ee.length-1,v=de.length-1;1<=f&&0<=v&&ee[f]!==de[v];)v--;for(;1<=f&&0<=v;f--,v--)if(ee[f]!==de[v]){if(f!==1||v!==1)do if(f--,v--,0>v||ee[f]!==de[v]){var ye=`
`+ee[f].replace(" at new "," at ");return s.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",s.displayName)),ye}while(1<=f&&0<=v);break}}}finally{qi=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?Er(u):""}function ri(s){switch(s.tag){case 26:case 27:case 5:return Er(s.type);case 16:return Er("Lazy");case 13:return Er("Suspense");case 19:return Er("SuspenseList");case 0:case 15:return Yt(s.type,!1);case 11:return Yt(s.type.render,!1);case 1:return Yt(s.type,!0);case 31:return Er("Activity");default:return""}}function Ns(s){try{var a="";do a+=ri(s),s=s.return;while(s);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function er(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function oc(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function kg(s){var a=oc(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),f=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,b=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return v.call(this)},set:function(L){f=""+L,b.call(this,L)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(L){f=""+L},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function _l(s){s._valueTracker||(s._valueTracker=kg(s))}function lc(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),f="";return s&&(f=oc(s)?s.checked?"true":"false":s.value),s=f,s!==u?(a.setValue(s),!0):!1}function yo(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Lg=/[\n"\\]/g;function Nn(s){return s.replace(Lg,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Ur(s,a,u,f,v,b,L,q){s.name="",L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?s.type=L:s.removeAttribute("type"),a!=null?L==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+er(a)):s.value!==""+er(a)&&(s.value=""+er(a)):L!=="submit"&&L!=="reset"||s.removeAttribute("value"),a!=null?ya(s,L,er(a)):u!=null?ya(s,L,er(u)):f!=null&&s.removeAttribute("value"),v==null&&b!=null&&(s.defaultChecked=!!b),v!=null&&(s.checked=v&&typeof v!="function"&&typeof v!="symbol"),q!=null&&typeof q!="function"&&typeof q!="symbol"&&typeof q!="boolean"?s.name=""+er(q):s.removeAttribute("name")}function bo(s,a,u,f,v,b,L,q){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.type=b),a!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||a!=null))return;u=u!=null?""+er(u):"",a=a!=null?""+er(a):u,q||a===s.value||(s.value=a),s.defaultValue=a}f=f??v,f=typeof f!="function"&&typeof f!="symbol"&&!!f,s.checked=q?s.checked:!!f,s.defaultChecked=!!f,L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"&&(s.name=L)}function ya(s,a,u){a==="number"&&yo(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function Is(s,a,u,f){if(s=s.options,a){a={};for(var v=0;v<u.length;v++)a["$"+u[v]]=!0;for(u=0;u<s.length;u++)v=a.hasOwnProperty("$"+s[u].value),s[u].selected!==v&&(s[u].selected=v),v&&f&&(s[u].defaultSelected=!0)}else{for(u=""+er(u),a=null,v=0;v<s.length;v++){if(s[v].value===u){s[v].selected=!0,f&&(s[v].defaultSelected=!0);return}a!==null||s[v].disabled||(a=s[v])}a!==null&&(a.selected=!0)}}function qt(s,a,u){if(a!=null&&(a=""+er(a),a!==s.value&&(s.value=a),u==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=u!=null?""+er(u):""}function wo(s,a,u,f){if(a==null){if(f!=null){if(u!=null)throw Error(r(92));if(Z(f)){if(1<f.length)throw Error(r(93));f=f[0]}u=f}u==null&&(u=""),a=u}u=er(a),s.defaultValue=u,f=s.textContent,f===u&&f!==""&&f!==null&&(s.value=f)}function ii(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var xo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qf(s,a,u){var f=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":f?s.setProperty(a,u):typeof u!="number"||u===0||xo.has(a)?a==="float"?s.cssFloat=u:s[a]=(""+u).trim():s[a]=u+"px"}function uc(s,a,u){if(a!=null&&typeof a!="object")throw Error(r(62));if(s=s.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||a!=null&&a.hasOwnProperty(f)||(f.indexOf("--")===0?s.setProperty(f,""):f==="float"?s.cssFloat="":s[f]="");for(var v in a)f=a[v],a.hasOwnProperty(v)&&u[v]!==f&&qf(s,v,f)}else for(var b in a)a.hasOwnProperty(b)&&qf(s,b,a[b])}function cc(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ug=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sl(s){return Ug.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Os=null;function si(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ms=null,Ps=null;function dc(s){var a=wt(s);if(a&&(s=a.stateNode)){var u=s[Te]||null;e:switch(s=a.stateNode,a.type){case"input":if(Ur(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Nn(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var f=u[a];if(f!==s&&f.form===s.form){var v=f[Te]||null;if(!v)throw Error(r(90));Ur(f,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(a=0;a<u.length;a++)f=u[a],f.form===s.form&&lc(f)}break e;case"textarea":qt(s,u.value,u.defaultValue);break e;case"select":a=u.value,a!=null&&Is(s,!!u.multiple,a,!1)}}}var Gi=!1;function Gf(s,a,u){if(Gi)return s(a,u);Gi=!0;try{var f=s(a);return f}finally{if(Gi=!1,(Ms!==null||Ps!==null)&&(Uh(),Ms&&(a=Ms,s=Ps,Ps=Ms=null,dc(a),s)))for(a=0;a<s.length;a++)dc(s[a])}}function _o(s,a){var u=s.stateNode;if(u===null)return null;var f=u[Te]||null;if(f===null)return null;u=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(r(231,a,typeof u));return u}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ai=!1;if(Ei)try{var So={};Object.defineProperty(So,"passive",{get:function(){ai=!0}}),window.addEventListener("test",So,So),window.removeEventListener("test",So,So)}catch{ai=!1}var Ki=null,ba=null,Ds=null;function fc(){if(Ds)return Ds;var s,a=ba,u=a.length,f,v="value"in Ki?Ki.value:Ki.textContent,b=v.length;for(s=0;s<u&&a[s]===v[s];s++);var L=u-s;for(f=1;f<=L&&a[u-f]===v[b-f];f++);return Ds=v.slice(s,1<f?1-f:void 0)}function Wi(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Yi(){return!0}function hc(){return!1}function Hn(s){function a(u,f,v,b,L){this._reactName=u,this._targetInst=v,this.type=f,this.nativeEvent=b,this.target=L,this.currentTarget=null;for(var q in s)s.hasOwnProperty(q)&&(u=s[q],this[q]=u?u(b):b[q]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Yi:hc,this.isPropagationStopped=hc,this}return p(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),a}var zt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tl=Hn(zt),To=p({},zt,{view:0,detail:0}),Kf=Hn(To),El,Al,Xi,Eo=p({},To,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ro,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Xi&&(Xi&&s.type==="mousemove"?(El=s.screenX-Xi.screenX,Al=s.screenY-Xi.screenY):Al=El=0,Xi=s),El)},movementY:function(s){return"movementY"in s?s.movementY:Al}}),oi=Hn(Eo),Wf=p({},Eo,{dataTransfer:0}),zg=Hn(Wf),Ao=p({},To,{relatedTarget:0}),Cl=Hn(Ao),mc=p({},zt,{animationName:0,elapsedTime:0,pseudoElement:0}),Rl=Hn(mc),Yf=p({},zt,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Nl=Hn(Yf),Bg=p({},zt,{data:0}),pc=Hn(Bg),Co={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gc(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Qf[s])?!!a[s]:!1}function Ro(){return gc}var Zf=p({},To,{key:function(s){if(s.key){var a=Co[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Wi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Xf[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ro,charCode:function(s){return s.type==="keypress"?Wi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Wi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Il=Hn(Zf),Jf=p({},Eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vc=Hn(Jf),js=p({},To,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ro}),eh=Hn(js),th=p({},zt,{propertyName:0,elapsedTime:0,pseudoElement:0}),nh=Hn(th),rh=p({},Eo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ol=Hn(rh),wr=p({},zt,{newState:0,oldState:0}),ih=Hn(wr),sh=[9,13,27,32],Qi=Ei&&"CompositionEvent"in window,m=null;Ei&&"documentMode"in document&&(m=document.documentMode);var _=Ei&&"TextEvent"in window&&!m,D=Ei&&(!Qi||m&&8<m&&11>=m),G=" ",oe=!1;function pe(s,a){switch(s){case"keyup":return sh.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ae(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Nt=!1;function Vn(s,a){switch(s){case"compositionend":return Ae(a);case"keypress":return a.which!==32?null:(oe=!0,G);case"textInput":return s=a.data,s===G&&oe?null:s;default:return null}}function It(s,a){if(Nt)return s==="compositionend"||!Qi&&pe(s,a)?(s=fc(),Ds=ba=Ki=null,Nt=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return D&&a.locale!=="ko"?null:a.data;default:return null}}var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!$n[s.type]:a==="textarea"}function ks(s,a,u,f){Ms?Ps?Ps.push(f):Ps=[f]:Ms=f,a=qh(a,"onChange"),0<a.length&&(u=new Tl("onChange","change",null,u,f),s.push({event:u,listeners:a}))}var tr=null,Zi=null;function yc(s){iT(s,0)}function ah(s){var a=Ut(s);if(lc(a))return s}function E_(s,a){if(s==="change")return a}var A_=!1;if(Ei){var Fg;if(Ei){var Hg="oninput"in document;if(!Hg){var C_=document.createElement("div");C_.setAttribute("oninput","return;"),Hg=typeof C_.oninput=="function"}Fg=Hg}else Fg=!1;A_=Fg&&(!document.documentMode||9<document.documentMode)}function R_(){tr&&(tr.detachEvent("onpropertychange",N_),Zi=tr=null)}function N_(s){if(s.propertyName==="value"&&ah(Zi)){var a=[];ks(a,Zi,s,si(s)),Gf(yc,a)}}function KD(s,a,u){s==="focusin"?(R_(),tr=a,Zi=u,tr.attachEvent("onpropertychange",N_)):s==="focusout"&&R_()}function WD(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ah(Zi)}function YD(s,a){if(s==="click")return ah(a)}function XD(s,a){if(s==="input"||s==="change")return ah(a)}function QD(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var zr=typeof Object.is=="function"?Object.is:QD;function bc(s,a){if(zr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),f=Object.keys(a);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var v=u[f];if(!We.call(a,v)||!zr(s[v],a[v]))return!1}return!0}function I_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function O_(s,a){var u=I_(s);s=0;for(var f;u;){if(u.nodeType===3){if(f=s+u.textContent.length,s<=a&&f>=a)return{node:u,offset:a-s};s=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=I_(u)}}function M_(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?M_(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function P_(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=yo(s.document);a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=yo(s.document)}return a}function $g(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var ZD=Ei&&"documentMode"in document&&11>=document.documentMode,Ml=null,qg=null,wc=null,Gg=!1;function D_(s,a,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Gg||Ml==null||Ml!==yo(f)||(f=Ml,"selectionStart"in f&&$g(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),wc&&bc(wc,f)||(wc=f,f=qh(qg,"onSelect"),0<f.length&&(a=new Tl("onSelect","select",null,a,u),s.push({event:a,listeners:f}),a.target=Ml)))}function No(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var Pl={animationend:No("Animation","AnimationEnd"),animationiteration:No("Animation","AnimationIteration"),animationstart:No("Animation","AnimationStart"),transitionrun:No("Transition","TransitionRun"),transitionstart:No("Transition","TransitionStart"),transitioncancel:No("Transition","TransitionCancel"),transitionend:No("Transition","TransitionEnd")},Kg={},j_={};Ei&&(j_=document.createElement("div").style,"AnimationEvent"in window||(delete Pl.animationend.animation,delete Pl.animationiteration.animation,delete Pl.animationstart.animation),"TransitionEvent"in window||delete Pl.transitionend.transition);function Io(s){if(Kg[s])return Kg[s];if(!Pl[s])return s;var a=Pl[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in j_)return Kg[s]=a[u];return s}var k_=Io("animationend"),L_=Io("animationiteration"),V_=Io("animationstart"),JD=Io("transitionrun"),e4=Io("transitionstart"),t4=Io("transitioncancel"),U_=Io("transitionend"),z_=new Map,Wg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wg.push("scrollEnd");function Ai(s,a){z_.set(s,a),Ln(a,[s])}var B_=new WeakMap;function li(s,a){if(typeof s=="object"&&s!==null){var u=B_.get(s);return u!==void 0?u:(a={value:s,source:a,stack:Ns(a)},B_.set(s,a),a)}return{value:s,source:a,stack:Ns(a)}}var ui=[],Dl=0,Yg=0;function oh(){for(var s=Dl,a=Yg=Dl=0;a<s;){var u=ui[a];ui[a++]=null;var f=ui[a];ui[a++]=null;var v=ui[a];ui[a++]=null;var b=ui[a];if(ui[a++]=null,f!==null&&v!==null){var L=f.pending;L===null?v.next=v:(v.next=L.next,L.next=v),f.pending=v}b!==0&&F_(u,v,b)}}function lh(s,a,u,f){ui[Dl++]=s,ui[Dl++]=a,ui[Dl++]=u,ui[Dl++]=f,Yg|=f,s.lanes|=f,s=s.alternate,s!==null&&(s.lanes|=f)}function Xg(s,a,u,f){return lh(s,a,u,f),uh(s)}function jl(s,a){return lh(s,null,null,a),uh(s)}function F_(s,a,u){s.lanes|=u;var f=s.alternate;f!==null&&(f.lanes|=u);for(var v=!1,b=s.return;b!==null;)b.childLanes|=u,f=b.alternate,f!==null&&(f.childLanes|=u),b.tag===22&&(s=b.stateNode,s===null||s._visibility&1||(v=!0)),s=b,b=b.return;return s.tag===3?(b=s.stateNode,v&&a!==null&&(v=31-en(u),s=b.hiddenUpdates,f=s[v],f===null?s[v]=[a]:f.push(a),a.lane=u|536870912),b):null}function uh(s){if(50<qc)throw qc=0,ny=null,Error(r(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var kl={};function n4(s,a,u,f){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(s,a,u,f){return new n4(s,a,u,f)}function Qg(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ls(s,a){var u=s.alternate;return u===null?(u=Br(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function H_(s,a){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,a=u.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function ch(s,a,u,f,v,b){var L=0;if(f=s,typeof s=="function")Qg(s)&&(L=1);else if(typeof s=="string")L=ij(s,u,ne.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case A:return s=Br(31,u,a,v),s.elementType=A,s.lanes=b,s;case N:return Oo(u.children,v,b,a);case P:L=8,v|=24;break;case V:return s=Br(12,u,a,v|2),s.elementType=V,s.lanes=b,s;case O:return s=Br(13,u,a,v),s.elementType=O,s.lanes=b,s;case M:return s=Br(19,u,a,v),s.elementType=M,s.lanes=b,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case z:case $:L=10;break e;case F:L=9;break e;case Q:L=11;break e;case C:L=14;break e;case I:L=16,f=null;break e}L=29,u=Error(r(130,s===null?"null":typeof s,"")),f=null}return a=Br(L,u,a,v),a.elementType=s,a.type=f,a.lanes=b,a}function Oo(s,a,u,f){return s=Br(7,s,f,a),s.lanes=u,s}function Zg(s,a,u){return s=Br(6,s,null,a),s.lanes=u,s}function Jg(s,a,u){return a=Br(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var Ll=[],Vl=0,dh=null,fh=0,ci=[],di=0,Mo=null,Vs=1,Us="";function Po(s,a){Ll[Vl++]=fh,Ll[Vl++]=dh,dh=s,fh=a}function $_(s,a,u){ci[di++]=Vs,ci[di++]=Us,ci[di++]=Mo,Mo=s;var f=Vs;s=Us;var v=32-en(f)-1;f&=~(1<<v),u+=1;var b=32-en(a)+v;if(30<b){var L=v-v%5;b=(f&(1<<L)-1).toString(32),f>>=L,v-=L,Vs=1<<32-en(a)+v|u<<v|f,Us=b+s}else Vs=1<<b|u<<v|f,Us=s}function ev(s){s.return!==null&&(Po(s,1),$_(s,1,0))}function tv(s){for(;s===dh;)dh=Ll[--Vl],Ll[Vl]=null,fh=Ll[--Vl],Ll[Vl]=null;for(;s===Mo;)Mo=ci[--di],ci[di]=null,Us=ci[--di],ci[di]=null,Vs=ci[--di],ci[di]=null}var xr=null,pn=null,jt=!1,Do=null,Ji=!1,nv=Error(r(519));function jo(s){var a=Error(r(418,""));throw Sc(li(a,s)),nv}function q_(s){var a=s.stateNode,u=s.type,f=s.memoizedProps;switch(a[_e]=s,a[Te]=f,u){case"dialog":_t("cancel",a),_t("close",a);break;case"iframe":case"object":case"embed":_t("load",a);break;case"video":case"audio":for(u=0;u<Kc.length;u++)_t(Kc[u],a);break;case"source":_t("error",a);break;case"img":case"image":case"link":_t("error",a),_t("load",a);break;case"details":_t("toggle",a);break;case"input":_t("invalid",a),bo(a,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),_l(a);break;case"select":_t("invalid",a);break;case"textarea":_t("invalid",a),wo(a,f.value,f.defaultValue,f.children),_l(a)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||f.suppressHydrationWarning===!0||lT(a.textContent,u)?(f.popover!=null&&(_t("beforetoggle",a),_t("toggle",a)),f.onScroll!=null&&_t("scroll",a),f.onScrollEnd!=null&&_t("scrollend",a),f.onClick!=null&&(a.onclick=Gh),a=!0):a=!1,a||jo(s)}function G_(s){for(xr=s.return;xr;)switch(xr.tag){case 5:case 13:Ji=!1;return;case 27:case 3:Ji=!0;return;default:xr=xr.return}}function xc(s){if(s!==xr)return!1;if(!jt)return G_(s),jt=!0,!1;var a=s.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||yy(s.type,s.memoizedProps)),u=!u),u&&pn&&jo(s),G_(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(u=s.data,u==="/$"){if(a===0){pn=Ri(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++;s=s.nextSibling}pn=null}}else a===27?(a=pn,ja(s.type)?(s=_y,_y=null,pn=s):pn=a):pn=xr?Ri(s.stateNode.nextSibling):null;return!0}function _c(){pn=xr=null,jt=!1}function K_(){var s=Do;return s!==null&&(Rr===null?Rr=s:Rr.push.apply(Rr,s),Do=null),s}function Sc(s){Do===null?Do=[s]:Do.push(s)}var rv=U(null),ko=null,zs=null;function wa(s,a,u){Y(rv,a._currentValue),a._currentValue=u}function Bs(s){s._currentValue=rv.current,X(rv)}function iv(s,a,u){for(;s!==null;){var f=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),s===u)break;s=s.return}}function sv(s,a,u,f){var v=s.child;for(v!==null&&(v.return=s);v!==null;){var b=v.dependencies;if(b!==null){var L=v.child;b=b.firstContext;e:for(;b!==null;){var q=b;b=v;for(var ee=0;ee<a.length;ee++)if(q.context===a[ee]){b.lanes|=u,q=b.alternate,q!==null&&(q.lanes|=u),iv(b.return,u,s),f||(L=null);break e}b=q.next}}else if(v.tag===18){if(L=v.return,L===null)throw Error(r(341));L.lanes|=u,b=L.alternate,b!==null&&(b.lanes|=u),iv(L,u,s),L=null}else L=v.child;if(L!==null)L.return=v;else for(L=v;L!==null;){if(L===s){L=null;break}if(v=L.sibling,v!==null){v.return=L.return,L=v;break}L=L.return}v=L}}function Tc(s,a,u,f){s=null;for(var v=a,b=!1;v!==null;){if(!b){if((v.flags&524288)!==0)b=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var L=v.alternate;if(L===null)throw Error(r(387));if(L=L.memoizedProps,L!==null){var q=v.type;zr(v.pendingProps.value,L.value)||(s!==null?s.push(q):s=[q])}}else if(v===ge.current){if(L=v.alternate,L===null)throw Error(r(387));L.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(s!==null?s.push(Jc):s=[Jc])}v=v.return}s!==null&&sv(a,s,u,f),a.flags|=262144}function hh(s){for(s=s.firstContext;s!==null;){if(!zr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Lo(s){ko=s,zs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function cr(s){return W_(ko,s)}function mh(s,a){return ko===null&&Lo(s),W_(s,a)}function W_(s,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},zs===null){if(s===null)throw Error(r(308));zs=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else zs=zs.next=a;return u}var r4=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(u,f){s.push(f)}};this.abort=function(){a.aborted=!0,s.forEach(function(u){return u()})}},i4=t.unstable_scheduleCallback,s4=t.unstable_NormalPriority,zn={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function av(){return{controller:new r4,data:new Map,refCount:0}}function Ec(s){s.refCount--,s.refCount===0&&i4(s4,function(){s.controller.abort()})}var Ac=null,ov=0,Ul=0,zl=null;function a4(s,a){if(Ac===null){var u=Ac=[];ov=0,Ul=uy(),zl={status:"pending",value:void 0,then:function(f){u.push(f)}}}return ov++,a.then(Y_,Y_),a}function Y_(){if(--ov===0&&Ac!==null){zl!==null&&(zl.status="fulfilled");var s=Ac;Ac=null,Ul=0,zl=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function o4(s,a){var u=[],f={status:"pending",value:null,reason:null,then:function(v){u.push(v)}};return s.then(function(){f.status="fulfilled",f.value=a;for(var v=0;v<u.length;v++)(0,u[v])(a)},function(v){for(f.status="rejected",f.reason=v,v=0;v<u.length;v++)(0,u[v])(void 0)}),f}var X_=B.S;B.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&a4(s,a),X_!==null&&X_(s,a)};var Vo=U(null);function lv(){var s=Vo.current;return s!==null?s:tn.pooledCache}function ph(s,a){a===null?Y(Vo,Vo.current):Y(Vo,a.pool)}function Q_(){var s=lv();return s===null?null:{parent:zn._currentValue,pool:s}}var Cc=Error(r(460)),Z_=Error(r(474)),gh=Error(r(542)),uv={then:function(){}};function J_(s){return s=s.status,s==="fulfilled"||s==="rejected"}function vh(){}function e1(s,a,u){switch(u=s[u],u===void 0?s.push(a):u!==a&&(a.then(vh,vh),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,n1(s),s;default:if(typeof a.status=="string")a.then(vh,vh);else{if(s=tn,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=a,s.status="pending",s.then(function(f){if(a.status==="pending"){var v=a;v.status="fulfilled",v.value=f}},function(f){if(a.status==="pending"){var v=a;v.status="rejected",v.reason=f}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,n1(s),s}throw Rc=a,Cc}}var Rc=null;function t1(){if(Rc===null)throw Error(r(459));var s=Rc;return Rc=null,s}function n1(s){if(s===Cc||s===gh)throw Error(r(483))}var xa=!1;function cv(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dv(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function _a(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Sa(s,a,u){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(Ht&2)!==0){var v=f.pending;return v===null?a.next=a:(a.next=v.next,v.next=a),f.pending=a,a=uh(s),F_(s,null,u),a}return lh(s,f,a,u),uh(s)}function Nc(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,Fi(s,u)}}function fv(s,a){var u=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var v=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var L={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?v=b=L:b=b.next=L,u=u.next}while(u!==null);b===null?v=b=a:b=b.next=a}else v=b=a;u={baseState:f.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:f.shared,callbacks:f.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}var hv=!1;function Ic(){if(hv){var s=zl;if(s!==null)throw s}}function Oc(s,a,u,f){hv=!1;var v=s.updateQueue;xa=!1;var b=v.firstBaseUpdate,L=v.lastBaseUpdate,q=v.shared.pending;if(q!==null){v.shared.pending=null;var ee=q,de=ee.next;ee.next=null,L===null?b=de:L.next=de,L=ee;var ye=s.alternate;ye!==null&&(ye=ye.updateQueue,q=ye.lastBaseUpdate,q!==L&&(q===null?ye.firstBaseUpdate=de:q.next=de,ye.lastBaseUpdate=ee))}if(b!==null){var xe=v.baseState;L=0,ye=de=ee=null,q=b;do{var fe=q.lane&-536870913,he=fe!==q.lane;if(he?(Ot&fe)===fe:(f&fe)===fe){fe!==0&&fe===Ul&&(hv=!0),ye!==null&&(ye=ye.next={lane:0,tag:q.tag,payload:q.payload,callback:null,next:null});e:{var st=s,Qe=q;fe=a;var Wt=u;switch(Qe.tag){case 1:if(st=Qe.payload,typeof st=="function"){xe=st.call(Wt,xe,fe);break e}xe=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=Qe.payload,fe=typeof st=="function"?st.call(Wt,xe,fe):st,fe==null)break e;xe=p({},xe,fe);break e;case 2:xa=!0}}fe=q.callback,fe!==null&&(s.flags|=64,he&&(s.flags|=8192),he=v.callbacks,he===null?v.callbacks=[fe]:he.push(fe))}else he={lane:fe,tag:q.tag,payload:q.payload,callback:q.callback,next:null},ye===null?(de=ye=he,ee=xe):ye=ye.next=he,L|=fe;if(q=q.next,q===null){if(q=v.shared.pending,q===null)break;he=q,q=he.next,he.next=null,v.lastBaseUpdate=he,v.shared.pending=null}}while(!0);ye===null&&(ee=xe),v.baseState=ee,v.firstBaseUpdate=de,v.lastBaseUpdate=ye,b===null&&(v.shared.lanes=0),Oa|=L,s.lanes=L,s.memoizedState=xe}}function r1(s,a){if(typeof s!="function")throw Error(r(191,s));s.call(a)}function i1(s,a){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)r1(u[s],a)}var Bl=U(null),yh=U(0);function s1(s,a){s=Ws,Y(yh,s),Y(Bl,a),Ws=s|a.baseLanes}function mv(){Y(yh,Ws),Y(Bl,Bl.current)}function pv(){Ws=yh.current,X(Bl),X(yh)}var Ta=0,gt=null,Gt=null,In=null,bh=!1,Fl=!1,Uo=!1,wh=0,Mc=0,Hl=null,l4=0;function _n(){throw Error(r(321))}function gv(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!zr(s[u],a[u]))return!1;return!0}function vv(s,a,u,f,v,b){return Ta=b,gt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,B.H=s===null||s.memoizedState===null?F1:H1,Uo=!1,b=u(f,v),Uo=!1,Fl&&(b=o1(a,u,f,v)),a1(s),b}function a1(s){B.H=Ah;var a=Gt!==null&&Gt.next!==null;if(Ta=0,In=Gt=gt=null,bh=!1,Mc=0,Hl=null,a)throw Error(r(300));s===null||qn||(s=s.dependencies,s!==null&&hh(s)&&(qn=!0))}function o1(s,a,u,f){gt=s;var v=0;do{if(Fl&&(Hl=null),Mc=0,Fl=!1,25<=v)throw Error(r(301));if(v+=1,In=Gt=null,s.updateQueue!=null){var b=s.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}B.H=p4,b=a(u,f)}while(Fl);return b}function u4(){var s=B.H,a=s.useState()[0];return a=typeof a.then=="function"?Pc(a):a,s=s.useState()[0],(Gt!==null?Gt.memoizedState:null)!==s&&(gt.flags|=1024),a}function yv(){var s=wh!==0;return wh=0,s}function bv(s,a,u){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~u}function wv(s){if(bh){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}bh=!1}Ta=0,In=Gt=gt=null,Fl=!1,Mc=wh=0,Hl=null}function Ar(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?gt.memoizedState=In=s:In=In.next=s,In}function On(){if(Gt===null){var s=gt.alternate;s=s!==null?s.memoizedState:null}else s=Gt.next;var a=In===null?gt.memoizedState:In.next;if(a!==null)In=a,Gt=s;else{if(s===null)throw gt.alternate===null?Error(r(467)):Error(r(310));Gt=s,s={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},In===null?gt.memoizedState=In=s:In=In.next=s}return In}function xv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pc(s){var a=Mc;return Mc+=1,Hl===null&&(Hl=[]),s=e1(Hl,s,a),a=gt,(In===null?a.memoizedState:In.next)===null&&(a=a.alternate,B.H=a===null||a.memoizedState===null?F1:H1),s}function xh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Pc(s);if(s.$$typeof===$)return cr(s)}throw Error(r(438,String(s)))}function _v(s){var a=null,u=gt.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var f=gt.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(a={data:f.data.map(function(v){return v.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=xv(),gt.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(s),f=0;f<s;f++)u[f]=S;return a.index++,u}function Fs(s,a){return typeof a=="function"?a(s):a}function _h(s){var a=On();return Sv(a,Gt,s)}function Sv(s,a,u){var f=s.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=u;var v=s.baseQueue,b=f.pending;if(b!==null){if(v!==null){var L=v.next;v.next=b.next,b.next=L}a.baseQueue=v=b,f.pending=null}if(b=s.baseState,v===null)s.memoizedState=b;else{a=v.next;var q=L=null,ee=null,de=a,ye=!1;do{var xe=de.lane&-536870913;if(xe!==de.lane?(Ot&xe)===xe:(Ta&xe)===xe){var fe=de.revertLane;if(fe===0)ee!==null&&(ee=ee.next={lane:0,revertLane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),xe===Ul&&(ye=!0);else if((Ta&fe)===fe){de=de.next,fe===Ul&&(ye=!0);continue}else xe={lane:0,revertLane:de.revertLane,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},ee===null?(q=ee=xe,L=b):ee=ee.next=xe,gt.lanes|=fe,Oa|=fe;xe=de.action,Uo&&u(b,xe),b=de.hasEagerState?de.eagerState:u(b,xe)}else fe={lane:xe,revertLane:de.revertLane,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},ee===null?(q=ee=fe,L=b):ee=ee.next=fe,gt.lanes|=xe,Oa|=xe;de=de.next}while(de!==null&&de!==a);if(ee===null?L=b:ee.next=q,!zr(b,s.memoizedState)&&(qn=!0,ye&&(u=zl,u!==null)))throw u;s.memoizedState=b,s.baseState=L,s.baseQueue=ee,f.lastRenderedState=b}return v===null&&(f.lanes=0),[s.memoizedState,f.dispatch]}function Tv(s){var a=On(),u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=s;var f=u.dispatch,v=u.pending,b=a.memoizedState;if(v!==null){u.pending=null;var L=v=v.next;do b=s(b,L.action),L=L.next;while(L!==v);zr(b,a.memoizedState)||(qn=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),u.lastRenderedState=b}return[b,f]}function l1(s,a,u){var f=gt,v=On(),b=jt;if(b){if(u===void 0)throw Error(r(407));u=u()}else u=a();var L=!zr((Gt||v).memoizedState,u);L&&(v.memoizedState=u,qn=!0),v=v.queue;var q=d1.bind(null,f,v,s);if(Dc(2048,8,q,[s]),v.getSnapshot!==a||L||In!==null&&In.memoizedState.tag&1){if(f.flags|=2048,$l(9,Sh(),c1.bind(null,f,v,u,a),null),tn===null)throw Error(r(349));b||(Ta&124)!==0||u1(f,a,u)}return u}function u1(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=gt.updateQueue,a===null?(a=xv(),gt.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function c1(s,a,u,f){a.value=u,a.getSnapshot=f,f1(a)&&h1(s)}function d1(s,a,u){return u(function(){f1(a)&&h1(s)})}function f1(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!zr(s,u)}catch{return!0}}function h1(s){var a=jl(s,2);a!==null&&Gr(a,s,2)}function Ev(s){var a=Ar();if(typeof s=="function"){var u=s;if(s=u(),Uo){nn(!0);try{u()}finally{nn(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:s},a}function m1(s,a,u,f){return s.baseState=u,Sv(s,Gt,typeof f=="function"?f:Fs)}function c4(s,a,u,f,v){if(Eh(s))throw Error(r(485));if(s=a.action,s!==null){var b={payload:v,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(L){b.listeners.push(L)}};B.T!==null?u(!0):b.isTransition=!1,f(b),u=a.pending,u===null?(b.next=a.pending=b,p1(a,b)):(b.next=u.next,a.pending=u.next=b)}}function p1(s,a){var u=a.action,f=a.payload,v=s.state;if(a.isTransition){var b=B.T,L={};B.T=L;try{var q=u(v,f),ee=B.S;ee!==null&&ee(L,q),g1(s,a,q)}catch(de){Av(s,a,de)}finally{B.T=b}}else try{b=u(v,f),g1(s,a,b)}catch(de){Av(s,a,de)}}function g1(s,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){v1(s,a,f)},function(f){return Av(s,a,f)}):v1(s,a,u)}function v1(s,a,u){a.status="fulfilled",a.value=u,y1(a),s.state=u,a=s.pending,a!==null&&(u=a.next,u===a?s.pending=null:(u=u.next,a.next=u,p1(s,u)))}function Av(s,a,u){var f=s.pending;if(s.pending=null,f!==null){f=f.next;do a.status="rejected",a.reason=u,y1(a),a=a.next;while(a!==f)}s.action=null}function y1(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function b1(s,a){return a}function w1(s,a){if(jt){var u=tn.formState;if(u!==null){e:{var f=gt;if(jt){if(pn){t:{for(var v=pn,b=Ji;v.nodeType!==8;){if(!b){v=null;break t}if(v=Ri(v.nextSibling),v===null){v=null;break t}}b=v.data,v=b==="F!"||b==="F"?v:null}if(v){pn=Ri(v.nextSibling),f=v.data==="F!";break e}}jo(f)}f=!1}f&&(a=u[0])}}return u=Ar(),u.memoizedState=u.baseState=a,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:b1,lastRenderedState:a},u.queue=f,u=U1.bind(null,gt,f),f.dispatch=u,f=Ev(!1),b=Ov.bind(null,gt,!1,f.queue),f=Ar(),v={state:a,dispatch:null,action:s,pending:null},f.queue=v,u=c4.bind(null,gt,v,b,u),v.dispatch=u,f.memoizedState=s,[a,u,!1]}function x1(s){var a=On();return _1(a,Gt,s)}function _1(s,a,u){if(a=Sv(s,a,b1)[0],s=_h(Fs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var f=Pc(a)}catch(L){throw L===Cc?gh:L}else f=a;a=On();var v=a.queue,b=v.dispatch;return u!==a.memoizedState&&(gt.flags|=2048,$l(9,Sh(),d4.bind(null,v,u),null)),[f,b,s]}function d4(s,a){s.action=a}function S1(s){var a=On(),u=Gt;if(u!==null)return _1(a,u,s);On(),a=a.memoizedState,u=On();var f=u.queue.dispatch;return u.memoizedState=s,[a,f,!1]}function $l(s,a,u,f){return s={tag:s,create:u,deps:f,inst:a,next:null},a=gt.updateQueue,a===null&&(a=xv(),gt.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=s.next=s:(f=u.next,u.next=s,s.next=f,a.lastEffect=s),s}function Sh(){return{destroy:void 0,resource:void 0}}function T1(){return On().memoizedState}function Th(s,a,u,f){var v=Ar();f=f===void 0?null:f,gt.flags|=s,v.memoizedState=$l(1|a,Sh(),u,f)}function Dc(s,a,u,f){var v=On();f=f===void 0?null:f;var b=v.memoizedState.inst;Gt!==null&&f!==null&&gv(f,Gt.memoizedState.deps)?v.memoizedState=$l(a,b,u,f):(gt.flags|=s,v.memoizedState=$l(1|a,b,u,f))}function E1(s,a){Th(8390656,8,s,a)}function A1(s,a){Dc(2048,8,s,a)}function C1(s,a){return Dc(4,2,s,a)}function R1(s,a){return Dc(4,4,s,a)}function N1(s,a){if(typeof a=="function"){s=s();var u=a(s);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function I1(s,a,u){u=u!=null?u.concat([s]):null,Dc(4,4,N1.bind(null,a,s),u)}function Cv(){}function O1(s,a){var u=On();a=a===void 0?null:a;var f=u.memoizedState;return a!==null&&gv(a,f[1])?f[0]:(u.memoizedState=[s,a],s)}function M1(s,a){var u=On();a=a===void 0?null:a;var f=u.memoizedState;if(a!==null&&gv(a,f[1]))return f[0];if(f=s(),Uo){nn(!0);try{s()}finally{nn(!1)}}return u.memoizedState=[f,a],f}function Rv(s,a,u){return u===void 0||(Ta&1073741824)!==0?s.memoizedState=a:(s.memoizedState=u,s=jS(),gt.lanes|=s,Oa|=s,u)}function P1(s,a,u,f){return zr(u,a)?u:Bl.current!==null?(s=Rv(s,u,f),zr(s,a)||(qn=!0),s):(Ta&42)===0?(qn=!0,s.memoizedState=u):(s=jS(),gt.lanes|=s,Oa|=s,a)}function D1(s,a,u,f,v){var b=T.p;T.p=b!==0&&8>b?b:8;var L=B.T,q={};B.T=q,Ov(s,!1,a,u);try{var ee=v(),de=B.S;if(de!==null&&de(q,ee),ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var ye=o4(ee,f);jc(s,a,ye,qr(s))}else jc(s,a,f,qr(s))}catch(xe){jc(s,a,{then:function(){},status:"rejected",reason:xe},qr())}finally{T.p=b,B.T=L}}function f4(){}function Nv(s,a,u,f){if(s.tag!==5)throw Error(r(476));var v=j1(s).queue;D1(s,v,a,J,u===null?f4:function(){return k1(s),u(f)})}function j1(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:J},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fs,lastRenderedState:u},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function k1(s){var a=j1(s).next.queue;jc(s,a,{},qr())}function Iv(){return cr(Jc)}function L1(){return On().memoizedState}function V1(){return On().memoizedState}function h4(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var u=qr();s=_a(u);var f=Sa(a,s,u);f!==null&&(Gr(f,a,u),Nc(f,a,u)),a={cache:av()},s.payload=a;return}a=a.return}}function m4(s,a,u){var f=qr();u={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Eh(s)?z1(a,u):(u=Xg(s,a,u,f),u!==null&&(Gr(u,s,f),B1(u,a,f)))}function U1(s,a,u){var f=qr();jc(s,a,u,f)}function jc(s,a,u,f){var v={lane:f,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Eh(s))z1(a,v);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var L=a.lastRenderedState,q=b(L,u);if(v.hasEagerState=!0,v.eagerState=q,zr(q,L))return lh(s,a,v,0),tn===null&&oh(),!1}catch{}finally{}if(u=Xg(s,a,v,f),u!==null)return Gr(u,s,f),B1(u,a,f),!0}return!1}function Ov(s,a,u,f){if(f={lane:2,revertLane:uy(),action:f,hasEagerState:!1,eagerState:null,next:null},Eh(s)){if(a)throw Error(r(479))}else a=Xg(s,u,f,2),a!==null&&Gr(a,s,2)}function Eh(s){var a=s.alternate;return s===gt||a!==null&&a===gt}function z1(s,a){Fl=bh=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function B1(s,a,u){if((u&4194048)!==0){var f=a.lanes;f&=s.pendingLanes,u|=f,a.lanes=u,Fi(s,u)}}var Ah={readContext:cr,use:xh,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useLayoutEffect:_n,useInsertionEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useSyncExternalStore:_n,useId:_n,useHostTransitionStatus:_n,useFormState:_n,useActionState:_n,useOptimistic:_n,useMemoCache:_n,useCacheRefresh:_n},F1={readContext:cr,use:xh,useCallback:function(s,a){return Ar().memoizedState=[s,a===void 0?null:a],s},useContext:cr,useEffect:E1,useImperativeHandle:function(s,a,u){u=u!=null?u.concat([s]):null,Th(4194308,4,N1.bind(null,a,s),u)},useLayoutEffect:function(s,a){return Th(4194308,4,s,a)},useInsertionEffect:function(s,a){Th(4,2,s,a)},useMemo:function(s,a){var u=Ar();a=a===void 0?null:a;var f=s();if(Uo){nn(!0);try{s()}finally{nn(!1)}}return u.memoizedState=[f,a],f},useReducer:function(s,a,u){var f=Ar();if(u!==void 0){var v=u(a);if(Uo){nn(!0);try{u(a)}finally{nn(!1)}}}else v=a;return f.memoizedState=f.baseState=v,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:v},f.queue=s,s=s.dispatch=m4.bind(null,gt,s),[f.memoizedState,s]},useRef:function(s){var a=Ar();return s={current:s},a.memoizedState=s},useState:function(s){s=Ev(s);var a=s.queue,u=U1.bind(null,gt,a);return a.dispatch=u,[s.memoizedState,u]},useDebugValue:Cv,useDeferredValue:function(s,a){var u=Ar();return Rv(u,s,a)},useTransition:function(){var s=Ev(!1);return s=D1.bind(null,gt,s.queue,!0,!1),Ar().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,u){var f=gt,v=Ar();if(jt){if(u===void 0)throw Error(r(407));u=u()}else{if(u=a(),tn===null)throw Error(r(349));(Ot&124)!==0||u1(f,a,u)}v.memoizedState=u;var b={value:u,getSnapshot:a};return v.queue=b,E1(d1.bind(null,f,b,s),[s]),f.flags|=2048,$l(9,Sh(),c1.bind(null,f,b,u,a),null),u},useId:function(){var s=Ar(),a=tn.identifierPrefix;if(jt){var u=Us,f=Vs;u=(f&~(1<<32-en(f)-1)).toString(32)+u,a=""+a+"R"+u,u=wh++,0<u&&(a+="H"+u.toString(32)),a+=""}else u=l4++,a=""+a+"r"+u.toString(32)+"";return s.memoizedState=a},useHostTransitionStatus:Iv,useFormState:w1,useActionState:w1,useOptimistic:function(s){var a=Ar();a.memoizedState=a.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=Ov.bind(null,gt,!0,u),u.dispatch=a,[s,a]},useMemoCache:_v,useCacheRefresh:function(){return Ar().memoizedState=h4.bind(null,gt)}},H1={readContext:cr,use:xh,useCallback:O1,useContext:cr,useEffect:A1,useImperativeHandle:I1,useInsertionEffect:C1,useLayoutEffect:R1,useMemo:M1,useReducer:_h,useRef:T1,useState:function(){return _h(Fs)},useDebugValue:Cv,useDeferredValue:function(s,a){var u=On();return P1(u,Gt.memoizedState,s,a)},useTransition:function(){var s=_h(Fs)[0],a=On().memoizedState;return[typeof s=="boolean"?s:Pc(s),a]},useSyncExternalStore:l1,useId:L1,useHostTransitionStatus:Iv,useFormState:x1,useActionState:x1,useOptimistic:function(s,a){var u=On();return m1(u,Gt,s,a)},useMemoCache:_v,useCacheRefresh:V1},p4={readContext:cr,use:xh,useCallback:O1,useContext:cr,useEffect:A1,useImperativeHandle:I1,useInsertionEffect:C1,useLayoutEffect:R1,useMemo:M1,useReducer:Tv,useRef:T1,useState:function(){return Tv(Fs)},useDebugValue:Cv,useDeferredValue:function(s,a){var u=On();return Gt===null?Rv(u,s,a):P1(u,Gt.memoizedState,s,a)},useTransition:function(){var s=Tv(Fs)[0],a=On().memoizedState;return[typeof s=="boolean"?s:Pc(s),a]},useSyncExternalStore:l1,useId:L1,useHostTransitionStatus:Iv,useFormState:S1,useActionState:S1,useOptimistic:function(s,a){var u=On();return Gt!==null?m1(u,Gt,s,a):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:_v,useCacheRefresh:V1},ql=null,kc=0;function Ch(s){var a=kc;return kc+=1,ql===null&&(ql=[]),e1(ql,s,a)}function Lc(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Rh(s,a){throw a.$$typeof===y?Error(r(525)):(s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function $1(s){var a=s._init;return a(s._payload)}function q1(s){function a(ie,re){if(s){var ue=ie.deletions;ue===null?(ie.deletions=[re],ie.flags|=16):ue.push(re)}}function u(ie,re){if(!s)return null;for(;re!==null;)a(ie,re),re=re.sibling;return null}function f(ie){for(var re=new Map;ie!==null;)ie.key!==null?re.set(ie.key,ie):re.set(ie.index,ie),ie=ie.sibling;return re}function v(ie,re){return ie=Ls(ie,re),ie.index=0,ie.sibling=null,ie}function b(ie,re,ue){return ie.index=ue,s?(ue=ie.alternate,ue!==null?(ue=ue.index,ue<re?(ie.flags|=67108866,re):ue):(ie.flags|=67108866,re)):(ie.flags|=1048576,re)}function L(ie){return s&&ie.alternate===null&&(ie.flags|=67108866),ie}function q(ie,re,ue,be){return re===null||re.tag!==6?(re=Zg(ue,ie.mode,be),re.return=ie,re):(re=v(re,ue),re.return=ie,re)}function ee(ie,re,ue,be){var ke=ue.type;return ke===N?ye(ie,re,ue.props.children,be,ue.key):re!==null&&(re.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===I&&$1(ke)===re.type)?(re=v(re,ue.props),Lc(re,ue),re.return=ie,re):(re=ch(ue.type,ue.key,ue.props,null,ie.mode,be),Lc(re,ue),re.return=ie,re)}function de(ie,re,ue,be){return re===null||re.tag!==4||re.stateNode.containerInfo!==ue.containerInfo||re.stateNode.implementation!==ue.implementation?(re=Jg(ue,ie.mode,be),re.return=ie,re):(re=v(re,ue.children||[]),re.return=ie,re)}function ye(ie,re,ue,be,ke){return re===null||re.tag!==7?(re=Oo(ue,ie.mode,be,ke),re.return=ie,re):(re=v(re,ue),re.return=ie,re)}function xe(ie,re,ue){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return re=Zg(""+re,ie.mode,ue),re.return=ie,re;if(typeof re=="object"&&re!==null){switch(re.$$typeof){case w:return ue=ch(re.type,re.key,re.props,null,ie.mode,ue),Lc(ue,re),ue.return=ie,ue;case E:return re=Jg(re,ie.mode,ue),re.return=ie,re;case I:var be=re._init;return re=be(re._payload),xe(ie,re,ue)}if(Z(re)||H(re))return re=Oo(re,ie.mode,ue,null),re.return=ie,re;if(typeof re.then=="function")return xe(ie,Ch(re),ue);if(re.$$typeof===$)return xe(ie,mh(ie,re),ue);Rh(ie,re)}return null}function fe(ie,re,ue,be){var ke=re!==null?re.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return ke!==null?null:q(ie,re,""+ue,be);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case w:return ue.key===ke?ee(ie,re,ue,be):null;case E:return ue.key===ke?de(ie,re,ue,be):null;case I:return ke=ue._init,ue=ke(ue._payload),fe(ie,re,ue,be)}if(Z(ue)||H(ue))return ke!==null?null:ye(ie,re,ue,be,null);if(typeof ue.then=="function")return fe(ie,re,Ch(ue),be);if(ue.$$typeof===$)return fe(ie,re,mh(ie,ue),be);Rh(ie,ue)}return null}function he(ie,re,ue,be,ke){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return ie=ie.get(ue)||null,q(re,ie,""+be,ke);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case w:return ie=ie.get(be.key===null?ue:be.key)||null,ee(re,ie,be,ke);case E:return ie=ie.get(be.key===null?ue:be.key)||null,de(re,ie,be,ke);case I:var bt=be._init;return be=bt(be._payload),he(ie,re,ue,be,ke)}if(Z(be)||H(be))return ie=ie.get(ue)||null,ye(re,ie,be,ke,null);if(typeof be.then=="function")return he(ie,re,ue,Ch(be),ke);if(be.$$typeof===$)return he(ie,re,ue,mh(re,be),ke);Rh(re,be)}return null}function st(ie,re,ue,be){for(var ke=null,bt=null,Fe=re,et=re=0,Kn=null;Fe!==null&&et<ue.length;et++){Fe.index>et?(Kn=Fe,Fe=null):Kn=Fe.sibling;var Dt=fe(ie,Fe,ue[et],be);if(Dt===null){Fe===null&&(Fe=Kn);break}s&&Fe&&Dt.alternate===null&&a(ie,Fe),re=b(Dt,re,et),bt===null?ke=Dt:bt.sibling=Dt,bt=Dt,Fe=Kn}if(et===ue.length)return u(ie,Fe),jt&&Po(ie,et),ke;if(Fe===null){for(;et<ue.length;et++)Fe=xe(ie,ue[et],be),Fe!==null&&(re=b(Fe,re,et),bt===null?ke=Fe:bt.sibling=Fe,bt=Fe);return jt&&Po(ie,et),ke}for(Fe=f(Fe);et<ue.length;et++)Kn=he(Fe,ie,et,ue[et],be),Kn!==null&&(s&&Kn.alternate!==null&&Fe.delete(Kn.key===null?et:Kn.key),re=b(Kn,re,et),bt===null?ke=Kn:bt.sibling=Kn,bt=Kn);return s&&Fe.forEach(function(za){return a(ie,za)}),jt&&Po(ie,et),ke}function Qe(ie,re,ue,be){if(ue==null)throw Error(r(151));for(var ke=null,bt=null,Fe=re,et=re=0,Kn=null,Dt=ue.next();Fe!==null&&!Dt.done;et++,Dt=ue.next()){Fe.index>et?(Kn=Fe,Fe=null):Kn=Fe.sibling;var za=fe(ie,Fe,Dt.value,be);if(za===null){Fe===null&&(Fe=Kn);break}s&&Fe&&za.alternate===null&&a(ie,Fe),re=b(za,re,et),bt===null?ke=za:bt.sibling=za,bt=za,Fe=Kn}if(Dt.done)return u(ie,Fe),jt&&Po(ie,et),ke;if(Fe===null){for(;!Dt.done;et++,Dt=ue.next())Dt=xe(ie,Dt.value,be),Dt!==null&&(re=b(Dt,re,et),bt===null?ke=Dt:bt.sibling=Dt,bt=Dt);return jt&&Po(ie,et),ke}for(Fe=f(Fe);!Dt.done;et++,Dt=ue.next())Dt=he(Fe,ie,et,Dt.value,be),Dt!==null&&(s&&Dt.alternate!==null&&Fe.delete(Dt.key===null?et:Dt.key),re=b(Dt,re,et),bt===null?ke=Dt:bt.sibling=Dt,bt=Dt);return s&&Fe.forEach(function(gj){return a(ie,gj)}),jt&&Po(ie,et),ke}function Wt(ie,re,ue,be){if(typeof ue=="object"&&ue!==null&&ue.type===N&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case w:e:{for(var ke=ue.key;re!==null;){if(re.key===ke){if(ke=ue.type,ke===N){if(re.tag===7){u(ie,re.sibling),be=v(re,ue.props.children),be.return=ie,ie=be;break e}}else if(re.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===I&&$1(ke)===re.type){u(ie,re.sibling),be=v(re,ue.props),Lc(be,ue),be.return=ie,ie=be;break e}u(ie,re);break}else a(ie,re);re=re.sibling}ue.type===N?(be=Oo(ue.props.children,ie.mode,be,ue.key),be.return=ie,ie=be):(be=ch(ue.type,ue.key,ue.props,null,ie.mode,be),Lc(be,ue),be.return=ie,ie=be)}return L(ie);case E:e:{for(ke=ue.key;re!==null;){if(re.key===ke)if(re.tag===4&&re.stateNode.containerInfo===ue.containerInfo&&re.stateNode.implementation===ue.implementation){u(ie,re.sibling),be=v(re,ue.children||[]),be.return=ie,ie=be;break e}else{u(ie,re);break}else a(ie,re);re=re.sibling}be=Jg(ue,ie.mode,be),be.return=ie,ie=be}return L(ie);case I:return ke=ue._init,ue=ke(ue._payload),Wt(ie,re,ue,be)}if(Z(ue))return st(ie,re,ue,be);if(H(ue)){if(ke=H(ue),typeof ke!="function")throw Error(r(150));return ue=ke.call(ue),Qe(ie,re,ue,be)}if(typeof ue.then=="function")return Wt(ie,re,Ch(ue),be);if(ue.$$typeof===$)return Wt(ie,re,mh(ie,ue),be);Rh(ie,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint"?(ue=""+ue,re!==null&&re.tag===6?(u(ie,re.sibling),be=v(re,ue),be.return=ie,ie=be):(u(ie,re),be=Zg(ue,ie.mode,be),be.return=ie,ie=be),L(ie)):u(ie,re)}return function(ie,re,ue,be){try{kc=0;var ke=Wt(ie,re,ue,be);return ql=null,ke}catch(Fe){if(Fe===Cc||Fe===gh)throw Fe;var bt=Br(29,Fe,null,ie.mode);return bt.lanes=be,bt.return=ie,bt}finally{}}}var Gl=q1(!0),G1=q1(!1),fi=U(null),es=null;function Ea(s){var a=s.alternate;Y(Bn,Bn.current&1),Y(fi,s),es===null&&(a===null||Bl.current!==null||a.memoizedState!==null)&&(es=s)}function K1(s){if(s.tag===22){if(Y(Bn,Bn.current),Y(fi,s),es===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(es=s)}}else Aa()}function Aa(){Y(Bn,Bn.current),Y(fi,fi.current)}function Hs(s){X(fi),es===s&&(es=null),X(Bn)}var Bn=U(0);function Nh(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||xy(u)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Mv(s,a,u,f){a=s.memoizedState,u=u(f,a),u=u==null?a:p({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Pv={enqueueSetState:function(s,a,u){s=s._reactInternals;var f=qr(),v=_a(f);v.payload=a,u!=null&&(v.callback=u),a=Sa(s,v,f),a!==null&&(Gr(a,s,f),Nc(a,s,f))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var f=qr(),v=_a(f);v.tag=1,v.payload=a,u!=null&&(v.callback=u),a=Sa(s,v,f),a!==null&&(Gr(a,s,f),Nc(a,s,f))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=qr(),f=_a(u);f.tag=2,a!=null&&(f.callback=a),a=Sa(s,f,u),a!==null&&(Gr(a,s,u),Nc(a,s,u))}};function W1(s,a,u,f,v,b,L){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,b,L):a.prototype&&a.prototype.isPureReactComponent?!bc(u,f)||!bc(v,b):!0}function Y1(s,a,u,f){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,f),a.state!==s&&Pv.enqueueReplaceState(a,a.state,null)}function zo(s,a){var u=a;if("ref"in a){u={};for(var f in a)f!=="ref"&&(u[f]=a[f])}if(s=s.defaultProps){u===a&&(u=p({},u));for(var v in s)u[v]===void 0&&(u[v]=s[v])}return u}var Ih=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function X1(s){Ih(s)}function Q1(s){console.error(s)}function Z1(s){Ih(s)}function Oh(s,a){try{var u=s.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(f){setTimeout(function(){throw f})}}function J1(s,a,u){try{var f=s.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function Dv(s,a,u){return u=_a(u),u.tag=3,u.payload={element:null},u.callback=function(){Oh(s,a)},u}function eS(s){return s=_a(s),s.tag=3,s}function tS(s,a,u,f){var v=u.type.getDerivedStateFromError;if(typeof v=="function"){var b=f.value;s.payload=function(){return v(b)},s.callback=function(){J1(a,u,f)}}var L=u.stateNode;L!==null&&typeof L.componentDidCatch=="function"&&(s.callback=function(){J1(a,u,f),typeof v!="function"&&(Ma===null?Ma=new Set([this]):Ma.add(this));var q=f.stack;this.componentDidCatch(f.value,{componentStack:q!==null?q:""})})}function g4(s,a,u,f,v){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(a=u.alternate,a!==null&&Tc(a,u,v,!0),u=fi.current,u!==null){switch(u.tag){case 13:return es===null?iy():u.alternate===null&&gn===0&&(gn=3),u.flags&=-257,u.flags|=65536,u.lanes=v,f===uv?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([f]):a.add(f),ay(s,f,v)),!1;case 22:return u.flags|=65536,f===uv?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([f]):u.add(f)),ay(s,f,v)),!1}throw Error(r(435,u.tag))}return ay(s,f,v),iy(),!1}if(jt)return a=fi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=v,f!==nv&&(s=Error(r(422),{cause:f}),Sc(li(s,u)))):(f!==nv&&(a=Error(r(423),{cause:f}),Sc(li(a,u))),s=s.current.alternate,s.flags|=65536,v&=-v,s.lanes|=v,f=li(f,u),v=Dv(s.stateNode,f,v),fv(s,v),gn!==4&&(gn=2)),!1;var b=Error(r(520),{cause:f});if(b=li(b,u),$c===null?$c=[b]:$c.push(b),gn!==4&&(gn=2),a===null)return!0;f=li(f,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,s=v&-v,u.lanes|=s,s=Dv(u.stateNode,f,s),fv(u,s),!1;case 1:if(a=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ma===null||!Ma.has(b))))return u.flags|=65536,v&=-v,u.lanes|=v,v=eS(v),tS(v,s,u,f),fv(u,v),!1}u=u.return}while(u!==null);return!1}var nS=Error(r(461)),qn=!1;function nr(s,a,u,f){a.child=s===null?G1(a,null,u,f):Gl(a,s.child,u,f)}function rS(s,a,u,f,v){u=u.render;var b=a.ref;if("ref"in f){var L={};for(var q in f)q!=="ref"&&(L[q]=f[q])}else L=f;return Lo(a),f=vv(s,a,u,L,b,v),q=yv(),s!==null&&!qn?(bv(s,a,v),$s(s,a,v)):(jt&&q&&ev(a),a.flags|=1,nr(s,a,f,v),a.child)}function iS(s,a,u,f,v){if(s===null){var b=u.type;return typeof b=="function"&&!Qg(b)&&b.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=b,sS(s,a,b,f,v)):(s=ch(u.type,null,f,a,a.mode,v),s.ref=a.ref,s.return=a,a.child=s)}if(b=s.child,!Fv(s,v)){var L=b.memoizedProps;if(u=u.compare,u=u!==null?u:bc,u(L,f)&&s.ref===a.ref)return $s(s,a,v)}return a.flags|=1,s=Ls(b,f),s.ref=a.ref,s.return=a,a.child=s}function sS(s,a,u,f,v){if(s!==null){var b=s.memoizedProps;if(bc(b,f)&&s.ref===a.ref)if(qn=!1,a.pendingProps=f=b,Fv(s,v))(s.flags&131072)!==0&&(qn=!0);else return a.lanes=s.lanes,$s(s,a,v)}return jv(s,a,u,f,v)}function aS(s,a,u){var f=a.pendingProps,v=f.children,b=s!==null?s.memoizedState:null;if(f.mode==="hidden"){if((a.flags&128)!==0){if(f=b!==null?b.baseLanes|u:u,s!==null){for(v=a.child=s.child,b=0;v!==null;)b=b|v.lanes|v.childLanes,v=v.sibling;a.childLanes=b&~f}else a.childLanes=0,a.child=null;return oS(s,a,f,u)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&ph(a,b!==null?b.cachePool:null),b!==null?s1(a,b):mv(),K1(a);else return a.lanes=a.childLanes=536870912,oS(s,a,b!==null?b.baseLanes|u:u,u)}else b!==null?(ph(a,b.cachePool),s1(a,b),Aa(),a.memoizedState=null):(s!==null&&ph(a,null),mv(),Aa());return nr(s,a,v,u),a.child}function oS(s,a,u,f){var v=lv();return v=v===null?null:{parent:zn._currentValue,pool:v},a.memoizedState={baseLanes:u,cachePool:v},s!==null&&ph(a,null),mv(),K1(a),s!==null&&Tc(s,a,f,!0),null}function Mh(s,a){var u=a.ref;if(u===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(s===null||s.ref!==u)&&(a.flags|=4194816)}}function jv(s,a,u,f,v){return Lo(a),u=vv(s,a,u,f,void 0,v),f=yv(),s!==null&&!qn?(bv(s,a,v),$s(s,a,v)):(jt&&f&&ev(a),a.flags|=1,nr(s,a,u,v),a.child)}function lS(s,a,u,f,v,b){return Lo(a),a.updateQueue=null,u=o1(a,f,u,v),a1(s),f=yv(),s!==null&&!qn?(bv(s,a,b),$s(s,a,b)):(jt&&f&&ev(a),a.flags|=1,nr(s,a,u,b),a.child)}function uS(s,a,u,f,v){if(Lo(a),a.stateNode===null){var b=kl,L=u.contextType;typeof L=="object"&&L!==null&&(b=cr(L)),b=new u(f,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Pv,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=f,b.state=a.memoizedState,b.refs={},cv(a),L=u.contextType,b.context=typeof L=="object"&&L!==null?cr(L):kl,b.state=a.memoizedState,L=u.getDerivedStateFromProps,typeof L=="function"&&(Mv(a,u,L,f),b.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(L=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),L!==b.state&&Pv.enqueueReplaceState(b,b.state,null),Oc(a,f,b,v),Ic(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),f=!0}else if(s===null){b=a.stateNode;var q=a.memoizedProps,ee=zo(u,q);b.props=ee;var de=b.context,ye=u.contextType;L=kl,typeof ye=="object"&&ye!==null&&(L=cr(ye));var xe=u.getDerivedStateFromProps;ye=typeof xe=="function"||typeof b.getSnapshotBeforeUpdate=="function",q=a.pendingProps!==q,ye||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(q||de!==L)&&Y1(a,b,f,L),xa=!1;var fe=a.memoizedState;b.state=fe,Oc(a,f,b,v),Ic(),de=a.memoizedState,q||fe!==de||xa?(typeof xe=="function"&&(Mv(a,u,xe,f),de=a.memoizedState),(ee=xa||W1(a,u,ee,f,fe,de,L))?(ye||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=de),b.props=f,b.state=de,b.context=L,f=ee):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{b=a.stateNode,dv(s,a),L=a.memoizedProps,ye=zo(u,L),b.props=ye,xe=a.pendingProps,fe=b.context,de=u.contextType,ee=kl,typeof de=="object"&&de!==null&&(ee=cr(de)),q=u.getDerivedStateFromProps,(de=typeof q=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(L!==xe||fe!==ee)&&Y1(a,b,f,ee),xa=!1,fe=a.memoizedState,b.state=fe,Oc(a,f,b,v),Ic();var he=a.memoizedState;L!==xe||fe!==he||xa||s!==null&&s.dependencies!==null&&hh(s.dependencies)?(typeof q=="function"&&(Mv(a,u,q,f),he=a.memoizedState),(ye=xa||W1(a,u,ye,f,fe,he,ee)||s!==null&&s.dependencies!==null&&hh(s.dependencies))?(de||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,he,ee),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,he,ee)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||L===s.memoizedProps&&fe===s.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&fe===s.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=he),b.props=f,b.state=he,b.context=ee,f=ye):(typeof b.componentDidUpdate!="function"||L===s.memoizedProps&&fe===s.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&fe===s.memoizedState||(a.flags|=1024),f=!1)}return b=f,Mh(s,a),f=(a.flags&128)!==0,b||f?(b=a.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,s!==null&&f?(a.child=Gl(a,s.child,null,v),a.child=Gl(a,null,u,v)):nr(s,a,u,v),a.memoizedState=b.state,s=a.child):s=$s(s,a,v),s}function cS(s,a,u,f){return _c(),a.flags|=256,nr(s,a,u,f),a.child}var kv={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lv(s){return{baseLanes:s,cachePool:Q_()}}function Vv(s,a,u){return s=s!==null?s.childLanes&~u:0,a&&(s|=hi),s}function dS(s,a,u){var f=a.pendingProps,v=!1,b=(a.flags&128)!==0,L;if((L=b)||(L=s!==null&&s.memoizedState===null?!1:(Bn.current&2)!==0),L&&(v=!0,a.flags&=-129),L=(a.flags&32)!==0,a.flags&=-33,s===null){if(jt){if(v?Ea(a):Aa(),jt){var q=pn,ee;if(ee=q){e:{for(ee=q,q=Ji;ee.nodeType!==8;){if(!q){q=null;break e}if(ee=Ri(ee.nextSibling),ee===null){q=null;break e}}q=ee}q!==null?(a.memoizedState={dehydrated:q,treeContext:Mo!==null?{id:Vs,overflow:Us}:null,retryLane:536870912,hydrationErrors:null},ee=Br(18,null,null,0),ee.stateNode=q,ee.return=a,a.child=ee,xr=a,pn=null,ee=!0):ee=!1}ee||jo(a)}if(q=a.memoizedState,q!==null&&(q=q.dehydrated,q!==null))return xy(q)?a.lanes=32:a.lanes=536870912,null;Hs(a)}return q=f.children,f=f.fallback,v?(Aa(),v=a.mode,q=Ph({mode:"hidden",children:q},v),f=Oo(f,v,u,null),q.return=a,f.return=a,q.sibling=f,a.child=q,v=a.child,v.memoizedState=Lv(u),v.childLanes=Vv(s,L,u),a.memoizedState=kv,f):(Ea(a),Uv(a,q))}if(ee=s.memoizedState,ee!==null&&(q=ee.dehydrated,q!==null)){if(b)a.flags&256?(Ea(a),a.flags&=-257,a=zv(s,a,u)):a.memoizedState!==null?(Aa(),a.child=s.child,a.flags|=128,a=null):(Aa(),v=f.fallback,q=a.mode,f=Ph({mode:"visible",children:f.children},q),v=Oo(v,q,u,null),v.flags|=2,f.return=a,v.return=a,f.sibling=v,a.child=f,Gl(a,s.child,null,u),f=a.child,f.memoizedState=Lv(u),f.childLanes=Vv(s,L,u),a.memoizedState=kv,a=v);else if(Ea(a),xy(q)){if(L=q.nextSibling&&q.nextSibling.dataset,L)var de=L.dgst;L=de,f=Error(r(419)),f.stack="",f.digest=L,Sc({value:f,source:null,stack:null}),a=zv(s,a,u)}else if(qn||Tc(s,a,u,!1),L=(u&s.childLanes)!==0,qn||L){if(L=tn,L!==null&&(f=u&-u,f=(f&42)!==0?1:Hi(f),f=(f&(L.suspendedLanes|u))!==0?0:f,f!==0&&f!==ee.retryLane))throw ee.retryLane=f,jl(s,f),Gr(L,s,f),nS;q.data==="$?"||iy(),a=zv(s,a,u)}else q.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=ee.treeContext,pn=Ri(q.nextSibling),xr=a,jt=!0,Do=null,Ji=!1,s!==null&&(ci[di++]=Vs,ci[di++]=Us,ci[di++]=Mo,Vs=s.id,Us=s.overflow,Mo=a),a=Uv(a,f.children),a.flags|=4096);return a}return v?(Aa(),v=f.fallback,q=a.mode,ee=s.child,de=ee.sibling,f=Ls(ee,{mode:"hidden",children:f.children}),f.subtreeFlags=ee.subtreeFlags&65011712,de!==null?v=Ls(de,v):(v=Oo(v,q,u,null),v.flags|=2),v.return=a,f.return=a,f.sibling=v,a.child=f,f=v,v=a.child,q=s.child.memoizedState,q===null?q=Lv(u):(ee=q.cachePool,ee!==null?(de=zn._currentValue,ee=ee.parent!==de?{parent:de,pool:de}:ee):ee=Q_(),q={baseLanes:q.baseLanes|u,cachePool:ee}),v.memoizedState=q,v.childLanes=Vv(s,L,u),a.memoizedState=kv,f):(Ea(a),u=s.child,s=u.sibling,u=Ls(u,{mode:"visible",children:f.children}),u.return=a,u.sibling=null,s!==null&&(L=a.deletions,L===null?(a.deletions=[s],a.flags|=16):L.push(s)),a.child=u,a.memoizedState=null,u)}function Uv(s,a){return a=Ph({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Ph(s,a){return s=Br(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function zv(s,a,u){return Gl(a,s.child,null,u),s=Uv(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function fS(s,a,u){s.lanes|=a;var f=s.alternate;f!==null&&(f.lanes|=a),iv(s.return,a,u)}function Bv(s,a,u,f,v){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:v}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=f,b.tail=u,b.tailMode=v)}function hS(s,a,u){var f=a.pendingProps,v=f.revealOrder,b=f.tail;if(nr(s,a,f.children,u),f=Bn.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&fS(s,u,a);else if(s.tag===19)fS(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}switch(Y(Bn,f),v){case"forwards":for(u=a.child,v=null;u!==null;)s=u.alternate,s!==null&&Nh(s)===null&&(v=u),u=u.sibling;u=v,u===null?(v=a.child,a.child=null):(v=u.sibling,u.sibling=null),Bv(a,!1,v,u,b);break;case"backwards":for(u=null,v=a.child,a.child=null;v!==null;){if(s=v.alternate,s!==null&&Nh(s)===null){a.child=v;break}s=v.sibling,v.sibling=u,u=v,v=s}Bv(a,!0,u,null,b);break;case"together":Bv(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function $s(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),Oa|=a.lanes,(u&a.childLanes)===0)if(s!==null){if(Tc(s,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,u=Ls(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=Ls(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function Fv(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&hh(s)))}function v4(s,a,u){switch(a.tag){case 3:Ee(a,a.stateNode.containerInfo),wa(a,zn,s.memoizedState.cache),_c();break;case 27:case 5:Ne(a);break;case 4:Ee(a,a.stateNode.containerInfo);break;case 10:wa(a,a.type,a.memoizedProps.value);break;case 13:var f=a.memoizedState;if(f!==null)return f.dehydrated!==null?(Ea(a),a.flags|=128,null):(u&a.child.childLanes)!==0?dS(s,a,u):(Ea(a),s=$s(s,a,u),s!==null?s.sibling:null);Ea(a);break;case 19:var v=(s.flags&128)!==0;if(f=(u&a.childLanes)!==0,f||(Tc(s,a,u,!1),f=(u&a.childLanes)!==0),v){if(f)return hS(s,a,u);a.flags|=128}if(v=a.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),Y(Bn,Bn.current),f)break;return null;case 22:case 23:return a.lanes=0,aS(s,a,u);case 24:wa(a,zn,s.memoizedState.cache)}return $s(s,a,u)}function mS(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps)qn=!0;else{if(!Fv(s,u)&&(a.flags&128)===0)return qn=!1,v4(s,a,u);qn=(s.flags&131072)!==0}else qn=!1,jt&&(a.flags&1048576)!==0&&$_(a,fh,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var f=a.elementType,v=f._init;if(f=v(f._payload),a.type=f,typeof f=="function")Qg(f)?(s=zo(f,s),a.tag=1,a=uS(null,a,f,s,u)):(a.tag=0,a=jv(null,a,f,s,u));else{if(f!=null){if(v=f.$$typeof,v===Q){a.tag=11,a=rS(null,a,f,s,u);break e}else if(v===C){a.tag=14,a=iS(null,a,f,s,u);break e}}throw a=K(f)||f,Error(r(306,a,""))}}return a;case 0:return jv(s,a,a.type,a.pendingProps,u);case 1:return f=a.type,v=zo(f,a.pendingProps),uS(s,a,f,v,u);case 3:e:{if(Ee(a,a.stateNode.containerInfo),s===null)throw Error(r(387));f=a.pendingProps;var b=a.memoizedState;v=b.element,dv(s,a),Oc(a,f,null,u);var L=a.memoizedState;if(f=L.cache,wa(a,zn,f),f!==b.cache&&sv(a,[zn],u,!0),Ic(),f=L.element,b.isDehydrated)if(b={element:f,isDehydrated:!1,cache:L.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=cS(s,a,f,u);break e}else if(f!==v){v=li(Error(r(424)),a),Sc(v),a=cS(s,a,f,u);break e}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(pn=Ri(s.firstChild),xr=a,jt=!0,Do=null,Ji=!0,u=G1(a,null,f,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(_c(),f===v){a=$s(s,a,u);break e}nr(s,a,f,u)}a=a.child}return a;case 26:return Mh(s,a),s===null?(u=yT(a.type,null,a.pendingProps,null))?a.memoizedState=u:jt||(u=a.type,s=a.pendingProps,f=Kh(le.current).createElement(u),f[_e]=a,f[Te]=s,ir(f,u,s),Ct(f),a.stateNode=f):a.memoizedState=yT(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Ne(a),s===null&&jt&&(f=a.stateNode=pT(a.type,a.pendingProps,le.current),xr=a,Ji=!0,v=pn,ja(a.type)?(_y=v,pn=Ri(f.firstChild)):pn=v),nr(s,a,a.pendingProps.children,u),Mh(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&jt&&((v=f=pn)&&(f=q4(f,a.type,a.pendingProps,Ji),f!==null?(a.stateNode=f,xr=a,pn=Ri(f.firstChild),Ji=!1,v=!0):v=!1),v||jo(a)),Ne(a),v=a.type,b=a.pendingProps,L=s!==null?s.memoizedProps:null,f=b.children,yy(v,b)?f=null:L!==null&&yy(v,L)&&(a.flags|=32),a.memoizedState!==null&&(v=vv(s,a,u4,null,null,u),Jc._currentValue=v),Mh(s,a),nr(s,a,f,u),a.child;case 6:return s===null&&jt&&((s=u=pn)&&(u=G4(u,a.pendingProps,Ji),u!==null?(a.stateNode=u,xr=a,pn=null,s=!0):s=!1),s||jo(a)),null;case 13:return dS(s,a,u);case 4:return Ee(a,a.stateNode.containerInfo),f=a.pendingProps,s===null?a.child=Gl(a,null,f,u):nr(s,a,f,u),a.child;case 11:return rS(s,a,a.type,a.pendingProps,u);case 7:return nr(s,a,a.pendingProps,u),a.child;case 8:return nr(s,a,a.pendingProps.children,u),a.child;case 12:return nr(s,a,a.pendingProps.children,u),a.child;case 10:return f=a.pendingProps,wa(a,a.type,f.value),nr(s,a,f.children,u),a.child;case 9:return v=a.type._context,f=a.pendingProps.children,Lo(a),v=cr(v),f=f(v),a.flags|=1,nr(s,a,f,u),a.child;case 14:return iS(s,a,a.type,a.pendingProps,u);case 15:return sS(s,a,a.type,a.pendingProps,u);case 19:return hS(s,a,u);case 31:return f=a.pendingProps,u=a.mode,f={mode:f.mode,children:f.children},s===null?(u=Ph(f,u),u.ref=a.ref,a.child=u,u.return=a,a=u):(u=Ls(s.child,f),u.ref=a.ref,a.child=u,u.return=a,a=u),a;case 22:return aS(s,a,u);case 24:return Lo(a),f=cr(zn),s===null?(v=lv(),v===null&&(v=tn,b=av(),v.pooledCache=b,b.refCount++,b!==null&&(v.pooledCacheLanes|=u),v=b),a.memoizedState={parent:f,cache:v},cv(a),wa(a,zn,v)):((s.lanes&u)!==0&&(dv(s,a),Oc(a,null,null,u),Ic()),v=s.memoizedState,b=a.memoizedState,v.parent!==f?(v={parent:f,cache:f},a.memoizedState=v,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=v),wa(a,zn,f)):(f=b.cache,wa(a,zn,f),f!==v.cache&&sv(a,[zn],u,!0))),nr(s,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function qs(s){s.flags|=4}function pS(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!ST(a)){if(a=fi.current,a!==null&&((Ot&4194048)===Ot?es!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||a!==es))throw Rc=uv,Z_;s.flags|=8192}}function Dh(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?vo():536870912,s.lanes|=a,Xl|=a)}function Vc(s,a){if(!jt)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function un(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,f=0;if(a)for(var v=s.child;v!==null;)u|=v.lanes|v.childLanes,f|=v.subtreeFlags&65011712,f|=v.flags&65011712,v.return=s,v=v.sibling;else for(v=s.child;v!==null;)u|=v.lanes|v.childLanes,f|=v.subtreeFlags,f|=v.flags,v.return=s,v=v.sibling;return s.subtreeFlags|=f,s.childLanes=u,a}function y4(s,a,u){var f=a.pendingProps;switch(tv(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(a),null;case 1:return un(a),null;case 3:return u=a.stateNode,f=null,s!==null&&(f=s.memoizedState.cache),a.memoizedState.cache!==f&&(a.flags|=2048),Bs(zn),Pe(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(xc(a)?qs(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,K_())),un(a),null;case 26:return u=a.memoizedState,s===null?(qs(a),u!==null?(un(a),pS(a,u)):(un(a),a.flags&=-16777217)):u?u!==s.memoizedState?(qs(a),un(a),pS(a,u)):(un(a),a.flags&=-16777217):(s.memoizedProps!==f&&qs(a),un(a),a.flags&=-16777217),null;case 27:ze(a),u=le.current;var v=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==f&&qs(a);else{if(!f){if(a.stateNode===null)throw Error(r(166));return un(a),null}s=ne.current,xc(a)?q_(a):(s=pT(v,f,u),a.stateNode=s,qs(a))}return un(a),null;case 5:if(ze(a),u=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==f&&qs(a);else{if(!f){if(a.stateNode===null)throw Error(r(166));return un(a),null}if(s=ne.current,xc(a))q_(a);else{switch(v=Kh(le.current),s){case 1:s=v.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:s=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":s=v.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":s=v.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":s=v.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof f.is=="string"?v.createElement("select",{is:f.is}):v.createElement("select"),f.multiple?s.multiple=!0:f.size&&(s.size=f.size);break;default:s=typeof f.is=="string"?v.createElement(u,{is:f.is}):v.createElement(u)}}s[_e]=a,s[Te]=f;e:for(v=a.child;v!==null;){if(v.tag===5||v.tag===6)s.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===a)break e;for(;v.sibling===null;){if(v.return===null||v.return===a)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}a.stateNode=s;e:switch(ir(s,u,f),u){case"button":case"input":case"select":case"textarea":s=!!f.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&qs(a)}}return un(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==f&&qs(a);else{if(typeof f!="string"&&a.stateNode===null)throw Error(r(166));if(s=le.current,xc(a)){if(s=a.stateNode,u=a.memoizedProps,f=null,v=xr,v!==null)switch(v.tag){case 27:case 5:f=v.memoizedProps}s[_e]=a,s=!!(s.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||lT(s.nodeValue,u)),s||jo(a)}else s=Kh(s).createTextNode(f),s[_e]=a,a.stateNode=s}return un(a),null;case 13:if(f=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(v=xc(a),f!==null&&f.dehydrated!==null){if(s===null){if(!v)throw Error(r(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[_e]=a}else _c(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;un(a),v=!1}else v=K_(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=v),v=!0;if(!v)return a.flags&256?(Hs(a),a):(Hs(a),null)}if(Hs(a),(a.flags&128)!==0)return a.lanes=u,a;if(u=f!==null,s=s!==null&&s.memoizedState!==null,u){f=a.child,v=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(v=f.alternate.memoizedState.cachePool.pool);var b=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==v&&(f.flags|=2048)}return u!==s&&u&&(a.child.flags|=8192),Dh(a,a.updateQueue),un(a),null;case 4:return Pe(),s===null&&hy(a.stateNode.containerInfo),un(a),null;case 10:return Bs(a.type),un(a),null;case 19:if(X(Bn),v=a.memoizedState,v===null)return un(a),null;if(f=(a.flags&128)!==0,b=v.rendering,b===null)if(f)Vc(v,!1);else{if(gn!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(b=Nh(s),b!==null){for(a.flags|=128,Vc(v,!1),s=b.updateQueue,a.updateQueue=s,Dh(a,s),a.subtreeFlags=0,s=u,u=a.child;u!==null;)H_(u,s),u=u.sibling;return Y(Bn,Bn.current&1|2),a.child}s=s.sibling}v.tail!==null&&Ie()>Lh&&(a.flags|=128,f=!0,Vc(v,!1),a.lanes=4194304)}else{if(!f)if(s=Nh(b),s!==null){if(a.flags|=128,f=!0,s=s.updateQueue,a.updateQueue=s,Dh(a,s),Vc(v,!0),v.tail===null&&v.tailMode==="hidden"&&!b.alternate&&!jt)return un(a),null}else 2*Ie()-v.renderingStartTime>Lh&&u!==536870912&&(a.flags|=128,f=!0,Vc(v,!1),a.lanes=4194304);v.isBackwards?(b.sibling=a.child,a.child=b):(s=v.last,s!==null?s.sibling=b:a.child=b,v.last=b)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=Ie(),a.sibling=null,s=Bn.current,Y(Bn,f?s&1|2:s&1),a):(un(a),null);case 22:case 23:return Hs(a),pv(),f=a.memoizedState!==null,s!==null?s.memoizedState!==null!==f&&(a.flags|=8192):f&&(a.flags|=8192),f?(u&536870912)!==0&&(a.flags&128)===0&&(un(a),a.subtreeFlags&6&&(a.flags|=8192)):un(a),u=a.updateQueue,u!==null&&Dh(a,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==u&&(a.flags|=2048),s!==null&&X(Vo),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Bs(zn),un(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function b4(s,a){switch(tv(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Bs(zn),Pe(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return ze(a),null;case 13:if(Hs(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));_c()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return X(Bn),null;case 4:return Pe(),null;case 10:return Bs(a.type),null;case 22:case 23:return Hs(a),pv(),s!==null&&X(Vo),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Bs(zn),null;case 25:return null;default:return null}}function gS(s,a){switch(tv(a),a.tag){case 3:Bs(zn),Pe();break;case 26:case 27:case 5:ze(a);break;case 4:Pe();break;case 13:Hs(a);break;case 19:X(Bn);break;case 10:Bs(a.type);break;case 22:case 23:Hs(a),pv(),s!==null&&X(Vo);break;case 24:Bs(zn)}}function Uc(s,a){try{var u=a.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var v=f.next;u=v;do{if((u.tag&s)===s){f=void 0;var b=u.create,L=u.inst;f=b(),L.destroy=f}u=u.next}while(u!==v)}}catch(q){Xt(a,a.return,q)}}function Ca(s,a,u){try{var f=a.updateQueue,v=f!==null?f.lastEffect:null;if(v!==null){var b=v.next;f=b;do{if((f.tag&s)===s){var L=f.inst,q=L.destroy;if(q!==void 0){L.destroy=void 0,v=a;var ee=u,de=q;try{de()}catch(ye){Xt(v,ee,ye)}}}f=f.next}while(f!==b)}}catch(ye){Xt(a,a.return,ye)}}function vS(s){var a=s.updateQueue;if(a!==null){var u=s.stateNode;try{i1(a,u)}catch(f){Xt(s,s.return,f)}}}function yS(s,a,u){u.props=zo(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(f){Xt(s,a,f)}}function zc(s,a){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var f=s.stateNode;break;case 30:f=s.stateNode;break;default:f=s.stateNode}typeof u=="function"?s.refCleanup=u(f):u.current=f}}catch(v){Xt(s,a,v)}}function ts(s,a){var u=s.ref,f=s.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(v){Xt(s,a,v)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(v){Xt(s,a,v)}else u.current=null}function bS(s){var a=s.type,u=s.memoizedProps,f=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(v){Xt(s,s.return,v)}}function Hv(s,a,u){try{var f=s.stateNode;z4(f,s.type,u,a),f[Te]=a}catch(v){Xt(s,s.return,v)}}function wS(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&ja(s.type)||s.tag===4}function $v(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||wS(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&ja(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function qv(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(s),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Gh));else if(f!==4&&(f===27&&ja(s.type)&&(u=s.stateNode,a=null),s=s.child,s!==null))for(qv(s,a,u),s=s.sibling;s!==null;)qv(s,a,u),s=s.sibling}function jh(s,a,u){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(f!==4&&(f===27&&ja(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(jh(s,a,u),s=s.sibling;s!==null;)jh(s,a,u),s=s.sibling}function xS(s){var a=s.stateNode,u=s.memoizedProps;try{for(var f=s.type,v=a.attributes;v.length;)a.removeAttributeNode(v[0]);ir(a,f,u),a[_e]=s,a[Te]=u}catch(b){Xt(s,s.return,b)}}var Gs=!1,Sn=!1,Gv=!1,_S=typeof WeakSet=="function"?WeakSet:Set,Gn=null;function w4(s,a){if(s=s.containerInfo,gy=Jh,s=P_(s),$g(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var v=f.anchorOffset,b=f.focusNode;f=f.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break e}var L=0,q=-1,ee=-1,de=0,ye=0,xe=s,fe=null;t:for(;;){for(var he;xe!==u||v!==0&&xe.nodeType!==3||(q=L+v),xe!==b||f!==0&&xe.nodeType!==3||(ee=L+f),xe.nodeType===3&&(L+=xe.nodeValue.length),(he=xe.firstChild)!==null;)fe=xe,xe=he;for(;;){if(xe===s)break t;if(fe===u&&++de===v&&(q=L),fe===b&&++ye===f&&(ee=L),(he=xe.nextSibling)!==null)break;xe=fe,fe=xe.parentNode}xe=he}u=q===-1||ee===-1?null:{start:q,end:ee}}else u=null}u=u||{start:0,end:0}}else u=null;for(vy={focusedElem:s,selectionRange:u},Jh=!1,Gn=a;Gn!==null;)if(a=Gn,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,Gn=s;else for(;Gn!==null;){switch(a=Gn,b=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&b!==null){s=void 0,u=a,v=b.memoizedProps,b=b.memoizedState,f=u.stateNode;try{var st=zo(u.type,v,u.elementType===u.type);s=f.getSnapshotBeforeUpdate(st,b),f.__reactInternalSnapshotBeforeUpdate=s}catch(Qe){Xt(u,u.return,Qe)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,u=s.nodeType,u===9)wy(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":wy(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=a.sibling,s!==null){s.return=a.return,Gn=s;break}Gn=a.return}}function SS(s,a,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Ra(s,u),f&4&&Uc(5,u);break;case 1:if(Ra(s,u),f&4)if(s=u.stateNode,a===null)try{s.componentDidMount()}catch(L){Xt(u,u.return,L)}else{var v=zo(u.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(v,a,s.__reactInternalSnapshotBeforeUpdate)}catch(L){Xt(u,u.return,L)}}f&64&&vS(u),f&512&&zc(u,u.return);break;case 3:if(Ra(s,u),f&64&&(s=u.updateQueue,s!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{i1(s,a)}catch(L){Xt(u,u.return,L)}}break;case 27:a===null&&f&4&&xS(u);case 26:case 5:Ra(s,u),a===null&&f&4&&bS(u),f&512&&zc(u,u.return);break;case 12:Ra(s,u);break;case 13:Ra(s,u),f&4&&AS(s,u),f&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=N4.bind(null,u),K4(s,u))));break;case 22:if(f=u.memoizedState!==null||Gs,!f){a=a!==null&&a.memoizedState!==null||Sn,v=Gs;var b=Sn;Gs=f,(Sn=a)&&!b?Na(s,u,(u.subtreeFlags&8772)!==0):Ra(s,u),Gs=v,Sn=b}break;case 30:break;default:Ra(s,u)}}function TS(s){var a=s.alternate;a!==null&&(s.alternate=null,TS(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Ke(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var an=null,Cr=!1;function Ks(s,a,u){for(u=u.child;u!==null;)ES(s,a,u),u=u.sibling}function ES(s,a,u){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(pt,u)}catch{}switch(u.tag){case 26:Sn||ts(u,a),Ks(s,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Sn||ts(u,a);var f=an,v=Cr;ja(u.type)&&(an=u.stateNode,Cr=!1),Ks(s,a,u),Yc(u.stateNode),an=f,Cr=v;break;case 5:Sn||ts(u,a);case 6:if(f=an,v=Cr,an=null,Ks(s,a,u),an=f,Cr=v,an!==null)if(Cr)try{(an.nodeType===9?an.body:an.nodeName==="HTML"?an.ownerDocument.body:an).removeChild(u.stateNode)}catch(b){Xt(u,a,b)}else try{an.removeChild(u.stateNode)}catch(b){Xt(u,a,b)}break;case 18:an!==null&&(Cr?(s=an,hT(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),rd(s)):hT(an,u.stateNode));break;case 4:f=an,v=Cr,an=u.stateNode.containerInfo,Cr=!0,Ks(s,a,u),an=f,Cr=v;break;case 0:case 11:case 14:case 15:Sn||Ca(2,u,a),Sn||Ca(4,u,a),Ks(s,a,u);break;case 1:Sn||(ts(u,a),f=u.stateNode,typeof f.componentWillUnmount=="function"&&yS(u,a,f)),Ks(s,a,u);break;case 21:Ks(s,a,u);break;case 22:Sn=(f=Sn)||u.memoizedState!==null,Ks(s,a,u),Sn=f;break;default:Ks(s,a,u)}}function AS(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{rd(s)}catch(u){Xt(a,a.return,u)}}function x4(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new _S),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new _S),a;default:throw Error(r(435,s.tag))}}function Kv(s,a){var u=x4(s);a.forEach(function(f){var v=I4.bind(null,s,f);u.has(f)||(u.add(f),f.then(v,v))})}function Fr(s,a){var u=a.deletions;if(u!==null)for(var f=0;f<u.length;f++){var v=u[f],b=s,L=a,q=L;e:for(;q!==null;){switch(q.tag){case 27:if(ja(q.type)){an=q.stateNode,Cr=!1;break e}break;case 5:an=q.stateNode,Cr=!1;break e;case 3:case 4:an=q.stateNode.containerInfo,Cr=!0;break e}q=q.return}if(an===null)throw Error(r(160));ES(b,L,v),an=null,Cr=!1,b=v.alternate,b!==null&&(b.return=null),v.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)CS(a,s),a=a.sibling}var Ci=null;function CS(s,a){var u=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Fr(a,s),Hr(s),f&4&&(Ca(3,s,s.return),Uc(3,s),Ca(5,s,s.return));break;case 1:Fr(a,s),Hr(s),f&512&&(Sn||u===null||ts(u,u.return)),f&64&&Gs&&(s=s.updateQueue,s!==null&&(f=s.callbacks,f!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var v=Ci;if(Fr(a,s),Hr(s),f&512&&(Sn||u===null||ts(u,u.return)),f&4){var b=u!==null?u.memoizedState:null;if(f=s.memoizedState,u===null)if(f===null)if(s.stateNode===null){e:{f=s.type,u=s.memoizedProps,v=v.ownerDocument||v;t:switch(f){case"title":b=v.getElementsByTagName("title")[0],(!b||b[Je]||b[_e]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=v.createElement(f),v.head.insertBefore(b,v.querySelector("head > title"))),ir(b,f,u),b[_e]=s,Ct(b),f=b;break e;case"link":var L=xT("link","href",v).get(f+(u.href||""));if(L){for(var q=0;q<L.length;q++)if(b=L[q],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){L.splice(q,1);break t}}b=v.createElement(f),ir(b,f,u),v.head.appendChild(b);break;case"meta":if(L=xT("meta","content",v).get(f+(u.content||""))){for(q=0;q<L.length;q++)if(b=L[q],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){L.splice(q,1);break t}}b=v.createElement(f),ir(b,f,u),v.head.appendChild(b);break;default:throw Error(r(468,f))}b[_e]=s,Ct(b),f=b}s.stateNode=f}else _T(v,s.type,s.stateNode);else s.stateNode=wT(v,f,s.memoizedProps);else b!==f?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,f===null?_T(v,s.type,s.stateNode):wT(v,f,s.memoizedProps)):f===null&&s.stateNode!==null&&Hv(s,s.memoizedProps,u.memoizedProps)}break;case 27:Fr(a,s),Hr(s),f&512&&(Sn||u===null||ts(u,u.return)),u!==null&&f&4&&Hv(s,s.memoizedProps,u.memoizedProps);break;case 5:if(Fr(a,s),Hr(s),f&512&&(Sn||u===null||ts(u,u.return)),s.flags&32){v=s.stateNode;try{ii(v,"")}catch(he){Xt(s,s.return,he)}}f&4&&s.stateNode!=null&&(v=s.memoizedProps,Hv(s,v,u!==null?u.memoizedProps:v)),f&1024&&(Gv=!0);break;case 6:if(Fr(a,s),Hr(s),f&4){if(s.stateNode===null)throw Error(r(162));f=s.memoizedProps,u=s.stateNode;try{u.nodeValue=f}catch(he){Xt(s,s.return,he)}}break;case 3:if(Xh=null,v=Ci,Ci=Wh(a.containerInfo),Fr(a,s),Ci=v,Hr(s),f&4&&u!==null&&u.memoizedState.isDehydrated)try{rd(a.containerInfo)}catch(he){Xt(s,s.return,he)}Gv&&(Gv=!1,RS(s));break;case 4:f=Ci,Ci=Wh(s.stateNode.containerInfo),Fr(a,s),Hr(s),Ci=f;break;case 12:Fr(a,s),Hr(s);break;case 13:Fr(a,s),Hr(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Jv=Ie()),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,Kv(s,f)));break;case 22:v=s.memoizedState!==null;var ee=u!==null&&u.memoizedState!==null,de=Gs,ye=Sn;if(Gs=de||v,Sn=ye||ee,Fr(a,s),Sn=ye,Gs=de,Hr(s),f&8192)e:for(a=s.stateNode,a._visibility=v?a._visibility&-2:a._visibility|1,v&&(u===null||ee||Gs||Sn||Bo(s)),u=null,a=s;;){if(a.tag===5||a.tag===26){if(u===null){ee=u=a;try{if(b=ee.stateNode,v)L=b.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none";else{q=ee.stateNode;var xe=ee.memoizedProps.style,fe=xe!=null&&xe.hasOwnProperty("display")?xe.display:null;q.style.display=fe==null||typeof fe=="boolean"?"":(""+fe).trim()}}catch(he){Xt(ee,ee.return,he)}}}else if(a.tag===6){if(u===null){ee=a;try{ee.stateNode.nodeValue=v?"":ee.memoizedProps}catch(he){Xt(ee,ee.return,he)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}f&4&&(f=s.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,Kv(s,u))));break;case 19:Fr(a,s),Hr(s),f&4&&(f=s.updateQueue,f!==null&&(s.updateQueue=null,Kv(s,f)));break;case 30:break;case 21:break;default:Fr(a,s),Hr(s)}}function Hr(s){var a=s.flags;if(a&2){try{for(var u,f=s.return;f!==null;){if(wS(f)){u=f;break}f=f.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var v=u.stateNode,b=$v(s);jh(s,b,v);break;case 5:var L=u.stateNode;u.flags&32&&(ii(L,""),u.flags&=-33);var q=$v(s);jh(s,q,L);break;case 3:case 4:var ee=u.stateNode.containerInfo,de=$v(s);qv(s,de,ee);break;default:throw Error(r(161))}}catch(ye){Xt(s,s.return,ye)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function RS(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;RS(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Ra(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)SS(s,a.alternate,a),a=a.sibling}function Bo(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Ca(4,a,a.return),Bo(a);break;case 1:ts(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&yS(a,a.return,u),Bo(a);break;case 27:Yc(a.stateNode);case 26:case 5:ts(a,a.return),Bo(a);break;case 22:a.memoizedState===null&&Bo(a);break;case 30:Bo(a);break;default:Bo(a)}s=s.sibling}}function Na(s,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var f=a.alternate,v=s,b=a,L=b.flags;switch(b.tag){case 0:case 11:case 15:Na(v,b,u),Uc(4,b);break;case 1:if(Na(v,b,u),f=b,v=f.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(de){Xt(f,f.return,de)}if(f=b,v=f.updateQueue,v!==null){var q=f.stateNode;try{var ee=v.shared.hiddenCallbacks;if(ee!==null)for(v.shared.hiddenCallbacks=null,v=0;v<ee.length;v++)r1(ee[v],q)}catch(de){Xt(f,f.return,de)}}u&&L&64&&vS(b),zc(b,b.return);break;case 27:xS(b);case 26:case 5:Na(v,b,u),u&&f===null&&L&4&&bS(b),zc(b,b.return);break;case 12:Na(v,b,u);break;case 13:Na(v,b,u),u&&L&4&&AS(v,b);break;case 22:b.memoizedState===null&&Na(v,b,u),zc(b,b.return);break;case 30:break;default:Na(v,b,u)}a=a.sibling}}function Wv(s,a){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&Ec(u))}function Yv(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Ec(s))}function ns(s,a,u,f){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)NS(s,a,u,f),a=a.sibling}function NS(s,a,u,f){var v=a.flags;switch(a.tag){case 0:case 11:case 15:ns(s,a,u,f),v&2048&&Uc(9,a);break;case 1:ns(s,a,u,f);break;case 3:ns(s,a,u,f),v&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Ec(s)));break;case 12:if(v&2048){ns(s,a,u,f),s=a.stateNode;try{var b=a.memoizedProps,L=b.id,q=b.onPostCommit;typeof q=="function"&&q(L,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(ee){Xt(a,a.return,ee)}}else ns(s,a,u,f);break;case 13:ns(s,a,u,f);break;case 23:break;case 22:b=a.stateNode,L=a.alternate,a.memoizedState!==null?b._visibility&2?ns(s,a,u,f):Bc(s,a):b._visibility&2?ns(s,a,u,f):(b._visibility|=2,Kl(s,a,u,f,(a.subtreeFlags&10256)!==0)),v&2048&&Wv(L,a);break;case 24:ns(s,a,u,f),v&2048&&Yv(a.alternate,a);break;default:ns(s,a,u,f)}}function Kl(s,a,u,f,v){for(v=v&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var b=s,L=a,q=u,ee=f,de=L.flags;switch(L.tag){case 0:case 11:case 15:Kl(b,L,q,ee,v),Uc(8,L);break;case 23:break;case 22:var ye=L.stateNode;L.memoizedState!==null?ye._visibility&2?Kl(b,L,q,ee,v):Bc(b,L):(ye._visibility|=2,Kl(b,L,q,ee,v)),v&&de&2048&&Wv(L.alternate,L);break;case 24:Kl(b,L,q,ee,v),v&&de&2048&&Yv(L.alternate,L);break;default:Kl(b,L,q,ee,v)}a=a.sibling}}function Bc(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=s,f=a,v=f.flags;switch(f.tag){case 22:Bc(u,f),v&2048&&Wv(f.alternate,f);break;case 24:Bc(u,f),v&2048&&Yv(f.alternate,f);break;default:Bc(u,f)}a=a.sibling}}var Fc=8192;function Wl(s){if(s.subtreeFlags&Fc)for(s=s.child;s!==null;)IS(s),s=s.sibling}function IS(s){switch(s.tag){case 26:Wl(s),s.flags&Fc&&s.memoizedState!==null&&aj(Ci,s.memoizedState,s.memoizedProps);break;case 5:Wl(s);break;case 3:case 4:var a=Ci;Ci=Wh(s.stateNode.containerInfo),Wl(s),Ci=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=Fc,Fc=16777216,Wl(s),Fc=a):Wl(s));break;default:Wl(s)}}function OS(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Hc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];Gn=f,PS(f,s)}OS(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)MS(s),s=s.sibling}function MS(s){switch(s.tag){case 0:case 11:case 15:Hc(s),s.flags&2048&&Ca(9,s,s.return);break;case 3:Hc(s);break;case 12:Hc(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,kh(s)):Hc(s);break;default:Hc(s)}}function kh(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var f=a[u];Gn=f,PS(f,s)}OS(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Ca(8,a,a.return),kh(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,kh(a));break;default:kh(a)}s=s.sibling}}function PS(s,a){for(;Gn!==null;){var u=Gn;switch(u.tag){case 0:case 11:case 15:Ca(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Ec(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,Gn=f;else e:for(u=s;Gn!==null;){f=Gn;var v=f.sibling,b=f.return;if(TS(f),f===u){Gn=null;break e}if(v!==null){v.return=b,Gn=v;break e}Gn=b}}}var _4={getCacheForType:function(s){var a=cr(zn),u=a.data.get(s);return u===void 0&&(u=s(),a.data.set(s,u)),u}},S4=typeof WeakMap=="function"?WeakMap:Map,Ht=0,tn=null,xt=null,Ot=0,$t=0,$r=null,Ia=!1,Yl=!1,Xv=!1,Ws=0,gn=0,Oa=0,Fo=0,Qv=0,hi=0,Xl=0,$c=null,Rr=null,Zv=!1,Jv=0,Lh=1/0,Vh=null,Ma=null,rr=0,Pa=null,Ql=null,Zl=0,ey=0,ty=null,DS=null,qc=0,ny=null;function qr(){if((Ht&2)!==0&&Ot!==0)return Ot&-Ot;if(B.T!==null){var s=Ul;return s!==0?s:uy()}return te()}function jS(){hi===0&&(hi=(Ot&536870912)===0||jt?Rs():536870912);var s=fi.current;return s!==null&&(s.flags|=32),hi}function Gr(s,a,u){(s===tn&&($t===2||$t===9)||s.cancelPendingCommit!==null)&&(Jl(s,0),Da(s,Ot,hi,!1)),Ti(s,u),((Ht&2)===0||s!==tn)&&(s===tn&&((Ht&2)===0&&(Fo|=u),gn===4&&Da(s,Ot,hi,!1)),rs(s))}function kS(s,a,u){if((Ht&6)!==0)throw Error(r(327));var f=!u&&(a&124)===0&&(a&s.expiredLanes)===0||ei(s,a),v=f?A4(s,a):sy(s,a,!0),b=f;do{if(v===0){Yl&&!f&&Da(s,a,0,!1);break}else{if(u=s.current.alternate,b&&!T4(u)){v=sy(s,a,!1),b=!1;continue}if(v===2){if(b=a,s.errorRecoveryDisabledLanes&b)var L=0;else L=s.pendingLanes&-536870913,L=L!==0?L:L&536870912?536870912:0;if(L!==0){a=L;e:{var q=s;v=$c;var ee=q.current.memoizedState.isDehydrated;if(ee&&(Jl(q,L).flags|=256),L=sy(q,L,!1),L!==2){if(Xv&&!ee){q.errorRecoveryDisabledLanes|=b,Fo|=b,v=4;break e}b=Rr,Rr=v,b!==null&&(Rr===null?Rr=b:Rr.push.apply(Rr,b))}v=L}if(b=!1,v!==2)continue}}if(v===1){Jl(s,0),Da(s,a,0,!0);break}e:{switch(f=s,b=v,b){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:Da(f,a,hi,!Ia);break e;case 2:Rr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(v=Jv+300-Ie(),10<v)){if(Da(f,a,hi,!Ia),Cs(f,0,!0)!==0)break e;f.timeoutHandle=dT(LS.bind(null,f,u,Rr,Vh,Zv,a,hi,Fo,Xl,Ia,b,2,-0,0),v);break e}LS(f,u,Rr,Vh,Zv,a,hi,Fo,Xl,Ia,b,0,-0,0)}}break}while(!0);rs(s)}function LS(s,a,u,f,v,b,L,q,ee,de,ye,xe,fe,he){if(s.timeoutHandle=-1,xe=a.subtreeFlags,(xe&8192||(xe&16785408)===16785408)&&(Zc={stylesheets:null,count:0,unsuspend:sj},IS(a),xe=oj(),xe!==null)){s.cancelPendingCommit=xe($S.bind(null,s,a,b,u,f,v,L,q,ee,ye,1,fe,he)),Da(s,b,L,!de);return}$S(s,a,b,u,f,v,L,q,ee)}function T4(s){for(var a=s;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var v=u[f],b=v.getSnapshot;v=v.value;try{if(!zr(b(),v))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Da(s,a,u,f){a&=~Qv,a&=~Fo,s.suspendedLanes|=a,s.pingedLanes&=~a,f&&(s.warmLanes|=a),f=s.expirationTimes;for(var v=a;0<v;){var b=31-en(v),L=1<<b;f[b]=-1,v&=~L}u!==0&&vr(s,u,a)}function Uh(){return(Ht&6)===0?(Gc(0),!1):!0}function ry(){if(xt!==null){if($t===0)var s=xt.return;else s=xt,zs=ko=null,wv(s),ql=null,kc=0,s=xt;for(;s!==null;)gS(s.alternate,s),s=s.return;xt=null}}function Jl(s,a){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,F4(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),ry(),tn=s,xt=u=Ls(s.current,null),Ot=a,$t=0,$r=null,Ia=!1,Yl=ei(s,a),Xv=!1,Xl=hi=Qv=Fo=Oa=gn=0,Rr=$c=null,Zv=!1,(a&8)!==0&&(a|=a&32);var f=s.entangledLanes;if(f!==0)for(s=s.entanglements,f&=a;0<f;){var v=31-en(f),b=1<<v;a|=s[v],f&=~b}return Ws=a,oh(),u}function VS(s,a){gt=null,B.H=Ah,a===Cc||a===gh?(a=t1(),$t=3):a===Z_?(a=t1(),$t=4):$t=a===nS?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,$r=a,xt===null&&(gn=1,Oh(s,li(a,s.current)))}function US(){var s=B.H;return B.H=Ah,s===null?Ah:s}function zS(){var s=B.A;return B.A=_4,s}function iy(){gn=4,Ia||(Ot&4194048)!==Ot&&fi.current!==null||(Yl=!0),(Oa&134217727)===0&&(Fo&134217727)===0||tn===null||Da(tn,Ot,hi,!1)}function sy(s,a,u){var f=Ht;Ht|=2;var v=US(),b=zS();(tn!==s||Ot!==a)&&(Vh=null,Jl(s,a)),a=!1;var L=gn;e:do try{if($t!==0&&xt!==null){var q=xt,ee=$r;switch($t){case 8:ry(),L=6;break e;case 3:case 2:case 9:case 6:fi.current===null&&(a=!0);var de=$t;if($t=0,$r=null,eu(s,q,ee,de),u&&Yl){L=0;break e}break;default:de=$t,$t=0,$r=null,eu(s,q,ee,de)}}E4(),L=gn;break}catch(ye){VS(s,ye)}while(!0);return a&&s.shellSuspendCounter++,zs=ko=null,Ht=f,B.H=v,B.A=b,xt===null&&(tn=null,Ot=0,oh()),L}function E4(){for(;xt!==null;)BS(xt)}function A4(s,a){var u=Ht;Ht|=2;var f=US(),v=zS();tn!==s||Ot!==a?(Vh=null,Lh=Ie()+500,Jl(s,a)):Yl=ei(s,a);e:do try{if($t!==0&&xt!==null){a=xt;var b=$r;t:switch($t){case 1:$t=0,$r=null,eu(s,a,b,1);break;case 2:case 9:if(J_(b)){$t=0,$r=null,FS(a);break}a=function(){$t!==2&&$t!==9||tn!==s||($t=7),rs(s)},b.then(a,a);break e;case 3:$t=7;break e;case 4:$t=5;break e;case 7:J_(b)?($t=0,$r=null,FS(a)):($t=0,$r=null,eu(s,a,b,7));break;case 5:var L=null;switch(xt.tag){case 26:L=xt.memoizedState;case 5:case 27:var q=xt;if(!L||ST(L)){$t=0,$r=null;var ee=q.sibling;if(ee!==null)xt=ee;else{var de=q.return;de!==null?(xt=de,zh(de)):xt=null}break t}}$t=0,$r=null,eu(s,a,b,5);break;case 6:$t=0,$r=null,eu(s,a,b,6);break;case 8:ry(),gn=6;break e;default:throw Error(r(462))}}C4();break}catch(ye){VS(s,ye)}while(!0);return zs=ko=null,B.H=f,B.A=v,Ht=u,xt!==null?0:(tn=null,Ot=0,oh(),gn)}function C4(){for(;xt!==null&&!Ce();)BS(xt)}function BS(s){var a=mS(s.alternate,s,Ws);s.memoizedProps=s.pendingProps,a===null?zh(s):xt=a}function FS(s){var a=s,u=a.alternate;switch(a.tag){case 15:case 0:a=lS(u,a,a.pendingProps,a.type,void 0,Ot);break;case 11:a=lS(u,a,a.pendingProps,a.type.render,a.ref,Ot);break;case 5:wv(a);default:gS(u,a),a=xt=H_(a,Ws),a=mS(u,a,Ws)}s.memoizedProps=s.pendingProps,a===null?zh(s):xt=a}function eu(s,a,u,f){zs=ko=null,wv(a),ql=null,kc=0;var v=a.return;try{if(g4(s,v,a,u,Ot)){gn=1,Oh(s,li(u,s.current)),xt=null;return}}catch(b){if(v!==null)throw xt=v,b;gn=1,Oh(s,li(u,s.current)),xt=null;return}a.flags&32768?(jt||f===1?s=!0:Yl||(Ot&536870912)!==0?s=!1:(Ia=s=!0,(f===2||f===9||f===3||f===6)&&(f=fi.current,f!==null&&f.tag===13&&(f.flags|=16384))),HS(a,s)):zh(a)}function zh(s){var a=s;do{if((a.flags&32768)!==0){HS(a,Ia);return}s=a.return;var u=y4(a.alternate,a,Ws);if(u!==null){xt=u;return}if(a=a.sibling,a!==null){xt=a;return}xt=a=s}while(a!==null);gn===0&&(gn=5)}function HS(s,a){do{var u=b4(s.alternate,s);if(u!==null){u.flags&=32767,xt=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(s=s.sibling,s!==null)){xt=s;return}xt=s=u}while(s!==null);gn=6,xt=null}function $S(s,a,u,f,v,b,L,q,ee){s.cancelPendingCommit=null;do Bh();while(rr!==0);if((Ht&6)!==0)throw Error(r(327));if(a!==null){if(a===s.current)throw Error(r(177));if(b=a.lanes|a.childLanes,b|=Yg,pa(s,u,b,L,q,ee),s===tn&&(xt=tn=null,Ot=0),Ql=a,Pa=s,Zl=u,ey=b,ty=v,DS=f,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,O4(Rt,function(){return YS(),null})):(s.callbackNode=null,s.callbackPriority=0),f=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||f){f=B.T,B.T=null,v=T.p,T.p=2,L=Ht,Ht|=4;try{w4(s,a,u)}finally{Ht=L,T.p=v,B.T=f}}rr=1,qS(),GS(),KS()}}function qS(){if(rr===1){rr=0;var s=Pa,a=Ql,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=B.T,B.T=null;var f=T.p;T.p=2;var v=Ht;Ht|=4;try{CS(a,s);var b=vy,L=P_(s.containerInfo),q=b.focusedElem,ee=b.selectionRange;if(L!==q&&q&&q.ownerDocument&&M_(q.ownerDocument.documentElement,q)){if(ee!==null&&$g(q)){var de=ee.start,ye=ee.end;if(ye===void 0&&(ye=de),"selectionStart"in q)q.selectionStart=de,q.selectionEnd=Math.min(ye,q.value.length);else{var xe=q.ownerDocument||document,fe=xe&&xe.defaultView||window;if(fe.getSelection){var he=fe.getSelection(),st=q.textContent.length,Qe=Math.min(ee.start,st),Wt=ee.end===void 0?Qe:Math.min(ee.end,st);!he.extend&&Qe>Wt&&(L=Wt,Wt=Qe,Qe=L);var ie=O_(q,Qe),re=O_(q,Wt);if(ie&&re&&(he.rangeCount!==1||he.anchorNode!==ie.node||he.anchorOffset!==ie.offset||he.focusNode!==re.node||he.focusOffset!==re.offset)){var ue=xe.createRange();ue.setStart(ie.node,ie.offset),he.removeAllRanges(),Qe>Wt?(he.addRange(ue),he.extend(re.node,re.offset)):(ue.setEnd(re.node,re.offset),he.addRange(ue))}}}}for(xe=[],he=q;he=he.parentNode;)he.nodeType===1&&xe.push({element:he,left:he.scrollLeft,top:he.scrollTop});for(typeof q.focus=="function"&&q.focus(),q=0;q<xe.length;q++){var be=xe[q];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}Jh=!!gy,vy=gy=null}finally{Ht=v,T.p=f,B.T=u}}s.current=a,rr=2}}function GS(){if(rr===2){rr=0;var s=Pa,a=Ql,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=B.T,B.T=null;var f=T.p;T.p=2;var v=Ht;Ht|=4;try{SS(s,a.alternate,a)}finally{Ht=v,T.p=f,B.T=u}}rr=3}}function KS(){if(rr===4||rr===3){rr=0,$e();var s=Pa,a=Ql,u=Zl,f=DS;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?rr=5:(rr=0,Ql=Pa=null,WS(s,s.pendingLanes));var v=s.pendingLanes;if(v===0&&(Ma=null),ga(u),a=a.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(pt,a,void 0,(a.current.flags&128)===128)}catch{}if(f!==null){a=B.T,v=T.p,T.p=2,B.T=null;try{for(var b=s.onRecoverableError,L=0;L<f.length;L++){var q=f[L];b(q.value,{componentStack:q.stack})}}finally{B.T=a,T.p=v}}(Zl&3)!==0&&Bh(),rs(s),v=s.pendingLanes,(u&4194090)!==0&&(v&42)!==0?s===ny?qc++:(qc=0,ny=s):qc=0,Gc(0)}}function WS(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Ec(a)))}function Bh(s){return qS(),GS(),KS(),YS()}function YS(){if(rr!==5)return!1;var s=Pa,a=ey;ey=0;var u=ga(Zl),f=B.T,v=T.p;try{T.p=32>u?32:u,B.T=null,u=ty,ty=null;var b=Pa,L=Zl;if(rr=0,Ql=Pa=null,Zl=0,(Ht&6)!==0)throw Error(r(331));var q=Ht;if(Ht|=4,MS(b.current),NS(b,b.current,L,u),Ht=q,Gc(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(pt,b)}catch{}return!0}finally{T.p=v,B.T=f,WS(s,a)}}function XS(s,a,u){a=li(u,a),a=Dv(s.stateNode,a,2),s=Sa(s,a,2),s!==null&&(Ti(s,2),rs(s))}function Xt(s,a,u){if(s.tag===3)XS(s,s,u);else for(;a!==null;){if(a.tag===3){XS(a,s,u);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ma===null||!Ma.has(f))){s=li(u,s),u=eS(2),f=Sa(a,u,2),f!==null&&(tS(u,f,a,s),Ti(f,2),rs(f));break}}a=a.return}}function ay(s,a,u){var f=s.pingCache;if(f===null){f=s.pingCache=new S4;var v=new Set;f.set(a,v)}else v=f.get(a),v===void 0&&(v=new Set,f.set(a,v));v.has(u)||(Xv=!0,v.add(u),s=R4.bind(null,s,a,u),a.then(s,s))}function R4(s,a,u){var f=s.pingCache;f!==null&&f.delete(a),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,tn===s&&(Ot&u)===u&&(gn===4||gn===3&&(Ot&62914560)===Ot&&300>Ie()-Jv?(Ht&2)===0&&Jl(s,0):Qv|=u,Xl===Ot&&(Xl=0)),rs(s)}function QS(s,a){a===0&&(a=vo()),s=jl(s,a),s!==null&&(Ti(s,a),rs(s))}function N4(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),QS(s,u)}function I4(s,a){var u=0;switch(s.tag){case 13:var f=s.stateNode,v=s.memoizedState;v!==null&&(u=v.retryLane);break;case 19:f=s.stateNode;break;case 22:f=s.stateNode._retryCache;break;default:throw Error(r(314))}f!==null&&f.delete(a),QS(s,u)}function O4(s,a){return Xe(s,a)}var Fh=null,tu=null,oy=!1,Hh=!1,ly=!1,Ho=0;function rs(s){s!==tu&&s.next===null&&(tu===null?Fh=tu=s:tu=tu.next=s),Hh=!0,oy||(oy=!0,P4())}function Gc(s,a){if(!ly&&Hh){ly=!0;do for(var u=!1,f=Fh;f!==null;){if(s!==0){var v=f.pendingLanes;if(v===0)var b=0;else{var L=f.suspendedLanes,q=f.pingedLanes;b=(1<<31-en(42|s)+1)-1,b&=v&~(L&~q),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,tT(f,b))}else b=Ot,b=Cs(f,f===tn?b:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(b&3)===0||ei(f,b)||(u=!0,tT(f,b));f=f.next}while(u);ly=!1}}function M4(){ZS()}function ZS(){Hh=oy=!1;var s=0;Ho!==0&&(B4()&&(s=Ho),Ho=0);for(var a=Ie(),u=null,f=Fh;f!==null;){var v=f.next,b=JS(f,a);b===0?(f.next=null,u===null?Fh=v:u.next=v,v===null&&(tu=u)):(u=f,(s!==0||(b&3)!==0)&&(Hh=!0)),f=v}Gc(s)}function JS(s,a){for(var u=s.suspendedLanes,f=s.pingedLanes,v=s.expirationTimes,b=s.pendingLanes&-62914561;0<b;){var L=31-en(b),q=1<<L,ee=v[L];ee===-1?((q&u)===0||(q&f)!==0)&&(v[L]=ma(q,a)):ee<=a&&(s.expiredLanes|=q),b&=~q}if(a=tn,u=Ot,u=Cs(s,s===a?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f=s.callbackNode,u===0||s===a&&($t===2||$t===9)||s.cancelPendingCommit!==null)return f!==null&&f!==null&&me(f),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||ei(s,u)){if(a=u&-u,a===s.callbackPriority)return a;switch(f!==null&&me(f),ga(u)){case 2:case 8:u=ot;break;case 32:u=Rt;break;case 268435456:u=mn;break;default:u=Rt}return f=eT.bind(null,s),u=Xe(u,f),s.callbackPriority=a,s.callbackNode=u,a}return f!==null&&f!==null&&me(f),s.callbackPriority=2,s.callbackNode=null,2}function eT(s,a){if(rr!==0&&rr!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(Bh()&&s.callbackNode!==u)return null;var f=Ot;return f=Cs(s,s===tn?f:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),f===0?null:(kS(s,f,a),JS(s,Ie()),s.callbackNode!=null&&s.callbackNode===u?eT.bind(null,s):null)}function tT(s,a){if(Bh())return null;kS(s,a,!0)}function P4(){H4(function(){(Ht&6)!==0?Xe(mt,M4):ZS()})}function uy(){return Ho===0&&(Ho=Rs()),Ho}function nT(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Sl(""+s)}function rT(s,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,s.id&&u.setAttribute("form",s.id),a.parentNode.insertBefore(u,a),s=new FormData(s),u.parentNode.removeChild(u),s}function D4(s,a,u,f,v){if(a==="submit"&&u&&u.stateNode===v){var b=nT((v[Te]||null).action),L=f.submitter;L&&(a=(a=L[Te]||null)?nT(a.formAction):L.getAttribute("formAction"),a!==null&&(b=a,L=null));var q=new Tl("action","action",null,f,v);s.push({event:q,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Ho!==0){var ee=L?rT(v,L):new FormData(v);Nv(u,{pending:!0,data:ee,method:v.method,action:b},null,ee)}}else typeof b=="function"&&(q.preventDefault(),ee=L?rT(v,L):new FormData(v),Nv(u,{pending:!0,data:ee,method:v.method,action:b},b,ee))},currentTarget:v}]})}}for(var cy=0;cy<Wg.length;cy++){var dy=Wg[cy],j4=dy.toLowerCase(),k4=dy[0].toUpperCase()+dy.slice(1);Ai(j4,"on"+k4)}Ai(k_,"onAnimationEnd"),Ai(L_,"onAnimationIteration"),Ai(V_,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(JD,"onTransitionRun"),Ai(e4,"onTransitionStart"),Ai(t4,"onTransitionCancel"),Ai(U_,"onTransitionEnd"),yr("onMouseEnter",["mouseout","mouseover"]),yr("onMouseLeave",["mouseout","mouseover"]),yr("onPointerEnter",["pointerout","pointerover"]),yr("onPointerLeave",["pointerout","pointerover"]),Ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),L4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kc));function iT(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var f=s[u],v=f.event;f=f.listeners;e:{var b=void 0;if(a)for(var L=f.length-1;0<=L;L--){var q=f[L],ee=q.instance,de=q.currentTarget;if(q=q.listener,ee!==b&&v.isPropagationStopped())break e;b=q,v.currentTarget=de;try{b(v)}catch(ye){Ih(ye)}v.currentTarget=null,b=ee}else for(L=0;L<f.length;L++){if(q=f[L],ee=q.instance,de=q.currentTarget,q=q.listener,ee!==b&&v.isPropagationStopped())break e;b=q,v.currentTarget=de;try{b(v)}catch(ye){Ih(ye)}v.currentTarget=null,b=ee}}}}function _t(s,a){var u=a[Ge];u===void 0&&(u=a[Ge]=new Set);var f=s+"__bubble";u.has(f)||(sT(a,s,2,!1),u.add(f))}function fy(s,a,u){var f=0;a&&(f|=4),sT(u,s,f,a)}var $h="_reactListening"+Math.random().toString(36).slice(2);function hy(s){if(!s[$h]){s[$h]=!0,yt.forEach(function(u){u!=="selectionchange"&&(L4.has(u)||fy(u,!1,s),fy(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[$h]||(a[$h]=!0,fy("selectionchange",!1,a))}}function sT(s,a,u,f){switch(NT(a)){case 2:var v=cj;break;case 8:v=dj;break;default:v=Cy}u=v.bind(null,a,u,s),v=void 0,!ai||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(v=!0),f?v!==void 0?s.addEventListener(a,u,{capture:!0,passive:v}):s.addEventListener(a,u,!0):v!==void 0?s.addEventListener(a,u,{passive:v}):s.addEventListener(a,u,!1)}function my(s,a,u,f,v){var b=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var L=f.tag;if(L===3||L===4){var q=f.stateNode.containerInfo;if(q===v)break;if(L===4)for(L=f.return;L!==null;){var ee=L.tag;if((ee===3||ee===4)&&L.stateNode.containerInfo===v)return;L=L.return}for(;q!==null;){if(L=it(q),L===null)return;if(ee=L.tag,ee===5||ee===6||ee===26||ee===27){f=b=L;continue e}q=q.parentNode}}f=f.return}Gf(function(){var de=b,ye=si(u),xe=[];e:{var fe=z_.get(s);if(fe!==void 0){var he=Tl,st=s;switch(s){case"keypress":if(Wi(u)===0)break e;case"keydown":case"keyup":he=Il;break;case"focusin":st="focus",he=Cl;break;case"focusout":st="blur",he=Cl;break;case"beforeblur":case"afterblur":he=Cl;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=oi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=zg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=eh;break;case k_:case L_:case V_:he=Rl;break;case U_:he=nh;break;case"scroll":case"scrollend":he=Kf;break;case"wheel":he=Ol;break;case"copy":case"cut":case"paste":he=Nl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=vc;break;case"toggle":case"beforetoggle":he=ih}var Qe=(a&4)!==0,Wt=!Qe&&(s==="scroll"||s==="scrollend"),ie=Qe?fe!==null?fe+"Capture":null:fe;Qe=[];for(var re=de,ue;re!==null;){var be=re;if(ue=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||ue===null||ie===null||(be=_o(re,ie),be!=null&&Qe.push(Wc(re,be,ue))),Wt)break;re=re.return}0<Qe.length&&(fe=new he(fe,st,null,u,ye),xe.push({event:fe,listeners:Qe}))}}if((a&7)===0){e:{if(fe=s==="mouseover"||s==="pointerover",he=s==="mouseout"||s==="pointerout",fe&&u!==Os&&(st=u.relatedTarget||u.fromElement)&&(it(st)||st[De]))break e;if((he||fe)&&(fe=ye.window===ye?ye:(fe=ye.ownerDocument)?fe.defaultView||fe.parentWindow:window,he?(st=u.relatedTarget||u.toElement,he=de,st=st?it(st):null,st!==null&&(Wt=o(st),Qe=st.tag,st!==Wt||Qe!==5&&Qe!==27&&Qe!==6)&&(st=null)):(he=null,st=de),he!==st)){if(Qe=oi,be="onMouseLeave",ie="onMouseEnter",re="mouse",(s==="pointerout"||s==="pointerover")&&(Qe=vc,be="onPointerLeave",ie="onPointerEnter",re="pointer"),Wt=he==null?fe:Ut(he),ue=st==null?fe:Ut(st),fe=new Qe(be,re+"leave",he,u,ye),fe.target=Wt,fe.relatedTarget=ue,be=null,it(ye)===de&&(Qe=new Qe(ie,re+"enter",st,u,ye),Qe.target=ue,Qe.relatedTarget=Wt,be=Qe),Wt=be,he&&st)t:{for(Qe=he,ie=st,re=0,ue=Qe;ue;ue=nu(ue))re++;for(ue=0,be=ie;be;be=nu(be))ue++;for(;0<re-ue;)Qe=nu(Qe),re--;for(;0<ue-re;)ie=nu(ie),ue--;for(;re--;){if(Qe===ie||ie!==null&&Qe===ie.alternate)break t;Qe=nu(Qe),ie=nu(ie)}Qe=null}else Qe=null;he!==null&&aT(xe,fe,he,Qe,!1),st!==null&&Wt!==null&&aT(xe,Wt,st,Qe,!0)}}e:{if(fe=de?Ut(de):window,he=fe.nodeName&&fe.nodeName.toLowerCase(),he==="select"||he==="input"&&fe.type==="file")var ke=E_;else if(Un(fe))if(A_)ke=XD;else{ke=WD;var bt=KD}else he=fe.nodeName,!he||he.toLowerCase()!=="input"||fe.type!=="checkbox"&&fe.type!=="radio"?de&&cc(de.elementType)&&(ke=E_):ke=YD;if(ke&&(ke=ke(s,de))){ks(xe,ke,u,ye);break e}bt&&bt(s,fe,de),s==="focusout"&&de&&fe.type==="number"&&de.memoizedProps.value!=null&&ya(fe,"number",fe.value)}switch(bt=de?Ut(de):window,s){case"focusin":(Un(bt)||bt.contentEditable==="true")&&(Ml=bt,qg=de,wc=null);break;case"focusout":wc=qg=Ml=null;break;case"mousedown":Gg=!0;break;case"contextmenu":case"mouseup":case"dragend":Gg=!1,D_(xe,u,ye);break;case"selectionchange":if(ZD)break;case"keydown":case"keyup":D_(xe,u,ye)}var Fe;if(Qi)e:{switch(s){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else Nt?pe(s,u)&&(et="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(et="onCompositionStart");et&&(D&&u.locale!=="ko"&&(Nt||et!=="onCompositionStart"?et==="onCompositionEnd"&&Nt&&(Fe=fc()):(Ki=ye,ba="value"in Ki?Ki.value:Ki.textContent,Nt=!0)),bt=qh(de,et),0<bt.length&&(et=new pc(et,s,null,u,ye),xe.push({event:et,listeners:bt}),Fe?et.data=Fe:(Fe=Ae(u),Fe!==null&&(et.data=Fe)))),(Fe=_?Vn(s,u):It(s,u))&&(et=qh(de,"onBeforeInput"),0<et.length&&(bt=new pc("onBeforeInput","beforeinput",null,u,ye),xe.push({event:bt,listeners:et}),bt.data=Fe)),D4(xe,s,de,u,ye)}iT(xe,a)})}function Wc(s,a,u){return{instance:s,listener:a,currentTarget:u}}function qh(s,a){for(var u=a+"Capture",f=[];s!==null;){var v=s,b=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||b===null||(v=_o(s,u),v!=null&&f.unshift(Wc(s,v,b)),v=_o(s,a),v!=null&&f.push(Wc(s,v,b))),s.tag===3)return f;s=s.return}return[]}function nu(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function aT(s,a,u,f,v){for(var b=a._reactName,L=[];u!==null&&u!==f;){var q=u,ee=q.alternate,de=q.stateNode;if(q=q.tag,ee!==null&&ee===f)break;q!==5&&q!==26&&q!==27||de===null||(ee=de,v?(de=_o(u,b),de!=null&&L.unshift(Wc(u,de,ee))):v||(de=_o(u,b),de!=null&&L.push(Wc(u,de,ee)))),u=u.return}L.length!==0&&s.push({event:a,listeners:L})}var V4=/\r\n?/g,U4=/\u0000|\uFFFD/g;function oT(s){return(typeof s=="string"?s:""+s).replace(V4,`
`).replace(U4,"")}function lT(s,a){return a=oT(a),oT(s)===a}function Gh(){}function Kt(s,a,u,f,v,b){switch(u){case"children":typeof f=="string"?a==="body"||a==="textarea"&&f===""||ii(s,f):(typeof f=="number"||typeof f=="bigint")&&a!=="body"&&ii(s,""+f);break;case"className":br(s,"class",f);break;case"tabIndex":br(s,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":br(s,u,f);break;case"style":uc(s,f,b);break;case"data":if(a!=="object"){br(s,"data",f);break}case"src":case"href":if(f===""&&(a!=="a"||u!=="href")){s.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(u);break}f=Sl(""+f),s.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(a!=="input"&&Kt(s,a,"name",v.name,v,null),Kt(s,a,"formEncType",v.formEncType,v,null),Kt(s,a,"formMethod",v.formMethod,v,null),Kt(s,a,"formTarget",v.formTarget,v,null)):(Kt(s,a,"encType",v.encType,v,null),Kt(s,a,"method",v.method,v,null),Kt(s,a,"target",v.target,v,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){s.removeAttribute(u);break}f=Sl(""+f),s.setAttribute(u,f);break;case"onClick":f!=null&&(s.onclick=Gh);break;case"onScroll":f!=null&&_t("scroll",s);break;case"onScrollEnd":f!=null&&_t("scrollend",s);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"multiple":s.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":s.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){s.removeAttribute("xlink:href");break}u=Sl(""+f),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,""+f):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":f===!0?s.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?s.setAttribute(u,f):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?s.setAttribute(u,f):s.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?s.removeAttribute(u):s.setAttribute(u,f);break;case"popover":_t("beforetoggle",s),_t("toggle",s),ur(s,"popover",f);break;case"xlinkActuate":lt(s,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":lt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":lt(s,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":lt(s,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":lt(s,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":lt(s,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":lt(s,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":lt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":lt(s,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":ur(s,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Vg.get(u)||u,ur(s,u,f))}}function py(s,a,u,f,v,b){switch(u){case"style":uc(s,f,b);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(r(61));if(u=f.__html,u!=null){if(v.children!=null)throw Error(r(60));s.innerHTML=u}}break;case"children":typeof f=="string"?ii(s,f):(typeof f=="number"||typeof f=="bigint")&&ii(s,""+f);break;case"onScroll":f!=null&&_t("scroll",s);break;case"onScrollEnd":f!=null&&_t("scrollend",s);break;case"onClick":f!=null&&(s.onclick=Gh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ni.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(v=u.endsWith("Capture"),a=u.slice(2,v?u.length-7:void 0),b=s[Te]||null,b=b!=null?b[u]:null,typeof b=="function"&&s.removeEventListener(a,b,v),typeof f=="function")){typeof b!="function"&&b!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(a,f,v);break e}u in s?s[u]=f:f===!0?s.setAttribute(u,""):ur(s,u,f)}}}function ir(s,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_t("error",s),_t("load",s);var f=!1,v=!1,b;for(b in u)if(u.hasOwnProperty(b)){var L=u[b];if(L!=null)switch(b){case"src":f=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Kt(s,a,b,L,u,null)}}v&&Kt(s,a,"srcSet",u.srcSet,u,null),f&&Kt(s,a,"src",u.src,u,null);return;case"input":_t("invalid",s);var q=b=L=v=null,ee=null,de=null;for(f in u)if(u.hasOwnProperty(f)){var ye=u[f];if(ye!=null)switch(f){case"name":v=ye;break;case"type":L=ye;break;case"checked":ee=ye;break;case"defaultChecked":de=ye;break;case"value":b=ye;break;case"defaultValue":q=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,a));break;default:Kt(s,a,f,ye,u,null)}}bo(s,b,q,ee,de,L,v,!1),_l(s);return;case"select":_t("invalid",s),f=L=b=null;for(v in u)if(u.hasOwnProperty(v)&&(q=u[v],q!=null))switch(v){case"value":b=q;break;case"defaultValue":L=q;break;case"multiple":f=q;default:Kt(s,a,v,q,u,null)}a=b,u=L,s.multiple=!!f,a!=null?Is(s,!!f,a,!1):u!=null&&Is(s,!!f,u,!0);return;case"textarea":_t("invalid",s),b=v=f=null;for(L in u)if(u.hasOwnProperty(L)&&(q=u[L],q!=null))switch(L){case"value":f=q;break;case"defaultValue":v=q;break;case"children":b=q;break;case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(91));break;default:Kt(s,a,L,q,u,null)}wo(s,f,v,b),_l(s);return;case"option":for(ee in u)if(u.hasOwnProperty(ee)&&(f=u[ee],f!=null))switch(ee){case"selected":s.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Kt(s,a,ee,f,u,null)}return;case"dialog":_t("beforetoggle",s),_t("toggle",s),_t("cancel",s),_t("close",s);break;case"iframe":case"object":_t("load",s);break;case"video":case"audio":for(f=0;f<Kc.length;f++)_t(Kc[f],s);break;case"image":_t("error",s),_t("load",s);break;case"details":_t("toggle",s);break;case"embed":case"source":case"link":_t("error",s),_t("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(de in u)if(u.hasOwnProperty(de)&&(f=u[de],f!=null))switch(de){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Kt(s,a,de,f,u,null)}return;default:if(cc(a)){for(ye in u)u.hasOwnProperty(ye)&&(f=u[ye],f!==void 0&&py(s,a,ye,f,u,void 0));return}}for(q in u)u.hasOwnProperty(q)&&(f=u[q],f!=null&&Kt(s,a,q,f,u,null))}function z4(s,a,u,f){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,b=null,L=null,q=null,ee=null,de=null,ye=null;for(he in u){var xe=u[he];if(u.hasOwnProperty(he)&&xe!=null)switch(he){case"checked":break;case"value":break;case"defaultValue":ee=xe;default:f.hasOwnProperty(he)||Kt(s,a,he,null,f,xe)}}for(var fe in f){var he=f[fe];if(xe=u[fe],f.hasOwnProperty(fe)&&(he!=null||xe!=null))switch(fe){case"type":b=he;break;case"name":v=he;break;case"checked":de=he;break;case"defaultChecked":ye=he;break;case"value":L=he;break;case"defaultValue":q=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,a));break;default:he!==xe&&Kt(s,a,fe,he,f,xe)}}Ur(s,L,q,ee,de,ye,b,v);return;case"select":he=L=q=fe=null;for(b in u)if(ee=u[b],u.hasOwnProperty(b)&&ee!=null)switch(b){case"value":break;case"multiple":he=ee;default:f.hasOwnProperty(b)||Kt(s,a,b,null,f,ee)}for(v in f)if(b=f[v],ee=u[v],f.hasOwnProperty(v)&&(b!=null||ee!=null))switch(v){case"value":fe=b;break;case"defaultValue":q=b;break;case"multiple":L=b;default:b!==ee&&Kt(s,a,v,b,f,ee)}a=q,u=L,f=he,fe!=null?Is(s,!!u,fe,!1):!!f!=!!u&&(a!=null?Is(s,!!u,a,!0):Is(s,!!u,u?[]:"",!1));return;case"textarea":he=fe=null;for(q in u)if(v=u[q],u.hasOwnProperty(q)&&v!=null&&!f.hasOwnProperty(q))switch(q){case"value":break;case"children":break;default:Kt(s,a,q,null,f,v)}for(L in f)if(v=f[L],b=u[L],f.hasOwnProperty(L)&&(v!=null||b!=null))switch(L){case"value":fe=v;break;case"defaultValue":he=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==b&&Kt(s,a,L,v,f,b)}qt(s,fe,he);return;case"option":for(var st in u)if(fe=u[st],u.hasOwnProperty(st)&&fe!=null&&!f.hasOwnProperty(st))switch(st){case"selected":s.selected=!1;break;default:Kt(s,a,st,null,f,fe)}for(ee in f)if(fe=f[ee],he=u[ee],f.hasOwnProperty(ee)&&fe!==he&&(fe!=null||he!=null))switch(ee){case"selected":s.selected=fe&&typeof fe!="function"&&typeof fe!="symbol";break;default:Kt(s,a,ee,fe,f,he)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Qe in u)fe=u[Qe],u.hasOwnProperty(Qe)&&fe!=null&&!f.hasOwnProperty(Qe)&&Kt(s,a,Qe,null,f,fe);for(de in f)if(fe=f[de],he=u[de],f.hasOwnProperty(de)&&fe!==he&&(fe!=null||he!=null))switch(de){case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,a));break;default:Kt(s,a,de,fe,f,he)}return;default:if(cc(a)){for(var Wt in u)fe=u[Wt],u.hasOwnProperty(Wt)&&fe!==void 0&&!f.hasOwnProperty(Wt)&&py(s,a,Wt,void 0,f,fe);for(ye in f)fe=f[ye],he=u[ye],!f.hasOwnProperty(ye)||fe===he||fe===void 0&&he===void 0||py(s,a,ye,fe,f,he);return}}for(var ie in u)fe=u[ie],u.hasOwnProperty(ie)&&fe!=null&&!f.hasOwnProperty(ie)&&Kt(s,a,ie,null,f,fe);for(xe in f)fe=f[xe],he=u[xe],!f.hasOwnProperty(xe)||fe===he||fe==null&&he==null||Kt(s,a,xe,fe,f,he)}var gy=null,vy=null;function Kh(s){return s.nodeType===9?s:s.ownerDocument}function uT(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cT(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function yy(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var by=null;function B4(){var s=window.event;return s&&s.type==="popstate"?s===by?!1:(by=s,!0):(by=null,!1)}var dT=typeof setTimeout=="function"?setTimeout:void 0,F4=typeof clearTimeout=="function"?clearTimeout:void 0,fT=typeof Promise=="function"?Promise:void 0,H4=typeof queueMicrotask=="function"?queueMicrotask:typeof fT<"u"?function(s){return fT.resolve(null).then(s).catch($4)}:dT;function $4(s){setTimeout(function(){throw s})}function ja(s){return s==="head"}function hT(s,a){var u=a,f=0,v=0;do{var b=u.nextSibling;if(s.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"){if(0<f&&8>f){u=f;var L=s.ownerDocument;if(u&1&&Yc(L.documentElement),u&2&&Yc(L.body),u&4)for(u=L.head,Yc(u),L=u.firstChild;L;){var q=L.nextSibling,ee=L.nodeName;L[Je]||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&L.rel.toLowerCase()==="stylesheet"||u.removeChild(L),L=q}}if(v===0){s.removeChild(b),rd(a);return}v--}else u==="$"||u==="$?"||u==="$!"?v++:f=u.charCodeAt(0)-48;else f=0;u=b}while(u);rd(a)}function wy(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":wy(u),Ke(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function q4(s,a,u,f){for(;s.nodeType===1;){var v=u;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!f&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(f){if(!s[Je])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(b=s.getAttribute("rel"),b==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(b!==v.rel||s.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||s.getAttribute("title")!==(v.title==null?null:v.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(b=s.getAttribute("src"),(b!==(v.src==null?null:v.src)||s.getAttribute("type")!==(v.type==null?null:v.type)||s.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&b&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var b=v.name==null?null:""+v.name;if(v.type==="hidden"&&s.getAttribute("name")===b)return s}else return s;if(s=Ri(s.nextSibling),s===null)break}return null}function G4(s,a,u){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=Ri(s.nextSibling),s===null))return null;return s}function xy(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function K4(s,a){var u=s.ownerDocument;if(s.data!=="$?"||u.readyState==="complete")a();else{var f=function(){a(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),s._reactRetry=f}}function Ri(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var _y=null;function mT(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}function pT(s,a,u){switch(a=Kh(u),s){case"html":if(s=a.documentElement,!s)throw Error(r(452));return s;case"head":if(s=a.head,!s)throw Error(r(453));return s;case"body":if(s=a.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Yc(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Ke(s)}var mi=new Map,gT=new Set;function Wh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ys=T.d;T.d={f:W4,r:Y4,D:X4,C:Q4,L:Z4,m:J4,X:tj,S:ej,M:nj};function W4(){var s=Ys.f(),a=Uh();return s||a}function Y4(s){var a=wt(s);a!==null&&a.tag===5&&a.type==="form"?k1(a):Ys.r(s)}var ru=typeof document>"u"?null:document;function vT(s,a,u){var f=ru;if(f&&typeof a=="string"&&a){var v=Nn(a);v='link[rel="'+s+'"][href="'+v+'"]',typeof u=="string"&&(v+='[crossorigin="'+u+'"]'),gT.has(v)||(gT.add(v),s={rel:s,crossOrigin:u,href:a},f.querySelector(v)===null&&(a=f.createElement("link"),ir(a,"link",s),Ct(a),f.head.appendChild(a)))}}function X4(s){Ys.D(s),vT("dns-prefetch",s,null)}function Q4(s,a){Ys.C(s,a),vT("preconnect",s,a)}function Z4(s,a,u){Ys.L(s,a,u);var f=ru;if(f&&s&&a){var v='link[rel="preload"][as="'+Nn(a)+'"]';a==="image"&&u&&u.imageSrcSet?(v+='[imagesrcset="'+Nn(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(v+='[imagesizes="'+Nn(u.imageSizes)+'"]')):v+='[href="'+Nn(s)+'"]';var b=v;switch(a){case"style":b=iu(s);break;case"script":b=su(s)}mi.has(b)||(s=p({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:s,as:a},u),mi.set(b,s),f.querySelector(v)!==null||a==="style"&&f.querySelector(Xc(b))||a==="script"&&f.querySelector(Qc(b))||(a=f.createElement("link"),ir(a,"link",s),Ct(a),f.head.appendChild(a)))}}function J4(s,a){Ys.m(s,a);var u=ru;if(u&&s){var f=a&&typeof a.as=="string"?a.as:"script",v='link[rel="modulepreload"][as="'+Nn(f)+'"][href="'+Nn(s)+'"]',b=v;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=su(s)}if(!mi.has(b)&&(s=p({rel:"modulepreload",href:s},a),mi.set(b,s),u.querySelector(v)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Qc(b)))return}f=u.createElement("link"),ir(f,"link",s),Ct(f),u.head.appendChild(f)}}}function ej(s,a,u){Ys.S(s,a,u);var f=ru;if(f&&s){var v=Pt(f).hoistableStyles,b=iu(s);a=a||"default";var L=v.get(b);if(!L){var q={loading:0,preload:null};if(L=f.querySelector(Xc(b)))q.loading=5;else{s=p({rel:"stylesheet",href:s,"data-precedence":a},u),(u=mi.get(b))&&Sy(s,u);var ee=L=f.createElement("link");Ct(ee),ir(ee,"link",s),ee._p=new Promise(function(de,ye){ee.onload=de,ee.onerror=ye}),ee.addEventListener("load",function(){q.loading|=1}),ee.addEventListener("error",function(){q.loading|=2}),q.loading|=4,Yh(L,a,f)}L={type:"stylesheet",instance:L,count:1,state:q},v.set(b,L)}}}function tj(s,a){Ys.X(s,a);var u=ru;if(u&&s){var f=Pt(u).hoistableScripts,v=su(s),b=f.get(v);b||(b=u.querySelector(Qc(v)),b||(s=p({src:s,async:!0},a),(a=mi.get(v))&&Ty(s,a),b=u.createElement("script"),Ct(b),ir(b,"link",s),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(v,b))}}function nj(s,a){Ys.M(s,a);var u=ru;if(u&&s){var f=Pt(u).hoistableScripts,v=su(s),b=f.get(v);b||(b=u.querySelector(Qc(v)),b||(s=p({src:s,async:!0,type:"module"},a),(a=mi.get(v))&&Ty(s,a),b=u.createElement("script"),Ct(b),ir(b,"link",s),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},f.set(v,b))}}function yT(s,a,u,f){var v=(v=le.current)?Wh(v):null;if(!v)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=iu(u.href),u=Pt(v).hoistableStyles,f=u.get(a),f||(f={type:"style",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=iu(u.href);var b=Pt(v).hoistableStyles,L=b.get(s);if(L||(v=v.ownerDocument||v,L={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(s,L),(b=v.querySelector(Xc(s)))&&!b._p&&(L.instance=b,L.state.loading=5),mi.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},mi.set(s,u),b||rj(v,s,u,L.state))),a&&f===null)throw Error(r(528,""));return L}if(a&&f!==null)throw Error(r(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=su(u),u=Pt(v).hoistableScripts,f=u.get(a),f||(f={type:"script",instance:null,count:0,state:null},u.set(a,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function iu(s){return'href="'+Nn(s)+'"'}function Xc(s){return'link[rel="stylesheet"]['+s+"]"}function bT(s){return p({},s,{"data-precedence":s.precedence,precedence:null})}function rj(s,a,u,f){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?f.loading=1:(a=s.createElement("link"),f.preload=a,a.addEventListener("load",function(){return f.loading|=1}),a.addEventListener("error",function(){return f.loading|=2}),ir(a,"link",u),Ct(a),s.head.appendChild(a))}function su(s){return'[src="'+Nn(s)+'"]'}function Qc(s){return"script[async]"+s}function wT(s,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var f=s.querySelector('style[data-href~="'+Nn(u.href)+'"]');if(f)return a.instance=f,Ct(f),f;var v=p({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(s.ownerDocument||s).createElement("style"),Ct(f),ir(f,"style",v),Yh(f,u.precedence,s),a.instance=f;case"stylesheet":v=iu(u.href);var b=s.querySelector(Xc(v));if(b)return a.state.loading|=4,a.instance=b,Ct(b),b;f=bT(u),(v=mi.get(v))&&Sy(f,v),b=(s.ownerDocument||s).createElement("link"),Ct(b);var L=b;return L._p=new Promise(function(q,ee){L.onload=q,L.onerror=ee}),ir(b,"link",f),a.state.loading|=4,Yh(b,u.precedence,s),a.instance=b;case"script":return b=su(u.src),(v=s.querySelector(Qc(b)))?(a.instance=v,Ct(v),v):(f=u,(v=mi.get(b))&&(f=p({},u),Ty(f,v)),s=s.ownerDocument||s,v=s.createElement("script"),Ct(v),ir(v,"link",f),s.head.appendChild(v),a.instance=v);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(f=a.instance,a.state.loading|=4,Yh(f,u.precedence,s));return a.instance}function Yh(s,a,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=f.length?f[f.length-1]:null,b=v,L=0;L<f.length;L++){var q=f[L];if(q.dataset.precedence===a)b=q;else if(b!==v)break}b?b.parentNode.insertBefore(s,b.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(s,a.firstChild))}function Sy(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Ty(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Xh=null;function xT(s,a,u){if(Xh===null){var f=new Map,v=Xh=new Map;v.set(u,f)}else v=Xh,f=v.get(u),f||(f=new Map,v.set(u,f));if(f.has(s))return f;for(f.set(s,null),u=u.getElementsByTagName(s),v=0;v<u.length;v++){var b=u[v];if(!(b[Je]||b[_e]||s==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var L=b.getAttribute(a)||"";L=s+L;var q=f.get(L);q?q.push(b):f.set(L,[b])}}return f}function _T(s,a,u){s=s.ownerDocument||s,s.head.insertBefore(u,a==="title"?s.querySelector("head > title"):null)}function ij(s,a,u){if(u===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function ST(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var Zc=null;function sj(){}function aj(s,a,u){if(Zc===null)throw Error(r(475));var f=Zc;if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var v=iu(u.href),b=s.querySelector(Xc(v));if(b){s=b._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(f.count++,f=Qh.bind(f),s.then(f,f)),a.state.loading|=4,a.instance=b,Ct(b);return}b=s.ownerDocument||s,u=bT(u),(v=mi.get(v))&&Sy(u,v),b=b.createElement("link"),Ct(b);var L=b;L._p=new Promise(function(q,ee){L.onload=q,L.onerror=ee}),ir(b,"link",u),a.instance=b}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(f.count++,a=Qh.bind(f),s.addEventListener("load",a),s.addEventListener("error",a))}}function oj(){if(Zc===null)throw Error(r(475));var s=Zc;return s.stylesheets&&s.count===0&&Ey(s,s.stylesheets),0<s.count?function(a){var u=setTimeout(function(){if(s.stylesheets&&Ey(s,s.stylesheets),s.unsuspend){var f=s.unsuspend;s.unsuspend=null,f()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(u)}}:null}function Qh(){if(this.count--,this.count===0){if(this.stylesheets)Ey(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Zh=null;function Ey(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Zh=new Map,a.forEach(lj,s),Zh=null,Qh.call(s))}function lj(s,a){if(!(a.state.loading&4)){var u=Zh.get(s);if(u)var f=u.get(null);else{u=new Map,Zh.set(s,u);for(var v=s.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<v.length;b++){var L=v[b];(L.nodeName==="LINK"||L.getAttribute("media")!=="not all")&&(u.set(L.dataset.precedence,L),f=L)}f&&u.set(null,f)}v=a.instance,L=v.getAttribute("data-precedence"),b=u.get(L)||f,b===f&&u.set(null,v),u.set(L,v),this.count++,f=Qh.bind(this),v.addEventListener("load",f),v.addEventListener("error",f),b?b.parentNode.insertBefore(v,b.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(v,s.firstChild)),a.state.loading|=4}}var Jc={$$typeof:$,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function uj(s,a,u,f,v,b,L,q){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.hiddenUpdates=ti(null),this.identifierPrefix=f,this.onUncaughtError=v,this.onCaughtError=b,this.onRecoverableError=L,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function TT(s,a,u,f,v,b,L,q,ee,de,ye,xe){return s=new uj(s,a,u,L,q,ee,de,xe),a=1,b===!0&&(a|=24),b=Br(3,null,null,a),s.current=b,b.stateNode=s,a=av(),a.refCount++,s.pooledCache=a,a.refCount++,b.memoizedState={element:f,isDehydrated:u,cache:a},cv(b),s}function ET(s){return s?(s=kl,s):kl}function AT(s,a,u,f,v,b){v=ET(v),f.context===null?f.context=v:f.pendingContext=v,f=_a(a),f.payload={element:u},b=b===void 0?null:b,b!==null&&(f.callback=b),u=Sa(s,f,a),u!==null&&(Gr(u,s,a),Nc(u,s,a))}function CT(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function Ay(s,a){CT(s,a),(s=s.alternate)&&CT(s,a)}function RT(s){if(s.tag===13){var a=jl(s,67108864);a!==null&&Gr(a,s,67108864),Ay(s,67108864)}}var Jh=!0;function cj(s,a,u,f){var v=B.T;B.T=null;var b=T.p;try{T.p=2,Cy(s,a,u,f)}finally{T.p=b,B.T=v}}function dj(s,a,u,f){var v=B.T;B.T=null;var b=T.p;try{T.p=8,Cy(s,a,u,f)}finally{T.p=b,B.T=v}}function Cy(s,a,u,f){if(Jh){var v=Ry(f);if(v===null)my(s,a,f,em,u),IT(s,f);else if(hj(v,s,a,u,f))f.stopPropagation();else if(IT(s,f),a&4&&-1<fj.indexOf(s)){for(;v!==null;){var b=wt(v);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var L=kr(b.pendingLanes);if(L!==0){var q=b;for(q.pendingLanes|=2,q.entangledLanes|=2;L;){var ee=1<<31-en(L);q.entanglements[1]|=ee,L&=~ee}rs(b),(Ht&6)===0&&(Lh=Ie()+500,Gc(0))}}break;case 13:q=jl(b,2),q!==null&&Gr(q,b,2),Uh(),Ay(b,2)}if(b=Ry(f),b===null&&my(s,a,f,em,u),b===v)break;v=b}v!==null&&f.stopPropagation()}else my(s,a,f,null,u)}}function Ry(s){return s=si(s),Ny(s)}var em=null;function Ny(s){if(em=null,s=it(s),s!==null){var a=o(s);if(a===null)s=null;else{var u=a.tag;if(u===13){if(s=l(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return em=s,null}function NT(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ze()){case mt:return 2;case ot:return 8;case Rt:case dt:return 32;case mn:return 268435456;default:return 32}default:return 32}}var Iy=!1,ka=null,La=null,Va=null,ed=new Map,td=new Map,Ua=[],fj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function IT(s,a){switch(s){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":La=null;break;case"mouseover":case"mouseout":Va=null;break;case"pointerover":case"pointerout":ed.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":td.delete(a.pointerId)}}function nd(s,a,u,f,v,b){return s===null||s.nativeEvent!==b?(s={blockedOn:a,domEventName:u,eventSystemFlags:f,nativeEvent:b,targetContainers:[v]},a!==null&&(a=wt(a),a!==null&&RT(a)),s):(s.eventSystemFlags|=f,a=s.targetContainers,v!==null&&a.indexOf(v)===-1&&a.push(v),s)}function hj(s,a,u,f,v){switch(a){case"focusin":return ka=nd(ka,s,a,u,f,v),!0;case"dragenter":return La=nd(La,s,a,u,f,v),!0;case"mouseover":return Va=nd(Va,s,a,u,f,v),!0;case"pointerover":var b=v.pointerId;return ed.set(b,nd(ed.get(b)||null,s,a,u,f,v)),!0;case"gotpointercapture":return b=v.pointerId,td.set(b,nd(td.get(b)||null,s,a,u,f,v)),!0}return!1}function OT(s){var a=it(s.target);if(a!==null){var u=o(a);if(u!==null){if(a=u.tag,a===13){if(a=l(u),a!==null){s.blockedOn=a,ae(s.priority,function(){if(u.tag===13){var f=qr();f=Hi(f);var v=jl(u,f);v!==null&&Gr(v,u,f),Ay(u,f)}});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function tm(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=Ry(s.nativeEvent);if(u===null){u=s.nativeEvent;var f=new u.constructor(u.type,u);Os=f,u.target.dispatchEvent(f),Os=null}else return a=wt(u),a!==null&&RT(a),s.blockedOn=u,!1;a.shift()}return!0}function MT(s,a,u){tm(s)&&u.delete(a)}function mj(){Iy=!1,ka!==null&&tm(ka)&&(ka=null),La!==null&&tm(La)&&(La=null),Va!==null&&tm(Va)&&(Va=null),ed.forEach(MT),td.forEach(MT)}function nm(s,a){s.blockedOn===a&&(s.blockedOn=null,Iy||(Iy=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,mj)))}var rm=null;function PT(s){rm!==s&&(rm=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){rm===s&&(rm=null);for(var a=0;a<s.length;a+=3){var u=s[a],f=s[a+1],v=s[a+2];if(typeof f!="function"){if(Ny(f||u)===null)continue;break}var b=wt(u);b!==null&&(s.splice(a,3),a-=3,Nv(b,{pending:!0,data:v,method:u.method,action:f},f,v))}}))}function rd(s){function a(ee){return nm(ee,s)}ka!==null&&nm(ka,s),La!==null&&nm(La,s),Va!==null&&nm(Va,s),ed.forEach(a),td.forEach(a);for(var u=0;u<Ua.length;u++){var f=Ua[u];f.blockedOn===s&&(f.blockedOn=null)}for(;0<Ua.length&&(u=Ua[0],u.blockedOn===null);)OT(u),u.blockedOn===null&&Ua.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var v=u[f],b=u[f+1],L=v[Te]||null;if(typeof b=="function")L||PT(u);else if(L){var q=null;if(b&&b.hasAttribute("formAction")){if(v=b,L=b[Te]||null)q=L.formAction;else if(Ny(v)!==null)continue}else q=L.action;typeof q=="function"?u[f+1]=q:(u.splice(f,3),f-=3),PT(u)}}}function Oy(s){this._internalRoot=s}im.prototype.render=Oy.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));var u=a.current,f=qr();AT(u,f,s,a,null,null)},im.prototype.unmount=Oy.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;AT(s.current,2,null,s,null,null),Uh(),a[De]=null}};function im(s){this._internalRoot=s}im.prototype.unstable_scheduleHydration=function(s){if(s){var a=te();s={blockedOn:null,target:s,priority:a};for(var u=0;u<Ua.length&&a!==0&&a<Ua[u].priority;u++);Ua.splice(u,0,s),u===0&&OT(s)}};var DT=e.version;if(DT!=="19.1.0")throw Error(r(527,DT,"19.1.0"));T.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=d(a),s=s!==null?h(s):null,s=s===null?null:s.stateNode,s};var pj={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sm.isDisabled&&sm.supportsFiber)try{pt=sm.inject(pj),qe=sm}catch{}}return sd.createRoot=function(s,a){if(!i(s))throw Error(r(299));var u=!1,f="",v=X1,b=Q1,L=Z1,q=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(L=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(q=a.unstable_transitionCallbacks)),a=TT(s,1,!1,null,null,u,f,v,b,L,q,null),s[De]=a.current,hy(s),new Oy(a)},sd.hydrateRoot=function(s,a,u){if(!i(s))throw Error(r(299));var f=!1,v="",b=X1,L=Q1,q=Z1,ee=null,de=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(L=u.onCaughtError),u.onRecoverableError!==void 0&&(q=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(ee=u.unstable_transitionCallbacks),u.formState!==void 0&&(de=u.formState)),a=TT(s,1,!0,a,u??null,f,v,b,L,q,ee,de),a.context=ET(null),u=a.current,f=qr(),f=Hi(f),v=_a(f),v.callback=null,Sa(u,v,f),u=f,a.current.lanes=u,Ti(a,u),rs(a),s[De]=a.current,hy(s),new im(a)},sd.version="19.1.0",sd}var qT;function Aj(){if(qT)return Dy.exports;qT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Dy.exports=Ej(),Dy.exports}var Cj=Aj();const Rj=()=>{};var GT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Nj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],l=t[n++],c=t[n++],d=((i&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},BR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],l=i+1<t.length,c=l?t[i+1]:0,d=i+2<t.length,h=d?t[i+2]:0,p=o>>2,y=(o&3)<<4|c>>4;let w=(c&15)<<2|h>>6,E=h&63;d||(E=64,l||(w=64)),r.push(n[p],n[y],n[w],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Nj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const y=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||h==null||y==null)throw new Ij;const w=o<<2|c>>4;if(r.push(w),h!==64){const E=c<<4&240|h>>2;if(r.push(E),y!==64){const N=h<<6&192|y;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ij extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Oj=function(t){const e=zR(t);return BR.encodeByteArray(e,!0)},tp=function(t){return Oj(t).replace(/\./g,"")},FR=function(t){try{return BR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=()=>Mj().__FIREBASE_DEFAULTS__,Dj=()=>{if(typeof process>"u"||typeof GT>"u")return;const t=GT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&FR(t[1]);return e&&JSON.parse(e)},qp=()=>{try{return Rj()||Pj()||Dj()||jj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},HR=t=>{var e,n;return(n=(e=qp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},$R=t=>{const e=HR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},qR=()=>{var t;return(t=qp())===null||t===void 0?void 0:t.config},GR=t=>{var e;return(e=qp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kj=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function nw(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[tp(JSON.stringify(n)),tp(JSON.stringify(l)),""].join(".")}const Od={};function Lj(){const t={prod:[],emulator:[]};for(const e of Object.keys(Od))Od[e]?t.emulator.push(e):t.prod.push(e);return t}function Vj(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let KT=!1;function rw(t,e){if(typeof window>"u"||typeof document>"u"||!fo(window.location.host)||Od[t]===e||Od[t]||KT)return;Od[t]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",o=Lj().prod.length>0;function l(){const w=document.getElementById(r);w&&w.remove()}function c(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function d(w,E){w.setAttribute("width","24"),w.setAttribute("id",E),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function h(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{KT=!0,l()},w}function p(w,E){w.setAttribute("id",E),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function y(){const w=Vj(r),E=n("text"),N=document.getElementById(E)||document.createElement("span"),P=n("learnmore"),V=document.getElementById(P)||document.createElement("a"),z=n("preprendIcon"),F=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const $=w.element;c($),p(V,P);const Q=h();d(F,z),$.append(F,N,V,Q),document.body.appendChild($)}o?(N.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Uj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gr())}function zj(){var t;const e=(t=qp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Bj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Fj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Hj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $j(){const t=gr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qj(){return!zj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gj(){try{return typeof indexedDB=="object"}catch{return!1}}function Kj(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj="FirebaseError";class Ts extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Wj,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pf.prototype.create)}}class pf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?Yj(o,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Ts(i,c,r)}}function Yj(t,e){return t.replace(Xj,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Xj=/\{\$([^}]+)}/g;function Qj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],l=e[i];if(WT(o)&&WT(l)){if(!sl(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function WT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _d(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Sd(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Zj(t,e){const n=new Jj(t,e);return n.subscribe.bind(n)}class Jj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ek(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Vy),i.error===void 0&&(i.error=Vy),i.complete===void 0&&(i.complete=Vy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ek(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(t){return t&&t._delegate?t._delegate:t}class no{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new kj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rk(e))try{this.getOrInitializeService({instanceIdentifier:Wo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wo){return this.instances.has(e)}getOptions(e=Wo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wo){return this.component?this.component.multipleInstances?e:Wo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nk(t){return t===Wo?void 0:t}function rk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Et||(Et={}));const sk={debug:Et.DEBUG,verbose:Et.VERBOSE,info:Et.INFO,warn:Et.WARN,error:Et.ERROR,silent:Et.SILENT},ak=Et.INFO,ok={[Et.DEBUG]:"log",[Et.VERBOSE]:"log",[Et.INFO]:"info",[Et.WARN]:"warn",[Et.ERROR]:"error"},lk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=ok[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class iw{constructor(e){this.name=e,this._logLevel=ak,this._logHandler=lk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Et.DEBUG,...e),this._logHandler(this,Et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Et.VERBOSE,...e),this._logHandler(this,Et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Et.INFO,...e),this._logHandler(this,Et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Et.WARN,...e),this._logHandler(this,Et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Et.ERROR,...e),this._logHandler(this,Et.ERROR,...e)}}const uk=(t,e)=>e.some(n=>t instanceof n);let YT,XT;function ck(){return YT||(YT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dk(){return XT||(XT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WR=new WeakMap,z0=new WeakMap,YR=new WeakMap,Uy=new WeakMap,sw=new WeakMap;function fk(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(Qa(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&WR.set(n,t)}).catch(()=>{}),sw.set(e,t),e}function hk(t){if(z0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});z0.set(t,e)}let B0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return z0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mk(t){B0=t(B0)}function pk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(zy(this),e,...n);return YR.set(r,e.sort?e.sort():[e]),Qa(r)}:dk().includes(t)?function(...e){return t.apply(zy(this),e),Qa(WR.get(this))}:function(...e){return Qa(t.apply(zy(this),e))}}function gk(t){return typeof t=="function"?pk(t):(t instanceof IDBTransaction&&hk(t),uk(t,ck())?new Proxy(t,B0):t)}function Qa(t){if(t instanceof IDBRequest)return fk(t);if(Uy.has(t))return Uy.get(t);const e=gk(t);return e!==t&&(Uy.set(t,e),sw.set(e,t)),e}const zy=t=>sw.get(t);function vk(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(t,e),c=Qa(l);return r&&l.addEventListener("upgradeneeded",d=>{r(Qa(l.result),d.oldVersion,d.newVersion,Qa(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const yk=["get","getKey","getAll","getAllKeys","count"],bk=["put","add","delete","clear"],By=new Map;function QT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(By.get(e))return By.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=bk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||yk.includes(n)))return;const o=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),i&&d.done]))[0]};return By.set(e,o),o}mk(t=>({...t,get:(e,n,r)=>QT(e,n)||t.get(e,n,r),has:(e,n)=>!!QT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xk(t){const e=t.getComponent();return e?.type==="VERSION"}const F0="@firebase/app",ZT="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new iw("@firebase/app"),_k="@firebase/app-compat",Sk="@firebase/analytics-compat",Tk="@firebase/analytics",Ek="@firebase/app-check-compat",Ak="@firebase/app-check",Ck="@firebase/auth",Rk="@firebase/auth-compat",Nk="@firebase/database",Ik="@firebase/data-connect",Ok="@firebase/database-compat",Mk="@firebase/functions",Pk="@firebase/functions-compat",Dk="@firebase/installations",jk="@firebase/installations-compat",kk="@firebase/messaging",Lk="@firebase/messaging-compat",Vk="@firebase/performance",Uk="@firebase/performance-compat",zk="@firebase/remote-config",Bk="@firebase/remote-config-compat",Fk="@firebase/storage",Hk="@firebase/storage-compat",$k="@firebase/firestore",qk="@firebase/ai",Gk="@firebase/firestore-compat",Kk="firebase",Wk="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="[DEFAULT]",Yk={[F0]:"fire-core",[_k]:"fire-core-compat",[Tk]:"fire-analytics",[Sk]:"fire-analytics-compat",[Ak]:"fire-app-check",[Ek]:"fire-app-check-compat",[Ck]:"fire-auth",[Rk]:"fire-auth-compat",[Nk]:"fire-rtdb",[Ik]:"fire-data-connect",[Ok]:"fire-rtdb-compat",[Mk]:"fire-fn",[Pk]:"fire-fn-compat",[Dk]:"fire-iid",[jk]:"fire-iid-compat",[kk]:"fire-fcm",[Lk]:"fire-fcm-compat",[Vk]:"fire-perf",[Uk]:"fire-perf-compat",[zk]:"fire-rc",[Bk]:"fire-rc-compat",[Fk]:"fire-gcs",[Hk]:"fire-gcs-compat",[$k]:"fire-fst",[Gk]:"fire-fst-compat",[qk]:"fire-vertex","fire-js":"fire-js",[Kk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np=new Map,Xk=new Map,$0=new Map;function JT(t,e){try{t.container.addComponent(e)}catch(n){ia.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function al(t){const e=t.name;if($0.has(e))return ia.debug(`There were multiple attempts to register component ${e}.`),!1;$0.set(e,t);for(const n of np.values())JT(n,t);for(const n of Xk.values())JT(n,t);return!0}function Gp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Yr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Za=new pf("app","Firebase",Qk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new no("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Za.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=Wk;function XR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:H0,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Za.create("bad-app-name",{appName:String(i)});if(n||(n=qR()),!n)throw Za.create("no-options");const o=np.get(i);if(o){if(sl(n,o.options)&&sl(r,o.config))return o;throw Za.create("duplicate-app",{appName:i})}const l=new ik(i);for(const d of $0.values())l.addComponent(d);const c=new Zk(n,r,l);return np.set(i,c),c}function aw(t=H0){const e=np.get(t);if(!e&&t===H0&&qR())return XR();if(!e)throw Za.create("no-app",{appName:t});return e}function us(t,e,n){var r;let i=(r=Yk[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ia.warn(c.join(" "));return}al(new no(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk="firebase-heartbeat-database",eL=1,Gd="firebase-heartbeat-store";let Fy=null;function QR(){return Fy||(Fy=vk(Jk,eL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Gd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Za.create("idb-open",{originalErrorMessage:t.message})})),Fy}async function tL(t){try{const n=(await QR()).transaction(Gd),r=await n.objectStore(Gd).get(ZR(t));return await n.done,r}catch(e){if(e instanceof Ts)ia.warn(e.message);else{const n=Za.create("idb-get",{originalErrorMessage:e?.message});ia.warn(n.message)}}}async function eE(t,e){try{const r=(await QR()).transaction(Gd,"readwrite");await r.objectStore(Gd).put(e,ZR(t)),await r.done}catch(n){if(n instanceof Ts)ia.warn(n.message);else{const r=Za.create("idb-set",{originalErrorMessage:n?.message});ia.warn(r.message)}}}function ZR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL=1024,rL=30;class iL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=tE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>rL){const l=oL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ia.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=tE(),{heartbeatsToSend:r,unsentEntries:i}=sL(this._heartbeatsCache.heartbeats),o=tp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ia.warn(n),""}}}function tE(){return new Date().toISOString().substring(0,10)}function sL(t,e=nL){const n=[];let r=t.slice();for(const i of t){const o=n.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),nE(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),nE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class aL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Gj()?Kj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return eE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return eE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function nE(t){return tp(JSON.stringify({version:2,heartbeats:t})).length}function oL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(t){al(new no("platform-logger",e=>new wk(e),"PRIVATE")),al(new no("heartbeat",e=>new iL(e),"PRIVATE")),us(F0,ZT,t),us(F0,ZT,"esm2017"),us("fire-js","")}lL("");var uL="firebase",cL="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */us(uL,cL,"app");function ow(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function JR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dL=JR,eN=new pf("auth","Firebase",JR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp=new iw("@firebase/auth");function fL(t,...e){rp.logLevel<=Et.WARN&&rp.warn(`Auth (${pl}): ${t}`,...e)}function Om(t,...e){rp.logLevel<=Et.ERROR&&rp.error(`Auth (${pl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(t,...e){throw lw(t,...e)}function cs(t,...e){return lw(t,...e)}function tN(t,e,n){const r=Object.assign(Object.assign({},dL()),{[e]:n});return new pf("auth","Firebase",r).create(e,{appName:t.name})}function Js(t){return tN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return eN.create(t,...e)}function nt(t,e,...n){if(!t)throw lw(e,...n)}function Qs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Om(e),new Error(e)}function sa(t,e){t||Qs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function nN(){return rE()==="http:"||rE()==="https:"}function rE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nN()||Fj()||"connection"in navigator)?navigator.onLine:!0}function mL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n){this.shortDelay=e,this.longDelay=n,sa(n>e,"Short delay should be less than long delay!"),this.isMobile=Uj()||Hj()}get(){return hL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(t,e){sa(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vL=new vf(3e4,6e4);function fa(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Es(t,e,n,r,i={}){return iN(t,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const c=gf(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:d},o);return Bj()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&fo(t.emulatorConfig.host)&&(h.credentials="include"),rN.fetch()(await sN(t,t.config.apiHost,n,c),h)})}async function iN(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},pL),e);try{const i=new bL(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw om(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw om(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw om(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw om(t,"user-disabled",l);const p=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw tN(t,p,h);Di(t,p)}}catch(i){if(i instanceof Ts)throw i;Di(t,"network-request-failed",{message:String(i)})}}async function yf(t,e,n,r,i={}){const o=await Es(t,e,n,r,i);return"mfaPendingCredential"in o&&Di(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function sN(t,e,n,r){const i=`${e}${n}?${r}`,o=t,l=o.config.emulator?uw(t.config,i):`${t.config.apiScheme}://${i}`;return gL.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function yL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(cs(this.auth,"network-request-failed")),vL.get())})}}function om(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=cs(t,e,r);return i.customData._tokenResponse=n,i}function iE(t){return t!==void 0&&t.enterprise!==void 0}class wL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return yL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function xL(t,e){return Es(t,"GET","/v2/recaptchaConfig",fa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _L(t,e){return Es(t,"POST","/v1/accounts:delete",e)}async function sp(t,e){return Es(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SL(t,e=!1){const n=ln(t),r=await n.getIdToken(e),i=cw(r);nt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o?.sign_in_provider;return{claims:i,token:r,authTime:Md(Hy(i.auth_time)),issuedAtTime:Md(Hy(i.iat)),expirationTime:Md(Hy(i.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Hy(t){return Number(t)*1e3}function cw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Om("JWT malformed, contained fewer than 3 sections"),null;try{const i=FR(n);return i?JSON.parse(i):(Om("Failed to decode base64 JWT payload"),null)}catch(i){return Om("Caught error parsing JWT payload as JSON",i?.toString()),null}}function sE(t){const e=cw(t);return nt(e,"internal-error"),nt(typeof e.exp<"u","internal-error"),nt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ts&&TL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function TL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Md(this.lastLoginAt),this.creationTime=Md(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ap(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Pu(t,sp(n,{idToken:r}));nt(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?aN(o.providerUserInfo):[],c=CL(t.providerData,l),d=t.isAnonymous,h=!(t.email&&o.passwordHash)&&!c?.length,p=d?h:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new q0(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function AL(t){const e=ln(t);await ap(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function CL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function aN(t){return t.map(e=>{var{providerId:n}=e,r=ow(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RL(t,e){const n=await iN(t,{},async()=>{const r=gf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,l=await sN(t,i,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&fo(t.emulatorConfig.host)&&(d.credentials="include"),rN.fetch()(l,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function NL(t,e){return Es(t,"POST","/v2/accounts:revokeToken",fa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){nt(e.idToken,"internal-error"),nt(typeof e.idToken<"u","internal-error"),nt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){nt(e.length!==0,"internal-error");const n=sE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(nt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await RL(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,l=new Tu;return r&&(nt(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(nt(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(nt(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Tu,this.toJSON())}_performRefresh(){return Qs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(t,e){nt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ii{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=ow(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new EL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new q0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Pu(this,this.stsTokenManager.getToken(this.auth,e));return nt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return SL(this,e)}reload(){return AL(this)}_assign(e){this!==e&&(nt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ii(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ap(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yr(this.auth.app))return Promise.reject(Js(this.auth));const e=await this.getIdToken();return await Pu(this,_L(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,l,c,d,h,p;const y=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(i=n.email)!==null&&i!==void 0?i:void 0,E=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,N=(l=n.photoURL)!==null&&l!==void 0?l:void 0,P=(c=n.tenantId)!==null&&c!==void 0?c:void 0,V=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,z=(h=n.createdAt)!==null&&h!==void 0?h:void 0,F=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:$,emailVerified:Q,isAnonymous:O,providerData:M,stsTokenManager:C}=n;nt($&&C,e,"internal-error");const I=Tu.fromJSON(this.name,C);nt(typeof $=="string",e,"internal-error"),Ba(y,e.name),Ba(w,e.name),nt(typeof Q=="boolean",e,"internal-error"),nt(typeof O=="boolean",e,"internal-error"),Ba(E,e.name),Ba(N,e.name),Ba(P,e.name),Ba(V,e.name),Ba(z,e.name),Ba(F,e.name);const A=new Ii({uid:$,auth:e,email:w,emailVerified:Q,displayName:y,isAnonymous:O,photoURL:N,phoneNumber:E,tenantId:P,stsTokenManager:I,createdAt:z,lastLoginAt:F});return M&&Array.isArray(M)&&(A.providerData=M.map(S=>Object.assign({},S))),V&&(A._redirectEventId=V),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new Tu;i.updateFromServerResponse(n);const o=new Ii({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ap(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];nt(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?aN(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!o?.length,c=new Tu;c.updateFromIdToken(r);const d=new Ii({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new q0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=new Map;function Zs(t){sa(t instanceof Function,"Expected a class definition");let e=aE.get(t);return e?(sa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,aE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}oN.type="NONE";const oE=oN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(t,e,n){return`firebase:${t}:${e}:${n}`}class Eu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Mm(this.userKey,i.apiKey,o),this.fullPersistenceKey=Mm("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await sp(this.auth,{idToken:e}).catch(()=>{});return n?Ii._fromGetAccountInfoResponse(this.auth,n,e):null}return Ii._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Eu(Zs(oE),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=i[0]||Zs(oE);const l=Mm(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const p=await h._get(l);if(p){let y;if(typeof p=="string"){const w=await sp(e,{idToken:p}).catch(()=>{});if(!w)break;y=await Ii._fromGetAccountInfoResponse(e,w,p)}else y=Ii._fromJSON(e,p);h!==o&&(c=y),o=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Eu(o,e,r):(o=d[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==o)try{await h._remove(l)}catch{}})),new Eu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hN(e))return"Blackberry";if(mN(e))return"Webos";if(uN(e))return"Safari";if((e.includes("chrome/")||cN(e))&&!e.includes("edge/"))return"Chrome";if(fN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function lN(t=gr()){return/firefox\//i.test(t)}function uN(t=gr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cN(t=gr()){return/crios\//i.test(t)}function dN(t=gr()){return/iemobile/i.test(t)}function fN(t=gr()){return/android/i.test(t)}function hN(t=gr()){return/blackberry/i.test(t)}function mN(t=gr()){return/webos/i.test(t)}function dw(t=gr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function IL(t=gr()){var e;return dw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function OL(){return $j()&&document.documentMode===10}function pN(t=gr()){return dw(t)||fN(t)||mN(t)||hN(t)||/windows phone/i.test(t)||dN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(t,e=[]){let n;switch(t){case"Browser":n=lE(gr());break;case"Worker":n=`${lE(gr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((l,c)=>{try{const d=e(o);l(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PL(t,e={}){return Es(t,"GET","/v2/passwordPolicy",fa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL=6;class jL{constructor(e){var n,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:DL,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uE(this),this.idTokenSubscription=new uE(this),this.beforeStateQueue=new ML(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zs(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Eu.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sp(this,{idToken:e}),r=await Ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Yr(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(i=d.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return nt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ap(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yr(this.app))return Promise.reject(Js(this));const n=e?ln(e):null;return n&&nt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&nt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yr(this.app)?Promise.reject(Js(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yr(this.app)?Promise.reject(Js(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PL(this),n=new jL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await NL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zs(e)||this._popupRedirectResolver;nt(n,this,"argument-error"),this.redirectPersistenceManager=await Eu.create(this,[Zs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(nt(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return nt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Yr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&fL(`Error while retrieving App Check token: ${n.error}`),n?.token}}function gl(t){return ln(t)}class uE{constructor(e){this.auth=e,this.observer=null,this.addObserver=Zj(n=>this.observer=n)}get next(){return nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LL(t){Kp=t}function vN(t){return Kp.loadJS(t)}function VL(){return Kp.recaptchaEnterpriseScript}function UL(){return Kp.gapiScript}function zL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class BL{constructor(){this.enterprise=new FL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class FL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const HL="recaptcha-enterprise",yN="NO_RECAPTCHA";class $L{constructor(e){this.type=HL,this.auth=gl(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{xL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new wL(d);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,l(h.siteKey)}}).catch(d=>{c(d)})})}function i(o,l,c){const d=window.grecaptcha;iE(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(h=>{l(h)}).catch(()=>{l(yN)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new BL().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(c=>{if(!n&&iE(window.grecaptcha))i(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=VL();d.length!==0&&(d+=c),vN(d).then(()=>{i(c,o,l)}).catch(h=>{l(h)})}}).catch(c=>{l(c)})})}}async function cE(t,e,n,r=!1,i=!1){const o=new $L(t);let l;if(i)l=yN;else try{l=await o.verify(n)}catch{l=await o.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function G0(t,e,n,r,i){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await cE(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await cE(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(t,e){const n=Gp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(sl(o,e??{}))return i;Di(i,"already-initialized")}return n.initialize({options:e})}function GL(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Zs);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function KL(t,e,n){const r=gl(t);nt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=bN(e),{host:l,port:c}=WL(e),d=c===null?"":`:${c}`,h={url:`${o}//${l}${d}/`},p=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){nt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),nt(sl(h,r.config.emulator)&&sl(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,fo(l)?(nw(`${o}//${l}${d}`),rw("Auth",!0)):YL()}function bN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function WL(t){const e=bN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:dE(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:dE(l)}}}function dE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function YL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qs("not implemented")}_getIdTokenResponse(e){return Qs("not implemented")}_linkToIdToken(e,n){return Qs("not implemented")}_getReauthenticationResolver(e){return Qs("not implemented")}}async function XL(t,e){return Es(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QL(t,e){return yf(t,"POST","/v1/accounts:signInWithPassword",fa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZL(t,e){return yf(t,"POST","/v1/accounts:signInWithEmailLink",fa(t,e))}async function JL(t,e){return yf(t,"POST","/v1/accounts:signInWithEmailLink",fa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd extends fw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Kd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Kd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return G0(e,n,"signInWithPassword",QL);case"emailLink":return ZL(e,{email:this._email,oobCode:this._password});default:Di(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return G0(e,r,"signUpPassword",XL);case"emailLink":return JL(e,{idToken:n,email:this._email,oobCode:this._password});default:Di(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Au(t,e){return yf(t,"POST","/v1/accounts:signInWithIdp",fa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV="http://localhost";class ol extends fw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ol(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Di("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=ow(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new ol(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Au(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Au(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Au(e,n)}buildRequest(){const e={requestUri:eV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nV(t){const e=_d(Sd(t)).link,n=e?_d(Sd(e)).deep_link_id:null,r=_d(Sd(t)).deep_link_id;return(r?_d(Sd(r)).link:null)||r||n||e||t}class hw{constructor(e){var n,r,i,o,l,c;const d=_d(Sd(e)),h=(n=d.apiKey)!==null&&n!==void 0?n:null,p=(r=d.oobCode)!==null&&r!==void 0?r:null,y=tV((i=d.mode)!==null&&i!==void 0?i:null);nt(h&&p&&y,"argument-error"),this.apiKey=h,this.operation=y,this.code=p,this.continueUrl=(o=d.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=d.lang)!==null&&l!==void 0?l:null,this.tenantId=(c=d.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=nV(e);try{return new hw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(){this.providerId=Qu.PROVIDER_ID}static credential(e,n){return Kd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=hw.parseLink(n);return nt(r,"argument-error"),Kd._fromEmailAndCode(e,r.code,r.tenantId)}}Qu.PROVIDER_ID="password";Qu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf extends wN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a extends bf{constructor(){super("facebook.com")}static credential(e){return ol._fromParams({providerId:$a.PROVIDER_ID,signInMethod:$a.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $a.credentialFromTaggedObject(e)}static credentialFromError(e){return $a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $a.credential(e.oauthAccessToken)}catch{return null}}}$a.FACEBOOK_SIGN_IN_METHOD="facebook.com";$a.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa extends bf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ol._fromParams({providerId:qa.PROVIDER_ID,signInMethod:qa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qa.credentialFromTaggedObject(e)}static credentialFromError(e){return qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return qa.credential(n,r)}catch{return null}}}qa.GOOGLE_SIGN_IN_METHOD="google.com";qa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends bf{constructor(){super("github.com")}static credential(e){return ol._fromParams({providerId:Ga.PROVIDER_ID,signInMethod:Ga.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ga.credentialFromTaggedObject(e)}static credentialFromError(e){return Ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ga.credential(e.oauthAccessToken)}catch{return null}}}Ga.GITHUB_SIGN_IN_METHOD="github.com";Ga.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends bf{constructor(){super("twitter.com")}static credential(e,n){return ol._fromParams({providerId:Ka.PROVIDER_ID,signInMethod:Ka.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ka.credentialFromTaggedObject(e)}static credentialFromError(e){return Ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ka.credential(n,r)}catch{return null}}}Ka.TWITTER_SIGN_IN_METHOD="twitter.com";Ka.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rV(t,e){return yf(t,"POST","/v1/accounts:signUp",fa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Ii._fromIdTokenResponse(e,r,i),l=fE(r);return new ll({user:o,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=fE(r);return new ll({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function fE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op extends Ts{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,op.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new op(e,n,r,i)}}function xN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?op._fromErrorAndOperation(t,o,e,r):o})}async function iV(t,e,n=!1){const r=await Pu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ll._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sV(t,e,n=!1){const{auth:r}=t;if(Yr(r.app))return Promise.reject(Js(r));const i="reauthenticate";try{const o=await Pu(t,xN(r,i,e,t),n);nt(o.idToken,r,"internal-error");const l=cw(o.idToken);nt(l,r,"internal-error");const{sub:c}=l;return nt(t.uid===c,r,"user-mismatch"),ll._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Di(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _N(t,e,n=!1){if(Yr(t.app))return Promise.reject(Js(t));const r="signIn",i=await xN(t,r,e),o=await ll._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function aV(t,e){return _N(gl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(t){const e=gl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function oV(t,e,n){if(Yr(t.app))return Promise.reject(Js(t));const r=gl(t),l=await G0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rV).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&SN(t),d}),c=await ll._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function lV(t,e,n){return Yr(t.app)?Promise.reject(Js(t)):aV(ln(t),Qu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&SN(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uV(t,e){return Es(t,"POST","/v1/accounts:createAuthUri",fa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cV(t,e){const n=nN()?ip():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await uV(ln(t),r);return i||[]}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dV(t,e){return Es(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ln(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await Pu(r,dV(r.auth,o));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const c=r.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function fV(t,e,n,r){return ln(t).onIdTokenChanged(e,n,r)}function hV(t,e,n){return ln(t).beforeAuthStateChanged(e,n)}const lp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lp,"1"),this.storage.removeItem(lp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=1e3,pV=10;class AN extends EN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);OL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,pV):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},mV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}AN.type="LOCAL";const gV=AN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN extends EN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}CN.type="SESSION";const RN=CN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Wp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,l=this.handlersMap[i];if(!l?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async h=>h(n.origin,o)),d=await vV(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((c,d)=>{const h=mw("",20);i.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(y){const w=y;if(w.data.eventId===h)switch(w.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(w.data.response);break;default:clearTimeout(p),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(){return window}function bV(t){ds().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(){return typeof ds().WorkerGlobalScope<"u"&&typeof ds().importScripts=="function"}async function wV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xV(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function _V(){return NN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN="firebaseLocalStorageDb",SV=1,up="firebaseLocalStorage",ON="fbase_key";class wf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yp(t,e){return t.transaction([up],e?"readwrite":"readonly").objectStore(up)}function TV(){const t=indexedDB.deleteDatabase(IN);return new wf(t).toPromise()}function K0(){const t=indexedDB.open(IN,SV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(up,{keyPath:ON})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(up)?e(r):(r.close(),await TV(),e(await K0()))})})}async function hE(t,e,n){const r=Yp(t,!0).put({[ON]:e,value:n});return new wf(r).toPromise()}async function EV(t,e){const n=Yp(t,!1).get(e),r=await new wf(n).toPromise();return r===void 0?null:r.value}function mE(t,e){const n=Yp(t,!0).delete(e);return new wf(n).toPromise()}const AV=800,CV=3;class MN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await K0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>CV)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wp._getInstance(_V()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await wV(),!this.activeServiceWorker)return;this.sender=new yV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await K0();return await hE(e,lp,"1"),await mE(e,lp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>EV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>mE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Yp(i,!1).getAll();return new wf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}MN.type="LOCAL";const RV=MN;new vf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(t,e){return e?Zs(e):(nt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw extends fw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Au(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Au(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Au(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function IV(t){return _N(t.auth,new pw(t),t.bypassAuthState)}function OV(t){const{auth:e,user:n}=t;return nt(n,e,"internal-error"),sV(n,new pw(t),t.bypassAuthState)}async function MV(t){const{auth:e,user:n}=t;return nt(n,e,"internal-error"),iV(n,new pw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IV;case"linkViaPopup":case"linkViaRedirect":return MV;case"reauthViaPopup":case"reauthViaRedirect":return OV;default:Di(this.auth,"internal-error")}}resolve(e){sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=new vf(2e3,1e4);class hu extends PN{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,hu.currentPopupAction&&hu.currentPopupAction.cancel(),hu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return nt(e,this.auth,"internal-error"),e}async onExecution(){sa(this.filter.length===1,"Popup operations only handle one event");const e=mw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(cs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(cs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PV.get())};e()}}hu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV="pendingRedirect",Pm=new Map;class jV extends PN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Pm.get(this.auth._key());if(!e){try{const r=await kV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Pm.set(this.auth._key(),e)}return this.bypassAuthState||Pm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kV(t,e){const n=UV(e),r=VV(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function LV(t,e){Pm.set(t._key(),e)}function VV(t){return Zs(t._redirectPersistence)}function UV(t){return Mm(DV,t.config.apiKey,t.name)}async function zV(t,e,n=!1){if(Yr(t.app))return Promise.reject(Js(t));const r=gl(t),i=NV(r,e),l=await new jV(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=10*60*1e3;class FV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!DN(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(cs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=BV&&this.cachedEventUids.clear(),this.cachedEventUids.has(pE(e))}saveEventToCache(e){this.cachedEventUids.add(pE(e)),this.lastProcessedEventTime=Date.now()}}function pE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function DN({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function HV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $V(t,e={}){return Es(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GV=/^https?/;async function KV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $V(t);for(const n of e)try{if(WV(n))return}catch{}Di(t,"unauthorized-domain")}function WV(t){const e=ip(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!GV.test(n))return!1;if(qV.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV=new vf(3e4,6e4);function gE(){const t=ds().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function XV(t){return new Promise((e,n)=>{var r,i,o;function l(){gE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gE(),n(cs(t,"network-request-failed"))},timeout:YV.get()})}if(!((i=(r=ds().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ds().gapi)===null||o===void 0)&&o.load)l();else{const c=zL("iframefcb");return ds()[c]=()=>{gapi.load?l():n(cs(t,"network-request-failed"))},vN(`${UL()}?onload=${c}`).catch(d=>n(d))}}).catch(e=>{throw Dm=null,e})}let Dm=null;function QV(t){return Dm=Dm||XV(t),Dm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV=new vf(5e3,15e3),JV="__/auth/iframe",e3="emulator/auth/iframe",t3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},n3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function r3(t){const e=t.config;nt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?uw(e,e3):`https://${t.config.authDomain}/${JV}`,r={apiKey:e.apiKey,appName:t.name,v:pl},i=n3.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${gf(r).slice(1)}`}async function i3(t){const e=await QV(t),n=ds().gapi;return nt(n,t,"internal-error"),e.open({where:document.body,url:r3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:t3,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=cs(t,"network-request-failed"),c=ds().setTimeout(()=>{o(l)},ZV.get());function d(){ds().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},a3=500,o3=600,l3="_blank",u3="http://localhost";class vE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function c3(t,e,n,r=a3,i=o3){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d=Object.assign(Object.assign({},s3),{width:r.toString(),height:i.toString(),top:o,left:l}),h=gr().toLowerCase();n&&(c=cN(h)?l3:n),lN(h)&&(e=e||u3,d.scrollbars="yes");const p=Object.entries(d).reduce((w,[E,N])=>`${w}${E}=${N},`,"");if(IL(h)&&c!=="_self")return d3(e||"",c),new vE(null);const y=window.open(e||"",c,p);nt(y,t,"popup-blocked");try{y.focus()}catch{}return new vE(y)}function d3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f3="__/auth/handler",h3="emulator/auth/handler",m3=encodeURIComponent("fac");async function yE(t,e,n,r,i,o){nt(t.config.authDomain,t,"auth-domain-config-required"),nt(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:pl,eventId:i};if(e instanceof wN){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",Qj(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,y]of Object.entries({}))l[p]=y}if(e instanceof bf){const p=e.getScopes().filter(y=>y!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const d=await t._getAppCheckToken(),h=d?`#${m3}=${encodeURIComponent(d)}`:"";return`${p3(t)}?${gf(c).slice(1)}${h}`}function p3({config:t}){return t.emulator?uw(t,h3):`https://${t.authDomain}/${f3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="webStorageSupport";class g3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RN,this._completeRedirectFn=zV,this._overrideRedirectResult=LV}async _openPopup(e,n,r,i){var o;sa((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await yE(e,n,r,ip(),i);return c3(e,l,mw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await yE(e,n,r,ip(),i);return bV(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(sa(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await i3(e),r=new FV(e);return n.register("authEvent",i=>(nt(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($y,{type:$y},i=>{var o;const l=(o=i?.[0])===null||o===void 0?void 0:o[$y];l!==void 0&&n(!!l),Di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=KV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pN()||uN()||dw()}}const v3=g3;var bE="@firebase/auth",wE="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function w3(t){al(new no("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;nt(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gN(t)},h=new kL(r,i,o,d);return GL(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),al(new no("auth-internal",e=>{const n=gl(e.getProvider("auth").getImmediate());return(r=>new y3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),us(bE,wE,b3(t)),us(bE,wE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=5*60,_3=GR("authIdTokenMaxAge")||x3;let xE=null;const S3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>_3)return;const i=n?.token;xE!==i&&(xE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function jN(t=aw()){const e=Gp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=qL(t,{popupRedirectResolver:v3,persistence:[RV,gV,RN]}),r=GR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=S3(o.toString());hV(n,l,()=>l(n.currentUser)),fV(n,c=>l(c))}}const i=HR("auth");return i&&KL(n,`http://${i}`),n}function T3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}LL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=cs("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",T3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});w3("Browser");var _E=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ja,kN;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,I){function A(){}A.prototype=I.prototype,C.D=I.prototype,C.prototype=new A,C.prototype.constructor=C,C.C=function(S,k,H){for(var j=Array(arguments.length-2),K=2;K<arguments.length;K++)j[K-2]=arguments[K];return I.prototype[k].apply(S,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,I,A){A||(A=0);var S=Array(16);if(typeof I=="string")for(var k=0;16>k;++k)S[k]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(k=0;16>k;++k)S[k]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=C.g[0],A=C.g[1],k=C.g[2];var H=C.g[3],j=I+(H^A&(k^H))+S[0]+3614090360&4294967295;I=A+(j<<7&4294967295|j>>>25),j=H+(k^I&(A^k))+S[1]+3905402710&4294967295,H=I+(j<<12&4294967295|j>>>20),j=k+(A^H&(I^A))+S[2]+606105819&4294967295,k=H+(j<<17&4294967295|j>>>15),j=A+(I^k&(H^I))+S[3]+3250441966&4294967295,A=k+(j<<22&4294967295|j>>>10),j=I+(H^A&(k^H))+S[4]+4118548399&4294967295,I=A+(j<<7&4294967295|j>>>25),j=H+(k^I&(A^k))+S[5]+1200080426&4294967295,H=I+(j<<12&4294967295|j>>>20),j=k+(A^H&(I^A))+S[6]+2821735955&4294967295,k=H+(j<<17&4294967295|j>>>15),j=A+(I^k&(H^I))+S[7]+4249261313&4294967295,A=k+(j<<22&4294967295|j>>>10),j=I+(H^A&(k^H))+S[8]+1770035416&4294967295,I=A+(j<<7&4294967295|j>>>25),j=H+(k^I&(A^k))+S[9]+2336552879&4294967295,H=I+(j<<12&4294967295|j>>>20),j=k+(A^H&(I^A))+S[10]+4294925233&4294967295,k=H+(j<<17&4294967295|j>>>15),j=A+(I^k&(H^I))+S[11]+2304563134&4294967295,A=k+(j<<22&4294967295|j>>>10),j=I+(H^A&(k^H))+S[12]+1804603682&4294967295,I=A+(j<<7&4294967295|j>>>25),j=H+(k^I&(A^k))+S[13]+4254626195&4294967295,H=I+(j<<12&4294967295|j>>>20),j=k+(A^H&(I^A))+S[14]+2792965006&4294967295,k=H+(j<<17&4294967295|j>>>15),j=A+(I^k&(H^I))+S[15]+1236535329&4294967295,A=k+(j<<22&4294967295|j>>>10),j=I+(k^H&(A^k))+S[1]+4129170786&4294967295,I=A+(j<<5&4294967295|j>>>27),j=H+(A^k&(I^A))+S[6]+3225465664&4294967295,H=I+(j<<9&4294967295|j>>>23),j=k+(I^A&(H^I))+S[11]+643717713&4294967295,k=H+(j<<14&4294967295|j>>>18),j=A+(H^I&(k^H))+S[0]+3921069994&4294967295,A=k+(j<<20&4294967295|j>>>12),j=I+(k^H&(A^k))+S[5]+3593408605&4294967295,I=A+(j<<5&4294967295|j>>>27),j=H+(A^k&(I^A))+S[10]+38016083&4294967295,H=I+(j<<9&4294967295|j>>>23),j=k+(I^A&(H^I))+S[15]+3634488961&4294967295,k=H+(j<<14&4294967295|j>>>18),j=A+(H^I&(k^H))+S[4]+3889429448&4294967295,A=k+(j<<20&4294967295|j>>>12),j=I+(k^H&(A^k))+S[9]+568446438&4294967295,I=A+(j<<5&4294967295|j>>>27),j=H+(A^k&(I^A))+S[14]+3275163606&4294967295,H=I+(j<<9&4294967295|j>>>23),j=k+(I^A&(H^I))+S[3]+4107603335&4294967295,k=H+(j<<14&4294967295|j>>>18),j=A+(H^I&(k^H))+S[8]+1163531501&4294967295,A=k+(j<<20&4294967295|j>>>12),j=I+(k^H&(A^k))+S[13]+2850285829&4294967295,I=A+(j<<5&4294967295|j>>>27),j=H+(A^k&(I^A))+S[2]+4243563512&4294967295,H=I+(j<<9&4294967295|j>>>23),j=k+(I^A&(H^I))+S[7]+1735328473&4294967295,k=H+(j<<14&4294967295|j>>>18),j=A+(H^I&(k^H))+S[12]+2368359562&4294967295,A=k+(j<<20&4294967295|j>>>12),j=I+(A^k^H)+S[5]+4294588738&4294967295,I=A+(j<<4&4294967295|j>>>28),j=H+(I^A^k)+S[8]+2272392833&4294967295,H=I+(j<<11&4294967295|j>>>21),j=k+(H^I^A)+S[11]+1839030562&4294967295,k=H+(j<<16&4294967295|j>>>16),j=A+(k^H^I)+S[14]+4259657740&4294967295,A=k+(j<<23&4294967295|j>>>9),j=I+(A^k^H)+S[1]+2763975236&4294967295,I=A+(j<<4&4294967295|j>>>28),j=H+(I^A^k)+S[4]+1272893353&4294967295,H=I+(j<<11&4294967295|j>>>21),j=k+(H^I^A)+S[7]+4139469664&4294967295,k=H+(j<<16&4294967295|j>>>16),j=A+(k^H^I)+S[10]+3200236656&4294967295,A=k+(j<<23&4294967295|j>>>9),j=I+(A^k^H)+S[13]+681279174&4294967295,I=A+(j<<4&4294967295|j>>>28),j=H+(I^A^k)+S[0]+3936430074&4294967295,H=I+(j<<11&4294967295|j>>>21),j=k+(H^I^A)+S[3]+3572445317&4294967295,k=H+(j<<16&4294967295|j>>>16),j=A+(k^H^I)+S[6]+76029189&4294967295,A=k+(j<<23&4294967295|j>>>9),j=I+(A^k^H)+S[9]+3654602809&4294967295,I=A+(j<<4&4294967295|j>>>28),j=H+(I^A^k)+S[12]+3873151461&4294967295,H=I+(j<<11&4294967295|j>>>21),j=k+(H^I^A)+S[15]+530742520&4294967295,k=H+(j<<16&4294967295|j>>>16),j=A+(k^H^I)+S[2]+3299628645&4294967295,A=k+(j<<23&4294967295|j>>>9),j=I+(k^(A|~H))+S[0]+4096336452&4294967295,I=A+(j<<6&4294967295|j>>>26),j=H+(A^(I|~k))+S[7]+1126891415&4294967295,H=I+(j<<10&4294967295|j>>>22),j=k+(I^(H|~A))+S[14]+2878612391&4294967295,k=H+(j<<15&4294967295|j>>>17),j=A+(H^(k|~I))+S[5]+4237533241&4294967295,A=k+(j<<21&4294967295|j>>>11),j=I+(k^(A|~H))+S[12]+1700485571&4294967295,I=A+(j<<6&4294967295|j>>>26),j=H+(A^(I|~k))+S[3]+2399980690&4294967295,H=I+(j<<10&4294967295|j>>>22),j=k+(I^(H|~A))+S[10]+4293915773&4294967295,k=H+(j<<15&4294967295|j>>>17),j=A+(H^(k|~I))+S[1]+2240044497&4294967295,A=k+(j<<21&4294967295|j>>>11),j=I+(k^(A|~H))+S[8]+1873313359&4294967295,I=A+(j<<6&4294967295|j>>>26),j=H+(A^(I|~k))+S[15]+4264355552&4294967295,H=I+(j<<10&4294967295|j>>>22),j=k+(I^(H|~A))+S[6]+2734768916&4294967295,k=H+(j<<15&4294967295|j>>>17),j=A+(H^(k|~I))+S[13]+1309151649&4294967295,A=k+(j<<21&4294967295|j>>>11),j=I+(k^(A|~H))+S[4]+4149444226&4294967295,I=A+(j<<6&4294967295|j>>>26),j=H+(A^(I|~k))+S[11]+3174756917&4294967295,H=I+(j<<10&4294967295|j>>>22),j=k+(I^(H|~A))+S[2]+718787259&4294967295,k=H+(j<<15&4294967295|j>>>17),j=A+(H^(k|~I))+S[9]+3951481745&4294967295,C.g[0]=C.g[0]+I&4294967295,C.g[1]=C.g[1]+(k+(j<<21&4294967295|j>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+H&4294967295}r.prototype.u=function(C,I){I===void 0&&(I=C.length);for(var A=I-this.blockSize,S=this.B,k=this.h,H=0;H<I;){if(k==0)for(;H<=A;)i(this,C,H),H+=this.blockSize;if(typeof C=="string"){for(;H<I;)if(S[k++]=C.charCodeAt(H++),k==this.blockSize){i(this,S),k=0;break}}else for(;H<I;)if(S[k++]=C[H++],k==this.blockSize){i(this,S),k=0;break}}this.h=k,this.o+=I},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var I=1;I<C.length-8;++I)C[I]=0;var A=8*this.o;for(I=C.length-8;I<C.length;++I)C[I]=A&255,A/=256;for(this.u(C),C=Array(16),I=A=0;4>I;++I)for(var S=0;32>S;S+=8)C[A++]=this.g[I]>>>S&255;return C};function o(C,I){var A=c;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=I(C)}function l(C,I){this.h=I;for(var A=[],S=!0,k=C.length-1;0<=k;k--){var H=C[k]|0;S&&H==I||(A[k]=H,S=!1)}this.g=A}var c={};function d(C){return-128<=C&&128>C?o(C,function(I){return new l([I|0],0>I?-1:0)}):new l([C|0],0>C?-1:0)}function h(C){if(isNaN(C)||!isFinite(C))return y;if(0>C)return V(h(-C));for(var I=[],A=1,S=0;C>=A;S++)I[S]=C/A|0,A*=4294967296;return new l(I,0)}function p(C,I){if(C.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(C.charAt(0)=="-")return V(p(C.substring(1),I));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=h(Math.pow(I,8)),S=y,k=0;k<C.length;k+=8){var H=Math.min(8,C.length-k),j=parseInt(C.substring(k,k+H),I);8>H?(H=h(Math.pow(I,H)),S=S.j(H).add(h(j))):(S=S.j(A),S=S.add(h(j)))}return S}var y=d(0),w=d(1),E=d(16777216);t=l.prototype,t.m=function(){if(P(this))return-V(this).m();for(var C=0,I=1,A=0;A<this.g.length;A++){var S=this.i(A);C+=(0<=S?S:4294967296+S)*I,I*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(N(this))return"0";if(P(this))return"-"+V(this).toString(C);for(var I=h(Math.pow(C,6)),A=this,S="";;){var k=Q(A,I).g;A=z(A,k.j(I));var H=((0<A.g.length?A.g[0]:A.h)>>>0).toString(C);if(A=k,N(A))return H+S;for(;6>H.length;)H="0"+H;S=H+S}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function N(C){if(C.h!=0)return!1;for(var I=0;I<C.g.length;I++)if(C.g[I]!=0)return!1;return!0}function P(C){return C.h==-1}t.l=function(C){return C=z(this,C),P(C)?-1:N(C)?0:1};function V(C){for(var I=C.g.length,A=[],S=0;S<I;S++)A[S]=~C.g[S];return new l(A,~C.h).add(w)}t.abs=function(){return P(this)?V(this):this},t.add=function(C){for(var I=Math.max(this.g.length,C.g.length),A=[],S=0,k=0;k<=I;k++){var H=S+(this.i(k)&65535)+(C.i(k)&65535),j=(H>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);S=j>>>16,H&=65535,j&=65535,A[k]=j<<16|H}return new l(A,A[A.length-1]&-2147483648?-1:0)};function z(C,I){return C.add(V(I))}t.j=function(C){if(N(this)||N(C))return y;if(P(this))return P(C)?V(this).j(V(C)):V(V(this).j(C));if(P(C))return V(this.j(V(C)));if(0>this.l(E)&&0>C.l(E))return h(this.m()*C.m());for(var I=this.g.length+C.g.length,A=[],S=0;S<2*I;S++)A[S]=0;for(S=0;S<this.g.length;S++)for(var k=0;k<C.g.length;k++){var H=this.i(S)>>>16,j=this.i(S)&65535,K=C.i(k)>>>16,Z=C.i(k)&65535;A[2*S+2*k]+=j*Z,F(A,2*S+2*k),A[2*S+2*k+1]+=H*Z,F(A,2*S+2*k+1),A[2*S+2*k+1]+=j*K,F(A,2*S+2*k+1),A[2*S+2*k+2]+=H*K,F(A,2*S+2*k+2)}for(S=0;S<I;S++)A[S]=A[2*S+1]<<16|A[2*S];for(S=I;S<2*I;S++)A[S]=0;return new l(A,0)};function F(C,I){for(;(C[I]&65535)!=C[I];)C[I+1]+=C[I]>>>16,C[I]&=65535,I++}function $(C,I){this.g=C,this.h=I}function Q(C,I){if(N(I))throw Error("division by zero");if(N(C))return new $(y,y);if(P(C))return I=Q(V(C),I),new $(V(I.g),V(I.h));if(P(I))return I=Q(C,V(I)),new $(V(I.g),I.h);if(30<C.g.length){if(P(C)||P(I))throw Error("slowDivide_ only works with positive integers.");for(var A=w,S=I;0>=S.l(C);)A=O(A),S=O(S);var k=M(A,1),H=M(S,1);for(S=M(S,2),A=M(A,2);!N(S);){var j=H.add(S);0>=j.l(C)&&(k=k.add(A),H=j),S=M(S,1),A=M(A,1)}return I=z(C,k.j(I)),new $(k,I)}for(k=y;0<=C.l(I);){for(A=Math.max(1,Math.floor(C.m()/I.m())),S=Math.ceil(Math.log(A)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),H=h(A),j=H.j(I);P(j)||0<j.l(C);)A-=S,H=h(A),j=H.j(I);N(H)&&(H=w),k=k.add(H),C=z(C,j)}return new $(k,C)}t.A=function(C){return Q(this,C).h},t.and=function(C){for(var I=Math.max(this.g.length,C.g.length),A=[],S=0;S<I;S++)A[S]=this.i(S)&C.i(S);return new l(A,this.h&C.h)},t.or=function(C){for(var I=Math.max(this.g.length,C.g.length),A=[],S=0;S<I;S++)A[S]=this.i(S)|C.i(S);return new l(A,this.h|C.h)},t.xor=function(C){for(var I=Math.max(this.g.length,C.g.length),A=[],S=0;S<I;S++)A[S]=this.i(S)^C.i(S);return new l(A,this.h^C.h)};function O(C){for(var I=C.g.length+1,A=[],S=0;S<I;S++)A[S]=C.i(S)<<1|C.i(S-1)>>>31;return new l(A,C.h)}function M(C,I){var A=I>>5;I%=32;for(var S=C.g.length-A,k=[],H=0;H<S;H++)k[H]=0<I?C.i(H+A)>>>I|C.i(H+A+1)<<32-I:C.i(H+A);return new l(k,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,kN=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,Ja=l}).apply(typeof _E<"u"?_E:typeof self<"u"?self:typeof window<"u"?window:{});var lm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var LN,Td,VN,jm,W0,UN,zN,BN;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,_,D){return m==Array.prototype||m==Object.prototype||(m[_]=D.value),m};function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof lm=="object"&&lm];for(var _=0;_<m.length;++_){var D=m[_];if(D&&D.Math==Math)return D}throw Error("Cannot find global object")}var r=n(this);function i(m,_){if(_)e:{var D=r;m=m.split(".");for(var G=0;G<m.length-1;G++){var oe=m[G];if(!(oe in D))break e;D=D[oe]}m=m[m.length-1],G=D[m],_=_(G),_!=G&&_!=null&&e(D,m,{configurable:!0,writable:!0,value:_})}}function o(m,_){m instanceof String&&(m+="");var D=0,G=!1,oe={next:function(){if(!G&&D<m.length){var pe=D++;return{value:_(pe,m[pe]),done:!1}}return G=!0,{done:!0,value:void 0}}};return oe[Symbol.iterator]=function(){return oe},oe}i("Array.prototype.values",function(m){return m||function(){return o(this,function(_,D){return D})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(m){var _=typeof m;return _=_!="object"?_:m?Array.isArray(m)?"array":_:"null",_=="array"||_=="object"&&typeof m.length=="number"}function h(m){var _=typeof m;return _=="object"&&m!=null||_=="function"}function p(m,_,D){return m.call.apply(m.bind,arguments)}function y(m,_,D){if(!m)throw Error();if(2<arguments.length){var G=Array.prototype.slice.call(arguments,2);return function(){var oe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(oe,G),m.apply(_,oe)}}return function(){return m.apply(_,arguments)}}function w(m,_,D){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,w.apply(null,arguments)}function E(m,_){var D=Array.prototype.slice.call(arguments,1);return function(){var G=D.slice();return G.push.apply(G,arguments),m.apply(this,G)}}function N(m,_){function D(){}D.prototype=_.prototype,m.aa=_.prototype,m.prototype=new D,m.prototype.constructor=m,m.Qb=function(G,oe,pe){for(var Ae=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)Ae[Nt-2]=arguments[Nt];return _.prototype[oe].apply(G,Ae)}}function P(m){const _=m.length;if(0<_){const D=Array(_);for(let G=0;G<_;G++)D[G]=m[G];return D}return[]}function V(m,_){for(let D=1;D<arguments.length;D++){const G=arguments[D];if(d(G)){const oe=m.length||0,pe=G.length||0;m.length=oe+pe;for(let Ae=0;Ae<pe;Ae++)m[oe+Ae]=G[Ae]}else m.push(G)}}class z{constructor(_,D){this.i=_,this.j=D,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function F(m){return/^[\s\xa0]*$/.test(m)}function $(){var m=c.navigator;return m&&(m=m.userAgent)?m:""}function Q(m){return Q[" "](m),m}Q[" "]=function(){};var O=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function M(m,_,D){for(const G in m)_.call(D,m[G],G,m)}function C(m,_){for(const D in m)_.call(void 0,m[D],D,m)}function I(m){const _={};for(const D in m)_[D]=m[D];return _}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(m,_){let D,G;for(let oe=1;oe<arguments.length;oe++){G=arguments[oe];for(D in G)m[D]=G[D];for(let pe=0;pe<A.length;pe++)D=A[pe],Object.prototype.hasOwnProperty.call(G,D)&&(m[D]=G[D])}}function k(m){var _=1;m=m.split(":");const D=[];for(;0<_&&m.length;)D.push(m.shift()),_--;return m.length&&D.push(m.join(":")),D}function H(m){c.setTimeout(()=>{throw m},0)}function j(){var m=W;let _=null;return m.g&&(_=m.g,m.g=m.g.next,m.g||(m.h=null),_.next=null),_}class K{constructor(){this.h=this.g=null}add(_,D){const G=Z.get();G.set(_,D),this.h?this.h.next=G:this.g=G,this.h=G}}var Z=new z(()=>new B,m=>m.reset());class B{constructor(){this.next=this.g=this.h=null}set(_,D){this.h=_,this.g=D,this.next=null}reset(){this.next=this.g=this.h=null}}let T,J=!1,W=new K,x=()=>{const m=c.Promise.resolve(void 0);T=()=>{m.then(U)}};var U=()=>{for(var m;m=j();){try{m.h.call(m.g)}catch(D){H(D)}var _=Z;_.j(m),100>_.h&&(_.h++,m.next=_.g,_.g=m)}J=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Y(m,_){this.type=m,this.g=this.target=_,this.defaultPrevented=!1}Y.prototype.h=function(){this.defaultPrevented=!0};var ne=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,_=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const D=()=>{};c.addEventListener("test",D,_),c.removeEventListener("test",D,_)}catch{}return m}();function se(m,_){if(Y.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var D=this.type=m.type,G=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=_,_=m.relatedTarget){if(O){e:{try{Q(_.nodeName);var oe=!0;break e}catch{}oe=!1}oe||(_=null)}}else D=="mouseover"?_=m.fromElement:D=="mouseout"&&(_=m.toElement);this.relatedTarget=_,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:le[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&se.aa.h.call(this)}}N(se,Y);var le={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function Pe(m,_,D,G,oe){this.listener=m,this.proxy=null,this.src=_,this.type=D,this.capture=!!G,this.ha=oe,this.key=++Ee,this.da=this.fa=!1}function Ne(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function ze(m){this.src=m,this.g={},this.h=0}ze.prototype.add=function(m,_,D,G,oe){var pe=m.toString();m=this.g[pe],m||(m=this.g[pe]=[],this.h++);var Ae=Xe(m,_,G,oe);return-1<Ae?(_=m[Ae],D||(_.fa=!1)):(_=new Pe(_,this.src,pe,!!G,oe),_.fa=D,m.push(_)),_};function We(m,_){var D=_.type;if(D in m.g){var G=m.g[D],oe=Array.prototype.indexOf.call(G,_,void 0),pe;(pe=0<=oe)&&Array.prototype.splice.call(G,oe,1),pe&&(Ne(_),m.g[D].length==0&&(delete m.g[D],m.h--))}}function Xe(m,_,D,G){for(var oe=0;oe<m.length;++oe){var pe=m[oe];if(!pe.da&&pe.listener==_&&pe.capture==!!D&&pe.ha==G)return oe}return-1}var me="closure_lm_"+(1e6*Math.random()|0),Ce={};function $e(m,_,D,G,oe){if(Array.isArray(_)){for(var pe=0;pe<_.length;pe++)$e(m,_[pe],D,G,oe);return null}return D=Cn(D),m&&m[ge]?m.K(_,D,h(G)?!!G.capture:!1,oe):Ie(m,_,D,!1,G,oe)}function Ie(m,_,D,G,oe,pe){if(!_)throw Error("Invalid event type");var Ae=h(oe)?!!oe.capture:!!oe,Nt=mn(m);if(Nt||(m[me]=Nt=new ze(m)),D=Nt.add(_,D,G,Ae,pe),D.proxy)return D;if(G=Ze(),D.proxy=G,G.src=m,G.listener=D,m.addEventListener)ne||(oe=Ae),oe===void 0&&(oe=!1),m.addEventListener(_.toString(),G,oe);else if(m.attachEvent)m.attachEvent(Rt(_.toString()),G);else if(m.addListener&&m.removeListener)m.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return D}function Ze(){function m(D){return _.call(m.src,m.listener,D)}const _=dt;return m}function mt(m,_,D,G,oe){if(Array.isArray(_))for(var pe=0;pe<_.length;pe++)mt(m,_[pe],D,G,oe);else G=h(G)?!!G.capture:!!G,D=Cn(D),m&&m[ge]?(m=m.i,_=String(_).toString(),_ in m.g&&(pe=m.g[_],D=Xe(pe,D,G,oe),-1<D&&(Ne(pe[D]),Array.prototype.splice.call(pe,D,1),pe.length==0&&(delete m.g[_],m.h--)))):m&&(m=mn(m))&&(_=m.g[_.toString()],m=-1,_&&(m=Xe(_,D,G,oe)),(D=-1<m?_[m]:null)&&ot(D))}function ot(m){if(typeof m!="number"&&m&&!m.da){var _=m.src;if(_&&_[ge])We(_.i,m);else{var D=m.type,G=m.proxy;_.removeEventListener?_.removeEventListener(D,G,m.capture):_.detachEvent?_.detachEvent(Rt(D),G):_.addListener&&_.removeListener&&_.removeListener(G),(D=mn(_))?(We(D,m),D.h==0&&(D.src=null,_[me]=null)):Ne(m)}}}function Rt(m){return m in Ce?Ce[m]:Ce[m]="on"+m}function dt(m,_){if(m.da)m=!0;else{_=new se(_,this);var D=m.listener,G=m.ha||m.src;m.fa&&ot(m),m=D.call(G,_)}return m}function mn(m){return m=m[me],m instanceof ze?m:null}var or="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cn(m){return typeof m=="function"?m:(m[or]||(m[or]=function(_){return m.handleEvent(_)}),m[or])}function pt(){X.call(this),this.i=new ze(this),this.M=this,this.F=null}N(pt,X),pt.prototype[ge]=!0,pt.prototype.removeEventListener=function(m,_,D,G){mt(this,m,_,D,G)};function qe(m,_){var D,G=m.F;if(G)for(D=[];G;G=G.F)D.push(G);if(m=m.M,G=_.type||_,typeof _=="string")_=new Y(_,m);else if(_ instanceof Y)_.target=_.target||m;else{var oe=_;_=new Y(G,m),S(_,oe)}if(oe=!0,D)for(var pe=D.length-1;0<=pe;pe--){var Ae=_.g=D[pe];oe=nn(Ae,G,!0,_)&&oe}if(Ae=_.g=m,oe=nn(Ae,G,!0,_)&&oe,oe=nn(Ae,G,!1,_)&&oe,D)for(pe=0;pe<D.length;pe++)Ae=_.g=D[pe],oe=nn(Ae,G,!1,_)&&oe}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var m=this.i,_;for(_ in m.g){for(var D=m.g[_],G=0;G<D.length;G++)Ne(D[G]);delete m.g[_],m.h--}}this.F=null},pt.prototype.K=function(m,_,D,G){return this.i.add(String(m),_,!1,D,G)},pt.prototype.L=function(m,_,D,G){return this.i.add(String(m),_,!0,D,G)};function nn(m,_,D,G){if(_=m.i.g[String(_)],!_)return!0;_=_.concat();for(var oe=!0,pe=0;pe<_.length;++pe){var Ae=_[pe];if(Ae&&!Ae.da&&Ae.capture==D){var Nt=Ae.listener,Vn=Ae.ha||Ae.src;Ae.fa&&We(m.i,Ae),oe=Nt.call(Vn,G)!==!1&&oe}}return oe&&!G.defaultPrevented}function en(m,_,D){if(typeof m=="function")D&&(m=w(m,D));else if(m&&typeof m.handleEvent=="function")m=w(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:c.setTimeout(m,_||0)}function Ui(m){m.g=en(()=>{m.g=null,m.i&&(m.i=!1,Ui(m))},m.l);const _=m.h;m.h=null,m.m.apply(null,_)}class lr extends X{constructor(_,D){super(),this.m=_,this.l=D,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Ui(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sn(m){X.call(this),this.h=m,this.g={}}N(sn,X);var zi=[];function Bi(m){M(m.g,function(_,D){this.g.hasOwnProperty(D)&&ot(_)},m),m.g={}}sn.prototype.N=function(){sn.aa.N.call(this),Bi(this)},sn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kr=c.JSON.stringify,Cs=c.JSON.parse,ei=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function ma(){}ma.prototype.h=null;function Rs(m){return m.h||(m.h=m.i())}function vo(){}var ti={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ti(){Y.call(this,"d")}N(Ti,Y);function pa(){Y.call(this,"c")}N(pa,Y);var vr={},Fi=null;function Hi(){return Fi=Fi||new pt}vr.La="serverreachability";function ga(m){Y.call(this,vr.La,m)}N(ga,Y);function te(m){const _=Hi();qe(_,new ga(_))}vr.STAT_EVENT="statevent";function ae(m,_){Y.call(this,vr.STAT_EVENT,m),this.stat=_}N(ae,Y);function ce(m){const _=Hi();qe(_,new ae(_,m))}vr.Ma="timingevent";function _e(m,_){Y.call(this,vr.Ma,m),this.size=_}N(_e,Y);function Te(m,_){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},_)}function De(){this.g=!0}De.prototype.xa=function(){this.g=!1};function Ge(m,_,D,G,oe,pe){m.info(function(){if(m.g)if(pe)for(var Ae="",Nt=pe.split("&"),Vn=0;Vn<Nt.length;Vn++){var It=Nt[Vn].split("=");if(1<It.length){var $n=It[0];It=It[1];var Un=$n.split("_");Ae=2<=Un.length&&Un[1]=="type"?Ae+($n+"="+It+"&"):Ae+($n+"=redacted&")}}else Ae=null;else Ae=pe;return"XMLHTTP REQ ("+G+") [attempt "+oe+"]: "+_+`
`+D+`
`+Ae})}function je(m,_,D,G,oe,pe,Ae){m.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+oe+"]: "+_+`
`+D+`
`+pe+" "+Ae})}function Ve(m,_,D,G){m.info(function(){return"XMLHTTP TEXT ("+_+"): "+Je(m,D)+(G?" "+G:"")})}function Le(m,_){m.info(function(){return"TIMEOUT: "+_})}De.prototype.info=function(){};function Je(m,_){if(!m.g)return _;if(!_)return null;try{var D=JSON.parse(_);if(D){for(m=0;m<D.length;m++)if(Array.isArray(D[m])){var G=D[m];if(!(2>G.length)){var oe=G[1];if(Array.isArray(oe)&&!(1>oe.length)){var pe=oe[0];if(pe!="noop"&&pe!="stop"&&pe!="close")for(var Ae=1;Ae<oe.length;Ae++)oe[Ae]=""}}}}return kr(D)}catch{return _}}var Ke={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},it={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wt;function Ut(){}N(Ut,ma),Ut.prototype.g=function(){return new XMLHttpRequest},Ut.prototype.i=function(){return{}},wt=new Ut;function Pt(m,_,D,G){this.j=m,this.i=_,this.l=D,this.R=G||1,this.U=new sn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ct}function Ct(){this.i=null,this.g="",this.h=!1}var yt={},ni={};function Ln(m,_,D){m.L=1,m.v=wo(Ur(_)),m.m=D,m.P=!0,yr(m,null)}function yr(m,_){m.F=Date.now(),Lr(m),m.A=Ur(m.v);var D=m.A,G=m.R;Array.isArray(G)||(G=[String(G)]),dc(D.i,"t",G),m.C=0,D=m.j.J,m.h=new Ct,m.g=nh(m.j,D?_:null,!m.m),0<m.O&&(m.M=new lr(w(m.Y,m,m.g),m.O)),_=m.U,D=m.g,G=m.ca;var oe="readystatechange";Array.isArray(oe)||(oe&&(zi[0]=oe.toString()),oe=zi);for(var pe=0;pe<oe.length;pe++){var Ae=$e(D,oe[pe],G||_.handleEvent,!1,_.h||_);if(!Ae)break;_.g[Ae.key]=Ae}_=m.H?I(m.H):{},m.m?(m.u||(m.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,_)):(m.u="GET",m.g.ea(m.A,m.u,null,_)),te(),Ge(m.i,m.u,m.A,m.l,m.R,m.m)}Pt.prototype.ca=function(m){m=m.target;const _=this.M;_&&oi(m)==3?_.j():this.Y(m)},Pt.prototype.Y=function(m){try{if(m==this.g)e:{const Un=oi(this.g);var _=this.g.Ba();const ks=this.g.Z();if(!(3>Un)&&(Un!=3||this.g&&(this.h.h||this.g.oa()||Wf(this.g)))){this.J||Un!=4||_==7||(_==8||0>=ks?te(3):te(2)),ur(this);var D=this.g.Z();this.X=D;t:if(Jn(this)){var G=Wf(this.g);m="";var oe=G.length,pe=oi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){lt(this),br(this);var Ae="";break t}this.h.i=new c.TextDecoder}for(_=0;_<oe;_++)this.h.h=!0,m+=this.h.i.decode(G[_],{stream:!(pe&&_==oe-1)});G.length=0,this.h.g+=m,this.C=0,Ae=this.h.g}else Ae=this.g.oa();if(this.o=D==200,je(this.i,this.u,this.A,this.l,this.R,Un,D),this.o){if(this.T&&!this.K){t:{if(this.g){var Nt,Vn=this.g;if((Nt=Vn.g?Vn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(Nt)){var It=Nt;break t}}It=null}if(D=It)Ve(this.i,this.l,D,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rn(this,D);else{this.o=!1,this.s=3,ce(12),lt(this),br(this);break e}}if(this.P){D=!0;let tr;for(;!this.J&&this.C<Ae.length;)if(tr=$i(this,Ae),tr==ni){Un==4&&(this.s=4,ce(14),D=!1),Ve(this.i,this.l,null,"[Incomplete Response]");break}else if(tr==yt){this.s=4,ce(15),Ve(this.i,this.l,Ae,"[Invalid Chunk]"),D=!1;break}else Ve(this.i,this.l,tr,null),Rn(this,tr);if(Jn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Un!=4||Ae.length!=0||this.h.h||(this.s=1,ce(16),D=!1),this.o=this.o&&D,!D)Ve(this.i,this.l,Ae,"[Invalid Chunked Response]"),lt(this),br(this);else if(0<Ae.length&&!this.W){this.W=!0;var $n=this.j;$n.g==this&&$n.ba&&!$n.M&&($n.j.info("Great, no buffering proxy detected. Bytes received: "+Ae.length),Ro($n),$n.M=!0,ce(11))}}else Ve(this.i,this.l,Ae,null),Rn(this,Ae);Un==4&&lt(this),this.o&&!this.J&&(Un==4?Jf(this.j,this):(this.o=!1,Lr(this)))}else zg(this.g),D==400&&0<Ae.indexOf("Unknown SID")?(this.s=3,ce(12)):(this.s=0,ce(13)),lt(this),br(this)}}}catch{}finally{}};function Jn(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function $i(m,_){var D=m.C,G=_.indexOf(`
`,D);return G==-1?ni:(D=Number(_.substring(D,G)),isNaN(D)?yt:(G+=1,G+D>_.length?ni:(_=_.slice(G,G+D),m.C=G+D,_)))}Pt.prototype.cancel=function(){this.J=!0,lt(this)};function Lr(m){m.S=Date.now()+m.I,va(m,m.I)}function va(m,_){if(m.B!=null)throw Error("WatchDog timer not null");m.B=Te(w(m.ba,m),_)}function ur(m){m.B&&(c.clearTimeout(m.B),m.B=null)}Pt.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(Le(this.i,this.A),this.L!=2&&(te(),ce(17)),lt(this),this.s=2,br(this)):va(this,this.S-m)};function br(m){m.j.G==0||m.J||Jf(m.j,m)}function lt(m){ur(m);var _=m.M;_&&typeof _.ma=="function"&&_.ma(),m.M=null,Bi(m.U),m.g&&(_=m.g,m.g=null,_.abort(),_.ma())}function Rn(m,_){try{var D=m.j;if(D.G!=0&&(D.g==m||ri(D.h,m))){if(!m.K&&ri(D.h,m)&&D.G==3){try{var G=D.Da.g.parse(_)}catch{G=null}if(Array.isArray(G)&&G.length==3){var oe=G;if(oe[0]==0){e:if(!D.u){if(D.g)if(D.g.F+3e3<m.F)Il(D),Rl(D);else break e;gc(D),ce(18)}}else D.za=oe[1],0<D.za-D.T&&37500>oe[2]&&D.F&&D.v==0&&!D.C&&(D.C=Te(w(D.Za,D),6e3));if(1>=Yt(D.h)&&D.ca){try{D.ca()}catch{}D.ca=void 0}}else js(D,11)}else if((m.K||D.g==m)&&Il(D),!F(_))for(oe=D.Da.g.parse(_),_=0;_<oe.length;_++){let It=oe[_];if(D.T=It[0],It=It[1],D.G==2)if(It[0]=="c"){D.K=It[1],D.ia=It[2];const $n=It[3];$n!=null&&(D.la=$n,D.j.info("VER="+D.la));const Un=It[4];Un!=null&&(D.Aa=Un,D.j.info("SVER="+D.Aa));const ks=It[5];ks!=null&&typeof ks=="number"&&0<ks&&(G=1.5*ks,D.L=G,D.j.info("backChannelRequestTimeoutMs_="+G)),G=D;const tr=m.g;if(tr){const Zi=tr.g?tr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zi){var pe=G.h;pe.g||Zi.indexOf("spdy")==-1&&Zi.indexOf("quic")==-1&&Zi.indexOf("h2")==-1||(pe.j=pe.l,pe.g=new Set,pe.h&&(Ns(pe,pe.h),pe.h=null))}if(G.D){const yc=tr.g?tr.g.getResponseHeader("X-HTTP-Session-Id"):null;yc&&(G.ya=yc,qt(G.I,G.D,yc))}}D.G=3,D.l&&D.l.ua(),D.ba&&(D.R=Date.now()-m.F,D.j.info("Handshake RTT: "+D.R+"ms")),G=D;var Ae=m;if(G.qa=th(G,G.J?G.ia:null,G.W),Ae.K){er(G.h,Ae);var Nt=Ae,Vn=G.L;Vn&&(Nt.I=Vn),Nt.B&&(ur(Nt),Lr(Nt)),G.g=Ae}else Qf(G);0<D.i.length&&Nl(D)}else It[0]!="stop"&&It[0]!="close"||js(D,7);else D.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?js(D,7):mc(D):It[0]!="noop"&&D.l&&D.l.ta(It),D.v=0)}}te(4)}catch{}}var Vr=class{constructor(m,_){this.g=m,this.map=_}};function Er(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qi(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Yt(m){return m.h?1:m.g?m.g.size:0}function ri(m,_){return m.h?m.h==_:m.g?m.g.has(_):!1}function Ns(m,_){m.g?m.g.add(_):m.h=_}function er(m,_){m.h&&m.h==_?m.h=null:m.g&&m.g.has(_)&&m.g.delete(_)}Er.prototype.cancel=function(){if(this.i=oc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function oc(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let _=m.i;for(const D of m.g.values())_=_.concat(D.D);return _}return P(m.i)}function kg(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(d(m)){for(var _=[],D=m.length,G=0;G<D;G++)_.push(m[G]);return _}_=[],D=0;for(G in m)_[D++]=m[G];return _}function _l(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(d(m)||typeof m=="string"){var _=[];m=m.length;for(var D=0;D<m;D++)_.push(D);return _}_=[],D=0;for(const G in m)_[D++]=G;return _}}}function lc(m,_){if(m.forEach&&typeof m.forEach=="function")m.forEach(_,void 0);else if(d(m)||typeof m=="string")Array.prototype.forEach.call(m,_,void 0);else for(var D=_l(m),G=kg(m),oe=G.length,pe=0;pe<oe;pe++)_.call(void 0,G[pe],D&&D[pe],m)}var yo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lg(m,_){if(m){m=m.split("&");for(var D=0;D<m.length;D++){var G=m[D].indexOf("="),oe=null;if(0<=G){var pe=m[D].substring(0,G);oe=m[D].substring(G+1)}else pe=m[D];_(pe,oe?decodeURIComponent(oe.replace(/\+/g," ")):"")}}}function Nn(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Nn){this.h=m.h,bo(this,m.j),this.o=m.o,this.g=m.g,ya(this,m.s),this.l=m.l;var _=m.i,D=new Os;D.i=_.i,_.g&&(D.g=new Map(_.g),D.h=_.h),Is(this,D),this.m=m.m}else m&&(_=String(m).match(yo))?(this.h=!1,bo(this,_[1]||"",!0),this.o=ii(_[2]||""),this.g=ii(_[3]||"",!0),ya(this,_[4]),this.l=ii(_[5]||"",!0),Is(this,_[6]||"",!0),this.m=ii(_[7]||"")):(this.h=!1,this.i=new Os(null,this.h))}Nn.prototype.toString=function(){var m=[],_=this.j;_&&m.push(xo(_,uc,!0),":");var D=this.g;return(D||_=="file")&&(m.push("//"),(_=this.o)&&m.push(xo(_,uc,!0),"@"),m.push(encodeURIComponent(String(D)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),D=this.s,D!=null&&m.push(":",String(D))),(D=this.l)&&(this.g&&D.charAt(0)!="/"&&m.push("/"),m.push(xo(D,D.charAt(0)=="/"?Vg:cc,!0))),(D=this.i.toString())&&m.push("?",D),(D=this.m)&&m.push("#",xo(D,Sl)),m.join("")};function Ur(m){return new Nn(m)}function bo(m,_,D){m.j=D?ii(_,!0):_,m.j&&(m.j=m.j.replace(/:$/,""))}function ya(m,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);m.s=_}else m.s=null}function Is(m,_,D){_ instanceof Os?(m.i=_,Gf(m.i,m.h)):(D||(_=xo(_,Ug)),m.i=new Os(_,m.h))}function qt(m,_,D){m.i.set(_,D)}function wo(m){return qt(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function ii(m,_){return m?_?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function xo(m,_,D){return typeof m=="string"?(m=encodeURI(m).replace(_,qf),D&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function qf(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var uc=/[#\/\?@]/g,cc=/[#\?:]/g,Vg=/[#\?]/g,Ug=/[#\?@]/g,Sl=/#/g;function Os(m,_){this.h=this.g=null,this.i=m||null,this.j=!!_}function si(m){m.g||(m.g=new Map,m.h=0,m.i&&Lg(m.i,function(_,D){m.add(decodeURIComponent(_.replace(/\+/g," ")),D)}))}t=Os.prototype,t.add=function(m,_){si(this),this.i=null,m=Gi(this,m);var D=this.g.get(m);return D||this.g.set(m,D=[]),D.push(_),this.h+=1,this};function Ms(m,_){si(m),_=Gi(m,_),m.g.has(_)&&(m.i=null,m.h-=m.g.get(_).length,m.g.delete(_))}function Ps(m,_){return si(m),_=Gi(m,_),m.g.has(_)}t.forEach=function(m,_){si(this),this.g.forEach(function(D,G){D.forEach(function(oe){m.call(_,oe,G,this)},this)},this)},t.na=function(){si(this);const m=Array.from(this.g.values()),_=Array.from(this.g.keys()),D=[];for(let G=0;G<_.length;G++){const oe=m[G];for(let pe=0;pe<oe.length;pe++)D.push(_[G])}return D},t.V=function(m){si(this);let _=[];if(typeof m=="string")Ps(this,m)&&(_=_.concat(this.g.get(Gi(this,m))));else{m=Array.from(this.g.values());for(let D=0;D<m.length;D++)_=_.concat(m[D])}return _},t.set=function(m,_){return si(this),this.i=null,m=Gi(this,m),Ps(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[_]),this.h+=1,this},t.get=function(m,_){return m?(m=this.V(m),0<m.length?String(m[0]):_):_};function dc(m,_,D){Ms(m,_),0<D.length&&(m.i=null,m.g.set(Gi(m,_),P(D)),m.h+=D.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],_=Array.from(this.g.keys());for(var D=0;D<_.length;D++){var G=_[D];const pe=encodeURIComponent(String(G)),Ae=this.V(G);for(G=0;G<Ae.length;G++){var oe=pe;Ae[G]!==""&&(oe+="="+encodeURIComponent(String(Ae[G]))),m.push(oe)}}return this.i=m.join("&")};function Gi(m,_){return _=String(_),m.j&&(_=_.toLowerCase()),_}function Gf(m,_){_&&!m.j&&(si(m),m.i=null,m.g.forEach(function(D,G){var oe=G.toLowerCase();G!=oe&&(Ms(this,G),dc(this,oe,D))},m)),m.j=_}function _o(m,_){const D=new De;if(c.Image){const G=new Image;G.onload=E(ai,D,"TestLoadImage: loaded",!0,_,G),G.onerror=E(ai,D,"TestLoadImage: error",!1,_,G),G.onabort=E(ai,D,"TestLoadImage: abort",!1,_,G),G.ontimeout=E(ai,D,"TestLoadImage: timeout",!1,_,G),c.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=m}else _(!1)}function Ei(m,_){const D=new De,G=new AbortController,oe=setTimeout(()=>{G.abort(),ai(D,"TestPingServer: timeout",!1,_)},1e4);fetch(m,{signal:G.signal}).then(pe=>{clearTimeout(oe),pe.ok?ai(D,"TestPingServer: ok",!0,_):ai(D,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(oe),ai(D,"TestPingServer: error",!1,_)})}function ai(m,_,D,G,oe){try{oe&&(oe.onload=null,oe.onerror=null,oe.onabort=null,oe.ontimeout=null),G(D)}catch{}}function So(){this.g=new ei}function Ki(m,_,D){const G=D||"";try{lc(m,function(oe,pe){let Ae=oe;h(oe)&&(Ae=kr(oe)),_.push(G+pe+"="+encodeURIComponent(Ae))})}catch(oe){throw _.push(G+"type="+encodeURIComponent("_badmap")),oe}}function ba(m){this.l=m.Ub||null,this.j=m.eb||!1}N(ba,ma),ba.prototype.g=function(){return new Ds(this.l,this.j)},ba.prototype.i=function(m){return function(){return m}}({});function Ds(m,_){pt.call(this),this.D=m,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Ds,pt),t=Ds.prototype,t.open=function(m,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=_,this.readyState=1,Yi(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(_.body=m),(this.D||c).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wi(this)),this.readyState=0},t.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Yi(this)),this.g&&(this.readyState=3,Yi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fc(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function fc(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}t.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var _=m.value?m.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!m.done}))&&(this.response=this.responseText+=_)}m.done?Wi(this):Yi(this),this.readyState==3&&fc(this)}},t.Ra=function(m){this.g&&(this.response=this.responseText=m,Wi(this))},t.Qa=function(m){this.g&&(this.response=m,Wi(this))},t.ga=function(){this.g&&Wi(this)};function Wi(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Yi(m)}t.setRequestHeader=function(m,_){this.u.append(m,_)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],_=this.h.entries();for(var D=_.next();!D.done;)D=D.value,m.push(D[0]+": "+D[1]),D=_.next();return m.join(`\r
`)};function Yi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function hc(m){let _="";return M(m,function(D,G){_+=G,_+=":",_+=D,_+=`\r
`}),_}function Hn(m,_,D){e:{for(G in D){var G=!1;break e}G=!0}G||(D=hc(D),typeof m=="string"?D!=null&&encodeURIComponent(String(D)):qt(m,_,D))}function zt(m){pt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(zt,pt);var Tl=/^https?$/i,To=["POST","PUT"];t=zt.prototype,t.Ha=function(m){this.J=m},t.ea=function(m,_,D,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);_=_?_.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wt.g(),this.v=this.o?Rs(this.o):Rs(wt),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(_,String(m),!0),this.B=!1}catch(pe){Kf(this,pe);return}if(m=D||"",D=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var oe in G)D.set(oe,G[oe]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const pe of G.keys())D.set(pe,G.get(pe));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(D.keys()).find(pe=>pe.toLowerCase()=="content-type"),oe=c.FormData&&m instanceof c.FormData,!(0<=Array.prototype.indexOf.call(To,_,void 0))||G||oe||D.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[pe,Ae]of D)this.g.setRequestHeader(pe,Ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Eo(this),this.u=!0,this.g.send(m),this.u=!1}catch(pe){Kf(this,pe)}};function Kf(m,_){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=_,m.m=5,El(m),Xi(m)}function El(m){m.A||(m.A=!0,qe(m,"complete"),qe(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,qe(this,"complete"),qe(this,"abort"),Xi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xi(this,!0)),zt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Al(this):this.bb())},t.bb=function(){Al(this)};function Al(m){if(m.h&&typeof l<"u"&&(!m.v[1]||oi(m)!=4||m.Z()!=2)){if(m.u&&oi(m)==4)en(m.Ea,0,m);else if(qe(m,"readystatechange"),oi(m)==4){m.h=!1;try{const Ae=m.Z();e:switch(Ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var D;if(!(D=_)){var G;if(G=Ae===0){var oe=String(m.D).match(yo)[1]||null;!oe&&c.self&&c.self.location&&(oe=c.self.location.protocol.slice(0,-1)),G=!Tl.test(oe?oe.toLowerCase():"")}D=G}if(D)qe(m,"complete"),qe(m,"success");else{m.m=6;try{var pe=2<oi(m)?m.g.statusText:""}catch{pe=""}m.l=pe+" ["+m.Z()+"]",El(m)}}finally{Xi(m)}}}}function Xi(m,_){if(m.g){Eo(m);const D=m.g,G=m.v[0]?()=>{}:null;m.g=null,m.v=null,_||qe(m,"ready");try{D.onreadystatechange=G}catch{}}}function Eo(m){m.I&&(c.clearTimeout(m.I),m.I=null)}t.isActive=function(){return!!this.g};function oi(m){return m.g?m.g.readyState:0}t.Z=function(){try{return 2<oi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(m){if(this.g){var _=this.g.responseText;return m&&_.indexOf(m)==0&&(_=_.substring(m.length)),Cs(_)}};function Wf(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function zg(m){const _={};m=(m.g&&2<=oi(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<m.length;G++){if(F(m[G]))continue;var D=k(m[G]);const oe=D[0];if(D=D[1],typeof D!="string")continue;D=D.trim();const pe=_[oe]||[];_[oe]=pe,pe.push(D)}C(_,function(G){return G.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ao(m,_,D){return D&&D.internalChannelParams&&D.internalChannelParams[m]||_}function Cl(m){this.Aa=0,this.i=[],this.j=new De,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ao("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ao("baseRetryDelayMs",5e3,m),this.cb=Ao("retryDelaySeedMs",1e4,m),this.Wa=Ao("forwardChannelMaxRetries",2,m),this.wa=Ao("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Er(m&&m.concurrentRequestLimit),this.Da=new So,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Cl.prototype,t.la=8,t.G=1,t.connect=function(m,_,D,G){ce(0),this.W=m,this.H=_||{},D&&G!==void 0&&(this.H.OSID=D,this.H.OAID=G),this.F=this.X,this.I=th(this,null,this.W),Nl(this)};function mc(m){if(Yf(m),m.G==3){var _=m.U++,D=Ur(m.I);if(qt(D,"SID",m.K),qt(D,"RID",_),qt(D,"TYPE","terminate"),Co(m,D),_=new Pt(m,m.j,_),_.L=2,_.v=wo(Ur(D)),D=!1,c.navigator&&c.navigator.sendBeacon)try{D=c.navigator.sendBeacon(_.v.toString(),"")}catch{}!D&&c.Image&&(new Image().src=_.v,D=!0),D||(_.g=nh(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Lr(_)}eh(m)}function Rl(m){m.g&&(Ro(m),m.g.cancel(),m.g=null)}function Yf(m){Rl(m),m.u&&(c.clearTimeout(m.u),m.u=null),Il(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&c.clearTimeout(m.s),m.s=null)}function Nl(m){if(!qi(m.h)&&!m.s){m.s=!0;var _=m.Ga;T||x(),J||(T(),J=!0),W.add(_,m),m.B=0}}function Bg(m,_){return Yt(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=_.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=Te(w(m.Ga,m,_),vc(m,m.B)),m.B++,!0)}t.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const oe=new Pt(this,this.j,m);let pe=this.o;if(this.S&&(pe?(pe=I(pe),S(pe,this.S)):pe=this.S),this.m!==null||this.O||(oe.H=pe,pe=null),this.P)e:{for(var _=0,D=0;D<this.i.length;D++){t:{var G=this.i[D];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(_+=G,4096<_){_=D;break e}if(_===4096||D===this.i.length-1){_=D+1;break e}}_=1e3}else _=1e3;_=Xf(this,oe,_),D=Ur(this.I),qt(D,"RID",m),qt(D,"CVER",22),this.D&&qt(D,"X-HTTP-Session-Id",this.D),Co(this,D),pe&&(this.O?_="headers="+encodeURIComponent(String(hc(pe)))+"&"+_:this.m&&Hn(D,this.m,pe)),Ns(this.h,oe),this.Ua&&qt(D,"TYPE","init"),this.P?(qt(D,"$req",_),qt(D,"SID","null"),oe.T=!0,Ln(oe,D,null)):Ln(oe,D,_),this.G=2}}else this.G==3&&(m?pc(this,m):this.i.length==0||qi(this.h)||pc(this))};function pc(m,_){var D;_?D=_.l:D=m.U++;const G=Ur(m.I);qt(G,"SID",m.K),qt(G,"RID",D),qt(G,"AID",m.T),Co(m,G),m.m&&m.o&&Hn(G,m.m,m.o),D=new Pt(m,m.j,D,m.B+1),m.m===null&&(D.H=m.o),_&&(m.i=_.D.concat(m.i)),_=Xf(m,D,1e3),D.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Ns(m.h,D),Ln(D,G,_)}function Co(m,_){m.H&&M(m.H,function(D,G){qt(_,G,D)}),m.l&&lc({},function(D,G){qt(_,G,D)})}function Xf(m,_,D){D=Math.min(m.i.length,D);var G=m.l?w(m.l.Na,m.l,m):null;e:{var oe=m.i;let pe=-1;for(;;){const Ae=["count="+D];pe==-1?0<D?(pe=oe[0].g,Ae.push("ofs="+pe)):pe=0:Ae.push("ofs="+pe);let Nt=!0;for(let Vn=0;Vn<D;Vn++){let It=oe[Vn].g;const $n=oe[Vn].map;if(It-=pe,0>It)pe=Math.max(0,oe[Vn].g-100),Nt=!1;else try{Ki($n,Ae,"req"+It+"_")}catch{G&&G($n)}}if(Nt){G=Ae.join("&");break e}}}return m=m.i.splice(0,D),_.D=m,G}function Qf(m){if(!m.g&&!m.u){m.Y=1;var _=m.Fa;T||x(),J||(T(),J=!0),W.add(_,m),m.v=0}}function gc(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=Te(w(m.Fa,m),vc(m,m.v)),m.v++,!0)}t.Fa=function(){if(this.u=null,Zf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=Te(w(this.ab,this),m)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ce(10),Rl(this),Zf(this))};function Ro(m){m.A!=null&&(c.clearTimeout(m.A),m.A=null)}function Zf(m){m.g=new Pt(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var _=Ur(m.qa);qt(_,"RID","rpc"),qt(_,"SID",m.K),qt(_,"AID",m.T),qt(_,"CI",m.F?"0":"1"),!m.F&&m.ja&&qt(_,"TO",m.ja),qt(_,"TYPE","xmlhttp"),Co(m,_),m.m&&m.o&&Hn(_,m.m,m.o),m.L&&(m.g.I=m.L);var D=m.g;m=m.ia,D.L=1,D.v=wo(Ur(_)),D.m=null,D.P=!0,yr(D,m)}t.Za=function(){this.C!=null&&(this.C=null,Rl(this),gc(this),ce(19))};function Il(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function Jf(m,_){var D=null;if(m.g==_){Il(m),Ro(m),m.g=null;var G=2}else if(ri(m.h,_))D=_.D,er(m.h,_),G=1;else return;if(m.G!=0){if(_.o)if(G==1){D=_.m?_.m.length:0,_=Date.now()-_.F;var oe=m.B;G=Hi(),qe(G,new _e(G,D)),Nl(m)}else Qf(m);else if(oe=_.s,oe==3||oe==0&&0<_.X||!(G==1&&Bg(m,_)||G==2&&gc(m)))switch(D&&0<D.length&&(_=m.h,_.i=_.i.concat(D)),oe){case 1:js(m,5);break;case 4:js(m,10);break;case 3:js(m,6);break;default:js(m,2)}}}function vc(m,_){let D=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(D*=2),D*_}function js(m,_){if(m.j.info("Error code "+_),_==2){var D=w(m.fb,m),G=m.Xa;const oe=!G;G=new Nn(G||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||bo(G,"https"),wo(G),oe?_o(G.toString(),D):Ei(G.toString(),D)}else ce(2);m.G=0,m.l&&m.l.sa(_),eh(m),Yf(m)}t.fb=function(m){m?(this.j.info("Successfully pinged google.com"),ce(2)):(this.j.info("Failed to ping google.com"),ce(1))};function eh(m){if(m.G=0,m.ka=[],m.l){const _=oc(m.h);(_.length!=0||m.i.length!=0)&&(V(m.ka,_),V(m.ka,m.i),m.h.i.length=0,P(m.i),m.i.length=0),m.l.ra()}}function th(m,_,D){var G=D instanceof Nn?Ur(D):new Nn(D);if(G.g!="")_&&(G.g=_+"."+G.g),ya(G,G.s);else{var oe=c.location;G=oe.protocol,_=_?_+"."+oe.hostname:oe.hostname,oe=+oe.port;var pe=new Nn(null);G&&bo(pe,G),_&&(pe.g=_),oe&&ya(pe,oe),D&&(pe.l=D),G=pe}return D=m.D,_=m.ya,D&&_&&qt(G,D,_),qt(G,"VER",m.la),Co(m,G),G}function nh(m,_,D){if(_&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=m.Ca&&!m.pa?new zt(new ba({eb:D})):new zt(m.pa),_.Ha(m.J),_}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function rh(){}t=rh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ol(){}Ol.prototype.g=function(m,_){return new wr(m,_)};function wr(m,_){pt.call(this),this.g=new Cl(_),this.l=m,this.h=_&&_.messageUrlParams||null,m=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(m?m["X-WebChannel-Content-Type"]=_.messageContentType:m={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(m?m["X-WebChannel-Client-Profile"]=_.va:m={"X-WebChannel-Client-Profile":_.va}),this.g.S=m,(m=_&&_.Sb)&&!F(m)&&(this.g.m=m),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!F(_)&&(this.g.D=_,m=this.h,m!==null&&_ in m&&(m=this.h,_ in m&&delete m[_])),this.j=new Qi(this)}N(wr,pt),wr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wr.prototype.close=function(){mc(this.g)},wr.prototype.o=function(m){var _=this.g;if(typeof m=="string"){var D={};D.__data__=m,m=D}else this.u&&(D={},D.__data__=kr(m),m=D);_.i.push(new Vr(_.Ya++,m)),_.G==3&&Nl(_)},wr.prototype.N=function(){this.g.l=null,delete this.j,mc(this.g),delete this.g,wr.aa.N.call(this)};function ih(m){Ti.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var _=m.__sm__;if(_){e:{for(const D in _){m=D;break e}m=void 0}(this.i=m)&&(m=this.i,_=_!==null&&m in _?_[m]:void 0),this.data=_}else this.data=m}N(ih,Ti);function sh(){pa.call(this),this.status=1}N(sh,pa);function Qi(m){this.g=m}N(Qi,rh),Qi.prototype.ua=function(){qe(this.g,"a")},Qi.prototype.ta=function(m){qe(this.g,new ih(m))},Qi.prototype.sa=function(m){qe(this.g,new sh)},Qi.prototype.ra=function(){qe(this.g,"b")},Ol.prototype.createWebChannel=Ol.prototype.g,wr.prototype.send=wr.prototype.o,wr.prototype.open=wr.prototype.m,wr.prototype.close=wr.prototype.close,BN=function(){return new Ol},zN=function(){return Hi()},UN=vr,W0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ke.NO_ERROR=0,Ke.TIMEOUT=8,Ke.HTTP_ERROR=6,jm=Ke,it.COMPLETE="complete",VN=it,vo.EventType=ti,ti.OPEN="a",ti.CLOSE="b",ti.ERROR="c",ti.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Td=vo,zt.prototype.listenOnce=zt.prototype.L,zt.prototype.getLastError=zt.prototype.Ka,zt.prototype.getLastErrorCode=zt.prototype.Ba,zt.prototype.getStatus=zt.prototype.Z,zt.prototype.getResponseJson=zt.prototype.Oa,zt.prototype.getResponseText=zt.prototype.oa,zt.prototype.send=zt.prototype.ea,zt.prototype.setWithCredentials=zt.prototype.Ha,LN=zt}).apply(typeof lm<"u"?lm:typeof self<"u"?self:typeof window<"u"?window:{});const SE="@firebase/firestore",TE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};mr.UNAUTHENTICATED=new mr(null),mr.GOOGLE_CREDENTIALS=new mr("google-credentials-uid"),mr.FIRST_PARTY=new mr("first-party-uid"),mr.MOCK_USER=new mr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=new iw("@firebase/firestore");function ou(){return ul.logLevel}function Me(t,...e){if(ul.logLevel<=Et.DEBUG){const n=e.map(gw);ul.debug(`Firestore (${Zu}): ${t}`,...n)}}function aa(t,...e){if(ul.logLevel<=Et.ERROR){const n=e.map(gw);ul.error(`Firestore (${Zu}): ${t}`,...n)}}function oa(t,...e){if(ul.logLevel<=Et.WARN){const n=e.map(gw);ul.warn(`Firestore (${Zu}): ${t}`,...n)}}function gw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,FN(t,r,n)}function FN(t,e,n){let r=`FIRESTORE (${Zu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw aa(r),new Error(r)}function Ft(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||FN(e,i,r)}function ct(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Re extends Ts{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $N{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mr.UNAUTHENTICATED))}shutdown(){}}class E3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class A3{constructor(e){this.t=e,this.currentUser=mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ft(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let o=new ea;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ea,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const d=o;e.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},c=d=>{Me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(Me("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ea)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ft(typeof r.accessToken=="string",31837,{l:r}),new HN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ft(e===null||typeof e=="string",2055,{h:e}),new mr(e)}}class C3{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=mr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class R3{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new C3(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(mr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class EE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class N3{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ft(this.o===void 0,3512);const r=o=>{o.error!=null&&Me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,Me("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new EE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ft(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new EE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=I3(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function vt(t,e){return t<e?-1:t>e?1:0}function Y0(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return vt(r,i);{const o=qN(),l=O3(o.encode(AE(t,n)),o.encode(AE(e,n)));return l!==0?l:vt(r,i)}}n+=r>65535?2:1}return vt(t.length,e.length)}function AE(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function O3(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return vt(t[n],e[n]);return vt(t.length,e.length)}function Du(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="__name__";class is{constructor(e,n,r){n===void 0?n=0:n>e.length&&rt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&rt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return is.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof is?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=is.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return vt(e.length,n.length)}static compareSegments(e,n){const r=is.isNumericId(e),i=is.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?is.extractNumericId(e).compare(is.extractNumericId(n)):Y0(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ja.fromString(e.substring(4,e.length-2))}}class Zt extends is{construct(e,n,r){return new Zt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Re(ve.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Zt(n)}static emptyPath(){return new Zt([])}}const M3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xn extends is{construct(e,n,r){return new Xn(e,n,r)}static isValidIdentifier(e){return M3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===CE}static keyField(){return new Xn([CE])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Re(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Re(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Re(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(o(),i++)}if(o(),l)throw new Re(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xn(n)}static emptyPath(){return new Xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be(Zt.fromString(e))}static fromName(e){return new Be(Zt.fromString(e).popFirst(5))}static empty(){return new Be(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Zt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new Zt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(t,e,n){if(!n)throw new Re(ve.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function KN(t,e,n,r){if(e===!0&&r===!0)throw new Re(ve.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function RE(t){if(!Be.isDocumentKey(t))throw new Re(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function NE(t){if(Be.isDocumentKey(t))throw new Re(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function WN(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Qp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":rt(12329,{type:typeof t})}function Tr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Re(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qp(t);throw new Re(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(t,e){const n={typeString:t};return e&&(n.value=e),n}function xf(t,e){if(!WN(t))throw new Re(ve.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&l!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new Re(ve.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=-62135596800,OE=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(e){return Jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*OE);return new Jt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Re(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Re(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<IE)throw new Re(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Re(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/OE}_compareTo(e){return this.seconds===e.seconds?vt(this.nanoseconds,e.nanoseconds):vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xf(e,Jt._jsonSchema))return new Jt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-IE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Jt._jsonSchemaVersion="firestore/timestamp/1.0",Jt._jsonSchema={type:kn("string",Jt._jsonSchemaVersion),seconds:kn("number"),nanoseconds:kn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{static fromTimestamp(e){return new ut(e)}static min(){return new ut(new Jt(0,0))}static max(){return new ut(new Jt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd=-1;function P3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ut.fromTimestamp(r===1e9?new Jt(n+1,0):new Jt(n,r));return new ro(i,Be.empty(),e)}function D3(t){return new ro(t.readTime,t.key,Wd)}class ro{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ro(ut.min(),Be.empty(),Wd)}static max(){return new ro(ut.max(),Be.empty(),Wd)}}function j3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Be.comparator(t.documentKey,e.documentKey),n!==0?n:vt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ju(t){if(t.code!==ve.FAILED_PRECONDITION||t.message!==k3)throw t;Me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Se((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Se?n:Se.resolve(n)}catch(n){return Se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Se.reject(n)}static resolve(e){return new Se((n,r)=>{n(e)})}static reject(e){return new Se((n,r)=>{r(e)})}static waitFor(e){return new Se((n,r)=>{let i=0,o=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++o,l&&o===i&&n()},d=>r(d))}),l=!0,o===i&&n()})}static or(e){let n=Se.resolve(!1);for(const r of e)n=n.next(i=>i?Se.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Se((r,i)=>{const o=e.length,l=new Array(o);let c=0;for(let d=0;d<o;d++){const h=d;n(e[h]).next(p=>{l[h]=p,++c,c===o&&r(l)},p=>i(p))}})}static doWhile(e,n){return new Se((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function V3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ec(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Zp.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=-1;function Jp(t){return t==null}function cp(t){return t===0&&1/t==-1/0}function U3(t){return typeof t=="number"&&Number.isInteger(t)&&!cp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="";function z3(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ME(e)),e=B3(t.get(n),e);return ME(e)}function B3(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case YN:n+="";break;default:n+=o}}return n}function ME(t){return t+YN+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ho(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function XN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n){this.comparator=e,this.root=n||sr.EMPTY}insert(e,n){return new hn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sr.BLACK,null,null))}remove(e){return new hn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new um(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new um(this.root,e,this.comparator,!1)}getReverseIterator(){return new um(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new um(this.root,e,this.comparator,!0)}}class um{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??sr.RED,this.left=i??sr.EMPTY,this.right=o??sr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new sr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return sr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return sr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw rt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw rt(27949);return e+(this.isRed()?0:1)}}sr.EMPTY=null,sr.RED=!0,sr.BLACK=!1;sr.EMPTY=new class{constructor(){this.size=0}get key(){throw rt(57766)}get value(){throw rt(16141)}get color(){throw rt(16727)}get left(){throw rt(29726)}get right(){throw rt(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new sr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.comparator=e,this.data=new hn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new DE(this.data.getIterator())}getIteratorFrom(e){return new DE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Fn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Fn(this.comparator);return n.data=e,n}}class DE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this.fields=e,e.sort(Xn.comparator)}static empty(){return new Qr([])}unionWith(e){let n=new Fn(Xn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Qr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Du(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new QN("Invalid base64 string: "+o):o}}(e);return new Zn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new Zn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zn.EMPTY_BYTE_STRING=new Zn("");const F3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function io(t){if(Ft(!!t,39018),typeof t=="string"){let e=0;const n=F3.exec(t);if(Ft(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:En(t.seconds),nanos:En(t.nanos)}}function En(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function so(t){return typeof t=="string"?Zn.fromBase64String(t):Zn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="server_timestamp",JN="__type__",eI="__previous_value__",tI="__local_write_time__";function eg(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[JN])===null||n===void 0?void 0:n.stringValue)===ZN}function tg(t){const e=t.mapValue.fields[eI];return eg(e)?tg(e):e}function Yd(t){const e=io(t.mapValue.fields[tI].timestampValue);return new Jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e,n,r,i,o,l,c,d,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=p}}const dp="(default)";class ju{constructor(e,n){this.projectId=e,this.database=n||dp}static empty(){return new ju("","")}get isDefaultDatabase(){return this.database===dp}isEqual(e){return e instanceof ju&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="__type__",$3="__max__",cm={mapValue:{}},rI="__vector__",fp="value";function ao(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?eg(t)?4:G3(t)?9007199254740991:q3(t)?10:11:rt(28295,{value:t})}function ws(t,e){if(t===e)return!0;const n=ao(t);if(n!==ao(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Yd(t).isEqual(Yd(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=io(i.timestampValue),c=io(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return so(i.bytesValue).isEqual(so(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return En(i.geoPointValue.latitude)===En(o.geoPointValue.latitude)&&En(i.geoPointValue.longitude)===En(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return En(i.integerValue)===En(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=En(i.doubleValue),c=En(o.doubleValue);return l===c?cp(l)===cp(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return Du(t.arrayValue.values||[],e.arrayValue.values||[],ws);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},c=o.mapValue.fields||{};if(PE(l)!==PE(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!ws(l[d],c[d])))return!1;return!0}(t,e);default:return rt(52216,{left:t})}}function Xd(t,e){return(t.values||[]).find(n=>ws(n,e))!==void 0}function ku(t,e){if(t===e)return 0;const n=ao(t),r=ao(e);if(n!==r)return vt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return vt(t.booleanValue,e.booleanValue);case 2:return function(o,l){const c=En(o.integerValue||o.doubleValue),d=En(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(t,e);case 3:return jE(t.timestampValue,e.timestampValue);case 4:return jE(Yd(t),Yd(e));case 5:return Y0(t.stringValue,e.stringValue);case 6:return function(o,l){const c=so(o),d=so(l);return c.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(o,l){const c=o.split("/"),d=l.split("/");for(let h=0;h<c.length&&h<d.length;h++){const p=vt(c[h],d[h]);if(p!==0)return p}return vt(c.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,l){const c=vt(En(o.latitude),En(l.latitude));return c!==0?c:vt(En(o.longitude),En(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return kE(t.arrayValue,e.arrayValue);case 10:return function(o,l){var c,d,h,p;const y=o.fields||{},w=l.fields||{},E=(c=y[fp])===null||c===void 0?void 0:c.arrayValue,N=(d=w[fp])===null||d===void 0?void 0:d.arrayValue,P=vt(((h=E?.values)===null||h===void 0?void 0:h.length)||0,((p=N?.values)===null||p===void 0?void 0:p.length)||0);return P!==0?P:kE(E,N)}(t.mapValue,e.mapValue);case 11:return function(o,l){if(o===cm.mapValue&&l===cm.mapValue)return 0;if(o===cm.mapValue)return 1;if(l===cm.mapValue)return-1;const c=o.fields||{},d=Object.keys(c),h=l.fields||{},p=Object.keys(h);d.sort(),p.sort();for(let y=0;y<d.length&&y<p.length;++y){const w=Y0(d[y],p[y]);if(w!==0)return w;const E=ku(c[d[y]],h[p[y]]);if(E!==0)return E}return vt(d.length,p.length)}(t.mapValue,e.mapValue);default:throw rt(23264,{le:n})}}function jE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return vt(t,e);const n=io(t),r=io(e),i=vt(n.seconds,r.seconds);return i!==0?i:vt(n.nanos,r.nanos)}function kE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=ku(n[i],r[i]);if(o)return o}return vt(n.length,r.length)}function Lu(t){return X0(t)}function X0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=io(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return so(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Be.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=X0(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${X0(n.fields[l])}`;return i+"}"}(t.mapValue):rt(61005,{value:t})}function km(t){switch(ao(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tg(t);return e?16+km(e):16;case 5:return 2*t.stringValue.length;case 6:return so(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+km(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ho(r.fields,(o,l)=>{i+=o.length+km(l)}),i}(t.mapValue);default:throw rt(13486,{value:t})}}function hp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Q0(t){return!!t&&"integerValue"in t}function yw(t){return!!t&&"arrayValue"in t}function LE(t){return!!t&&"nullValue"in t}function VE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lm(t){return!!t&&"mapValue"in t}function q3(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[nI])===null||n===void 0?void 0:n.stringValue)===rI}function Pd(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ho(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Pd(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pd(t.arrayValue.values[n]);return e}return Object.assign({},t)}function G3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===$3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.value=e}static empty(){return new Ir({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Lm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pd(n)}setAll(e){let n=Xn.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=c.popLast()}l?r[c.lastSegment()]=Pd(l):i.push(c.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Lm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ws(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Lm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ho(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Ir(Pd(this.value))}}function iI(t){const e=[];return ho(t.fields,(n,r)=>{const i=new Xn([n]);if(Lm(r)){const o=iI(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new Qr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,n,r,i,o,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new pr(e,0,ut.min(),ut.min(),ut.min(),Ir.empty(),0)}static newFoundDocument(e,n,r,i){return new pr(e,1,n,ut.min(),r,i,0)}static newNoDocument(e,n){return new pr(e,2,n,ut.min(),ut.min(),Ir.empty(),0)}static newUnknownDocument(e,n){return new pr(e,3,n,ut.min(),ut.min(),Ir.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ut.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ir.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ut.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n){this.position=e,this.inclusive=n}}function UE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],l=t.position[i];if(o.field.isKeyField()?r=Be.comparator(Be.fromName(l.referenceValue),n.key):r=ku(l,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function zE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ws(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,n="asc"){this.field=e,this.dir=n}}function K3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{}class jn extends sI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Y3(e,n,r):n==="array-contains"?new Z3(e,r):n==="in"?new J3(e,r):n==="not-in"?new e6(e,r):n==="array-contains-any"?new t6(e,r):new jn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new X3(e,r):new Q3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ku(n,this.value)):n!==null&&ao(this.value)===ao(n)&&this.matchesComparison(ku(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ji extends sI{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new ji(e,n)}matches(e){return aI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function aI(t){return t.op==="and"}function oI(t){return W3(t)&&aI(t)}function W3(t){for(const e of t.filters)if(e instanceof ji)return!1;return!0}function Z0(t){if(t instanceof jn)return t.field.canonicalString()+t.op.toString()+Lu(t.value);if(oI(t))return t.filters.map(e=>Z0(e)).join(",");{const e=t.filters.map(n=>Z0(n)).join(",");return`${t.op}(${e})`}}function lI(t,e){return t instanceof jn?function(r,i){return i instanceof jn&&r.op===i.op&&r.field.isEqual(i.field)&&ws(r.value,i.value)}(t,e):t instanceof ji?function(r,i){return i instanceof ji&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,c)=>o&&lI(l,i.filters[c]),!0):!1}(t,e):void rt(19439)}function uI(t){return t instanceof jn?function(n){return`${n.field.canonicalString()} ${n.op} ${Lu(n.value)}`}(t):t instanceof ji?function(n){return n.op.toString()+" {"+n.getFilters().map(uI).join(" ,")+"}"}(t):"Filter"}class Y3 extends jn{constructor(e,n,r){super(e,n,r),this.key=Be.fromName(r.referenceValue)}matches(e){const n=Be.comparator(e.key,this.key);return this.matchesComparison(n)}}class X3 extends jn{constructor(e,n){super(e,"in",n),this.keys=cI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Q3 extends jn{constructor(e,n){super(e,"not-in",n),this.keys=cI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Be.fromName(r.referenceValue))}class Z3 extends jn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yw(n)&&Xd(n.arrayValue,this.value)}}class J3 extends jn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xd(this.value.arrayValue,n)}}class e6 extends jn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Xd(this.value.arrayValue,n)}}class t6 extends jn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e,n=null,r=[],i=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=c,this.Pe=null}}function BE(t,e=null,n=[],r=[],i=null,o=null,l=null){return new n6(t,e,n,r,i,o,l)}function bw(t){const e=ct(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Z0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Jp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Lu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Lu(r)).join(",")),e.Pe=n}return e.Pe}function ww(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!K3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zE(t.startAt,e.startAt)&&zE(t.endAt,e.endAt)}function J0(t){return Be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n=null,r=[],i=[],o=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=d,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function r6(t,e,n,r,i,o,l,c){return new vl(t,e,n,r,i,o,l,c)}function ng(t){return new vl(t)}function FE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xw(t){return t.collectionGroup!==null}function Cu(t){const e=ct(t);if(e.Te===null){e.Te=[];const n=new Set;for(const o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Fn(Xn.comparator);return l.filters.forEach(d=>{d.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Qd(o,r))}),n.has(Xn.keyField().canonicalString())||e.Te.push(new Qd(Xn.keyField(),r))}return e.Te}function fs(t){const e=ct(t);return e.Ie||(e.Ie=i6(e,Cu(t))),e.Ie}function i6(t,e){if(t.limitType==="F")return BE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Qd(i.field,o)});const n=t.endAt?new Vu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vu(t.startAt.position,t.startAt.inclusive):null;return BE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function eb(t,e){const n=t.filters.concat([e]);return new vl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function mp(t,e,n){return new vl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rg(t,e){return ww(fs(t),fs(e))&&t.limitType===e.limitType}function dI(t){return`${bw(fs(t))}|lt:${t.limitType}`}function lu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>uI(i)).join(", ")}]`),Jp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Lu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Lu(i)).join(",")),`Target(${r})`}(fs(t))}; limitType=${t.limitType})`}function ig(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Be.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Cu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(l,c,d){const h=UE(l,c,d);return l.inclusive?h<=0:h<0}(r.startAt,Cu(r),i)||r.endAt&&!function(l,c,d){const h=UE(l,c,d);return l.inclusive?h>=0:h>0}(r.endAt,Cu(r),i))}(t,e)}function s6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function fI(t){return(e,n)=>{let r=!1;for(const i of Cu(t)){const o=a6(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function a6(t,e,n){const r=t.field.isKeyField()?Be.comparator(e.key,n.key):function(o,l,c){const d=l.data.field(o),h=c.data.field(o);return d!==null&&h!==null?ku(d,h):rt(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return rt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ho(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return XN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6=new hn(Be.comparator);function la(){return o6}const hI=new hn(Be.comparator);function Ed(...t){let e=hI;for(const n of t)e=e.insert(n.key,n);return e}function mI(t){let e=hI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Qo(){return Dd()}function pI(){return Dd()}function Dd(){return new yl(t=>t.toString(),(t,e)=>t.isEqual(e))}const l6=new hn(Be.comparator),u6=new Fn(Be.comparator);function At(...t){let e=u6;for(const n of t)e=e.add(n);return e}const c6=new Fn(vt);function d6(){return c6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cp(e)?"-0":e}}function gI(t){return{integerValue:""+t}}function f6(t,e){return U3(e)?gI(e):_w(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(){this._=void 0}}function h6(t,e,n){return t instanceof Zd?function(i,o){const l={fields:{[JN]:{stringValue:ZN},[tI]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&eg(o)&&(o=tg(o)),o&&(l.fields[eI]=o),{mapValue:l}}(n,e):t instanceof Jd?yI(t,e):t instanceof ef?bI(t,e):function(i,o){const l=vI(i,o),c=HE(l)+HE(i.Ee);return Q0(l)&&Q0(i.Ee)?gI(c):_w(i.serializer,c)}(t,e)}function m6(t,e,n){return t instanceof Jd?yI(t,e):t instanceof ef?bI(t,e):n}function vI(t,e){return t instanceof pp?function(r){return Q0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Zd extends sg{}class Jd extends sg{constructor(e){super(),this.elements=e}}function yI(t,e){const n=wI(e);for(const r of t.elements)n.some(i=>ws(i,r))||n.push(r);return{arrayValue:{values:n}}}class ef extends sg{constructor(e){super(),this.elements=e}}function bI(t,e){let n=wI(e);for(const r of t.elements)n=n.filter(i=>!ws(i,r));return{arrayValue:{values:n}}}class pp extends sg{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function HE(t){return En(t.integerValue||t.doubleValue)}function wI(t){return yw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e,n){this.field=e,this.transform=n}}function g6(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Jd&&i instanceof Jd||r instanceof ef&&i instanceof ef?Du(r.elements,i.elements,ws):r instanceof pp&&i instanceof pp?ws(r.Ee,i.Ee):r instanceof Zd&&i instanceof Zd}(t.transform,e.transform)}class v6{constructor(e,n){this.version=e,this.transformResults=n}}class wi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vm(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ag{}function xI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sw(t.key,wi.none()):new _f(t.key,t.data,wi.none());{const n=t.data,r=Ir.empty();let i=new Fn(Xn.comparator);for(let o of e.fields)if(!i.has(o)){let l=n.field(o);l===null&&o.length>1&&(o=o.popLast(),l=n.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new mo(t.key,r,new Qr(i.toArray()),wi.none())}}function y6(t,e,n){t instanceof _f?function(i,o,l){const c=i.value.clone(),d=qE(i.fieldTransforms,o,l.transformResults);c.setAll(d),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof mo?function(i,o,l){if(!Vm(i.precondition,o))return void o.convertToUnknownDocument(l.version);const c=qE(i.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(_I(i)),d.setAll(c),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(t,e,n):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function jd(t,e,n,r){return t instanceof _f?function(o,l,c,d){if(!Vm(o.precondition,l))return c;const h=o.value.clone(),p=GE(o.fieldTransforms,d,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof mo?function(o,l,c,d){if(!Vm(o.precondition,l))return c;const h=GE(o.fieldTransforms,d,l),p=l.data;return p.setAll(_I(o)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(o,l,c){return Vm(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function b6(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=vI(r.transform,i||null);o!=null&&(n===null&&(n=Ir.empty()),n.set(r.field,o))}return n||null}function $E(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Du(r,i,(o,l)=>g6(o,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _f extends ag{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class mo extends ag{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function _I(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function qE(t,e,n){const r=new Map;Ft(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const o=t[i],l=o.transform,c=e.data.field(o.field);r.set(o.field,m6(l,c,n[i]))}return r}function GE(t,e,n){const r=new Map;for(const i of t){const o=i.transform,l=n.data.field(i.field);r.set(i.field,h6(o,l,e))}return r}class Sw extends ag{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class w6 extends ag{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&y6(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=jd(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=jd(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=pI();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=n.has(i.key)?null:c;const d=xI(l,c);d!==null&&r.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(ut.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),At())}isEqual(e){return this.batchId===e.batchId&&Du(this.mutations,e.mutations,(n,r)=>$E(n,r))&&Du(this.baseMutations,e.baseMutations,(n,r)=>$E(n,r))}}class Tw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ft(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return l6}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new Tw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mn,Mt;function T6(t){switch(t){case ve.OK:return rt(64938);case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0;default:return rt(15467,{code:t})}}function SI(t){if(t===void 0)return aa("GRPC error has no .code"),ve.UNKNOWN;switch(t){case Mn.OK:return ve.OK;case Mn.CANCELLED:return ve.CANCELLED;case Mn.UNKNOWN:return ve.UNKNOWN;case Mn.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case Mn.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case Mn.INTERNAL:return ve.INTERNAL;case Mn.UNAVAILABLE:return ve.UNAVAILABLE;case Mn.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case Mn.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case Mn.NOT_FOUND:return ve.NOT_FOUND;case Mn.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case Mn.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case Mn.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case Mn.ABORTED:return ve.ABORTED;case Mn.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case Mn.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case Mn.DATA_LOSS:return ve.DATA_LOSS;default:return rt(39323,{code:t})}}(Mt=Mn||(Mn={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6=new Ja([4294967295,4294967295],0);function KE(t){const e=qN().encode(t),n=new kN;return n.update(e),new Uint8Array(n.digest())}function WE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ja([n,r],0),new Ja([i,o],0)]}class Ew{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ad(`Invalid padding: ${n}`);if(r<0)throw new Ad(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ad(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ad(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Ja.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(Ja.fromNumber(r)));return i.compare(E6)===1&&(i=new Ja([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=KE(e),[r,i]=WE(n);for(let o=0;o<this.hashCount;o++){const l=this.pe(r,i,o);if(!this.ye(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Ew(o,i,n);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.fe===0)return;const n=KE(e),[r,i]=WE(n);for(let o=0;o<this.hashCount;o++){const l=this.pe(r,i,o);this.we(l)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ad extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Sf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new og(ut.min(),i,new hn(vt),la(),At())}}class Sf{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Sf(r,n,At(),At(),At())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class TI{constructor(e,n){this.targetId=e,this.De=n}}class EI{constructor(e,n,r=Zn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class YE{constructor(){this.ve=0,this.Ce=XE(),this.Fe=Zn.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=At(),n=At(),r=At();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:rt(38017,{changeType:o})}}),new Sf(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=XE()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class A6{constructor(e){this.We=e,this.Ge=new Map,this.ze=la(),this.je=dm(),this.Je=dm(),this.He=new hn(vt)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:rt(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const o=i.target;if(J0(o))if(r===0){const l=new Be(o.path);this.Xe(n,l,pr.newNoDocument(l,ut.min()))}else Ft(r===1,20013,{expectedCount:r});else{const l=this.ot(n);if(l!==r){const c=this._t(e),d=c?this.ut(c,e,l):1;if(d!==0){this.rt(n);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,h)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let l,c;try{l=so(r).toUint8Array()}catch(d){if(d instanceof QN)return oa("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new Ew(l,i,o)}catch(d){return oa(d instanceof Ad?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.fe===0?null:c}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const l=this.We.lt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Xe(n,o,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((o,l)=>{const c=this.st(l);if(c){if(o.current&&J0(c.target)){const d=new Be(c.target.path);this.Tt(d).has(l)||this.It(l,d)||this.Xe(l,d,pr.newNoDocument(d,e))}o.Ne&&(n.set(l,o.Le()),o.ke())}});let r=At();this.Je.forEach((o,l)=>{let c=!0;l.forEachWhile(d=>{const h=this.st(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(o))}),this.ze.forEach((o,l)=>l.setReadTime(e));const i=new og(e,n,this.He,this.ze,r);return this.ze=la(),this.je=dm(),this.Je=dm(),this.He=new hn(vt),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new YE,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Fn(vt),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Fn(vt),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||Me("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new YE),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function dm(){return new hn(Be.comparator)}function XE(){return new hn(Be.comparator)}const C6={asc:"ASCENDING",desc:"DESCENDING"},R6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},N6={and:"AND",or:"OR"};class I6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tb(t,e){return t.useProto3Json||Jp(e)?e:{value:e}}function gp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function O6(t,e){return gp(t,e.toTimestamp())}function hs(t){return Ft(!!t,49232),ut.fromTimestamp(function(n){const r=io(n);return new Jt(r.seconds,r.nanos)}(t))}function Aw(t,e){return nb(t,e).canonicalString()}function nb(t,e){const n=function(i){return new Zt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function CI(t){const e=Zt.fromString(t);return Ft(MI(e),10190,{key:e.toString()}),e}function rb(t,e){return Aw(t.databaseId,e.path)}function qy(t,e){const n=CI(e);if(n.get(1)!==t.databaseId.projectId)throw new Re(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Re(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Be(NI(n))}function RI(t,e){return Aw(t.databaseId,e)}function M6(t){const e=CI(t);return e.length===4?Zt.emptyPath():NI(e)}function ib(t){return new Zt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function NI(t){return Ft(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function QE(t,e,n){return{name:rb(t,e),fields:n.value.mapValue.fields}}function P6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:rt(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(h,p){return h.useProto3Json?(Ft(p===void 0||typeof p=="string",58123),Zn.fromBase64String(p||"")):(Ft(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Zn.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(h){const p=h.code===void 0?ve.UNKNOWN:SI(h.code);return new Re(p,h.message||"")}(l);n=new EI(r,i,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=qy(t,r.document.name),o=hs(r.document.updateTime),l=r.document.createTime?hs(r.document.createTime):ut.min(),c=new Ir({mapValue:{fields:r.document.fields}}),d=pr.newFoundDocument(i,o,l,c),h=r.targetIds||[],p=r.removedTargetIds||[];n=new Um(h,p,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=qy(t,r.document),o=r.readTime?hs(r.readTime):ut.min(),l=pr.newNoDocument(i,o),c=r.removedTargetIds||[];n=new Um([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=qy(t,r.document),o=r.removedTargetIds||[];n=new Um([],o,i,null)}else{if(!("filter"in e))return rt(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new S6(i,o),c=r.targetId;n=new TI(c,l)}}return n}function D6(t,e){let n;if(e instanceof _f)n={update:QE(t,e.key,e.value)};else if(e instanceof Sw)n={delete:rb(t,e.key)};else if(e instanceof mo)n={update:QE(t,e.key,e.data),updateMask:H6(e.fieldMask)};else{if(!(e instanceof w6))return rt(16599,{Rt:e.type});n={verify:rb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const c=l.transform;if(c instanceof Zd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Jd)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ef)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof pp)return{fieldPath:l.field.canonicalString(),increment:c.Ee};throw rt(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:O6(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:rt(27497)}(t,e.precondition)),n}function j6(t,e){return t&&t.length>0?(Ft(e!==void 0,14353),t.map(n=>function(i,o){let l=i.updateTime?hs(i.updateTime):hs(o);return l.isEqual(ut.min())&&(l=hs(o)),new v6(l,i.transformResults||[])}(n,e))):[]}function k6(t,e){return{documents:[RI(t,e.path)]}}function L6(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=RI(t,i);const o=function(h){if(h.length!==0)return OI(ji.create(h,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const l=function(h){if(h.length!==0)return h.map(p=>function(w){return{field:uu(w.field),direction:z6(w.dir)}}(p))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=tb(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{Vt:n,parent:i}}function V6(t){let e=M6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ft(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=function(y){const w=II(y);return w instanceof ji&&oI(w)?w.getFilters():[w]}(n.where));let l=[];n.orderBy&&(l=function(y){return y.map(w=>function(N){return new Qd(cu(N.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(w))}(n.orderBy));let c=null;n.limit&&(c=function(y){let w;return w=typeof y=="object"?y.value:y,Jp(w)?null:w}(n.limit));let d=null;n.startAt&&(d=function(y){const w=!!y.before,E=y.values||[];return new Vu(E,w)}(n.startAt));let h=null;return n.endAt&&(h=function(y){const w=!y.before,E=y.values||[];return new Vu(E,w)}(n.endAt)),r6(e,i,l,o,c,"F",d,h)}function U6(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rt(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function II(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=cu(n.unaryFilter.field);return jn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=cu(n.unaryFilter.field);return jn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=cu(n.unaryFilter.field);return jn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=cu(n.unaryFilter.field);return jn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return rt(61313);default:return rt(60726)}}(t):t.fieldFilter!==void 0?function(n){return jn.create(cu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return rt(58110);default:return rt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ji.create(n.compositeFilter.filters.map(r=>II(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return rt(1026)}}(n.compositeFilter.op))}(t):rt(30097,{filter:t})}function z6(t){return C6[t]}function B6(t){return R6[t]}function F6(t){return N6[t]}function uu(t){return{fieldPath:t.canonicalString()}}function cu(t){return Xn.fromServerFormat(t.fieldPath)}function OI(t){return t instanceof jn?function(n){if(n.op==="=="){if(VE(n.value))return{unaryFilter:{field:uu(n.field),op:"IS_NAN"}};if(LE(n.value))return{unaryFilter:{field:uu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(VE(n.value))return{unaryFilter:{field:uu(n.field),op:"IS_NOT_NAN"}};if(LE(n.value))return{unaryFilter:{field:uu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uu(n.field),op:B6(n.op),value:n.value}}}(t):t instanceof ji?function(n){const r=n.getFilters().map(i=>OI(i));return r.length===1?r[0]:{compositeFilter:{op:F6(n.op),filters:r}}}(t):rt(54877,{filter:t})}function H6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function MI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n,r,i,o=ut.min(),l=ut.min(),c=Zn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Xa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e){this.gt=e}}function q6(t){const e=V6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?mp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(){this.Dn=new K6}addToCollectionParentIndex(e,n){return this.Dn.add(n),Se.resolve()}getCollectionParents(e,n){return Se.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return Se.resolve()}deleteFieldIndex(e,n){return Se.resolve()}deleteAllFieldIndexes(e){return Se.resolve()}createTargetIndexes(e,n){return Se.resolve()}getDocumentsMatchingTarget(e,n){return Se.resolve(null)}getIndexType(e,n){return Se.resolve(0)}getFieldIndexes(e,n){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,n){return Se.resolve(ro.min())}getMinOffsetFromCollectionGroup(e,n){return Se.resolve(ro.min())}updateCollectionGroup(e,n,r){return Se.resolve()}updateIndexEntries(e,n){return Se.resolve()}}class K6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Fn(Zt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Fn(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PI=41943040;class Nr{static withCacheSize(e){return new Nr(e,Nr.DEFAULT_COLLECTION_PERCENTILE,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nr.DEFAULT_COLLECTION_PERCENTILE=10,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nr.DEFAULT=new Nr(PI,Nr.DEFAULT_COLLECTION_PERCENTILE,Nr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nr.DISABLED=new Nr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Uu(0)}static ur(){return new Uu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="LruGarbageCollector",W6=1048576;function eA([t,e],[n,r]){const i=vt(t,n);return i===0?vt(e,r):i}class Y6{constructor(e){this.Tr=e,this.buffer=new Fn(eA),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();eA(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class X6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Me(JE,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ec(n)?Me(JE,"Ignoring IndexedDB error during garbage collection: ",n):await Ju(n)}await this.Rr(3e5)})}}class Q6{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Se.resolve(Zp.ue);const r=new Y6(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Me("LruGarbageCollector","Garbage collection skipped; disabled"),Se.resolve(ZE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ZE):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,l,c,d,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(y=>(y>this.params.maximumSequenceNumbersToCollect?(Me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),i=this.params.maximumSequenceNumbersToCollect):i=y,l=Date.now(),this.nthSequenceNumber(e,i))).next(y=>(r=y,c=Date.now(),this.removeTargets(e,r,n))).next(y=>(o=y,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(y=>(h=Date.now(),ou()<=Et.DEBUG&&Me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${o} targets in `+(d-c)+`ms
	Removed ${y} documents in `+(h-d)+`ms
Total Duration: ${h-p}ms`),Se.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:y})))}}function Z6(t,e){return new Q6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(){this.changes=new yl(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&jd(r.mutation,i,Qr.empty(),Jt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,At()).next(()=>r))}getLocalViewOfDocuments(e,n,r=At()){const i=Qo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let l=Ed();return o.forEach((c,d)=>{l=l.insert(c,d.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Qo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,At()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,r,i){let o=la();const l=Dd(),c=function(){return Dd()}();return n.forEach((d,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof mo)?o=o.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),jd(p.mutation,h,p.mutation.getFieldMask(),Jt.now())):l.set(h.key,Qr.empty())}),this.recalculateAndSaveOverlays(e,o).next(d=>(d.forEach((h,p)=>l.set(h,p)),n.forEach((h,p)=>{var y;return c.set(h,new e5(p,(y=l.get(h))!==null&&y!==void 0?y:null))}),c))}recalculateAndSaveOverlays(e,n){const r=Dd();let i=new hn((l,c)=>l-c),o=At();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(d=>{const h=n.get(d);if(h===null)return;let p=r.get(d)||Qr.empty();p=c.applyToLocalView(h,p),r.set(d,p);const y=(i.get(c.batchId)||At()).add(d);i=i.insert(c.batchId,y)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),h=d.key,p=d.value,y=pI();p.forEach(w=>{if(!o.has(w)){const E=xI(n.get(w),r.get(w));E!==null&&y.set(w,E),o=o.add(w)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,y))}return Se.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(l){return Be.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Se.resolve(Qo());let c=Wd,d=o;return l.next(h=>Se.forEach(h,(p,y)=>(c<y.largestBatchId&&(c=y.largestBatchId),o.get(p)?Se.resolve():this.remoteDocumentCache.getEntry(e,p).next(w=>{d=d.insert(p,w)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,d,h,At())).next(p=>({batchId:c,changes:mI(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Be(n)).next(r=>{let i=Ed();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let l=Ed();return this.indexManager.getCollectionParents(e,o).next(c=>Se.forEach(c,d=>{const h=function(y,w){return new vl(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(p=>{p.forEach((y,w)=>{l=l.insert(y,w)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(l=>{o.forEach((d,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,pr.newInvalidDocument(p)))});let c=Ed();return l.forEach((d,h)=>{const p=o.get(d);p!==void 0&&jd(p.mutation,h,Qr.empty(),Jt.now()),ig(n,h)&&(c=c.insert(d,h))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return Se.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:hs(i.createTime)}}(n)),Se.resolve()}getNamedQuery(e,n){return Se.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:q6(i.bundledQuery),readTime:hs(i.readTime)}}(n)),Se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(){this.overlays=new hn(Be.comparator),this.kr=new Map}getOverlay(e,n){return Se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qo();return Se.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),Se.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),Se.resolve()}getOverlaysForCollection(e,n,r){const i=Qo(),o=n.length+1,l=new Be(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&d.largestBatchId>r&&i.set(d.getKey(),d)}return Se.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new hn((h,p)=>h-p);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=o.get(h.largestBatchId);p===null&&(p=Qo(),o=o.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const c=Qo(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((h,p)=>c.set(h,p)),!(c.size()>=i)););return Se.resolve(c)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new _6(n,r));let o=this.kr.get(n);o===void 0&&(o=At(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(){this.sessionToken=Zn.EMPTY_BYTE_STRING}getSessionToken(e){return Se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(){this.qr=new Fn(Yn.Qr),this.$r=new Fn(Yn.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new Yn(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Yn(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new Be(new Zt([])),r=new Yn(n,e),i=new Yn(n,e+1),o=[];return this.$r.forEachInRange([r,i],l=>{this.Wr(l),o.push(l.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new Be(new Zt([])),r=new Yn(n,e),i=new Yn(n,e+1);let o=At();return this.$r.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const n=new Yn(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Yn{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return Be.comparator(e.key,n.key)||vt(e.Hr,n.Hr)}static Ur(e,n){return vt(e.Hr,n.Hr)||Be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Fn(Yn.Qr)}checkEmpty(e){return Se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new x6(o,n,r,i);this.mutationQueue.push(l);for(const c of i)this.Yr=this.Yr.add(new Yn(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Se.resolve(l)}lookupMutationBatch(e,n){return Se.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),o=i<0?0:i;return Se.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(this.mutationQueue.length===0?vw:this.er-1)}getAllMutationBatches(e){return Se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Yn(n,0),i=new Yn(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],l=>{const c=this.Zr(l.Hr);o.push(c)}),Se.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Fn(vt);return n.forEach(i=>{const o=new Yn(i,0),l=new Yn(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,l],c=>{r=r.add(c.Hr)})}),Se.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Be.isDocumentKey(o)||(o=o.child(""));const l=new Yn(new Be(o),0);let c=new Fn(vt);return this.Yr.forEachWhile(d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(d.Hr)),!0)},l),Se.resolve(this.ei(c))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ft(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return Se.forEach(n.mutations,i=>{const o=new Yn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new Yn(n,0),i=this.Yr.firstAfterOrEqual(r);return Se.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Se.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(e){this.ni=e,this.docs=function(){return new hn(Be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,l=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Se.resolve(r?r.document.mutableCopy():pr.newInvalidDocument(n))}getEntries(e,n){let r=la();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():pr.newInvalidDocument(i))}),Se.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=la();const l=n.path,c=new Be(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:p}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||j3(D3(p),r)<=0||(i.has(p.key)||ig(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return Se.resolve(o)}getAllFromCollectionGroup(e,n,r,i){rt(9500)}ri(e,n){return Se.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new o5(this)}getSize(e){return Se.resolve(this.size)}}class o5 extends J6{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),Se.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e){this.persistence=e,this.ii=new yl(n=>bw(n),ww),this.lastRemoteSnapshotVersion=ut.min(),this.highestTargetId=0,this.si=0,this.oi=new Cw,this.targetCount=0,this._i=Uu.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),Se.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Uu(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,Se.resolve()}updateTargetData(e,n){return this.hr(n),Se.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.ii.forEach((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.ii.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),Se.waitFor(o).next(()=>i)}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return Se.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),Se.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),Se.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),Se.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return Se.resolve(r)}containsKey(e,n){return Se.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,n){this.ai={},this.overlays={},this.ui=new Zp(0),this.ci=!1,this.ci=!0,this.li=new i5,this.referenceDelegate=e(this),this.hi=new l5(this),this.indexManager=new G6,this.remoteDocumentCache=function(i){return new a5(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new $6(n),this.Ti=new n5(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new r5,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new s5(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){Me("MemoryPersistence","Starting transaction:",e);const i=new u5(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return Se.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class u5 extends L3{constructor(e){super(),this.currentSequenceNumber=e}}class Rw{constructor(e){this.persistence=e,this.Ai=new Cw,this.Ri=null}static Vi(e){return new Rw(e)}get mi(){if(this.Ri)return this.Ri;throw rt(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),Se.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),Se.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),Se.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.mi,r=>{const i=Be.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,ut.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return Se.or([()=>Se.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class vp{constructor(e,n){this.persistence=e,this.gi=new yl(r=>z3(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Z6(this,n)}static Vi(e,n){return new vp(e,n)}Ii(){}di(e){return Se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return Se.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?Se.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,l=>this.Sr(e,l,n).next(c=>{c||(r++,o.removeEntry(l,ut.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),Se.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Se.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),Se.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),Se.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=km(e.data.value)),n}Sr(e,n,r){return Se.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return Se.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=At(),i=At();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Nw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return qj()?8:V3(gr())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ps(e,n).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new c5;return this.ws(e,n,l).next(c=>{if(o.result=c,this.Rs)return this.Ss(e,n,l,c.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(ou()<=Et.DEBUG&&Me("QueryEngine","SDK will not create cache indexes for query:",lu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Se.resolve()):(ou()<=Et.DEBUG&&Me("QueryEngine","Query:",lu(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(ou()<=Et.DEBUG&&Me("QueryEngine","The SDK decides to create cache indexes for query:",lu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fs(n))):Se.resolve())}ps(e,n){if(FE(n))return Se.resolve(null);let r=fs(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=mp(n,null,"F"),r=fs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=At(...o);return this.gs.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(d=>{const h=this.bs(n,c);return this.Ds(n,h,l,d.readTime)?this.ps(e,mp(n,null,"F")):this.vs(e,h,n,d)}))})))}ys(e,n,r,i){return FE(n)||i.isEqual(ut.min())?Se.resolve(null):this.gs.getDocuments(e,r).next(o=>{const l=this.bs(n,o);return this.Ds(n,l,r,i)?Se.resolve(null):(ou()<=Et.DEBUG&&Me("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),lu(n)),this.vs(e,l,n,P3(i,Wd)).next(c=>c))})}bs(e,n){let r=new Fn(fI(e));return n.forEach((i,o)=>{ig(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return ou()<=Et.DEBUG&&Me("QueryEngine","Using full collection scan to execute query:",lu(n)),this.gs.getDocumentsMatchingQuery(e,n,ro.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="LocalStore",f5=3e8;class h5{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new hn(vt),this.Ms=new yl(o=>bw(o),ww),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new t5(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function m5(t,e,n,r){return new h5(t,e,n,r)}async function jI(t,e){const n=ct(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],c=[];let d=At();for(const h of i){l.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}for(const h of o){c.push(h.batchId);for(const p of h.mutations)d=d.add(p.key)}return n.localDocuments.getDocuments(r,d).next(h=>({Bs:h,removedBatchIds:l,addedBatchIds:c}))})})}function p5(t,e){const n=ct(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return function(c,d,h,p){const y=h.batch,w=y.keys();let E=Se.resolve();return w.forEach(N=>{E=E.next(()=>p.getEntry(d,N)).next(P=>{const V=h.docVersions.get(N);Ft(V!==null,48541),P.version.compareTo(V)<0&&(y.applyToRemoteDocument(P,h),P.isValidDocument()&&(P.setReadTime(h.commitVersion),p.addEntry(P)))})}),E.next(()=>c.mutationQueue.removeMutationBatch(d,y))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let d=At();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(d=d.add(c.batch.mutations[h].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function kI(t){const e=ct(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function g5(t,e){const n=ct(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const c=[];e.targetChanges.forEach((p,y)=>{const w=i.get(y);if(!w)return;c.push(n.hi.removeMatchingKeys(o,p.removedDocuments,y).next(()=>n.hi.addMatchingKeys(o,p.addedDocuments,y)));let E=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?E=E.withResumeToken(Zn.EMPTY_BYTE_STRING,ut.min()).withLastLimboFreeSnapshotVersion(ut.min()):p.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(p.resumeToken,r)),i=i.insert(y,E),function(P,V,z){return P.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=f5?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(w,E,p)&&c.push(n.hi.updateTargetData(o,E))});let d=la(),h=At();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))}),c.push(v5(o,l,e.documentUpdates).next(p=>{d=p.Ls,h=p.ks})),!r.isEqual(ut.min())){const p=n.hi.getLastRemoteSnapshotVersion(o).next(y=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));c.push(p)}return Se.waitFor(c).next(()=>l.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,d,h)).next(()=>d)}).then(o=>(n.Fs=i,o))}function v5(t,e,n){let r=At(),i=At();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let l=la();return n.forEach((c,d)=>{const h=o.get(c);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(ut.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):Me(Iw,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)}),{Ls:l,ks:i}})}function y5(t,e){const n=ct(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=vw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function b5(t,e){const n=ct(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,Se.resolve(i)):n.hi.allocateTargetId(r).next(l=>(i=new Xa(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function sb(t,e,n){const r=ct(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!ec(l))throw l;Me(Iw,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function tA(t,e,n){const r=ct(t);let i=ut.min(),o=At();return r.persistence.runTransaction("Execute query","readwrite",l=>function(d,h,p){const y=ct(d),w=y.Ms.get(p);return w!==void 0?Se.resolve(y.Fs.get(w)):y.hi.getTargetData(h,p)}(r,l,fs(e)).next(c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(l,c.targetId).next(d=>{o=d})}).next(()=>r.Cs.getDocumentsMatchingQuery(l,e,n?i:ut.min(),n?o:At())).next(c=>(w5(r,s6(e),c),{documents:c,qs:o})))}function w5(t,e,n){let r=t.xs.get(e)||ut.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}class nA{constructor(){this.activeTargetIds=d6()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class x5{constructor(){this.Fo=new nA,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new nA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="ConnectivityMonitor";class iA{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Me(rA,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Me(rA,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fm=null;function ab(){return fm===null?fm=function(){return 268435456+Math.round(2147483648*Math.random())}():fm++,"0x"+fm.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="RestConnection",S5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class T5{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===dp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){const l=ab(),c=this.Go(e,n.toUriEncodedString());Me(Gy,`Sending RPC '${e}' ${l}:`,c,r);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(d,i,o);const{host:h}=new URL(c),p=fo(h);return this.jo(e,c,d,r,p).then(y=>(Me(Gy,`Received RPC '${e}' ${l}: `,y),y),y=>{throw oa(Gy,`RPC '${e}' ${l} failed with error: `,y,"url: ",c,"request:",r),y})}Jo(e,n,r,i,o,l){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){const r=S5[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="WebChannelConnection";class A5 extends T5{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){const l=ab();return new Promise((c,d)=>{const h=new LN;h.setWithCredentials(!0),h.listenOnce(VN.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case jm.NO_ERROR:const y=h.getResponseJson();Me(fr,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case jm.TIMEOUT:Me(fr,`RPC '${e}' ${l} timed out`),d(new Re(ve.DEADLINE_EXCEEDED,"Request time out"));break;case jm.HTTP_ERROR:const w=h.getStatus();if(Me(fr,`RPC '${e}' ${l} failed with status:`,w,"response text:",h.getResponseText()),w>0){let E=h.getResponseJson();Array.isArray(E)&&(E=E[0]);const N=E?.error;if(N&&N.status&&N.message){const P=function(z){const F=z.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(F)>=0?F:ve.UNKNOWN}(N.status);d(new Re(P,N.message))}else d(new Re(ve.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new Re(ve.UNAVAILABLE,"Connection failed."));break;default:rt(9055,{c_:e,streamId:l,l_:h.getLastErrorCode(),h_:h.getLastError()})}}finally{Me(fr,`RPC '${e}' ${l} completed.`)}});const p=JSON.stringify(i);Me(fr,`RPC '${e}' ${l} sending request:`,i),h.send(n,"POST",p,r,15)})}P_(e,n,r){const i=ab(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=BN(),c=zN(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.zo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const p=o.join("");Me(fr,`Creating RPC '${e}' stream ${i}: ${p}`,d);const y=l.createWebChannel(p,d);this.T_(y);let w=!1,E=!1;const N=new E5({Ho:V=>{E?Me(fr,`Not sending because RPC '${e}' stream ${i} is closed:`,V):(w||(Me(fr,`Opening RPC '${e}' stream ${i} transport.`),y.open(),w=!0),Me(fr,`RPC '${e}' stream ${i} sending:`,V),y.send(V))},Yo:()=>y.close()}),P=(V,z,F)=>{V.listen(z,$=>{try{F($)}catch(Q){setTimeout(()=>{throw Q},0)}})};return P(y,Td.EventType.OPEN,()=>{E||(Me(fr,`RPC '${e}' stream ${i} transport opened.`),N.s_())}),P(y,Td.EventType.CLOSE,()=>{E||(E=!0,Me(fr,`RPC '${e}' stream ${i} transport closed`),N.__(),this.I_(y))}),P(y,Td.EventType.ERROR,V=>{E||(E=!0,oa(fr,`RPC '${e}' stream ${i} transport errored. Name:`,V.name,"Message:",V.message),N.__(new Re(ve.UNAVAILABLE,"The operation could not be completed")))}),P(y,Td.EventType.MESSAGE,V=>{var z;if(!E){const F=V.data[0];Ft(!!F,16349);const $=F,Q=$?.error||((z=$[0])===null||z===void 0?void 0:z.error);if(Q){Me(fr,`RPC '${e}' stream ${i} received error:`,Q);const O=Q.status;let M=function(A){const S=Mn[A];if(S!==void 0)return SI(S)}(O),C=Q.message;M===void 0&&(M=ve.INTERNAL,C="Unknown error status: "+O+" with message "+Q.message),E=!0,N.__(new Re(M,C)),y.close()}else Me(fr,`RPC '${e}' stream ${i} received:`,F),N.a_(F)}}),P(c,UN.STAT_EVENT,V=>{V.stat===W0.PROXY?Me(fr,`RPC '${e}' stream ${i} detected buffering proxy`):V.stat===W0.NOPROXY&&Me(fr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{N.o_()},0),N}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function Ky(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(t){return new I6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&Me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="PersistentStream";class VI{constructor(e,n,r,i,o,l,c,d){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new LI(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===ve.RESOURCE_EXHAUSTED?(aa(n.toString()),aa("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new Re(ve.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Me(sA,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(Me(sA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class C5 extends VI{constructor(e,n,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=P6(this.serializer,e),r=function(o){if(!("targetChange"in o))return ut.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?ut.min():l.readTime?hs(l.readTime):ut.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=ib(this.serializer),n.addTarget=function(o,l){let c;const d=l.target;if(c=J0(d)?{documents:k6(o,d)}:{query:L6(o,d).Vt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=AI(o,l.resumeToken);const h=tb(o,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(ut.min())>0){c.readTime=gp(o,l.snapshotVersion.toTimestamp());const h=tb(o,l.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);const r=U6(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=ib(this.serializer),n.removeTarget=e,this.k_(n)}}class R5 extends VI{constructor(e,n,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Ft(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ft(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ft(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=j6(e.writeResults,e.commitTime),r=hs(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=ib(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>D6(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{}class I5 extends N5{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new Re(ve.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Wo(e,nb(n,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Re(ve.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Jo(e,nb(n,r),i,l,c,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Re(ve.UNKNOWN,l.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class O5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(aa(n),this._a=!1):Me("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl="RemoteStore";class M5{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(l=>{r.enqueueAndForget(async()=>{bl(this)&&(Me(cl,"Restarting streams for network reachability change."),await async function(d){const h=ct(d);h.Ia.add(4),await Tf(h),h.Aa.set("Unknown"),h.Ia.delete(4),await ug(h)}(this))})}),this.Aa=new O5(r,i)}}async function ug(t){if(bl(t))for(const e of t.da)await e(!0)}async function Tf(t){for(const e of t.da)await e(!1)}function UI(t,e){const n=ct(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),Dw(n)?Pw(n):tc(n).x_()&&Mw(n,e))}function Ow(t,e){const n=ct(t),r=tc(n);n.Ta.delete(e),r.x_()&&zI(n,e),n.Ta.size===0&&(r.x_()?r.B_():bl(n)&&n.Aa.set("Unknown"))}function Mw(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ut.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}tc(t).H_(e)}function zI(t,e){t.Ra.$e(e),tc(t).Y_(e)}function Pw(t){t.Ra=new A6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),tc(t).start(),t.Aa.aa()}function Dw(t){return bl(t)&&!tc(t).M_()&&t.Ta.size>0}function bl(t){return ct(t).Ia.size===0}function BI(t){t.Ra=void 0}async function P5(t){t.Aa.set("Online")}async function D5(t){t.Ta.forEach((e,n)=>{Mw(t,e)})}async function j5(t,e){BI(t),Dw(t)?(t.Aa.la(e),Pw(t)):t.Aa.set("Unknown")}async function k5(t,e,n){if(t.Aa.set("Online"),e instanceof EI&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const c of o.targetIds)i.Ta.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ta.delete(c),i.Ra.removeTarget(c))}(t,e)}catch(r){Me(cl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await yp(t,r)}else if(e instanceof Um?t.Ra.Ye(e):e instanceof TI?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ut.min()))try{const r=await kI(t.localStore);n.compareTo(r)>=0&&await function(o,l){const c=o.Ra.Pt(l);return c.targetChanges.forEach((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const p=o.Ta.get(h);p&&o.Ta.set(h,p.withResumeToken(d.resumeToken,l))}}),c.targetMismatches.forEach((d,h)=>{const p=o.Ta.get(d);if(!p)return;o.Ta.set(d,p.withResumeToken(Zn.EMPTY_BYTE_STRING,p.snapshotVersion)),zI(o,d);const y=new Xa(p.target,d,h,p.sequenceNumber);Mw(o,y)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){Me(cl,"Failed to raise snapshot:",r),await yp(t,r)}}async function yp(t,e,n){if(!ec(e))throw e;t.Ia.add(1),await Tf(t),t.Aa.set("Offline"),n||(n=()=>kI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Me(cl,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await ug(t)})}function FI(t,e){return e().catch(n=>yp(t,n,e))}async function cg(t){const e=ct(t),n=oo(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:vw;for(;L5(e);)try{const i=await y5(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,V5(e,i)}catch(i){await yp(e,i)}HI(e)&&$I(e)}function L5(t){return bl(t)&&t.Pa.length<10}function V5(t,e){t.Pa.push(e);const n=oo(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function HI(t){return bl(t)&&!oo(t).M_()&&t.Pa.length>0}function $I(t){oo(t).start()}async function U5(t){oo(t).na()}async function z5(t){const e=oo(t);for(const n of t.Pa)e.X_(n.mutations)}async function B5(t,e,n){const r=t.Pa.shift(),i=Tw.from(r,e,n);await FI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await cg(t)}async function F5(t,e){e&&oo(t).Z_&&await async function(r,i){if(function(l){return T6(l)&&l!==ve.ABORTED}(i.code)){const o=r.Pa.shift();oo(r).N_(),await FI(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await cg(r)}}(t,e),HI(t)&&$I(t)}async function aA(t,e){const n=ct(t);n.asyncQueue.verifyOperationInProgress(),Me(cl,"RemoteStore received new credentials");const r=bl(n);n.Ia.add(3),await Tf(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await ug(n)}async function H5(t,e){const n=ct(t);e?(n.Ia.delete(2),await ug(n)):e||(n.Ia.add(2),await Tf(n),n.Aa.set("Unknown"))}function tc(t){return t.Va||(t.Va=function(n,r,i){const o=ct(n);return o.ia(),new C5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:P5.bind(null,t),e_:D5.bind(null,t),n_:j5.bind(null,t),J_:k5.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),Dw(t)?Pw(t):t.Aa.set("Unknown")):(await t.Va.stop(),BI(t))})),t.Va}function oo(t){return t.ma||(t.ma=function(n,r,i){const o=ct(n);return o.ia(),new R5(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:U5.bind(null,t),n_:F5.bind(null,t),ea:z5.bind(null,t),ta:B5.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await cg(t)):(await t.ma.stop(),t.Pa.length>0&&(Me(cl,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const l=Date.now()+r,c=new jw(e,n,l,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Re(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kw(t,e){if(aa("AsyncQueue",`${e}: ${t}`),ec(t))return new Re(ve.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{static emptySet(e){return new Ru(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Be.comparator(n.key,r.key):(n,r)=>Be.comparator(n.key,r.key),this.keyedMap=Ed(),this.sortedSet=new hn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ru)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ru;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(){this.fa=new hn(Be.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):rt(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class zu{constructor(e,n,r,i,o,l,c,d,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,o){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new zu(e,n,Ru.emptySet(n),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class q5{constructor(){this.queries=lA(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=ct(n),o=i.queries;i.queries=lA(),o.forEach((l,c)=>{for(const d of c.wa)d.onError(r)})})(this,new Re(ve.ABORTED,"Firestore shutting down"))}}function lA(){return new yl(t=>dI(t),rg)}async function Lw(t,e){const n=ct(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new $5,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await n.onListen(i,!0);break;case 1:o.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const c=kw(l,`Initialization of query '${lu(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&Uw(n)}async function Vw(t,e){const n=ct(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const l=o.wa.indexOf(e);l>=0&&(o.wa.splice(l,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function G5(t,e){const n=ct(t);let r=!1;for(const i of e){const o=i.query,l=n.queries.get(o);if(l){for(const c of l.wa)c.Ca(i)&&(r=!0);l.ya=i}}r&&Uw(n)}function K5(t,e,n){const r=ct(t),i=r.queries.get(e);if(i)for(const o of i.wa)o.onError(n);r.queries.delete(e)}function Uw(t){t.Da.forEach(e=>{e.next()})}var ob,uA;(uA=ob||(ob={})).Fa="default",uA.Cache="cache";class zw{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new zu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=zu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==ob.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e){this.key=e}}class GI{constructor(e){this.key=e}}class W5{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=At(),this.mutatedKeys=At(),this.Xa=fI(e),this.eu=new Ru(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new oA,i=n?n.eu:this.eu;let o=n?n.mutatedKeys:this.mutatedKeys,l=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,y)=>{const w=i.get(p),E=ig(this.query,y)?y:null,N=!!w&&this.mutatedKeys.has(w.key),P=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let V=!1;w&&E?w.data.isEqual(E.data)?N!==P&&(r.track({type:3,doc:E}),V=!0):this.iu(w,E)||(r.track({type:2,doc:E}),V=!0,(d&&this.Xa(E,d)>0||h&&this.Xa(E,h)<0)&&(c=!0)):!w&&E?(r.track({type:0,doc:E}),V=!0):w&&!E&&(r.track({type:1,doc:w}),V=!0,(d||h)&&(c=!0)),V&&(E?(l=l.add(E),o=P?o.add(p):o.delete(p)):(l=l.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{eu:l,ru:r,Ds:c,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const l=e.ru.pa();l.sort((p,y)=>function(E,N){const P=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt(20277,{At:V})}};return P(E)-P(N)}(p.type,y.type)||this.Xa(p.doc,y.doc)),this.su(r),i=i!=null&&i;const c=n&&!i?this.ou():[],d=this.Za.size===0&&this.current&&!i?1:0,h=d!==this.Ya;return this.Ya=d,l.length!==0||h?{snapshot:new zu(this.query,e.eu,o,l,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:c}:{_u:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new oA,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=At(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new GI(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new qI(r))}),n}uu(e){this.Ha=e.qs,this.Za=At();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return zu.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Bw="SyncEngine";class Y5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class X5{constructor(e){this.key=e,this.lu=!1}}class Q5{constructor(e,n,r,i,o,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.hu={},this.Pu=new yl(c=>dI(c),rg),this.Tu=new Map,this.Iu=new Set,this.du=new hn(Be.comparator),this.Eu=new Map,this.Au=new Cw,this.Ru={},this.Vu=new Map,this.mu=Uu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function Z5(t,e,n=!0){const r=ZI(t);let i;const o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await KI(r,e,n,!0),i}async function J5(t,e){const n=ZI(t);await KI(n,e,!0,!1)}async function KI(t,e,n,r){const i=await b5(t.localStore,fs(e)),o=i.targetId,l=t.sharedClientState.addLocalQueryTarget(o,n);let c;return r&&(c=await eU(t,e,o,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&UI(t.remoteStore,i),c}async function eU(t,e,n,r,i){t.gu=(y,w,E)=>async function(P,V,z,F){let $=V.view.nu(z);$.Ds&&($=await tA(P.localStore,V.query,!1).then(({documents:C})=>V.view.nu(C,$)));const Q=F&&F.targetChanges.get(V.targetId),O=F&&F.targetMismatches.get(V.targetId)!=null,M=V.view.applyChanges($,P.isPrimaryClient,Q,O);return dA(P,V.targetId,M._u),M.snapshot}(t,y,w,E);const o=await tA(t.localStore,e,!0),l=new W5(e,o.qs),c=l.nu(o.documents),d=Sf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=l.applyChanges(c,t.isPrimaryClient,d);dA(t,n,h._u);const p=new Y5(e,n,l);return t.Pu.set(e,p),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),h.snapshot}async function tU(t,e,n){const r=ct(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(l=>!rg(l,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await sb(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ow(r.remoteStore,i.targetId),lb(r,i.targetId)}).catch(Ju)):(lb(r,i.targetId),await sb(r.localStore,i.targetId,!0))}async function nU(t,e){const n=ct(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ow(n.remoteStore,r.targetId))}async function rU(t,e,n){const r=cU(t);try{const i=await function(l,c){const d=ct(l),h=Jt.now(),p=c.reduce((E,N)=>E.add(N.key),At());let y,w;return d.persistence.runTransaction("Locally write mutations","readwrite",E=>{let N=la(),P=At();return d.Os.getEntries(E,p).next(V=>{N=V,N.forEach((z,F)=>{F.isValidDocument()||(P=P.add(z))})}).next(()=>d.localDocuments.getOverlayedDocuments(E,N)).next(V=>{y=V;const z=[];for(const F of c){const $=b6(F,y.get(F.key).overlayedDocument);$!=null&&z.push(new mo(F.key,$,iI($.value.mapValue),wi.exists(!0)))}return d.mutationQueue.addMutationBatch(E,h,z,c)}).next(V=>{w=V;const z=V.applyToLocalDocumentSet(y,P);return d.documentOverlayCache.saveOverlays(E,V.batchId,z)})}).then(()=>({batchId:w.batchId,changes:mI(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,d){let h=l.Ru[l.currentUser.toKey()];h||(h=new hn(vt)),h=h.insert(c,d),l.Ru[l.currentUser.toKey()]=h}(r,i.batchId,n),await Ef(r,i.changes),await cg(r.remoteStore)}catch(i){const o=kw(i,"Failed to persist write");n.reject(o)}}async function WI(t,e){const n=ct(t);try{const r=await g5(n.localStore,e);e.targetChanges.forEach((i,o)=>{const l=n.Eu.get(o);l&&(Ft(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.lu=!0:i.modifiedDocuments.size>0?Ft(l.lu,14607):i.removedDocuments.size>0&&(Ft(l.lu,42227),l.lu=!1))}),await Ef(n,r,e)}catch(r){await Ju(r)}}function cA(t,e,n){const r=ct(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((o,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const d=ct(l);d.onlineState=c;let h=!1;d.queries.forEach((p,y)=>{for(const w of y.wa)w.va(c)&&(h=!0)}),h&&Uw(d)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function iU(t,e,n){const r=ct(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),o=i&&i.key;if(o){let l=new hn(Be.comparator);l=l.insert(o,pr.newNoDocument(o,ut.min()));const c=At().add(o),d=new og(ut.min(),new Map,new hn(vt),l,c);await WI(r,d),r.du=r.du.remove(o),r.Eu.delete(e),Fw(r)}else await sb(r.localStore,e,!1).then(()=>lb(r,e,n)).catch(Ju)}async function sU(t,e){const n=ct(t),r=e.batch.batchId;try{const i=await p5(n.localStore,e);XI(n,r,null),YI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ef(n,i)}catch(i){await Ju(i)}}async function aU(t,e,n){const r=ct(t);try{const i=await function(l,c){const d=ct(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return d.mutationQueue.lookupMutationBatch(h,c).next(y=>(Ft(y!==null,37113),p=y.keys(),d.mutationQueue.removeMutationBatch(h,y))).next(()=>d.mutationQueue.performConsistencyCheck(h)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(h,p,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>d.localDocuments.getDocuments(h,p))})}(r.localStore,e);XI(r,e,n),YI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ef(r,i)}catch(i){await Ju(i)}}function YI(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function XI(t,e,n){const r=ct(t);let i=r.Ru[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function lb(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||QI(t,r)})}function QI(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Ow(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),Fw(t))}function dA(t,e,n){for(const r of n)r instanceof qI?(t.Au.addReference(r.key,e),oU(t,r)):r instanceof GI?(Me(Bw,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||QI(t,r.key)):rt(19791,{yu:r})}function oU(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(Me(Bw,"New document in limbo: "+n),t.Iu.add(r),Fw(t))}function Fw(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new Be(Zt.fromString(e)),r=t.mu.next();t.Eu.set(r,new X5(n)),t.du=t.du.insert(n,r),UI(t.remoteStore,new Xa(fs(ng(n.path)),r,"TargetPurposeLimboResolution",Zp.ue))}}async function Ef(t,e,n){const r=ct(t),i=[],o=[],l=[];r.Pu.isEmpty()||(r.Pu.forEach((c,d)=>{l.push(r.gu(d,e,n).then(h=>{var p;if((h||n)&&r.isPrimaryClient){const y=h?!h.fromCache:(p=n?.targetChanges.get(d.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(d.targetId,y?"current":"not-current")}if(h){i.push(h);const y=Nw.Es(d.targetId,h);o.push(y)}}))}),await Promise.all(l),r.hu.J_(i),await async function(d,h){const p=ct(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>Se.forEach(h,w=>Se.forEach(w.Is,E=>p.persistence.referenceDelegate.addReference(y,w.targetId,E)).next(()=>Se.forEach(w.ds,E=>p.persistence.referenceDelegate.removeReference(y,w.targetId,E)))))}catch(y){if(!ec(y))throw y;Me(Iw,"Failed to update sequence numbers: "+y)}for(const y of h){const w=y.targetId;if(!y.fromCache){const E=p.Fs.get(w),N=E.snapshotVersion,P=E.withLastLimboFreeSnapshotVersion(N);p.Fs=p.Fs.insert(w,P)}}}(r.localStore,o))}async function lU(t,e){const n=ct(t);if(!n.currentUser.isEqual(e)){Me(Bw,"User change. New user:",e.toKey());const r=await jI(n.localStore,e);n.currentUser=e,function(o,l){o.Vu.forEach(c=>{c.forEach(d=>{d.reject(new Re(ve.CANCELLED,l))})}),o.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ef(n,r.Bs)}}function uU(t,e){const n=ct(t),r=n.Eu.get(e);if(r&&r.lu)return At().add(r.key);{let i=At();const o=n.Tu.get(e);if(!o)return i;for(const l of o){const c=n.Pu.get(l);i=i.unionWith(c.view.tu)}return i}}function ZI(t){const e=ct(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=WI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iU.bind(null,e),e.hu.J_=G5.bind(null,e.eventManager),e.hu.pu=K5.bind(null,e.eventManager),e}function cU(t){const e=ct(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=aU.bind(null,e),e}class bp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lg(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return m5(this.persistence,new d5,e.initialUser,this.serializer)}Du(e){return new DI(Rw.Vi,this.serializer)}bu(e){return new x5}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bp.provider={build:()=>new bp};class dU extends bp{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Ft(this.persistence.referenceDelegate instanceof vp,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new X6(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Nr.withCacheSize(this.cacheSizeBytes):Nr.DEFAULT;return new DI(r=>vp.Vi(r,n),this.serializer)}}class ub{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lU.bind(null,this.syncEngine),await H5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new q5}()}createDatastore(e){const n=lg(e.databaseInfo.databaseId),r=function(o){return new A5(o)}(e.databaseInfo);return function(o,l,c,d){return new I5(o,l,c,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,l,c){return new M5(r,i,o,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>cA(this.syncEngine,n,0),function(){return iA.C()?new iA:new _5}())}createSyncEngine(e,n){return function(i,o,l,c,d,h,p){const y=new Q5(i,o,l,c,d,h);return p&&(y.fu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=ct(i);Me(cl,"RemoteStore shutting down."),o.Ia.add(5),await Tf(o),o.Ea.shutdown(),o.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ub.provider={build:()=>new ub};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):aa("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo="FirestoreClient";class fU{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=mr.UNAUTHENTICATED,this.clientId=Xp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{Me(lo,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(Me(lo,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=kw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Wy(t,e){t.asyncQueue.verifyOperationInProgress(),Me(lo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await jI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{oa("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{Me("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{oa("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function fA(t,e){t.asyncQueue.verifyOperationInProgress();const n=await hU(t);Me(lo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>aA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>aA(e.remoteStore,i)),t._onlineComponents=e}async function hU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Me(lo,"Using user provided OfflineComponentProvider");try{await Wy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ve.FAILED_PRECONDITION||i.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;oa("Error using user provided cache. Falling back to memory cache: "+n),await Wy(t,new bp)}}else Me(lo,"Using default OfflineComponentProvider"),await Wy(t,new dU(void 0));return t._offlineComponents}async function JI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Me(lo,"Using user provided OnlineComponentProvider"),await fA(t,t._uninitializedComponentsProvider._online)):(Me(lo,"Using default OnlineComponentProvider"),await fA(t,new ub))),t._onlineComponents}function mU(t){return JI(t).then(e=>e.syncEngine)}async function wp(t){const e=await JI(t),n=e.eventManager;return n.onListen=Z5.bind(null,e.syncEngine),n.onUnlisten=tU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=J5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nU.bind(null,e.syncEngine),n}function pU(t,e,n={}){const r=new ea;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,h){const p=new Hw({next:w=>{p.Ou(),l.enqueueAndForget(()=>Vw(o,y));const E=w.docs.has(c);!E&&w.fromCache?h.reject(new Re(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&w.fromCache&&d&&d.source==="server"?h.reject(new Re(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(w)},error:w=>h.reject(w)}),y=new zw(ng(c.path),p,{includeMetadataChanges:!0,ka:!0});return Lw(o,y)}(await wp(t),t.asyncQueue,e,n,r)),r.promise}function gU(t,e,n={}){const r=new ea;return t.asyncQueue.enqueueAndForget(async()=>function(o,l,c,d,h){const p=new Hw({next:w=>{p.Ou(),l.enqueueAndForget(()=>Vw(o,y)),w.fromCache&&d.source==="server"?h.reject(new Re(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(w)},error:w=>h.reject(w)}),y=new zw(c,p,{includeMetadataChanges:!0,ka:!0});return Lw(o,y)}(await wp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO="firestore.googleapis.com",mA=!0;class pA{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Re(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tO,this.ssl=mA}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:mA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=PI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<W6)throw new Re(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Re(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Re(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Re(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Re(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Re(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pA(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $N;switch(r.type){case"firstParty":return new R3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Re(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=hA.get(n);r&&(Me("ComponentProvider","Removing Datastore"),hA.delete(n),r.terminate())}(this),Promise.resolve()}}function nO(t,e,n,r={}){var i;t=Tr(t,dg);const o=fo(e),l=t._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;o&&(nw(`https://${d}`),rw("Firestore",!0)),l.host!==tO&&l.host!==d&&oa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},l),{host:d,ssl:o,emulatorOptions:r});if(!sl(h,c)&&(t._setSettings(h),r.mockUserToken)){let p,y;if(typeof r.mockUserToken=="string")p=r.mockUserToken,y=mr.MOCK_USER;else{p=KR(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Re(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new mr(w)}t._authCredentials=new E3(new HN(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ki(this.firestore,e,this._query)}}class fn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ta(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new fn(this.firestore,e,this._key)}toJSON(){return{type:fn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(xf(n,fn._jsonSchema))return new fn(e,r||null,new Be(Zt.fromString(n.referencePath)))}}fn._jsonSchemaVersion="firestore/documentReference/1.0",fn._jsonSchema={type:kn("string",fn._jsonSchemaVersion),referencePath:kn("string")};class ta extends ki{constructor(e,n,r){super(e,n,ng(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new fn(this.firestore,null,new Be(e))}withConverter(e){return new ta(this.firestore,e,this._path)}}function St(t,e,...n){if(t=ln(t),GN("collection","path",e),t instanceof dg){const r=Zt.fromString(e,...n);return NE(r),new ta(t,null,r)}{if(!(t instanceof fn||t instanceof ta))throw new Re(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Zt.fromString(e,...n));return NE(r),new ta(t.firestore,null,r)}}function rn(t,e,...n){if(t=ln(t),arguments.length===1&&(e=Xp.newId()),GN("doc","path",e),t instanceof dg){const r=Zt.fromString(e,...n);return RE(r),new fn(t,null,new Be(r))}{if(!(t instanceof fn||t instanceof ta))throw new Re(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Zt.fromString(e,...n));return RE(r),new fn(t.firestore,t instanceof ta?t.converter:null,new Be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA="AsyncQueue";class vA{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new LI(this,"async_queue_retry"),this.oc=()=>{const r=Ky();r&&Me(gA,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=Ky();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Ky();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new ea;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ec(e))throw e;Me(gA,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,aa("INTERNAL UNHANDLED ERROR: ",yA(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=jw.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&rt(47125,{hc:yA(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function yA(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class xs extends dg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new vA,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vA(e),this._firestoreClient=void 0,await e}}}function rO(t,e){const n=typeof t=="object"?t:aw(),r=typeof t=="string"?t:dp,i=Gp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=$R("firestore");o&&nO(i,...o)}return i}function Af(t){if(t._terminated)throw new Re(ve.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||vU(t),t._firestoreClient}function vU(t){var e,n,r;const i=t._freezeSettings(),o=function(c,d,h,p){return new H3(c,d,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,eO(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new fU(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(c){const d=c?._online.build();return{_offline:c?._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xr(Zn.fromBase64String(e))}catch(n){throw new Re(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xr(Zn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xf(e,Xr._jsonSchema))return Xr.fromBase64String(e.bytes)}}Xr._jsonSchemaVersion="firestore/bytes/1.0",Xr._jsonSchema={type:kn("string",Xr._jsonSchemaVersion),bytes:kn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Re(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Re(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Re(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return vt(this._lat,e._lat)||vt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(e){if(xf(e,Mi._jsonSchema))return new Mi(e.latitude,e.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:kn("string",Mi._jsonSchemaVersion),latitude:kn("number"),longitude:kn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xf(e,Pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Pi(e.vectorValues);throw new Re(ve.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pi._jsonSchemaVersion="firestore/vectorValue/1.0",Pi._jsonSchema={type:kn("string",Pi._jsonSchemaVersion),vectorValues:kn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU=/^__.*__$/;class bU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new mo(e,this.data,this.fieldMask,n,this.fieldTransforms):new _f(e,this.data,n,this.fieldTransforms)}}class iO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new mo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function sO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt(40011,{Ec:t})}}class $w{constructor(e,n,r,i,o,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new $w(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return xp(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(sO(this.Ec)&&yU.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class wU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||lg(e)}Dc(e,n,r,i=!1){return new $w({Ec:e,methodName:n,bc:r,path:Xn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nf(t){const e=t._freezeSettings(),n=lg(t._databaseId);return new wU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function aO(t,e,n,r,i,o={}){const l=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);Gw("Data must be an object, but it was:",l,r);const c=lO(r,l);let d,h;if(o.merge)d=new Qr(l.fieldMask),h=l.fieldTransforms;else if(o.mergeFields){const p=[];for(const y of o.mergeFields){const w=cb(e,y,n);if(!l.contains(w))throw new Re(ve.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);cO(p,w)||p.push(w)}d=new Qr(p),h=l.fieldTransforms.filter(y=>d.covers(y.field))}else d=null,h=l.fieldTransforms;return new bU(new Ir(c),d,h)}class fg extends Rf{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fg}}class qw extends Rf{_toFieldTransform(e){return new p6(e.path,new Zd)}isEqual(e){return e instanceof qw}}function xU(t,e,n,r){const i=t.Dc(1,e,n);Gw("Data must be an object, but it was:",i,r);const o=[],l=Ir.empty();ho(r,(d,h)=>{const p=Kw(e,d,n);h=ln(h);const y=i.gc(p);if(h instanceof fg)o.push(p);else{const w=If(h,y);w!=null&&(o.push(p),l.set(p,w))}});const c=new Qr(o);return new iO(l,c,i.fieldTransforms)}function _U(t,e,n,r,i,o){const l=t.Dc(1,e,n),c=[cb(e,r,n)],d=[i];if(o.length%2!=0)throw new Re(ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<o.length;w+=2)c.push(cb(e,o[w])),d.push(o[w+1]);const h=[],p=Ir.empty();for(let w=c.length-1;w>=0;--w)if(!cO(h,c[w])){const E=c[w];let N=d[w];N=ln(N);const P=l.gc(E);if(N instanceof fg)h.push(E);else{const V=If(N,P);V!=null&&(h.push(E),p.set(E,V))}}const y=new Qr(h);return new iO(p,y,l.fieldTransforms)}function oO(t,e,n,r=!1){return If(n,t.Dc(r?4:3,e))}function If(t,e){if(uO(t=ln(t)))return Gw("Unsupported field value:",e,t),lO(t,e);if(t instanceof Rf)return function(r,i){if(!sO(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const c of r){let d=If(c,i.yc(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=ln(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return f6(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Jt.fromDate(r);return{timestampValue:gp(i.serializer,o)}}if(r instanceof Jt){const o=new Jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gp(i.serializer,o)}}if(r instanceof Mi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xr)return{bytesValue:AI(i.serializer,r._byteString)};if(r instanceof fn){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.wc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Aw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Pi)return function(l,c){return{mapValue:{fields:{[nI]:{stringValue:rI},[fp]:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw c.wc("VectorValues must only contain numeric values.");return _w(c.serializer,h)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${Qp(r)}`)}(t,e)}function lO(t,e){const n={};return XN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ho(t,(r,i)=>{const o=If(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function uO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Jt||t instanceof Mi||t instanceof Xr||t instanceof fn||t instanceof Rf||t instanceof Pi)}function Gw(t,e,n){if(!uO(n)||!WN(n)){const r=Qp(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function cb(t,e,n){if((e=ln(e))instanceof Cf)return e._internalPath;if(typeof e=="string")return Kw(t,e);throw xp("Field path arguments must be of type string or ",t,!1,void 0,n)}const SU=new RegExp("[~\\*/\\[\\]]");function Kw(t,e,n){if(e.search(SU)>=0)throw xp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Cf(...e.split("."))._internalPath}catch{throw xp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xp(t,e,n,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${r}`),l&&(d+=` in document ${i}`),d+=")"),new Re(ve.INVALID_ARGUMENT,c+t+d)}function cO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new fn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(hg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TU extends Ww{data(){return super.data()}}function hg(t,e){return typeof e=="string"?Kw(t,e):e instanceof Cf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Re(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yw{}class Of extends Yw{}function cn(t,e,...n){let r=[];e instanceof Yw&&r.push(e),r=r.concat(n),function(o){const l=o.filter(d=>d instanceof mg).length,c=o.filter(d=>d instanceof Mf).length;if(l>1||l>0&&c>0)throw new Re(ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Mf extends Of{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Mf(e,n,r)}_apply(e){const n=this._parse(e);return hO(e._query,n),new ki(e.firestore,e.converter,eb(e._query,n))}_parse(e){const n=Nf(e.firestore);return function(o,l,c,d,h,p,y){let w;if(h.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new Re(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){xA(y,p);const N=[];for(const P of y)N.push(wA(d,o,P));w={arrayValue:{values:N}}}else w=wA(d,o,y)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||xA(y,p),w=oO(c,l,y,p==="in"||p==="not-in");return jn.create(h,p,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Qt(t,e,n){const r=e,i=hg("where",t);return Mf._create(i,r,n)}class mg extends Yw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new mg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ji.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let l=i;const c=o.getFlattenedFilters();for(const d of c)hO(l,d),l=eb(l,d)}(e._query,n),new ki(e.firestore,e.converter,eb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class pg extends Of{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new pg(e,n)}_apply(e){const n=function(i,o,l){if(i.startAt!==null)throw new Re(ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Re(ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qd(o,l)}(e._query,this._field,this._direction);return new ki(e.firestore,e.converter,function(i,o){const l=i.explicitOrderBy.concat([o]);return new vl(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Bu(t,e="asc"){const n=e,r=hg("orderBy",t);return pg._create(r,n)}class gg extends Of{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new gg(e,n,r)}_apply(e){return new ki(e.firestore,e.converter,mp(e._query,this._limit,this._limitType))}}function db(t){return gg._create("limit",t,"F")}class vg extends Of{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new vg(e,n,r)}_apply(e){const n=EU(e,this.type,this._docOrFields,this._inclusive);return new ki(e.firestore,e.converter,function(i,o){return new vl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,n))}}function fO(...t){return vg._create("startAfter",t,!1)}function EU(t,e,n,r){if(n[0]=ln(n[0]),n[0]instanceof Ww)return function(o,l,c,d,h){if(!d)throw new Re(ve.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const p=[];for(const y of Cu(o))if(y.field.isKeyField())p.push(hp(l,d.key));else{const w=d.data.field(y.field);if(eg(w))throw new Re(ve.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+y.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(w===null){const E=y.field.canonicalString();throw new Re(ve.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${E}' (used as the orderBy) does not exist.`)}p.push(w)}return new Vu(p,h)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Nf(t.firestore);return function(l,c,d,h,p,y){const w=l.explicitOrderBy;if(p.length>w.length)throw new Re(ve.INVALID_ARGUMENT,`Too many arguments provided to ${h}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const E=[];for(let N=0;N<p.length;N++){const P=p[N];if(w[N].field.isKeyField()){if(typeof P!="string")throw new Re(ve.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${h}(), but got a ${typeof P}`);if(!xw(l)&&P.indexOf("/")!==-1)throw new Re(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${h}() must be a plain document ID, but '${P}' contains a slash.`);const V=l.path.child(Zt.fromString(P));if(!Be.isDocumentKey(V))throw new Re(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${h}() must result in a valid document path, but '${V}' is not because it contains an odd number of segments.`);const z=new Be(V);E.push(hp(c,z))}else{const V=oO(d,h,P);E.push(V)}}return new Vu(E,y)}(t._query,t.firestore._databaseId,i,e,n,r)}}function wA(t,e,n){if(typeof(n=ln(n))=="string"){if(n==="")throw new Re(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xw(e)&&n.indexOf("/")!==-1)throw new Re(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Zt.fromString(n));if(!Be.isDocumentKey(r))throw new Re(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hp(t,new Be(r))}if(n instanceof fn)return hp(t,n._key);throw new Re(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qp(n)}.`)}function xA(t,e){if(!Array.isArray(t)||t.length===0)throw new Re(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hO(t,e){const n=function(i,o){for(const l of i)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Re(ve.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Re(ve.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class mO{convertValue(e,n="none"){switch(ao(e)){case 0:return null;case 1:return e.booleanValue;case 2:return En(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(so(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw rt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ho(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[fp].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>En(l.doubleValue));return new Pi(o)}convertGeoPoint(e){return new Mi(En(e.latitude),En(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=tg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Yd(e));default:return null}}convertTimestamp(e){const n=io(e);return new Jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Zt.fromString(e);Ft(MI(r),9688,{name:e});const i=new ju(r.get(1),r.get(3)),o=new Be(r.popFirst(5));return i.isEqual(n)||aa(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class mu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eo extends Ww{constructor(e,n,r,i,o,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(hg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Re(ve.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=eo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}eo._jsonSchemaVersion="firestore/documentSnapshot/1.0",eo._jsonSchema={type:kn("string",eo._jsonSchemaVersion),bundleSource:kn("string","DocumentSnapshot"),bundleName:kn("string"),bundle:kn("string")};class kd extends eo{data(e={}){return super.data(e)}}class to{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new mu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new kd(this._firestore,this._userDataWriter,r.key,r,new mu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Re(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(c=>{const d=new kd(i._firestore,i._userDataWriter,c.doc.key,c.doc,new mu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{const d=new kd(i._firestore,i._userDataWriter,c.doc.key,c.doc,new mu(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),p=l.indexOf(c.doc.key)),{type:AU(c.type),doc:d,oldIndex:h,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Re(ve.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=to._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Xp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function AU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(t){t=Tr(t,fn);const e=Tr(t.firestore,xs);return pU(Af(e),t._key).then(n=>gO(e,t,n))}to._jsonSchemaVersion="firestore/querySnapshot/1.0",to._jsonSchema={type:kn("string",to._jsonSchemaVersion),bundleSource:kn("string","QuerySnapshot"),bundleName:kn("string"),bundle:kn("string")};class Xw extends mO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new fn(this.firestore,null,n)}}function on(t){t=Tr(t,ki);const e=Tr(t.firestore,xs),n=Af(e),r=new Xw(e);return dO(t._query),gU(n,t._query).then(i=>new to(e,r,t,i))}function dl(t,e,n){t=Tr(t,fn);const r=Tr(t.firestore,xs),i=pO(t.converter,e,n);return Pf(r,[aO(Nf(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,wi.none())])}function tl(t,e,n,...r){t=Tr(t,fn);const i=Tr(t.firestore,xs),o=Nf(i);let l;return l=typeof(e=ln(e))=="string"||e instanceof Cf?_U(o,"updateDoc",t._key,e,n,r):xU(o,"updateDoc",t._key,e),Pf(i,[l.toMutation(t._key,wi.exists(!0))])}function _p(t){return Pf(Tr(t.firestore,xs),[new Sw(t._key,wi.none())])}function ua(t,e){const n=Tr(t.firestore,xs),r=rn(t),i=pO(t.converter,e);return Pf(n,[aO(Nf(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,wi.exists(!1))]).then(()=>r)}function Fu(t,...e){var n,r,i;t=ln(t);let o={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||bA(e[l])||(o=e[l++]);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(bA(e[l])){const y=e[l];e[l]=(n=y.next)===null||n===void 0?void 0:n.bind(y),e[l+1]=(r=y.error)===null||r===void 0?void 0:r.bind(y),e[l+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}let d,h,p;if(t instanceof fn)h=Tr(t.firestore,xs),p=ng(t._key.path),d={next:y=>{e[l]&&e[l](gO(h,t,y))},error:e[l+1],complete:e[l+2]};else{const y=Tr(t,ki);h=Tr(y.firestore,xs),p=y._query;const w=new Xw(h);d={next:E=>{e[l]&&e[l](new to(h,w,y,E))},error:e[l+1],complete:e[l+2]},dO(t._query)}return function(w,E,N,P){const V=new Hw(P),z=new zw(E,V,N);return w.asyncQueue.enqueueAndForget(async()=>Lw(await wp(w),z)),()=>{V.Ou(),w.asyncQueue.enqueueAndForget(async()=>Vw(await wp(w),z))}}(Af(h),p,c,d)}function Pf(t,e){return function(r,i){const o=new ea;return r.asyncQueue.enqueueAndForget(async()=>rU(await mU(r),i,o)),o.promise}(Af(t),e)}function gO(t,e,n){const r=n.docs.get(e._key),i=new Xw(t);return new eo(t,i,e._key,r,new mu(n.hasPendingWrites,n.fromCache),e.converter)}function na(){return new qw("serverTimestamp")}(function(e,n=!0){(function(i){Zu=i})(pl),al(new no("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),c=new xs(new A3(r.getProvider("auth-internal")),new N3(l,r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Re(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ju(h.options.projectId,p)}(l,i),l);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),us(SE,TE,e),us(SE,TE,"esm2017")})();const CU=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:mO,Bytes:Xr,CollectionReference:ta,DocumentReference:fn,DocumentSnapshot:eo,FieldPath:Cf,FieldValue:Rf,Firestore:xs,FirestoreError:Re,GeoPoint:Mi,Query:ki,QueryCompositeFilterConstraint:mg,QueryConstraint:Of,QueryDocumentSnapshot:kd,QueryFieldFilterConstraint:Mf,QueryLimitConstraint:gg,QueryOrderByConstraint:pg,QuerySnapshot:to,QueryStartAtConstraint:vg,SnapshotMetadata:mu,Timestamp:Jt,VectorValue:Pi,_AutoId:Xp,_ByteString:Zn,_DatabaseId:ju,_DocumentKey:Be,_EmptyAuthCredentialsProvider:$N,_FieldPath:Xn,_cast:Tr,_logWarn:oa,_validateIsNotUsedTogether:KN,addDoc:ua,collection:St,connectFirestoreEmulator:nO,deleteDoc:_p,doc:rn,ensureFirestoreConfigured:Af,executeWrite:Pf,getDoc:yi,getDocs:on,getFirestore:rO,limit:db,onSnapshot:Fu,orderBy:Bu,query:cn,serverTimestamp:na,setDoc:dl,startAfter:fO,updateDoc:tl,where:Qt},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO="firebasestorage.googleapis.com",yO="storageBucket",RU=2*60*1e3,NU=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn extends Ts{constructor(e,n,r=0){super(Yy(e),`Firebase Storage: ${n} (${Yy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Yy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wn||(wn={}));function Yy(t){return"storage/"+t}function Qw(){const t="An unknown error occurred, please check the error payload for server response.";return new xn(wn.UNKNOWN,t)}function IU(t){return new xn(wn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function OU(t){return new xn(wn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function MU(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new xn(wn.UNAUTHENTICATED,t)}function PU(){return new xn(wn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function DU(t){return new xn(wn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function jU(){return new xn(wn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function kU(){return new xn(wn.CANCELED,"User canceled the upload/download.")}function LU(t){return new xn(wn.INVALID_URL,"Invalid URL '"+t+"'.")}function VU(t){return new xn(wn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function UU(){return new xn(wn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+yO+"' property when initializing the app?")}function zU(){return new xn(wn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function BU(){return new xn(wn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function FU(t){return new xn(wn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function fb(t){return new xn(wn.INVALID_ARGUMENT,t)}function bO(){return new xn(wn.APP_DELETED,"The Firebase app was deleted.")}function HU(t){return new xn(wn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ld(t,e){return new xn(wn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ad(t){throw new xn(wn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Zr.makeFromUrl(e,n)}catch{return new Zr(e,"")}if(r.path==="")return r;throw VU(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+i+l,"i"),d={bucket:1,path:3};function h(Q){Q.path_=decodeURIComponent(Q.path)}const p="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",E=new RegExp(`^https?://${y}/${p}/b/${i}/o${w}`,"i"),N={bucket:1,path:3},P=n===vO?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",z=new RegExp(`^https?://${P}/${i}/${V}`,"i"),$=[{regex:c,indices:d,postModify:o},{regex:E,indices:N,postModify:h},{regex:z,indices:{bucket:1,path:2},postModify:h}];for(let Q=0;Q<$.length;Q++){const O=$[Q],M=O.regex.exec(e);if(M){const C=M[O.indices.bucket];let I=M[O.indices.path];I||(I=""),r=new Zr(C,I),O.postModify(r);break}}if(r==null)throw LU(e);return r}}class $U{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qU(t,e,n){let r=1,i=null,o=null,l=!1,c=0;function d(){return c===2}let h=!1;function p(...V){h||(h=!0,e.apply(null,V))}function y(V){i=setTimeout(()=>{i=null,t(E,d())},V)}function w(){o&&clearTimeout(o)}function E(V,...z){if(h){w();return}if(V){w(),p.call(null,V,...z);return}if(d()||l){w(),p.call(null,V,...z);return}r<64&&(r*=2);let $;c===1?(c=2,$=0):$=(r+Math.random())*1e3,y($)}let N=!1;function P(V){N||(N=!0,w(),!h&&(i!==null?(V||(c=2),clearTimeout(i),y(0)):V||(c=1)))}return y(0),o=setTimeout(()=>{l=!0,P(!0)},n),P}function GU(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KU(t){return t!==void 0}function WU(t){return typeof t=="object"&&!Array.isArray(t)}function Zw(t){return typeof t=="string"||t instanceof String}function _A(t){return Jw()&&t instanceof Blob}function Jw(){return typeof Blob<"u"}function SA(t,e,n,r){if(r<e)throw fb(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw fb(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function wO(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var nl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(nl||(nl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YU(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(e,n,r,i,o,l,c,d,h,p,y,w=!0,E=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=d,this.timeout_=h,this.progressCallback_=p,this.connectionFactory_=y,this.retry=w,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((N,P)=>{this.resolve_=N,this.reject_=P,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new hm(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const d=c.loaded,h=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,h)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===nl.NO_ERROR,d=o.getStatus();if(!c||YU(d,this.additionalRetryCodes_)&&this.retry){const p=o.getErrorCode()===nl.ABORT;r(!1,new hm(!1,null,p));return}const h=this.successCodes_.indexOf(d)!==-1;r(!0,new hm(h,o))})},n=(r,i)=>{const o=this.resolve_,l=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());KU(d)?o(d):o()}catch(d){l(d)}else if(c!==null){const d=Qw();d.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,d)):l(d)}else if(i.canceled){const d=this.appDelete_?bO():kU();l(d)}else{const d=jU();l(d)}};this.canceled_?n(!1,new hm(!1,null,!0)):this.backoffId_=qU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&GU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class hm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function QU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function ZU(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function JU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function e9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function t9(t,e,n,r,i,o,l=!0,c=!1){const d=wO(t.urlParams),h=t.url+d,p=Object.assign({},t.headers);return JU(p,e),QU(p,n),ZU(p,o),e9(p,r),new XU(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function r9(...t){const e=n9();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Jw())return new Blob(t);throw new xn(wn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function i9(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(t){if(typeof atob>"u")throw FU("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Xy{constructor(e,n){this.data=e,this.contentType=n||null}}function a9(t,e){switch(t){case ls.RAW:return new Xy(xO(e));case ls.BASE64:case ls.BASE64URL:return new Xy(_O(t,e));case ls.DATA_URL:return new Xy(l9(e),u9(e))}throw Qw()}function xO(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,l=t.charCodeAt(++n);r=65536|(o&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function o9(t){let e;try{e=decodeURIComponent(t)}catch{throw Ld(ls.DATA_URL,"Malformed data URL.")}return xO(e)}function _O(t,e){switch(t){case ls.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Ld(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ls.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Ld(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=s9(e)}catch(i){throw i.message.includes("polyfill")?i:Ld(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class SO{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Ld(ls.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=c9(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function l9(t){const e=new SO(t);return e.base64?_O(ls.BASE64,e.rest):o9(e.rest)}function u9(t){return new SO(t).contentType}function c9(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,n){let r=0,i="";_A(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(_A(this.data_)){const r=this.data_,i=i9(r,e,n);return i===null?null:new Wa(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Wa(r,!0)}}static getBlob(...e){if(Jw()){const n=e.map(r=>r instanceof Wa?r.data_:r);return new Wa(r9.apply(null,n))}else{const n=e.map(l=>Zw(l)?a9(ls.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(l=>{for(let c=0;c<l.length;c++)i[o++]=l[c]}),new Wa(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(t){let e;try{e=JSON.parse(t)}catch{return null}return WU(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function f9(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function EO(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h9(t,e){return e}class _r{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||h9}}let mm=null;function m9(t){return!Zw(t)||t.length<2?t:EO(t)}function AO(){if(mm)return mm;const t=[];t.push(new _r("bucket")),t.push(new _r("generation")),t.push(new _r("metageneration")),t.push(new _r("name","fullPath",!0));function e(o,l){return m9(l)}const n=new _r("name");n.xform=e,t.push(n);function r(o,l){return l!==void 0?Number(l):l}const i=new _r("size");return i.xform=r,t.push(i),t.push(new _r("timeCreated")),t.push(new _r("updated")),t.push(new _r("md5Hash",null,!0)),t.push(new _r("cacheControl",null,!0)),t.push(new _r("contentDisposition",null,!0)),t.push(new _r("contentEncoding",null,!0)),t.push(new _r("contentLanguage",null,!0)),t.push(new _r("contentType",null,!0)),t.push(new _r("metadata","customMetadata",!0)),mm=t,mm}function p9(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Zr(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function g9(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const l=n[o];r[l.local]=l.xform(r,e[l.server])}return p9(r,t),r}function CO(t,e,n){const r=TO(e);return r===null?null:g9(t,r,n)}function v9(t,e,n,r){const i=TO(e);if(i===null||!Zw(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(h=>{const p=t.bucket,y=t.fullPath,w="/b/"+l(p)+"/o/"+l(y),E=ex(w,n,r),N=wO({alt:"media",token:h});return E+N})[0]}function y9(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class RO{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(t){if(!t)throw Qw()}function b9(t,e){function n(r,i){const o=CO(t,i,e);return NO(o!==null),o}return n}function w9(t,e){function n(r,i){const o=CO(t,i,e);return NO(o!==null),v9(o,i,t.host,t._protocol)}return n}function IO(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=PU():i=MU():n.getStatus()===402?i=OU(t.bucket):n.getStatus()===403?i=DU(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function x9(t){const e=IO(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=IU(t.path)),o.serverResponse=i.serverResponse,o}return n}function _9(t,e,n){const r=e.fullServerUrl(),i=ex(r,t.host,t._protocol),o="GET",l=t.maxOperationRetryTime,c=new RO(i,o,w9(t,n),l);return c.errorHandler=x9(e),c}function S9(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function T9(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=S9(null,e)),r}function E9(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let $="";for(let Q=0;Q<2;Q++)$=$+Math.random().toString().slice(2);return $}const d=c();l["Content-Type"]="multipart/related; boundary="+d;const h=T9(e,r,i),p=y9(h,n),y="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+d+`\r
Content-Type: `+h.contentType+`\r
\r
`,w=`\r
--`+d+"--",E=Wa.getBlob(y,r,w);if(E===null)throw zU();const N={name:h.fullPath},P=ex(o,t.host,t._protocol),V="POST",z=t.maxUploadRetryTime,F=new RO(P,V,b9(t,n),z);return F.urlParams=N,F.headers=l,F.body=E.uploadData(),F.errorHandler=IO(e),F}class A9{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=nl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=nl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=nl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,o){if(this.sent_)throw ad("cannot .send() more than once");if(fo(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ad("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ad("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ad("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ad("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class C9 extends A9{initXhr(){this.xhr_.responseType="text"}}function OO(){return new C9}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n){this._service=e,n instanceof Zr?this._location=n:this._location=Zr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new fl(e,n)}get root(){const e=new Zr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return EO(this._location.path)}get storage(){return this._service}get parent(){const e=d9(this._location.path);if(e===null)return null;const n=new Zr(this._location.bucket,e);return new fl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw HU(e)}}function R9(t,e,n){t._throwIfRoot("uploadBytes");const r=E9(t.storage,t._location,AO(),new Wa(e,!0),n);return t.storage.makeRequestWithTokens(r,OO).then(i=>({metadata:i,ref:t}))}function N9(t){t._throwIfRoot("getDownloadURL");const e=_9(t.storage,t._location,AO());return t.storage.makeRequestWithTokens(e,OO).then(n=>{if(n===null)throw BU();return n})}function I9(t,e){const n=f9(t._location.path,e),r=new Zr(t._location.bucket,n);return new fl(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O9(t){return/^[A-Za-z]+:\/\//.test(t)}function M9(t,e){return new fl(t,e)}function MO(t,e){if(t instanceof tx){const n=t;if(n._bucket==null)throw UU();const r=new fl(n,n._bucket);return e!=null?MO(r,e):r}else return e!==void 0?I9(t,e):t}function P9(t,e){if(e&&O9(e)){if(t instanceof tx)return M9(t,e);throw fb("To use ref(service, url), the first argument must be a Storage instance.")}else return MO(t,e)}function TA(t,e){const n=e?.[yO];return n==null?null:Zr.makeFromBucketSpec(n,t)}function D9(t,e,n,r={}){t.host=`${e}:${n}`;const i=fo(e);i&&(nw(`https://${t.host}/b`),rw("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:KR(o,t.app.options.projectId))}class tx{constructor(e,n,r,i,o,l=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=vO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=RU,this._maxUploadRetryTime=NU,this._requests=new Set,i!=null?this._bucket=Zr.makeFromBucketSpec(i,this._host):this._bucket=TA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Zr.makeFromBucketSpec(this._url,e):this._bucket=TA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){SA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){SA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Yr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new fl(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new $U(bO());{const l=t9(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const EA="@firebase/storage",AA="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO="storage";function nx(t,e,n){return t=ln(t),R9(t,e,n)}function rx(t){return t=ln(t),N9(t)}function ix(t,e){return t=ln(t),P9(t,e)}function j9(t=aw(),e){t=ln(t);const r=Gp(t,PO).getImmediate({identifier:e}),i=$R("storage");return i&&k9(r,...i),r}function k9(t,e,n,r={}){D9(t,e,n,r)}function L9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new tx(n,r,i,e,pl)}function V9(){al(new no(PO,L9,"PUBLIC").setMultipleInstances(!0)),us(EA,AA,""),us(EA,AA,"esm2017")}V9();const U9={apiKey:"AIzaSyBkP3gypmQHs_CrrBgiy7IXMDz_VVJDGvw",authDomain:"mangrov-cf6e2.firebaseapp.com",projectId:"mangrov-cf6e2",storageBucket:"mangrov-cf6e2.firebasestorage.app",messagingSenderId:"936868961990",appId:"1:936868961990:web:022a545478ec5b5fa501c7",measurementId:"G-PC68SEG8KL"},sx=XR(U9),Vd=jN(sx),Ue=rO(sx),ax=j9(sx),DO=R.createContext(void 0);function z9({children:t}){const[e,n]=R.useState({isSignedIn:!1,pending:!0,user:null});return R.useEffect(()=>{const r=Vd.onAuthStateChanged(i=>n({user:i,pending:!1,isSignedIn:!!i}));return()=>r()},[]),g.jsx(DO.Provider,{value:{...e,auth:Vd},children:t})}function Dr(){const t=R.useContext(DO);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}var od={},CA;function B9(){if(CA)return od;CA=1,Object.defineProperty(od,"__esModule",{value:!0}),od.parse=l,od.serialize=h;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function l(w,E){const N=new o,P=w.length;if(P<2)return N;const V=E?.decode||p;let z=0;do{const F=w.indexOf("=",z);if(F===-1)break;const $=w.indexOf(";",z),Q=$===-1?P:$;if(F>Q){z=w.lastIndexOf(";",F-1)+1;continue}const O=c(w,z,F),M=d(w,F,O),C=w.slice(O,M);if(N[C]===void 0){let I=c(w,F+1,Q),A=d(w,Q,I);const S=V(w.slice(I,A));N[C]=S}z=Q+1}while(z<P);return N}function c(w,E,N){do{const P=w.charCodeAt(E);if(P!==32&&P!==9)return E}while(++E<N);return N}function d(w,E,N){for(;E>N;){const P=w.charCodeAt(--E);if(P!==32&&P!==9)return E+1}return N}function h(w,E,N){const P=N?.encode||encodeURIComponent;if(!t.test(w))throw new TypeError(`argument name is invalid: ${w}`);const V=P(E);if(!e.test(V))throw new TypeError(`argument val is invalid: ${E}`);let z=w+"="+V;if(!N)return z;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);z+="; Max-Age="+N.maxAge}if(N.domain){if(!n.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);z+="; Domain="+N.domain}if(N.path){if(!r.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);z+="; Path="+N.path}if(N.expires){if(!y(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);z+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(z+="; HttpOnly"),N.secure&&(z+="; Secure"),N.partitioned&&(z+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":z+="; Priority=Low";break;case"medium":z+="; Priority=Medium";break;case"high":z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":z+="; SameSite=Strict";break;case"lax":z+="; SameSite=Lax";break;case"none":z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return z}function p(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function y(w){return i.call(w)==="[object Date]"}return od}B9();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var jO=t=>{throw TypeError(t)},F9=(t,e,n)=>e.has(t)||jO("Cannot "+n),Qy=(t,e,n)=>(F9(t,e,"read from private field"),n?n.call(t):e.get(t)),H9=(t,e,n)=>e.has(t)?jO("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),RA="popstate";function $9(t={}){function e(r,i){let{pathname:o,search:l,hash:c}=r.location;return tf("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:uo(i)}return G9(e,n,null,t)}function Tt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function An(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function q9(){return Math.random().toString(36).substring(2,10)}function NA(t,e){return{usr:t.state,key:t.key,idx:e}}function tf(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?po(e):e,state:n,key:e&&e.key||r||q9()}}function uo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function po(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function G9(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,c="POP",d=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function y(){c="POP";let V=p(),z=V==null?null:V-h;h=V,d&&d({action:c,location:P.location,delta:z})}function w(V,z){c="PUSH";let F=tf(P.location,V,z);h=p()+1;let $=NA(F,h),Q=P.createHref(F);try{l.pushState($,"",Q)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(Q)}o&&d&&d({action:c,location:P.location,delta:1})}function E(V,z){c="REPLACE";let F=tf(P.location,V,z);h=p();let $=NA(F,h),Q=P.createHref(F);l.replaceState($,"",Q),o&&d&&d({action:c,location:P.location,delta:0})}function N(V){return kO(V)}let P={get action(){return c},get location(){return t(i,l)},listen(V){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(RA,y),d=V,()=>{i.removeEventListener(RA,y),d=null}},createHref(V){return e(i,V)},createURL:N,encodeLocation(V){let z=N(V);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:w,replace:E,go(V){return l.go(V)}};return P}function kO(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Tt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:uo(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var Cd,IA=class{constructor(t){if(H9(this,Cd,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(Qy(this,Cd).has(t))return Qy(this,Cd).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){Qy(this,Cd).set(t,e)}};Cd=new WeakMap;var K9=new Set(["lazy","caseSensitive","path","id","index","children"]);function W9(t){return K9.has(t)}var Y9=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function X9(t){return Y9.has(t)}function Q9(t){return t.index===!0}function Sp(t,e,n=[],r={}){return t.map((i,o)=>{let l=[...n,String(o)],c=typeof i.id=="string"?i.id:l.join("-");if(Tt(i.index!==!0||!i.children,"Cannot specify children on an index route"),Tt(!r[c],`Found a route id collision on id "${c}".  Route id's must be globally unique within Data Router usages`),Q9(i)){let d={...i,...e(i),id:c};return r[c]=d,d}else{let d={...i,...e(i),id:c,children:void 0};return r[c]=d,i.children&&(d.children=Sp(i.children,e,l,r)),d}})}function Ya(t,e,n="/"){return zm(t,e,n,!1)}function zm(t,e,n,r){let i=typeof e=="string"?po(e):e,o=xi(i.pathname||"/",n);if(o==null)return null;let l=LO(t);J9(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let h=c8(o);c=l8(l[d],h,r)}return c}function Z9(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function LO(t,e=[],n=[],r=""){let i=(o,l,c)=>{let d={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};d.relativePath.startsWith("/")&&(Tt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let h=ms([r,d.relativePath]),p=n.concat(d);o.children&&o.children.length>0&&(Tt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),LO(o.children,e,p,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:a8(h,o.index),routesMeta:p})};return t.forEach((o,l)=>{if(o.path===""||!o.path?.includes("?"))i(o,l);else for(let c of VO(o.path))i(o,l,c)}),e}function VO(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=VO(r.join("/")),c=[];return c.push(...l.map(d=>d===""?o:[o,d].join("/"))),i&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function J9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:o8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var e8=/^:[\w-]+$/,t8=3,n8=2,r8=1,i8=10,s8=-2,OA=t=>t==="*";function a8(t,e){let n=t.split("/"),r=n.length;return n.some(OA)&&(r+=s8),e&&(r+=n8),n.filter(i=>!OA(i)).reduce((i,o)=>i+(e8.test(o)?t8:o===""?r8:i8),r)}function o8(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function l8(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",l=[];for(let c=0;c<r.length;++c){let d=r[c],h=c===r.length-1,p=o==="/"?e:e.slice(o.length)||"/",y=Tp({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),w=d.route;if(!y&&h&&n&&!r[r.length-1].route.index&&(y=Tp({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!y)return null;Object.assign(i,y.params),l.push({params:i,pathname:ms([o,y.pathname]),pathnameBase:h8(ms([o,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(o=ms([o,y.pathnameBase]))}return l}function Tp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=u8(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:y},w)=>{if(p==="*"){let N=c[w]||"";l=o.slice(0,o.length-N.length).replace(/(.)\/+$/,"$1")}const E=c[w];return y&&!E?h[p]=void 0:h[p]=(E||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:t}}function u8(t,e=!1,n=!0){An(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function c8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return An(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function xi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function d8(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?po(t):t;return{pathname:n?n.startsWith("/")?n:f8(n,e):e,search:m8(r),hash:p8(i)}}function f8(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Zy(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function UO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ox(t){let e=UO(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function lx(t,e,n,r=!1){let i;typeof t=="string"?i=po(t):(i={...t},Tt(!i.pathname||!i.pathname.includes("?"),Zy("?","pathname","search",i)),Tt(!i.pathname||!i.pathname.includes("#"),Zy("#","pathname","hash",i)),Tt(!i.search||!i.search.includes("#"),Zy("#","search","hash",i)));let o=t===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=n;else{let y=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),y-=1;i.pathname=w.join("/")}c=y>=0?e[y]:"/"}let d=d8(i,c),h=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}var ms=t=>t.join("/").replace(/\/\/+/g,"/"),h8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),m8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,p8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Ep=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function nf(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var zO=["POST","PUT","PATCH","DELETE"],g8=new Set(zO),v8=["GET",...zO],y8=new Set(v8),b8=new Set([301,302,303,307,308]),w8=new Set([307,308]),Jy={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},x8={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ld={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ux=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_8=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),BO="remix-router-transitions",FO=Symbol("ResetLoaderData");function S8(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Tt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],i=t.mapRouteProperties||_8,o={},l=Sp(t.routes,i,void 0,o),c,d=t.basename||"/",h=t.dataStrategy||R8,p={unstable_middleware:!1,...t.future},y=null,w=new Set,E=null,N=null,P=null,V=t.hydrationData!=null,z=Ya(l,t.history.location,d),F=!1,$=null,Q;if(z==null&&!t.patchRoutesOnNavigation){let te=vi(404,{pathname:t.history.location.pathname}),{matches:ae,route:ce}=HA(l);Q=!0,z=ae,$={[ce.id]:te}}else if(z&&!t.hydrationData&&vr(z,l,t.history.location.pathname).active&&(z=null),z)if(z.some(te=>te.route.lazy))Q=!1;else if(!z.some(te=>te.route.loader))Q=!0;else{let te=t.hydrationData?t.hydrationData.loaderData:null,ae=t.hydrationData?t.hydrationData.errors:null;if(ae){let ce=z.findIndex(_e=>ae[_e.route.id]!==void 0);Q=z.slice(0,ce+1).every(_e=>!mb(_e.route,te,ae))}else Q=z.every(ce=>!mb(ce.route,te,ae))}else{Q=!1,z=[];let te=vr(null,l,t.history.location.pathname);te.active&&te.matches&&(F=!0,z=te.matches)}let O,M={historyAction:t.history.action,location:t.history.location,matches:z,initialized:Q,navigation:Jy,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||$,fetchers:new Map,blockers:new Map},C="POP",I=!1,A,S=!1,k=new Map,H=null,j=!1,K=!1,Z=new Set,B=new Map,T=0,J=-1,W=new Map,x=new Set,U=new Map,X=new Map,Y=new Set,ne=new Map,se,le=null;function ge(){if(y=t.history.listen(({action:te,location:ae,delta:ce})=>{if(se){se(),se=void 0;return}An(ne.size===0||ce!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let _e=ma({currentLocation:M.location,nextLocation:ae,historyAction:te});if(_e&&ce!=null){let Te=new Promise(De=>{se=De});t.history.go(ce*-1),ei(_e,{state:"blocked",location:ae,proceed(){ei(_e,{state:"proceeding",proceed:void 0,reset:void 0,location:ae}),Te.then(()=>t.history.go(ce))},reset(){let De=new Map(M.blockers);De.set(_e,ld),Ne({blockers:De})}});return}return me(te,ae)}),n){U8(e,k);let te=()=>z8(e,k);e.addEventListener("pagehide",te),H=()=>e.removeEventListener("pagehide",te)}return M.initialized||me("POP",M.location,{initialHydration:!0}),O}function Ee(){y&&y(),H&&H(),w.clear(),A&&A.abort(),M.fetchers.forEach((te,ae)=>en(ae)),M.blockers.forEach((te,ae)=>Cs(ae))}function Pe(te){return w.add(te),()=>w.delete(te)}function Ne(te,ae={}){M={...M,...te};let ce=[],_e=[];M.fetchers.forEach((Te,De)=>{Te.state==="idle"&&(Y.has(De)?ce.push(De):_e.push(De))}),Y.forEach(Te=>{!M.fetchers.has(Te)&&!B.has(Te)&&ce.push(Te)}),[...w].forEach(Te=>Te(M,{deletedFetchers:ce,viewTransitionOpts:ae.viewTransitionOpts,flushSync:ae.flushSync===!0})),ce.forEach(Te=>en(Te)),_e.forEach(Te=>M.fetchers.delete(Te))}function ze(te,ae,{flushSync:ce}={}){let _e=M.actionData!=null&&M.navigation.formMethod!=null&&Wr(M.navigation.formMethod)&&M.navigation.state==="loading"&&te.state?._isRedirect!==!0,Te;ae.actionData?Object.keys(ae.actionData).length>0?Te=ae.actionData:Te=null:_e?Te=M.actionData:Te=null;let De=ae.loaderData?BA(M.loaderData,ae.loaderData,ae.matches||[],ae.errors):M.loaderData,Ge=M.blockers;Ge.size>0&&(Ge=new Map(Ge),Ge.forEach((Le,Je)=>Ge.set(Je,ld)));let je=I===!0||M.navigation.formMethod!=null&&Wr(M.navigation.formMethod)&&te.state?._isRedirect!==!0;c&&(l=c,c=void 0),j||C==="POP"||(C==="PUSH"?t.history.push(te,te.state):C==="REPLACE"&&t.history.replace(te,te.state));let Ve;if(C==="POP"){let Le=k.get(M.location.pathname);Le&&Le.has(te.pathname)?Ve={currentLocation:M.location,nextLocation:te}:k.has(te.pathname)&&(Ve={currentLocation:te,nextLocation:M.location})}else if(S){let Le=k.get(M.location.pathname);Le?Le.add(te.pathname):(Le=new Set([te.pathname]),k.set(M.location.pathname,Le)),Ve={currentLocation:M.location,nextLocation:te}}Ne({...ae,actionData:Te,loaderData:De,historyAction:C,location:te,initialized:!0,navigation:Jy,revalidation:"idle",restoreScrollPosition:pa(te,ae.matches||M.matches),preventScrollReset:je,blockers:Ge},{viewTransitionOpts:Ve,flushSync:ce===!0}),C="POP",I=!1,S=!1,j=!1,K=!1,le?.resolve(),le=null}async function We(te,ae){if(typeof te=="number"){t.history.go(te);return}let ce=hb(M.location,M.matches,d,te,ae?.fromRouteId,ae?.relative),{path:_e,submission:Te,error:De}=MA(!1,ce,ae),Ge=M.location,je=tf(M.location,_e,ae&&ae.state);je={...je,...t.history.encodeLocation(je)};let Ve=ae&&ae.replace!=null?ae.replace:void 0,Le="PUSH";Ve===!0?Le="REPLACE":Ve===!1||Te!=null&&Wr(Te.formMethod)&&Te.formAction===M.location.pathname+M.location.search&&(Le="REPLACE");let Je=ae&&"preventScrollReset"in ae?ae.preventScrollReset===!0:void 0,Ke=(ae&&ae.flushSync)===!0,it=ma({currentLocation:Ge,nextLocation:je,historyAction:Le});if(it){ei(it,{state:"blocked",location:je,proceed(){ei(it,{state:"proceeding",proceed:void 0,reset:void 0,location:je}),We(te,ae)},reset(){let wt=new Map(M.blockers);wt.set(it,ld),Ne({blockers:wt})}});return}await me(Le,je,{submission:Te,pendingError:De,preventScrollReset:Je,replace:ae&&ae.replace,enableViewTransition:ae&&ae.viewTransition,flushSync:Ke})}function Xe(){le||(le=B8()),Cn(),Ne({revalidation:"loading"});let te=le.promise;return M.navigation.state==="submitting"?te:M.navigation.state==="idle"?(me(M.historyAction,M.location,{startUninterruptedRevalidation:!0}),te):(me(C||M.historyAction,M.navigation.location,{overrideNavigation:M.navigation,enableViewTransition:S===!0}),te)}async function me(te,ae,ce){A&&A.abort(),A=null,C=te,j=(ce&&ce.startUninterruptedRevalidation)===!0,Ti(M.location,M.matches),I=(ce&&ce.preventScrollReset)===!0,S=(ce&&ce.enableViewTransition)===!0;let _e=c||l,Te=ce&&ce.overrideNavigation,De=ce?.initialHydration&&M.matches&&M.matches.length>0&&!F?M.matches:Ya(_e,ae,d),Ge=(ce&&ce.flushSync)===!0;if(De&&M.initialized&&!K&&D8(M.location,ae)&&!(ce&&ce.submission&&Wr(ce.submission.formMethod))){ze(ae,{matches:De},{flushSync:Ge});return}let je=vr(De,_e,ae.pathname);if(je.active&&je.matches&&(De=je.matches),!De){let{error:Pt,notFoundMatches:Ct,route:yt}=Rs(ae.pathname);ze(ae,{matches:Ct,loaderData:{},errors:{[yt.id]:Pt}},{flushSync:Ge});return}A=new AbortController;let Ve=du(t.history,ae,A.signal,ce&&ce.submission),Le=new IA(t.unstable_getContext?await t.unstable_getContext():void 0),Je;if(ce&&ce.pendingError)Je=[Xo(De).route.id,{type:"error",error:ce.pendingError}];else if(ce&&ce.submission&&Wr(ce.submission.formMethod)){let Pt=await Ce(Ve,ae,ce.submission,De,Le,je.active,ce&&ce.initialHydration===!0,{replace:ce.replace,flushSync:Ge});if(Pt.shortCircuited)return;if(Pt.pendingActionResult){let[Ct,yt]=Pt.pendingActionResult;if(Kr(yt)&&nf(yt.error)&&yt.error.status===404){A=null,ze(ae,{matches:Pt.matches,loaderData:{},errors:{[Ct]:yt.error}});return}}De=Pt.matches||De,Je=Pt.pendingActionResult,Te=e0(ae,ce.submission),Ge=!1,je.active=!1,Ve=du(t.history,Ve.url,Ve.signal)}let{shortCircuited:Ke,matches:it,loaderData:wt,errors:Ut}=await $e(Ve,ae,De,Le,je.active,Te,ce&&ce.submission,ce&&ce.fetcherSubmission,ce&&ce.replace,ce&&ce.initialHydration===!0,Ge,Je);Ke||(A=null,ze(ae,{matches:it||De,...FA(Je),loaderData:wt,errors:Ut}))}async function Ce(te,ae,ce,_e,Te,De,Ge,je={}){Cn();let Ve=L8(ae,ce);if(Ne({navigation:Ve},{flushSync:je.flushSync===!0}),De){let Ke=await Fi(_e,ae.pathname,te.signal);if(Ke.type==="aborted")return{shortCircuited:!0};if(Ke.type==="error"){let it=Xo(Ke.partialMatches).route.id;return{matches:Ke.partialMatches,pendingActionResult:[it,{type:"error",error:Ke.error}]}}else if(Ke.matches)_e=Ke.matches;else{let{notFoundMatches:it,error:wt,route:Ut}=Rs(ae.pathname);return{matches:it,pendingActionResult:[Ut.id,{type:"error",error:wt}]}}}let Le,Je=Rd(_e,ae);if(!Je.route.action&&!Je.route.lazy)Le={type:"error",error:vi(405,{method:te.method,pathname:ae.pathname,routeId:Je.route.id})};else{let Ke=Nu(i,o,te,_e,Je,Ge?[]:r,Te),it=await mn(te,Ke,Te,null);if(Le=it[Je.route.id],!Le){for(let wt of _e)if(it[wt.route.id]){Le=it[wt.route.id];break}}if(te.signal.aborted)return{shortCircuited:!0}}if(Zo(Le)){let Ke;return je&&je.replace!=null?Ke=je.replace:Ke=VA(Le.response.headers.get("Location"),new URL(te.url),d)===M.location.pathname+M.location.search,await dt(te,Le,!0,{submission:ce,replace:Ke}),{shortCircuited:!0}}if(Kr(Le)){let Ke=Xo(_e,Je.route.id);return(je&&je.replace)!==!0&&(C="PUSH"),{matches:_e,pendingActionResult:[Ke.route.id,Le,Je.route.id]}}return{matches:_e,pendingActionResult:[Je.route.id,Le]}}async function $e(te,ae,ce,_e,Te,De,Ge,je,Ve,Le,Je,Ke){let it=De||e0(ae,Ge),wt=Ge||je||qA(it),Ut=!j&&!Le;if(Te){if(Ut){let Rn=Ie(Ke);Ne({navigation:it,...Rn!==void 0?{actionData:Rn}:{}},{flushSync:Je})}let lt=await Fi(ce,ae.pathname,te.signal);if(lt.type==="aborted")return{shortCircuited:!0};if(lt.type==="error"){let Rn=Xo(lt.partialMatches).route.id;return{matches:lt.partialMatches,loaderData:{},errors:{[Rn]:lt.error}}}else if(lt.matches)ce=lt.matches;else{let{error:Rn,notFoundMatches:Vr,route:Er}=Rs(ae.pathname);return{matches:Vr,loaderData:{},errors:{[Er.id]:Rn}}}}let Pt=c||l,{dsMatches:Ct,revalidatingFetchers:yt}=PA(te,_e,i,o,t.history,M,ce,wt,ae,Le?[]:r,Le===!0,K,Z,Y,U,x,Pt,d,t.patchRoutesOnNavigation!=null,Ke);if(J=++T,!t.dataStrategy&&!Ct.some(lt=>lt.shouldLoad)&&yt.length===0){let lt=zi();return ze(ae,{matches:ce,loaderData:{},errors:Ke&&Kr(Ke[1])?{[Ke[0]]:Ke[1].error}:null,...FA(Ke),...lt?{fetchers:new Map(M.fetchers)}:{}},{flushSync:Je}),{shortCircuited:!0}}if(Ut){let lt={};if(!Te){lt.navigation=it;let Rn=Ie(Ke);Rn!==void 0&&(lt.actionData=Rn)}yt.length>0&&(lt.fetchers=Ze(yt)),Ne(lt,{flushSync:Je})}yt.forEach(lt=>{lr(lt.key),lt.controller&&B.set(lt.key,lt.controller)});let ni=()=>yt.forEach(lt=>lr(lt.key));A&&A.signal.addEventListener("abort",ni);let{loaderResults:Ln,fetcherResults:yr}=await or(Ct,yt,te,_e);if(te.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",ni),yt.forEach(lt=>B.delete(lt.key));let Jn=pm(Ln);if(Jn)return await dt(te,Jn.result,!0,{replace:Ve}),{shortCircuited:!0};if(Jn=pm(yr),Jn)return x.add(Jn.key),await dt(te,Jn.result,!0,{replace:Ve}),{shortCircuited:!0};let{loaderData:$i,errors:Lr}=zA(M,ce,Ln,Ke,yt,yr);Le&&M.errors&&(Lr={...M.errors,...Lr});let va=zi(),ur=Bi(J),br=va||ur||yt.length>0;return{matches:ce,loaderData:$i,errors:Lr,...br?{fetchers:new Map(M.fetchers)}:{}}}function Ie(te){if(te&&!Kr(te[1]))return{[te[0]]:te[1].data};if(M.actionData)return Object.keys(M.actionData).length===0?null:M.actionData}function Ze(te){return te.forEach(ae=>{let ce=M.fetchers.get(ae.key),_e=ud(void 0,ce?ce.data:void 0);M.fetchers.set(ae.key,_e)}),new Map(M.fetchers)}async function mt(te,ae,ce,_e){lr(te);let Te=(_e&&_e.flushSync)===!0,De=c||l,Ge=hb(M.location,M.matches,d,ce,ae,_e?.relative),je=Ya(De,Ge,d),Ve=vr(je,De,Ge);if(Ve.active&&Ve.matches&&(je=Ve.matches),!je){qe(te,ae,vi(404,{pathname:Ge}),{flushSync:Te});return}let{path:Le,submission:Je,error:Ke}=MA(!0,Ge,_e);if(Ke){qe(te,ae,Ke,{flushSync:Te});return}let it=Rd(je,Le),wt=new IA(t.unstable_getContext?await t.unstable_getContext():void 0),Ut=(_e&&_e.preventScrollReset)===!0;if(Je&&Wr(Je.formMethod)){await ot(te,ae,Le,it,je,wt,Ve.active,Te,Ut,Je);return}U.set(te,{routeId:ae,path:Le}),await Rt(te,ae,Le,it,je,wt,Ve.active,Te,Ut,Je)}async function ot(te,ae,ce,_e,Te,De,Ge,je,Ve,Le){Cn(),U.delete(te);function Je(Yt){if(!Yt.route.action&&!Yt.route.lazy){let ri=vi(405,{method:Le.formMethod,pathname:ce,routeId:ae});return qe(te,ae,ri,{flushSync:je}),!0}return!1}if(!Ge&&Je(_e))return;let Ke=M.fetchers.get(te);pt(te,V8(Le,Ke),{flushSync:je});let it=new AbortController,wt=du(t.history,ce,it.signal,Le);if(Ge){let Yt=await Fi(Te,ce,wt.signal,te);if(Yt.type==="aborted")return;if(Yt.type==="error"){qe(te,ae,Yt.error,{flushSync:je});return}else if(Yt.matches){if(Te=Yt.matches,_e=Rd(Te,ce),Je(_e))return}else{qe(te,ae,vi(404,{pathname:ce}),{flushSync:je});return}}B.set(te,it);let Ut=T,Pt=Nu(i,o,wt,Te,_e,r,De),yt=(await mn(wt,Pt,De,te))[_e.route.id];if(wt.signal.aborted){B.get(te)===it&&B.delete(te);return}if(Y.has(te)){if(Zo(yt)||Kr(yt)){pt(te,Fa(void 0));return}}else{if(Zo(yt))if(B.delete(te),J>Ut){pt(te,Fa(void 0));return}else return x.add(te),pt(te,ud(Le)),dt(wt,yt,!1,{fetcherSubmission:Le,preventScrollReset:Ve});if(Kr(yt)){qe(te,ae,yt.error);return}}let ni=M.navigation.location||M.location,Ln=du(t.history,ni,it.signal),yr=c||l,Jn=M.navigation.state!=="idle"?Ya(yr,M.navigation.location,d):M.matches;Tt(Jn,"Didn't find any matches after fetcher action");let $i=++T;W.set(te,$i);let Lr=ud(Le,yt.data);M.fetchers.set(te,Lr);let{dsMatches:va,revalidatingFetchers:ur}=PA(Ln,De,i,o,t.history,M,Jn,Le,ni,r,!1,K,Z,Y,U,x,yr,d,t.patchRoutesOnNavigation!=null,[_e.route.id,yt]);ur.filter(Yt=>Yt.key!==te).forEach(Yt=>{let ri=Yt.key,Ns=M.fetchers.get(ri),er=ud(void 0,Ns?Ns.data:void 0);M.fetchers.set(ri,er),lr(ri),Yt.controller&&B.set(ri,Yt.controller)}),Ne({fetchers:new Map(M.fetchers)});let br=()=>ur.forEach(Yt=>lr(Yt.key));it.signal.addEventListener("abort",br);let{loaderResults:lt,fetcherResults:Rn}=await or(va,ur,Ln,De);if(it.signal.aborted)return;if(it.signal.removeEventListener("abort",br),W.delete(te),B.delete(te),ur.forEach(Yt=>B.delete(Yt.key)),M.fetchers.has(te)){let Yt=Fa(yt.data);M.fetchers.set(te,Yt)}let Vr=pm(lt);if(Vr)return dt(Ln,Vr.result,!1,{preventScrollReset:Ve});if(Vr=pm(Rn),Vr)return x.add(Vr.key),dt(Ln,Vr.result,!1,{preventScrollReset:Ve});let{loaderData:Er,errors:qi}=zA(M,Jn,lt,void 0,ur,Rn);Bi($i),M.navigation.state==="loading"&&$i>J?(Tt(C,"Expected pending action"),A&&A.abort(),ze(M.navigation.location,{matches:Jn,loaderData:Er,errors:qi,fetchers:new Map(M.fetchers)})):(Ne({errors:qi,loaderData:BA(M.loaderData,Er,Jn,qi),fetchers:new Map(M.fetchers)}),K=!1)}async function Rt(te,ae,ce,_e,Te,De,Ge,je,Ve,Le){let Je=M.fetchers.get(te);pt(te,ud(Le,Je?Je.data:void 0),{flushSync:je});let Ke=new AbortController,it=du(t.history,ce,Ke.signal);if(Ge){let yt=await Fi(Te,ce,it.signal,te);if(yt.type==="aborted")return;if(yt.type==="error"){qe(te,ae,yt.error,{flushSync:je});return}else if(yt.matches)Te=yt.matches,_e=Rd(Te,ce);else{qe(te,ae,vi(404,{pathname:ce}),{flushSync:je});return}}B.set(te,Ke);let wt=T,Ut=Nu(i,o,it,Te,_e,r,De),Ct=(await mn(it,Ut,De,te))[_e.route.id];if(B.get(te)===Ke&&B.delete(te),!it.signal.aborted){if(Y.has(te)){pt(te,Fa(void 0));return}if(Zo(Ct))if(J>wt){pt(te,Fa(void 0));return}else{x.add(te),await dt(it,Ct,!1,{preventScrollReset:Ve});return}if(Kr(Ct)){qe(te,ae,Ct.error);return}pt(te,Fa(Ct.data))}}async function dt(te,ae,ce,{submission:_e,fetcherSubmission:Te,preventScrollReset:De,replace:Ge}={}){ae.response.headers.has("X-Remix-Revalidate")&&(K=!0);let je=ae.response.headers.get("Location");Tt(je,"Expected a Location header on the redirect Response"),je=VA(je,new URL(te.url),d);let Ve=tf(M.location,je,{_isRedirect:!0});if(n){let Ut=!1;if(ae.response.headers.has("X-Remix-Reload-Document"))Ut=!0;else if(ux.test(je)){const Pt=kO(je,!0);Ut=Pt.origin!==e.location.origin||xi(Pt.pathname,d)==null}if(Ut){Ge?e.location.replace(je):e.location.assign(je);return}}A=null;let Le=Ge===!0||ae.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Je,formAction:Ke,formEncType:it}=M.navigation;!_e&&!Te&&Je&&Ke&&it&&(_e=qA(M.navigation));let wt=_e||Te;if(w8.has(ae.response.status)&&wt&&Wr(wt.formMethod))await me(Le,Ve,{submission:{...wt,formAction:je},preventScrollReset:De||I,enableViewTransition:ce?S:void 0});else{let Ut=e0(Ve,_e);await me(Le,Ve,{overrideNavigation:Ut,fetcherSubmission:Te,preventScrollReset:De||I,enableViewTransition:ce?S:void 0})}}async function mn(te,ae,ce,_e){let Te,De={};try{Te=await N8(h,te,ae,_e,ce,!1)}catch(Ge){return ae.filter(je=>je.shouldLoad).forEach(je=>{De[je.route.id]={type:"error",error:Ge}}),De}if(te.signal.aborted)return De;for(let[Ge,je]of Object.entries(Te))if(j8(je)){let Ve=je.result;De[Ge]={type:"redirect",response:M8(Ve,te,Ge,ae,d)}}else De[Ge]=await O8(je);return De}async function or(te,ae,ce,_e){let Te=mn(ce,te,_e,null),De=Promise.all(ae.map(async Ve=>{if(Ve.matches&&Ve.match&&Ve.request&&Ve.controller){let Je=(await mn(Ve.request,Ve.matches,_e,Ve.key))[Ve.match.route.id];return{[Ve.key]:Je}}else return Promise.resolve({[Ve.key]:{type:"error",error:vi(404,{pathname:Ve.path})}})})),Ge=await Te,je=(await De).reduce((Ve,Le)=>Object.assign(Ve,Le),{});return{loaderResults:Ge,fetcherResults:je}}function Cn(){K=!0,U.forEach((te,ae)=>{B.has(ae)&&Z.add(ae),lr(ae)})}function pt(te,ae,ce={}){M.fetchers.set(te,ae),Ne({fetchers:new Map(M.fetchers)},{flushSync:(ce&&ce.flushSync)===!0})}function qe(te,ae,ce,_e={}){let Te=Xo(M.matches,ae);en(te),Ne({errors:{[Te.route.id]:ce},fetchers:new Map(M.fetchers)},{flushSync:(_e&&_e.flushSync)===!0})}function nn(te){return X.set(te,(X.get(te)||0)+1),Y.has(te)&&Y.delete(te),M.fetchers.get(te)||x8}function en(te){let ae=M.fetchers.get(te);B.has(te)&&!(ae&&ae.state==="loading"&&W.has(te))&&lr(te),U.delete(te),W.delete(te),x.delete(te),Y.delete(te),Z.delete(te),M.fetchers.delete(te)}function Ui(te){let ae=(X.get(te)||0)-1;ae<=0?(X.delete(te),Y.add(te)):X.set(te,ae),Ne({fetchers:new Map(M.fetchers)})}function lr(te){let ae=B.get(te);ae&&(ae.abort(),B.delete(te))}function sn(te){for(let ae of te){let ce=nn(ae),_e=Fa(ce.data);M.fetchers.set(ae,_e)}}function zi(){let te=[],ae=!1;for(let ce of x){let _e=M.fetchers.get(ce);Tt(_e,`Expected fetcher: ${ce}`),_e.state==="loading"&&(x.delete(ce),te.push(ce),ae=!0)}return sn(te),ae}function Bi(te){let ae=[];for(let[ce,_e]of W)if(_e<te){let Te=M.fetchers.get(ce);Tt(Te,`Expected fetcher: ${ce}`),Te.state==="loading"&&(lr(ce),W.delete(ce),ae.push(ce))}return sn(ae),ae.length>0}function kr(te,ae){let ce=M.blockers.get(te)||ld;return ne.get(te)!==ae&&ne.set(te,ae),ce}function Cs(te){M.blockers.delete(te),ne.delete(te)}function ei(te,ae){let ce=M.blockers.get(te)||ld;Tt(ce.state==="unblocked"&&ae.state==="blocked"||ce.state==="blocked"&&ae.state==="blocked"||ce.state==="blocked"&&ae.state==="proceeding"||ce.state==="blocked"&&ae.state==="unblocked"||ce.state==="proceeding"&&ae.state==="unblocked",`Invalid blocker state transition: ${ce.state} -> ${ae.state}`);let _e=new Map(M.blockers);_e.set(te,ae),Ne({blockers:_e})}function ma({currentLocation:te,nextLocation:ae,historyAction:ce}){if(ne.size===0)return;ne.size>1&&An(!1,"A router only supports one blocker at a time");let _e=Array.from(ne.entries()),[Te,De]=_e[_e.length-1],Ge=M.blockers.get(Te);if(!(Ge&&Ge.state==="proceeding")&&De({currentLocation:te,nextLocation:ae,historyAction:ce}))return Te}function Rs(te){let ae=vi(404,{pathname:te}),ce=c||l,{matches:_e,route:Te}=HA(ce);return{notFoundMatches:_e,route:Te,error:ae}}function vo(te,ae,ce){if(E=te,P=ae,N=ce||null,!V&&M.navigation===Jy){V=!0;let _e=pa(M.location,M.matches);_e!=null&&Ne({restoreScrollPosition:_e})}return()=>{E=null,P=null,N=null}}function ti(te,ae){return N&&N(te,ae.map(_e=>Z9(_e,M.loaderData)))||te.key}function Ti(te,ae){if(E&&P){let ce=ti(te,ae);E[ce]=P()}}function pa(te,ae){if(E){let ce=ti(te,ae),_e=E[ce];if(typeof _e=="number")return _e}return null}function vr(te,ae,ce){if(t.patchRoutesOnNavigation)if(te){if(Object.keys(te[0].params).length>0)return{active:!0,matches:zm(ae,ce,d,!0)}}else return{active:!0,matches:zm(ae,ce,d,!0)||[]};return{active:!1,matches:null}}async function Fi(te,ae,ce,_e){if(!t.patchRoutesOnNavigation)return{type:"success",matches:te};let Te=te;for(;;){let De=c==null,Ge=c||l,je=o;try{await t.patchRoutesOnNavigation({signal:ce,path:ae,matches:Te,fetcherKey:_e,patch:(Je,Ke)=>{ce.aborted||DA(Je,Ke,Ge,je,i)}})}catch(Je){return{type:"error",error:Je,partialMatches:Te}}finally{De&&!ce.aborted&&(l=[...l])}if(ce.aborted)return{type:"aborted"};let Ve=Ya(Ge,ae,d);if(Ve)return{type:"success",matches:Ve};let Le=zm(Ge,ae,d,!0);if(!Le||Te.length===Le.length&&Te.every((Je,Ke)=>Je.route.id===Le[Ke].route.id))return{type:"success",matches:null};Te=Le}}function Hi(te){o={},c=Sp(te,i,void 0,o)}function ga(te,ae){let ce=c==null;DA(te,ae,c||l,o,i),ce&&(l=[...l],Ne({}))}return O={get basename(){return d},get future(){return p},get state(){return M},get routes(){return l},get window(){return e},initialize:ge,subscribe:Pe,enableScrollRestoration:vo,navigate:We,fetch:mt,revalidate:Xe,createHref:te=>t.history.createHref(te),encodeLocation:te=>t.history.encodeLocation(te),getFetcher:nn,deleteFetcher:Ui,dispose:Ee,getBlocker:kr,deleteBlocker:Cs,patchRoutes:ga,_internalFetchControllers:B,_internalSetRoutes:Hi},O}function T8(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function hb(t,e,n,r,i,o){let l,c;if(i){l=[];for(let h of e)if(l.push(h),h.route.id===i){c=h;break}}else l=e,c=e[e.length-1];let d=lx(r||".",ox(l),xi(t.pathname,n)||t.pathname,o==="path");if(r==null&&(d.search=t.search,d.hash=t.hash),(r==null||r===""||r===".")&&c){let h=cx(d.search);if(c.route.index&&!h)d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&h){let p=new URLSearchParams(d.search),y=p.getAll("index");p.delete("index"),y.filter(E=>E).forEach(E=>p.append("index",E));let w=p.toString();d.search=w?`?${w}`:""}}return n!=="/"&&(d.pathname=d.pathname==="/"?n:ms([n,d.pathname])),uo(d)}function MA(t,e,n){if(!n||!T8(n))return{path:e};if(n.formMethod&&!k8(n.formMethod))return{path:e,error:vi(405,{method:n.formMethod})};let r=()=>({path:e,error:vi(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),l=WO(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Wr(o))return r();let y=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((w,[E,N])=>`${w}${E}=${N}
`,""):String(n.body);return{path:e,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:y}}}else if(n.formEncType==="application/json"){if(!Wr(o))return r();try{let y=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:y,text:void 0}}}catch{return r()}}}Tt(typeof FormData=="function","FormData is not available in this environment");let c,d;if(n.formData)c=gb(n.formData),d=n.formData;else if(n.body instanceof FormData)c=gb(n.body),d=n.body;else if(n.body instanceof URLSearchParams)c=n.body,d=UA(c);else if(n.body==null)c=new URLSearchParams,d=new FormData;else try{c=new URLSearchParams(n.body),d=UA(c)}catch{return r()}let h={formMethod:o,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(Wr(h.formMethod))return{path:e,submission:h};let p=po(e);return t&&p.search&&cx(p.search)&&c.append("index",""),p.search=`?${c}`,{path:uo(p),submission:h}}function PA(t,e,n,r,i,o,l,c,d,h,p,y,w,E,N,P,V,z,F,$){let Q=$?Kr($[1])?$[1].error:$[1].data:void 0,O=i.createURL(o.location),M=i.createURL(d),C;if(p&&o.errors){let j=Object.keys(o.errors)[0];C=l.findIndex(K=>K.route.id===j)}else if($&&Kr($[1])){let j=$[0];C=l.findIndex(K=>K.route.id===j)-1}let I=$?$[1].statusCode:void 0,A=I&&I>=400,S={currentUrl:O,currentParams:o.matches[0]?.params||{},nextUrl:M,nextParams:l[0].params,...c,actionResult:Q,actionStatus:I},k=l.map((j,K)=>{let{route:Z}=j,B=null;if(C!=null&&K>C?B=!1:Z.lazy?B=!0:Z.loader==null?B=!1:p?B=mb(Z,o.loaderData,o.errors):E8(o.loaderData,o.matches[K],j)&&(B=!0),B!==null)return pb(n,r,t,j,h,e,B);let T=A?!1:y||O.pathname+O.search===M.pathname+M.search||O.search!==M.search||A8(o.matches[K],j),J={...S,defaultShouldRevalidate:T},W=Ap(j,J);return pb(n,r,t,j,h,e,W,J)}),H=[];return N.forEach((j,K)=>{if(p||!l.some(X=>X.route.id===j.routeId)||E.has(K))return;let Z=o.fetchers.get(K),B=Z&&Z.state!=="idle"&&Z.data===void 0,T=Ya(V,j.path,z);if(!T){if(F&&B)return;H.push({key:K,routeId:j.routeId,path:j.path,matches:null,match:null,request:null,controller:null});return}if(P.has(K))return;let J=Rd(T,j.path),W=new AbortController,x=du(i,j.path,W.signal),U=null;if(w.has(K))w.delete(K),U=Nu(n,r,x,T,J,h,e);else if(B)y&&(U=Nu(n,r,x,T,J,h,e));else{let X={...S,defaultShouldRevalidate:A?!1:y};Ap(J,X)&&(U=Nu(n,r,x,T,J,h,e,X))}U&&H.push({key:K,routeId:j.routeId,path:j.path,matches:U,match:J,request:x,controller:W})}),{dsMatches:k,revalidatingFetchers:H}}function mb(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&t.id in e,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function E8(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function A8(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Ap(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function DA(t,e,n,r,i){let o;if(t){let d=r[t];Tt(d,`No route found to patch children into: routeId = ${t}`),d.children||(d.children=[]),o=d.children}else o=n;let l=e.filter(d=>!o.some(h=>HO(d,h))),c=Sp(l,i,[t||"_","patch",String(o?.length||"0")],r);o.push(...c)}function HO(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>e.children?.some(i=>HO(n,i))):!1}var jA=new WeakMap,$O=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let i=n[e.id];if(Tt(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let o=i.lazy[t];if(!o)return;let l=jA.get(i);l||(l={},jA.set(i,l));let c=l[t];if(c)return c;let d=(async()=>{let h=W9(t),y=i[t]!==void 0&&t!=="hasErrorBoundary";if(h)An(!h,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),l[t]=Promise.resolve();else if(y)An(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let w=await o();w!=null&&(Object.assign(i,{[t]:w}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(w=>w===void 0)&&(i.lazy=void 0))})();return l[t]=d,d},kA=new WeakMap;function C8(t,e,n,r,i){let o=n[t.id];if(Tt(o,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let p=kA.get(o);if(p)return{lazyRoutePromise:p,lazyHandlerPromise:p};let y=(async()=>{Tt(typeof t.lazy=="function","No lazy route function found");let w=await t.lazy(),E={};for(let N in w){let P=w[N];if(P===void 0)continue;let V=X9(N),F=o[N]!==void 0&&N!=="hasErrorBoundary";V?An(!V,"Route property "+N+" is not a supported property to be returned from a lazy route function. This property will be ignored."):F?An(!F,`Route "${o.id}" has a static property "${N}" defined but its lazy function is also returning a value for this property. The lazy route property "${N}" will be ignored.`):E[N]=P}Object.assign(o,E),Object.assign(o,{...r(o),lazy:void 0})})();return kA.set(o,y),y.catch(()=>{}),{lazyRoutePromise:y,lazyHandlerPromise:y}}let l=Object.keys(t.lazy),c=[],d;for(let p of l){if(i&&i.includes(p))continue;let y=$O({key:p,route:t,manifest:n,mapRouteProperties:r});y&&(c.push(y),p===e&&(d=y))}let h=c.length>0?Promise.all(c).then(()=>{}):void 0;return h?.catch(()=>{}),d?.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:d}}async function LA(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,o)=>{n[e[o].route.id]=i}),n}async function R8(t){return t.matches.some(e=>e.route.unstable_middleware)?qO(t,!1,()=>LA(t),(e,n)=>({[n]:{type:"error",result:e}})):LA(t)}async function qO(t,e,n,r){let{matches:i,request:o,params:l,context:c}=t,d={handlerResult:void 0};try{let h=i.flatMap(y=>y.route.unstable_middleware?y.route.unstable_middleware.map(w=>[y.route.id,w]):[]),p=await GO({request:o,params:l,context:c},h,e,d,n);return e?p:d.handlerResult}catch(h){if(!d.middlewareError)throw h;let p=await r(d.middlewareError.error,d.middlewareError.routeId);return d.handlerResult?Object.assign(d.handlerResult,p):p}}async function GO(t,e,n,r,i,o=0){let{request:l}=t;if(l.signal.aborted)throw l.signal.reason?l.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${l.method} ${l.url}`);let c=e[o];if(!c)return r.handlerResult=await i(),r.handlerResult;let[d,h]=c,p=!1,y,w=async()=>{if(p)throw new Error("You may only call `next()` once per middleware");p=!0,await GO(t,e,n,r,i,o+1)};try{let E=await h({request:t.request,params:t.params,context:t.context},w);return p?E===void 0?y:E:w()}catch(E){throw r.middlewareError?r.middlewareError.error!==E&&(r.middlewareError={routeId:d,error:E}):r.middlewareError={routeId:d,error:E},E}}function KO(t,e,n,r,i){let o=$O({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),l=C8(r.route,Wr(n.method)?"action":"loader",e,t,i);return{middleware:o,route:l.lazyRoutePromise,handler:l.lazyHandlerPromise}}function pb(t,e,n,r,i,o,l,c=null){let d=!1,h=KO(t,e,n,r,i);return{...r,_lazyPromises:h,shouldLoad:l,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler(p){return d=!0,c?typeof p=="boolean"?Ap(r,{...c,defaultShouldRevalidate:p}):Ap(r,c):l},resolve(p){return d||l||p&&n.method==="GET"&&(r.route.lazy||r.route.loader)?I8({request:n,match:r,lazyHandlerPromise:h?.handler,lazyRoutePromise:h?.route,handlerOverride:p,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Nu(t,e,n,r,i,o,l,c=null){return r.map(d=>d.route.id!==i.route.id?{...d,shouldLoad:!1,unstable_shouldRevalidateArgs:c,unstable_shouldCallHandler:()=>!1,_lazyPromises:KO(t,e,n,d,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:pb(t,e,n,d,o,l,!0,c))}async function N8(t,e,n,r,i,o){n.some(h=>h._lazyPromises?.middleware)&&await Promise.all(n.map(h=>h._lazyPromises?.middleware));let l={request:e,params:n[0].params,context:i,matches:n},d=await t({...l,fetcherKey:r,unstable_runClientMiddleware:h=>{let p=l;return qO(p,!1,()=>h({...p,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(y,w)=>({[w]:{type:"error",result:y}}))}});try{await Promise.all(n.flatMap(h=>[h._lazyPromises?.handler,h._lazyPromises?.route]))}catch{}return d}async function I8({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:o}){let l,c,d=Wr(t.method),h=d?"action":"loader",p=y=>{let w,E=new Promise((V,z)=>w=z);c=()=>w(),t.signal.addEventListener("abort",c);let N=V=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${h}" [routeId: ${e.route.id}]`)):y({request:t,params:e.params,context:o},...V!==void 0?[V]:[]),P=(async()=>{try{return{type:"data",result:await(i?i(z=>N(z)):N())}}catch(V){return{type:"error",result:V}}})();return Promise.race([P,E])};try{let y=d?e.route.action:e.route.loader;if(n||r)if(y){let w,[E]=await Promise.all([p(y).catch(N=>{w=N}),n,r]);if(w!==void 0)throw w;l=E}else{await n;let w=d?e.route.action:e.route.loader;if(w)[l]=await Promise.all([p(w),r]);else if(h==="action"){let E=new URL(t.url),N=E.pathname+E.search;throw vi(405,{method:t.method,pathname:N,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(y)l=await p(y);else{let w=new URL(t.url),E=w.pathname+w.search;throw vi(404,{pathname:E})}}catch(y){return{type:"error",result:y}}finally{c&&t.signal.removeEventListener("abort",c)}return l}async function O8(t){let{result:e,type:n}=t;if(YO(e)){let r;try{let i=e.headers.get("Content-Type");i&&/\bapplication\/json\b/.test(i)?e.body==null?r=null:r=await e.json():r=await e.text()}catch(i){return{type:"error",error:i}}return n==="error"?{type:"error",error:new Ep(e.status,e.statusText,r),statusCode:e.status,headers:e.headers}:{type:"data",data:r,statusCode:e.status,headers:e.headers}}return n==="error"?$A(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Ep(e.init?.status||500,void 0,e.data),statusCode:nf(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:nf(e)?e.status:void 0}:$A(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function M8(t,e,n,r,i){let o=t.headers.get("Location");if(Tt(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!ux.test(o)){let l=r.slice(0,r.findIndex(c=>c.route.id===n)+1);o=hb(new URL(e.url),l,i,o),t.headers.set("Location",o)}return t}function VA(t,e,n){if(ux.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=xi(i.pathname,n)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return t}function du(t,e,n,r){let i=t.createURL(WO(e)).toString(),o={signal:n};if(r&&Wr(r.formMethod)){let{formMethod:l,formEncType:c}=r;o.method=l.toUpperCase(),c==="application/json"?(o.headers=new Headers({"Content-Type":c}),o.body=JSON.stringify(r.json)):c==="text/plain"?o.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?o.body=gb(r.formData):o.body=r.formData}return new Request(i,o)}function gb(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function UA(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function P8(t,e,n,r=!1,i=!1){let o={},l=null,c,d=!1,h={},p=n&&Kr(n[1])?n[1].error:void 0;return t.forEach(y=>{if(!(y.route.id in e))return;let w=y.route.id,E=e[w];if(Tt(!Zo(E),"Cannot handle redirect results in processLoaderData"),Kr(E)){let N=E.error;if(p!==void 0&&(N=p,p=void 0),l=l||{},i)l[w]=N;else{let P=Xo(t,w);l[P.route.id]==null&&(l[P.route.id]=N)}r||(o[w]=FO),d||(d=!0,c=nf(E.error)?E.error.status:500),E.headers&&(h[w]=E.headers)}else o[w]=E.data,E.statusCode&&E.statusCode!==200&&!d&&(c=E.statusCode),E.headers&&(h[w]=E.headers)}),p!==void 0&&n&&(l={[n[0]]:p},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:l,statusCode:c||200,loaderHeaders:h}}function zA(t,e,n,r,i,o){let{loaderData:l,errors:c}=P8(e,n,r);return i.filter(d=>!d.matches||d.matches.some(h=>h.shouldLoad)).forEach(d=>{let{key:h,match:p,controller:y}=d,w=o[h];if(Tt(w,"Did not find corresponding fetcher result"),!(y&&y.signal.aborted))if(Kr(w)){let E=Xo(t.matches,p?.route.id);c&&c[E.route.id]||(c={...c,[E.route.id]:w.error}),t.fetchers.delete(h)}else if(Zo(w))Tt(!1,"Unhandled fetcher revalidation redirect");else{let E=Fa(w.data);t.fetchers.set(h,E)}}),{loaderData:l,errors:c}}function BA(t,e,n,r){let i=Object.entries(e).filter(([,o])=>o!==FO).reduce((o,[l,c])=>(o[l]=c,o),{});for(let o of n){let l=o.route.id;if(!e.hasOwnProperty(l)&&t.hasOwnProperty(l)&&o.route.loader&&(i[l]=t[l]),r&&r.hasOwnProperty(l))break}return i}function FA(t){return t?Kr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Xo(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function HA(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function vi(t,{pathname:e,routeId:n,method:r,type:i,message:o}={}){let l="Unknown Server Error",c="Unknown @remix-run/router error";return t===400?(l="Bad Request",r&&e&&n?c=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(c="Unable to encode submission body")):t===403?(l="Forbidden",c=`Route "${n}" does not match URL "${e}"`):t===404?(l="Not Found",c=`No route matches URL "${e}"`):t===405&&(l="Method Not Allowed",r&&e&&n?c=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(c=`Invalid request method "${r.toUpperCase()}"`)),new Ep(t||500,l,new Error(c),!0)}function pm(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(Zo(i))return{key:r,result:i}}}function WO(t){let e=typeof t=="string"?po(t):t;return uo({...e,hash:""})}function D8(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function j8(t){return YO(t.result)&&b8.has(t.result.status)}function Kr(t){return t.type==="error"}function Zo(t){return(t&&t.type)==="redirect"}function $A(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function YO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function k8(t){return y8.has(t.toUpperCase())}function Wr(t){return g8.has(t.toUpperCase())}function cx(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Rd(t,e){let n=typeof e=="string"?po(e).search:e.search;if(t[t.length-1].route.index&&cx(n||""))return t[t.length-1];let r=UO(t);return r[r.length-1]}function qA(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:l}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:l,text:void 0}}}function e0(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function L8(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function ud(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function V8(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Fa(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function U8(t,e){try{let n=t.sessionStorage.getItem(BO);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function z8(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(BO,JSON.stringify(n))}catch(r){An(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function B8(){let t,e,n=new Promise((r,i)=>{t=async o=>{r(o);try{await n}catch{}},e=async o=>{i(o);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var wl=R.createContext(null);wl.displayName="DataRouter";var Df=R.createContext(null);Df.displayName="DataRouterState";var dx=R.createContext({isTransitioning:!1});dx.displayName="ViewTransition";var XO=R.createContext(new Map);XO.displayName="Fetchers";var F8=R.createContext(null);F8.displayName="Await";var As=R.createContext(null);As.displayName="Navigation";var yg=R.createContext(null);yg.displayName="Location";var Li=R.createContext({outlet:null,matches:[],isDataRoute:!1});Li.displayName="Route";var fx=R.createContext(null);fx.displayName="RouteError";function H8(t,{relative:e}={}){Tt(jf(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=R.useContext(As),{hash:i,pathname:o,search:l}=kf(t,{relative:e}),c=o;return n!=="/"&&(c=o==="/"?n:ms([n,o])),r.createHref({pathname:c,search:l,hash:i})}function jf(){return R.useContext(yg)!=null}function Vi(){return Tt(jf(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(yg).location}var QO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ZO(t){R.useContext(As).static||R.useLayoutEffect(t)}function jr(){let{isDataRoute:t}=R.useContext(Li);return t?i7():$8()}function $8(){Tt(jf(),"useNavigate() may be used only in the context of a <Router> component.");let t=R.useContext(wl),{basename:e,navigator:n}=R.useContext(As),{matches:r}=R.useContext(Li),{pathname:i}=Vi(),o=JSON.stringify(ox(r)),l=R.useRef(!1);return ZO(()=>{l.current=!0}),R.useCallback((d,h={})=>{if(An(l.current,QO),!l.current)return;if(typeof d=="number"){n.go(d);return}let p=lx(d,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:ms([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,o,i,t])}var q8=R.createContext(null);function G8(t){let e=R.useContext(Li).outlet;return e&&R.createElement(q8.Provider,{value:t},e)}function hx(){let{matches:t}=R.useContext(Li),e=t[t.length-1];return e?e.params:{}}function kf(t,{relative:e}={}){let{matches:n}=R.useContext(Li),{pathname:r}=Vi(),i=JSON.stringify(ox(n));return R.useMemo(()=>lx(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function K8(t,e,n,r){Tt(jf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=R.useContext(As),{matches:o}=R.useContext(Li),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let z=p&&p.path||"";JO(d,!p||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let y=Vi(),w;w=y;let E=w.pathname||"/",N=E;if(h!=="/"){let z=h.replace(/^\//,"").split("/");N="/"+E.replace(/^\//,"").split("/").slice(z.length).join("/")}let P=Ya(t,{pathname:N});return An(p||P!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),An(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Z8(P&&P.map(z=>Object.assign({},z,{params:Object.assign({},c,z.params),pathname:ms([h,i.encodeLocation?i.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?h:ms([h,i.encodeLocation?i.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),o,n,r)}function W8(){let t=r7(),e=nf(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:o},"ErrorBoundary")," or"," ",R.createElement("code",{style:o},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,l)}var Y8=R.createElement(W8,null),X8=class extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?R.createElement(Li.Provider,{value:this.props.routeContext},R.createElement(fx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Q8({routeContext:t,match:e,children:n}){let r=R.useContext(wl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(Li.Provider,{value:t},n)}function Z8(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n?.errors;if(o!=null){let d=i.findIndex(h=>h.route.id&&o?.[h.route.id]!==void 0);Tt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(n)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:y}=n,w=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!y||y[h.route.id]===void 0);if(h.route.lazy||w){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,h,p)=>{let y,w=!1,E=null,N=null;n&&(y=o&&h.route.id?o[h.route.id]:void 0,E=h.route.errorElement||Y8,l&&(c<0&&p===0?(JO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,N=null):c===p&&(w=!0,N=h.route.hydrateFallbackElement||null)));let P=e.concat(i.slice(0,p+1)),V=()=>{let z;return y?z=E:w?z=N:h.route.Component?z=R.createElement(h.route.Component,null):h.route.element?z=h.route.element:z=d,R.createElement(Q8,{match:h,routeContext:{outlet:d,matches:P,isDataRoute:n!=null},children:z})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?R.createElement(X8,{location:n.location,revalidation:n.revalidation,component:E,error:y,children:V(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):V()},null)}function mx(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function J8(t){let e=R.useContext(wl);return Tt(e,mx(t)),e}function e7(t){let e=R.useContext(Df);return Tt(e,mx(t)),e}function t7(t){let e=R.useContext(Li);return Tt(e,mx(t)),e}function px(t){let e=t7(t),n=e.matches[e.matches.length-1];return Tt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function n7(){return px("useRouteId")}function r7(){let t=R.useContext(fx),e=e7("useRouteError"),n=px("useRouteError");return t!==void 0?t:e.errors?.[n]}function i7(){let{router:t}=J8("useNavigate"),e=px("useNavigate"),n=R.useRef(!1);return ZO(()=>{n.current=!0}),R.useCallback(async(i,o={})=>{An(n.current,QO),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var GA={};function JO(t,e,n){!e&&!GA[t]&&(GA[t]=!0,An(!1,n))}var KA={};function WA(t,e){!t&&!KA[e]&&(KA[e]=!0,console.warn(e))}function s7(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&An(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:R.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&An(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:R.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&An(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:R.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var a7=["HydrateFallback","hydrateFallbackElement"],o7=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function l7({router:t,flushSync:e}){let[n,r]=R.useState(t.state),[i,o]=R.useState(),[l,c]=R.useState({isTransitioning:!1}),[d,h]=R.useState(),[p,y]=R.useState(),[w,E]=R.useState(),N=R.useRef(new Map),P=R.useCallback(($,{deletedFetchers:Q,flushSync:O,viewTransitionOpts:M})=>{$.fetchers.forEach((I,A)=>{I.data!==void 0&&N.current.set(A,I.data)}),Q.forEach(I=>N.current.delete(I)),WA(O===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let C=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(WA(M==null||C,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!M||!C){e&&O?e(()=>r($)):R.startTransition(()=>r($));return}if(e&&O){e(()=>{p&&(d&&d.resolve(),p.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:M.currentLocation,nextLocation:M.nextLocation})});let I=t.window.document.startViewTransition(()=>{e(()=>r($))});I.finished.finally(()=>{e(()=>{h(void 0),y(void 0),o(void 0),c({isTransitioning:!1})})}),e(()=>y(I));return}p?(d&&d.resolve(),p.skipTransition(),E({state:$,currentLocation:M.currentLocation,nextLocation:M.nextLocation})):(o($),c({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}))},[t.window,e,p,d]);R.useLayoutEffect(()=>t.subscribe(P),[t,P]),R.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new o7)},[l]),R.useEffect(()=>{if(d&&i&&t.window){let $=i,Q=d.promise,O=t.window.document.startViewTransition(async()=>{R.startTransition(()=>r($)),await Q});O.finished.finally(()=>{h(void 0),y(void 0),o(void 0),c({isTransitioning:!1})}),y(O)}},[i,d,t.window]),R.useEffect(()=>{d&&i&&n.location.key===i.location.key&&d.resolve()},[d,p,n.location,i]),R.useEffect(()=>{!l.isTransitioning&&w&&(o(w.state),c({isTransitioning:!0,flushSync:!1,currentLocation:w.currentLocation,nextLocation:w.nextLocation}),E(void 0))},[l.isTransitioning,w]);let V=R.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:$=>t.navigate($),push:($,Q,O)=>t.navigate($,{state:Q,preventScrollReset:O?.preventScrollReset}),replace:($,Q,O)=>t.navigate($,{replace:!0,state:Q,preventScrollReset:O?.preventScrollReset})}),[t]),z=t.basename||"/",F=R.useMemo(()=>({router:t,navigator:V,static:!1,basename:z}),[t,V,z]);return R.createElement(R.Fragment,null,R.createElement(wl.Provider,{value:F},R.createElement(Df.Provider,{value:n},R.createElement(XO.Provider,{value:N.current},R.createElement(dx.Provider,{value:l},R.createElement(f7,{basename:z,location:n.location,navigationType:n.historyAction,navigator:V},R.createElement(u7,{routes:t.routes,future:t.future,state:n})))))),null)}var u7=R.memo(c7);function c7({routes:t,future:e,state:n}){return K8(t,void 0,n,e)}function d7(t){return G8(t.context)}function f7({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Tt(!jf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=R.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);typeof n=="string"&&(n=po(n));let{pathname:d="/",search:h="",hash:p="",state:y=null,key:w="default"}=n,E=R.useMemo(()=>{let N=xi(d,l);return N==null?null:{location:{pathname:N,search:h,hash:p,state:y,key:w},navigationType:r}},[l,d,h,p,y,w,r]);return An(E!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:R.createElement(As.Provider,{value:c},R.createElement(yg.Provider,{children:e,value:E}))}var Bm="get",Fm="application/x-www-form-urlencoded";function bg(t){return t!=null&&typeof t.tagName=="string"}function h7(t){return bg(t)&&t.tagName.toLowerCase()==="button"}function m7(t){return bg(t)&&t.tagName.toLowerCase()==="form"}function p7(t){return bg(t)&&t.tagName.toLowerCase()==="input"}function g7(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function v7(t,e){return t.button===0&&(!e||e==="_self")&&!g7(t)}function vb(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function y7(t,e){let n=vb(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(o=>{n.append(i,o)})}),n}var gm=null;function b7(){if(gm===null)try{new FormData(document.createElement("form"),0),gm=!1}catch{gm=!0}return gm}var w7=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function t0(t){return t!=null&&!w7.has(t)?(An(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Fm}"`),null):t}function x7(t,e){let n,r,i,o,l;if(m7(t)){let c=t.getAttribute("action");r=c?xi(c,e):null,n=t.getAttribute("method")||Bm,i=t0(t.getAttribute("enctype"))||Fm,o=new FormData(t)}else if(h7(t)||p7(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?xi(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Bm,i=t0(t.getAttribute("formenctype"))||t0(c.getAttribute("enctype"))||Fm,o=new FormData(c,t),!b7()){let{name:h,type:p,value:y}=t;if(p==="image"){let w=h?`${h}.`:"";o.append(`${w}x`,"0"),o.append(`${w}y`,"0")}else h&&o.append(h,y)}}else{if(bg(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Bm,r=null,i=Fm,l=t}return o&&i==="text/plain"&&(l=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:l}}function gx(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function _7(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function S7(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function T7(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let l=await _7(o,n);return l.links?l.links():[]}return[]}));return R7(r.flat(1).filter(S7).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function YA(t,e,n,r,i,o){let l=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,c=(d,h)=>n[h].pathname!==d.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==d.params["*"];return o==="assets"?e.filter((d,h)=>l(d,h)||c(d,h)):o==="data"?e.filter((d,h)=>{let p=r.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let y=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function E7(t,e,{includeHydrateFallback:n}={}){return A7(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function A7(t){return[...new Set(t)]}function C7(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function R7(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(C7(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var N7=new Set([100,101,204,205]);function I7(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&xi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function eM(){let t=R.useContext(wl);return gx(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function O7(){let t=R.useContext(Df);return gx(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var vx=R.createContext(void 0);vx.displayName="FrameworkContext";function tM(){let t=R.useContext(vx);return gx(t,"You must render this element inside a <HydratedRouter> element"),t}function M7(t,e){let n=R.useContext(vx),[r,i]=R.useState(!1),[o,l]=R.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:p,onTouchStart:y}=e,w=R.useRef(null);R.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let P=z=>{z.forEach(F=>{l(F.isIntersecting)})},V=new IntersectionObserver(P,{threshold:.5});return w.current&&V.observe(w.current),()=>{V.disconnect()}}},[t]),R.useEffect(()=>{if(r){let P=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(P)}}},[r]);let E=()=>{i(!0)},N=()=>{i(!1),l(!1)};return n?t!=="intent"?[o,w,{}]:[o,w,{onFocus:cd(c,E),onBlur:cd(d,N),onMouseEnter:cd(h,E),onMouseLeave:cd(p,N),onTouchStart:cd(y,E)}]:[!1,w,{}]}function cd(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function P7({page:t,...e}){let{router:n}=eM(),r=R.useMemo(()=>Ya(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?R.createElement(j7,{page:t,matches:r,...e}):null}function D7(t){let{manifest:e,routeModules:n}=tM(),[r,i]=R.useState([]);return R.useEffect(()=>{let o=!1;return T7(t,e,n).then(l=>{o||i(l)}),()=>{o=!0}},[t,e,n]),r}function j7({page:t,matches:e,...n}){let r=Vi(),{manifest:i,routeModules:o}=tM(),{basename:l}=eM(),{loaderData:c,matches:d}=O7(),h=R.useMemo(()=>YA(t,e,d,i,r,"data"),[t,e,d,i,r]),p=R.useMemo(()=>YA(t,e,d,i,r,"assets"),[t,e,d,i,r]),y=R.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let N=new Set,P=!1;if(e.forEach(z=>{let F=i.routes[z.route.id];!F||!F.hasLoader||(!h.some($=>$.route.id===z.route.id)&&z.route.id in c&&o[z.route.id]?.shouldRevalidate||F.hasClientLoader?P=!0:N.add(z.route.id))}),N.size===0)return[];let V=I7(t,l);return P&&N.size>0&&V.searchParams.set("_routes",e.filter(z=>N.has(z.route.id)).map(z=>z.route.id).join(",")),[V.pathname+V.search]},[l,c,r,i,h,e,t,o]),w=R.useMemo(()=>E7(p,i),[p,i]),E=D7(p);return R.createElement(R.Fragment,null,y.map(N=>R.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),w.map(N=>R.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),E.map(({key:N,link:P})=>R.createElement("link",{key:N,...P})))}function k7(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var nM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nM&&(window.__reactRouterVersion="7.6.3")}catch{}function L7(t,e){return S8({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:$9({window:e?.window}),hydrationData:V7(),routes:t,mapRouteProperties:s7,hydrationRouteProperties:a7,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function V7(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:U7(t.errors)}),t}function U7(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Ep(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let l=new o(i.message);l.stack="",n[r]=l}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}var rM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bi=R.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:l,state:c,target:d,to:h,preventScrollReset:p,viewTransition:y,...w},E){let{basename:N}=R.useContext(As),P=typeof h=="string"&&rM.test(h),V,z=!1;if(typeof h=="string"&&P&&(V=h,nM))try{let A=new URL(window.location.href),S=h.startsWith("//")?new URL(A.protocol+h):new URL(h),k=xi(S.pathname,N);S.origin===A.origin&&k!=null?h=k+S.search+S.hash:z=!0}catch{An(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=H8(h,{relative:i}),[$,Q,O]=M7(r,w),M=H7(h,{replace:l,state:c,target:d,preventScrollReset:p,relative:i,viewTransition:y});function C(A){e&&e(A),A.defaultPrevented||M(A)}let I=R.createElement("a",{...w,...O,href:V||F,onClick:z||o?e:C,ref:k7(E,Q),target:d,"data-discover":!P&&n==="render"?"true":void 0});return $&&!P?R.createElement(R.Fragment,null,I,R.createElement(P7,{page:F})):I});bi.displayName="Link";var z7=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:l,viewTransition:c,children:d,...h},p){let y=kf(l,{relative:h.relative}),w=Vi(),E=R.useContext(Df),{navigator:N,basename:P}=R.useContext(As),V=E!=null&&W7(y)&&c===!0,z=N.encodeLocation?N.encodeLocation(y).pathname:y.pathname,F=w.pathname,$=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(F=F.toLowerCase(),$=$?$.toLowerCase():null,z=z.toLowerCase()),$&&P&&($=xi($,P)||$);const Q=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let O=F===z||!i&&F.startsWith(z)&&F.charAt(Q)==="/",M=$!=null&&($===z||!i&&$.startsWith(z)&&$.charAt(z.length)==="/"),C={isActive:O,isPending:M,isTransitioning:V},I=O?e:void 0,A;typeof r=="function"?A=r(C):A=[r,O?"active":null,M?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let S=typeof o=="function"?o(C):o;return R.createElement(bi,{...h,"aria-current":I,className:A,ref:p,style:S,to:l,viewTransition:c},typeof d=="function"?d(C):d)});z7.displayName="NavLink";var B7=R.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:l=Bm,action:c,onSubmit:d,relative:h,preventScrollReset:p,viewTransition:y,...w},E)=>{let N=G7(),P=K7(c,{relative:h}),V=l.toLowerCase()==="get"?"get":"post",z=typeof c=="string"&&rM.test(c),F=$=>{if(d&&d($),$.defaultPrevented)return;$.preventDefault();let Q=$.nativeEvent.submitter,O=Q?.getAttribute("formmethod")||l;N(Q||$.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:i,state:o,relative:h,preventScrollReset:p,viewTransition:y})};return R.createElement("form",{ref:E,method:V,action:P,onSubmit:r?d:F,...w,"data-discover":!z&&t==="render"?"true":void 0})});B7.displayName="Form";function F7(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iM(t){let e=R.useContext(wl);return Tt(e,F7(t)),e}function H7(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:l}={}){let c=jr(),d=Vi(),h=kf(t,{relative:o});return R.useCallback(p=>{if(v7(p,e)){p.preventDefault();let y=n!==void 0?n:uo(d)===uo(h);c(t,{replace:y,state:r,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,h,n,r,e,t,i,o,l])}function sM(t){An(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=R.useRef(vb(t)),n=R.useRef(!1),r=Vi(),i=R.useMemo(()=>y7(r.search,n.current?null:e.current),[r.search]),o=jr(),l=R.useCallback((c,d)=>{const h=vb(typeof c=="function"?c(i):c);n.current=!0,o("?"+h,d)},[o,i]);return[i,l]}var $7=0,q7=()=>`__${String(++$7)}__`;function G7(){let{router:t}=iM("useSubmit"),{basename:e}=R.useContext(As),n=n7();return R.useCallback(async(r,i={})=>{let{action:o,method:l,encType:c,formData:d,body:h}=x7(r,e);if(i.navigate===!1){let p=i.fetcherKey||q7();await t.fetch(p,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function K7(t,{relative:e}={}){let{basename:n}=R.useContext(As),r=R.useContext(Li);Tt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...kf(t||".",{relative:e})},l=Vi();if(t==null){o.search=l.search;let c=new URLSearchParams(o.search),d=c.getAll("index");if(d.some(p=>p==="")){c.delete("index"),d.filter(y=>y).forEach(y=>c.append("index",y));let p=c.toString();o.search=p?`?${p}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:ms([n,o.pathname])),uo(o)}function W7(t,e={}){let n=R.useContext(dx);Tt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=iM("useViewTransitionState"),i=kf(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=xi(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=xi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Tp(i.pathname,l)!=null||Tp(i.pathname,o)!=null}[...N7];const Y7="modulepreload",X7=function(t){return"/"+t},XA={},yx=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let h=function(p){return Promise.all(p.map(y=>Promise.resolve(y).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};var l=h;document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");i=h(n.map(p=>{if(p=X7(p),p in XA)return;XA[p]=!0;const y=p.endsWith(".css"),w=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${w}`))return;const E=document.createElement("link");if(E.rel=y?"stylesheet":Y7,y||(E.as="script"),E.crossOrigin="",E.href=p,d&&E.setAttribute("nonce",d),document.head.appendChild(E),y)return new Promise((N,P)=>{E.addEventListener("load",N),E.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return i.then(c=>{for(const d of c||[])d.status==="rejected"&&o(d.reason);return e().catch(o)})};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q7=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Z7=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),QA=t=>{const e=Z7(t);return e.charAt(0).toUpperCase()+e.slice(1)},aM=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),J7=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ez={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=R.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:l,...c},d)=>R.createElement("svg",{ref:d,...ez,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:aM("lucide",i),...!o&&!J7(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,p])=>R.createElement(h,p)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=(t,e)=>{const n=R.forwardRef(({className:r,...i},o)=>R.createElement(tz,{ref:o,iconNode:e,className:aM(`lucide-${Q7(QA(t))}`,`lucide-${t}`,r),...i}));return n.displayName=QA(t),n};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],rz=ft("activity",nz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],bx=ft("arrow-left-right",iz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],wx=ft("arrow-left",sz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],wg=ft("arrow-right",az);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oz=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],lz=ft("arrow-up",oz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],hl=ft("bookmark",uz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],xx=ft("check",cz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Lf=ft("chevron-down",dz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],oM=ft("chevron-up",fz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ZA=ft("circle-check-big",hz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],pz=ft("cloud-upload",mz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],vz=ft("external-link",gz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bz=ft("eye",yz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],fu=ft("funnel",wz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],_z=ft("grid-3x3",xz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Hu=ft("heart",Sz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],_x=ft("house",Tz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Az=ft("image",Ez);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Rz=ft("loader-circle",Cz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Iz=ft("mail",Nz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Mz=ft("menu",Oz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],yb=ft("message-circle",Pz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Sx=ft("message-square",Dz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["path",{d:"M5 12h14",key:"1ays0h"}]],JA=ft("minus",jz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Lz=ft("package",kz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$u=ft("plus",Vz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],zz=ft("reply",Uz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],e2=ft("rotate-ccw",Bz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],qu=ft("search",Fz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Tx=ft("send",Hz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qz=ft("settings",$z);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],Iu=ft("shopping-bag",Gz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Wz=ft("shopping-cart",Kz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],t2=ft("sparkles",Yz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Qz=ft("square-pen",Xz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],lM=ft("trash-2",Zz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],bb=ft("trending-up",Jz);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],tB=ft("triangle-alert",eB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Gu=ft("user",nB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],n2=ft("users",rB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ps=ft("x",iB);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],aB=ft("zap",sB),Ex=R.createContext({});function xl(t){const e=R.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ax=typeof window<"u",Vf=Ax?R.useLayoutEffect:R.useEffect,xg=R.createContext(null);function Cx(t,e){t.indexOf(e)===-1&&t.push(e)}function Rx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const _s=(t,e,n)=>n>e?e:n<t?t:n;let rf=()=>{};const ca={},uM=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function cM(t){return typeof t=="object"&&t!==null}const dM=t=>/^0[^.\s]+$/u.test(t);function Nx(t){let e;return()=>(e===void 0&&(e=t()),e)}const Mr=t=>t,oB=(t,e)=>n=>e(t(n)),Uf=(...t)=>t.reduce(oB),Ku=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Ix{constructor(){this.subscriptions=[]}add(e){return Cx(this.subscriptions,e),()=>Rx(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const l=this.subscriptions[o];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gs=t=>t*1e3,vs=t=>t/1e3;function Ox(t,e){return e?t*(1e3/e):0}const fM=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,lB=1e-7,uB=12;function cB(t,e,n,r,i){let o,l,c=0;do l=e+(n-e)/2,o=fM(l,r,i)-t,o>0?n=l:e=l;while(Math.abs(o)>lB&&++c<uB);return l}function zf(t,e,n,r){if(t===e&&n===r)return Mr;const i=o=>cB(o,0,1,t,n);return o=>o===0||o===1?o:fM(i(o),e,r)}const hM=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,mM=t=>e=>1-t(1-e),pM=zf(.33,1.53,.69,.99),Mx=mM(pM),gM=hM(Mx),vM=t=>(t*=2)<1?.5*Mx(t):.5*(2-Math.pow(2,-10*(t-1))),Px=t=>1-Math.sin(Math.acos(t)),yM=mM(Px),bM=hM(Px),dB=zf(.42,0,1,1),Cp=zf(0,0,.58,1),Rp=zf(.42,0,.58,1),fB=t=>Array.isArray(t)&&typeof t[0]!="number",wM=t=>Array.isArray(t)&&typeof t[0]=="number",hB={linear:Mr,easeIn:dB,easeInOut:Rp,easeOut:Cp,circIn:Px,circInOut:bM,circOut:yM,backIn:Mx,backInOut:gM,backOut:pM,anticipate:vM},mB=t=>typeof t=="string",r2=t=>{if(wM(t)){rf(t.length===4);const[e,n,r,i]=t;return zf(e,n,r,i)}else if(mB(t))return hB[t];return t},vm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],i2={value:null};function pB(t,e){let n=new Set,r=new Set,i=!1,o=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},d=0;function h(y){l.has(y)&&(p.schedule(y),t()),d++,y(c)}const p={schedule:(y,w=!1,E=!1)=>{const P=E&&i?n:r;return w&&l.add(y),P.has(y)||P.add(y),y},cancel:y=>{r.delete(y),l.delete(y)},process:y=>{if(c=y,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(h),e&&i2.value&&i2.value.frameloop[e].push(d),d=0,n.clear(),i=!1,o&&(o=!1,p.process(y))}};return p}const gB=40;function xM(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,l=vm.reduce(($,Q)=>($[Q]=pB(o,e?Q:void 0),$),{}),{setup:c,read:d,resolveKeyframes:h,preUpdate:p,update:y,preRender:w,render:E,postRender:N}=l,P=()=>{const $=ca.useManualTiming?i.timestamp:performance.now();n=!1,ca.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min($-i.timestamp,gB),1)),i.timestamp=$,i.isProcessing=!0,c.process(i),d.process(i),h.process(i),p.process(i),y.process(i),w.process(i),E.process(i),N.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(P))},V=()=>{n=!0,r=!0,i.isProcessing||t(P)};return{schedule:vm.reduce(($,Q)=>{const O=l[Q];return $[Q]=(M,C=!1,I=!1)=>(n||V(),O.schedule(M,C,I)),$},{}),cancel:$=>{for(let Q=0;Q<vm.length;Q++)l[vm[Q]].cancel($)},state:i,steps:l}}const{schedule:Vt,cancel:_i,state:Wn,steps:n0}=xM(typeof requestAnimationFrame<"u"?requestAnimationFrame:Mr,!0);let Hm;function vB(){Hm=void 0}const Or={now:()=>(Hm===void 0&&Or.set(Wn.isProcessing||ca.useManualTiming?Wn.timestamp:performance.now()),Hm),set:t=>{Hm=t,queueMicrotask(vB)}},_M=t=>e=>typeof e=="string"&&e.startsWith(t),Dx=_M("--"),yB=_M("var(--"),jx=t=>yB(t)?bB.test(t.split("/*")[0].trim()):!1,bB=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,nc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},sf={...nc,transform:t=>_s(0,1,t)},ym={...nc,default:1},Ud=t=>Math.round(t*1e5)/1e5,kx=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function wB(t){return t==null}const xB=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Lx=(t,e)=>n=>!!(typeof n=="string"&&xB.test(n)&&n.startsWith(t)||e&&!wB(n)&&Object.prototype.hasOwnProperty.call(n,e)),SM=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,o,l,c]=r.match(kx);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},_B=t=>_s(0,255,t),r0={...nc,transform:t=>Math.round(_B(t))},Jo={test:Lx("rgb","red"),parse:SM("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+r0.transform(t)+", "+r0.transform(e)+", "+r0.transform(n)+", "+Ud(sf.transform(r))+")"};function SB(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const wb={test:Lx("#"),parse:SB,transform:Jo.transform},Bf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ha=Bf("deg"),ys=Bf("%"),at=Bf("px"),TB=Bf("vh"),EB=Bf("vw"),s2={...ys,parse:t=>ys.parse(t)/100,transform:t=>ys.transform(t*100)},pu={test:Lx("hsl","hue"),parse:SM("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ys.transform(Ud(e))+", "+ys.transform(Ud(n))+", "+Ud(sf.transform(r))+")"},Pn={test:t=>Jo.test(t)||wb.test(t)||pu.test(t),parse:t=>Jo.test(t)?Jo.parse(t):pu.test(t)?pu.parse(t):wb.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Jo.transform(t):pu.transform(t),getAnimatableNone:t=>{const e=Pn.parse(t);return e.alpha=0,Pn.transform(e)}},AB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function CB(t){return isNaN(t)&&typeof t=="string"&&(t.match(kx)?.length||0)+(t.match(AB)?.length||0)>0}const TM="number",EM="color",RB="var",NB="var(",a2="${}",IB=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function af(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const c=e.replace(IB,d=>(Pn.test(d)?(r.color.push(o),i.push(EM),n.push(Pn.parse(d))):d.startsWith(NB)?(r.var.push(o),i.push(RB),n.push(d)):(r.number.push(o),i.push(TM),n.push(parseFloat(d))),++o,a2)).split(a2);return{values:n,split:c,indexes:r,types:i}}function AM(t){return af(t).values}function CM(t){const{split:e,types:n}=af(t),r=e.length;return i=>{let o="";for(let l=0;l<r;l++)if(o+=e[l],i[l]!==void 0){const c=n[l];c===TM?o+=Ud(i[l]):c===EM?o+=Pn.transform(i[l]):o+=i[l]}return o}}const OB=t=>typeof t=="number"?0:Pn.test(t)?Pn.getAnimatableNone(t):t;function MB(t){const e=AM(t);return CM(t)(e.map(OB))}const co={test:CB,parse:AM,createTransformer:CM,getAnimatableNone:MB};function i0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function PB({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,l=0;if(!e)i=o=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,d=2*n-c;i=i0(d,c,t+1/3),o=i0(d,c,t),l=i0(d,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:r}}function Np(t,e){return n=>n>0?e:t}const dn=(t,e,n)=>t+(e-t)*n,s0=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},DB=[wb,Jo,pu],jB=t=>DB.find(e=>e.test(t));function o2(t){const e=jB(t);if(!e)return!1;let n=e.parse(t);return e===pu&&(n=PB(n)),n}const l2=(t,e)=>{const n=o2(t),r=o2(e);if(!n||!r)return Np(t,e);const i={...n};return o=>(i.red=s0(n.red,r.red,o),i.green=s0(n.green,r.green,o),i.blue=s0(n.blue,r.blue,o),i.alpha=dn(n.alpha,r.alpha,o),Jo.transform(i))},xb=new Set(["none","hidden"]);function kB(t,e){return xb.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function LB(t,e){return n=>dn(t,e,n)}function Vx(t){return typeof t=="number"?LB:typeof t=="string"?jx(t)?Np:Pn.test(t)?l2:zB:Array.isArray(t)?RM:typeof t=="object"?Pn.test(t)?l2:VB:Np}function RM(t,e){const n=[...t],r=n.length,i=t.map((o,l)=>Vx(o)(o,e[l]));return o=>{for(let l=0;l<r;l++)n[l]=i[l](o);return n}}function VB(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Vx(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function UB(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const o=e.types[i],l=t.indexes[o][r[o]],c=t.values[l]??0;n[i]=c,r[o]++}return n}const zB=(t,e)=>{const n=co.createTransformer(e),r=af(t),i=af(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?xb.has(t)&&!i.values.length||xb.has(e)&&!r.values.length?kB(t,e):Uf(RM(UB(r,i),i.values),n):Np(t,e)};function NM(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?dn(t,e,n):Vx(t)(t,e)}const BB=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Vt.update(e,n),stop:()=>_i(e),now:()=>Wn.isProcessing?Wn.timestamp:Or.now()}},IM=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let o=0;o<i;o++)r+=Math.round(t(o/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Ip=2e4;function Ux(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Ip;)e+=n,r=t.next(e);return e>=Ip?1/0:e}function FB(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(Ux(r),Ip);return{type:"keyframes",ease:o=>r.next(i*o).value/e,duration:vs(i)}}const HB=5;function OM(t,e,n){const r=Math.max(e-HB,0);return Ox(n-t(r),e-r)}const vn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},a0=.001;function $B({duration:t=vn.duration,bounce:e=vn.bounce,velocity:n=vn.velocity,mass:r=vn.mass}){let i,o,l=1-e;l=_s(vn.minDamping,vn.maxDamping,l),t=_s(vn.minDuration,vn.maxDuration,vs(t)),l<1?(i=h=>{const p=h*l,y=p*t,w=p-n,E=_b(h,l),N=Math.exp(-y);return a0-w/E*N},o=h=>{const y=h*l*t,w=y*n+n,E=Math.pow(l,2)*Math.pow(h,2)*t,N=Math.exp(-y),P=_b(Math.pow(h,2),l);return(-i(h)+a0>0?-1:1)*((w-E)*N)/P}):(i=h=>{const p=Math.exp(-h*t),y=(h-n)*t+1;return-a0+p*y},o=h=>{const p=Math.exp(-h*t),y=(n-h)*(t*t);return p*y});const c=5/t,d=GB(i,o,c);if(t=gs(t),isNaN(d))return{stiffness:vn.stiffness,damping:vn.damping,duration:t};{const h=Math.pow(d,2)*r;return{stiffness:h,damping:l*2*Math.sqrt(r*h),duration:t}}}const qB=12;function GB(t,e,n){let r=n;for(let i=1;i<qB;i++)r=r-t(r)/e(r);return r}function _b(t,e){return t*Math.sqrt(1-e*e)}const KB=["duration","bounce"],WB=["stiffness","damping","mass"];function u2(t,e){return e.some(n=>t[n]!==void 0)}function YB(t){let e={velocity:vn.velocity,stiffness:vn.stiffness,damping:vn.damping,mass:vn.mass,isResolvedFromDuration:!1,...t};if(!u2(t,WB)&&u2(t,KB))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*_s(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:vn.mass,stiffness:i,damping:o}}else{const n=$B(t);e={...e,...n,mass:vn.mass},e.isResolvedFromDuration=!0}return e}function Op(t=vn.visualDuration,e=vn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:o},{stiffness:d,damping:h,mass:p,duration:y,velocity:w,isResolvedFromDuration:E}=YB({...n,velocity:-vs(n.velocity||0)}),N=w||0,P=h/(2*Math.sqrt(d*p)),V=l-o,z=vs(Math.sqrt(d/p)),F=Math.abs(V)<5;r||(r=F?vn.restSpeed.granular:vn.restSpeed.default),i||(i=F?vn.restDelta.granular:vn.restDelta.default);let $;if(P<1){const O=_b(z,P);$=M=>{const C=Math.exp(-P*z*M);return l-C*((N+P*z*V)/O*Math.sin(O*M)+V*Math.cos(O*M))}}else if(P===1)$=O=>l-Math.exp(-z*O)*(V+(N+z*V)*O);else{const O=z*Math.sqrt(P*P-1);$=M=>{const C=Math.exp(-P*z*M),I=Math.min(O*M,300);return l-C*((N+P*z*V)*Math.sinh(I)+O*V*Math.cosh(I))/O}}const Q={calculatedDuration:E&&y||null,next:O=>{const M=$(O);if(E)c.done=O>=y;else{let C=O===0?N:0;P<1&&(C=O===0?gs(N):OM($,O,M));const I=Math.abs(C)<=r,A=Math.abs(l-M)<=i;c.done=I&&A}return c.value=c.done?l:M,c},toString:()=>{const O=Math.min(Ux(Q),Ip),M=IM(C=>Q.next(O*C).value,O,30);return O+"ms "+M},toTransition:()=>{}};return Q}Op.applyToOptions=t=>{const e=FB(t,100,Op);return t.ease=e.ease,t.duration=gs(e.duration),t.type="keyframes",t};function Sb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:d,restDelta:h=.5,restSpeed:p}){const y=t[0],w={done:!1,value:y},E=I=>c!==void 0&&I<c||d!==void 0&&I>d,N=I=>c===void 0?d:d===void 0||Math.abs(c-I)<Math.abs(d-I)?c:d;let P=n*e;const V=y+P,z=l===void 0?V:l(V);z!==V&&(P=z-y);const F=I=>-P*Math.exp(-I/r),$=I=>z+F(I),Q=I=>{const A=F(I),S=$(I);w.done=Math.abs(A)<=h,w.value=w.done?z:S};let O,M;const C=I=>{E(w.value)&&(O=I,M=Op({keyframes:[w.value,N(w.value)],velocity:OM($,I,w.value),damping:i,stiffness:o,restDelta:h,restSpeed:p}))};return C(0),{calculatedDuration:null,next:I=>{let A=!1;return!M&&O===void 0&&(A=!0,Q(I),C(I)),O!==void 0&&I>=O?M.next(I-O):(!A&&Q(I),w)}}}function XB(t,e,n){const r=[],i=n||ca.mix||NM,o=t.length-1;for(let l=0;l<o;l++){let c=i(t[l],t[l+1]);if(e){const d=Array.isArray(e)?e[l]||Mr:e;c=Uf(d,c)}r.push(c)}return r}function zx(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(rf(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=XB(e,r,i),d=c.length,h=p=>{if(l&&p<t[0])return e[0];let y=0;if(d>1)for(;y<t.length-2&&!(p<t[y+1]);y++);const w=Ku(t[y],t[y+1],p);return c[y](w)};return n?p=>h(_s(t[0],t[o-1],p)):h}function QB(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Ku(0,e,r);t.push(dn(n,1,i))}}function MM(t){const e=[0];return QB(e,t.length-1),e}function ZB(t,e){return t.map(n=>n*e)}function JB(t,e){return t.map(()=>e||Rp).splice(0,t.length-1)}function zd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=fB(r)?r.map(r2):r2(r),o={done:!1,value:e[0]},l=ZB(n&&n.length===e.length?n:MM(e),t),c=zx(l,e,{ease:Array.isArray(i)?i:JB(e,i)});return{calculatedDuration:t,next:d=>(o.value=c(d),o.done=d>=t,o)}}const eF=t=>t!==null;function Bx(t,{repeat:e,repeatType:n="loop"},r,i=1){const o=t.filter(eF),c=i<0||e&&n!=="loop"&&e%2===1?0:o.length-1;return!c||r===void 0?o[c]:r}const tF={decay:Sb,inertia:Sb,tween:zd,keyframes:zd,spring:Op};function PM(t){typeof t.type=="string"&&(t.type=tF[t.type])}class Fx{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const nF=t=>t/100;class _g extends Fx{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Or.now()&&this.tick(Or.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;PM(e);const{type:n=zd,repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:l=0}=e;let{keyframes:c}=e;const d=n||zd;d!==zd&&typeof c[0]!="number"&&(this.mixKeyframes=Uf(nF,NM(c[0],c[1])),c=[0,100]);const h=d({...e,keyframes:c});o==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=Ux(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:o,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:p,repeat:y,repeatType:w,repeatDelay:E,type:N,onUpdate:P,finalKeyframe:V}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const z=this.currentTime-h*(this.playbackSpeed>=0?1:-1),F=this.playbackSpeed>=0?z<0:z>i;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let $=this.currentTime,Q=r;if(y){const I=Math.min(this.currentTime,i)/c;let A=Math.floor(I),S=I%1;!S&&I>=1&&(S=1),S===1&&A--,A=Math.min(A,y+1),!!(A%2)&&(w==="reverse"?(S=1-S,E&&(S-=E/c)):w==="mirror"&&(Q=l)),$=_s(0,1,S)*c}const O=F?{done:!1,value:p[0]}:Q.next($);o&&(O.value=o(O.value));let{done:M}=O;!F&&d!==null&&(M=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return C&&N!==Sb&&(O.value=Bx(p,this.options,V,this.speed)),P&&P(O.value),C&&this.finish(),O}then(e,n){return this.finished.then(e,n)}get duration(){return vs(this.calculatedDuration)}get time(){return vs(this.currentTime)}set time(e){e=gs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Or.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=vs(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=BB,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Or.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function rF(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const el=t=>t*180/Math.PI,Tb=t=>{const e=el(Math.atan2(t[1],t[0]));return Eb(e)},iF={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Tb,rotateZ:Tb,skewX:t=>el(Math.atan(t[1])),skewY:t=>el(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Eb=t=>(t=t%360,t<0&&(t+=360),t),c2=Tb,d2=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),f2=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),sF={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:d2,scaleY:f2,scale:t=>(d2(t)+f2(t))/2,rotateX:t=>Eb(el(Math.atan2(t[6],t[5]))),rotateY:t=>Eb(el(Math.atan2(-t[2],t[0]))),rotateZ:c2,rotate:c2,skewX:t=>el(Math.atan(t[4])),skewY:t=>el(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ab(t){return t.includes("scale")?1:0}function Cb(t,e){if(!t||t==="none")return Ab(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=sF,i=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=iF,i=c}if(!i)return Ab(e);const o=r[e],l=i[1].split(",").map(oF);return typeof o=="function"?o(l):l[o]}const aF=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Cb(n,e)};function oF(t){return parseFloat(t.trim())}const rc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ic=new Set(rc),h2=t=>t===nc||t===at,lF=new Set(["x","y","z"]),uF=rc.filter(t=>!lF.has(t));function cF(t){const e=[];return uF.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const rl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Cb(e,"x"),y:(t,{transform:e})=>Cb(e,"y")};rl.translateX=rl.x;rl.translateY=rl.y;const il=new Set;let Rb=!1,Nb=!1,Ib=!1;function DM(){if(Nb){const t=Array.from(il).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=cF(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,l])=>{r.getValue(o)?.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Nb=!1,Rb=!1,il.forEach(t=>t.complete(Ib)),il.clear()}function jM(){il.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Nb=!0)})}function dF(){Ib=!0,jM(),DM(),Ib=!1}class Hx{constructor(e,n,r,i,o,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(il.add(this),Rb||(Rb=!0,Vt.read(jM),Vt.resolveKeyframes(DM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const o=i?.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const c=r.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),i&&o===void 0&&i.set(e[0])}rF(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),il.delete(this)}cancel(){this.state==="scheduled"&&(il.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const fF=t=>t.startsWith("--");function hF(t,e,n){fF(e)?t.style.setProperty(e,n):t.style[e]=n}const kM=Nx(()=>window.ScrollTimeline!==void 0),mF={};function pF(t,e){const n=Nx(t);return()=>mF[e]??n()}const LM=pF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Nd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,m2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Nd([0,.65,.55,1]),circOut:Nd([.55,0,1,.45]),backIn:Nd([.31,.01,.66,-.59]),backOut:Nd([.33,1.53,.69,.99])};function VM(t,e){if(t)return typeof t=="function"?LM()?IM(t,e):"ease-out":wM(t)?Nd(t):Array.isArray(t)?t.map(n=>VM(n,e)||m2.easeOut):m2[t]}function gF(t,e,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:l="loop",ease:c="easeOut",times:d}={},h=void 0){const p={[e]:n};d&&(p.offset=d);const y=VM(c,i);Array.isArray(y)&&(p.easing=y);const w={delay:r,duration:i,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"};return h&&(w.pseudoElement=h),t.animate(p,w)}function UM(t){return typeof t=="function"&&"applyToOptions"in t}function vF({type:t,...e}){return UM(t)&&LM()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class yF extends Fx{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:o,allowFlatten:l=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!o,this.allowFlatten=l,this.options=e,rf(typeof e.type!="string");const h=vF(e);this.animation=gF(n,r,i,h,o),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const p=Bx(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(p):hF(n,r,p),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return vs(Number(e))}get time(){return vs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=gs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&kM()?(this.animation.timeline=e,Mr):n(this)}}const zM={anticipate:vM,backInOut:gM,circInOut:bM};function bF(t){return t in zM}function wF(t){typeof t.ease=="string"&&bF(t.ease)&&(t.ease=zM[t.ease])}const p2=10;class xF extends yF{constructor(e){wF(e),PM(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:o,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const c=new _g({...l,autoplay:!1}),d=gs(this.finishedTime??this.time);n.setWithVelocity(c.sample(d-p2).value,c.sample(d).value,p2),c.stop()}}const g2=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(co.test(t)||t==="0")&&!t.startsWith("url("));function _F(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function SF(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const o=t[t.length-1],l=g2(i,e),c=g2(o,e);return!l||!c?!1:_F(t)||(n==="spring"||UM(n))&&r}const TF=new Set(["opacity","clipPath","filter","transform"]),EF=Nx(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function AF(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:o,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=e.owner.getProps();return EF()&&n&&TF.has(n)&&(n!=="transform"||!h)&&!d&&!r&&i!=="mirror"&&o!==0&&l!=="inertia"}const CF=40;class RF extends Fx{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l="loop",keyframes:c,name:d,motionValue:h,element:p,...y}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Or.now();const w={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:l,name:d,motionValue:h,element:p,...y},E=p?.KeyframeResolver||Hx;this.keyframeResolver=new E(c,(N,P,V)=>this.onKeyframesResolved(N,P,w,!V),d,h,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:o,type:l,velocity:c,delay:d,isHandoff:h,onUpdate:p}=r;this.resolvedAt=Or.now(),SF(e,o,l,c)||((ca.instantAnimations||!d)&&p?.(Bx(e,r,n)),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const w={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>CF?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},E=!h&&AF(w)?new xF({...w,element:w.motionValue.owner.current}):new _g(w);E.finished.then(()=>this.notifyFinished()).catch(Mr),this.pendingTimeline&&(this.stopTimeline=E.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=E}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),dF()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const NF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function IF(t){const e=NF.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function BM(t,e,n=1){const[r,i]=IF(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const l=o.trim();return uM(l)?parseFloat(l):l}return jx(i)?BM(i,e,n+1):i}function $x(t,e){return t?.[e]??t?.default??t}const FM=new Set(["width","height","top","left","right","bottom",...rc]),OF={test:t=>t==="auto",parse:t=>t},HM=t=>e=>e.test(t),$M=[nc,at,ys,Ha,EB,TB,OF],v2=t=>$M.find(HM(t));function MF(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||dM(t):!0}const PF=new Set(["brightness","contrast","saturate","opacity"]);function DF(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(kx)||[];if(!r)return t;const i=n.replace(r,"");let o=PF.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const jF=/\b([a-z-]*)\(.*?\)/gu,Ob={...co,getAnimatableNone:t=>{const e=t.match(jF);return e?e.map(DF).join(" "):t}},y2={...nc,transform:Math.round},kF={rotate:Ha,rotateX:Ha,rotateY:Ha,rotateZ:Ha,scale:ym,scaleX:ym,scaleY:ym,scaleZ:ym,skew:Ha,skewX:Ha,skewY:Ha,distance:at,translateX:at,translateY:at,translateZ:at,x:at,y:at,z:at,perspective:at,transformPerspective:at,opacity:sf,originX:s2,originY:s2,originZ:at},qx={borderWidth:at,borderTopWidth:at,borderRightWidth:at,borderBottomWidth:at,borderLeftWidth:at,borderRadius:at,radius:at,borderTopLeftRadius:at,borderTopRightRadius:at,borderBottomRightRadius:at,borderBottomLeftRadius:at,width:at,maxWidth:at,height:at,maxHeight:at,top:at,right:at,bottom:at,left:at,padding:at,paddingTop:at,paddingRight:at,paddingBottom:at,paddingLeft:at,margin:at,marginTop:at,marginRight:at,marginBottom:at,marginLeft:at,backgroundPositionX:at,backgroundPositionY:at,...kF,zIndex:y2,fillOpacity:sf,strokeOpacity:sf,numOctaves:y2},LF={...qx,color:Pn,backgroundColor:Pn,outlineColor:Pn,fill:Pn,stroke:Pn,borderColor:Pn,borderTopColor:Pn,borderRightColor:Pn,borderBottomColor:Pn,borderLeftColor:Pn,filter:Ob,WebkitFilter:Ob},qM=t=>LF[t];function GM(t,e){let n=qM(t);return n!==Ob&&(n=co),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const VF=new Set(["auto","none","0"]);function UF(t,e,n){let r=0,i;for(;r<t.length&&!i;){const o=t[r];typeof o=="string"&&!VF.has(o)&&af(o).values.length&&(i=t[r]),r++}if(i&&n)for(const o of e)t[o]=GM(n,i)}class zF extends Hx{constructor(e,n,r,i,o){super(e,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),jx(h))){const p=BM(h,n.current);p!==void 0&&(e[d]=p),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!FM.has(r)||e.length!==2)return;const[i,o]=e,l=v2(i),c=v2(o);if(l!==c)if(h2(l)&&h2(c))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else rl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||MF(e[i]))&&r.push(i);r.length&&UF(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=rl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,l=r[o];r[o]=rl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function KM(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const i=document.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const WM=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Gx(t){return cM(t)&&"offsetHeight"in t}const b2=30,BF=t=>!isNaN(parseFloat(t)),Bd={current:void 0};class FF{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=Or.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();i&&this.events.renderRequest?.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Or.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=BF(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Ix);const r=this.events[e].add(n);return e==="change"?()=>{r(),Vt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Bd.current&&Bd.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Or.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>b2)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,b2);return Ox(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Oi(t,e){return new FF(t,e)}const{schedule:Kx}=xM(queueMicrotask,!1),Ni={x:!1,y:!1};function YM(){return Ni.x||Ni.y}function HF(t){return t==="x"||t==="y"?Ni[t]?null:(Ni[t]=!0,()=>{Ni[t]=!1}):Ni.x||Ni.y?null:(Ni.x=Ni.y=!0,()=>{Ni.x=Ni.y=!1})}function XM(t,e){const n=KM(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function w2(t){return!(t.pointerType==="touch"||YM())}function $F(t,e,n={}){const[r,i,o]=XM(t,n),l=c=>{if(!w2(c))return;const{target:d}=c,h=e(d,c);if(typeof h!="function"||!d)return;const p=y=>{w2(y)&&(h(y),d.removeEventListener("pointerleave",p))};d.addEventListener("pointerleave",p,i)};return r.forEach(c=>{c.addEventListener("pointerenter",l,i)}),o}const QM=(t,e)=>e?t===e?!0:QM(t,e.parentElement):!1,Wx=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,qF=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function GF(t){return qF.has(t.tagName)||t.tabIndex!==-1}const $m=new WeakSet;function x2(t){return e=>{e.key==="Enter"&&t(e)}}function o0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const KF=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=x2(()=>{if($m.has(n))return;o0(n,"down");const i=x2(()=>{o0(n,"up")}),o=()=>o0(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",o,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function _2(t){return Wx(t)&&!YM()}function WF(t,e,n={}){const[r,i,o]=XM(t,n),l=c=>{const d=c.currentTarget;if(!_2(c))return;$m.add(d);const h=e(d,c),p=(E,N)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",w),$m.has(d)&&$m.delete(d),_2(E)&&typeof h=="function"&&h(E,{success:N})},y=E=>{p(E,d===window||d===document||n.useGlobalTarget||QM(d,E.target))},w=E=>{p(E,!1)};window.addEventListener("pointerup",y,i),window.addEventListener("pointercancel",w,i)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",l,i),Gx(c)&&(c.addEventListener("focus",h=>KF(h,i)),!GF(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),o}function Yx(t){return cM(t)&&"ownerSVGElement"in t}const qm=new WeakMap;let Gm;const ZM=(t,e,n)=>(r,i)=>i&&i[0]?i[0][t+"Size"]:Yx(r)&&"getBBox"in r?r.getBBox()[e]:r[n],YF=ZM("inline","width","offsetWidth"),XF=ZM("block","height","offsetHeight");function QF({target:t,borderBoxSize:e}){qm.get(t)?.forEach(n=>{n(t,{get width(){return YF(t,e)},get height(){return XF(t,e)}})})}function ZF(t){t.forEach(QF)}function JF(){typeof ResizeObserver>"u"||(Gm=new ResizeObserver(ZF))}function eH(t,e){Gm||JF();const n=KM(t);return n.forEach(r=>{let i=qm.get(r);i||(i=new Set,qm.set(r,i)),i.add(e),Gm?.observe(r)}),()=>{n.forEach(r=>{const i=qm.get(r);i?.delete(e),i?.size||Gm?.unobserve(r)})}}const Km=new Set;let gu;function tH(){gu=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};Km.forEach(e=>e(t))},window.addEventListener("resize",gu)}function nH(t){return Km.add(t),gu||tH(),()=>{Km.delete(t),!Km.size&&typeof gu=="function"&&(window.removeEventListener("resize",gu),gu=void 0)}}function rH(t,e){return typeof t=="function"?nH(t):eH(t,e)}function JM(t,e){let n;const r=()=>{const{currentTime:i}=e,l=(i===null?0:i.value)/100;n!==l&&t(l),n=l};return Vt.preUpdate(r,!0),()=>_i(r)}function iH(t){return Yx(t)&&t.tagName==="svg"}function sH(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],o=t[2+n],l=t[3+n],c=zx(i,o,l);return e?c(r):c}const Qn=t=>!!(t&&t.getVelocity);function aH(t,e,n){const r=t.get();let i=null,o=r,l;const c=typeof r=="string"?r.replace(/[\d.-]/g,""):void 0,d=()=>{i&&(i.stop(),i=null)},h=()=>{d(),i=new _g({keyframes:[T2(t.get()),T2(o)],velocity:t.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:l})};t.attach((y,w)=>(o=y,l=E=>w(S2(E,c)),Vt.postRender(h),t.get()),d);let p;return Qn(e)&&(p=e.on("change",y=>t.set(S2(y,c))),t.on("destroy",p)),p}function S2(t,e){return e?t+e:t}function T2(t){return typeof t=="number"?t:parseFloat(t)}const oH=[...$M,Pn,co],lH=t=>oH.find(HM(t)),sc=R.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class uH extends R.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=Gx(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function cH({children:t,isPresent:e,anchorX:n,root:r}){const i=R.useId(),o=R.useRef(null),l=R.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=R.useContext(sc);return R.useInsertionEffect(()=>{const{width:d,height:h,top:p,left:y,right:w}=l.current;if(e||!o.current||!d||!h)return;const E=n==="left"?`left: ${y}`:`right: ${w}`;o.current.dataset.motionPopId=i;const N=document.createElement("style");c&&(N.nonce=c);const P=r??document.head;return P.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${h}px !important;
            ${E}px !important;
            top: ${p}px !important;
          }
        `),()=>{P.removeChild(N),P.contains(N)&&P.removeChild(N)}},[e]),g.jsx(uH,{isPresent:e,childRef:o,sizeRef:l,children:R.cloneElement(t,{ref:o})})}const dH=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:l,anchorX:c,root:d})=>{const h=xl(fH),p=R.useId();let y=!0,w=R.useMemo(()=>(y=!1,{id:p,initial:e,isPresent:n,custom:i,onExitComplete:E=>{h.set(E,!0);for(const N of h.values())if(!N)return;r&&r()},register:E=>(h.set(E,!1),()=>h.delete(E))}),[n,h,r]);return o&&y&&(w={...w}),R.useMemo(()=>{h.forEach((E,N)=>h.set(N,!1))},[n]),R.useEffect(()=>{!n&&!h.size&&r&&r()},[n]),l==="popLayout"&&(t=g.jsx(cH,{isPresent:n,anchorX:c,root:d,children:t})),g.jsx(xg.Provider,{value:w,children:t})};function fH(){return new Map}function eP(t=!0){const e=R.useContext(xg);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,o=R.useId();R.useEffect(()=>{if(t)return i(o)},[t]);const l=R.useCallback(()=>t&&r&&r(o),[o,r,t]);return!n&&r?[!1,l]:[!0]}const bm=t=>t.key||"";function E2(t){const e=[];return R.Children.forEach(t,n=>{R.isValidElement(n)&&e.push(n)}),e}const yn=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:l=!1,anchorX:c="left",root:d})=>{const[h,p]=eP(l),y=R.useMemo(()=>E2(t),[t]),w=l&&!h?[]:y.map(bm),E=R.useRef(!0),N=R.useRef(y),P=xl(()=>new Map),[V,z]=R.useState(y),[F,$]=R.useState(y);Vf(()=>{E.current=!1,N.current=y;for(let M=0;M<F.length;M++){const C=bm(F[M]);w.includes(C)?P.delete(C):P.get(C)!==!0&&P.set(C,!1)}},[F,w.length,w.join("-")]);const Q=[];if(y!==V){let M=[...y];for(let C=0;C<F.length;C++){const I=F[C],A=bm(I);w.includes(A)||(M.splice(C,0,I),Q.push(I))}return o==="wait"&&Q.length&&(M=Q),$(E2(M)),z(y),null}const{forceRender:O}=R.useContext(Ex);return g.jsx(g.Fragment,{children:F.map(M=>{const C=bm(M),I=l&&!h?!1:y===F||w.includes(C),A=()=>{if(P.has(C))P.set(C,!0);else return;let S=!0;P.forEach(k=>{k||(S=!1)}),S&&(O?.(),$(N.current),l&&p?.(),r&&r())};return g.jsx(dH,{isPresent:I,initial:!E.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:o,root:d,onExitComplete:I?void 0:A,anchorX:c,children:M},C)})})},tP=R.createContext({strict:!1}),A2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wu={};for(const t in A2)Wu[t]={isEnabled:e=>A2[t].some(n=>!!e[n])};function hH(t){for(const e in t)Wu[e]={...Wu[e],...t[e]}}const mH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Mp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||mH.has(t)}let nP=t=>!Mp(t);function pH(t){typeof t=="function"&&(nP=e=>e.startsWith("on")?!Mp(e):t(e))}try{pH(require("@emotion/is-prop-valid").default)}catch{}function gH(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(nP(i)||n===!0&&Mp(i)||!e&&!Mp(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function vH(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Sg=R.createContext({});function Tg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function of(t){return typeof t=="string"||Array.isArray(t)}const Xx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Qx=["initial",...Xx];function Eg(t){return Tg(t.animate)||Qx.some(e=>of(t[e]))}function rP(t){return!!(Eg(t)||t.variants)}function yH(t,e){if(Eg(t)){const{initial:n,animate:r}=t;return{initial:n===!1||of(n)?n:void 0,animate:of(r)?r:void 0}}return t.inherit!==!1?e:{}}function bH(t){const{initial:e,animate:n}=yH(t,R.useContext(Sg));return R.useMemo(()=>({initial:e,animate:n}),[C2(e),C2(n)])}function C2(t){return Array.isArray(t)?t.join(" "):t}const wH=Symbol.for("motionComponentSymbol");function vu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function xH(t,e,n){return R.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):vu(n)&&(n.current=r))},[e])}const Zx=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),_H="framerAppearId",iP="data-"+Zx(_H),sP=R.createContext({});function SH(t,e,n,r,i){const{visualElement:o}=R.useContext(Sg),l=R.useContext(tP),c=R.useContext(xg),d=R.useContext(sc).reducedMotion,h=R.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:o,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const p=h.current,y=R.useContext(sP);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&TH(h.current,n,i,y);const w=R.useRef(!1);R.useInsertionEffect(()=>{p&&w.current&&p.update(n,c)});const E=n[iP],N=R.useRef(!!E&&!window.MotionHandoffIsComplete?.(E)&&window.MotionHasOptimisedAnimation?.(E));return Vf(()=>{p&&(w.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),Kx.render(p.render),N.current&&p.animationState&&p.animationState.animateChanges())}),R.useEffect(()=>{p&&(!N.current&&p.animationState&&p.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(E)}),N.current=!1))}),p}function TH(t,e,n,r){const{layoutId:i,layout:o,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:h,layoutCrossfade:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:aP(t.parent)),t.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!l||c&&vu(c),visualElement:t,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:d,layoutRoot:h})}function aP(t){if(t)return t.options.allowProjection!==!1?t.projection:aP(t.parent)}function EH({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&hH(t);function o(c,d){let h;const p={...R.useContext(sc),...c,layoutId:AH(c)},{isStatic:y}=p,w=bH(c),E=r(c,y);if(!y&&Ax){CH();const N=RH(p);h=N.MeasureLayout,w.visualElement=SH(i,E,p,e,N.ProjectionNode)}return g.jsxs(Sg.Provider,{value:w,children:[h&&w.visualElement?g.jsx(h,{visualElement:w.visualElement,...p}):null,n(i,c,xH(E,w.visualElement,d),E,y,w.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const l=R.forwardRef(o);return l[wH]=i,l}function AH({layoutId:t}){const e=R.useContext(Ex).id;return e&&t!==void 0?e+"-"+t:t}function CH(t,e){R.useContext(tP).strict}function RH(t){const{drag:e,layout:n}=Wu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const lf={};function NH(t){for(const e in t)lf[e]=t[e],Dx(e)&&(lf[e].isCSSVariable=!0)}function oP(t,{layout:e,layoutId:n}){return ic.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!lf[t]||t==="opacity")}const IH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},OH=rc.length;function MH(t,e,n){let r="",i=!0;for(let o=0;o<OH;o++){const l=rc[o],c=t[l];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(l.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||n){const h=WM(c,qx[l]);if(!d){i=!1;const p=IH[l]||l;r+=`${p}(${h}) `}n&&(e[l]=h)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function Jx(t,e,n){const{style:r,vars:i,transformOrigin:o}=t;let l=!1,c=!1;for(const d in e){const h=e[d];if(ic.has(d)){l=!0;continue}else if(Dx(d)){i[d]=h;continue}else{const p=WM(h,qx[d]);d.startsWith("origin")?(c=!0,o[d]=p):r[d]=p}}if(e.transform||(l||n?r.transform=MH(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:p=0}=o;r.transformOrigin=`${d} ${h} ${p}`}}const e_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function lP(t,e,n){for(const r in e)!Qn(e[r])&&!oP(r,n)&&(t[r]=e[r])}function PH({transformTemplate:t},e){return R.useMemo(()=>{const n=e_();return Jx(n,e,t),Object.assign({},n.vars,n.style)},[e])}function DH(t,e){const n=t.style||{},r={};return lP(r,n,t),Object.assign(r,PH(t,e)),r}function jH(t,e){const n={},r=DH(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const kH={offset:"stroke-dashoffset",array:"stroke-dasharray"},LH={offset:"strokeDashoffset",array:"strokeDasharray"};function VH(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?kH:LH;t[o.offset]=at.transform(-r);const l=at.transform(e),c=at.transform(n);t[o.array]=`${l} ${c}`}function uP(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:o=1,pathOffset:l=0,...c},d,h,p){if(Jx(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:w}=t;y.transform&&(w.transform=y.transform,delete y.transform),(w.transform||y.transformOrigin)&&(w.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),w.transform&&(w.transformBox=p?.transformBox??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),i!==void 0&&VH(y,i,o,l,!1)}const cP=()=>({...e_(),attrs:{}}),dP=t=>typeof t=="string"&&t.toLowerCase()==="svg";function UH(t,e,n,r){const i=R.useMemo(()=>{const o=cP();return uP(o,e,dP(r),t.transformTemplate,t.style),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};lP(o,t.style,t),i.style={...o,...i.style}}return i}const zH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function t_(t){return typeof t!="string"||t.includes("-")?!1:!!(zH.indexOf(t)>-1||/[A-Z]/u.test(t))}function BH(t=!1){return(n,r,i,{latestValues:o},l)=>{const d=(t_(n)?UH:jH)(r,o,l,n),h=gH(r,typeof n=="string",t),p=n!==R.Fragment?{...h,...d,ref:i}:{},{children:y}=r,w=R.useMemo(()=>Qn(y)?y.get():y,[y]);return R.createElement(n,{...p,children:w})}}function R2(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function n_(t,e,n,r){if(typeof e=="function"){const[i,o]=R2(r);e=e(n!==void 0?n:t.custom,i,o)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,o]=R2(r);e=e(n!==void 0?n:t.custom,i,o)}return e}function Wm(t){return Qn(t)?t.get():t}function FH({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:HH(n,r,i,t),renderState:e()}}const fP=t=>(e,n)=>{const r=R.useContext(Sg),i=R.useContext(xg),o=()=>FH(t,e,r,i);return n?o():xl(o)};function HH(t,e,n,r){const i={},o=r(t,{});for(const w in o)i[w]=Wm(o[w]);let{initial:l,animate:c}=t;const d=Eg(t),h=rP(t);e&&h&&!d&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const y=p?c:l;if(y&&typeof y!="boolean"&&!Tg(y)){const w=Array.isArray(y)?y:[y];for(let E=0;E<w.length;E++){const N=n_(t,w[E]);if(N){const{transitionEnd:P,transition:V,...z}=N;for(const F in z){let $=z[F];if(Array.isArray($)){const Q=p?$.length-1:0;$=$[Q]}$!==null&&(i[F]=$)}for(const F in P)i[F]=P[F]}}}return i}function r_(t,e,n){const{style:r}=t,i={};for(const o in r)(Qn(r[o])||e.style&&Qn(e.style[o])||oP(o,t)||n?.getValue(o)?.liveStyle!==void 0)&&(i[o]=r[o]);return i}const $H={useVisualState:fP({scrapeMotionValuesFromProps:r_,createRenderState:e_})};function hP(t,e,n){const r=r_(t,e,n);for(const i in t)if(Qn(t[i])||Qn(e[i])){const o=rc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=t[i]}return r}const qH={useVisualState:fP({scrapeMotionValuesFromProps:hP,createRenderState:cP})};function GH(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...t_(r)?qH:$H,preloadedFeatures:t,useRender:BH(i),createVisualElement:e,Component:r};return EH(l)}}function uf(t,e,n){const r=t.getProps();return n_(r,e,n!==void 0?n:r.custom,t)}const Mb=t=>Array.isArray(t);function KH(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Oi(n))}function WH(t){return Mb(t)?t[t.length-1]||0:t}function i_(t,e){const n=uf(t,e);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const l in o){const c=WH(o[l]);KH(t,l,c)}}function YH(t){return!!(Qn(t)&&t.add)}function Pb(t,e){const n=t.getValue("willChange");if(YH(n))return n.add(e);if(!n&&ca.WillChange){const r=new ca.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function mP(t){return t.props[iP]}const XH=t=>t!==null;function QH(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(XH),o=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[o]}const ZH={type:"spring",stiffness:500,damping:25,restSpeed:10},JH=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),e$={type:"keyframes",duration:.8},t$={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},n$=(t,{keyframes:e})=>e.length>2?e$:ic.has(t)?t.startsWith("scale")?JH(e[1]):ZH:t$;function r$({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:l,repeatDelay:c,from:d,elapsed:h,...p}){return!!Object.keys(p).length}const s_=(t,e,n,r={},i,o)=>l=>{const c=$x(r,t)||{},d=c.delay||r.delay||0;let{elapsed:h=0}=r;h=h-gs(d);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:w=>{e.set(w),c.onUpdate&&c.onUpdate(w)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:o?void 0:i};r$(c)||Object.assign(p,n$(t,p)),p.duration&&(p.duration=gs(p.duration)),p.repeatDelay&&(p.repeatDelay=gs(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let y=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(y=!0)),(ca.instantAnimations||ca.skipAnimations)&&(y=!0,p.duration=0,p.delay=0),p.allowFlatten=!c.type&&!c.ease,y&&!o&&e.get()!==void 0){const w=QH(p.keyframes,c);if(w!==void 0){Vt.update(()=>{p.onUpdate(w),p.onComplete()});return}}return c.isSync?new _g(p):new RF(p)};function i$({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function pP(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(o=r);const d=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const p in c){const y=t.getValue(p,t.latestValues[p]??null),w=c[p];if(w===void 0||h&&i$(h,p))continue;const E={delay:n,...$x(o||{},p)},N=y.get();if(N!==void 0&&!y.isAnimating&&!Array.isArray(w)&&w===N&&!E.velocity)continue;let P=!1;if(window.MotionHandoffAnimation){const z=mP(t);if(z){const F=window.MotionHandoffAnimation(z,p,Vt);F!==null&&(E.startTime=F,P=!0)}}Pb(t,p),y.start(s_(p,y,w,t.shouldReduceMotion&&FM.has(p)?{type:!1}:E,t,P));const V=y.animation;V&&d.push(V)}return l&&Promise.all(d).then(()=>{Vt.update(()=>{l&&i_(t,l)})}),d}function Db(t,e,n={}){const r=uf(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(pP(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:p,staggerDirection:y}=i;return s$(t,e,d,h,p,y,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[d,h]=c==="beforeChildren"?[o,l]:[l,o];return d().then(()=>h())}else return Promise.all([o(),l(n.delay)])}function s$(t,e,n=0,r=0,i=0,o=1,l){const c=[],d=t.variantChildren.size,h=(d-1)*i,p=typeof r=="function",y=p?w=>r(w,d):o===1?(w=0)=>w*i:(w=0)=>h-w*i;return Array.from(t.variantChildren).sort(a$).forEach((w,E)=>{w.notify("AnimationStart",e),c.push(Db(w,e,{...l,delay:n+(p?0:r)+y(E)}).then(()=>w.notify("AnimationComplete",e)))}),Promise.all(c)}function a$(t,e){return t.sortNodePosition(e)}function gP(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>Db(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=Db(t,e,n);else{const i=typeof e=="function"?uf(t,e,n.custom):e;r=Promise.all(pP(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function vP(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const o$=Qx.length;function yP(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?yP(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<o$;n++){const r=Qx[n],i=t.props[r];(of(i)||i===!1)&&(e[r]=i)}return e}const l$=[...Xx].reverse(),u$=Xx.length;function c$(t){return e=>Promise.all(e.map(({animation:n,options:r})=>gP(t,n,r)))}function d$(t){let e=c$(t),n=N2(),r=!0;const i=d=>(h,p)=>{const y=uf(t,p,d==="exit"?t.presenceContext?.custom:void 0);if(y){const{transition:w,transitionEnd:E,...N}=y;h={...h,...N,...E}}return h};function o(d){e=d(t)}function l(d){const{props:h}=t,p=yP(t.parent)||{},y=[],w=new Set;let E={},N=1/0;for(let V=0;V<u$;V++){const z=l$[V],F=n[z],$=h[z]!==void 0?h[z]:p[z],Q=of($),O=z===d?F.isActive:null;O===!1&&(N=V);let M=$===p[z]&&$!==h[z]&&Q;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),F.protectedKeys={...E},!F.isActive&&O===null||!$&&!F.prevProp||Tg($)||typeof $=="boolean")continue;const C=f$(F.prevProp,$);let I=C||z===d&&F.isActive&&!M&&Q||V>N&&Q,A=!1;const S=Array.isArray($)?$:[$];let k=S.reduce(i(z),{});O===!1&&(k={});const{prevResolvedValues:H={}}=F,j={...H,...k},K=T=>{I=!0,w.has(T)&&(A=!0,w.delete(T)),F.needsAnimating[T]=!0;const J=t.getValue(T);J&&(J.liveStyle=!1)};for(const T in j){const J=k[T],W=H[T];if(E.hasOwnProperty(T))continue;let x=!1;Mb(J)&&Mb(W)?x=!vP(J,W):x=J!==W,x?J!=null?K(T):w.add(T):J!==void 0&&w.has(T)?K(T):F.protectedKeys[T]=!0}F.prevProp=$,F.prevResolvedValues=k,F.isActive&&(E={...E,...k}),r&&t.blockInitialAnimation&&(I=!1),I&&(!(M&&C)||A)&&y.push(...S.map(T=>({animation:T,options:{type:z}})))}if(w.size){const V={};if(typeof h.initial!="boolean"){const z=uf(t,Array.isArray(h.initial)?h.initial[0]:h.initial);z&&z.transition&&(V.transition=z.transition)}w.forEach(z=>{const F=t.getBaseTarget(z),$=t.getValue(z);$&&($.liveStyle=!0),V[z]=F??null}),y.push({animation:V})}let P=!!y.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(P=!1),r=!1,P?e(y):Promise.resolve()}function c(d,h){if(n[d].isActive===h)return Promise.resolve();t.variantChildren?.forEach(y=>y.animationState?.setActive(d,h)),n[d].isActive=h;const p=l(d);for(const y in n)n[y].protectedKeys={};return p}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>n,reset:()=>{n=N2(),r=!0}}}function f$(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!vP(e,t):!1}function $o(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function N2(){return{animate:$o(!0),whileInView:$o(),whileHover:$o(),whileTap:$o(),whileDrag:$o(),whileFocus:$o(),exit:$o()}}class go{constructor(e){this.isMounted=!1,this.node=e}update(){}}class h$ extends go{constructor(e){super(e),e.animationState||(e.animationState=d$(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Tg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let m$=0;class p$ extends go{constructor(){super(...arguments),this.id=m$++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const g$={animation:{Feature:h$},exit:{Feature:p$}};function cf(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ff(t){return{point:{x:t.pageX,y:t.pageY}}}const v$=t=>e=>Wx(e)&&t(e,Ff(e));function Fd(t,e,n,r){return cf(t,e,v$(n),r)}function bP({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function y$({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function b$(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const wP=1e-4,w$=1-wP,x$=1+wP,xP=.01,_$=0-xP,S$=0+xP;function Sr(t){return t.max-t.min}function T$(t,e,n){return Math.abs(t-e)<=n}function I2(t,e,n,r=.5){t.origin=r,t.originPoint=dn(e.min,e.max,t.origin),t.scale=Sr(n)/Sr(e),t.translate=dn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=w$&&t.scale<=x$||isNaN(t.scale))&&(t.scale=1),(t.translate>=_$&&t.translate<=S$||isNaN(t.translate))&&(t.translate=0)}function Hd(t,e,n,r){I2(t.x,e.x,n.x,r?r.originX:void 0),I2(t.y,e.y,n.y,r?r.originY:void 0)}function O2(t,e,n){t.min=n.min+e.min,t.max=t.min+Sr(e)}function E$(t,e,n){O2(t.x,e.x,n.x),O2(t.y,e.y,n.y)}function M2(t,e,n){t.min=e.min-n.min,t.max=t.min+Sr(e)}function $d(t,e,n){M2(t.x,e.x,n.x),M2(t.y,e.y,n.y)}const P2=()=>({translate:0,scale:1,origin:0,originPoint:0}),yu=()=>({x:P2(),y:P2()}),D2=()=>({min:0,max:0}),Tn=()=>({x:D2(),y:D2()});function gi(t){return[t("x"),t("y")]}function l0(t){return t===void 0||t===1}function jb({scale:t,scaleX:e,scaleY:n}){return!l0(t)||!l0(e)||!l0(n)}function Yo(t){return jb(t)||_P(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function _P(t){return j2(t.x)||j2(t.y)}function j2(t){return t&&t!=="0%"}function Pp(t,e,n){const r=t-n,i=e*r;return n+i}function k2(t,e,n,r,i){return i!==void 0&&(t=Pp(t,i,r)),Pp(t,n,r)+e}function kb(t,e=0,n=1,r,i){t.min=k2(t.min,e,n,r,i),t.max=k2(t.max,e,n,r,i)}function SP(t,{x:e,y:n}){kb(t.x,e.translate,e.scale,e.originPoint),kb(t.y,n.translate,n.scale,n.originPoint)}const L2=.999999999999,V2=1.0000000000001;function A$(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,l;for(let c=0;c<i;c++){o=n[c],l=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&wu(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,SP(t,l)),r&&Yo(o.latestValues)&&wu(t,o.latestValues))}e.x<V2&&e.x>L2&&(e.x=1),e.y<V2&&e.y>L2&&(e.y=1)}function bu(t,e){t.min=t.min+e,t.max=t.max+e}function U2(t,e,n,r,i=.5){const o=dn(t.min,t.max,i);kb(t,e,n,o,r)}function wu(t,e){U2(t.x,e.x,e.scaleX,e.scale,e.originX),U2(t.y,e.y,e.scaleY,e.scale,e.originY)}function TP(t,e){return bP(b$(t.getBoundingClientRect(),e))}function C$(t,e,n){const r=TP(t,n),{scroll:i}=e;return i&&(bu(r.x,i.offset.x),bu(r.y,i.offset.y)),r}const EP=({current:t})=>t?t.ownerDocument.defaultView:null,z2=(t,e)=>Math.abs(t-e);function R$(t,e){const n=z2(t.x,e.x),r=z2(t.y,e.y);return Math.sqrt(n**2+r**2)}class AP{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=c0(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,N=R$(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!E&&!N)return;const{point:P}=w,{timestamp:V}=Wn;this.history.push({...P,timestamp:V});const{onStart:z,onMove:F}=this.handlers;E||(z&&z(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,w)},this.handlePointerMove=(w,E)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=u0(E,this.transformPagePoint),Vt.update(this.updatePoint,!0)},this.handlePointerUp=(w,E)=>{this.end();const{onEnd:N,onSessionEnd:P,resumeAnimation:V}=this.handlers;if(this.dragSnapToOrigin&&V&&V(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const z=c0(w.type==="pointercancel"?this.lastMoveEventInfo:u0(E,this.transformPagePoint),this.history);this.startEvent&&N&&N(w,z),P&&P(w,z)},!Wx(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=i||window;const c=Ff(e),d=u0(c,this.transformPagePoint),{point:h}=d,{timestamp:p}=Wn;this.history=[{...h,timestamp:p}];const{onSessionStart:y}=n;y&&y(e,c0(d,this.history)),this.removeListeners=Uf(Fd(this.contextWindow,"pointermove",this.handlePointerMove),Fd(this.contextWindow,"pointerup",this.handlePointerUp),Fd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),_i(this.updatePoint)}}function u0(t,e){return e?{point:e(t.point)}:t}function B2(t,e){return{x:t.x-e.x,y:t.y-e.y}}function c0({point:t},e){return{point:t,delta:B2(t,CP(e)),offset:B2(t,N$(e)),velocity:I$(e,.1)}}function N$(t){return t[0]}function CP(t){return t[t.length-1]}function I$(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=CP(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>gs(e)));)n--;if(!r)return{x:0,y:0};const o=vs(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const l={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function O$(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?dn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?dn(n,t,r.max):Math.min(t,n)),t}function F2(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function M$(t,{top:e,left:n,bottom:r,right:i}){return{x:F2(t.x,n,i),y:F2(t.y,e,r)}}function H2(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function P$(t,e){return{x:H2(t.x,e.x),y:H2(t.y,e.y)}}function D$(t,e){let n=.5;const r=Sr(t),i=Sr(e);return i>r?n=Ku(e.min,e.max-r,t.min):r>i&&(n=Ku(t.min,t.max-i,e.min)),_s(0,1,n)}function j$(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Lb=.35;function k$(t=Lb){return t===!1?t=0:t===!0&&(t=Lb),{x:$2(t,"left","right"),y:$2(t,"top","bottom")}}function $2(t,e,n){return{min:q2(t,e),max:q2(t,n)}}function q2(t,e){return typeof t=="number"?t:t[e]||0}const L$=new WeakMap;class V${constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Tn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=y=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ff(y).point)},l=(y,w)=>{const{drag:E,dragPropagation:N,onDragStart:P}=this.getProps();if(E&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=HF(E),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),gi(z=>{let F=this.getAxisMotionValue(z).get()||0;if(ys.test(F)){const{projection:$}=this.visualElement;if($&&$.layout){const Q=$.layout.layoutBox[z];Q&&(F=Sr(Q)*(parseFloat(F)/100))}}this.originPoint[z]=F}),P&&Vt.postRender(()=>P(y,w)),Pb(this.visualElement,"transform");const{animationState:V}=this.visualElement;V&&V.setActive("whileDrag",!0)},c=(y,w)=>{this.latestPointerEvent=y,this.latestPanInfo=w;const{dragPropagation:E,dragDirectionLock:N,onDirectionLock:P,onDrag:V}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:z}=w;if(N&&this.currentDirection===null){this.currentDirection=U$(z),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",w.point,z),this.updateAxis("y",w.point,z),this.visualElement.render(),V&&V(y,w)},d=(y,w)=>{this.latestPointerEvent=y,this.latestPanInfo=w,this.stop(y,w),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>gi(y=>this.getAnimationState(y)==="paused"&&this.getAxisMotionValue(y).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new AP(e,{onSessionStart:o,onStart:l,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:r,contextWindow:EP(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!r)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&Vt.postRender(()=>c(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!wm(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=O$(l,this.constraints[e],this.elastic[e])),o.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&vu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=M$(r.layoutBox,e):this.constraints=!1,this.elastic=k$(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&gi(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=j$(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!vu(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=C$(r,i.root,this.visualElement.getTransformPagePoint());let l=P$(i.layout.layoutBox,o);if(n){const c=n(y$(l));this.hasMutatedConstraints=!!c,c&&(l=bP(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},h=gi(p=>{if(!wm(p,n,this.currentDirection))return;let y=d&&d[p]||{};l&&(y={min:0,max:0});const w=i?200:1e6,E=i?40:1e7,N={type:"inertia",velocity:r?e[p]:0,bounceStiffness:w,bounceDamping:E,timeConstant:750,restDelta:1,restSpeed:10,...o,...y};return this.startAxisValueAnimation(p,N)});return Promise.all(h).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Pb(this.visualElement,e),r.start(s_(e,r,0,n,this.visualElement,!1))}stopAnimation(){gi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){gi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){gi(n=>{const{drag:r}=this.getProps();if(!wm(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[n];o.set(e[n]-dn(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!vu(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};gi(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();i[l]=D$({min:d,max:d},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),gi(l=>{if(!wm(l,e,null))return;const c=this.getAxisMotionValue(l),{min:d,max:h}=this.constraints[l];c.set(dn(d,h,i[l]))})}addListeners(){if(!this.visualElement.current)return;L$.set(this.visualElement,this);const e=this.visualElement.current,n=Fd(e,"pointerdown",d=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();vu(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Vt.read(r);const l=cf(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(gi(p=>{const y=this.getAxisMotionValue(p);y&&(this.originPoint[p]+=d[p].translate,y.set(y.get()+d[p].translate))}),this.visualElement.render())});return()=>{l(),n(),o(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:l=Lb,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function wm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function U$(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class z$ extends go{constructor(e){super(e),this.removeGroupControls=Mr,this.removeListeners=Mr,this.controls=new V$(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Mr}unmount(){this.removeGroupControls(),this.removeListeners()}}const G2=t=>(e,n)=>{t&&Vt.postRender(()=>t(e,n))};class B$ extends go{constructor(){super(...arguments),this.removePointerDownListener=Mr}onPointerDown(e){this.session=new AP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:EP(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:G2(e),onStart:G2(n),onMove:r,onEnd:(o,l)=>{delete this.session,i&&Vt.postRender(()=>i(o,l))}}}mount(){this.removePointerDownListener=Fd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ym={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function K2(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const dd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(at.test(t))t=parseFloat(t);else return t;const n=K2(t,e.target.x),r=K2(t,e.target.y);return`${n}% ${r}%`}},F$={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=co.parse(t);if(i.length>5)return r;const o=co.createTransformer(t),l=typeof i[0]!="number"?1:0,c=n.x.scale*e.x,d=n.y.scale*e.y;i[0+l]/=c,i[1+l]/=d;const h=dn(c,d,.5);return typeof i[2+l]=="number"&&(i[2+l]/=h),typeof i[3+l]=="number"&&(i[3+l]/=h),o(i)}};let W2=!1;class H$ extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;NH($$),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),W2&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Ym.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,{projection:l}=r;return l&&(l.isPresent=o,W2=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==o?l.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?l.promote():l.relegate()||Vt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Kx.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function RP(t){const[e,n]=eP(),r=R.useContext(Ex);return g.jsx(H$,{...t,layoutGroup:r,switchLayoutGroup:R.useContext(sP),isPresent:e,safeToRemove:n})}const $$={borderRadius:{...dd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:dd,borderTopRightRadius:dd,borderBottomLeftRadius:dd,borderBottomRightRadius:dd,boxShadow:F$};function q$(t,e,n){const r=Qn(t)?t:Oi(t);return r.start(s_("",r,e,n)),r.animation}const G$=(t,e)=>t.depth-e.depth;class K${constructor(){this.children=[],this.isDirty=!1}add(e){Cx(this.children,e),this.isDirty=!0}remove(e){Rx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(G$),this.isDirty=!1,this.children.forEach(e)}}function W$(t,e){const n=Or.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(_i(r),t(o-e))};return Vt.setup(r,!0),()=>_i(r)}const NP=["TopLeft","TopRight","BottomLeft","BottomRight"],Y$=NP.length,Y2=t=>typeof t=="string"?parseFloat(t):t,X2=t=>typeof t=="number"||at.test(t);function X$(t,e,n,r,i,o){i?(t.opacity=dn(0,n.opacity??1,Q$(r)),t.opacityExit=dn(e.opacity??1,0,Z$(r))):o&&(t.opacity=dn(e.opacity??1,n.opacity??1,r));for(let l=0;l<Y$;l++){const c=`border${NP[l]}Radius`;let d=Q2(e,c),h=Q2(n,c);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||X2(d)===X2(h)?(t[c]=Math.max(dn(Y2(d),Y2(h),r),0),(ys.test(h)||ys.test(d))&&(t[c]+="%")):t[c]=h}(e.rotate||n.rotate)&&(t.rotate=dn(e.rotate||0,n.rotate||0,r))}function Q2(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Q$=IP(0,.5,yM),Z$=IP(.5,.95,Mr);function IP(t,e,n){return r=>r<t?0:r>e?1:n(Ku(t,e,r))}function Z2(t,e){t.min=e.min,t.max=e.max}function pi(t,e){Z2(t.x,e.x),Z2(t.y,e.y)}function J2(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function eC(t,e,n,r,i){return t-=e,t=Pp(t,1/n,r),i!==void 0&&(t=Pp(t,1/i,r)),t}function J$(t,e=0,n=1,r=.5,i,o=t,l=t){if(ys.test(e)&&(e=parseFloat(e),e=dn(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=dn(o.min,o.max,r);t===o&&(c-=e),t.min=eC(t.min,e,n,c,i),t.max=eC(t.max,e,n,c,i)}function tC(t,e,[n,r,i],o,l){J$(t,e[n],e[r],e[i],e.scale,o,l)}const eq=["x","scaleX","originX"],tq=["y","scaleY","originY"];function nC(t,e,n,r){tC(t.x,e,eq,n?n.x:void 0,r?r.x:void 0),tC(t.y,e,tq,n?n.y:void 0,r?r.y:void 0)}function rC(t){return t.translate===0&&t.scale===1}function OP(t){return rC(t.x)&&rC(t.y)}function iC(t,e){return t.min===e.min&&t.max===e.max}function nq(t,e){return iC(t.x,e.x)&&iC(t.y,e.y)}function sC(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function MP(t,e){return sC(t.x,e.x)&&sC(t.y,e.y)}function aC(t){return Sr(t.x)/Sr(t.y)}function oC(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class rq{constructor(){this.members=[]}add(e){Cx(this.members,e),e.scheduleRender()}remove(e){if(Rx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function iq(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y,l=n?.z||0;if((i||o||l)&&(r=`translate3d(${i}px, ${o}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:p,rotateX:y,rotateY:w,skewX:E,skewY:N}=n;h&&(r=`perspective(${h}px) ${r}`),p&&(r+=`rotate(${p}deg) `),y&&(r+=`rotateX(${y}deg) `),w&&(r+=`rotateY(${w}deg) `),E&&(r+=`skewX(${E}deg) `),N&&(r+=`skewY(${N}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(r+=`scale(${c}, ${d})`),r||"none"}const d0=["","X","Y","Z"],sq=1e3;let aq=0;function f0(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function PP(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=mP(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Vt,!(i||o))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&PP(r)}function DP({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},c=e?.()){this.id=aq++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(uq),this.nodes.forEach(hq),this.nodes.forEach(mq),this.nodes.forEach(cq)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new K$)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Ix),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=Yx(l)&&!iH(l),this.instance=l;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),t){let p,y=0;const w=()=>this.root.updateBlockedByResize=!1;Vt.read(()=>{y=window.innerWidth}),t(l,()=>{const E=window.innerWidth;E!==y&&(y=E,this.root.updateBlockedByResize=!0,p&&p(),p=W$(w,250),Ym.hasAnimatedSinceResize&&(Ym.hasAnimatedSinceResize=!1,this.nodes.forEach(cC)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:y,hasRelativeLayoutChanged:w,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||h.getDefaultTransition()||bq,{onLayoutAnimationStart:P,onLayoutAnimationComplete:V}=h.getProps(),z=!this.targetLayout||!MP(this.targetLayout,E),F=!y&&w;if(this.options.layoutRoot||this.resumeFrom||F||y&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const $={...$x(N,"layout"),onPlay:P,onComplete:V};(h.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($),this.setAnimationOrigin(p,F)}else y||cC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),_i(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pq),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&PP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const y=this.path[p];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(lC);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(uC);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(fq),this.nodes.forEach(oq),this.nodes.forEach(lq)):this.nodes.forEach(uC),this.clearAllSnapshots();const c=Or.now();Wn.delta=_s(0,1e3/60,c-Wn.timestamp),Wn.timestamp=c,Wn.isProcessing=!0,n0.update.process(Wn),n0.preRender.process(Wn),n0.render.process(Wn),Wn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Kx.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(dq),this.sharedNodes.forEach(gq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Vt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Vt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Sr(this.snapshot.measuredBox.x)&&!Sr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Tn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!OP(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;l&&this.instance&&(c||Yo(this.latestValues)||p)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),wq(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Tn();const c=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(xq))){const{scroll:h}=this.root;h&&(bu(c.x,h.offset.x),bu(c.y,h.offset.y))}return c}removeElementScroll(l){const c=Tn();if(pi(c,l),this.scroll?.wasRoot)return c;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:p,options:y}=h;h!==this.root&&p&&y.layoutScroll&&(p.wasRoot&&pi(c,l),bu(c.x,p.offset.x),bu(c.y,p.offset.y))}return c}applyTransform(l,c=!1){const d=Tn();pi(d,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];!c&&p.options.layoutScroll&&p.scroll&&p!==p.root&&wu(d,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Yo(p.latestValues)&&wu(d,p.latestValues)}return Yo(this.latestValues)&&wu(d,this.latestValues),d}removeTransform(l){const c=Tn();pi(c,l);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!Yo(h.latestValues))continue;jb(h.latestValues)&&h.updateSnapshot();const p=Tn(),y=h.measurePageBox();pi(p,y),nC(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return Yo(this.latestValues)&&nC(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:y}=this.options;if(!(!this.layout||!(p||y))){if(this.resolvedRelativeTargetAt=Wn.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tn(),this.relativeTargetOrigin=Tn(),$d(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),pi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Tn(),this.targetWithTransforms=Tn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),E$(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):pi(this.target,this.layout.layoutBox),SP(this.target,this.targetDelta)):pi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Tn(),this.relativeTargetOrigin=Tn(),$d(this.relativeTargetOrigin,this.target,w.target),pi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||jb(this.parent.latestValues)||_P(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),c=!!this.resumingFrom||this!==l;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Wn.timestamp&&(d=!1),d)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;pi(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,w=this.treeScale.y;A$(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Tn());const{target:E}=l;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(J2(this.prevProjectionDelta.x,this.projectionDelta.x),J2(this.prevProjectionDelta.y,this.projectionDelta.y)),Hd(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==w||!oC(this.projectionDelta.x,this.prevProjectionDelta.x)||!oC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=yu(),this.projectionDelta=yu(),this.projectionDeltaWithTransform=yu()}setAnimationOrigin(l,c=!1){const d=this.snapshot,h=d?d.latestValues:{},p={...this.latestValues},y=yu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const w=Tn(),E=d?d.source:void 0,N=this.layout?this.layout.source:void 0,P=E!==N,V=this.getStack(),z=!V||V.members.length<=1,F=!!(P&&!z&&this.options.crossfade===!0&&!this.path.some(yq));this.animationProgress=0;let $;this.mixTargetDelta=Q=>{const O=Q/1e3;dC(y.x,l.x,O),dC(y.y,l.y,O),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($d(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),vq(this.relativeTarget,this.relativeTargetOrigin,w,O),$&&nq(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=Tn()),pi($,this.relativeTarget)),P&&(this.animationValues=p,X$(p,h,this.latestValues,O,F,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(_i(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Vt.update(()=>{Ym.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Oi(0)),this.currentAnimation=q$(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(sq),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:h,latestValues:p}=l;if(!(!c||!d||!h)){if(this!==l&&this.layout&&h&&jP(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||Tn();const y=Sr(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+y;const w=Sr(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+w}pi(c,d),wu(c,p),Hd(this.projectionDeltaWithTransform,this.layoutCorrected,c,p)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new rq),this.sharedNodes.get(l).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const h={};d.z&&f0("z",l,h,this.animationValues);for(let p=0;p<d0.length;p++)f0(`rotate${d0[p]}`,l,h,this.animationValues),f0(`skew${d0[p]}`,l,h,this.animationValues);l.render();for(const p in h)l.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Wm(c?.pointerEvents)||"",l.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Wm(c?.pointerEvents)||""),this.hasProjected&&!Yo(this.latestValues)&&(l.transform=d?d({},""):"none",this.hasProjected=!1);return}l.visibility="";const p=h.animationValues||h.latestValues;this.applyTransformsToTarget();let y=iq(this.projectionDeltaWithTransform,this.treeScale,p);d&&(y=d(p,y)),l.transform=y;const{x:w,y:E}=this.projectionDelta;l.transformOrigin=`${w.origin*100}% ${E.origin*100}% 0`,h.animationValues?l.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const N in lf){if(p[N]===void 0)continue;const{correct:P,applyTo:V,isCSSVariable:z}=lf[N],F=y==="none"?p[N]:P(p[N],h);if(V){const $=V.length;for(let Q=0;Q<$;Q++)l[V[Q]]=F}else z?this.options.visualElement.renderState.vars[N]=F:l[N]=F}this.options.layoutId&&(l.pointerEvents=h===this?Wm(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(lC),this.root.sharedNodes.clear()}}}function oq(t){t.updateLayout()}function lq(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?gi(p=>{const y=o?e.measuredBox[p]:e.layoutBox[p],w=Sr(y);y.min=n[p].min,y.max=y.min+w}):jP(i,e.layoutBox,n)&&gi(p=>{const y=o?e.measuredBox[p]:e.layoutBox[p],w=Sr(n[p]);y.max=y.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+w)});const l=yu();Hd(l,n,e.layoutBox);const c=yu();o?Hd(c,t.applyTransform(r,!0),e.measuredBox):Hd(c,n,e.layoutBox);const d=!OP(l);let h=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:y,layout:w}=p;if(y&&w){const E=Tn();$d(E,e.layoutBox,y.layoutBox);const N=Tn();$d(N,n,w.layoutBox),MP(E,N)||(h=!0),p.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=E,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function uq(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function cq(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function dq(t){t.clearSnapshot()}function lC(t){t.clearMeasurements()}function uC(t){t.isLayoutDirty=!1}function fq(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function cC(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function hq(t){t.resolveTargetDelta()}function mq(t){t.calcProjection()}function pq(t){t.resetSkewAndRotation()}function gq(t){t.removeLeadSnapshot()}function dC(t,e,n){t.translate=dn(e.translate,0,n),t.scale=dn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function fC(t,e,n,r){t.min=dn(e.min,n.min,r),t.max=dn(e.max,n.max,r)}function vq(t,e,n,r){fC(t.x,e.x,n.x,r),fC(t.y,e.y,n.y,r)}function yq(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const bq={duration:.45,ease:[.4,0,.1,1]},hC=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),mC=hC("applewebkit/")&&!hC("chrome/")?Math.round:Mr;function pC(t){t.min=mC(t.min),t.max=mC(t.max)}function wq(t){pC(t.x),pC(t.y)}function jP(t,e,n){return t==="position"||t==="preserve-aspect"&&!T$(aC(e),aC(n),.2)}function xq(t){return t!==t.root&&t.scroll?.wasRoot}const _q=DP({attachResizeListener:(t,e)=>cf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),h0={current:void 0},kP=DP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!h0.current){const t=new _q({});t.mount(window),t.setOptions({layoutScroll:!0}),h0.current=t}return h0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Sq={pan:{Feature:B$},drag:{Feature:z$,ProjectionNode:kP,MeasureLayout:RP}};function gC(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&Vt.postRender(()=>o(e,Ff(e)))}class Tq extends go{mount(){const{current:e}=this.node;e&&(this.unmount=$F(e,(n,r)=>(gC(this.node,r,"Start"),i=>gC(this.node,i,"End"))))}unmount(){}}class Eq extends go{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Uf(cf(this.node.current,"focus",()=>this.onFocus()),cf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function vC(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&Vt.postRender(()=>o(e,Ff(e)))}class Aq extends go{mount(){const{current:e}=this.node;e&&(this.unmount=WF(e,(n,r)=>(vC(this.node,r,"Start"),(i,{success:o})=>vC(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Vb=new WeakMap,m0=new WeakMap,Cq=t=>{const e=Vb.get(t.target);e&&e(t)},Rq=t=>{t.forEach(Cq)};function Nq({root:t,...e}){const n=t||document;m0.has(n)||m0.set(n,{});const r=m0.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Rq,{root:t,...e})),r[i]}function Iq(t,e,n){const r=Nq(e);return Vb.set(t,n),r.observe(t),()=>{Vb.delete(t),r.unobserve(t)}}const Oq={some:0,all:1};class Mq extends go{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Oq[i]},c=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,o&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:y}=this.node.getProps(),w=h?p:y;w&&w(d)};return Iq(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Pq(e,n))&&this.startObserver()}unmount(){}}function Pq({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Dq={inView:{Feature:Mq},tap:{Feature:Aq},focus:{Feature:Eq},hover:{Feature:Tq}},jq={layout:{ProjectionNode:kP,MeasureLayout:RP}},Ub={current:null},LP={current:!1};function kq(){if(LP.current=!0,!!Ax)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Ub.current=t.matches;t.addEventListener("change",e),e()}else Ub.current=!1}const Lq=new WeakMap;function Vq(t,e,n){for(const r in e){const i=e[r],o=n[r];if(Qn(i))t.addValue(r,i);else if(Qn(o))t.addValue(r,Oi(i,{owner:t}));else if(o!==i)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(r);t.addValue(r,Oi(l!==void 0?l:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const yC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Uq{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Hx,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Or.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Vt.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!o,this.isControllingVariants=Eg(n),this.isVariantNode=rP(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...y}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in y){const E=y[w];d[w]!==void 0&&Qn(E)&&E.set(d[w],!1)}}mount(e){this.current=e,Lq.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),LP.current||kq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ub.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),_i(this.notifyUpdate),_i(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=ic.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Vt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Wu){const n=Wu[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Tn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<yC.length;r++){const i=yC[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,l=e[o];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=Vq(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Oi(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(uM(r)||dM(r))?r=parseFloat(r):!lH(r)&&co.test(n)&&(r=GM(e,n)),this.setBaseTarget(e,Qn(r)?r.get():r)),Qn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=n_(this.props,n,this.presenceContext?.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Qn(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Ix),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class VP extends Uq{constructor(){super(...arguments),this.KeyframeResolver=zF}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Qn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function UP(t,{style:e,vars:n},r,i){const o=t.style;let l;for(l in e)o[l]=e[l];i?.applyProjectionStyles(o,r);for(l in n)o.setProperty(l,n[l])}function zq(t){return window.getComputedStyle(t)}class Bq extends VP{constructor(){super(...arguments),this.type="html",this.renderInstance=UP}readValueFromInstance(e,n){if(ic.has(n))return this.projection?.isProjecting?Ab(n):aF(e,n);{const r=zq(e),i=(Dx(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return TP(e,n)}build(e,n,r){Jx(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return r_(e,n,r)}}const zP=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Fq(t,e,n,r){UP(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(zP.has(i)?i:Zx(i),e.attrs[i])}class Hq extends VP{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Tn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ic.has(n)){const r=qM(n);return r&&r.default||0}return n=zP.has(n)?n:Zx(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return hP(e,n,r)}build(e,n,r){uP(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){Fq(e,n,r,i)}mount(e){this.isSVGTag=dP(e.tagName),super.mount(e)}}const $q=(t,e)=>t_(t)?new Hq(e):new Bq(e,{allowProjection:t!==R.Fragment}),qq=GH({...g$,...Dq,...Sq,...jq},$q),we=vH(qq),Gq=50,bC=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),Kq=()=>({time:0,x:bC(),y:bC()}),Wq={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function wC(t,e,n,r){const i=n[e],{length:o,position:l}=Wq[e],c=i.current,d=n.time;i.current=t[`scroll${l}`],i.scrollLength=t[`scroll${o}`]-t[`client${o}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=Ku(0,i.scrollLength,i.current);const h=r-d;i.velocity=h>Gq?0:Ox(i.current-c,h)}function Yq(t,e,n){wC(t,"x",e,n),wC(t,"y",e,n),e.time=n}function Xq(t,e){const n={x:0,y:0};let r=t;for(;r&&r!==e;)if(Gx(r))n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const i=r.getBoundingClientRect();r=r.parentElement;const o=r.getBoundingClientRect();n.x+=i.left-o.left,n.y+=i.top-o.top}else if(r instanceof SVGGraphicsElement){const{x:i,y:o}=r.getBBox();n.x+=i,n.y+=o;let l=null,c=r.parentNode;for(;!l;)c.tagName==="svg"&&(l=c),c=r.parentNode;r=l}else break;return n}const zb={start:0,center:.5,end:1};function xC(t,e,n=0){let r=0;if(t in zb&&(t=zb[t]),typeof t=="string"){const i=parseFloat(t);t.endsWith("px")?r=i:t.endsWith("%")?t=i/100:t.endsWith("vw")?r=i/100*document.documentElement.clientWidth:t.endsWith("vh")?r=i/100*document.documentElement.clientHeight:t=i}return typeof t=="number"&&(r=e*t),n+r}const Qq=[0,0];function Zq(t,e,n,r){let i=Array.isArray(t)?t:Qq,o=0,l=0;return typeof t=="number"?i=[t,t]:typeof t=="string"&&(t=t.trim(),t.includes(" ")?i=t.split(" "):i=[t,zb[t]?t:"0"]),o=xC(i[0],n,r),l=xC(i[1],e),o-l}const Jq={All:[[0,0],[1,1]]},eG={x:0,y:0};function tG(t){return"getBBox"in t&&t.tagName!=="svg"?t.getBBox():{width:t.clientWidth,height:t.clientHeight}}function nG(t,e,n){const{offset:r=Jq.All}=n,{target:i=t,axis:o="y"}=n,l=o==="y"?"height":"width",c=i!==t?Xq(i,t):eG,d=i===t?{width:t.scrollWidth,height:t.scrollHeight}:tG(i),h={width:t.clientWidth,height:t.clientHeight};e[o].offset.length=0;let p=!e[o].interpolate;const y=r.length;for(let w=0;w<y;w++){const E=Zq(r[w],h[l],d[l],c[o]);!p&&E!==e[o].interpolatorOffsets[w]&&(p=!0),e[o].offset[w]=E}p&&(e[o].interpolate=zx(e[o].offset,MM(r),{clamp:!1}),e[o].interpolatorOffsets=[...e[o].offset]),e[o].progress=_s(0,1,e[o].interpolate(e[o].current))}function rG(t,e=t,n){if(n.x.targetOffset=0,n.y.targetOffset=0,e!==t){let r=e;for(;r&&r!==t;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=e===t?e.scrollWidth:e.clientWidth,n.y.targetLength=e===t?e.scrollHeight:e.clientHeight,n.x.containerLength=t.clientWidth,n.y.containerLength=t.clientHeight}function iG(t,e,n,r={}){return{measure:i=>{rG(t,r.target,n),Yq(t,n,i),(r.offset||r.target)&&nG(t,n,r)},notify:()=>e(n)}}const fd=new WeakMap,_C=new WeakMap,p0=new WeakMap,SC=t=>t===document.scrollingElement?window:t;function BP(t,{container:e=document.scrollingElement,...n}={}){if(!e)return Mr;let r=p0.get(e);r||(r=new Set,p0.set(e,r));const i=Kq(),o=iG(e,t,i,n);if(r.add(o),!fd.has(e)){const c=()=>{for(const y of r)y.measure(Wn.timestamp);Vt.preUpdate(d)},d=()=>{for(const y of r)y.notify()},h=()=>Vt.read(c);fd.set(e,h);const p=SC(e);window.addEventListener("resize",h,{passive:!0}),e!==document.documentElement&&_C.set(e,rH(e,h)),p.addEventListener("scroll",h,{passive:!0}),h()}const l=fd.get(e);return Vt.read(l,!1,!0),()=>{_i(l);const c=p0.get(e);if(!c||(c.delete(o),c.size))return;const d=fd.get(e);fd.delete(e),d&&(SC(e).removeEventListener("scroll",d),_C.get(e)?.(),window.removeEventListener("resize",d))}}const TC=new Map;function sG(t){const e={value:0},n=BP(r=>{e.value=r[t.axis].progress*100},t);return{currentTime:e,cancel:n}}function FP({source:t,container:e,...n}){const{axis:r}=n;t&&(e=t);const i=TC.get(e)??new Map;TC.set(e,i);const o=n.target??"self",l=i.get(o)??{},c=r+(n.offset??[]).join(",");return l[c]||(l[c]=!n.target&&kM()?new ScrollTimeline({source:e,axis:r}):sG({container:e,...n})),l[c]}function aG(t,e){const n=FP(e);return t.attachTimeline({timeline:e.target?void 0:n,observe:r=>(r.pause(),JM(i=>{r.time=r.duration*i},n))})}function oG(t){return t.length===2}function lG(t,e){return oG(t)?BP(n=>{t(n[e.axis].progress,n)},e):JM(t,FP(e))}function uG(t,{axis:e="y",container:n=document.scrollingElement,...r}={}){if(!n)return Mr;const i={axis:e,container:n,...r};return typeof t=="function"?lG(t,i):aG(t,i)}const cG=()=>({scrollX:Oi(0),scrollY:Oi(0),scrollXProgress:Oi(0),scrollYProgress:Oi(0)}),xm=t=>t?!t.current:!1;function dG({container:t,target:e,...n}={}){const r=xl(cG),i=R.useRef(null),o=R.useRef(!1),l=R.useCallback(()=>(i.current=uG((c,{x:d,y:h})=>{r.scrollX.set(d.current),r.scrollXProgress.set(d.progress),r.scrollY.set(h.current),r.scrollYProgress.set(h.progress)},{...n,container:t?.current||void 0,target:e?.current||void 0}),()=>{i.current?.()}),[t,e,JSON.stringify(n.offset)]);return Vf(()=>{if(o.current=!1,xm(t)||xm(e)){o.current=!0;return}else return l()},[l]),R.useEffect(()=>{if(o.current)return rf(!xm(t)),rf(!xm(e)),l()},[l]),r}function xu(t){const e=xl(()=>Oi(t)),{isStatic:n}=R.useContext(sc);if(n){const[,r]=R.useState(t);R.useEffect(()=>e.on("change",r),[])}return e}function HP(t,e){const n=xu(e()),r=()=>n.set(e());return r(),Vf(()=>{const i=()=>Vt.preRender(r,!1,!0),o=t.map(l=>l.on("change",i));return()=>{o.forEach(l=>l()),_i(r)}}),n}function fG(t){Bd.current=[],t();const e=HP(Bd.current,t);return Bd.current=void 0,e}function _u(t,e,n,r){if(typeof t=="function")return fG(t);const i=typeof e=="function"?e:sH(e,n,r);return Array.isArray(t)?EC(t,i):EC([t],([o])=>i(o))}function EC(t,e){const n=xl(()=>[]);return HP(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function _m(t,e={}){const{isStatic:n}=R.useContext(sc),r=()=>Qn(t)?t.get():t;if(n)return _u(r);const i=xu(r());return R.useInsertionEffect(()=>aH(i,t,e),[i,JSON.stringify(e)]),i}function hG(t){const e=R.useRef(0),{isStatic:n}=R.useContext(sc);R.useEffect(()=>{if(n)return;const r=({timestamp:i,delta:o})=>{e.current||(e.current=i),t(i-e.current,o)};return Vt.update(r,!0),()=>_i(r)},[t])}function mG(t){t.values.forEach(e=>e.stop())}function Bb(t,e){[...e].reverse().forEach(r=>{const i=t.getVariant(r);i&&i_(t,i),t.variantChildren&&t.variantChildren.forEach(o=>{Bb(o,e)})})}function pG(t,e){if(Array.isArray(e))return Bb(t,e);if(typeof e=="string")return Bb(t,[e]);i_(t,e)}function gG(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,r){const i=[];return t.forEach(o=>{i.push(gP(o,n,{transitionOverride:r}))}),Promise.all(i)},set(n){return t.forEach(r=>{pG(r,n)})},stop(){t.forEach(n=>{mG(n)})},mount(){return()=>{e.stop()}}};return e}function vG(){const t=xl(gG);return Vf(t.mount,[]),t}const yG=vG,$P=R.createContext(null),bG=({children:t})=>{const[e,n]=R.useState([]);R.useEffect(()=>{const h=localStorage.getItem("cart");h&&n(JSON.parse(h))},[]),R.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);const r=h=>{n(p=>p.find(w=>w.id===h.id)?p.map(w=>w.id===h.id?{...w,quantity:w.quantity+1}:w):[...p,{...h,quantity:1}])},i=h=>{n(p=>p.filter(y=>y.id!==h))},o=(h,p)=>{p<=0?i(h):n(y=>y.map(w=>w.id===h?{...w,quantity:p}:w))},l=()=>{n([])},c=R.useMemo(()=>e.reduce((h,p)=>h+p.quantity,0),[e]),d=R.useMemo(()=>e.reduce((h,p)=>h+(p.price||0)*p.quantity,0),[e]);return g.jsx($P.Provider,{value:{cart:e,totalItems:c,totalPrice:d,addToCart:r,removeFromCart:i,updateQuantity:o,clearCart:l},children:t})},Ag=()=>{const t=R.useContext($P);if(!t)throw new Error("useCart must be used within a CartProvider");return t},qP=R.createContext(null),wG=({children:t})=>{const{user:e}=Dr(),[n,r]=R.useState([]);R.useEffect(()=>{if(!e){r([]);return}const h=cn(St(Ue,"messages"),Qt("senderId","!=",e.uid),Qt("read","==",!1)),p=Fu(h,y=>{const w=new Map;y.docs.forEach(E=>{const N=E.data();if(N.isSystemMessage)return;const P=N.chatId;w.has(P)||w.set(P,{chatId:P,count:0,lastMessageTime:N.timestamp?.toDate()||new Date,lastMessage:N.text||"",otherUserId:N.senderId,otherUserName:N.senderName||"Unknown User"});const V=w.get(P);V.count+=1,N.timestamp?.toDate()>V.lastMessageTime&&(V.lastMessageTime=N.timestamp.toDate(),V.lastMessage=N.text||"")}),r(Array.from(w.values()))});return()=>p()},[e]);const i=h=>{r(p=>p.filter(y=>y.chatId!==h))},o=()=>{r([])},l=h=>n.some(p=>p.chatId===h),c=h=>{const p=n.find(y=>y.chatId===h);return p?p.count:0},d=R.useMemo(()=>n.reduce((h,p)=>h+p.count,0),[n]);return g.jsx(qP.Provider,{value:{unreadMessages:n,totalUnread:d,markAsRead:i,markAllAsRead:o,hasUnread:l,getUnreadCount:c},children:t})},Cg=()=>{const t=R.useContext(qP);if(!t)throw new Error("useUnreadMessages must be used within UnreadMessagesProvider");return t},qo=25,xG=[{to:"/dashboard",icon:g.jsx(_x,{size:qo}),label:"Home"},{to:"/search",icon:g.jsx(qu,{size:qo}),label:"Search"},{to:"/add",icon:g.jsx($u,{size:qo}),label:"Add"},{to:"/trade",icon:g.jsx(bx,{size:qo}),label:"Activity"},{to:"/messages",icon:g.jsx(Sx,{size:qo}),label:"Messages"},{to:"/cart",icon:g.jsx(Iu,{size:qo}),label:"Cart"},{to:"/user",icon:g.jsx(Gu,{size:qo}),label:"Profile"}];function _G(){const t=Vi(),e=jr(),{totalItems:n}=Ag(),{totalUnread:r}=Cg(),{user:i}=Dr(),[o,l]=R.useState(null);return R.useEffect(()=>{(async()=>{if(i)try{const{fetchUserData:d}=await yx(async()=>{const{fetchUserData:p}=await Promise.resolve().then(()=>UD);return{fetchUserData:p}},[]),h=await d(i.uid);h?.username&&l(h.username)}catch(d){console.error("Error fetching user username:",d)}})()},[i]),R.useEffect(()=>{console.log("totalItems changed:",n),console.log("totalUnread changed:",r)},[n,r]),g.jsxs("aside",{className:"w-20 bg-primary-950 border-r border-white/10 flex flex-col items-center py-4 gap-4 fixed left-0 top-0 bottom-0 z-10",children:[g.jsx(bi,{to:"/",children:g.jsx("img",{src:"/icon.png",alt:"logo",className:"w-10 h-10 mb-4"})}),xG.map(c=>{const d=t.pathname===c.to,h=c.to==="/cart",p=c.to==="/messages",y=t.pathname.startsWith("/messages/"),w=c.to==="/user",E=t.pathname.startsWith("/user/"),N=P=>{P.preventDefault(),e("/messages",{replace:!0})};return p?g.jsxs("button",{onClick:N,className:`relative p-2 cursor-pointer rounded-lg transition-all duration-200 ${d||y?"bg-primary text-white":"text-white/60 hover:text-white"}`,children:[c.icon,r>0&&g.jsx(yn,{mode:"popLayout",children:g.jsx(we.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:300,damping:20},className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-semibold w-5 h-5 flex items-center justify-center rounded-full",children:r>99?"99+":r},r)})]},c.to):w?g.jsxs("button",{onClick:()=>{e(o?`/user/${o}`:"/user")},className:`relative p-2 rounded-lg transition-all duration-200 ${d||w&&E?"bg-primary text-white":"text-white/60 hover:text-white"} ${h?"mt-auto":""}`,children:[c.icon,h&&n>0&&g.jsx(yn,{mode:"popLayout",children:g.jsx(we.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:300,damping:20},className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-semibold w-5 h-5 flex items-center justify-center rounded-full",children:n},n)})]},c.to):g.jsxs(bi,{to:c.to,className:`relative p-2 rounded-lg transition-all duration-200 ${d||w&&E?"bg-primary text-white":"text-white/60 hover:text-white"} ${h?"mt-auto":""}`,children:[c.icon,h&&n>0&&g.jsx(yn,{mode:"popLayout",children:g.jsx(we.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:300,damping:20},className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-semibold w-5 h-5 flex items-center justify-center rounded-full",children:n},n)})]},c.to)})]})}const Go=24,SG=[{to:"/dashboard",icon:g.jsx(_x,{size:Go}),label:"Home"},{to:"/search",icon:g.jsx(qu,{size:Go}),label:"Search"},{to:"/add",icon:g.jsx($u,{size:Go}),label:"Add"},{to:"/trade",icon:g.jsx(bx,{size:Go}),label:"Activity"},{to:"/messages",icon:g.jsx(Sx,{size:Go}),label:"Messages"},{to:"/cart",icon:g.jsx(Iu,{size:Go}),label:"Cart"},{to:"/user",icon:g.jsx(Gu,{size:Go}),label:"Profile"}];function GP(){const[t,e]=R.useState(!1),n=Vi(),r=jr(),{totalItems:i}=Ag(),{totalUnread:o}=Cg(),{user:l}=Dr(),[c,d]=R.useState(null);R.useEffect(()=>{(async()=>{if(l)try{const{fetchUserData:N}=await yx(async()=>{const{fetchUserData:V}=await Promise.resolve().then(()=>UD);return{fetchUserData:V}},void 0),P=await N(l.uid);P?.username&&d(P.username)}catch(N){console.error("Error fetching user username:",N)}})()},[l]);const h=()=>{e(!t)},p=E=>{e(!1),E==="/user"?c?r(`/user/${c}`,{replace:!0}):r("/user",{replace:!0}):r(E,{replace:!0})},y={closed:{opacity:0,x:"100%",transition:{duration:.3,ease:"easeInOut"}},open:{opacity:1,x:0,transition:{duration:.3,ease:"easeInOut"}}},w={closed:{opacity:0,x:20},open:{opacity:1,x:0}};return g.jsxs(g.Fragment,{children:[g.jsx(we.button,{onClick:h,className:"fixed top-4 right-4 z-50 p-3 bg-neutral-900/80 backdrop-blur-sm rounded-xl border border-white/10 text-white hover:bg-neutral-800/80 transition-all duration-200",whileTap:{scale:.95},whileHover:{scale:1.05},children:g.jsx(yn,{mode:"wait",children:t?g.jsx(we.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},transition:{duration:.2},children:g.jsx(ps,{size:24})},"close"):g.jsx(we.div,{initial:{rotate:90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:-90,opacity:0},transition:{duration:.2},children:g.jsx(Mz,{size:24})},"menu")})}),g.jsx(yn,{children:t&&g.jsx(we.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40",onClick:()=>e(!1)})}),g.jsx(yn,{children:t&&g.jsxs(we.div,{variants:y,initial:"closed",animate:"open",exit:"closed",className:"fixed top-0 right-0 h-full w-80 max-w-[85vw] bg-neutral-900 border-l border-white/10 z-50 overflow-hidden",children:[g.jsx("div",{className:"p-6 border-b border-white/10",children:g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("img",{src:"/icon.png",alt:"logo",className:"w-10 h-10"}),g.jsxs("div",{children:[g.jsx("h1",{className:"text-xl font-bold text-white",children:"Mangrov"}),g.jsx("p",{className:"text-sm text-white/60",children:"Discover & Connect"})]})]})}),g.jsx("nav",{className:"flex-1 p-4",children:g.jsx("div",{className:"space-y-2",children:SG.map((E,N)=>{const P=n.pathname===E.to,V=E.to==="/cart",z=E.to==="/messages",F=n.pathname.startsWith("/messages/"),$=E.to==="/user",Q=n.pathname.startsWith("/user/");return g.jsx(we.div,{variants:w,transition:{delay:N*.1},children:g.jsxs("button",{onClick:()=>p(E.to),className:`w-full flex items-center gap-4 p-4 rounded-xl transition-all duration-200 ${P||z&&F||$&&Q?"bg-primary text-white":"text-white/60 hover:text-white hover:bg-white/5"}`,children:[g.jsxs("div",{className:"relative",children:[E.icon,V&&i>0&&g.jsx(we.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-semibold w-5 h-5 flex items-center justify-center rounded-full",children:i}),z&&o>0&&g.jsx(we.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-semibold w-5 h-5 flex items-center justify-center rounded-full",children:o>99?"99+":o})]}),g.jsx("span",{className:"font-medium",children:E.label})]})},E.to)})})}),g.jsx("div",{className:"p-4 border-t border-white/10",children:g.jsx("div",{className:"text-center",children:g.jsx("p",{className:"text-xs text-white/40",children:" 2025 Mangrov"})})})]})})]})}function TG(){const{isSignedIn:t,pending:e}=Dr(),n=Vi(),r=jr(),i=!["/","/about"].includes(n.pathname);return R.useEffect(()=>{!e&&!t&&!["/","/about"].includes(n.pathname)&&r("/")},[t,n.pathname,e]),g.jsx(wG,{children:g.jsxs("div",{className:"min-h-screen font-inter bg-transparent-950 text-white",children:[i&&g.jsx("div",{className:"hidden lg:block",children:g.jsx(_G,{})}),i&&g.jsx("div",{className:"lg:hidden",children:g.jsx(GP,{})}),g.jsx("main",{className:`min-h-screen overflow-y-auto ${i?"lg:pl-20":""}`,children:g.jsx(yn,{mode:"wait",children:g.jsx(d7,{},n.pathname)})})]})})}const EG="#FF0069",KP=R.forwardRef(function({title:e="Instagram",color:n="currentColor",size:r=24,...i},o){return n==="default"&&(n=EG),g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,fill:n,viewBox:"0 0 24 24",ref:o,...i,children:[g.jsx("title",{children:e}),g.jsx("path",{d:"M7.0301.084c-1.2768.0602-2.1487.264-2.911.5634-.7888.3075-1.4575.72-2.1228 1.3877-.6652.6677-1.075 1.3368-1.3802 2.127-.2954.7638-.4956 1.6365-.552 2.914-.0564 1.2775-.0689 1.6882-.0626 4.947.0062 3.2586.0206 3.6671.0825 4.9473.061 1.2765.264 2.1482.5635 2.9107.308.7889.72 1.4573 1.388 2.1228.6679.6655 1.3365 1.0743 2.1285 1.38.7632.295 1.6361.4961 2.9134.552 1.2773.056 1.6884.069 4.9462.0627 3.2578-.0062 3.668-.0207 4.9478-.0814 1.28-.0607 2.147-.2652 2.9098-.5633.7889-.3086 1.4578-.72 2.1228-1.3881.665-.6682 1.0745-1.3378 1.3795-2.1284.2957-.7632.4966-1.636.552-2.9124.056-1.2809.0692-1.6898.063-4.948-.0063-3.2583-.021-3.6668-.0817-4.9465-.0607-1.2797-.264-2.1487-.5633-2.9117-.3084-.7889-.72-1.4568-1.3876-2.1228C21.2982 1.33 20.628.9208 19.8378.6165 19.074.321 18.2017.1197 16.9244.0645 15.6471.0093 15.236-.005 11.977.0014 8.718.0076 8.31.0215 7.0301.0839m.1402 21.6932c-1.17-.0509-1.8053-.2453-2.2287-.408-.5606-.216-.96-.4771-1.3819-.895-.422-.4178-.6811-.8186-.9-1.378-.1644-.4234-.3624-1.058-.4171-2.228-.0595-1.2645-.072-1.6442-.079-4.848-.007-3.2037.0053-3.583.0607-4.848.05-1.169.2456-1.805.408-2.2282.216-.5613.4762-.96.895-1.3816.4188-.4217.8184-.6814 1.3783-.9003.423-.1651 1.0575-.3614 2.227-.4171 1.2655-.06 1.6447-.072 4.848-.079 3.2033-.007 3.5835.005 4.8495.0608 1.169.0508 1.8053.2445 2.228.408.5608.216.96.4754 1.3816.895.4217.4194.6816.8176.9005 1.3787.1653.4217.3617 1.056.4169 2.2263.0602 1.2655.0739 1.645.0796 4.848.0058 3.203-.0055 3.5834-.061 4.848-.051 1.17-.245 1.8055-.408 2.2294-.216.5604-.4763.96-.8954 1.3814-.419.4215-.8181.6811-1.3783.9-.4224.1649-1.0577.3617-2.2262.4174-1.2656.0595-1.6448.072-4.8493.079-3.2045.007-3.5825-.006-4.848-.0608M16.953 5.5864A1.44 1.44 0 1 0 18.39 4.144a1.44 1.44 0 0 0-1.437 1.4424M5.8385 12.012c.0067 3.4032 2.7706 6.1557 6.173 6.1493 3.4026-.0065 6.157-2.7701 6.1506-6.1733-.0065-3.4032-2.771-6.1565-6.174-6.1498-3.403.0067-6.156 2.771-6.1496 6.1738M8 12.0077a4 4 0 1 1 4.008 3.9921A3.9996 3.9996 0 0 1 8 12.0077"})]})}),AG="#FF0000",WP=R.forwardRef(function({title:e="YouTube",color:n="currentColor",size:r=24,...i},o){return n==="default"&&(n=AG),g.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,fill:n,viewBox:"0 0 24 24",ref:o,...i,children:[g.jsx("title",{children:e}),g.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})]})});function CG(){return g.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-4 flex-wrap w-full",children:[g.jsx(bi,{to:"/about",className:"border-2 border-primary rounded-lg bg-transparent tracking-widest text-white px-8 2xs:px-16 py-2 uppercase font-extrabold text-lg sm:text-xl hover:bg-primary transition-all duration-300 text-center",children:"About"}),g.jsx(bi,{to:"https://instagram.com/_mangrov_",target:"_blank",children:g.jsx(KP,{className:"text-white w-8 h-8 sm:w-10 sm:h-10"})}),g.jsx(bi,{to:"https://youtube.com",target:"_blank",children:g.jsx(WP,{className:"text-white w-8 h-8 sm:w-10 sm:h-10"})})]})}function a_({start:t,end:e,speed:n=40,className:r="",imgWidthTW:i="w-40",imgHeightTW:o="h-32"}){if(!t||!e)return null;const l=xu(t.x),c=xu(t.y),d=xu(e.x),h=xu(e.y),p=_m(l,{damping:40,stiffness:10}),y=_m(c,{damping:40,stiffness:10}),w=_m(d,{damping:40,stiffness:10}),E=_m(h,{damping:40,stiffness:10});R.useEffect(()=>{l.stop(),c.stop(),d.stop(),h.stop(),l.set(l.get()),c.set(c.get()),d.set(d.get()),h.set(h.get()),requestAnimationFrame(()=>{l.set(t.x),c.set(t.y),d.set(e.x),h.set(e.y)})},[t.x,t.y,e.x,e.y]);const N=_u([p,w],([S,k])=>k-S),P=_u([y,E],([S,k])=>k-S),V=_u([N,P],([S,k])=>Math.hypot(S,k)),z=_u([N,P],([S,k])=>Math.atan2(k,S)*(180/Math.PI)),F=Array.from({length:9},(S,k)=>`/strip/image${k+1}.png`),$=Math.ceil(F.length/2),Q=F.slice(0,$),O=F.slice($).length?F.slice($):Q,C=160+8,I=`${i} ${o} object-cover select-none shrink-0 opacity-20 md:opacity-30 rounded-xl mr-2`,A=({direction:S,images:k})=>{const H=k.length*C,j=S==="left"?0:-H,[K,Z]=R.useState(j);return hG((B,T)=>{Z(J=>{const W=n*T/1e3;let x=S==="left"?J-W:J+W;return S==="left"&&x<=-H&&(x+=H),S==="right"&&x>=0&&(x-=H),x})}),g.jsx(we.div,{initial:{opacity:1},animate:{opacity:1},exit:{opacity:0},className:"flex whitespace-nowrap",style:{transform:`translateX(${K}px)`},children:Array.from({length:18},(B,T)=>k[T%k.length]).map((B,T)=>g.jsx("img",{src:B,className:I,draggable:!1},T))})};return g.jsxs(we.div,{className:`absolute pointer-events-none overflow-hidden ${r}`,style:{top:y,left:p,width:V,rotate:z,transformOrigin:"0 0"},children:[g.jsx(A,{direction:"right",images:Q}),g.jsx("div",{className:"h-2"}),g.jsx(A,{direction:"left",images:O})]})}function YP(){const[t,e]=R.useState([window.innerWidth,window.innerHeight]);return R.useEffect(()=>{const n=()=>{e([window.innerWidth,window.innerHeight])};return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t}function ml(t){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}function RG(t,e){if(ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XP(t){var e=RG(t,"string");return ml(e)=="symbol"?e:e+""}function Id(t,e,n){return(e=XP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ye(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AC(Object(n),!0).forEach(function(r){Id(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NG(t){if(Array.isArray(t))return t}function IG(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,l,c=[],d=!0,h=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(p){h=!0,i=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function Fb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function QP(t,e){if(t){if(typeof t=="string")return Fb(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fb(t,e):void 0}}function OG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ra(t,e){return NG(t)||IG(t,e)||QP(t,e)||OG()}function MG(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ha(t,e){if(t==null)return{};var n,r,i=MG(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var PG=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function DG(t){var e=t.defaultInputValue,n=e===void 0?"":e,r=t.defaultMenuIsOpen,i=r===void 0?!1:r,o=t.defaultValue,l=o===void 0?null:o,c=t.inputValue,d=t.menuIsOpen,h=t.onChange,p=t.onInputChange,y=t.onMenuClose,w=t.onMenuOpen,E=t.value,N=ha(t,PG),P=R.useState(c!==void 0?c:n),V=ra(P,2),z=V[0],F=V[1],$=R.useState(d!==void 0?d:i),Q=ra($,2),O=Q[0],M=Q[1],C=R.useState(E!==void 0?E:l),I=ra(C,2),A=I[0],S=I[1],k=R.useCallback(function(J,W){typeof h=="function"&&h(J,W),S(J)},[h]),H=R.useCallback(function(J,W){var x;typeof p=="function"&&(x=p(J,W)),F(x!==void 0?x:J)},[p]),j=R.useCallback(function(){typeof w=="function"&&w(),M(!0)},[w]),K=R.useCallback(function(){typeof y=="function"&&y(),M(!1)},[y]),Z=c!==void 0?c:z,B=d!==void 0?d:O,T=E!==void 0?E:A;return Ye(Ye({},N),{},{inputValue:Z,menuIsOpen:B,onChange:k,onInputChange:H,onMenuClose:K,onMenuOpen:j,value:T})}function tt(){return tt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tt.apply(null,arguments)}function jG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XP(r.key),r)}}function kG(t,e,n){return e&&CC(t.prototype,e),n&&CC(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hb(t,e){return Hb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Hb(t,e)}function LG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hb(t,e)}function Dp(t){return Dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Dp(t)}function ZP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZP=function(){return!!t})()}function VG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UG(t,e){if(e&&(ml(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VG(t)}function zG(t){var e=ZP();return function(){var n,r=Dp(t);if(e){var i=Dp(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return UG(this,n)}}function BG(t){if(Array.isArray(t))return Fb(t)}function FG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function HG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o_(t){return BG(t)||FG(t)||QP(t)||HG()}function $G(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function qG(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var GG=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(qG(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=$G(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),hr="-ms-",jp="-moz-",kt="-webkit-",JP="comm",l_="rule",u_="decl",KG="@import",eD="@keyframes",WG="@layer",YG=Math.abs,Rg=String.fromCharCode,XG=Object.assign;function QG(t,e){return ar(t,0)^45?(((e<<2^ar(t,0))<<2^ar(t,1))<<2^ar(t,2))<<2^ar(t,3):0}function tD(t){return t.trim()}function ZG(t,e){return(t=e.exec(t))?t[0]:t}function Lt(t,e,n){return t.replace(e,n)}function $b(t,e){return t.indexOf(e)}function ar(t,e){return t.charCodeAt(e)|0}function df(t,e,n){return t.slice(e,n)}function ss(t){return t.length}function c_(t){return t.length}function Sm(t,e){return e.push(t),t}function JG(t,e){return t.map(e).join("")}var Ng=1,Yu=1,nD=0,Pr=0,Dn=0,ac="";function Ig(t,e,n,r,i,o,l){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:Ng,column:Yu,length:l,return:""}}function hd(t,e){return XG(Ig("",null,null,"",null,null,0),t,{length:-t.length},e)}function eK(){return Dn}function tK(){return Dn=Pr>0?ar(ac,--Pr):0,Yu--,Dn===10&&(Yu=1,Ng--),Dn}function Jr(){return Dn=Pr<nD?ar(ac,Pr++):0,Yu++,Dn===10&&(Yu=1,Ng++),Dn}function bs(){return ar(ac,Pr)}function Xm(){return Pr}function Hf(t,e){return df(ac,t,e)}function ff(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function rD(t){return Ng=Yu=1,nD=ss(ac=t),Pr=0,[]}function iD(t){return ac="",t}function Qm(t){return tD(Hf(Pr-1,qb(t===91?t+2:t===40?t+1:t)))}function nK(t){for(;(Dn=bs())&&Dn<33;)Jr();return ff(t)>2||ff(Dn)>3?"":" "}function rK(t,e){for(;--e&&Jr()&&!(Dn<48||Dn>102||Dn>57&&Dn<65||Dn>70&&Dn<97););return Hf(t,Xm()+(e<6&&bs()==32&&Jr()==32))}function qb(t){for(;Jr();)switch(Dn){case t:return Pr;case 34:case 39:t!==34&&t!==39&&qb(Dn);break;case 40:t===41&&qb(t);break;case 92:Jr();break}return Pr}function iK(t,e){for(;Jr()&&t+Dn!==57;)if(t+Dn===84&&bs()===47)break;return"/*"+Hf(e,Pr-1)+"*"+Rg(t===47?t:Jr())}function sK(t){for(;!ff(bs());)Jr();return Hf(t,Pr)}function aK(t){return iD(Zm("",null,null,null,[""],t=rD(t),0,[0],t))}function Zm(t,e,n,r,i,o,l,c,d){for(var h=0,p=0,y=l,w=0,E=0,N=0,P=1,V=1,z=1,F=0,$="",Q=i,O=o,M=r,C=$;V;)switch(N=F,F=Jr()){case 40:if(N!=108&&ar(C,y-1)==58){$b(C+=Lt(Qm(F),"&","&\f"),"&\f")!=-1&&(z=-1);break}case 34:case 39:case 91:C+=Qm(F);break;case 9:case 10:case 13:case 32:C+=nK(N);break;case 92:C+=rK(Xm()-1,7);continue;case 47:switch(bs()){case 42:case 47:Sm(oK(iK(Jr(),Xm()),e,n),d);break;default:C+="/"}break;case 123*P:c[h++]=ss(C)*z;case 125*P:case 59:case 0:switch(F){case 0:case 125:V=0;case 59+p:z==-1&&(C=Lt(C,/\f/g,"")),E>0&&ss(C)-y&&Sm(E>32?NC(C+";",r,n,y-1):NC(Lt(C," ","")+";",r,n,y-2),d);break;case 59:C+=";";default:if(Sm(M=RC(C,e,n,h,p,i,c,$,Q=[],O=[],y),o),F===123)if(p===0)Zm(C,e,M,M,Q,o,y,c,O);else switch(w===99&&ar(C,3)===110?100:w){case 100:case 108:case 109:case 115:Zm(t,M,M,r&&Sm(RC(t,M,M,0,0,i,c,$,i,Q=[],y),O),i,O,y,c,r?Q:O);break;default:Zm(C,M,M,M,[""],O,0,c,O)}}h=p=E=0,P=z=1,$=C="",y=l;break;case 58:y=1+ss(C),E=N;default:if(P<1){if(F==123)--P;else if(F==125&&P++==0&&tK()==125)continue}switch(C+=Rg(F),F*P){case 38:z=p>0?1:(C+="\f",-1);break;case 44:c[h++]=(ss(C)-1)*z,z=1;break;case 64:bs()===45&&(C+=Qm(Jr())),w=bs(),p=y=ss($=C+=sK(Xm())),F++;break;case 45:N===45&&ss(C)==2&&(P=0)}}return o}function RC(t,e,n,r,i,o,l,c,d,h,p){for(var y=i-1,w=i===0?o:[""],E=c_(w),N=0,P=0,V=0;N<r;++N)for(var z=0,F=df(t,y+1,y=YG(P=l[N])),$=t;z<E;++z)($=tD(P>0?w[z]+" "+F:Lt(F,/&\f/g,w[z])))&&(d[V++]=$);return Ig(t,e,n,i===0?l_:c,d,h,p)}function oK(t,e,n){return Ig(t,e,n,JP,Rg(eK()),df(t,2,-2),0)}function NC(t,e,n,r){return Ig(t,e,n,u_,df(t,0,r),df(t,r+1,-1),r)}function Ou(t,e){for(var n="",r=c_(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function lK(t,e,n,r){switch(t.type){case WG:if(t.children.length)break;case KG:case u_:return t.return=t.return||t.value;case JP:return"";case eD:return t.return=t.value+"{"+Ou(t.children,r)+"}";case l_:t.value=t.props.join(",")}return ss(n=Ou(t.children,r))?t.return=t.value+"{"+n+"}":""}function uK(t){var e=c_(t);return function(n,r,i,o){for(var l="",c=0;c<e;c++)l+=t[c](n,r,i,o)||"";return l}}function cK(t){return function(e){e.root||(e=e.return)&&t(e)}}function dK(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var fK=function(e,n,r){for(var i=0,o=0;i=o,o=bs(),i===38&&o===12&&(n[r]=1),!ff(o);)Jr();return Hf(e,Pr)},hK=function(e,n){var r=-1,i=44;do switch(ff(i)){case 0:i===38&&bs()===12&&(n[r]=1),e[r]+=fK(Pr-1,n,r);break;case 2:e[r]+=Qm(i);break;case 4:if(i===44){e[++r]=bs()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Rg(i)}while(i=Jr());return e},mK=function(e,n){return iD(hK(rD(e),n))},IC=new WeakMap,pK=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!IC.get(r))&&!i){IC.set(e,!0);for(var o=[],l=mK(n,o),c=r.props,d=0,h=0;d<l.length;d++)for(var p=0;p<c.length;p++,h++)e.props[h]=o[d]?l[d].replace(/&\f/g,c[p]):c[p]+" "+l[d]}}},gK=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function sD(t,e){switch(QG(t,e)){case 5103:return kt+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return kt+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return kt+t+jp+t+hr+t+t;case 6828:case 4268:return kt+t+hr+t+t;case 6165:return kt+t+hr+"flex-"+t+t;case 5187:return kt+t+Lt(t,/(\w+).+(:[^]+)/,kt+"box-$1$2"+hr+"flex-$1$2")+t;case 5443:return kt+t+hr+"flex-item-"+Lt(t,/flex-|-self/,"")+t;case 4675:return kt+t+hr+"flex-line-pack"+Lt(t,/align-content|flex-|-self/,"")+t;case 5548:return kt+t+hr+Lt(t,"shrink","negative")+t;case 5292:return kt+t+hr+Lt(t,"basis","preferred-size")+t;case 6060:return kt+"box-"+Lt(t,"-grow","")+kt+t+hr+Lt(t,"grow","positive")+t;case 4554:return kt+Lt(t,/([^-])(transform)/g,"$1"+kt+"$2")+t;case 6187:return Lt(Lt(Lt(t,/(zoom-|grab)/,kt+"$1"),/(image-set)/,kt+"$1"),t,"")+t;case 5495:case 3959:return Lt(t,/(image-set\([^]*)/,kt+"$1$`$1");case 4968:return Lt(Lt(t,/(.+:)(flex-)?(.*)/,kt+"box-pack:$3"+hr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+kt+t+t;case 4095:case 3583:case 4068:case 2532:return Lt(t,/(.+)-inline(.+)/,kt+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ss(t)-1-e>6)switch(ar(t,e+1)){case 109:if(ar(t,e+4)!==45)break;case 102:return Lt(t,/(.+:)(.+)-([^]+)/,"$1"+kt+"$2-$3$1"+jp+(ar(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~$b(t,"stretch")?sD(Lt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(ar(t,e+1)!==115)break;case 6444:switch(ar(t,ss(t)-3-(~$b(t,"!important")&&10))){case 107:return Lt(t,":",":"+kt)+t;case 101:return Lt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+kt+(ar(t,14)===45?"inline-":"")+"box$3$1"+kt+"$2$3$1"+hr+"$2box$3")+t}break;case 5936:switch(ar(t,e+11)){case 114:return kt+t+hr+Lt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return kt+t+hr+Lt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return kt+t+hr+Lt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return kt+t+hr+t+t}return t}var vK=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case u_:e.return=sD(e.value,e.length);break;case eD:return Ou([hd(e,{value:Lt(e.value,"@","@"+kt)})],i);case l_:if(e.length)return JG(e.props,function(o){switch(ZG(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ou([hd(e,{props:[Lt(o,/:(read-\w+)/,":"+jp+"$1")]})],i);case"::placeholder":return Ou([hd(e,{props:[Lt(o,/:(plac\w+)/,":"+kt+"input-$1")]}),hd(e,{props:[Lt(o,/:(plac\w+)/,":"+jp+"$1")]}),hd(e,{props:[Lt(o,/:(plac\w+)/,hr+"input-$1")]})],i)}return""})}},yK=[vK],bK=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(P){var V=P.getAttribute("data-emotion");V.indexOf(" ")!==-1&&(document.head.appendChild(P),P.setAttribute("data-s",""))})}var i=e.stylisPlugins||yK,o={},l,c=[];l=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(P){for(var V=P.getAttribute("data-emotion").split(" "),z=1;z<V.length;z++)o[V[z]]=!0;c.push(P)});var d,h=[pK,gK];{var p,y=[lK,cK(function(P){p.insert(P)})],w=uK(h.concat(i,y)),E=function(V){return Ou(aK(V),w)};d=function(V,z,F,$){p=F,E(V?V+"{"+z.styles+"}":z.styles),$&&(N.inserted[z.name]=!0)}}var N={key:n,sheet:new GG({key:n,container:l,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:d};return N.sheet.hydrate(c),N},g0={exports:{}},Bt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OC;function wK(){if(OC)return Bt;OC=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,l=t?Symbol.for("react.provider"):60109,c=t?Symbol.for("react.context"):60110,d=t?Symbol.for("react.async_mode"):60111,h=t?Symbol.for("react.concurrent_mode"):60111,p=t?Symbol.for("react.forward_ref"):60112,y=t?Symbol.for("react.suspense"):60113,w=t?Symbol.for("react.suspense_list"):60120,E=t?Symbol.for("react.memo"):60115,N=t?Symbol.for("react.lazy"):60116,P=t?Symbol.for("react.block"):60121,V=t?Symbol.for("react.fundamental"):60117,z=t?Symbol.for("react.responder"):60118,F=t?Symbol.for("react.scope"):60119;function $(O){if(typeof O=="object"&&O!==null){var M=O.$$typeof;switch(M){case e:switch(O=O.type,O){case d:case h:case r:case o:case i:case y:return O;default:switch(O=O&&O.$$typeof,O){case c:case p:case N:case E:case l:return O;default:return M}}case n:return M}}}function Q(O){return $(O)===h}return Bt.AsyncMode=d,Bt.ConcurrentMode=h,Bt.ContextConsumer=c,Bt.ContextProvider=l,Bt.Element=e,Bt.ForwardRef=p,Bt.Fragment=r,Bt.Lazy=N,Bt.Memo=E,Bt.Portal=n,Bt.Profiler=o,Bt.StrictMode=i,Bt.Suspense=y,Bt.isAsyncMode=function(O){return Q(O)||$(O)===d},Bt.isConcurrentMode=Q,Bt.isContextConsumer=function(O){return $(O)===c},Bt.isContextProvider=function(O){return $(O)===l},Bt.isElement=function(O){return typeof O=="object"&&O!==null&&O.$$typeof===e},Bt.isForwardRef=function(O){return $(O)===p},Bt.isFragment=function(O){return $(O)===r},Bt.isLazy=function(O){return $(O)===N},Bt.isMemo=function(O){return $(O)===E},Bt.isPortal=function(O){return $(O)===n},Bt.isProfiler=function(O){return $(O)===o},Bt.isStrictMode=function(O){return $(O)===i},Bt.isSuspense=function(O){return $(O)===y},Bt.isValidElementType=function(O){return typeof O=="string"||typeof O=="function"||O===r||O===h||O===o||O===i||O===y||O===w||typeof O=="object"&&O!==null&&(O.$$typeof===N||O.$$typeof===E||O.$$typeof===l||O.$$typeof===c||O.$$typeof===p||O.$$typeof===V||O.$$typeof===z||O.$$typeof===F||O.$$typeof===P)},Bt.typeOf=$,Bt}var MC;function xK(){return MC||(MC=1,g0.exports=wK()),g0.exports}var v0,PC;function _K(){if(PC)return v0;PC=1;var t=xK(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};o[t.ForwardRef]=r,o[t.Memo]=i;function l(N){return t.isMemo(N)?i:o[N.$$typeof]||e}var c=Object.defineProperty,d=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,y=Object.getPrototypeOf,w=Object.prototype;function E(N,P,V){if(typeof P!="string"){if(w){var z=y(P);z&&z!==w&&E(N,z,V)}var F=d(P);h&&(F=F.concat(h(P)));for(var $=l(N),Q=l(P),O=0;O<F.length;++O){var M=F[O];if(!n[M]&&!(V&&V[M])&&!(Q&&Q[M])&&!($&&$[M])){var C=p(P,M);try{c(N,M,C)}catch{}}}}return N}return v0=E,v0}_K();var SK=!0;function TK(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var aD=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||SK===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},EK=function(e,n,r){aD(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function AK(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var CK={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},RK=/[A-Z]|^ms/g,NK=/_EMO_([^_]+?)_([^]*?)_EMO_/g,oD=function(e){return e.charCodeAt(1)===45},DC=function(e){return e!=null&&typeof e!="boolean"},y0=dK(function(t){return oD(t)?t:t.replace(RK,"-$&").toLowerCase()}),jC=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(NK,function(r,i,o){return as={name:i,styles:o,next:as},i})}return CK[e]!==1&&!oD(e)&&typeof n=="number"&&n!==0?n+"px":n};function hf(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return as={name:i.name,styles:i.styles,next:as},i.name;var o=n;if(o.styles!==void 0){var l=o.next;if(l!==void 0)for(;l!==void 0;)as={name:l.name,styles:l.styles,next:as},l=l.next;var c=o.styles+";";return c}return IK(t,e,n)}case"function":{if(t!==void 0){var d=as,h=n(t);return as=d,hf(t,e,h)}break}}var p=n;return p}function IK(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=hf(t,e,n[i])+";";else for(var o in n){var l=n[o];if(typeof l!="object"){var c=l;DC(c)&&(r+=y0(o)+":"+jC(o,c)+";")}else if(Array.isArray(l)&&typeof l[0]=="string"&&e==null)for(var d=0;d<l.length;d++)DC(l[d])&&(r+=y0(o)+":"+jC(o,l[d])+";");else{var h=hf(t,e,l);switch(o){case"animation":case"animationName":{r+=y0(o)+":"+h+";";break}default:r+=o+"{"+h+"}"}}}return r}var kC=/label:\s*([^\s;{]+)\s*(;|$)/g,as;function lD(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";as=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=hf(n,e,o);else{var l=o;i+=l[0]}for(var c=1;c<t.length;c++)if(i+=hf(n,e,t[c]),r){var d=o;i+=d[c]}kC.lastIndex=0;for(var h="",p;(p=kC.exec(i))!==null;)h+="-"+p[1];var y=AK(i)+h;return{name:y,styles:i,next:as}}var OK=function(e){return e()},MK=UT.useInsertionEffect?UT.useInsertionEffect:!1,PK=MK||OK,uD=R.createContext(typeof HTMLElement<"u"?bK({key:"css"}):null);uD.Provider;var DK=function(e){return R.forwardRef(function(n,r){var i=R.useContext(uD);return e(n,i,r)})},jK=R.createContext({}),d_={}.hasOwnProperty,Gb="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",kK=function(e,n){var r={};for(var i in n)d_.call(n,i)&&(r[i]=n[i]);return r[Gb]=e,r},LK=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return aD(n,r,i),PK(function(){return EK(n,r,i)}),null},VK=DK(function(t,e,n){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=t[Gb],o=[r],l="";typeof t.className=="string"?l=TK(e.registered,o,t.className):t.className!=null&&(l=t.className+" ");var c=lD(o,void 0,R.useContext(jK));l+=e.key+"-"+c.name;var d={};for(var h in t)d_.call(t,h)&&h!=="css"&&h!==Gb&&(d[h]=t[h]);return d.className=l,n&&(d.ref=n),R.createElement(R.Fragment,null,R.createElement(LK,{cache:e,serialized:c,isStringTag:typeof i=="string"}),R.createElement(i,d))}),UK=VK,He=function(e,n){var r=arguments;if(n==null||!d_.call(n,"css"))return R.createElement.apply(void 0,r);var i=r.length,o=new Array(i);o[0]=UK,o[1]=kK(e,n);for(var l=2;l<i;l++)o[l]=r[l];return R.createElement.apply(null,o)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(He||(He={}));function f_(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return lD(e)}function zK(){var t=f_.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function BK(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var FK=UR();const HK=Math.min,$K=Math.max,kp=Math.round,Tm=Math.floor,Lp=t=>({x:t,y:t});function qK(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Og(){return typeof window<"u"}function cD(t){return fD(t)?(t.nodeName||"").toLowerCase():"#document"}function da(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function dD(t){var e;return(e=(fD(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function fD(t){return Og()?t instanceof Node||t instanceof da(t).Node:!1}function GK(t){return Og()?t instanceof Element||t instanceof da(t).Element:!1}function h_(t){return Og()?t instanceof HTMLElement||t instanceof da(t).HTMLElement:!1}function LC(t){return!Og()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof da(t).ShadowRoot}const KK=new Set(["inline","contents"]);function hD(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=m_(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!KK.has(i)}function WK(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const YK=new Set(["html","body","#document"]);function XK(t){return YK.has(cD(t))}function m_(t){return da(t).getComputedStyle(t)}function QK(t){if(cD(t)==="html")return t;const e=t.assignedSlot||t.parentNode||LC(t)&&t.host||dD(t);return LC(e)?e.host:e}function mD(t){const e=QK(t);return XK(e)?t.ownerDocument?t.ownerDocument.body:t.body:h_(e)&&hD(e)?e:mD(e)}function Vp(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=mD(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),l=da(i);if(o){const c=Kb(l);return e.concat(l,l.visualViewport||[],hD(i)?i:[],c&&n?Vp(c):[])}return e.concat(i,Vp(i,[],n))}function Kb(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ZK(t){const e=m_(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=h_(t),o=i?t.offsetWidth:n,l=i?t.offsetHeight:r,c=kp(n)!==o||kp(r)!==l;return c&&(n=o,r=l),{width:n,height:r,$:c}}function p_(t){return GK(t)?t:t.contextElement}function VC(t){const e=p_(t);if(!h_(e))return Lp(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=ZK(e);let l=(o?kp(n.width):n.width)/r,c=(o?kp(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const JK=Lp(0);function eW(t){const e=da(t);return!WK()||!e.visualViewport?JK:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function tW(t,e,n){return!1}function UC(t,e,n,r){e===void 0&&(e=!1);const i=t.getBoundingClientRect(),o=p_(t);let l=Lp(1);e&&(l=VC(t));const c=tW()?eW(o):Lp(0);let d=(i.left+c.x)/l.x,h=(i.top+c.y)/l.y,p=i.width/l.x,y=i.height/l.y;if(o){const w=da(o),E=r;let N=w,P=Kb(N);for(;P&&r&&E!==N;){const V=VC(P),z=P.getBoundingClientRect(),F=m_(P),$=z.left+(P.clientLeft+parseFloat(F.paddingLeft))*V.x,Q=z.top+(P.clientTop+parseFloat(F.paddingTop))*V.y;d*=V.x,h*=V.y,p*=V.x,y*=V.y,d+=$,h+=Q,N=da(P),P=Kb(N)}}return qK({width:p,height:y,x:d,y:h})}function pD(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function nW(t,e){let n=null,r;const i=dD(t);function o(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),o();const h=t.getBoundingClientRect(),{left:p,top:y,width:w,height:E}=h;if(c||e(),!w||!E)return;const N=Tm(y),P=Tm(i.clientWidth-(p+w)),V=Tm(i.clientHeight-(y+E)),z=Tm(p),$={rootMargin:-N+"px "+-P+"px "+-V+"px "+-z+"px",threshold:$K(0,HK(1,d))||1};let Q=!0;function O(M){const C=M[0].intersectionRatio;if(C!==d){if(!Q)return l();C?l(!1,C):r=setTimeout(()=>{l(!1,1e-7)},1e3)}C===1&&!pD(h,t.getBoundingClientRect())&&l(),Q=!1}try{n=new IntersectionObserver(O,{...$,root:i.ownerDocument})}catch{n=new IntersectionObserver(O,$)}n.observe(t)}return l(!0),o}function rW(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,h=p_(t),p=i||o?[...h?Vp(h):[],...Vp(e)]:[];p.forEach(z=>{i&&z.addEventListener("scroll",n,{passive:!0}),o&&z.addEventListener("resize",n)});const y=h&&c?nW(h,n):null;let w=-1,E=null;l&&(E=new ResizeObserver(z=>{let[F]=z;F&&F.target===h&&E&&(E.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var $;($=E)==null||$.observe(e)})),n()}),h&&!d&&E.observe(h),E.observe(e));let N,P=d?UC(t):null;d&&V();function V(){const z=UC(t);P&&!pD(P,z)&&n(),P=z,N=requestAnimationFrame(V)}return n(),()=>{var z;p.forEach(F=>{i&&F.removeEventListener("scroll",n),o&&F.removeEventListener("resize",n)}),y?.(),(z=E)==null||z.disconnect(),E=null,d&&cancelAnimationFrame(N)}}var Wb=R.useLayoutEffect,iW=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Up=function(){};function sW(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function aW(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=[].concat(r);if(e&&t)for(var l in e)e.hasOwnProperty(l)&&e[l]&&o.push("".concat(sW(t,l)));return o.filter(function(c){return c}).map(function(c){return String(c).trim()}).join(" ")}var zC=function(e){return pW(e)?e.filter(Boolean):ml(e)==="object"&&e!==null?[e]:[]},gD=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var n=ha(e,iW);return Ye({},n)},bn=function(e,n,r){var i=e.cx,o=e.getStyles,l=e.getClassNames,c=e.className;return{css:o(n,e),className:i(r??{},l(n,e),c)}};function Mg(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function oW(t){return Mg(t)?window.innerHeight:t.clientHeight}function vD(t){return Mg(t)?window.pageYOffset:t.scrollTop}function zp(t,e){if(Mg(t)){window.scrollTo(0,e);return}t.scrollTop=e}function lW(t){var e=getComputedStyle(t),n=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var i=t;i=i.parentElement;)if(e=getComputedStyle(i),!(n&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return i;return document.documentElement}function uW(t,e,n,r){return n*((t=t/r-1)*t*t+1)+e}function Em(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Up,i=vD(t),o=e-i,l=10,c=0;function d(){c+=l;var h=uW(c,i,o,n);zp(t,h),c<n?window.requestAnimationFrame(d):r(t)}d()}function BC(t,e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=e.offsetHeight/3;r.bottom+i>n.bottom?zp(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+i,t.scrollHeight)):r.top-i<n.top&&zp(t,Math.max(e.offsetTop-i,0))}function cW(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function FC(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function dW(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var yD=!1,fW={get passive(){return yD=!0}},Am=typeof window<"u"?window:{};Am.addEventListener&&Am.removeEventListener&&(Am.addEventListener("p",Up,fW),Am.removeEventListener("p",Up,!1));var hW=yD;function mW(t){return t!=null}function pW(t){return Array.isArray(t)}function Cm(t,e,n){return t?e:n}var gW=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=Object.entries(e).filter(function(l){var c=ra(l,1),d=c[0];return!r.includes(d)});return o.reduce(function(l,c){var d=ra(c,2),h=d[0],p=d[1];return l[h]=p,l},{})},vW=["children","innerProps"],yW=["children","innerProps"];function bW(t){var e=t.maxHeight,n=t.menuEl,r=t.minHeight,i=t.placement,o=t.shouldScroll,l=t.isFixedPosition,c=t.controlHeight,d=lW(n),h={placement:"bottom",maxHeight:e};if(!n||!n.offsetParent)return h;var p=d.getBoundingClientRect(),y=p.height,w=n.getBoundingClientRect(),E=w.bottom,N=w.height,P=w.top,V=n.offsetParent.getBoundingClientRect(),z=V.top,F=l?window.innerHeight:oW(d),$=vD(d),Q=parseInt(getComputedStyle(n).marginBottom,10),O=parseInt(getComputedStyle(n).marginTop,10),M=z-O,C=F-P,I=M+$,A=y-$-P,S=E-F+$+Q,k=$+P-O,H=160;switch(i){case"auto":case"bottom":if(C>=N)return{placement:"bottom",maxHeight:e};if(A>=N&&!l)return o&&Em(d,S,H),{placement:"bottom",maxHeight:e};if(!l&&A>=r||l&&C>=r){o&&Em(d,S,H);var j=l?C-Q:A-Q;return{placement:"bottom",maxHeight:j}}if(i==="auto"||l){var K=e,Z=l?M:I;return Z>=r&&(K=Math.min(Z-Q-c,e)),{placement:"top",maxHeight:K}}if(i==="bottom")return o&&zp(d,S),{placement:"bottom",maxHeight:e};break;case"top":if(M>=N)return{placement:"top",maxHeight:e};if(I>=N&&!l)return o&&Em(d,k,H),{placement:"top",maxHeight:e};if(!l&&I>=r||l&&M>=r){var B=e;return(!l&&I>=r||l&&M>=r)&&(B=l?M-O:I-O),o&&Em(d,k,H),{placement:"top",maxHeight:B}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return h}function wW(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var bD=function(e){return e==="auto"?"bottom":e},xW=function(e,n){var r,i=e.placement,o=e.theme,l=o.borderRadius,c=o.spacing,d=o.colors;return Ye((r={label:"menu"},Id(r,wW(i),"100%"),Id(r,"position","absolute"),Id(r,"width","100%"),Id(r,"zIndex",1),r),n?{}:{backgroundColor:d.neutral0,borderRadius:l,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:c.menuGutter,marginTop:c.menuGutter})},wD=R.createContext(null),_W=function(e){var n=e.children,r=e.minMenuHeight,i=e.maxMenuHeight,o=e.menuPlacement,l=e.menuPosition,c=e.menuShouldScrollIntoView,d=e.theme,h=R.useContext(wD)||{},p=h.setPortalPlacement,y=R.useRef(null),w=R.useState(i),E=ra(w,2),N=E[0],P=E[1],V=R.useState(null),z=ra(V,2),F=z[0],$=z[1],Q=d.spacing.controlHeight;return Wb(function(){var O=y.current;if(O){var M=l==="fixed",C=c&&!M,I=bW({maxHeight:i,menuEl:O,minHeight:r,placement:o,shouldScroll:C,isFixedPosition:M,controlHeight:Q});P(I.maxHeight),$(I.placement),p?.(I.placement)}},[i,o,l,c,r,p,Q]),n({ref:y,placerProps:Ye(Ye({},e),{},{placement:F||bD(o),maxHeight:N})})},SW=function(e){var n=e.children,r=e.innerRef,i=e.innerProps;return He("div",tt({},bn(e,"menu",{menu:!0}),{ref:r},i),n)},TW=SW,EW=function(e,n){var r=e.maxHeight,i=e.theme.spacing.baseUnit;return Ye({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},n?{}:{paddingBottom:i,paddingTop:i})},AW=function(e){var n=e.children,r=e.innerProps,i=e.innerRef,o=e.isMulti;return He("div",tt({},bn(e,"menuList",{"menu-list":!0,"menu-list--is-multi":o}),{ref:i},r),n)},xD=function(e,n){var r=e.theme,i=r.spacing.baseUnit,o=r.colors;return Ye({textAlign:"center"},n?{}:{color:o.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px")})},CW=xD,RW=xD,NW=function(e){var n=e.children,r=n===void 0?"No options":n,i=e.innerProps,o=ha(e,vW);return He("div",tt({},bn(Ye(Ye({},o),{},{children:r,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),r)},IW=function(e){var n=e.children,r=n===void 0?"Loading...":n,i=e.innerProps,o=ha(e,yW);return He("div",tt({},bn(Ye(Ye({},o),{},{children:r,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),r)},OW=function(e){var n=e.rect,r=e.offset,i=e.position;return{left:n.left,position:i,top:r,width:n.width,zIndex:1}},MW=function(e){var n=e.appendTo,r=e.children,i=e.controlElement,o=e.innerProps,l=e.menuPlacement,c=e.menuPosition,d=R.useRef(null),h=R.useRef(null),p=R.useState(bD(l)),y=ra(p,2),w=y[0],E=y[1],N=R.useMemo(function(){return{setPortalPlacement:E}},[]),P=R.useState(null),V=ra(P,2),z=V[0],F=V[1],$=R.useCallback(function(){if(i){var C=cW(i),I=c==="fixed"?0:window.pageYOffset,A=C[w]+I;(A!==z?.offset||C.left!==z?.rect.left||C.width!==z?.rect.width)&&F({offset:A,rect:C})}},[i,c,w,z?.offset,z?.rect.left,z?.rect.width]);Wb(function(){$()},[$]);var Q=R.useCallback(function(){typeof h.current=="function"&&(h.current(),h.current=null),i&&d.current&&(h.current=rW(i,d.current,$,{elementResize:"ResizeObserver"in window}))},[i,$]);Wb(function(){Q()},[Q]);var O=R.useCallback(function(C){d.current=C,Q()},[Q]);if(!n&&c!=="fixed"||!z)return null;var M=He("div",tt({ref:O},bn(Ye(Ye({},e),{},{offset:z.offset,position:c,rect:z.rect}),"menuPortal",{"menu-portal":!0}),o),r);return He(wD.Provider,{value:N},n?FK.createPortal(M,n):M)},PW=function(e){var n=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:n?"none":void 0,position:"relative"}},DW=function(e){var n=e.children,r=e.innerProps,i=e.isDisabled,o=e.isRtl;return He("div",tt({},bn(e,"container",{"--is-disabled":i,"--is-rtl":o}),r),n)},jW=function(e,n){var r=e.theme.spacing,i=e.isMulti,o=e.hasValue,l=e.selectProps.controlShouldRenderValue;return Ye({alignItems:"center",display:i&&o&&l?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},n?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},kW=function(e){var n=e.children,r=e.innerProps,i=e.isMulti,o=e.hasValue;return He("div",tt({},bn(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":o}),r),n)},LW=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},VW=function(e){var n=e.children,r=e.innerProps;return He("div",tt({},bn(e,"indicatorsContainer",{indicators:!0}),r),n)},HC,UW=["size"],zW=["innerProps","isRtl","size"],BW={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},_D=function(e){var n=e.size,r=ha(e,UW);return He("svg",tt({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:BW},r))},g_=function(e){return He(_D,tt({size:20},e),He("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},SD=function(e){return He(_D,tt({size:20},e),He("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},TD=function(e,n){var r=e.isFocused,i=e.theme,o=i.spacing.baseUnit,l=i.colors;return Ye({label:"indicatorContainer",display:"flex",transition:"color 150ms"},n?{}:{color:r?l.neutral60:l.neutral20,padding:o*2,":hover":{color:r?l.neutral80:l.neutral40}})},FW=TD,HW=function(e){var n=e.children,r=e.innerProps;return He("div",tt({},bn(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),n||He(SD,null))},$W=TD,qW=function(e){var n=e.children,r=e.innerProps;return He("div",tt({},bn(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),n||He(g_,null))},GW=function(e,n){var r=e.isDisabled,i=e.theme,o=i.spacing.baseUnit,l=i.colors;return Ye({label:"indicatorSeparator",alignSelf:"stretch",width:1},n?{}:{backgroundColor:r?l.neutral10:l.neutral20,marginBottom:o*2,marginTop:o*2})},KW=function(e){var n=e.innerProps;return He("span",tt({},n,bn(e,"indicatorSeparator",{"indicator-separator":!0})))},WW=zK(HC||(HC=BK([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),YW=function(e,n){var r=e.isFocused,i=e.size,o=e.theme,l=o.colors,c=o.spacing.baseUnit;return Ye({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},n?{}:{color:r?l.neutral60:l.neutral20,padding:c*2})},b0=function(e){var n=e.delay,r=e.offset;return He("span",{css:f_({animation:"".concat(WW," 1s ease-in-out ").concat(n,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},XW=function(e){var n=e.innerProps,r=e.isRtl,i=e.size,o=i===void 0?4:i,l=ha(e,zW);return He("div",tt({},bn(Ye(Ye({},l),{},{innerProps:n,isRtl:r,size:o}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),n),He(b0,{delay:0,offset:r}),He(b0,{delay:160,offset:!0}),He(b0,{delay:320,offset:!r}))},QW=function(e,n){var r=e.isDisabled,i=e.isFocused,o=e.theme,l=o.colors,c=o.borderRadius,d=o.spacing;return Ye({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:d.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},n?{}:{backgroundColor:r?l.neutral5:l.neutral0,borderColor:r?l.neutral10:i?l.primary:l.neutral20,borderRadius:c,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(l.primary):void 0,"&:hover":{borderColor:i?l.primary:l.neutral30}})},ZW=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,o=e.innerRef,l=e.innerProps,c=e.menuIsOpen;return He("div",tt({ref:o},bn(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":i,"control--menu-is-open":c}),l,{"aria-disabled":r||void 0}),n)},JW=ZW,eY=["data"],tY=function(e,n){var r=e.theme.spacing;return n?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},nY=function(e){var n=e.children,r=e.cx,i=e.getStyles,o=e.getClassNames,l=e.Heading,c=e.headingProps,d=e.innerProps,h=e.label,p=e.theme,y=e.selectProps;return He("div",tt({},bn(e,"group",{group:!0}),d),He(l,tt({},c,{selectProps:y,theme:p,getStyles:i,getClassNames:o,cx:r}),h),He("div",null,n))},rY=function(e,n){var r=e.theme,i=r.colors,o=r.spacing;return Ye({label:"group",cursor:"default",display:"block"},n?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:o.baseUnit*3,paddingRight:o.baseUnit*3,textTransform:"uppercase"})},iY=function(e){var n=gD(e);n.data;var r=ha(n,eY);return He("div",tt({},bn(e,"groupHeading",{"group-heading":!0}),r))},sY=nY,aY=["innerRef","isDisabled","isHidden","inputClassName"],oY=function(e,n){var r=e.isDisabled,i=e.value,o=e.theme,l=o.spacing,c=o.colors;return Ye(Ye({visibility:r?"hidden":"visible",transform:i?"translateZ(0)":""},lY),n?{}:{margin:l.baseUnit/2,paddingBottom:l.baseUnit/2,paddingTop:l.baseUnit/2,color:c.neutral80})},ED={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},lY={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Ye({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},ED)},uY=function(e){return Ye({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},ED)},cY=function(e){var n=e.cx,r=e.value,i=gD(e),o=i.innerRef,l=i.isDisabled,c=i.isHidden,d=i.inputClassName,h=ha(i,aY);return He("div",tt({},bn(e,"input",{"input-container":!0}),{"data-value":r||""}),He("input",tt({className:n({input:!0},d),ref:o,style:uY(c),disabled:l},h)))},dY=cY,fY=function(e,n){var r=e.theme,i=r.spacing,o=r.borderRadius,l=r.colors;return Ye({label:"multiValue",display:"flex",minWidth:0},n?{}:{backgroundColor:l.neutral10,borderRadius:o/2,margin:i.baseUnit/2})},hY=function(e,n){var r=e.theme,i=r.borderRadius,o=r.colors,l=e.cropWithEllipsis;return Ye({overflow:"hidden",textOverflow:l||l===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},n?{}:{borderRadius:i/2,color:o.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},mY=function(e,n){var r=e.theme,i=r.spacing,o=r.borderRadius,l=r.colors,c=e.isFocused;return Ye({alignItems:"center",display:"flex"},n?{}:{borderRadius:o/2,backgroundColor:c?l.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:l.dangerLight,color:l.danger}})},AD=function(e){var n=e.children,r=e.innerProps;return He("div",r,n)},pY=AD,gY=AD;function vY(t){var e=t.children,n=t.innerProps;return He("div",tt({role:"button"},n),e||He(g_,{size:14}))}var yY=function(e){var n=e.children,r=e.components,i=e.data,o=e.innerProps,l=e.isDisabled,c=e.removeProps,d=e.selectProps,h=r.Container,p=r.Label,y=r.Remove;return He(h,{data:i,innerProps:Ye(Ye({},bn(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":l})),o),selectProps:d},He(p,{data:i,innerProps:Ye({},bn(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:d},n),He(y,{data:i,innerProps:Ye(Ye({},bn(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(n||"option")},c),selectProps:d}))},bY=yY,wY=function(e,n){var r=e.isDisabled,i=e.isFocused,o=e.isSelected,l=e.theme,c=l.spacing,d=l.colors;return Ye({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},n?{}:{backgroundColor:o?d.primary:i?d.primary25:"transparent",color:r?d.neutral20:o?d.neutral0:"inherit",padding:"".concat(c.baseUnit*2,"px ").concat(c.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:o?d.primary:d.primary50}})},xY=function(e){var n=e.children,r=e.isDisabled,i=e.isFocused,o=e.isSelected,l=e.innerRef,c=e.innerProps;return He("div",tt({},bn(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":i,"option--is-selected":o}),{ref:l,"aria-disabled":r},c),n)},_Y=xY,SY=function(e,n){var r=e.theme,i=r.spacing,o=r.colors;return Ye({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},n?{}:{color:o.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},TY=function(e){var n=e.children,r=e.innerProps;return He("div",tt({},bn(e,"placeholder",{placeholder:!0}),r),n)},EY=TY,AY=function(e,n){var r=e.isDisabled,i=e.theme,o=i.spacing,l=i.colors;return Ye({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n?{}:{color:r?l.neutral40:l.neutral80,marginLeft:o.baseUnit/2,marginRight:o.baseUnit/2})},CY=function(e){var n=e.children,r=e.isDisabled,i=e.innerProps;return He("div",tt({},bn(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),i),n)},RY=CY,Pg={ClearIndicator:qW,Control:JW,DropdownIndicator:HW,DownChevron:SD,CrossIcon:g_,Group:sY,GroupHeading:iY,IndicatorsContainer:VW,IndicatorSeparator:KW,Input:dY,LoadingIndicator:XW,Menu:TW,MenuList:AW,MenuPortal:MW,LoadingMessage:IW,NoOptionsMessage:NW,MultiValue:bY,MultiValueContainer:pY,MultiValueLabel:gY,MultiValueRemove:vY,Option:_Y,Placeholder:EY,SelectContainer:DW,SingleValue:RY,ValueContainer:kW},NY=function(e){return Ye(Ye({},Pg),e.components)},$C=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function IY(t,e){return!!(t===e||$C(t)&&$C(e))}function OY(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!IY(t[n],e[n]))return!1;return!0}function MY(t,e){e===void 0&&(e=OY);var n=null;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var l=t.apply(this,i);return n={lastResult:l,lastArgs:i,lastThis:this},l}return r.clear=function(){n=null},r}var PY={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},DY=function(e){return He("span",tt({css:PY},e))},qC=DY,jY={guidance:function(e){var n=e.isSearchable,r=e.isMulti,i=e.tabSelectsValue,o=e.context,l=e.isInitialFocus;switch(o){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return l?"".concat(e["aria-label"]||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var n=e.action,r=e.label,i=r===void 0?"":r,o=e.labels,l=e.isDisabled;switch(n){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(o.length>1?"s":""," ").concat(o.join(","),", selected.");case"select-option":return l?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.");default:return""}},onFocus:function(e){var n=e.context,r=e.focused,i=e.options,o=e.label,l=o===void 0?"":o,c=e.selectValue,d=e.isDisabled,h=e.isSelected,p=e.isAppleDevice,y=function(P,V){return P&&P.length?"".concat(P.indexOf(V)+1," of ").concat(P.length):""};if(n==="value"&&c)return"value ".concat(l," focused, ").concat(y(c,r),".");if(n==="menu"&&p){var w=d?" disabled":"",E="".concat(h?" selected":"").concat(w);return"".concat(l).concat(E,", ").concat(y(i,r),".")}return""},onFilter:function(e){var n=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(n?" for search term "+n:"",".")}},kY=function(e){var n=e.ariaSelection,r=e.focusedOption,i=e.focusedValue,o=e.focusableOptions,l=e.isFocused,c=e.selectValue,d=e.selectProps,h=e.id,p=e.isAppleDevice,y=d.ariaLiveMessages,w=d.getOptionLabel,E=d.inputValue,N=d.isMulti,P=d.isOptionDisabled,V=d.isSearchable,z=d.menuIsOpen,F=d.options,$=d.screenReaderStatus,Q=d.tabSelectsValue,O=d.isLoading,M=d["aria-label"],C=d["aria-live"],I=R.useMemo(function(){return Ye(Ye({},jY),y||{})},[y]),A=R.useMemo(function(){var Z="";if(n&&I.onChange){var B=n.option,T=n.options,J=n.removedValue,W=n.removedValues,x=n.value,U=function(Ee){return Array.isArray(Ee)?null:Ee},X=J||B||U(x),Y=X?w(X):"",ne=T||W||void 0,se=ne?ne.map(w):[],le=Ye({isDisabled:X&&P(X,c),label:Y,labels:se},n);Z=I.onChange(le)}return Z},[n,I,P,c,w]),S=R.useMemo(function(){var Z="",B=r||i,T=!!(r&&c&&c.includes(r));if(B&&I.onFocus){var J={focused:B,label:w(B),isDisabled:P(B,c),isSelected:T,options:o,context:B===r?"menu":"value",selectValue:c,isAppleDevice:p};Z=I.onFocus(J)}return Z},[r,i,w,P,I,o,c,p]),k=R.useMemo(function(){var Z="";if(z&&F.length&&!O&&I.onFilter){var B=$({count:o.length});Z=I.onFilter({inputValue:E,resultsMessage:B})}return Z},[o,E,z,I,F,$,O]),H=n?.action==="initial-input-focus",j=R.useMemo(function(){var Z="";if(I.guidance){var B=i?"value":z?"menu":"input";Z=I.guidance({"aria-label":M,context:B,isDisabled:r&&P(r,c),isMulti:N,isSearchable:V,tabSelectsValue:Q,isInitialFocus:H})}return Z},[M,r,i,N,P,V,z,I,c,Q,H]),K=He(R.Fragment,null,He("span",{id:"aria-selection"},A),He("span",{id:"aria-focused"},S),He("span",{id:"aria-results"},k),He("span",{id:"aria-guidance"},j));return He(R.Fragment,null,He(qC,{id:h},H&&K),He(qC,{"aria-live":C,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},l&&!H&&K))},LY=kY,Yb=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],VY=new RegExp("["+Yb.map(function(t){return t.letters}).join("")+"]","g"),CD={};for(var w0=0;w0<Yb.length;w0++)for(var x0=Yb[w0],_0=0;_0<x0.letters.length;_0++)CD[x0.letters[_0]]=x0.base;var RD=function(e){return e.replace(VY,function(n){return CD[n]})},UY=MY(RD),GC=function(e){return e.replace(/^\s+|\s+$/g,"")},zY=function(e){return"".concat(e.label," ").concat(e.value)},BY=function(e){return function(n,r){if(n.data.__isNew__)return!0;var i=Ye({ignoreCase:!0,ignoreAccents:!0,stringify:zY,trim:!0,matchFrom:"any"},e),o=i.ignoreCase,l=i.ignoreAccents,c=i.stringify,d=i.trim,h=i.matchFrom,p=d?GC(r):r,y=d?GC(c(n)):c(n);return o&&(p=p.toLowerCase(),y=y.toLowerCase()),l&&(p=UY(p),y=RD(y)),h==="start"?y.substr(0,p.length)===p:y.indexOf(p)>-1}},FY=["innerRef"];function HY(t){var e=t.innerRef,n=ha(t,FY),r=gW(n,"onExited","in","enter","exit","appear");return He("input",tt({ref:e},r,{css:f_({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var $Y=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function qY(t){var e=t.isEnabled,n=t.onBottomArrive,r=t.onBottomLeave,i=t.onTopArrive,o=t.onTopLeave,l=R.useRef(!1),c=R.useRef(!1),d=R.useRef(0),h=R.useRef(null),p=R.useCallback(function(V,z){if(h.current!==null){var F=h.current,$=F.scrollTop,Q=F.scrollHeight,O=F.clientHeight,M=h.current,C=z>0,I=Q-O-$,A=!1;I>z&&l.current&&(r&&r(V),l.current=!1),C&&c.current&&(o&&o(V),c.current=!1),C&&z>I?(n&&!l.current&&n(V),M.scrollTop=Q,A=!0,l.current=!0):!C&&-z>$&&(i&&!c.current&&i(V),M.scrollTop=0,A=!0,c.current=!0),A&&$Y(V)}},[n,r,i,o]),y=R.useCallback(function(V){p(V,V.deltaY)},[p]),w=R.useCallback(function(V){d.current=V.changedTouches[0].clientY},[]),E=R.useCallback(function(V){var z=d.current-V.changedTouches[0].clientY;p(V,z)},[p]),N=R.useCallback(function(V){if(V){var z=hW?{passive:!1}:!1;V.addEventListener("wheel",y,z),V.addEventListener("touchstart",w,z),V.addEventListener("touchmove",E,z)}},[E,w,y]),P=R.useCallback(function(V){V&&(V.removeEventListener("wheel",y,!1),V.removeEventListener("touchstart",w,!1),V.removeEventListener("touchmove",E,!1))},[E,w,y]);return R.useEffect(function(){if(e){var V=h.current;return N(V),function(){P(V)}}},[e,N,P]),function(V){h.current=V}}var KC=["boxSizing","height","overflow","paddingRight","position"],WC={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function YC(t){t.cancelable&&t.preventDefault()}function XC(t){t.stopPropagation()}function QC(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;t===0?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function ZC(){return"ontouchstart"in window||navigator.maxTouchPoints}var JC=!!(typeof window<"u"&&window.document&&window.document.createElement),md=0,au={capture:!1,passive:!1};function GY(t){var e=t.isEnabled,n=t.accountForScrollbars,r=n===void 0?!0:n,i=R.useRef({}),o=R.useRef(null),l=R.useCallback(function(d){if(JC){var h=document.body,p=h&&h.style;if(r&&KC.forEach(function(N){var P=p&&p[N];i.current[N]=P}),r&&md<1){var y=parseInt(i.current.paddingRight,10)||0,w=document.body?document.body.clientWidth:0,E=window.innerWidth-w+y||0;Object.keys(WC).forEach(function(N){var P=WC[N];p&&(p[N]=P)}),p&&(p.paddingRight="".concat(E,"px"))}h&&ZC()&&(h.addEventListener("touchmove",YC,au),d&&(d.addEventListener("touchstart",QC,au),d.addEventListener("touchmove",XC,au))),md+=1}},[r]),c=R.useCallback(function(d){if(JC){var h=document.body,p=h&&h.style;md=Math.max(md-1,0),r&&md<1&&KC.forEach(function(y){var w=i.current[y];p&&(p[y]=w)}),h&&ZC()&&(h.removeEventListener("touchmove",YC,au),d&&(d.removeEventListener("touchstart",QC,au),d.removeEventListener("touchmove",XC,au)))}},[r]);return R.useEffect(function(){if(e){var d=o.current;return l(d),function(){c(d)}}},[e,l,c]),function(d){o.current=d}}var KY=function(e){var n=e.target;return n.ownerDocument.activeElement&&n.ownerDocument.activeElement.blur()},WY={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function YY(t){var e=t.children,n=t.lockEnabled,r=t.captureEnabled,i=r===void 0?!0:r,o=t.onBottomArrive,l=t.onBottomLeave,c=t.onTopArrive,d=t.onTopLeave,h=qY({isEnabled:i,onBottomArrive:o,onBottomLeave:l,onTopArrive:c,onTopLeave:d}),p=GY({isEnabled:n}),y=function(E){h(E),p(E)};return He(R.Fragment,null,n&&He("div",{onClick:KY,css:WY}),e(y))}var XY={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},QY=function(e){var n=e.name,r=e.onFocus;return He("input",{required:!0,name:n,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:XY,value:"",onChange:function(){}})},ZY=QY;function v_(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function JY(){return v_(/^iPhone/i)}function ND(){return v_(/^Mac/i)}function eX(){return v_(/^iPad/i)||ND()&&navigator.maxTouchPoints>1}function tX(){return JY()||eX()}function nX(){return ND()||tX()}var rX=function(e){return e.label},iX=function(e){return e.label},sX=function(e){return e.value},aX=function(e){return!!e.isDisabled},oX={clearIndicator:$W,container:PW,control:QW,dropdownIndicator:FW,group:tY,groupHeading:rY,indicatorsContainer:LW,indicatorSeparator:GW,input:oY,loadingIndicator:YW,loadingMessage:RW,menu:xW,menuList:EW,menuPortal:OW,multiValue:fY,multiValueLabel:hY,multiValueRemove:mY,noOptionsMessage:CW,option:wY,placeholder:SY,singleValue:AY,valueContainer:jW},lX={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},uX=4,ID=4,cX=38,dX=ID*2,fX={baseUnit:ID,controlHeight:cX,menuGutter:dX},S0={borderRadius:uX,colors:lX,spacing:fX},hX={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:FC(),captureMenuScroll:!FC(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:BY(),formatGroupLabel:rX,getOptionLabel:iX,getOptionValue:sX,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:aX,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!dW(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var n=e.count;return"".concat(n," result").concat(n!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function eR(t,e,n,r){var i=PD(t,e,n),o=DD(t,e,n),l=MD(t,e),c=Bp(t,e);return{type:"option",data:e,isDisabled:i,isSelected:o,label:l,value:c,index:r}}function Jm(t,e){return t.options.map(function(n,r){if("options"in n){var i=n.options.map(function(l,c){return eR(t,l,e,c)}).filter(function(l){return nR(t,l)});return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var o=eR(t,n,e,r);return nR(t,o)?o:void 0}).filter(mW)}function OD(t){return t.reduce(function(e,n){return n.type==="group"?e.push.apply(e,o_(n.options.map(function(r){return r.data}))):e.push(n.data),e},[])}function tR(t,e){return t.reduce(function(n,r){return r.type==="group"?n.push.apply(n,o_(r.options.map(function(i){return{data:i.data,id:"".concat(e,"-").concat(r.index,"-").concat(i.index)}}))):n.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),n},[])}function mX(t,e){return OD(Jm(t,e))}function nR(t,e){var n=t.inputValue,r=n===void 0?"":n,i=e.data,o=e.isSelected,l=e.label,c=e.value;return(!kD(t)||!o)&&jD(t,{label:l,value:c,data:i},r)}function pX(t,e){var n=t.focusedValue,r=t.selectValue,i=r.indexOf(n);if(i>-1){var o=e.indexOf(n);if(o>-1)return n;if(i<e.length)return e[i]}return null}function gX(t,e){var n=t.focusedOption;return n&&e.indexOf(n)>-1?n:e[0]}var T0=function(e,n){var r,i=(r=e.find(function(o){return o.data===n}))===null||r===void 0?void 0:r.id;return i||null},MD=function(e,n){return e.getOptionLabel(n)},Bp=function(e,n){return e.getOptionValue(n)};function PD(t,e,n){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,n):!1}function DD(t,e,n){if(n.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,n);var r=Bp(t,e);return n.some(function(i){return Bp(t,i)===r})}function jD(t,e,n){return t.filterOption?t.filterOption(e,n):!0}var kD=function(e){var n=e.hideSelectedOptions,r=e.isMulti;return n===void 0?r:n},vX=1,LD=function(t){LG(n,t);var e=zG(n);function n(r){var i;if(jG(this,n),i=e.call(this,r),i.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},i.blockOptionHover=!1,i.isComposing=!1,i.commonProps=void 0,i.initialTouchX=0,i.initialTouchY=0,i.openAfterFocus=!1,i.scrollToFocusedOptionOnUpdate=!1,i.userIsDragging=void 0,i.controlRef=null,i.getControlRef=function(d){i.controlRef=d},i.focusedOptionRef=null,i.getFocusedOptionRef=function(d){i.focusedOptionRef=d},i.menuListRef=null,i.getMenuListRef=function(d){i.menuListRef=d},i.inputRef=null,i.getInputRef=function(d){i.inputRef=d},i.focus=i.focusInput,i.blur=i.blurInput,i.onChange=function(d,h){var p=i.props,y=p.onChange,w=p.name;h.name=w,i.ariaOnChange(d,h),y(d,h)},i.setValue=function(d,h,p){var y=i.props,w=y.closeMenuOnSelect,E=y.isMulti,N=y.inputValue;i.onInputChange("",{action:"set-value",prevInputValue:N}),w&&(i.setState({inputIsHiddenAfterUpdate:!E}),i.onMenuClose()),i.setState({clearFocusValueOnUpdate:!0}),i.onChange(d,{action:h,option:p})},i.selectOption=function(d){var h=i.props,p=h.blurInputOnSelect,y=h.isMulti,w=h.name,E=i.state.selectValue,N=y&&i.isOptionSelected(d,E),P=i.isOptionDisabled(d,E);if(N){var V=i.getOptionValue(d);i.setValue(E.filter(function(z){return i.getOptionValue(z)!==V}),"deselect-option",d)}else if(!P)y?i.setValue([].concat(o_(E),[d]),"select-option",d):i.setValue(d,"select-option");else{i.ariaOnChange(d,{action:"select-option",option:d,name:w});return}p&&i.blurInput()},i.removeValue=function(d){var h=i.props.isMulti,p=i.state.selectValue,y=i.getOptionValue(d),w=p.filter(function(N){return i.getOptionValue(N)!==y}),E=Cm(h,w,w[0]||null);i.onChange(E,{action:"remove-value",removedValue:d}),i.focusInput()},i.clearValue=function(){var d=i.state.selectValue;i.onChange(Cm(i.props.isMulti,[],null),{action:"clear",removedValues:d})},i.popValue=function(){var d=i.props.isMulti,h=i.state.selectValue,p=h[h.length-1],y=h.slice(0,h.length-1),w=Cm(d,y,y[0]||null);p&&i.onChange(w,{action:"pop-value",removedValue:p})},i.getFocusedOptionId=function(d){return T0(i.state.focusableOptionsWithIds,d)},i.getFocusableOptionsWithIds=function(){return tR(Jm(i.props,i.state.selectValue),i.getElementId("option"))},i.getValue=function(){return i.state.selectValue},i.cx=function(){for(var d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];return aW.apply(void 0,[i.props.classNamePrefix].concat(h))},i.getOptionLabel=function(d){return MD(i.props,d)},i.getOptionValue=function(d){return Bp(i.props,d)},i.getStyles=function(d,h){var p=i.props.unstyled,y=oX[d](h,p);y.boxSizing="border-box";var w=i.props.styles[d];return w?w(y,h):y},i.getClassNames=function(d,h){var p,y;return(p=(y=i.props.classNames)[d])===null||p===void 0?void 0:p.call(y,h)},i.getElementId=function(d){return"".concat(i.state.instancePrefix,"-").concat(d)},i.getComponents=function(){return NY(i.props)},i.buildCategorizedOptions=function(){return Jm(i.props,i.state.selectValue)},i.getCategorizedOptions=function(){return i.props.menuIsOpen?i.buildCategorizedOptions():[]},i.buildFocusableOptions=function(){return OD(i.buildCategorizedOptions())},i.getFocusableOptions=function(){return i.props.menuIsOpen?i.buildFocusableOptions():[]},i.ariaOnChange=function(d,h){i.setState({ariaSelection:Ye({value:d},h)})},i.onMenuMouseDown=function(d){d.button===0&&(d.stopPropagation(),d.preventDefault(),i.focusInput())},i.onMenuMouseMove=function(d){i.blockOptionHover=!1},i.onControlMouseDown=function(d){if(!d.defaultPrevented){var h=i.props.openMenuOnClick;i.state.isFocused?i.props.menuIsOpen?d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&i.onMenuClose():h&&i.openMenu("first"):(h&&(i.openAfterFocus=!0),i.focusInput()),d.target.tagName!=="INPUT"&&d.target.tagName!=="TEXTAREA"&&d.preventDefault()}},i.onDropdownIndicatorMouseDown=function(d){if(!(d&&d.type==="mousedown"&&d.button!==0)&&!i.props.isDisabled){var h=i.props,p=h.isMulti,y=h.menuIsOpen;i.focusInput(),y?(i.setState({inputIsHiddenAfterUpdate:!p}),i.onMenuClose()):i.openMenu("first"),d.preventDefault()}},i.onClearIndicatorMouseDown=function(d){d&&d.type==="mousedown"&&d.button!==0||(i.clearValue(),d.preventDefault(),i.openAfterFocus=!1,d.type==="touchend"?i.focusInput():setTimeout(function(){return i.focusInput()}))},i.onScroll=function(d){typeof i.props.closeMenuOnScroll=="boolean"?d.target instanceof HTMLElement&&Mg(d.target)&&i.props.onMenuClose():typeof i.props.closeMenuOnScroll=="function"&&i.props.closeMenuOnScroll(d)&&i.props.onMenuClose()},i.onCompositionStart=function(){i.isComposing=!0},i.onCompositionEnd=function(){i.isComposing=!1},i.onTouchStart=function(d){var h=d.touches,p=h&&h.item(0);p&&(i.initialTouchX=p.clientX,i.initialTouchY=p.clientY,i.userIsDragging=!1)},i.onTouchMove=function(d){var h=d.touches,p=h&&h.item(0);if(p){var y=Math.abs(p.clientX-i.initialTouchX),w=Math.abs(p.clientY-i.initialTouchY),E=5;i.userIsDragging=y>E||w>E}},i.onTouchEnd=function(d){i.userIsDragging||(i.controlRef&&!i.controlRef.contains(d.target)&&i.menuListRef&&!i.menuListRef.contains(d.target)&&i.blurInput(),i.initialTouchX=0,i.initialTouchY=0)},i.onControlTouchEnd=function(d){i.userIsDragging||i.onControlMouseDown(d)},i.onClearIndicatorTouchEnd=function(d){i.userIsDragging||i.onClearIndicatorMouseDown(d)},i.onDropdownIndicatorTouchEnd=function(d){i.userIsDragging||i.onDropdownIndicatorMouseDown(d)},i.handleInputChange=function(d){var h=i.props.inputValue,p=d.currentTarget.value;i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange(p,{action:"input-change",prevInputValue:h}),i.props.menuIsOpen||i.onMenuOpen()},i.onInputFocus=function(d){i.props.onFocus&&i.props.onFocus(d),i.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(i.openAfterFocus||i.props.openMenuOnFocus)&&i.openMenu("first"),i.openAfterFocus=!1},i.onInputBlur=function(d){var h=i.props.inputValue;if(i.menuListRef&&i.menuListRef.contains(document.activeElement)){i.inputRef.focus();return}i.props.onBlur&&i.props.onBlur(d),i.onInputChange("",{action:"input-blur",prevInputValue:h}),i.onMenuClose(),i.setState({focusedValue:null,isFocused:!1})},i.onOptionHover=function(d){if(!(i.blockOptionHover||i.state.focusedOption===d)){var h=i.getFocusableOptions(),p=h.indexOf(d);i.setState({focusedOption:d,focusedOptionId:p>-1?i.getFocusedOptionId(d):null})}},i.shouldHideSelectedOptions=function(){return kD(i.props)},i.onValueInputFocus=function(d){d.preventDefault(),d.stopPropagation(),i.focus()},i.onKeyDown=function(d){var h=i.props,p=h.isMulti,y=h.backspaceRemovesValue,w=h.escapeClearsValue,E=h.inputValue,N=h.isClearable,P=h.isDisabled,V=h.menuIsOpen,z=h.onKeyDown,F=h.tabSelectsValue,$=h.openMenuOnFocus,Q=i.state,O=Q.focusedOption,M=Q.focusedValue,C=Q.selectValue;if(!P&&!(typeof z=="function"&&(z(d),d.defaultPrevented))){switch(i.blockOptionHover=!0,d.key){case"ArrowLeft":if(!p||E)return;i.focusValue("previous");break;case"ArrowRight":if(!p||E)return;i.focusValue("next");break;case"Delete":case"Backspace":if(E)return;if(M)i.removeValue(M);else{if(!y)return;p?i.popValue():N&&i.clearValue()}break;case"Tab":if(i.isComposing||d.shiftKey||!V||!F||!O||$&&i.isOptionSelected(O,C))return;i.selectOption(O);break;case"Enter":if(d.keyCode===229)break;if(V){if(!O||i.isComposing)return;i.selectOption(O);break}return;case"Escape":V?(i.setState({inputIsHiddenAfterUpdate:!1}),i.onInputChange("",{action:"menu-close",prevInputValue:E}),i.onMenuClose()):N&&w&&i.clearValue();break;case" ":if(E)return;if(!V){i.openMenu("first");break}if(!O)return;i.selectOption(O);break;case"ArrowUp":V?i.focusOption("up"):i.openMenu("last");break;case"ArrowDown":V?i.focusOption("down"):i.openMenu("first");break;case"PageUp":if(!V)return;i.focusOption("pageup");break;case"PageDown":if(!V)return;i.focusOption("pagedown");break;case"Home":if(!V)return;i.focusOption("first");break;case"End":if(!V)return;i.focusOption("last");break;default:return}d.preventDefault()}},i.state.instancePrefix="react-select-"+(i.props.instanceId||++vX),i.state.selectValue=zC(r.value),r.menuIsOpen&&i.state.selectValue.length){var o=i.getFocusableOptionsWithIds(),l=i.buildFocusableOptions(),c=l.indexOf(i.state.selectValue[0]);i.state.focusableOptionsWithIds=o,i.state.focusedOption=l[c],i.state.focusedOptionId=T0(o,l[c])}return i}return kG(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&BC(this.menuListRef,this.focusedOptionRef),nX()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(i){var o=this.props,l=o.isDisabled,c=o.menuIsOpen,d=this.state.isFocused;(d&&!l&&i.isDisabled||d&&c&&!i.menuIsOpen)&&this.focusInput(),d&&l&&!i.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!d&&!l&&i.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(BC(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(i,o){this.props.onInputChange(i,o)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(i){var o=this,l=this.state,c=l.selectValue,d=l.isFocused,h=this.buildFocusableOptions(),p=i==="first"?0:h.length-1;if(!this.props.isMulti){var y=h.indexOf(c[0]);y>-1&&(p=y)}this.scrollToFocusedOptionOnUpdate=!(d&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:h[p],focusedOptionId:this.getFocusedOptionId(h[p])},function(){return o.onMenuOpen()})}},{key:"focusValue",value:function(i){var o=this.state,l=o.selectValue,c=o.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var d=l.indexOf(c);c||(d=-1);var h=l.length-1,p=-1;if(l.length){switch(i){case"previous":d===0?p=0:d===-1?p=h:p=d-1;break;case"next":d>-1&&d<h&&(p=d+1);break}this.setState({inputIsHidden:p!==-1,focusedValue:l[p]})}}}},{key:"focusOption",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",o=this.props.pageSize,l=this.state.focusedOption,c=this.getFocusableOptions();if(c.length){var d=0,h=c.indexOf(l);l||(h=-1),i==="up"?d=h>0?h-1:c.length-1:i==="down"?d=(h+1)%c.length:i==="pageup"?(d=h-o,d<0&&(d=0)):i==="pagedown"?(d=h+o,d>c.length-1&&(d=c.length-1)):i==="last"&&(d=c.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:c[d],focusedValue:null,focusedOptionId:this.getFocusedOptionId(c[d])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(S0):Ye(Ye({},S0),this.props.theme):S0}},{key:"getCommonProps",value:function(){var i=this.clearValue,o=this.cx,l=this.getStyles,c=this.getClassNames,d=this.getValue,h=this.selectOption,p=this.setValue,y=this.props,w=y.isMulti,E=y.isRtl,N=y.options,P=this.hasValue();return{clearValue:i,cx:o,getStyles:l,getClassNames:c,getValue:d,hasValue:P,isMulti:w,isRtl:E,options:N,selectOption:h,selectProps:y,setValue:p,theme:this.getTheme()}}},{key:"hasValue",value:function(){var i=this.state.selectValue;return i.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var i=this.props,o=i.isClearable,l=i.isMulti;return o===void 0?l:o}},{key:"isOptionDisabled",value:function(i,o){return PD(this.props,i,o)}},{key:"isOptionSelected",value:function(i,o){return DD(this.props,i,o)}},{key:"filterOption",value:function(i,o){return jD(this.props,i,o)}},{key:"formatOptionLabel",value:function(i,o){if(typeof this.props.formatOptionLabel=="function"){var l=this.props.inputValue,c=this.state.selectValue;return this.props.formatOptionLabel(i,{context:o,inputValue:l,selectValue:c})}else return this.getOptionLabel(i)}},{key:"formatGroupLabel",value:function(i){return this.props.formatGroupLabel(i)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var i=this.props,o=i.isDisabled,l=i.isSearchable,c=i.inputId,d=i.inputValue,h=i.tabIndex,p=i.form,y=i.menuIsOpen,w=i.required,E=this.getComponents(),N=E.Input,P=this.state,V=P.inputIsHidden,z=P.ariaSelection,F=this.commonProps,$=c||this.getElementId("input"),Q=Ye(Ye(Ye({"aria-autocomplete":"list","aria-expanded":y,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":w,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},y&&{"aria-controls":this.getElementId("listbox")}),!l&&{"aria-readonly":!0}),this.hasValue()?z?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return l?R.createElement(N,tt({},F,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:$,innerRef:this.getInputRef,isDisabled:o,isHidden:V,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:h,form:p,type:"text",value:d},Q)):R.createElement(HY,tt({id:$,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Up,onFocus:this.onInputFocus,disabled:o,tabIndex:h,inputMode:"none",form:p,value:""},Q))}},{key:"renderPlaceholderOrValue",value:function(){var i=this,o=this.getComponents(),l=o.MultiValue,c=o.MultiValueContainer,d=o.MultiValueLabel,h=o.MultiValueRemove,p=o.SingleValue,y=o.Placeholder,w=this.commonProps,E=this.props,N=E.controlShouldRenderValue,P=E.isDisabled,V=E.isMulti,z=E.inputValue,F=E.placeholder,$=this.state,Q=$.selectValue,O=$.focusedValue,M=$.isFocused;if(!this.hasValue()||!N)return z?null:R.createElement(y,tt({},w,{key:"placeholder",isDisabled:P,isFocused:M,innerProps:{id:this.getElementId("placeholder")}}),F);if(V)return Q.map(function(I,A){var S=I===O,k="".concat(i.getOptionLabel(I),"-").concat(i.getOptionValue(I));return R.createElement(l,tt({},w,{components:{Container:c,Label:d,Remove:h},isFocused:S,isDisabled:P,key:k,index:A,removeProps:{onClick:function(){return i.removeValue(I)},onTouchEnd:function(){return i.removeValue(I)},onMouseDown:function(j){j.preventDefault()}},data:I}),i.formatOptionLabel(I,"value"))});if(z)return null;var C=Q[0];return R.createElement(p,tt({},w,{data:C,isDisabled:P}),this.formatOptionLabel(C,"value"))}},{key:"renderClearIndicator",value:function(){var i=this.getComponents(),o=i.ClearIndicator,l=this.commonProps,c=this.props,d=c.isDisabled,h=c.isLoading,p=this.state.isFocused;if(!this.isClearable()||!o||d||!this.hasValue()||h)return null;var y={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return R.createElement(o,tt({},l,{innerProps:y,isFocused:p}))}},{key:"renderLoadingIndicator",value:function(){var i=this.getComponents(),o=i.LoadingIndicator,l=this.commonProps,c=this.props,d=c.isDisabled,h=c.isLoading,p=this.state.isFocused;if(!o||!h)return null;var y={"aria-hidden":"true"};return R.createElement(o,tt({},l,{innerProps:y,isDisabled:d,isFocused:p}))}},{key:"renderIndicatorSeparator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator,l=i.IndicatorSeparator;if(!o||!l)return null;var c=this.commonProps,d=this.props.isDisabled,h=this.state.isFocused;return R.createElement(l,tt({},c,{isDisabled:d,isFocused:h}))}},{key:"renderDropdownIndicator",value:function(){var i=this.getComponents(),o=i.DropdownIndicator;if(!o)return null;var l=this.commonProps,c=this.props.isDisabled,d=this.state.isFocused,h={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return R.createElement(o,tt({},l,{innerProps:h,isDisabled:c,isFocused:d}))}},{key:"renderMenu",value:function(){var i=this,o=this.getComponents(),l=o.Group,c=o.GroupHeading,d=o.Menu,h=o.MenuList,p=o.MenuPortal,y=o.LoadingMessage,w=o.NoOptionsMessage,E=o.Option,N=this.commonProps,P=this.state.focusedOption,V=this.props,z=V.captureMenuScroll,F=V.inputValue,$=V.isLoading,Q=V.loadingMessage,O=V.minMenuHeight,M=V.maxMenuHeight,C=V.menuIsOpen,I=V.menuPlacement,A=V.menuPosition,S=V.menuPortalTarget,k=V.menuShouldBlockScroll,H=V.menuShouldScrollIntoView,j=V.noOptionsMessage,K=V.onMenuScrollToTop,Z=V.onMenuScrollToBottom;if(!C)return null;var B=function(Y,ne){var se=Y.type,le=Y.data,ge=Y.isDisabled,Ee=Y.isSelected,Pe=Y.label,Ne=Y.value,ze=P===le,We=ge?void 0:function(){return i.onOptionHover(le)},Xe=ge?void 0:function(){return i.selectOption(le)},me="".concat(i.getElementId("option"),"-").concat(ne),Ce={id:me,onClick:Xe,onMouseMove:We,onMouseOver:We,tabIndex:-1,role:"option","aria-selected":i.state.isAppleDevice?void 0:Ee};return R.createElement(E,tt({},N,{innerProps:Ce,data:le,isDisabled:ge,isSelected:Ee,key:me,label:Pe,type:se,value:Ne,isFocused:ze,innerRef:ze?i.getFocusedOptionRef:void 0}),i.formatOptionLabel(Y.data,"menu"))},T;if(this.hasOptions())T=this.getCategorizedOptions().map(function(X){if(X.type==="group"){var Y=X.data,ne=X.options,se=X.index,le="".concat(i.getElementId("group"),"-").concat(se),ge="".concat(le,"-heading");return R.createElement(l,tt({},N,{key:le,data:Y,options:ne,Heading:c,headingProps:{id:ge,data:X.data},label:i.formatGroupLabel(X.data)}),X.options.map(function(Ee){return B(Ee,"".concat(se,"-").concat(Ee.index))}))}else if(X.type==="option")return B(X,"".concat(X.index))});else if($){var J=Q({inputValue:F});if(J===null)return null;T=R.createElement(y,N,J)}else{var W=j({inputValue:F});if(W===null)return null;T=R.createElement(w,N,W)}var x={minMenuHeight:O,maxMenuHeight:M,menuPlacement:I,menuPosition:A,menuShouldScrollIntoView:H},U=R.createElement(_W,tt({},N,x),function(X){var Y=X.ref,ne=X.placerProps,se=ne.placement,le=ne.maxHeight;return R.createElement(d,tt({},N,x,{innerRef:Y,innerProps:{onMouseDown:i.onMenuMouseDown,onMouseMove:i.onMenuMouseMove},isLoading:$,placement:se}),R.createElement(YY,{captureEnabled:z,onTopArrive:K,onBottomArrive:Z,lockEnabled:k},function(ge){return R.createElement(h,tt({},N,{innerRef:function(Pe){i.getMenuListRef(Pe),ge(Pe)},innerProps:{role:"listbox","aria-multiselectable":N.isMulti,id:i.getElementId("listbox")},isLoading:$,maxHeight:le,focusedOption:P}),T)}))});return S||A==="fixed"?R.createElement(p,tt({},N,{appendTo:S,controlElement:this.controlRef,menuPlacement:I,menuPosition:A}),U):U}},{key:"renderFormField",value:function(){var i=this,o=this.props,l=o.delimiter,c=o.isDisabled,d=o.isMulti,h=o.name,p=o.required,y=this.state.selectValue;if(p&&!this.hasValue()&&!c)return R.createElement(ZY,{name:h,onFocus:this.onValueInputFocus});if(!(!h||c))if(d)if(l){var w=y.map(function(P){return i.getOptionValue(P)}).join(l);return R.createElement("input",{name:h,type:"hidden",value:w})}else{var E=y.length>0?y.map(function(P,V){return R.createElement("input",{key:"i-".concat(V),name:h,type:"hidden",value:i.getOptionValue(P)})}):R.createElement("input",{name:h,type:"hidden",value:""});return R.createElement("div",null,E)}else{var N=y[0]?this.getOptionValue(y[0]):"";return R.createElement("input",{name:h,type:"hidden",value:N})}}},{key:"renderLiveRegion",value:function(){var i=this.commonProps,o=this.state,l=o.ariaSelection,c=o.focusedOption,d=o.focusedValue,h=o.isFocused,p=o.selectValue,y=this.getFocusableOptions();return R.createElement(LY,tt({},i,{id:this.getElementId("live-region"),ariaSelection:l,focusedOption:c,focusedValue:d,isFocused:h,selectValue:p,focusableOptions:y,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var i=this.getComponents(),o=i.Control,l=i.IndicatorsContainer,c=i.SelectContainer,d=i.ValueContainer,h=this.props,p=h.className,y=h.id,w=h.isDisabled,E=h.menuIsOpen,N=this.state.isFocused,P=this.commonProps=this.getCommonProps();return R.createElement(c,tt({},P,{className:p,innerProps:{id:y,onKeyDown:this.onKeyDown},isDisabled:w,isFocused:N}),this.renderLiveRegion(),R.createElement(o,tt({},P,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:w,isFocused:N,menuIsOpen:E}),R.createElement(d,tt({},P,{isDisabled:w}),this.renderPlaceholderOrValue(),this.renderInput()),R.createElement(l,tt({},P,{isDisabled:w}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(i,o){var l=o.prevProps,c=o.clearFocusValueOnUpdate,d=o.inputIsHiddenAfterUpdate,h=o.ariaSelection,p=o.isFocused,y=o.prevWasFocused,w=o.instancePrefix,E=i.options,N=i.value,P=i.menuIsOpen,V=i.inputValue,z=i.isMulti,F=zC(N),$={};if(l&&(N!==l.value||E!==l.options||P!==l.menuIsOpen||V!==l.inputValue)){var Q=P?mX(i,F):[],O=P?tR(Jm(i,F),"".concat(w,"-option")):[],M=c?pX(o,F):null,C=gX(o,Q),I=T0(O,C);$={selectValue:F,focusedOption:C,focusedOptionId:I,focusableOptionsWithIds:O,focusedValue:M,clearFocusValueOnUpdate:!1}}var A=d!=null&&i!==l?{inputIsHidden:d,inputIsHiddenAfterUpdate:void 0}:{},S=h,k=p&&y;return p&&!k&&(S={value:Cm(z,F,F[0]||null),options:F,action:"initial-input-focus"},k=!y),h?.action==="initial-input-focus"&&(S=null),Ye(Ye(Ye({},$),A),{},{prevProps:i,ariaSelection:S,prevWasFocused:k})}}]),n}(R.Component);LD.defaultProps=hX;var yX=R.forwardRef(function(t,e){var n=DG(t);return R.createElement(LD,tt({ref:e},n))}),mf=yX;const bX=JSON.parse(`[{"value":"AF","label":"Afghanistan"},{"value":"AX","label":"land Islands"},{"value":"AL","label":"Albania"},{"value":"DZ","label":"Algeria"},{"value":"AS","label":"American Samoa"},{"value":"AD","label":"Andorra"},{"value":"AO","label":"Angola"},{"value":"AI","label":"Anguilla"},{"value":"AQ","label":"Antarctica"},{"value":"AG","label":"Antigua and Barbuda"},{"value":"AR","label":"Argentina"},{"value":"AM","label":"Armenia"},{"value":"AW","label":"Aruba"},{"value":"AU","label":"Australia"},{"value":"AT","label":"Austria"},{"value":"AZ","label":"Azerbaijan"},{"value":"BS","label":"Bahamas"},{"value":"BH","label":"Bahrain"},{"value":"BD","label":"Bangladesh"},{"value":"BB","label":"Barbados"},{"value":"BY","label":"Belarus"},{"value":"BE","label":"Belgium"},{"value":"BZ","label":"Belize"},{"value":"BJ","label":"Benin"},{"value":"BM","label":"Bermuda"},{"value":"BT","label":"Bhutan"},{"value":"BO","label":"Bolivia, Plurinational State of"},{"value":"BQ","label":"Bonaire, Sint Eustatius and Saba"},{"value":"BA","label":"Bosnia and Herzegovina"},{"value":"BW","label":"Botswana"},{"value":"BV","label":"Bouvet Island"},{"value":"BR","label":"Brazil"},{"value":"IO","label":"British Indian Ocean Territory"},{"value":"BN","label":"Brunei Darussalam"},{"value":"BG","label":"Bulgaria"},{"value":"BF","label":"Burkina Faso"},{"value":"BI","label":"Burundi"},{"value":"CV","label":"Cabo Verde"},{"value":"KH","label":"Cambodia"},{"value":"CM","label":"Cameroon"},{"value":"CA","label":"Canada"},{"value":"KY","label":"Cayman Islands"},{"value":"CF","label":"Central African Republic"},{"value":"TD","label":"Chad"},{"value":"CL","label":"Chile"},{"value":"CN","label":"China"},{"value":"CX","label":"Christmas Island"},{"value":"CC","label":"Cocos (Keeling) Islands"},{"value":"CO","label":"Colombia"},{"value":"KM","label":"Comoros"},{"value":"CG","label":"Congo"},{"value":"CD","label":"Congo, Democratic Republic of the"},{"value":"CK","label":"Cook Islands"},{"value":"CR","label":"Costa Rica"},{"value":"HR","label":"Croatia"},{"value":"CU","label":"Cuba"},{"value":"CW","label":"Curaao"},{"value":"CY","label":"Cyprus"},{"value":"CZ","label":"Czechia"},{"value":"CI","label":"Cte d'Ivoire"},{"value":"DK","label":"Denmark"},{"value":"DJ","label":"Djibouti"},{"value":"DM","label":"Dominica"},{"value":"DO","label":"Dominican Republic"},{"value":"EC","label":"Ecuador"},{"value":"EG","label":"Egypt"},{"value":"SV","label":"El Salvador"},{"value":"GQ","label":"Equatorial Guinea"},{"value":"ER","label":"Eritrea"},{"value":"EE","label":"Estonia"},{"value":"SZ","label":"Eswatini"},{"value":"ET","label":"Ethiopia"},{"value":"FK","label":"Falkland Islands (Malvinas)"},{"value":"FO","label":"Faroe Islands"},{"value":"FJ","label":"Fiji"},{"value":"FI","label":"Finland"},{"value":"FR","label":"France"},{"value":"GF","label":"French Guiana"},{"value":"PF","label":"French Polynesia"},{"value":"TF","label":"French Southern Territories"},{"value":"GA","label":"Gabon"},{"value":"GM","label":"Gambia"},{"value":"GE","label":"Georgia"},{"value":"DE","label":"Germany"},{"value":"GH","label":"Ghana"},{"value":"GI","label":"Gibraltar"},{"value":"GR","label":"Greece"},{"value":"GL","label":"Greenland"},{"value":"GD","label":"Grenada"},{"value":"GP","label":"Guadeloupe"},{"value":"GU","label":"Guam"},{"value":"GT","label":"Guatemala"},{"value":"GG","label":"Guernsey"},{"value":"GN","label":"Guinea"},{"value":"GW","label":"Guinea-Bissau"},{"value":"GY","label":"Guyana"},{"value":"HT","label":"Haiti"},{"value":"HM","label":"Heard Island and McDonald Islands"},{"value":"VA","label":"Holy See"},{"value":"HN","label":"Honduras"},{"value":"HK","label":"Hong Kong"},{"value":"HU","label":"Hungary"},{"value":"IS","label":"Iceland"},{"value":"IN","label":"India"},{"value":"ID","label":"Indonesia"},{"value":"IR","label":"Iran, Islamic Republic of"},{"value":"IQ","label":"Iraq"},{"value":"IE","label":"Ireland"},{"value":"IM","label":"Isle of Man"},{"value":"IL","label":"Israel"},{"value":"IT","label":"Italy"},{"value":"JM","label":"Jamaica"},{"value":"JP","label":"Japan"},{"value":"JE","label":"Jersey"},{"value":"JO","label":"Jordan"},{"value":"KZ","label":"Kazakhstan"},{"value":"KE","label":"Kenya"},{"value":"KI","label":"Kiribati"},{"value":"KP","label":"Korea, Democratic People's Republic of"},{"value":"KR","label":"Korea, Republic of"},{"value":"KW","label":"Kuwait"},{"value":"KG","label":"Kyrgyzstan"},{"value":"LA","label":"Lao People's Democratic Republic"},{"value":"LV","label":"Latvia"},{"value":"LB","label":"Lebanon"},{"value":"LS","label":"Lesotho"},{"value":"LR","label":"Liberia"},{"value":"LY","label":"Libya"},{"value":"LI","label":"Liechtenstein"},{"value":"LT","label":"Lithuania"},{"value":"LU","label":"Luxembourg"},{"value":"MO","label":"Macao"},{"value":"MG","label":"Madagascar"},{"value":"MW","label":"Malawi"},{"value":"MY","label":"Malaysia"},{"value":"MV","label":"Maldives"},{"value":"ML","label":"Mali"},{"value":"MT","label":"Malta"},{"value":"MH","label":"Marshall Islands"},{"value":"MQ","label":"Martinique"},{"value":"MR","label":"Mauritania"},{"value":"MU","label":"Mauritius"},{"value":"YT","label":"Mayotte"},{"value":"MX","label":"Mexico"},{"value":"FM","label":"Micronesia, Federated States of"},{"value":"MD","label":"Moldova, Republic of"},{"value":"MC","label":"Monaco"},{"value":"MN","label":"Mongolia"},{"value":"ME","label":"Montenegro"},{"value":"MS","label":"Montserrat"},{"value":"MA","label":"Morocco"},{"value":"MZ","label":"Mozambique"},{"value":"MM","label":"Myanmar"},{"value":"NA","label":"Namibia"},{"value":"NR","label":"Nauru"},{"value":"NP","label":"Nepal"},{"value":"NL","label":"Netherlands"},{"value":"NC","label":"New Caledonia"},{"value":"NZ","label":"New Zealand"},{"value":"NI","label":"Nicaragua"},{"value":"NE","label":"Niger"},{"value":"NG","label":"Nigeria"},{"value":"NU","label":"Niue"},{"value":"NF","label":"Norfolk Island"},{"value":"MK","label":"North Macedonia"},{"value":"MP","label":"Northern Mariana Islands"},{"value":"NO","label":"Norway"},{"value":"OM","label":"Oman"},{"value":"PK","label":"Pakistan"},{"value":"PW","label":"Palau"},{"value":"PS","label":"Palestine, State of"},{"value":"PA","label":"Panama"},{"value":"PG","label":"Papua New Guinea"},{"value":"PY","label":"Paraguay"},{"value":"PE","label":"Peru"},{"value":"PH","label":"Philippines"},{"value":"PN","label":"Pitcairn"},{"value":"PL","label":"Poland"},{"value":"PT","label":"Portugal"},{"value":"PR","label":"Puerto Rico"},{"value":"QA","label":"Qatar"},{"value":"RO","label":"Romania"},{"value":"RU","label":"Russian Federation"},{"value":"RW","label":"Rwanda"},{"value":"RE","label":"Runion"},{"value":"BL","label":"Saint Barthlemy"},{"value":"SH","label":"Saint Helena, Ascension and Tristan da Cunha"},{"value":"KN","label":"Saint Kitts and Nevis"},{"value":"LC","label":"Saint Lucia"},{"value":"MF","label":"Saint Martin (French part)"},{"value":"PM","label":"Saint Pierre and Miquelon"},{"value":"VC","label":"Saint Vincent and the Grenadines"},{"value":"WS","label":"Samoa"},{"value":"SM","label":"San Marino"},{"value":"ST","label":"Sao Tome and Principe"},{"value":"SA","label":"Saudi Arabia"},{"value":"SN","label":"Senegal"},{"value":"RS","label":"Serbia"},{"value":"SC","label":"Seychelles"},{"value":"SL","label":"Sierra Leone"},{"value":"SG","label":"Singapore"},{"value":"SX","label":"Sint Maarten (Dutch part)"},{"value":"SK","label":"Slovakia"},{"value":"SI","label":"Slovenia"},{"value":"SB","label":"Solomon Islands"},{"value":"SO","label":"Somalia"},{"value":"ZA","label":"South Africa"},{"value":"GS","label":"South Georgia and the South Sandwich Islands"},{"value":"SS","label":"South Sudan"},{"value":"ES","label":"Spain"},{"value":"LK","label":"Sri Lanka"},{"value":"SD","label":"Sudan"},{"value":"SR","label":"Suriname"},{"value":"SJ","label":"Svalbard and Jan Mayen"},{"value":"SE","label":"Sweden"},{"value":"CH","label":"Switzerland"},{"value":"SY","label":"Syrian Arab Republic"},{"value":"TW","label":"Taiwan, Province of China"},{"value":"TJ","label":"Tajikistan"},{"value":"TZ","label":"Tanzania, United Republic of"},{"value":"TH","label":"Thailand"},{"value":"TL","label":"Timor-Leste"},{"value":"TG","label":"Togo"},{"value":"TK","label":"Tokelau"},{"value":"TO","label":"Tonga"},{"value":"TT","label":"Trinidad and Tobago"},{"value":"TN","label":"Tunisia"},{"value":"TR","label":"Turkey"},{"value":"TM","label":"Turkmenistan"},{"value":"TC","label":"Turks and Caicos Islands"},{"value":"TV","label":"Tuvalu"},{"value":"UG","label":"Uganda"},{"value":"UA","label":"Ukraine"},{"value":"AE","label":"United Arab Emirates"},{"value":"GB","label":"United Kingdom"},{"value":"UM","label":"United States Minor Outlying Islands"},{"value":"US","label":"United States"},{"value":"UY","label":"Uruguay"},{"value":"UZ","label":"Uzbekistan"},{"value":"VU","label":"Vanuatu"},{"value":"VE","label":"Venezuela, Bolivarian Republic of"},{"value":"VN","label":"Viet Nam"},{"value":"VG","label":"Virgin Islands, British"},{"value":"VI","label":"Virgin Islands, U.S."},{"value":"WF","label":"Wallis and Futuna"},{"value":"EH","label":"Western Sahara"},{"value":"YE","label":"Yemen"},{"value":"ZM","label":"Zambia"},{"value":"ZW","label":"Zimbabwe"}]`),wX=JSON.parse(`[{"value":"AF","label":""},{"value":"AX","label":"land"},{"value":"AL","label":"Shqipria"},{"value":"DZ","label":""},{"value":"AS","label":"American Samoa"},{"value":"AD","label":"Andorra"},{"value":"AO","label":"Angola"},{"value":"AI","label":"Anguilla"},{"value":"AQ","label":"Antarctica"},{"value":"AG","label":"Antigua and Barbuda"},{"value":"AR","label":"Argentina"},{"value":"AM","label":""},{"value":"AW","label":"Aruba"},{"value":"AU","label":"Australia"},{"value":"AT","label":"sterreich"},{"value":"AZ","label":"Azrbaycan"},{"value":"BS","label":"Bahamas"},{"value":"BH","label":""},{"value":"BD","label":"Bangladesh"},{"value":"BB","label":"Barbados"},{"value":"BY","label":""},{"value":"BE","label":"Belgi"},{"value":"BZ","label":"Belize"},{"value":"BJ","label":"Bnin"},{"value":"BM","label":"Bermuda"},{"value":"BT","label":"brug-yul"},{"value":"BO","label":"Bolivia"},{"value":"BQ","label":"Bonaire"},{"value":"BA","label":"Bosna i Hercegovina"},{"value":"BW","label":"Botswana"},{"value":"BV","label":"Bouvetya"},{"value":"BR","label":"Brasil"},{"value":"IO","label":"British Indian Ocean Territory"},{"value":"BN","label":"Negara Brunei Darussalam"},{"value":"BG","label":""},{"value":"BF","label":"Burkina Faso"},{"value":"BI","label":"Burundi"},{"value":"KH","label":"Kmpcha"},{"value":"CM","label":"Cameroon"},{"value":"CA","label":"Canada"},{"value":"CV","label":"Cabo Verde"},{"value":"KY","label":"Cayman Islands"},{"value":"CF","label":"Kdrsse t Bafrka"},{"value":"TD","label":"Tchad"},{"value":"CL","label":"Chile"},{"value":"CN","label":""},{"value":"CX","label":"Christmas Island"},{"value":"CC","label":"Cocos (Keeling) Islands"},{"value":"CO","label":"Colombia"},{"value":"KM","label":"Komori"},{"value":"CG","label":"Rpublique du Congo"},{"value":"CD","label":"Rpublique dmocratique du Congo"},{"value":"CK","label":"Cook Islands"},{"value":"CR","label":"Costa Rica"},{"value":"CI","label":"Cte d'Ivoire"},{"value":"HR","label":"Hrvatska"},{"value":"CU","label":"Cuba"},{"value":"CW","label":"Curaao"},{"value":"CY","label":""},{"value":"CZ","label":"esk republika"},{"value":"DK","label":"Danmark"},{"value":"DJ","label":"Djibouti"},{"value":"DM","label":"Dominica"},{"value":"DO","label":"Repblica Dominicana"},{"value":"EC","label":"Ecuador"},{"value":"EG","label":""},{"value":"SV","label":"El Salvador"},{"value":"GQ","label":"Guinea Ecuatorial"},{"value":"ER","label":""},{"value":"EE","label":"Eesti"},{"value":"ET","label":""},{"value":"FK","label":"Falkland Islands"},{"value":"FO","label":"Froyar"},{"value":"FJ","label":"Fiji"},{"value":"FI","label":"Suomi"},{"value":"FR","label":"France"},{"value":"GF","label":"Guyane franaise"},{"value":"PF","label":"Polynsie franaise"},{"value":"TF","label":"Territoire des Terres australes et antarctiques fr"},{"value":"GA","label":"Gabon"},{"value":"GM","label":"Gambia"},{"value":"GE","label":""},{"value":"DE","label":"Deutschland"},{"value":"GH","label":"Ghana"},{"value":"GI","label":"Gibraltar"},{"value":"GR","label":""},{"value":"GL","label":"Kalaallit Nunaat"},{"value":"GD","label":"Grenada"},{"value":"GP","label":"Guadeloupe"},{"value":"GU","label":"Guam"},{"value":"GT","label":"Guatemala"},{"value":"GG","label":"Guernsey"},{"value":"GN","label":"Guine"},{"value":"GW","label":"Guin-Bissau"},{"value":"GY","label":"Guyana"},{"value":"HT","label":"Hati"},{"value":"HM","label":"Heard Island and McDonald Islands"},{"value":"VA","label":"Vaticano"},{"value":"HN","label":"Honduras"},{"value":"HK","label":""},{"value":"HU","label":"Magyarorszg"},{"value":"IS","label":"sland"},{"value":"IN","label":""},{"value":"ID","label":"Indonesia"},{"value":"IR","label":""},{"value":"IQ","label":""},{"value":"IE","label":"ire"},{"value":"IM","label":"Isle of Man"},{"value":"IL","label":""},{"value":"IT","label":"Italia"},{"value":"JM","label":"Jamaica"},{"value":"JP","label":""},{"value":"JE","label":"Jersey"},{"value":"JO","label":""},{"value":"KZ","label":""},{"value":"KE","label":"Kenya"},{"value":"KI","label":"Kiribati"},{"value":"KP","label":""},{"value":"KR","label":""},{"value":"KW","label":""},{"value":"KG","label":""},{"value":"LA","label":""},{"value":"LV","label":"Latvija"},{"value":"LB","label":""},{"value":"LS","label":"Lesotho"},{"value":"LR","label":"Liberia"},{"value":"LY","label":""},{"value":"LI","label":"Liechtenstein"},{"value":"LT","label":"Lietuva"},{"value":"LU","label":"Luxembourg"},{"value":"MO","label":""},{"value":"MK","label":" "},{"value":"MG","label":"Madagasikara"},{"value":"MW","label":"Malawi"},{"value":"MY","label":"Malaysia"},{"value":"MV","label":"Maldives"},{"value":"ML","label":"Mali"},{"value":"MT","label":"Malta"},{"value":"MH","label":"Maje"},{"value":"MQ","label":"Martinique"},{"value":"MR","label":""},{"value":"MU","label":"Maurice"},{"value":"YT","label":"Mayotte"},{"value":"MX","label":"Mxico"},{"value":"FM","label":"Micronesia"},{"value":"MD","label":"Moldova"},{"value":"MC","label":"Monaco"},{"value":"MN","label":" "},{"value":"ME","label":" "},{"value":"MS","label":"Montserrat"},{"value":"MA","label":""},{"value":"MZ","label":"Moambique"},{"value":"MM","label":""},{"value":"NA","label":"Namibia"},{"value":"NR","label":"Nauru"},{"value":"NP","label":""},{"value":"NL","label":"Nederland"},{"value":"NC","label":"Nouvelle-Caldonie"},{"value":"NZ","label":"New Zealand"},{"value":"NI","label":"Nicaragua"},{"value":"NE","label":"Niger"},{"value":"NG","label":"Nigeria"},{"value":"NU","label":"Niu"},{"value":"NF","label":"Norfolk Island"},{"value":"MP","label":"Northern Mariana Islands"},{"value":"NO","label":"Norge"},{"value":"OM","label":""},{"value":"PK","label":"Pakistan"},{"value":"PW","label":"Palau"},{"value":"PS","label":""},{"value":"PA","label":"Panam"},{"value":"PG","label":"Papua Niugini"},{"value":"PY","label":"Paraguay"},{"value":"PE","label":"Per"},{"value":"PH","label":"Pilipinas"},{"value":"PN","label":"Pitcairn Islands"},{"value":"PL","label":"Polska"},{"value":"PT","label":"Portugal"},{"value":"PR","label":"Puerto Rico"},{"value":"QA","label":""},{"value":"RE","label":"La Runion"},{"value":"RO","label":"Romnia"},{"value":"RU","label":""},{"value":"RW","label":"Rwanda"},{"value":"BL","label":"Saint-Barthlemy"},{"value":"SH","label":"Saint Helena"},{"value":"KN","label":"Saint Kitts and Nevis"},{"value":"LC","label":"Saint Lucia"},{"value":"MF","label":"Saint-Martin"},{"value":"PM","label":"Saint-Pierre-et-Miquelon"},{"value":"VC","label":"Saint Vincent and the Grenadines"},{"value":"WS","label":"Samoa"},{"value":"SM","label":"San Marino"},{"value":"ST","label":"So Tom e Prncipe"},{"value":"SA","label":" "},{"value":"SN","label":"Sngal"},{"value":"RS","label":""},{"value":"SC","label":"Seychelles"},{"value":"SL","label":"Sierra Leone"},{"value":"SG","label":"Singapore"},{"value":"SX","label":"Sint Maarten"},{"value":"SK","label":"Slovensko"},{"value":"SI","label":"Slovenija"},{"value":"SB","label":"Solomon Islands"},{"value":"SO","label":"Soomaaliya"},{"value":"ZA","label":"South Africa"},{"value":"GS","label":"South Georgia"},{"value":"SS","label":"South Sudan"},{"value":"ES","label":"Espaa"},{"value":"LK","label":"r lakva"},{"value":"SD","label":""},{"value":"SR","label":"Suriname"},{"value":"SJ","label":"Svalbard og Jan Mayen"},{"value":"SZ","label":"Swaziland"},{"value":"SE","label":"Sverige"},{"value":"CH","label":"Schweiz"},{"value":"SY","label":""},{"value":"TW","label":""},{"value":"TJ","label":""},{"value":"TZ","label":"Tanzania"},{"value":"TH","label":""},{"value":"TL","label":"Timor-Leste"},{"value":"TG","label":"Togo"},{"value":"TK","label":"Tokelau"},{"value":"TO","label":"Tonga"},{"value":"TT","label":"Trinidad and Tobago"},{"value":"TN","label":""},{"value":"TR","label":"Trkiye"},{"value":"TM","label":"Trkmenistan"},{"value":"TC","label":"Turks and Caicos Islands"},{"value":"TV","label":"Tuvalu"},{"value":"UG","label":"Uganda"},{"value":"UA","label":""},{"value":"AE","label":"   "},{"value":"GB","label":"United Kingdom"},{"value":"US","label":"United States"},{"value":"UM","label":"United States Minor Outlying Islands"},{"value":"UY","label":"Uruguay"},{"value":"UZ","label":"Ozbekiston"},{"value":"VU","label":"Vanuatu"},{"value":"VE","label":"Venezuela"},{"value":"VN","label":"Vit Nam"},{"value":"VG","label":"British Virgin Islands"},{"value":"VI","label":"United States Virgin Islands"},{"value":"WF","label":"Wallis et Futuna"},{"value":"EH","label":" "},{"value":"YE","label":""},{"value":"ZM","label":"Zambia"},{"value":"ZW","label":"Zimbabwe"}]`);var E0,rR;function xX(){if(rR)return E0;rR=1;class t{constructor(){this.data=bX,this.labelMap={},this.valueMap={},this.data.forEach(r=>{this.labelMap[r.label.toLowerCase()]=r.value,this.valueMap[r.value.toLowerCase()]=r.label})}getValue(r){return this.labelMap[r.toLowerCase()]}getLabel(r){return this.valueMap[r.toLowerCase()]}getLabels(){return this.data.map(r=>r.label)}getValues(){return this.data.map(r=>r.value)}getLabelList(){return this.labelMap}getValueList(){return this.valueMap}getData(){return this.data}setLabel(r,i){return this.data.forEach(o=>{o.value===r&&(o.label=i,this.valueMap[o.value.toLowerCase()]=o.label)}),this}setEmpty(r){return this.data.unshift({value:"",label:r}),this.valueMap[""]=r,this.labelMap[r]="",this}native(){return this.nativeData=wX,this.nativeData.forEach(r=>{this.labelMap[r.label.toLowerCase()]=r.value,this.valueMap[r.value.toLowerCase()]=r.label}),this}}return E0=()=>{if(!(this instanceof t))return new t},E0}var _X=xX();const Xb=$p(_X),os=[{id:"gardening",label:"Gardening Tools",img:"https://images.unsplash.com/photo-1598670207032-cc9236c34d08?auto=format&fit=crop&w=400"},{id:"crochet",label:"Crochet Fashion",img:"https://images.unsplash.com/photo-1599736762058-8eea1774fd5a?auto=format&fit=crop&w=400"},{id:"womens",label:"Women's Clothing",img:"https://images.unsplash.com/photo-1552374196-c4e7ffc6e126?auto=format&fit=crop&w=400"},{id:"mens",label:"Men's Clothing",img:"https://images.unsplash.com/photo-1512436991641-6745cdb1723f?auto=format&fit=crop&w=400"},{id:"hiking",label:"Hiking Gear",img:"https://images.unsplash.com/photo-1542317854-8aa9083bbc24?auto=format&fit=crop&w=400"},{id:"smart_home",label:"Smart Home",img:"https://images.unsplash.com/photo-1600585154340-be6161a56a0c?auto=format&fit=crop&w=400"},{id:"pet",label:"Pet Supplies",img:"https://images.unsplash.com/photo-1560807707-8cc77767d783?auto=format&fit=crop&w=400"},{id:"art_supplies",label:"Art Supplies",img:"https://images.unsplash.com/photo-1523978591478-c753949ff840?auto=format&fit=crop&w=400"},{id:"gaming",label:"Indie Gaming",img:"https://images.unsplash.com/photo-1585079543471-bbacd6e8b468?auto=format&fit=crop&w=400"},{id:"eco",label:"Eco Products",img:"https://images.unsplash.com/photo-1501004318641-b39e6451bec6?auto=format&fit=crop&w=400"},{id:"photography",label:"Photography",img:"https://images.unsplash.com/photo-1499084732479-de2c02d45fc4?auto=format&fit=crop&w=400"},{id:"yoga",label:"Yoga & Wellness",img:"https://images.unsplash.com/photo-1540213292854-43eeb5ddd3f0?auto=format&fit=crop&w=400"},{id:"cooking",label:"Cooking",img:"https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=400"},{id:"baking",label:"Baking",img:"https://images.unsplash.com/photo-1511690743698-d9d85f2fbf38?auto=format&fit=crop&w=400"},{id:"travel",label:"Travel",img:"https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=400"},{id:"fitness",label:"Fitness",img:"https://images.unsplash.com/photo-1554284126-aa88f22d8f70?auto=format&fit=crop&w=400"},{id:"cycling",label:"Cycling",img:"https://images.unsplash.com/photo-1520975928730-3ccadf0ecdad?auto=format&fit=crop&w=400"},{id:"running",label:"Running",img:"https://images.unsplash.com/photo-1508606572321-901ea4437077?auto=format&fit=crop&w=400"},{id:"camping",label:"Camping",img:"https://images.unsplash.com/photo-1502874757204-7c3b4b6706c6?auto=format&fit=crop&w=400"},{id:"music",label:"Music",img:"https://images.unsplash.com/photo-1511671782779-c97d3d27a1d4?auto=format&fit=crop&w=400"},{id:"movies",label:"Movies",img:"https://images.unsplash.com/photo-1524985069026-dd778a71c7b4?auto=format&fit=crop&w=400"},{id:"books",label:"Books",img:"https://images.unsplash.com/photo-1512820790803-83ca734da794?auto=format&fit=crop&w=400"},{id:"tech",label:"Tech Gadgets",img:"https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=400"},{id:"gaming_pc",label:"PC Gaming",img:"https://images.unsplash.com/photo-1587202372775-1e5f86b142a6?auto=format&fit=crop&w=400"},{id:"board_games",label:"Board Games",img:"https://images.unsplash.com/photo-1518684079-efe9a892b0ca?auto=format&fit=crop&w=400"},{id:"skincare",label:"Skincare",img:"https://images.unsplash.com/photo-1542831371-29b0f74f9713?auto=format&fit=crop&w=400"},{id:"makeup",label:"Makeup",img:"https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?auto=format&fit=crop&w=400"},{id:"jewelry",label:"Jewelry",img:"https://images.unsplash.com/photo-1522312346375-d1a52e2b99b3?auto=format&fit=crop&w=400"},{id:"watches",label:"Watches",img:"https://images.unsplash.com/photo-1518447694973-9dfb4b4fd477?auto=format&fit=crop&w=400"},{id:"coffee",label:"Coffee",img:"https://images.unsplash.com/photo-1509042239860-f550ce710b93?auto=format&fit=crop&w=400"},{id:"tea",label:"Tea",img:"https://images.unsplash.com/photo-1509042239860-f550ce710b93?auto=format&fit=crop&w=400"},{id:"wine",label:"Wine",img:"https://images.unsplash.com/photo-1510626176961-4b587103a3fb?auto=format&fit=crop&w=400"},{id:"beer",label:"Craft Beer",img:"https://images.unsplash.com/photo-1504123010108-59da3b3c7f33?auto=format&fit=crop&w=400"},{id:"fitness_tracker",label:"Wearables",img:"https://images.unsplash.com/photo-1579389083078-889ff329f64c?auto=format&fit=crop&w=400"},{id:"podcasting",label:"Podcasting",img:"https://images.unsplash.com/photo-1517677208171-0bc6725a3e60?auto=format&fit=crop&w=400"},{id:"gardening_flowers",label:"Flower Gardening",img:"https://images.unsplash.com/photo-1490845178177-8e1a6125b208?auto=format&fit=crop&w=400"},{id:"landscaping",label:"Landscaping",img:"https://images.unsplash.com/photo-1501004318641-b39e6451bec6?auto=format&fit=crop&w=400"},{id:"woodworking",label:"Woodworking",img:"https://images.unsplash.com/photo-1509021436665-8f07dbf5bf1d?auto=format&fit=crop&w=400"},{id:"diy",label:"DIY Projects",img:"https://images.unsplash.com/photo-1528756514091-dee94aca7121?auto=format&fit=crop&w=400"},{id:"coding",label:"Coding",img:"https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=400"},{id:"robotics",label:"Robotics",img:"https://images.unsplash.com/photo-1542751110-97427bbecf20?auto=format&fit=crop&w=400"},{id:"cryptocurrency",label:"Cryptocurrency",img:"https://images.unsplash.com/photo-1541731381301-512bc588bea7?auto=format&fit=crop&w=400"},{id:"investing",label:"Investing",img:"https://images.unsplash.com/photo-1554224154-22dec7ec8818?auto=format&fit=crop&w=400"},{id:"cars",label:"Cars",img:"https://images.unsplash.com/photo-1517949908111-96b77d5005b2?auto=format&fit=crop&w=400"},{id:"motorcycles",label:"Motorcycles",img:"https://images.unsplash.com/photo-1512436991641-6745cdb1723f?auto=format&fit=crop&w=400"},{id:"boats",label:"Boating",img:"https://images.unsplash.com/photo-1507537297725-24a1c029d3ca?auto=format&fit=crop&w=400"},{id:"fitness_classes",label:"Group Fitness",img:"https://images.unsplash.com/photo-1571019614076-7cd7282917d3?auto=format&fit=crop&w=400"},{id:"design",label:"Graphic Design",img:"https://images.unsplash.com/photo-1504384308090-c894fdcc538d?auto=format&fit=crop&w=400"},{id:"illustration",label:"Illustration",img:"https://images.unsplash.com/photo-1517694712202-14dd9538aa97?auto=format&fit=crop&w=400"},{id:"mindfulness",label:"Mindfulness",img:"https://images.unsplash.com/photo-1501080612430-3f04532c0d69?auto=format&fit=crop&w=400"},{id:"journaling",label:"Journaling",img:"https://images.unsplash.com/photo-1515378791036-0648a3ef77b2?auto=format&fit=crop&w=400"},{id:"parenting",label:"Parenting",img:"https://images.unsplash.com/photo-1519791883280-8e4bce8f3b55?auto=format&fit=crop&w=400"},{id:"language_learning",label:"Language Learning",img:"https://images.unsplash.com/photo-1529070538774-1843cb3265df?auto=format&fit=crop&w=400"},{id:"education",label:"Education",img:"https://images.unsplash.com/photo-1556740749-887f6717d7e4?auto=format&fit=crop&w=400"},{id:"environment",label:"Environmentalism",img:"https://images.unsplash.com/photo-1501004318641-b39e6451bec6?auto=format&fit=crop&w=400"},{id:"charity",label:"Charity",img:"https://images.unsplash.com/photo-1528747045269-390fe33c19a5?auto=format&fit=crop&w=400"},{id:"volunteering",label:"Volunteering",img:"https://images.unsplash.com/photo-1496386478603-3046d061fdd3?auto=format&fit=crop&w=400"},{id:"pets_dogs",label:"Dogs",img:"https://images.unsplash.com/photo-1518717758536-85ae29035b6d?auto=format&fit=crop&w=400"},{id:"pets_cats",label:"Cats",img:"https://images.unsplash.com/photo-1518791841217-8f162f1e1131?auto=format&fit=crop&w=400"}],Qb=[{label:"English",value:"en"},{label:"Espaol",value:"es"},{label:"Franais",value:"fr"}];function SX({onClick:t}){return g.jsxs(we.button,{whileTap:{scale:.9},onClick:t,className:"flex items-center gap-1 text-sm opacity-80 hover:opacity-100 mb-4 cursor-pointer transition-all duration-300",children:[g.jsx(wx,{size:18})," Back"]})}function y_(){const t=yG();return R.useEffect(()=>{t.start({opacity:1})},[t]),g.jsx(we.div,{className:"w-8 h-8 border-6 border-primary border-t-transparent rounded-full animate-spin","aria-label":"Loading",role:"status",initial:{opacity:0},animate:t,transition:{duration:.4,ease:"easeOut"}})}const TX=t=>{const e=["bg-[#4B3B2A]","bg-[#6F4E37]","bg-[#A68A64]","bg-[#8C6E54]","bg-[#7C5C45]","bg-[#D1BFA3]","bg-[#A89F91]","bg-[#C2B280]","bg-[#5E503F]","bg-[#3B3228]","bg-[#556B2F]","bg-[#4B5320]","bg-[#2E4E3F]","bg-[#3C5A4C]","bg-[#6A6051]","bg-[#746C57]","bg-[#91876E]","bg-[#5C544E]"];let n=0;for(let i=0;i<t.length;i++)n=t.charCodeAt(i)+((n<<5)-n);const r=Math.abs(n)%e.length;return e[r]},Zb=t=>t?t.toUpperCase().replace(/./g,e=>String.fromCodePoint(127397+e.charCodeAt(0))):"",Xs=t=>/^[a-zA-Z0-9_]+$/.test(t),b_=async(t,e)=>{try{const n=St(Ue,"users"),r=cn(n,Qt("username","==",t)),i=await on(r);return e?i.docs.some(o=>o.id!==e):!i.empty}catch(n){return console.error("Error checking username existence:",n),!1}},w_=async t=>{try{const{doc:e,getDoc:n}=await yx(async()=>{const{doc:i,getDoc:o}=await Promise.resolve().then(()=>CU);return{doc:i,getDoc:o}},void 0),r=await n(e(Ue,"users",t));return r.exists()?r.data():null}catch(e){return console.error("Error fetching user data:",e),null}},VD=async t=>{try{const e=cn(St(Ue,"users"),Qt("username","==",t)),n=await on(e);if(!n.empty){const r=n.docs[0];return{uid:r.id,...r.data()}}return null}catch(e){return console.error("Error fetching user by username:",e),null}},x_=async t=>{try{const e=cn(St(Ue,"trades"),Qt("uid","==",t));return(await on(e)).docs.map(r=>({id:r.id,...r.data()})).filter(r=>r.isAvailable!==!1)}catch(e){return console.error("Error fetching user trades:",e),[]}},__=async t=>{try{const e=cn(St(Ue,"users",t,"saves")),r=(await on(e)).docs.map(l=>l.id);if(r.length===0)return[];const i=cn(St(Ue,"posts"),Qt("__name__","in",r));return(await on(i)).docs.map(l=>({id:l.id,...l.data()}))}catch(e){return console.error("Error fetching saved posts:",e),[]}},UD=Object.freeze(Object.defineProperty({__proto__:null,checkUsernameExists:b_,fetchSavedPosts:__,fetchUserByUsername:VD,fetchUserData:w_,fetchUserTrades:x_},Symbol.toStringTag,{value:"Module"})),pd="bg-primary text-primary-foreground hover:bg-primary/80 cursor-pointer transition-all duration-200 active:scale-95 uppercase tracking-widest font-bold disabled:opacity-40 disabled:cursor-not-allowed",gd="rounded-md bg-muted px-3 py-2 text-sm sm:text-base outline-none focus:ring-2 ring-primary/80 transition-all duration-200",vd={initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}},iR={control:t=>({...t,background:"#1b1b1b",border:"none",minHeight:"2.6rem",cursor:"pointer"}),singleValue:t=>({...t,color:"#fff"}),input:t=>({...t,color:"#fff"}),placeholder:t=>({...t,color:"#888"}),menu:t=>({...t,background:"#1b1b1b"}),option:(t,e)=>({...t,background:e.isFocused?"#2a2a2a":"#1b1b1b",color:"#fff",cursor:"pointer"}),indicatorSeparator:()=>({display:"none"})},sR=t=>g.jsx(Pg.DropdownIndicator,{...t,children:g.jsx(Lf,{size:18,className:"text-muted-foreground"})}),EX=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,AX=t=>EX.test(t),CX=t=>/^(?=.*[A-Z])(?=.*\d)(?=.*[^A-Za-z0-9]).{8,}$/.test(t);function aR(){const t=jr(),[e,n]=R.useState("email"),[r,i]=R.useState(""),[o,l]=R.useState(""),[c,d]=R.useState(""),[h,p]=R.useState(null),[y,w]=R.useState(null),[E,N]=R.useState(""),[P,V]=R.useState(new Set),[z,F]=R.useState(""),[$,Q]=R.useState(!1),[O,M]=R.useState(null),C=AX(r),I=o.trim().length>1&&c.trim().length>2&&Xs(c)&&h&&y,A=P.size>0,S=CX(z),{user:k,pending:H}=Dr(),j=async()=>{if(!C)return M("Please enter a valid email address");try{const J=await cV(Vd,r);Q(J.length>0),n(J.length>0?"verify":"basic")}catch{M("Failed to check email. Please try again later.")}},K=async()=>{if(!I)return!o.trim()||!c.trim()||!h||!y||Xs(c)?M("Fill out all required fields"):M("Username can only contain letters, numbers, and underscores");if(await b_(c)){M("Username already exists. Please choose a different one.");return}n("interests")},Z=()=>{if(!A)return M("Select at least one interest");n("verify")},B=async()=>{if(!S)return M("Password must be at least 8 characters, include one uppercase, one number, and one special character");try{if($)await lV(Vd,r,z);else{const J=await oV(Vd,r,z);await TN(J.user,{displayName:o}),await dl(rn(Ue,"users",J.user.uid),{displayName:o,username:c,avatar:J.user.photoURL||"",country:h?.value||"",language:y?.value||"",interests:Array.from(P)})}t("/dashboard")}catch{M("Authentication failed. Please check your credentials.")}},T=()=>{t("/dashboard")};return g.jsxs("div",{className:"mx-auto w-full max-w-sm px-4 pt-6 sm:px-6 text-center",children:[g.jsx(we.img,{src:"/icon.png",alt:"logo",className:"w-24 h-24 mx-auto mb-2",initial:{y:-10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5,ease:"backOut"}}),H?g.jsx("div",{className:"flex justify-center items-center h-24",children:g.jsx(y_,{})}):k?g.jsxs(we.div,{...vd,className:"mt-4",children:[g.jsx("h2",{className:"text-2xl sm:text-3xl font-extrabold mb-0 text-white",children:"Welcome"}),g.jsxs("p",{className:"text-sm sm:text-base mb-4 text-white/70",children:["Continue to your ",g.jsx("span",{className:"text-primary",children:"dashboard"}),"."]}),g.jsx(we.button,{whileTap:{scale:.97},onClick:T,className:`w-full rounded-md py-2 ${pd}`,children:"Go to Dashboard"})]}):g.jsxs(g.Fragment,{children:[O&&g.jsx("div",{className:"bg-red-500/20 text-destructive text-sm sm:text-base rounded-md px-3 py-2 mb-4",role:"alert",children:O}),e!=="email"&&g.jsx(SX,{onClick:()=>{e==="basic"?n("email"):e==="interests"?n("basic"):e==="verify"&&n($?"email":"interests")}}),g.jsxs(yn,{mode:"wait",children:[e==="email"&&g.jsxs(we.div,{...vd,children:[g.jsx("h2",{className:"text-2xl sm:text-3xl font-extrabold mb-0 text-white",children:"Welcome"}),g.jsxs("p",{className:"text-sm sm:text-base mb-6",children:["Enter your ",g.jsx("span",{className:"text-primary",children:"email"})," to continue."]}),g.jsx("label",{className:"block text-sm sm:text-base text-left mb-1",children:"Email"}),g.jsxs("div",{className:"relative",children:[g.jsx(Iz,{className:"absolute left-3 top-1/2 -translate-y-1/2 opacity-50",size:18}),g.jsx("input",{type:"email",value:r,onChange:J=>{i(J.target.value),M(null)},className:`pl-10 w-full ${gd}`,placeholder:"you@example.com"})]}),g.jsx(we.button,{onClick:j,className:`mt-6 w-full rounded-md py-2 ${pd}`,disabled:!C,children:"Continue"})]},"email"),e==="basic"&&g.jsxs(we.div,{...vd,children:[g.jsx("h2",{className:"text-2xl sm:text-3xl font-extrabold mb-0 text-white",children:"Basic Info"}),g.jsxs("p",{className:"text-sm sm:text-base mb-5",children:["Let us get to ",g.jsx("span",{className:"text-primary",children:"know"})," you better."]}),g.jsx("label",{className:"block text-sm sm:text-base text-left mb-1",children:"Name"}),g.jsx("input",{value:o,onChange:J=>{l(J.target.value),M(null)},placeholder:"John Doe",className:`w-full mb-3 ${gd}`}),g.jsx("label",{className:"block text-sm sm:text-base text-left mb-1",children:"Username"}),g.jsx("input",{value:c,onChange:J=>{d(J.target.value),M(null)},placeholder:"johndoe123",className:`w-full mb-3 ${gd} ${c&&!Xs(c)?"border-red-500 focus:border-red-500":c&&Xs(c)?"border-green-500 focus:border-green-500":""}`}),c&&!Xs(c)&&g.jsx("p",{className:"text-red-500 text-xs mb-3",children:"Username can only contain letters, numbers, and underscores"}),!c&&g.jsx("p",{className:"text-neutral-400 text-xs mb-3",children:"Only letters, numbers, and underscores allowed"}),g.jsx("label",{className:"block text-sm sm:text-base text-left mb-1",children:"Country"}),g.jsx(mf,{instanceId:"country",options:Xb().getData(),value:h,onChange:J=>{p(J),M(null)},placeholder:"Select country",styles:iR,components:{DropdownIndicator:sR},className:"mb-3 text-left w-full",menuShouldScrollIntoView:!1}),g.jsx("label",{className:"block text-sm sm:text-base text-left mb-1",children:"Language"}),g.jsx(mf,{instanceId:"language",options:Qb,value:y,onChange:J=>{w(J),M(null)},placeholder:"Select language",styles:iR,components:{DropdownIndicator:sR},className:"mb-3 text-left w-full"}),g.jsx(we.button,{onClick:K,className:`mt-8 w-full rounded-md py-2 ${pd}`,disabled:!I,children:"Continue"})]},"basic"),e==="interests"&&g.jsxs(we.div,{...vd,children:[g.jsx("h2",{className:"text-2xl sm:text-3xl font-extrabold mb-0 text-white",children:"Interests"}),g.jsxs("p",{className:"text-sm sm:text-base mb-4",children:["These help us"," ",g.jsx("span",{className:"text-primary",children:"personalize"})," your experience."]}),g.jsx("input",{type:"text",placeholder:"Search",value:E,onChange:J=>N(J.target.value),className:`w-full mb-4 ${gd}`}),g.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 max-h-72 overflow-y-auto pr-1",children:os.filter(({label:J})=>J.toLowerCase().includes(E.toLowerCase())).map(({id:J,label:W,img:x})=>{const U=P.has(J);return g.jsxs("div",{onClick:()=>{V(X=>{const Y=new Set(X);return Y.has(J)?Y.delete(J):Y.add(J),Y}),M(null)},className:`relative cursor-pointer rounded-xl overflow-hidden border-2 ${U?"border-primary":"border-transparent"}`,children:[g.jsx("img",{src:x,alt:W,className:"w-full h-20 sm:h-24 object-cover"}),U&&g.jsx("div",{className:"absolute top-1 right-1 bg-primary p-1 rounded-full",children:g.jsx(xx,{size:14,className:"text-white"})}),g.jsx("p",{className:"text-xs mt-2 px-1 pb-2 truncate",children:W})]},J)})}),g.jsx(we.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Z,className:`w-full rounded-md py-2 mt-6 ${pd}`,disabled:!A,children:"Continue"})]},"interests"),e==="verify"&&g.jsxs(we.div,{...vd,children:[g.jsxs("h2",{className:"text-2xl sm:text-3xl font-extrabold mb-0 text-white",children:[" ",$?"Enter Password":"Create Password"]}),g.jsx("p",{className:"text-sm sm:text-base mb-6",children:$?"Welcome back, please enter your password.":"Create a strong password to finish signing up."}),g.jsx("label",{className:"block text-sm sm:text-base text-left mb-1",children:"Password"}),g.jsx("input",{type:"password",value:z,onChange:J=>{F(J.target.value),M(null)},className:`w-full mb-4 ${gd}`,placeholder:""}),g.jsx(we.button,{whileTap:{scale:.97},onClick:B,className:`w-full rounded-md py-2 ${pd}`,disabled:!z,children:"Continue"})]},"verify")]})]})]})}const oR={initial:{opacity:0,y:40},animate:{opacity:1,y:0,transition:{duration:.5,ease:Rp,staggerChildren:.15,delayChildren:.2}},exit:{opacity:0,y:-20,transition:{duration:.4,ease:Rp}}},Rm={initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.4,ease:Cp}}};function RX(){const[t,e]=YP();return g.jsxs(we.div,{className:"flex flex-col md:flex-row justify-center h-screen overflow-hidden",variants:oR,initial:"initial",animate:"animate",exit:"exit",children:[g.jsxs(we.div,{className:"w-full md:w-1/2 px-6 py-12 md:p-20 flex flex-col min-h-screen justify-start md:justify-between text-center md:text-left space-y-8",variants:oR,children:[g.jsx(we.h1,{className:"text-5xl md:text-7xl xl:text-8xl font-semibold leading-tight",variants:Rm,children:"Welcome to Mangrov"}),g.jsxs(we.p,{className:"text-lg sm:text-2xl md:text-3xl xl:text-4xl leading-relaxed text-neutral-300",variants:Rm,children:["A"," ",g.jsx("span",{className:"text-primary font-semibold",children:"shopping experience"})," ","designed by meaningful, raw,"," ",g.jsx("span",{className:"text-primary font-semibold",children:"human experiences"}),"."]}),g.jsx(we.div,{className:"block md:hidden",variants:Rm,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.4,ease:Cp},children:g.jsx(aR,{})}),g.jsx(we.div,{variants:Rm,className:"self-center md:self-start",children:g.jsx(CG,{})})]}),g.jsx(we.div,{className:"hidden md:flex w-full md:w-1/2 items-center justify-center p-6 md:p-0",initial:{opacity:0,x:40},animate:{opacity:1,x:0},transition:{delay:.8,duration:.5,ease:Cp},children:g.jsx(aR,{})}),g.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:g.jsx(a_,{start:{x:-200,y:e*3/4},end:{x:(t+400)/2,y:-300},speed:12,className:"absolute bottom-0 left-0 w-full h-screen",imgHeightTW:"h-32 sm:h-40 md:h-44",imgWidthTW:"w-44 sm:w-52 md:w-56"})})]})}function Si({children:t,className:e=""}){return g.jsx(we.div,{className:e,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.35,ease:"easeInOut"},children:t})}function NX(){const t=jr(),[e,n]=R.useState(window.innerWidth),[r,i]=R.useState(!1),{scrollYProgress:o}=dG(),l=_u(o,[0,1],[0,-200]);return R.useEffect(()=>{const c=()=>n(window.innerWidth);return window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]),R.useEffect(()=>{const c=()=>{i(window.scrollY>500)};return window.addEventListener("scroll",c),()=>window.removeEventListener("scroll",c)},[]),R.useEffect(()=>(document.body.classList.add("allow-scroll"),()=>{document.body.classList.remove("allow-scroll")}),[]),g.jsxs(Si,{className:"min-h-screen bg-neutral-950 overflow-hidden",children:[g.jsxs("section",{className:"relative h-screen flex items-center justify-center",children:[g.jsx(we.div,{style:{y:l},className:"absolute inset-0",children:g.jsx(a_,{start:{x:-200,y:200},end:{x:e+200,y:200},speed:25,className:"opacity-15"})}),g.jsx("div",{className:"relative z-10 text-center px-4 max-w-4xl mx-auto",children:g.jsxs(we.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},children:[g.jsxs("div",{className:"flex items-center justify-center mb-6",children:[g.jsx("img",{src:"/icon.png",alt:"Mangrov Logo",className:"w-12 h-12 mr-4"}),g.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-white",children:["Meet ",g.jsx("span",{className:"text-primary",children:"Mangrov"})]})]}),g.jsxs("p",{className:"text-xl md:text-2xl text-neutral-300 mb-8 leading-relaxed",children:["Where"," ",g.jsx("span",{className:"text-primary font-semibold",children:"personalized shopping"})," ","meets",g.jsxs("span",{className:"text-primary font-semibold",children:[" ","sustainable brands"]})]}),g.jsxs("div",{className:"flex items-center justify-center space-x-8 text-neutral-400",children:[g.jsxs("div",{className:"flex items-center",children:[g.jsx(t2,{className:"w-5 h-5 text-primary mr-2"}),g.jsx("span",{children:"AI-Powered"})]}),g.jsxs("div",{className:"flex items-center",children:[g.jsx(Hu,{className:"w-5 h-5 text-primary mr-2"}),g.jsx("span",{children:"Sustainable"})]}),g.jsxs("div",{className:"flex items-center",children:[g.jsx(n2,{className:"w-5 h-5 text-primary mr-2"}),g.jsx("span",{children:"Community"})]})]})]})})]}),g.jsx("section",{id:"problem-section",className:"py-20 px-4",children:g.jsxs("div",{className:"max-w-6xl mx-auto",children:[g.jsxs(we.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[g.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["The ",g.jsx("span",{className:"text-primary",children:"Harsh Reality"})]}),g.jsxs("p",{className:"text-xl text-neutral-300 max-w-3xl mx-auto leading-relaxed",children:[g.jsx("span",{className:"text-primary font-semibold",children:"60% of global greenhouse gas emissions"})," ","are caused by consumers, yet most don't care about sustainability. A few eco-conscious individuals won't tackle the climate crisis alone."]})]}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[g.jsx(we.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:.2},viewport:{once:!0},children:g.jsxs("div",{className:"bg-neutral-900 p-8 rounded-2xl border border-neutral-800",children:[g.jsxs("div",{className:"flex items-center mb-4",children:[g.jsx(bb,{className:"w-8 h-8 text-primary mr-3"}),g.jsx("h3",{className:"text-2xl font-bold text-white",children:"The Challenge"})]}),g.jsxs("p",{className:"text-neutral-300 leading-relaxed",children:["Traditional sustainability messaging falls on deaf ears. Consumers need",g.jsxs("span",{className:"text-primary font-semibold",children:[" ","tangible value"]})," ","they can feel when making eco-friendly choices."]})]})}),g.jsx(we.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:.4},viewport:{once:!0},children:g.jsxs("div",{className:"bg-neutral-900 p-8 rounded-2xl border border-neutral-800",children:[g.jsxs("div",{className:"flex items-center mb-4",children:[g.jsx(aB,{className:"w-8 h-8 text-primary mr-3"}),g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Our Solution"})]}),g.jsxs("p",{className:"text-neutral-300 leading-relaxed",children:['Instead of just repeating "eco-friendly", we offer',g.jsxs("span",{className:"text-primary font-semibold",children:[" ","personalized experiences"]})," ","that make sustainable shopping feel natural and rewarding."]})]})})]})]})}),g.jsx("section",{id:"features-section",className:"py-20 px-4 bg-neutral-900/50",children:g.jsxs("div",{className:"max-w-6xl mx-auto",children:[g.jsxs(we.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[g.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["The ",g.jsx("span",{className:"text-primary",children:"Mangrov"})," Experience"]}),g.jsx("p",{className:"text-xl text-neutral-300 max-w-3xl mx-auto",children:"We're creating the most seamless and personal shopping experience that's sustainable."})]}),g.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:t2,title:"AI-Powered Recommendations",description:"Precise product suggestions powered by advanced AI searches that understand your unique preferences.",color:"text-blue-400"},{icon:Iu,title:"Unique Product Display",description:"Swipe through interactive cards to discover products in an engaging, intuitive way.",color:"text-green-400"},{icon:n2,title:"Community Trading",description:"Trade items with other users to give products a second life and reduce waste together.",color:"text-purple-400"}].map((c,d)=>g.jsxs(we.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:d*.2},viewport:{once:!0},className:"bg-neutral-900 p-8 rounded-2xl border border-neutral-800 hover:border-primary/50 transition-colors",children:[g.jsx("div",{className:"w-16 h-16 bg-neutral-800 rounded-2xl flex items-center justify-center mb-6",children:g.jsx(c.icon,{className:`w-8 h-8 ${c.color}`})}),g.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:c.title}),g.jsx("p",{className:"text-neutral-300 leading-relaxed",children:c.description})]},d))})]})}),g.jsx("section",{id:"stats-section",className:"py-20 px-4",children:g.jsxs("div",{className:"max-w-6xl mx-auto",children:[g.jsx(we.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:g.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Ready for ",g.jsx("span",{className:"text-primary",children:"Launch"})]})}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[g.jsx(we.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:.2},viewport:{once:!0},children:g.jsxs("div",{className:"space-y-8",children:[g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx(ZA,{className:"w-8 h-8 text-primary"}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Prototype Complete"}),g.jsx("p",{className:"text-neutral-300",children:"Fully functional platform ready for launch"})]})]}),g.jsxs("div",{className:"flex items-center space-x-4",children:[g.jsx(ZA,{className:"w-8 h-8 text-primary"}),g.jsxs("div",{children:[g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Community-Driven"}),g.jsx("p",{className:"text-neutral-300",children:"Built for users who care about sustainability"})]})]})]})}),g.jsxs(we.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},transition:{duration:.8,delay:.4},viewport:{once:!0},className:"bg-gradient-to-br from-primary/20 to-primary/5 p-8 rounded-2xl border border-primary/20",children:[g.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:"Our Mission"}),g.jsxs("p",{className:"text-neutral-300 leading-relaxed mb-6",children:["To create a global shift in consumer behavior by making sustainable shopping",g.jsxs("span",{className:"text-primary font-semibold",children:[" ","personal, engaging, and rewarding"]}),"."]}),g.jsxs("div",{className:"flex items-center text-primary font-semibold cursor-pointer hover:text-primary/80 transition-colors",onClick:()=>t("/dashboard"),children:[g.jsx("span",{children:"Join the revolution"}),g.jsx(wg,{className:"w-5 h-5 ml-2"})]})]})]})]})}),g.jsx("section",{id:"cta-section",className:"py-20 px-4 bg-neutral-900",children:g.jsx("div",{className:"max-w-4xl mx-auto text-center",children:g.jsxs(we.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},children:[g.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Be Part of the ",g.jsx("span",{className:"text-primary",children:"Change"})]}),g.jsx("p",{className:"text-xl text-neutral-300 mb-8 max-w-2xl mx-auto",children:"Experience shopping that doesn't just feel goodit does good. Join us in creating a sustainable future, one purchase at a time."}),g.jsx(we.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("/dashboard"),className:"bg-primary text-white px-8 py-4 rounded-xl font-semibold text-lg hover:bg-primary/80 transition-colors",children:"Get Started Today"})]})})}),g.jsx("footer",{className:"bg-neutral-950 py-12 px-4 border-t border-neutral-800",children:g.jsxs("div",{className:"max-w-6xl mx-auto text-center",children:[g.jsxs("div",{className:"flex items-center justify-center mb-6",children:[g.jsx("img",{src:"/icon.png",alt:"Mangrov Logo",className:"w-8 h-8 mr-3"}),g.jsx("h3",{className:"text-2xl font-bold text-white",children:"Mangrov"})]}),g.jsx("p",{className:"text-neutral-400 text-base mb-6 leading-relaxed",children:"Where personalized shopping meets sustainable brands"}),g.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-2 sm:space-y-0 sm:space-x-6 text-neutral-400",children:[g.jsx("span",{className:"text-sm",children:" 2024 Mangrov. All rights reserved."}),g.jsx("span",{className:"hidden sm:inline text-sm",children:""}),g.jsx("span",{className:"text-sm",children:"Privacy Policy"}),g.jsx("span",{className:"hidden sm:inline text-sm",children:""}),g.jsx("span",{className:"text-sm",children:"Terms of Service"})]})]})}),g.jsx(we.button,{initial:{opacity:0,scale:0},animate:{opacity:r?1:0,scale:r?1:0},transition:{duration:.3},onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-20 right-8 z-50 bg-primary text-white p-4 rounded-full shadow-lg hover:bg-primary/80 transition-colors",children:g.jsx(lz,{className:"w-6 h-6"})})]})}function S_({trade:t,isOpen:e,onClose:n,onTradeUpdate:r}){const{user:i}=Dr(),[o,l]=R.useState(!1),[c,d]=R.useState(!1),[h,p]=R.useState(!1),[y,w]=R.useState({title:"",description:"",quantity:1,isAvailable:!0});R.useEffect(()=>{c&&t&&w({title:t.title||"",description:t.description||"",quantity:t.quantity||1,isAvailable:t.isAvailable!==!1})},[c,t]);const E=i?.uid===t?.uid,N=async()=>{if(!(!t||!i||i.uid!==t.uid))try{p(!0),await tl(rn(Ue,"trades",t.id),{title:y.title,description:y.description,quantity:y.quantity,isAvailable:y.isAvailable}),d(!1),r&&r({...t,title:y.title,description:y.description,quantity:y.quantity,isAvailable:y.isAvailable}),n()}catch(V){console.error("Error updating trade:",V)}finally{p(!1)}},P=async()=>{if(!(!t||!i||i.uid!==t.uid)&&window.confirm("Are you sure you want to delete this trade?"))try{await _p(rn(Ue,"trades",t.id)),n()}catch(V){console.error("Error deleting trade:",V)}};return t?g.jsx(yn,{children:e&&g.jsx(we.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:g.jsxs(we.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-gradient-to-br from-neutral-900 via-neutral-800 to-neutral-900 rounded-3xl p-8 w-full max-w-md max-h-[90vh] overflow-y-auto border border-neutral-700 shadow-2xl",children:[g.jsxs("div",{className:"relative mb-6",children:[g.jsxs("div",{className:"absolute top-0 right-0 flex gap-2",children:[E&&g.jsx("button",{onClick:()=>l(!o),className:"text-neutral-400 hover:text-white transition cursor-pointer",children:g.jsx(qz,{size:20})}),g.jsx("button",{onClick:n,className:"text-neutral-400 hover:text-white transition cursor-pointer",children:g.jsx(ps,{size:20})})]}),g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-primary to-primary/60 rounded-full flex items-center justify-center mx-auto mb-4",children:g.jsx(bx,{size:32,className:"text-white"})}),g.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:t.title}),g.jsx("div",{className:"flex justify-center gap-2 mb-4",children:t.niche.map(V=>g.jsx("span",{className:"px-3 py-1 bg-primary/20 text-primary rounded-full text-xs font-bold",children:V},V))})]})]}),g.jsxs("div",{className:"relative mb-6",children:[g.jsx("img",{src:t.images[0],alt:t.title,className:"w-full h-48 object-cover rounded-2xl border-2 border-neutral-700"}),!t.isAvailable&&g.jsx("div",{className:"absolute top-4 left-4 bg-red-600 text-white px-3 py-1 rounded-full text-sm font-bold",children:"UNAVAILABLE"})]}),g.jsxs("div",{className:"space-y-4 mb-6",children:[g.jsx("div",{className:"bg-neutral-800/50 rounded-xl p-4",children:g.jsx("p",{className:"text-neutral-300 text-sm leading-relaxed",children:t.description})}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{className:"bg-neutral-800/30 rounded-xl p-3 text-center",children:[g.jsx("div",{className:"text-neutral-400 text-xs mb-1",children:"QUANTITY"}),g.jsx("div",{className:"text-white font-bold text-lg",children:t.quantity})]}),g.jsxs("div",{className:"bg-neutral-800/30 rounded-xl p-3 text-center",children:[g.jsx("div",{className:"text-neutral-400 text-xs mb-1",children:"STATUS"}),g.jsx("div",{className:`font-bold text-sm ${t.isAvailable?"text-green-400":"text-red-400"}`,children:t.isAvailable?"AVAILABLE":"UNAVAILABLE"})]})]}),t.keywords.length>0&&g.jsxs("div",{className:"bg-neutral-800/30 rounded-xl p-3",children:[g.jsx("div",{className:"text-neutral-400 text-xs mb-2",children:"KEYWORDS"}),g.jsx("div",{className:"flex flex-wrap gap-1",children:t.keywords.map(V=>g.jsx("span",{className:"px-2 py-1 bg-neutral-700 text-neutral-300 rounded text-xs",children:V},V))})]})]}),g.jsx(yn,{children:o&&g.jsx(we.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-neutral-700 pt-4 mt-4",children:c?g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs text-neutral-400 mb-1",children:"TITLE"}),g.jsx("input",{value:y.title,onChange:V=>w({...y,title:V.target.value}),className:"w-full bg-neutral-800 text-white px-3 py-2 rounded-md border border-neutral-700 focus:border-primary outline-none text-sm"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs text-neutral-400 mb-1",children:"DESCRIPTION"}),g.jsx("textarea",{value:y.description,onChange:V=>w({...y,description:V.target.value}),className:"w-full bg-neutral-800 text-white px-3 py-2 rounded-md border border-neutral-700 focus:border-primary outline-none text-sm h-20 resize-none"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs text-neutral-400 mb-1",children:"QUANTITY"}),g.jsx("input",{type:"number",min:"1",value:y.quantity,onChange:V=>w({...y,quantity:parseInt(V.target.value)||1}),className:"w-full bg-neutral-800 text-white px-3 py-2 rounded-md border border-neutral-700 focus:border-primary outline-none text-sm"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:y.isAvailable,onChange:V=>w({...y,isAvailable:V.target.checked}),className:"sr-only peer"}),g.jsx("div",{className:"w-11 h-6 bg-neutral-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]}),g.jsx("span",{className:"text-white text-sm cursor-pointer",children:"Available for trade"})]}),g.jsxs("div",{className:"flex gap-2",children:[g.jsxs("button",{onClick:N,disabled:h,className:"flex-1 bg-primary text-white px-3 py-2 rounded-md hover:bg-primary/80 transition text-sm flex items-center justify-center gap-1 disabled:opacity-50 disabled:cursor-not-allowed",children:[h?g.jsx(Rz,{size:14,className:"animate-spin"}):g.jsx(xx,{size:14}),h?"Saving...":"Save"]}),g.jsx("button",{onClick:()=>d(!1),disabled:h,className:"flex-1 bg-neutral-700 text-white px-3 py-2 rounded-md hover:bg-neutral-600 transition text-sm disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",children:"Cancel"})]})]}):g.jsxs("div",{className:"space-y-2",children:[g.jsxs("button",{onClick:()=>d(!0),className:"w-full bg-primary text-white px-4 py-2 rounded-md hover:bg-primary/80 transition flex items-center justify-center gap-2 text-sm cursor-pointer",children:[g.jsx(Qz,{size:14}),"Edit Trade"]}),g.jsxs("button",{onClick:P,className:"w-full bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 transition flex items-center justify-center gap-2 text-sm cursor-pointer",children:[g.jsx(lM,{size:14}),"Delete Trade"]})]})})})]})})}):null}var ep={exports:{}},IX=ep.exports,lR;function OX(){return lR||(lR=1,function(t,e){(function(n,r){t.exports=r()})(IX,function(){var n=1e3,r=6e4,i=36e5,o="millisecond",l="second",c="minute",d="hour",h="day",p="week",y="month",w="quarter",E="year",N="date",P="Invalid Date",V=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,z=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,F={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(K){var Z=["th","st","nd","rd"],B=K%100;return"["+K+(Z[(B-20)%10]||Z[B]||Z[0])+"]"}},$=function(K,Z,B){var T=String(K);return!T||T.length>=Z?K:""+Array(Z+1-T.length).join(B)+K},Q={s:$,z:function(K){var Z=-K.utcOffset(),B=Math.abs(Z),T=Math.floor(B/60),J=B%60;return(Z<=0?"+":"-")+$(T,2,"0")+":"+$(J,2,"0")},m:function K(Z,B){if(Z.date()<B.date())return-K(B,Z);var T=12*(B.year()-Z.year())+(B.month()-Z.month()),J=Z.clone().add(T,y),W=B-J<0,x=Z.clone().add(T+(W?-1:1),y);return+(-(T+(B-J)/(W?J-x:x-J))||0)},a:function(K){return K<0?Math.ceil(K)||0:Math.floor(K)},p:function(K){return{M:y,y:E,w:p,d:h,D:N,h:d,m:c,s:l,ms:o,Q:w}[K]||String(K||"").toLowerCase().replace(/s$/,"")},u:function(K){return K===void 0}},O="en",M={};M[O]=F;var C="$isDayjsObject",I=function(K){return K instanceof H||!(!K||!K[C])},A=function K(Z,B,T){var J;if(!Z)return O;if(typeof Z=="string"){var W=Z.toLowerCase();M[W]&&(J=W),B&&(M[W]=B,J=W);var x=Z.split("-");if(!J&&x.length>1)return K(x[0])}else{var U=Z.name;M[U]=Z,J=U}return!T&&J&&(O=J),J||!T&&O},S=function(K,Z){if(I(K))return K.clone();var B=typeof Z=="object"?Z:{};return B.date=K,B.args=arguments,new H(B)},k=Q;k.l=A,k.i=I,k.w=function(K,Z){return S(K,{locale:Z.$L,utc:Z.$u,x:Z.$x,$offset:Z.$offset})};var H=function(){function K(B){this.$L=A(B.locale,null,!0),this.parse(B),this.$x=this.$x||B.x||{},this[C]=!0}var Z=K.prototype;return Z.parse=function(B){this.$d=function(T){var J=T.date,W=T.utc;if(J===null)return new Date(NaN);if(k.u(J))return new Date;if(J instanceof Date)return new Date(J);if(typeof J=="string"&&!/Z$/i.test(J)){var x=J.match(V);if(x){var U=x[2]-1||0,X=(x[7]||"0").substring(0,3);return W?new Date(Date.UTC(x[1],U,x[3]||1,x[4]||0,x[5]||0,x[6]||0,X)):new Date(x[1],U,x[3]||1,x[4]||0,x[5]||0,x[6]||0,X)}}return new Date(J)}(B),this.init()},Z.init=function(){var B=this.$d;this.$y=B.getFullYear(),this.$M=B.getMonth(),this.$D=B.getDate(),this.$W=B.getDay(),this.$H=B.getHours(),this.$m=B.getMinutes(),this.$s=B.getSeconds(),this.$ms=B.getMilliseconds()},Z.$utils=function(){return k},Z.isValid=function(){return this.$d.toString()!==P},Z.isSame=function(B,T){var J=S(B);return this.startOf(T)<=J&&J<=this.endOf(T)},Z.isAfter=function(B,T){return S(B)<this.startOf(T)},Z.isBefore=function(B,T){return this.endOf(T)<S(B)},Z.$g=function(B,T,J){return k.u(B)?this[T]:this.set(J,B)},Z.unix=function(){return Math.floor(this.valueOf()/1e3)},Z.valueOf=function(){return this.$d.getTime()},Z.startOf=function(B,T){var J=this,W=!!k.u(T)||T,x=k.p(B),U=function(Pe,Ne){var ze=k.w(J.$u?Date.UTC(J.$y,Ne,Pe):new Date(J.$y,Ne,Pe),J);return W?ze:ze.endOf(h)},X=function(Pe,Ne){return k.w(J.toDate()[Pe].apply(J.toDate("s"),(W?[0,0,0,0]:[23,59,59,999]).slice(Ne)),J)},Y=this.$W,ne=this.$M,se=this.$D,le="set"+(this.$u?"UTC":"");switch(x){case E:return W?U(1,0):U(31,11);case y:return W?U(1,ne):U(0,ne+1);case p:var ge=this.$locale().weekStart||0,Ee=(Y<ge?Y+7:Y)-ge;return U(W?se-Ee:se+(6-Ee),ne);case h:case N:return X(le+"Hours",0);case d:return X(le+"Minutes",1);case c:return X(le+"Seconds",2);case l:return X(le+"Milliseconds",3);default:return this.clone()}},Z.endOf=function(B){return this.startOf(B,!1)},Z.$set=function(B,T){var J,W=k.p(B),x="set"+(this.$u?"UTC":""),U=(J={},J[h]=x+"Date",J[N]=x+"Date",J[y]=x+"Month",J[E]=x+"FullYear",J[d]=x+"Hours",J[c]=x+"Minutes",J[l]=x+"Seconds",J[o]=x+"Milliseconds",J)[W],X=W===h?this.$D+(T-this.$W):T;if(W===y||W===E){var Y=this.clone().set(N,1);Y.$d[U](X),Y.init(),this.$d=Y.set(N,Math.min(this.$D,Y.daysInMonth())).$d}else U&&this.$d[U](X);return this.init(),this},Z.set=function(B,T){return this.clone().$set(B,T)},Z.get=function(B){return this[k.p(B)]()},Z.add=function(B,T){var J,W=this;B=Number(B);var x=k.p(T),U=function(ne){var se=S(W);return k.w(se.date(se.date()+Math.round(ne*B)),W)};if(x===y)return this.set(y,this.$M+B);if(x===E)return this.set(E,this.$y+B);if(x===h)return U(1);if(x===p)return U(7);var X=(J={},J[c]=r,J[d]=i,J[l]=n,J)[x]||1,Y=this.$d.getTime()+B*X;return k.w(Y,this)},Z.subtract=function(B,T){return this.add(-1*B,T)},Z.format=function(B){var T=this,J=this.$locale();if(!this.isValid())return J.invalidDate||P;var W=B||"YYYY-MM-DDTHH:mm:ssZ",x=k.z(this),U=this.$H,X=this.$m,Y=this.$M,ne=J.weekdays,se=J.months,le=J.meridiem,ge=function(Ne,ze,We,Xe){return Ne&&(Ne[ze]||Ne(T,W))||We[ze].slice(0,Xe)},Ee=function(Ne){return k.s(U%12||12,Ne,"0")},Pe=le||function(Ne,ze,We){var Xe=Ne<12?"AM":"PM";return We?Xe.toLowerCase():Xe};return W.replace(z,function(Ne,ze){return ze||function(We){switch(We){case"YY":return String(T.$y).slice(-2);case"YYYY":return k.s(T.$y,4,"0");case"M":return Y+1;case"MM":return k.s(Y+1,2,"0");case"MMM":return ge(J.monthsShort,Y,se,3);case"MMMM":return ge(se,Y);case"D":return T.$D;case"DD":return k.s(T.$D,2,"0");case"d":return String(T.$W);case"dd":return ge(J.weekdaysMin,T.$W,ne,2);case"ddd":return ge(J.weekdaysShort,T.$W,ne,3);case"dddd":return ne[T.$W];case"H":return String(U);case"HH":return k.s(U,2,"0");case"h":return Ee(1);case"hh":return Ee(2);case"a":return Pe(U,X,!0);case"A":return Pe(U,X,!1);case"m":return String(X);case"mm":return k.s(X,2,"0");case"s":return String(T.$s);case"ss":return k.s(T.$s,2,"0");case"SSS":return k.s(T.$ms,3,"0");case"Z":return x}return null}(Ne)||x.replace(":","")})},Z.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Z.diff=function(B,T,J){var W,x=this,U=k.p(T),X=S(B),Y=(X.utcOffset()-this.utcOffset())*r,ne=this-X,se=function(){return k.m(x,X)};switch(U){case E:W=se()/12;break;case y:W=se();break;case w:W=se()/3;break;case p:W=(ne-Y)/6048e5;break;case h:W=(ne-Y)/864e5;break;case d:W=ne/i;break;case c:W=ne/r;break;case l:W=ne/n;break;default:W=ne}return J?W:k.a(W)},Z.daysInMonth=function(){return this.endOf(y).$D},Z.$locale=function(){return M[this.$L]},Z.locale=function(B,T){if(!B)return this.$L;var J=this.clone(),W=A(B,T,!0);return W&&(J.$L=W),J},Z.clone=function(){return k.w(this.$d,this)},Z.toDate=function(){return new Date(this.valueOf())},Z.toJSON=function(){return this.isValid()?this.toISOString():null},Z.toISOString=function(){return this.$d.toISOString()},Z.toString=function(){return this.$d.toUTCString()},K}(),j=H.prototype;return S.prototype=j,[["$ms",o],["$s",l],["$m",c],["$H",d],["$W",h],["$M",y],["$y",E],["$D",N]].forEach(function(K){j[K[1]]=function(Z){return this.$g(Z,K[0],K[1])}}),S.extend=function(K,Z){return K.$i||(K(Z,H,S),K.$i=!0),S},S.locale=A,S.isDayjs=I,S.unix=function(K){return S(1e3*K)},S.en=M[O],S.Ls=M,S.p={},S})}(ep)),ep.exports}var MX=OX();const PX=$p(MX);function DX({comment:t,onReplyClick:e,isReplying:n,replyText:r,onReplyChange:i,onReplySubmit:o,isSubmitting:l=!1}){const[c,d]=R.useState(null),[h,p]=R.useState(null),[y,w]=R.useState(!1),[E,N]=R.useState(""),[P,V]=R.useState(!0);R.useEffect(()=>{(async()=>{try{V(!0);const O=await yi(rn(Ue,"users",t.user));O.exists()&&d(O.data())}catch(O){console.error("Error fetching user data:",O)}finally{V(!1)}})()},[t.user]),R.useEffect(()=>{(async()=>{if(t.replyToUserId)try{const O=await yi(rn(Ue,"users",t.replyToUserId));if(O.exists()){const M=O.data();p(M.name)}}catch(O){console.error("Error fetching reply user data:",O)}})()},[t.replyToUserId]),R.useEffect(()=>{if(t.timestamp){const Q=PX(t.timestamp.toDate()).format("HH:mm");N(Q)}},[t.timestamp]);const z=()=>{if(t.replyToId){const Q=document.querySelector(`[data-id='${t.replyToId}']`);Q&&Q.classList.add("bg-primary/20"),w(!0)}},F=()=>{if(t.replyToId){const Q=document.querySelector(`[data-id='${t.replyToId}']`);Q&&Q.classList.remove("bg-primary/20"),w(!1)}},$=Q=>{Q.key==="Enter"&&!Q.shiftKey&&(Q.preventDefault(),o(t.id,t.user))};return P?g.jsx("div",{className:"animate-pulse",children:g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx("div",{className:"w-8 h-8 bg-neutral-700 rounded-full"}),g.jsxs("div",{className:"flex-1 space-y-2",children:[g.jsx("div",{className:"h-4 bg-neutral-700 rounded w-24"}),g.jsx("div",{className:"h-3 bg-neutral-700 rounded w-full"})]})]})}):g.jsxs(we.div,{"data-id":t.id,onMouseEnter:z,onMouseLeave:F,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.2},className:`group relative rounded-lg p-3 transition-all duration-200 ${t.replyToId?"ml-6 border-l-2 border-primary/30 pl-4 bg-neutral-800/30":"bg-neutral-800/20"} ${y?"bg-primary/20":""}`,children:[g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsxs("div",{className:"flex-shrink-0",children:[c?.avatar?g.jsx("img",{src:c.avatar,alt:`${c.name}'s avatar`,className:"w-8 h-8 rounded-full object-cover border border-white/10",onError:Q=>{const O=Q.target;O.style.display="none",O.nextElementSibling?.classList.remove("hidden")}}):null,g.jsx("div",{className:`w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center text-primary text-sm font-semibold ${c?.avatar?"hidden":""}`,children:c?.name?.charAt(0)?.toUpperCase()||"U"})]}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[g.jsx("span",{className:"font-semibold text-primary text-sm",children:c?.name||"Unknown User"}),h&&g.jsxs("span",{className:"text-xs text-neutral-400",children:["replying to @",h]}),g.jsx("span",{className:"text-xs text-neutral-500 ml-auto",children:E})]}),g.jsx("div",{className:"text-white/90 text-sm leading-relaxed break-words",children:t.text}),g.jsx("div",{className:"flex items-center mt-2",children:g.jsxs("button",{onClick:()=>e(t.id),disabled:l,className:"flex items-center gap-1 text-xs text-neutral-400 hover:text-primary transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[g.jsx(zz,{size:12}),"Reply"]})})]})]}),n&&g.jsxs(we.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3 flex items-center gap-2 bg-neutral-800/50 rounded-lg p-3",children:[g.jsx("input",{value:r,onChange:Q=>i(Q.target.value),onKeyPress:$,placeholder:`Reply to ${c?.name||"user"}...`,disabled:l,className:"flex-1 bg-transparent text-white placeholder-white/60 text-sm outline-none"}),g.jsx(we.button,{whileTap:{scale:.95},onClick:()=>o(t.id,t.user),disabled:!r.trim()||l,className:"text-primary hover:text-primary/80 disabled:text-white/40 disabled:cursor-not-allowed transition-colors",children:g.jsx(Tx,{size:14})})]})]})}var A0={},C0={},yd={},R0={},uR;function jX(){return uR||(uR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e}(R0)),R0}var N0,cR;function kX(){if(cR)return N0;cR=1;var t="Expected a function",e=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,d=typeof am=="object"&&am&&am.Object===Object&&am,h=typeof self=="object"&&self&&self.Object===Object&&self,p=d||h||Function("return this")(),y=Object.prototype,w=y.toString,E=Math.max,N=Math.min,P=function(){return p.Date.now()};function V(O,M,C){var I,A,S,k,H,j,K=0,Z=!1,B=!1,T=!0;if(typeof O!="function")throw new TypeError(t);M=Q(M)||0,z(C)&&(Z=!!C.leading,B="maxWait"in C,S=B?E(Q(C.maxWait)||0,M):S,T="trailing"in C?!!C.trailing:T);function J(ge){var Ee=I,Pe=A;return I=A=void 0,K=ge,k=O.apply(Pe,Ee),k}function W(ge){return K=ge,H=setTimeout(X,M),Z?J(ge):k}function x(ge){var Ee=ge-j,Pe=ge-K,Ne=M-Ee;return B?N(Ne,S-Pe):Ne}function U(ge){var Ee=ge-j,Pe=ge-K;return j===void 0||Ee>=M||Ee<0||B&&Pe>=S}function X(){var ge=P();if(U(ge))return Y(ge);H=setTimeout(X,x(ge))}function Y(ge){return H=void 0,T&&I?J(ge):(I=A=void 0,k)}function ne(){H!==void 0&&clearTimeout(H),K=0,I=j=A=H=void 0}function se(){return H===void 0?k:Y(P())}function le(){var ge=P(),Ee=U(ge);if(I=arguments,A=this,j=ge,Ee){if(H===void 0)return W(j);if(B)return H=setTimeout(X,M),J(j)}return H===void 0&&(H=setTimeout(X,M)),k}return le.cancel=ne,le.flush=se,le}function z(O){var M=typeof O;return!!O&&(M=="object"||M=="function")}function F(O){return!!O&&typeof O=="object"}function $(O){return typeof O=="symbol"||F(O)&&w.call(O)==n}function Q(O){if(typeof O=="number")return O;if($(O))return e;if(z(O)){var M=typeof O.valueOf=="function"?O.valueOf():O;O=z(M)?M+"":M}if(typeof O!="string")return O===0?O:+O;O=O.replace(r,"");var C=o.test(O);return C||l.test(O)?c(O.slice(2),C?2:8):i.test(O)?e:+O}return N0=V,N0}var I0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var dR;function Dg(){return dR||(dR=1,function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(o=i(o,r(c)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var c in o)e.call(o,c)&&o[c]&&(l=i(l,c));return l}function i(o,l){return l?o?o+" "+l:o+l:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()}(I0)),I0.exports}var Oe={},O0={},fR;function zD(){return fR||(fR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(Ss());function n(i){return i&&i.__esModule?i:{default:i}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(o){return e.default.createElement("ul",{style:{display:"block"}},o)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(o){return e.default.createElement("button",null,o+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};t.default=r}(O0)),O0}var hR;function $f(){if(hR)return Oe;hR=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.checkSpecKeys=Oe.checkNavigable=Oe.changeSlide=Oe.canUseDOM=Oe.canGoNext=void 0,Oe.clamp=h,Oe.extractObject=void 0,Oe.filterSettings=J,Oe.validSettings=Oe.swipeStart=Oe.swipeMove=Oe.swipeEnd=Oe.slidesOnRight=Oe.slidesOnLeft=Oe.slideHandler=Oe.siblingDirection=Oe.safePreventDefault=Oe.lazyStartIndex=Oe.lazySlidesOnRight=Oe.lazySlidesOnLeft=Oe.lazyEndIndex=Oe.keyHandler=Oe.initializedState=Oe.getWidth=Oe.getTrackLeft=Oe.getTrackCSS=Oe.getTrackAnimateCSS=Oe.getTotalSlides=Oe.getSwipeDirection=Oe.getSlideCount=Oe.getRequiredLazySlides=Oe.getPreClones=Oe.getPostClones=Oe.getOnDemandLazySlides=Oe.getNavigableIndexes=Oe.getHeight=void 0;var t=n(Ss()),e=n(zD());function n(W){return W&&W.__esModule?W:{default:W}}function r(W){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},r(W)}function i(W,x){var U=Object.keys(W);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(W);x&&(X=X.filter(function(Y){return Object.getOwnPropertyDescriptor(W,Y).enumerable})),U.push.apply(U,X)}return U}function o(W){for(var x=1;x<arguments.length;x++){var U=arguments[x]!=null?arguments[x]:{};x%2?i(Object(U),!0).forEach(function(X){l(W,X,U[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(U)):i(Object(U)).forEach(function(X){Object.defineProperty(W,X,Object.getOwnPropertyDescriptor(U,X))})}return W}function l(W,x,U){return x=c(x),x in W?Object.defineProperty(W,x,{value:U,enumerable:!0,configurable:!0,writable:!0}):W[x]=U,W}function c(W){var x=d(W,"string");return r(x)=="symbol"?x:String(x)}function d(W,x){if(r(W)!="object"||!W)return W;var U=W[Symbol.toPrimitive];if(U!==void 0){var X=U.call(W,x);if(r(X)!="object")return X;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(W)}function h(W,x,U){return Math.max(x,Math.min(W,U))}var p=Oe.safePreventDefault=function(x){var U=["onTouchStart","onTouchMove","onWheel"];U.includes(x._reactName)||x.preventDefault()},y=Oe.getOnDemandLazySlides=function(x){for(var U=[],X=w(x),Y=E(x),ne=X;ne<Y;ne++)x.lazyLoadedList.indexOf(ne)<0&&U.push(ne);return U};Oe.getRequiredLazySlides=function(x){for(var U=[],X=w(x),Y=E(x),ne=X;ne<Y;ne++)U.push(ne);return U};var w=Oe.lazyStartIndex=function(x){return x.currentSlide-N(x)},E=Oe.lazyEndIndex=function(x){return x.currentSlide+P(x)},N=Oe.lazySlidesOnLeft=function(x){return x.centerMode?Math.floor(x.slidesToShow/2)+(parseInt(x.centerPadding)>0?1:0):0},P=Oe.lazySlidesOnRight=function(x){return x.centerMode?Math.floor((x.slidesToShow-1)/2)+1+(parseInt(x.centerPadding)>0?1:0):x.slidesToShow},V=Oe.getWidth=function(x){return x&&x.offsetWidth||0},z=Oe.getHeight=function(x){return x&&x.offsetHeight||0},F=Oe.getSwipeDirection=function(x){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,X,Y,ne,se;return X=x.startX-x.curX,Y=x.startY-x.curY,ne=Math.atan2(Y,X),se=Math.round(ne*180/Math.PI),se<0&&(se=360-Math.abs(se)),se<=45&&se>=0||se<=360&&se>=315?"left":se>=135&&se<=225?"right":U===!0?se>=35&&se<=135?"up":"down":"vertical"},$=Oe.canGoNext=function(x){var U=!0;return x.infinite||(x.centerMode&&x.currentSlide>=x.slideCount-1||x.slideCount<=x.slidesToShow||x.currentSlide>=x.slideCount-x.slidesToShow)&&(U=!1),U};Oe.extractObject=function(x,U){var X={};return U.forEach(function(Y){return X[Y]=x[Y]}),X},Oe.initializedState=function(x){var U=t.default.Children.count(x.children),X=x.listRef,Y=Math.ceil(V(X)),ne=x.trackRef&&x.trackRef.node,se=Math.ceil(V(ne)),le;if(x.vertical)le=Y;else{var ge=x.centerMode&&parseInt(x.centerPadding)*2;typeof x.centerPadding=="string"&&x.centerPadding.slice(-1)==="%"&&(ge*=Y/100),le=Math.ceil((Y-ge)/x.slidesToShow)}var Ee=X&&z(X.querySelector('[data-index="0"]')),Pe=Ee*x.slidesToShow,Ne=x.currentSlide===void 0?x.initialSlide:x.currentSlide;x.rtl&&x.currentSlide===void 0&&(Ne=U-1-x.initialSlide);var ze=x.lazyLoadedList||[],We=y(o(o({},x),{},{currentSlide:Ne,lazyLoadedList:ze}));ze=ze.concat(We);var Xe={slideCount:U,slideWidth:le,listWidth:Y,trackWidth:se,currentSlide:Ne,slideHeight:Ee,listHeight:Pe,lazyLoadedList:ze};return x.autoplaying===null&&x.autoplay&&(Xe.autoplaying="playing"),Xe},Oe.slideHandler=function(x){var U=x.waitForAnimate,X=x.animating,Y=x.fade,ne=x.infinite,se=x.index,le=x.slideCount,ge=x.lazyLoad,Ee=x.currentSlide,Pe=x.centerMode,Ne=x.slidesToScroll,ze=x.slidesToShow,We=x.useCSS,Xe=x.lazyLoadedList;if(U&&X)return{};var me=se,Ce,$e,Ie,Ze={},mt={},ot=ne?se:h(se,0,le-1);if(Y){if(!ne&&(se<0||se>=le))return{};se<0?me=se+le:se>=le&&(me=se-le),ge&&Xe.indexOf(me)<0&&(Xe=Xe.concat(me)),Ze={animating:!0,currentSlide:me,lazyLoadedList:Xe,targetSlide:me},mt={animating:!1,targetSlide:me}}else Ce=me,me<0?(Ce=me+le,ne?le%Ne!==0&&(Ce=le-le%Ne):Ce=0):!$(x)&&me>Ee?me=Ce=Ee:Pe&&me>=le?(me=ne?le:le-1,Ce=ne?0:le-1):me>=le&&(Ce=me-le,ne?le%Ne!==0&&(Ce=0):Ce=le-ze),!ne&&me+ze>=le&&(Ce=le-ze),$e=S(o(o({},x),{},{slideIndex:me})),Ie=S(o(o({},x),{},{slideIndex:Ce})),ne||($e===Ie&&(me=Ce),$e=Ie),ge&&(Xe=Xe.concat(y(o(o({},x),{},{currentSlide:me})))),We?(Ze={animating:!0,currentSlide:Ce,trackStyle:A(o(o({},x),{},{left:$e})),lazyLoadedList:Xe,targetSlide:ot},mt={animating:!1,currentSlide:Ce,trackStyle:I(o(o({},x),{},{left:Ie})),swipeLeft:null,targetSlide:ot}):Ze={currentSlide:Ce,trackStyle:I(o(o({},x),{},{left:Ie})),lazyLoadedList:Xe,targetSlide:ot};return{state:Ze,nextState:mt}},Oe.changeSlide=function(x,U){var X,Y,ne,se,le,ge=x.slidesToScroll,Ee=x.slidesToShow,Pe=x.slideCount,Ne=x.currentSlide,ze=x.targetSlide,We=x.lazyLoad,Xe=x.infinite;if(se=Pe%ge!==0,X=se?0:(Pe-Ne)%ge,U.message==="previous")ne=X===0?ge:Ee-X,le=Ne-ne,We&&!Xe&&(Y=Ne-ne,le=Y===-1?Pe-1:Y),Xe||(le=ze-ge);else if(U.message==="next")ne=X===0?ge:X,le=Ne+ne,We&&!Xe&&(le=(Ne+ge)%Pe+X),Xe||(le=ze+ge);else if(U.message==="dots")le=U.index*U.slidesToScroll;else if(U.message==="children"){if(le=U.index,Xe){var me=K(o(o({},x),{},{targetSlide:le}));le>U.currentSlide&&me==="left"?le=le-Pe:le<U.currentSlide&&me==="right"&&(le=le+Pe)}}else U.message==="index"&&(le=Number(U.index));return le},Oe.keyHandler=function(x,U,X){return x.target.tagName.match("TEXTAREA|INPUT|SELECT")||!U?"":x.keyCode===37?X?"next":"previous":x.keyCode===39?X?"previous":"next":""},Oe.swipeStart=function(x,U,X){return x.target.tagName==="IMG"&&p(x),!U||!X&&x.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:x.touches?x.touches[0].pageX:x.clientX,startY:x.touches?x.touches[0].pageY:x.clientY,curX:x.touches?x.touches[0].pageX:x.clientX,curY:x.touches?x.touches[0].pageY:x.clientY}}},Oe.swipeMove=function(x,U){var X=U.scrolling,Y=U.animating,ne=U.vertical,se=U.swipeToSlide,le=U.verticalSwiping,ge=U.rtl,Ee=U.currentSlide,Pe=U.edgeFriction,Ne=U.edgeDragged,ze=U.onEdge,We=U.swiped,Xe=U.swiping,me=U.slideCount,Ce=U.slidesToScroll,$e=U.infinite,Ie=U.touchObject,Ze=U.swipeEvent,mt=U.listHeight,ot=U.listWidth;if(!X){if(Y)return p(x);ne&&se&&le&&p(x);var Rt,dt={},mn=S(U);Ie.curX=x.touches?x.touches[0].pageX:x.clientX,Ie.curY=x.touches?x.touches[0].pageY:x.clientY,Ie.swipeLength=Math.round(Math.sqrt(Math.pow(Ie.curX-Ie.startX,2)));var or=Math.round(Math.sqrt(Math.pow(Ie.curY-Ie.startY,2)));if(!le&&!Xe&&or>10)return{scrolling:!0};le&&(Ie.swipeLength=or);var Cn=(ge?-1:1)*(Ie.curX>Ie.startX?1:-1);le&&(Cn=Ie.curY>Ie.startY?1:-1);var pt=Math.ceil(me/Ce),qe=F(U.touchObject,le),nn=Ie.swipeLength;return $e||(Ee===0&&(qe==="right"||qe==="down")||Ee+1>=pt&&(qe==="left"||qe==="up")||!$(U)&&(qe==="left"||qe==="up"))&&(nn=Ie.swipeLength*Pe,Ne===!1&&ze&&(ze(qe),dt.edgeDragged=!0)),!We&&Ze&&(Ze(qe),dt.swiped=!0),ne?Rt=mn+nn*(mt/ot)*Cn:ge?Rt=mn-nn*Cn:Rt=mn+nn*Cn,le&&(Rt=mn+nn*Cn),dt=o(o({},dt),{},{touchObject:Ie,swipeLeft:Rt,trackStyle:I(o(o({},U),{},{left:Rt}))}),Math.abs(Ie.curX-Ie.startX)<Math.abs(Ie.curY-Ie.startY)*.8||Ie.swipeLength>10&&(dt.swiping=!0,p(x)),dt}},Oe.swipeEnd=function(x,U){var X=U.dragging,Y=U.swipe,ne=U.touchObject,se=U.listWidth,le=U.touchThreshold,ge=U.verticalSwiping,Ee=U.listHeight,Pe=U.swipeToSlide,Ne=U.scrolling,ze=U.onSwipe,We=U.targetSlide,Xe=U.currentSlide,me=U.infinite;if(!X)return Y&&p(x),{};var Ce=ge?Ee/le:se/le,$e=F(ne,ge),Ie={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(Ne||!ne.swipeLength)return Ie;if(ne.swipeLength>Ce){p(x),ze&&ze($e);var Ze,mt,ot=me?Xe:We;switch($e){case"left":case"up":mt=ot+M(U),Ze=Pe?O(U,mt):mt,Ie.currentDirection=0;break;case"right":case"down":mt=ot-M(U),Ze=Pe?O(U,mt):mt,Ie.currentDirection=1;break;default:Ze=ot}Ie.triggerSlideHandler=Ze}else{var Rt=S(U);Ie.trackStyle=A(o(o({},U),{},{left:Rt}))}return Ie};var Q=Oe.getNavigableIndexes=function(x){for(var U=x.infinite?x.slideCount*2:x.slideCount,X=x.infinite?x.slidesToShow*-1:0,Y=x.infinite?x.slidesToShow*-1:0,ne=[];X<U;)ne.push(X),X=Y+x.slidesToScroll,Y+=Math.min(x.slidesToScroll,x.slidesToShow);return ne},O=Oe.checkNavigable=function(x,U){var X=Q(x),Y=0;if(U>X[X.length-1])U=X[X.length-1];else for(var ne in X){if(U<X[ne]){U=Y;break}Y=X[ne]}return U},M=Oe.getSlideCount=function(x){var U=x.centerMode?x.slideWidth*Math.floor(x.slidesToShow/2):0;if(x.swipeToSlide){var X,Y=x.listRef,ne=Y.querySelectorAll&&Y.querySelectorAll(".slick-slide")||[];if(Array.from(ne).every(function(ge){if(x.vertical){if(ge.offsetTop+z(ge)/2>x.swipeLeft*-1)return X=ge,!1}else if(ge.offsetLeft-U+V(ge)/2>x.swipeLeft*-1)return X=ge,!1;return!0}),!X)return 0;var se=x.rtl===!0?x.slideCount-x.currentSlide:x.currentSlide,le=Math.abs(X.dataset.index-se)||1;return le}else return x.slidesToScroll},C=Oe.checkSpecKeys=function(x,U){return U.reduce(function(X,Y){return X&&x.hasOwnProperty(Y)},!0)?null:console.error("Keys Missing:",x)},I=Oe.getTrackCSS=function(x){C(x,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var U,X,Y=x.slideCount+2*x.slidesToShow;x.vertical?X=Y*x.slideHeight:U=j(x)*x.slideWidth;var ne={opacity:1,transition:"",WebkitTransition:""};if(x.useTransform){var se=x.vertical?"translate3d(0px, "+x.left+"px, 0px)":"translate3d("+x.left+"px, 0px, 0px)",le=x.vertical?"translate3d(0px, "+x.left+"px, 0px)":"translate3d("+x.left+"px, 0px, 0px)",ge=x.vertical?"translateY("+x.left+"px)":"translateX("+x.left+"px)";ne=o(o({},ne),{},{WebkitTransform:se,transform:le,msTransform:ge})}else x.vertical?ne.top=x.left:ne.left=x.left;return x.fade&&(ne={opacity:1}),U&&(ne.width=U),X&&(ne.height=X),window&&!window.addEventListener&&window.attachEvent&&(x.vertical?ne.marginTop=x.left+"px":ne.marginLeft=x.left+"px"),ne},A=Oe.getTrackAnimateCSS=function(x){C(x,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var U=I(x);return x.useTransform?(U.WebkitTransition="-webkit-transform "+x.speed+"ms "+x.cssEase,U.transition="transform "+x.speed+"ms "+x.cssEase):x.vertical?U.transition="top "+x.speed+"ms "+x.cssEase:U.transition="left "+x.speed+"ms "+x.cssEase,U},S=Oe.getTrackLeft=function(x){if(x.unslick)return 0;C(x,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var U=x.slideIndex,X=x.trackRef,Y=x.infinite,ne=x.centerMode,se=x.slideCount,le=x.slidesToShow,ge=x.slidesToScroll,Ee=x.slideWidth,Pe=x.listWidth,Ne=x.variableWidth,ze=x.slideHeight,We=x.fade,Xe=x.vertical,me=0,Ce,$e,Ie=0;if(We||x.slideCount===1)return 0;var Ze=0;if(Y?(Ze=-k(x),se%ge!==0&&U+ge>se&&(Ze=-(U>se?le-(U-se):se%ge)),ne&&(Ze+=parseInt(le/2))):(se%ge!==0&&U+ge>se&&(Ze=le-se%ge),ne&&(Ze=parseInt(le/2))),me=Ze*Ee,Ie=Ze*ze,Xe?Ce=U*ze*-1+Ie:Ce=U*Ee*-1+me,Ne===!0){var mt,ot=X&&X.node;if(mt=U+k(x),$e=ot&&ot.childNodes[mt],Ce=$e?$e.offsetLeft*-1:0,ne===!0){mt=Y?U+k(x):U,$e=ot&&ot.children[mt],Ce=0;for(var Rt=0;Rt<mt;Rt++)Ce-=ot&&ot.children[Rt]&&ot.children[Rt].offsetWidth;Ce-=parseInt(x.centerPadding),Ce+=$e&&(Pe-$e.offsetWidth)/2}}return Ce},k=Oe.getPreClones=function(x){return x.unslick||!x.infinite?0:x.variableWidth?x.slideCount:x.slidesToShow+(x.centerMode?1:0)},H=Oe.getPostClones=function(x){return x.unslick||!x.infinite?0:x.slideCount},j=Oe.getTotalSlides=function(x){return x.slideCount===1?1:k(x)+x.slideCount+H(x)},K=Oe.siblingDirection=function(x){return x.targetSlide>x.currentSlide?x.targetSlide>x.currentSlide+Z(x)?"left":"right":x.targetSlide<x.currentSlide-B(x)?"right":"left"},Z=Oe.slidesOnRight=function(x){var U=x.slidesToShow,X=x.centerMode,Y=x.rtl,ne=x.centerPadding;if(X){var se=(U-1)/2+1;return parseInt(ne)>0&&(se+=1),Y&&U%2===0&&(se+=1),se}return Y?0:U-1},B=Oe.slidesOnLeft=function(x){var U=x.slidesToShow,X=x.centerMode,Y=x.rtl,ne=x.centerPadding;if(X){var se=(U-1)/2+1;return parseInt(ne)>0&&(se+=1),!Y&&U%2===0&&(se+=1),se}return Y?U-1:0};Oe.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var T=Oe.validSettings=Object.keys(e.default);function J(W){return T.reduce(function(x,U){return W.hasOwnProperty(U)&&(x[U]=W[U]),x},{})}return Oe}var bd={},mR;function LX(){if(mR)return bd;mR=1,Object.defineProperty(bd,"__esModule",{value:!0}),bd.Track=void 0;var t=r(Ss()),e=r(Dg()),n=$f();function r(A){return A&&A.__esModule?A:{default:A}}function i(A){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},i(A)}function o(){return o=Object.assign?Object.assign.bind():function(A){for(var S=1;S<arguments.length;S++){var k=arguments[S];for(var H in k)Object.prototype.hasOwnProperty.call(k,H)&&(A[H]=k[H])}return A},o.apply(this,arguments)}function l(A,S){if(!(A instanceof S))throw new TypeError("Cannot call a class as a function")}function c(A,S){for(var k=0;k<S.length;k++){var H=S[k];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(A,$(H.key),H)}}function d(A,S,k){return S&&c(A.prototype,S),Object.defineProperty(A,"prototype",{writable:!1}),A}function h(A,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(S&&S.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),S&&p(A,S)}function p(A,S){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(H,j){return H.__proto__=j,H},p(A,S)}function y(A){var S=N();return function(){var H=P(A),j;if(S){var K=P(this).constructor;j=Reflect.construct(H,arguments,K)}else j=H.apply(this,arguments);return w(this,j)}}function w(A,S){if(S&&(i(S)==="object"||typeof S=="function"))return S;if(S!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E(A)}function E(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function N(){try{var A=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N=function(){return!!A})()}function P(A){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},P(A)}function V(A,S){var k=Object.keys(A);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(A);S&&(H=H.filter(function(j){return Object.getOwnPropertyDescriptor(A,j).enumerable})),k.push.apply(k,H)}return k}function z(A){for(var S=1;S<arguments.length;S++){var k=arguments[S]!=null?arguments[S]:{};S%2?V(Object(k),!0).forEach(function(H){F(A,H,k[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(k)):V(Object(k)).forEach(function(H){Object.defineProperty(A,H,Object.getOwnPropertyDescriptor(k,H))})}return A}function F(A,S,k){return S=$(S),S in A?Object.defineProperty(A,S,{value:k,enumerable:!0,configurable:!0,writable:!0}):A[S]=k,A}function $(A){var S=Q(A,"string");return i(S)=="symbol"?S:String(S)}function Q(A,S){if(i(A)!="object"||!A)return A;var k=A[Symbol.toPrimitive];if(k!==void 0){var H=k.call(A,S);if(i(H)!="object")return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(A)}var O=function(S){var k,H,j,K,Z;S.rtl?Z=S.slideCount-1-S.index:Z=S.index,j=Z<0||Z>=S.slideCount,S.centerMode?(K=Math.floor(S.slidesToShow/2),H=(Z-S.currentSlide)%S.slideCount===0,Z>S.currentSlide-K-1&&Z<=S.currentSlide+K&&(k=!0)):k=S.currentSlide<=Z&&Z<S.currentSlide+S.slidesToShow;var B;S.targetSlide<0?B=S.targetSlide+S.slideCount:S.targetSlide>=S.slideCount?B=S.targetSlide-S.slideCount:B=S.targetSlide;var T=Z===B;return{"slick-slide":!0,"slick-active":k,"slick-center":H,"slick-cloned":j,"slick-current":T}},M=function(S){var k={};return(S.variableWidth===void 0||S.variableWidth===!1)&&(k.width=S.slideWidth),S.fade&&(k.position="relative",S.vertical?k.top=-S.index*parseInt(S.slideHeight):k.left=-S.index*parseInt(S.slideWidth),k.opacity=S.currentSlide===S.index?1:0,k.zIndex=S.currentSlide===S.index?999:998,S.useCSS&&(k.transition="opacity "+S.speed+"ms "+S.cssEase+", visibility "+S.speed+"ms "+S.cssEase)),k},C=function(S,k){return S.key||k},I=function(S){var k,H=[],j=[],K=[],Z=t.default.Children.count(S.children),B=(0,n.lazyStartIndex)(S),T=(0,n.lazyEndIndex)(S);return t.default.Children.forEach(S.children,function(J,W){var x,U={message:"children",index:W,slidesToScroll:S.slidesToScroll,currentSlide:S.currentSlide};!S.lazyLoad||S.lazyLoad&&S.lazyLoadedList.indexOf(W)>=0?x=J:x=t.default.createElement("div",null);var X=M(z(z({},S),{},{index:W})),Y=x.props.className||"",ne=O(z(z({},S),{},{index:W}));if(H.push(t.default.cloneElement(x,{key:"original"+C(x,W),"data-index":W,className:(0,e.default)(ne,Y),tabIndex:"-1","aria-hidden":!ne["slick-active"],style:z(z({outline:"none"},x.props.style||{}),X),onClick:function(ge){x.props&&x.props.onClick&&x.props.onClick(ge),S.focusOnSelect&&S.focusOnSelect(U)}})),S.infinite&&S.fade===!1){var se=Z-W;se<=(0,n.getPreClones)(S)&&(k=-se,k>=B&&(x=J),ne=O(z(z({},S),{},{index:k})),j.push(t.default.cloneElement(x,{key:"precloned"+C(x,k),"data-index":k,tabIndex:"-1",className:(0,e.default)(ne,Y),"aria-hidden":!ne["slick-active"],style:z(z({},x.props.style||{}),X),onClick:function(ge){x.props&&x.props.onClick&&x.props.onClick(ge),S.focusOnSelect&&S.focusOnSelect(U)}}))),k=Z+W,k<T&&(x=J),ne=O(z(z({},S),{},{index:k})),K.push(t.default.cloneElement(x,{key:"postcloned"+C(x,k),"data-index":k,tabIndex:"-1",className:(0,e.default)(ne,Y),"aria-hidden":!ne["slick-active"],style:z(z({},x.props.style||{}),X),onClick:function(ge){x.props&&x.props.onClick&&x.props.onClick(ge),S.focusOnSelect&&S.focusOnSelect(U)}}))}}),S.rtl?j.concat(H,K).reverse():j.concat(H,K)};return bd.Track=function(A){h(k,A);var S=y(k);function k(){var H;l(this,k);for(var j=arguments.length,K=new Array(j),Z=0;Z<j;Z++)K[Z]=arguments[Z];return H=S.call.apply(S,[this].concat(K)),F(E(H),"node",null),F(E(H),"handleRef",function(B){H.node=B}),H}return d(k,[{key:"render",value:function(){var j=I(this.props),K=this.props,Z=K.onMouseEnter,B=K.onMouseOver,T=K.onMouseLeave,J={onMouseEnter:Z,onMouseOver:B,onMouseLeave:T};return t.default.createElement("div",o({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},J),j)}}]),k}(t.default.PureComponent),bd}var wd={},pR;function VX(){if(pR)return wd;pR=1;function t(O){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},t(O)}Object.defineProperty(wd,"__esModule",{value:!0}),wd.Dots=void 0;var e=i(Ss()),n=i(Dg()),r=$f();function i(O){return O&&O.__esModule?O:{default:O}}function o(O,M){var C=Object.keys(O);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(O);M&&(I=I.filter(function(A){return Object.getOwnPropertyDescriptor(O,A).enumerable})),C.push.apply(C,I)}return C}function l(O){for(var M=1;M<arguments.length;M++){var C=arguments[M]!=null?arguments[M]:{};M%2?o(Object(C),!0).forEach(function(I){c(O,I,C[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(C)):o(Object(C)).forEach(function(I){Object.defineProperty(O,I,Object.getOwnPropertyDescriptor(C,I))})}return O}function c(O,M,C){return M=y(M),M in O?Object.defineProperty(O,M,{value:C,enumerable:!0,configurable:!0,writable:!0}):O[M]=C,O}function d(O,M){if(!(O instanceof M))throw new TypeError("Cannot call a class as a function")}function h(O,M){for(var C=0;C<M.length;C++){var I=M[C];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(O,y(I.key),I)}}function p(O,M,C){return M&&h(O.prototype,M),Object.defineProperty(O,"prototype",{writable:!1}),O}function y(O){var M=w(O,"string");return t(M)=="symbol"?M:String(M)}function w(O,M){if(t(O)!="object"||!O)return O;var C=O[Symbol.toPrimitive];if(C!==void 0){var I=C.call(O,M);if(t(I)!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}function E(O,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(M&&M.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),M&&N(O,M)}function N(O,M){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,A){return I.__proto__=A,I},N(O,M)}function P(O){var M=F();return function(){var I=$(O),A;if(M){var S=$(this).constructor;A=Reflect.construct(I,arguments,S)}else A=I.apply(this,arguments);return V(this,A)}}function V(O,M){if(M&&(t(M)==="object"||typeof M=="function"))return M;if(M!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z(O)}function z(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function F(){try{var O=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(F=function(){return!!O})()}function $(O){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)},$(O)}var Q=function(M){var C;return M.infinite?C=Math.ceil(M.slideCount/M.slidesToScroll):C=Math.ceil((M.slideCount-M.slidesToShow)/M.slidesToScroll)+1,C};return wd.Dots=function(O){E(C,O);var M=P(C);function C(){return d(this,C),M.apply(this,arguments)}return p(C,[{key:"clickHandler",value:function(A,S){S.preventDefault(),this.props.clickHandler(A)}},{key:"render",value:function(){for(var A=this.props,S=A.onMouseEnter,k=A.onMouseOver,H=A.onMouseLeave,j=A.infinite,K=A.slidesToScroll,Z=A.slidesToShow,B=A.slideCount,T=A.currentSlide,J=Q({slideCount:B,slidesToScroll:K,slidesToShow:Z,infinite:j}),W={onMouseEnter:S,onMouseOver:k,onMouseLeave:H},x=[],U=0;U<J;U++){var X=(U+1)*K-1,Y=j?X:(0,r.clamp)(X,0,B-1),ne=Y-(K-1),se=j?ne:(0,r.clamp)(ne,0,B-1),le=(0,n.default)({"slick-active":j?T>=se&&T<=Y:T===se}),ge={message:"dots",index:U,slidesToScroll:K,currentSlide:T},Ee=this.clickHandler.bind(this,ge);x=x.concat(e.default.createElement("li",{key:U,className:le},e.default.cloneElement(this.props.customPaging(U),{onClick:Ee})))}return e.default.cloneElement(this.props.appendDots(x),l({className:this.props.dotsClass},W))}}]),C}(e.default.PureComponent),wd}var Ko={},gR;function UX(){if(gR)return Ko;gR=1;function t(O){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},t(O)}Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.PrevArrow=Ko.NextArrow=void 0;var e=i(Ss()),n=i(Dg()),r=$f();function i(O){return O&&O.__esModule?O:{default:O}}function o(){return o=Object.assign?Object.assign.bind():function(O){for(var M=1;M<arguments.length;M++){var C=arguments[M];for(var I in C)Object.prototype.hasOwnProperty.call(C,I)&&(O[I]=C[I])}return O},o.apply(this,arguments)}function l(O,M){var C=Object.keys(O);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(O);M&&(I=I.filter(function(A){return Object.getOwnPropertyDescriptor(O,A).enumerable})),C.push.apply(C,I)}return C}function c(O){for(var M=1;M<arguments.length;M++){var C=arguments[M]!=null?arguments[M]:{};M%2?l(Object(C),!0).forEach(function(I){d(O,I,C[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(O,Object.getOwnPropertyDescriptors(C)):l(Object(C)).forEach(function(I){Object.defineProperty(O,I,Object.getOwnPropertyDescriptor(C,I))})}return O}function d(O,M,C){return M=w(M),M in O?Object.defineProperty(O,M,{value:C,enumerable:!0,configurable:!0,writable:!0}):O[M]=C,O}function h(O,M){if(!(O instanceof M))throw new TypeError("Cannot call a class as a function")}function p(O,M){for(var C=0;C<M.length;C++){var I=M[C];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(O,w(I.key),I)}}function y(O,M,C){return M&&p(O.prototype,M),Object.defineProperty(O,"prototype",{writable:!1}),O}function w(O){var M=E(O,"string");return t(M)=="symbol"?M:String(M)}function E(O,M){if(t(O)!="object"||!O)return O;var C=O[Symbol.toPrimitive];if(C!==void 0){var I=C.call(O,M);if(t(I)!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(O)}function N(O,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function");O.prototype=Object.create(M&&M.prototype,{constructor:{value:O,writable:!0,configurable:!0}}),Object.defineProperty(O,"prototype",{writable:!1}),M&&P(O,M)}function P(O,M){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,A){return I.__proto__=A,I},P(O,M)}function V(O){var M=$();return function(){var I=Q(O),A;if(M){var S=Q(this).constructor;A=Reflect.construct(I,arguments,S)}else A=I.apply(this,arguments);return z(this,A)}}function z(O,M){if(M&&(t(M)==="object"||typeof M=="function"))return M;if(M!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F(O)}function F(O){if(O===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return O}function $(){try{var O=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($=function(){return!!O})()}function Q(O){return Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)},Q(O)}return Ko.PrevArrow=function(O){N(C,O);var M=V(C);function C(){return h(this,C),M.apply(this,arguments)}return y(C,[{key:"clickHandler",value:function(A,S){S&&S.preventDefault(),this.props.clickHandler(A,S)}},{key:"render",value:function(){var A={"slick-arrow":!0,"slick-prev":!0},S=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(A["slick-disabled"]=!0,S=null);var k={key:"0","data-role":"none",className:(0,n.default)(A),style:{display:"block"},onClick:S},H={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},j;return this.props.prevArrow?j=e.default.cloneElement(this.props.prevArrow,c(c({},k),H)):j=e.default.createElement("button",o({key:"0",type:"button"},k)," ","Previous"),j}}]),C}(e.default.PureComponent),Ko.NextArrow=function(O){N(C,O);var M=V(C);function C(){return h(this,C),M.apply(this,arguments)}return y(C,[{key:"clickHandler",value:function(A,S){S&&S.preventDefault(),this.props.clickHandler(A,S)}},{key:"render",value:function(){var A={"slick-arrow":!0,"slick-next":!0},S=this.clickHandler.bind(this,{message:"next"});(0,r.canGoNext)(this.props)||(A["slick-disabled"]=!0,S=null);var k={key:"1","data-role":"none",className:(0,n.default)(A),style:{display:"block"},onClick:S},H={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},j;return this.props.nextArrow?j=e.default.cloneElement(this.props.nextArrow,c(c({},k),H)):j=e.default.createElement("button",o({key:"1",type:"button"},k)," ","Next"),j}}]),C}(e.default.PureComponent),Ko}var BD=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var l=o[i];n.call(r,l[1],l[0])}},e}()}(),Jb=typeof window<"u"&&typeof document<"u"&&window.document===document,Fp=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),zX=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Fp):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),BX=2;function FX(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&c()}function l(){zX(o)}function c(){var d=Date.now();if(n){if(d-i<BX)return;r=!0}else n=!0,r=!1,setTimeout(l,e);i=d}return c}var HX=20,$X=["top","right","bottom","left","width","height","size","weight"],qX=typeof MutationObserver<"u",GX=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=FX(this.refresh.bind(this),HX)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!Jb||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),qX?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!Jb||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=$X.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),FD=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},Xu=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Fp},HD=jg(0,0,0,0);function Hp(t){return parseFloat(t)||0}function vR(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var o=t["border-"+i+"-width"];return r+Hp(o)},0)}function KX(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var o=i[r],l=t["padding-"+o];n[o]=Hp(l)}return n}function WX(t){var e=t.getBBox();return jg(0,0,e.width,e.height)}function YX(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return HD;var r=Xu(t).getComputedStyle(t),i=KX(r),o=i.left+i.right,l=i.top+i.bottom,c=Hp(r.width),d=Hp(r.height);if(r.boxSizing==="border-box"&&(Math.round(c+o)!==e&&(c-=vR(r,"left","right")+o),Math.round(d+l)!==n&&(d-=vR(r,"top","bottom")+l)),!QX(t)){var h=Math.round(c+o)-e,p=Math.round(d+l)-n;Math.abs(h)!==1&&(c-=h),Math.abs(p)!==1&&(d-=p)}return jg(i.left,i.top,c,d)}var XX=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Xu(t).SVGGraphicsElement}:function(t){return t instanceof Xu(t).SVGElement&&typeof t.getBBox=="function"}}();function QX(t){return t===Xu(t).document.documentElement}function ZX(t){return Jb?XX(t)?WX(t):YX(t):HD}function JX(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,l=Object.create(o.prototype);return FD(l,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),l}function jg(t,e,n,r){return{x:t,y:e,width:n,height:r}}var eQ=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=jg(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=ZX(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),tQ=function(){function t(e,n){var r=JX(n);FD(this,{target:e,contentRect:r})}return t}(),nQ=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new BD,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Xu(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new eQ(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Xu(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new tQ(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),$D=typeof WeakMap<"u"?new WeakMap:new BD,qD=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=GX.getInstance(),r=new nQ(e,n,this);$D.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){qD.prototype[t]=function(){var e;return(e=$D.get(this))[t].apply(e,arguments)}});var rQ=function(){return typeof Fp.ResizeObserver<"u"?Fp.ResizeObserver:qD}();const iQ=Object.freeze(Object.defineProperty({__proto__:null,default:rQ},Symbol.toStringTag,{value:"Module"})),sQ=yj(iQ);var yR;function aQ(){if(yR)return yd;yR=1,Object.defineProperty(yd,"__esModule",{value:!0}),yd.InnerSlider=void 0;var t=h(Ss()),e=h(jX()),n=h(kX()),r=h(Dg()),i=$f(),o=LX(),l=VX(),c=UX(),d=h(sQ);function h(j){return j&&j.__esModule?j:{default:j}}function p(j){"@babel/helpers - typeof";return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},p(j)}function y(){return y=Object.assign?Object.assign.bind():function(j){for(var K=1;K<arguments.length;K++){var Z=arguments[K];for(var B in Z)Object.prototype.hasOwnProperty.call(Z,B)&&(j[B]=Z[B])}return j},y.apply(this,arguments)}function w(j,K){if(j==null)return{};var Z=E(j,K),B,T;if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(j);for(T=0;T<J.length;T++)B=J[T],!(K.indexOf(B)>=0)&&Object.prototype.propertyIsEnumerable.call(j,B)&&(Z[B]=j[B])}return Z}function E(j,K){if(j==null)return{};var Z={},B=Object.keys(j),T,J;for(J=0;J<B.length;J++)T=B[J],!(K.indexOf(T)>=0)&&(Z[T]=j[T]);return Z}function N(j,K){var Z=Object.keys(j);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(j);K&&(B=B.filter(function(T){return Object.getOwnPropertyDescriptor(j,T).enumerable})),Z.push.apply(Z,B)}return Z}function P(j){for(var K=1;K<arguments.length;K++){var Z=arguments[K]!=null?arguments[K]:{};K%2?N(Object(Z),!0).forEach(function(B){S(j,B,Z[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(Z)):N(Object(Z)).forEach(function(B){Object.defineProperty(j,B,Object.getOwnPropertyDescriptor(Z,B))})}return j}function V(j,K){if(!(j instanceof K))throw new TypeError("Cannot call a class as a function")}function z(j,K){for(var Z=0;Z<K.length;Z++){var B=K[Z];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(j,k(B.key),B)}}function F(j,K,Z){return K&&z(j.prototype,K),Object.defineProperty(j,"prototype",{writable:!1}),j}function $(j,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(K&&K.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),K&&Q(j,K)}function Q(j,K){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(B,T){return B.__proto__=T,B},Q(j,K)}function O(j){var K=I();return function(){var B=A(j),T;if(K){var J=A(this).constructor;T=Reflect.construct(B,arguments,J)}else T=B.apply(this,arguments);return M(this,T)}}function M(j,K){if(K&&(p(K)==="object"||typeof K=="function"))return K;if(K!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C(j)}function C(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function I(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I=function(){return!!j})()}function A(j){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Z){return Z.__proto__||Object.getPrototypeOf(Z)},A(j)}function S(j,K,Z){return K=k(K),K in j?Object.defineProperty(j,K,{value:Z,enumerable:!0,configurable:!0,writable:!0}):j[K]=Z,j}function k(j){var K=H(j,"string");return p(K)=="symbol"?K:String(K)}function H(j,K){if(p(j)!="object"||!j)return j;var Z=j[Symbol.toPrimitive];if(Z!==void 0){var B=Z.call(j,K);if(p(B)!="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return(K==="string"?String:Number)(j)}return yd.InnerSlider=function(j){$(Z,j);var K=O(Z);function Z(B){var T;V(this,Z),T=K.call(this,B),S(C(T),"listRefHandler",function(W){return T.list=W}),S(C(T),"trackRefHandler",function(W){return T.track=W}),S(C(T),"adaptHeight",function(){if(T.props.adaptiveHeight&&T.list){var W=T.list.querySelector('[data-index="'.concat(T.state.currentSlide,'"]'));T.list.style.height=(0,i.getHeight)(W)+"px"}}),S(C(T),"componentDidMount",function(){if(T.props.onInit&&T.props.onInit(),T.props.lazyLoad){var W=(0,i.getOnDemandLazySlides)(P(P({},T.props),T.state));W.length>0&&(T.setState(function(U){return{lazyLoadedList:U.lazyLoadedList.concat(W)}}),T.props.onLazyLoad&&T.props.onLazyLoad(W))}var x=P({listRef:T.list,trackRef:T.track},T.props);T.updateState(x,!0,function(){T.adaptHeight(),T.props.autoplay&&T.autoPlay("update")}),T.props.lazyLoad==="progressive"&&(T.lazyLoadTimer=setInterval(T.progressiveLazyLoad,1e3)),T.ro=new d.default(function(){T.state.animating?(T.onWindowResized(!1),T.callbackTimers.push(setTimeout(function(){return T.onWindowResized()},T.props.speed))):T.onWindowResized()}),T.ro.observe(T.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(U){U.onfocus=T.props.pauseOnFocus?T.onSlideFocus:null,U.onblur=T.props.pauseOnFocus?T.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",T.onWindowResized):window.attachEvent("onresize",T.onWindowResized)}),S(C(T),"componentWillUnmount",function(){T.animationEndCallback&&clearTimeout(T.animationEndCallback),T.lazyLoadTimer&&clearInterval(T.lazyLoadTimer),T.callbackTimers.length&&(T.callbackTimers.forEach(function(W){return clearTimeout(W)}),T.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",T.onWindowResized):window.detachEvent("onresize",T.onWindowResized),T.autoplayTimer&&clearInterval(T.autoplayTimer),T.ro.disconnect()}),S(C(T),"componentDidUpdate",function(W){if(T.checkImagesLoad(),T.props.onReInit&&T.props.onReInit(),T.props.lazyLoad){var x=(0,i.getOnDemandLazySlides)(P(P({},T.props),T.state));x.length>0&&(T.setState(function(Y){return{lazyLoadedList:Y.lazyLoadedList.concat(x)}}),T.props.onLazyLoad&&T.props.onLazyLoad(x))}T.adaptHeight();var U=P(P({listRef:T.list,trackRef:T.track},T.props),T.state),X=T.didPropsChange(W);X&&T.updateState(U,X,function(){T.state.currentSlide>=t.default.Children.count(T.props.children)&&T.changeSlide({message:"index",index:t.default.Children.count(T.props.children)-T.props.slidesToShow,currentSlide:T.state.currentSlide}),T.props.autoplay?T.autoPlay("update"):T.pause("paused")})}),S(C(T),"onWindowResized",function(W){T.debouncedResize&&T.debouncedResize.cancel(),T.debouncedResize=(0,n.default)(function(){return T.resizeWindow(W)},50),T.debouncedResize()}),S(C(T),"resizeWindow",function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,x=!!(T.track&&T.track.node);if(x){var U=P(P({listRef:T.list,trackRef:T.track},T.props),T.state);T.updateState(U,W,function(){T.props.autoplay?T.autoPlay("update"):T.pause("paused")}),T.setState({animating:!1}),clearTimeout(T.animationEndCallback),delete T.animationEndCallback}}),S(C(T),"updateState",function(W,x,U){var X=(0,i.initializedState)(W);W=P(P(P({},W),X),{},{slideIndex:X.currentSlide});var Y=(0,i.getTrackLeft)(W);W=P(P({},W),{},{left:Y});var ne=(0,i.getTrackCSS)(W);(x||t.default.Children.count(T.props.children)!==t.default.Children.count(W.children))&&(X.trackStyle=ne),T.setState(X,U)}),S(C(T),"ssrInit",function(){if(T.props.variableWidth){var W=0,x=0,U=[],X=(0,i.getPreClones)(P(P(P({},T.props),T.state),{},{slideCount:T.props.children.length})),Y=(0,i.getPostClones)(P(P(P({},T.props),T.state),{},{slideCount:T.props.children.length}));T.props.children.forEach(function($e){U.push($e.props.style.width),W+=$e.props.style.width});for(var ne=0;ne<X;ne++)x+=U[U.length-1-ne],W+=U[U.length-1-ne];for(var se=0;se<Y;se++)W+=U[se];for(var le=0;le<T.state.currentSlide;le++)x+=U[le];var ge={width:W+"px",left:-x+"px"};if(T.props.centerMode){var Ee="".concat(U[T.state.currentSlide],"px");ge.left="calc(".concat(ge.left," + (100% - ").concat(Ee,") / 2 ) ")}return{trackStyle:ge}}var Pe=t.default.Children.count(T.props.children),Ne=P(P(P({},T.props),T.state),{},{slideCount:Pe}),ze=(0,i.getPreClones)(Ne)+(0,i.getPostClones)(Ne)+Pe,We=100/T.props.slidesToShow*ze,Xe=100/ze,me=-Xe*((0,i.getPreClones)(Ne)+T.state.currentSlide)*We/100;T.props.centerMode&&(me+=(100-Xe*We/100)/2);var Ce={width:We+"%",left:me+"%"};return{slideWidth:Xe+"%",trackStyle:Ce}}),S(C(T),"checkImagesLoad",function(){var W=T.list&&T.list.querySelectorAll&&T.list.querySelectorAll(".slick-slide img")||[],x=W.length,U=0;Array.prototype.forEach.call(W,function(X){var Y=function(){return++U&&U>=x&&T.onWindowResized()};if(!X.onclick)X.onclick=function(){return X.parentNode.focus()};else{var ne=X.onclick;X.onclick=function(se){ne(se),X.parentNode.focus()}}X.onload||(T.props.lazyLoad?X.onload=function(){T.adaptHeight(),T.callbackTimers.push(setTimeout(T.onWindowResized,T.props.speed))}:(X.onload=Y,X.onerror=function(){Y(),T.props.onLazyLoadError&&T.props.onLazyLoadError()}))})}),S(C(T),"progressiveLazyLoad",function(){for(var W=[],x=P(P({},T.props),T.state),U=T.state.currentSlide;U<T.state.slideCount+(0,i.getPostClones)(x);U++)if(T.state.lazyLoadedList.indexOf(U)<0){W.push(U);break}for(var X=T.state.currentSlide-1;X>=-(0,i.getPreClones)(x);X--)if(T.state.lazyLoadedList.indexOf(X)<0){W.push(X);break}W.length>0?(T.setState(function(Y){return{lazyLoadedList:Y.lazyLoadedList.concat(W)}}),T.props.onLazyLoad&&T.props.onLazyLoad(W)):T.lazyLoadTimer&&(clearInterval(T.lazyLoadTimer),delete T.lazyLoadTimer)}),S(C(T),"slideHandler",function(W){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,U=T.props,X=U.asNavFor,Y=U.beforeChange,ne=U.onLazyLoad,se=U.speed,le=U.afterChange,ge=T.state.currentSlide,Ee=(0,i.slideHandler)(P(P(P({index:W},T.props),T.state),{},{trackRef:T.track,useCSS:T.props.useCSS&&!x})),Pe=Ee.state,Ne=Ee.nextState;if(Pe){Y&&Y(ge,Pe.currentSlide);var ze=Pe.lazyLoadedList.filter(function(We){return T.state.lazyLoadedList.indexOf(We)<0});ne&&ze.length>0&&ne(ze),!T.props.waitForAnimate&&T.animationEndCallback&&(clearTimeout(T.animationEndCallback),le&&le(ge),delete T.animationEndCallback),T.setState(Pe,function(){X&&T.asNavForIndex!==W&&(T.asNavForIndex=W,X.innerSlider.slideHandler(W)),Ne&&(T.animationEndCallback=setTimeout(function(){var We=Ne.animating,Xe=w(Ne,["animating"]);T.setState(Xe,function(){T.callbackTimers.push(setTimeout(function(){return T.setState({animating:We})},10)),le&&le(Pe.currentSlide),delete T.animationEndCallback})},se))})}}),S(C(T),"changeSlide",function(W){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,U=P(P({},T.props),T.state),X=(0,i.changeSlide)(U,W);if(!(X!==0&&!X)&&(x===!0?T.slideHandler(X,x):T.slideHandler(X),T.props.autoplay&&T.autoPlay("update"),T.props.focusOnSelect)){var Y=T.list.querySelectorAll(".slick-current");Y[0]&&Y[0].focus()}}),S(C(T),"clickHandler",function(W){T.clickable===!1&&(W.stopPropagation(),W.preventDefault()),T.clickable=!0}),S(C(T),"keyHandler",function(W){var x=(0,i.keyHandler)(W,T.props.accessibility,T.props.rtl);x!==""&&T.changeSlide({message:x})}),S(C(T),"selectHandler",function(W){T.changeSlide(W)}),S(C(T),"disableBodyScroll",function(){var W=function(U){U=U||window.event,U.preventDefault&&U.preventDefault(),U.returnValue=!1};window.ontouchmove=W}),S(C(T),"enableBodyScroll",function(){window.ontouchmove=null}),S(C(T),"swipeStart",function(W){T.props.verticalSwiping&&T.disableBodyScroll();var x=(0,i.swipeStart)(W,T.props.swipe,T.props.draggable);x!==""&&T.setState(x)}),S(C(T),"swipeMove",function(W){var x=(0,i.swipeMove)(W,P(P(P({},T.props),T.state),{},{trackRef:T.track,listRef:T.list,slideIndex:T.state.currentSlide}));x&&(x.swiping&&(T.clickable=!1),T.setState(x))}),S(C(T),"swipeEnd",function(W){var x=(0,i.swipeEnd)(W,P(P(P({},T.props),T.state),{},{trackRef:T.track,listRef:T.list,slideIndex:T.state.currentSlide}));if(x){var U=x.triggerSlideHandler;delete x.triggerSlideHandler,T.setState(x),U!==void 0&&(T.slideHandler(U),T.props.verticalSwiping&&T.enableBodyScroll())}}),S(C(T),"touchEnd",function(W){T.swipeEnd(W),T.clickable=!0}),S(C(T),"slickPrev",function(){T.callbackTimers.push(setTimeout(function(){return T.changeSlide({message:"previous"})},0))}),S(C(T),"slickNext",function(){T.callbackTimers.push(setTimeout(function(){return T.changeSlide({message:"next"})},0))}),S(C(T),"slickGoTo",function(W){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(W=Number(W),isNaN(W))return"";T.callbackTimers.push(setTimeout(function(){return T.changeSlide({message:"index",index:W,currentSlide:T.state.currentSlide},x)},0))}),S(C(T),"play",function(){var W;if(T.props.rtl)W=T.state.currentSlide-T.props.slidesToScroll;else if((0,i.canGoNext)(P(P({},T.props),T.state)))W=T.state.currentSlide+T.props.slidesToScroll;else return!1;T.slideHandler(W)}),S(C(T),"autoPlay",function(W){T.autoplayTimer&&clearInterval(T.autoplayTimer);var x=T.state.autoplaying;if(W==="update"){if(x==="hovered"||x==="focused"||x==="paused")return}else if(W==="leave"){if(x==="paused"||x==="focused")return}else if(W==="blur"&&(x==="paused"||x==="hovered"))return;T.autoplayTimer=setInterval(T.play,T.props.autoplaySpeed+50),T.setState({autoplaying:"playing"})}),S(C(T),"pause",function(W){T.autoplayTimer&&(clearInterval(T.autoplayTimer),T.autoplayTimer=null);var x=T.state.autoplaying;W==="paused"?T.setState({autoplaying:"paused"}):W==="focused"?(x==="hovered"||x==="playing")&&T.setState({autoplaying:"focused"}):x==="playing"&&T.setState({autoplaying:"hovered"})}),S(C(T),"onDotsOver",function(){return T.props.autoplay&&T.pause("hovered")}),S(C(T),"onDotsLeave",function(){return T.props.autoplay&&T.state.autoplaying==="hovered"&&T.autoPlay("leave")}),S(C(T),"onTrackOver",function(){return T.props.autoplay&&T.pause("hovered")}),S(C(T),"onTrackLeave",function(){return T.props.autoplay&&T.state.autoplaying==="hovered"&&T.autoPlay("leave")}),S(C(T),"onSlideFocus",function(){return T.props.autoplay&&T.pause("focused")}),S(C(T),"onSlideBlur",function(){return T.props.autoplay&&T.state.autoplaying==="focused"&&T.autoPlay("blur")}),S(C(T),"render",function(){var W=(0,r.default)("slick-slider",T.props.className,{"slick-vertical":T.props.vertical,"slick-initialized":!0}),x=P(P({},T.props),T.state),U=(0,i.extractObject)(x,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),X=T.props.pauseOnHover;U=P(P({},U),{},{onMouseEnter:X?T.onTrackOver:null,onMouseLeave:X?T.onTrackLeave:null,onMouseOver:X?T.onTrackOver:null,focusOnSelect:T.props.focusOnSelect&&T.clickable?T.selectHandler:null});var Y;if(T.props.dots===!0&&T.state.slideCount>=T.props.slidesToShow){var ne=(0,i.extractObject)(x,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),se=T.props.pauseOnDotsHover;ne=P(P({},ne),{},{clickHandler:T.changeSlide,onMouseEnter:se?T.onDotsLeave:null,onMouseOver:se?T.onDotsOver:null,onMouseLeave:se?T.onDotsLeave:null}),Y=t.default.createElement(l.Dots,ne)}var le,ge,Ee=(0,i.extractObject)(x,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);Ee.clickHandler=T.changeSlide,T.props.arrows&&(le=t.default.createElement(c.PrevArrow,Ee),ge=t.default.createElement(c.NextArrow,Ee));var Pe=null;T.props.vertical&&(Pe={height:T.state.listHeight});var Ne=null;T.props.vertical===!1?T.props.centerMode===!0&&(Ne={padding:"0px "+T.props.centerPadding}):T.props.centerMode===!0&&(Ne={padding:T.props.centerPadding+" 0px"});var ze=P(P({},Pe),Ne),We=T.props.touchMove,Xe={className:"slick-list",style:ze,onClick:T.clickHandler,onMouseDown:We?T.swipeStart:null,onMouseMove:T.state.dragging&&We?T.swipeMove:null,onMouseUp:We?T.swipeEnd:null,onMouseLeave:T.state.dragging&&We?T.swipeEnd:null,onTouchStart:We?T.swipeStart:null,onTouchMove:T.state.dragging&&We?T.swipeMove:null,onTouchEnd:We?T.touchEnd:null,onTouchCancel:T.state.dragging&&We?T.swipeEnd:null,onKeyDown:T.props.accessibility?T.keyHandler:null},me={className:W,dir:"ltr",style:T.props.style};return T.props.unslick&&(Xe={className:"slick-list"},me={className:W}),t.default.createElement("div",me,T.props.unslick?"":le,t.default.createElement("div",y({ref:T.listRefHandler},Xe),t.default.createElement(o.Track,y({ref:T.trackRefHandler},U),T.props.children)),T.props.unslick?"":ge,T.props.unslick?"":Y)}),T.list=null,T.track=null,T.state=P(P({},e.default),{},{currentSlide:T.props.initialSlide,targetSlide:T.props.initialSlide?T.props.initialSlide:0,slideCount:t.default.Children.count(T.props.children)}),T.callbackTimers=[],T.clickable=!0,T.debouncedResize=null;var J=T.ssrInit();return T.state=P(P({},T.state),J),T}return F(Z,[{key:"didPropsChange",value:function(T){for(var J=!1,W=0,x=Object.keys(this.props);W<x.length;W++){var U=x[W];if(!T.hasOwnProperty(U)){J=!0;break}if(!(p(T[U])==="object"||typeof T[U]=="function"||isNaN(T[U]))&&T[U]!==this.props[U]){J=!0;break}}return J||t.default.Children.count(this.props.children)!==t.default.Children.count(T.children)}}]),Z}(t.default.Component),yd}var M0,bR;function oQ(){if(bR)return M0;bR=1;var t=function(e){return e.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()}).toLowerCase()};return M0=t,M0}var P0,wR;function lQ(){if(wR)return P0;wR=1;var t=oQ(),e=function(i){var o=/[height|width]$/;return o.test(i)},n=function(i){var o="",l=Object.keys(i);return l.forEach(function(c,d){var h=i[c];c=t(c),e(c)&&typeof h=="number"&&(h=h+"px"),h===!0?o+=c:h===!1?o+="not "+c:o+="("+c+": "+h+")",d<l.length-1&&(o+=" and ")}),o},r=function(i){var o="";return typeof i=="string"?i:i instanceof Array?(i.forEach(function(l,c){o+=n(l),c<i.length-1&&(o+=", ")}),o):n(i)};return P0=r,P0}var D0,xR;function uQ(){if(xR)return D0;xR=1;function t(e){this.options=e,!e.deferSetup&&this.setup()}return t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},D0=t,D0}var j0,_R;function GD(){if(_R)return j0;_R=1;function t(r,i){var o=0,l=r.length,c;for(o;o<l&&(c=i(r[o],o),c!==!1);o++);}function e(r){return Object.prototype.toString.apply(r)==="[object Array]"}function n(r){return typeof r=="function"}return j0={isFunction:n,isArray:e,each:t},j0}var k0,SR;function cQ(){if(SR)return k0;SR=1;var t=uQ(),e=GD().each;function n(r,i){this.query=r,this.isUnconditional=i,this.handlers=[],this.mql=window.matchMedia(r);var o=this;this.listener=function(l){o.mql=l.currentTarget||l,o.assess()},this.mql.addListener(this.listener)}return n.prototype={constuctor:n,addHandler:function(r){var i=new t(r);this.handlers.push(i),this.matches()&&i.on()},removeHandler:function(r){var i=this.handlers;e(i,function(o,l){if(o.equals(r))return o.destroy(),!i.splice(l,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";e(this.handlers,function(i){i[r]()})}},k0=n,k0}var L0,TR;function dQ(){if(TR)return L0;TR=1;var t=cQ(),e=GD(),n=e.each,r=e.isFunction,i=e.isArray;function o(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return o.prototype={constructor:o,register:function(l,c,d){var h=this.queries,p=d&&this.browserIsIncapable;return h[l]||(h[l]=new t(l,p)),r(c)&&(c={match:c}),i(c)||(c=[c]),n(c,function(y){r(y)&&(y={match:y}),h[l].addHandler(y)}),this},unregister:function(l,c){var d=this.queries[l];return d&&(c?d.removeHandler(c):(d.clear(),delete this.queries[l])),this}},L0=o,L0}var V0,ER;function fQ(){if(ER)return V0;ER=1;var t=dQ();return V0=new t,V0}var AR;function hQ(){return AR||(AR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=l(Ss()),n=aQ(),r=l(lQ()),i=l(zD()),o=$f();function l(A){return A&&A.__esModule?A:{default:A}}function c(A){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},c(A)}function d(){return d=Object.assign?Object.assign.bind():function(A){for(var S=1;S<arguments.length;S++){var k=arguments[S];for(var H in k)Object.prototype.hasOwnProperty.call(k,H)&&(A[H]=k[H])}return A},d.apply(this,arguments)}function h(A,S){var k=Object.keys(A);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(A);S&&(H=H.filter(function(j){return Object.getOwnPropertyDescriptor(A,j).enumerable})),k.push.apply(k,H)}return k}function p(A){for(var S=1;S<arguments.length;S++){var k=arguments[S]!=null?arguments[S]:{};S%2?h(Object(k),!0).forEach(function(H){O(A,H,k[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(k)):h(Object(k)).forEach(function(H){Object.defineProperty(A,H,Object.getOwnPropertyDescriptor(k,H))})}return A}function y(A,S){if(!(A instanceof S))throw new TypeError("Cannot call a class as a function")}function w(A,S){for(var k=0;k<S.length;k++){var H=S[k];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(A,M(H.key),H)}}function E(A,S,k){return S&&w(A.prototype,S),Object.defineProperty(A,"prototype",{writable:!1}),A}function N(A,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(S&&S.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),S&&P(A,S)}function P(A,S){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(H,j){return H.__proto__=j,H},P(A,S)}function V(A){var S=$();return function(){var H=Q(A),j;if(S){var K=Q(this).constructor;j=Reflect.construct(H,arguments,K)}else j=H.apply(this,arguments);return z(this,j)}}function z(A,S){if(S&&(c(S)==="object"||typeof S=="function"))return S;if(S!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F(A)}function F(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function $(){try{var A=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($=function(){return!!A})()}function Q(A){return Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},Q(A)}function O(A,S,k){return S=M(S),S in A?Object.defineProperty(A,S,{value:k,enumerable:!0,configurable:!0,writable:!0}):A[S]=k,A}function M(A){var S=C(A,"string");return c(S)=="symbol"?S:String(S)}function C(A,S){if(c(A)!="object"||!A)return A;var k=A[Symbol.toPrimitive];if(k!==void 0){var H=k.call(A,S);if(c(H)!="object")return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(A)}var I=(0,o.canUseDOM)()&&fQ();t.default=function(A){N(k,A);var S=V(k);function k(H){var j;return y(this,k),j=S.call(this,H),O(F(j),"innerSliderRefHandler",function(K){return j.innerSlider=K}),O(F(j),"slickPrev",function(){return j.innerSlider.slickPrev()}),O(F(j),"slickNext",function(){return j.innerSlider.slickNext()}),O(F(j),"slickGoTo",function(K){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return j.innerSlider.slickGoTo(K,Z)}),O(F(j),"slickPause",function(){return j.innerSlider.pause("paused")}),O(F(j),"slickPlay",function(){return j.innerSlider.autoPlay("play")}),j.state={breakpoint:null},j._responsiveMediaHandlers=[],j}return E(k,[{key:"media",value:function(j,K){I.register(j,K),this._responsiveMediaHandlers.push({query:j,handler:K})}},{key:"componentDidMount",value:function(){var j=this;if(this.props.responsive){var K=this.props.responsive.map(function(B){return B.breakpoint});K.sort(function(B,T){return B-T}),K.forEach(function(B,T){var J;T===0?J=(0,r.default)({minWidth:0,maxWidth:B}):J=(0,r.default)({minWidth:K[T-1]+1,maxWidth:B}),(0,o.canUseDOM)()&&j.media(J,function(){j.setState({breakpoint:B})})});var Z=(0,r.default)({minWidth:K.slice(-1)[0]});(0,o.canUseDOM)()&&this.media(Z,function(){j.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(j){I.unregister(j.query,j.handler)})}},{key:"render",value:function(){var j=this,K,Z;this.state.breakpoint?(Z=this.props.responsive.filter(function(se){return se.breakpoint===j.state.breakpoint}),K=Z[0].settings==="unslick"?"unslick":p(p(p({},i.default),this.props),Z[0].settings)):K=p(p({},i.default),this.props),K.centerMode&&(K.slidesToScroll>1,K.slidesToScroll=1),K.fade&&(K.slidesToShow>1,K.slidesToScroll>1,K.slidesToShow=1,K.slidesToScroll=1);var B=e.default.Children.toArray(this.props.children);B=B.filter(function(se){return typeof se=="string"?!!se.trim():!!se}),K.variableWidth&&(K.rows>1||K.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),K.variableWidth=!1);for(var T=[],J=null,W=0;W<B.length;W+=K.rows*K.slidesPerRow){for(var x=[],U=W;U<W+K.rows*K.slidesPerRow;U+=K.slidesPerRow){for(var X=[],Y=U;Y<U+K.slidesPerRow&&(K.variableWidth&&B[Y].props.style&&(J=B[Y].props.style.width),!(Y>=B.length));Y+=1)X.push(e.default.cloneElement(B[Y],{key:100*W+10*U+Y,tabIndex:-1,style:{width:"".concat(100/K.slidesPerRow,"%"),display:"inline-block"}}));x.push(e.default.createElement("div",{key:10*W+U},X))}K.variableWidth?T.push(e.default.createElement("div",{key:W,style:{width:J}},x)):T.push(e.default.createElement("div",{key:W},x))}if(K==="unslick"){var ne="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:ne},B)}else T.length<=K.slidesToShow&&!K.infinite&&(K.unslick=!0);return e.default.createElement(n.InnerSlider,d({style:this.props.style,ref:this.innerSliderRefHandler},(0,o.filterSettings)(K)),T)}}]),k}(e.default.Component)}(C0)),C0}var CR;function mQ(){return CR||(CR=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(hQ());function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default}(A0)),A0}var pQ=mQ();const gQ=$p(pQ);function vQ(t){const[e,n]=R.useState([]);return R.useEffect(()=>{t&&(async()=>{const r=await on(St(Ue,"businesses",t,"products"));n(r.docs.map(i=>({id:i.id,...i.data()})))})()},[t]),e}function yQ({products:t}){const{cart:e,addToCart:n,updateQuantity:r}=Ag();return g.jsx(we.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.2},className:"absolute z-50 bottom-10 right-0 bg-neutral-900 rounded-xl p-4 w-72 shadow-xl border border-neutral-700 space-y-3",children:t.map(i=>{const o=e.find(l=>l.id===i.productId);return g.jsxs("div",{className:"flex items-center justify-between text-sm",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("p",{className:"font-medium",children:i.name}),g.jsxs("p",{className:"text-xs text-neutral-400",children:["$",i.price?.toFixed(2)]})]}),o?g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:()=>r(i.productId,o.quantity-1),className:"px-2 text-white cursor-pointer hover:text-primary",children:""}),g.jsx("input",{min:1,className:"w-10 text-center bg-transparent border border-neutral-700 rounded text-white hover:border-primary focus:outline-none focus:ring-1 focus:ring-primary",value:o.quantity,onChange:l=>r(i.productId,Math.max(1,parseInt(l.target.value)||1))}),g.jsx("button",{onClick:()=>r(i.productId,o.quantity+1),className:"px-2 text-white cursor-pointer hover:text-primary",children:"+"})]}):g.jsx("button",{onClick:()=>n({id:i.productId,name:i.name,price:i.price,image:i.image||"",quantity:1}),className:"bg-primary text-sm px-3 py-1 rounded cursor-pointer hover:opacity-90",children:"Add to Cart"})]},i.productId)})})}const RR={initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9}};function T_({post:t,onClose:e,user:n,liked:r,saved:i,handleLike:o,handleSave:l}){const[c,d]=R.useState([]),[h,p]=R.useState(""),[y,w]=R.useState(null),[E,N]=R.useState(""),[P,V]=R.useState(!1),[z,F]=R.useState(!1),[$,Q]=R.useState(!1),O=R.useRef(null),M=R.useRef(null),C=vQ(t.business),I=async()=>{if(!(!h.trim()||$)){Q(!0);try{await ua(St(Ue,"posts",t.id,"comments"),{text:h.trim(),user:n.uid,timestamp:na()}),p("")}catch(k){console.error("Error posting comment:",k)}finally{Q(!1)}}},A=async(k,H)=>{if(!(!E.trim()||$)){Q(!0);try{await ua(St(Ue,"posts",t.id,"comments"),{text:E.trim(),user:n.uid,timestamp:na(),replyToId:k,replyToUserId:H}),N(""),w(null)}catch(j){console.error("Error posting reply:",j)}finally{Q(!1)}}},S=k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),I())};return R.useEffect(()=>{const k=cn(St(Ue,"posts",t.id,"comments"),Bu("timestamp","asc")),H=Fu(k,j=>{d(j.docs.map(K=>({id:K.id,...K.data()})))});return()=>H()},[t.id]),R.useEffect(()=>{function k(H){O.current&&!O.current.contains(H.target)&&F(!1)}return z&&document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[z]),g.jsxs(we.div,{...RR,transition:{duration:.25},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-2 sm:p-4",children:[g.jsx("button",{onClick:e,className:"absolute top-6 right-6 sm:top-8 sm:right-8 text-white hover:bg-neutral-800/80 p-3 rounded-xl transition-all duration-200 z-50 cursor-pointer backdrop-blur-sm",children:g.jsx(ps,{size:18,className:"sm:w-5 sm:h-5"})}),g.jsxs(we.div,{...RR,transition:{duration:.3},className:"bg-neutral-900 text-white w-full max-w-5xl h-[95vh] sm:h-[90vh] rounded-xl overflow-hidden flex flex-col lg:flex-row max-h-screen",children:[g.jsxs("div",{className:"w-full lg:w-2/3 bg-black flex items-center justify-center relative h-1/2 lg:h-full overflow-hidden",children:[!P&&g.jsx("div",{className:"absolute inset-0 bg-neutral-800 animate-pulse"}),g.jsx(gQ,{dots:!0,infinite:!0,speed:400,slidesToShow:1,slidesToScroll:1,arrows:!1,className:"w-full h-full",appendDots:k=>g.jsx("div",{style:{bottom:"10px"},children:g.jsx("ul",{className:"flex justify-center gap-2",children:k})}),customPaging:()=>g.jsx("div",{className:"w-2 h-2 bg-white/50 rounded-full"}),children:t.images.map((k,H)=>g.jsx("div",{className:"flex justify-center items-center h-full w-full",children:g.jsx("img",{src:k,alt:`Image ${H+1}`,onLoad:()=>V(!0),className:`h-full w-full object-cover transition-opacity duration-500 ${P?"opacity-100":"opacity-0"}`})},H))})]}),g.jsxs("div",{className:"w-full lg:w-1/3 border-t lg:border-l border-neutral-800 flex flex-col justify-between h-1/2 lg:h-full",children:[g.jsxs("div",{className:"p-3 sm:p-4 border-b border-neutral-800",children:[g.jsx("h2",{className:"text-base sm:text-lg font-semibold line-clamp-2",children:t.title}),g.jsx("p",{className:"text-xs sm:text-sm text-primary/80 mt-1",children:t.niche}),t.description&&g.jsx("p",{className:"text-xs sm:text-sm text-white/80 mt-1 line-clamp-3",children:t.description}),g.jsx("p",{className:"text-xs text-neutral-400 mt-2",children:t.timestamp?.toDate().toLocaleString()})]}),g.jsx("div",{className:"flex-1 overflow-y-auto p-3 sm:p-4 min-h-0",children:g.jsx("div",{className:"space-y-2 sm:space-y-3",children:c.length===0?g.jsxs("div",{className:"text-center py-4 sm:py-8",children:[g.jsx("p",{className:"text-xs sm:text-sm text-white/60",children:"No comments yet."}),g.jsx("p",{className:"text-xs text-white/40 mt-1",children:"Be the first to comment!"})]}):c.map(k=>g.jsx(DX,{postId:t.id,comment:k,onReplyClick:H=>w(y===H?null:H),isReplying:y===k.id,replyText:E,onReplyChange:N,onReplySubmit:A,isSubmitting:$},k.id))})}),g.jsxs("div",{className:"border-t border-neutral-800 p-3 sm:p-4 space-y-3 sm:space-y-4",children:[g.jsxs("div",{className:"flex items-center gap-4 sm:gap-6",children:[t.likes!==!1&&g.jsx(we.button,{whileTap:{scale:.9},onClick:o,className:"cursor-pointer hover:scale-105 transition-transform p-2",children:r?g.jsx(Hu,{size:20,className:"sm:w-6 sm:h-6 text-red-500",fill:"currentColor"}):g.jsx(Hu,{size:20,className:"sm:w-6 sm:h-6 text-white hover:text-red-400"})}),t.saves!==!1&&g.jsx(we.button,{whileTap:{scale:.9},onClick:l,className:"cursor-pointer hover:scale-105 transition-transform p-2",children:i?g.jsx(hl,{size:20,className:"sm:w-6 sm:h-6 text-primary",fill:"currentColor"}):g.jsx(hl,{size:20,className:"sm:w-6 sm:h-6 text-white hover:text-primary"})}),g.jsxs("div",{className:"ml-auto flex items-center gap-2 sm:gap-3",children:[g.jsxs("div",{className:"relative",ref:O,children:[g.jsx("button",{onClick:()=>F(!z),className:"cursor-pointer hover:scale-105 transition-transform p-2",children:g.jsx(Wz,{size:20,className:"sm:w-6 sm:h-6 text-white hover:text-primary"})}),g.jsx(yn,{children:z&&g.jsx(yQ,{products:C.filter(k=>t.productIds.includes(k.id))})})]}),t.business&&g.jsx("a",{href:`/business/${t.business}`,target:"_blank",className:"cursor-pointer hover:scale-105 transition-transform p-2",children:g.jsx(vz,{size:20,className:"sm:w-6 sm:h-6 text-white hover:text-primary"})})]})]}),t.comments!==!1&&g.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 bg-neutral-800/50 rounded-lg p-2 sm:p-3",children:[g.jsx("input",{ref:M,className:"flex-1 bg-transparent text-white placeholder-white/60 text-xs sm:text-sm outline-none",placeholder:"Add a comment...",value:h,onChange:k=>p(k.target.value),onKeyPress:S,disabled:$}),g.jsx(we.button,{whileTap:{scale:.95},onClick:I,disabled:!h.trim()||$,className:"text-primary hover:text-primary/80 disabled:text-white/40 disabled:cursor-not-allowed transition-colors p-1",children:g.jsx(Tx,{size:16,className:"sm:w-5 sm:h-5"})})]})]})]})]},"modal")]})}function bQ(){const{user:t}=Dr(),{totalUnread:e}=Cg(),n=jr(),[r,i]=R.useState(null),[o,l]=R.useState([]),[c,d]=R.useState([]),[h,p]=R.useState({totalTrades:0,savedPosts:0,unreadMessages:0,recentActivity:0}),[y,w]=R.useState(!0),[E,N]=R.useState(""),[P,V]=R.useState(null),[z,F]=R.useState(!1),[$,Q]=R.useState(!1),[O,M]=R.useState(null),[C,I]=R.useState(null);R.useEffect(()=>{if(!t)return;(async()=>{try{w(!0);const[B,T,J]=await Promise.all([w_(t.uid),x_(t.uid),__(t.uid)]);i(B),l(T),d(J),p({totalTrades:T.length,savedPosts:J.length,unreadMessages:e,recentActivity:T.filter(W=>W.timestamp?.toDate&&new Date(W.timestamp.toDate())>new Date(Date.now()-7*24*60*60*1e3)).length})}catch(B){console.error("Error loading dashboard data:",B)}finally{w(!1)}})()},[t]),R.useEffect(()=>{p(Z=>({...Z,unreadMessages:e}))},[e]);const A=()=>{const Z=new Date().getHours();return Z<12?"Good Morning":Z<17?"Good Afternoon":"Good Evening"},S=Z=>{M(Z),F(!0)},k=Z=>{I(Z),Q(!0)},H=os.filter(Z=>Z.label.toLowerCase().includes(E.toLowerCase())),j=o.slice(0,4),K=c.slice(0,4);return y?g.jsx(Si,{className:"flex h-screen w-full bg-neutral-950 text-white",children:g.jsx("div",{className:"flex-1 p-6",children:g.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-full",children:Array.from({length:6}).map((Z,B)=>g.jsxs("div",{className:"bg-neutral-900 rounded-2xl p-6 animate-pulse",children:[g.jsx("div",{className:"h-6 bg-neutral-800 rounded mb-4"}),g.jsxs("div",{className:"space-y-3",children:[g.jsx("div",{className:"h-4 bg-neutral-800 rounded"}),g.jsx("div",{className:"h-4 bg-neutral-800 rounded w-3/4"})]})]},B))})})}):g.jsxs(Si,{className:"min-h-screen w-full bg-neutral-950 text-white",children:[g.jsxs("div",{className:"p-4 sm:p-6",children:[g.jsx(we.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 sm:mb-8",children:g.jsx("div",{className:"flex items-center justify-between mb-4",children:g.jsxs("div",{children:[g.jsxs("h1",{className:"text-2xl sm:text-4xl font-bold",children:[A(),", ",r?.name||t?.displayName||"User"]}),g.jsx("p",{className:"text-neutral-400 mt-1 text-sm sm:text-base",children:r?.country&&g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx("span",{children:Zb(r.country)}),g.jsx("span",{children:r.country})]})})]})})}),g.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-6 sm:mb-8",children:[g.jsx(Nm,{title:"Active Trades",value:h.totalTrades,icon:g.jsx(bb,{className:"w-5 h-5"}),color:"text-green-400",onClick:()=>n("/user?tab=trades")}),g.jsx(Nm,{title:"Saved Posts",value:h.savedPosts,icon:g.jsx(hl,{className:"w-5 h-5"}),color:"text-blue-400",onClick:()=>n("/user?tab=saved")}),g.jsx(Nm,{title:"Unread Messages",value:h.unreadMessages,icon:g.jsx(yb,{className:"w-5 h-5"}),color:"text-purple-400",onClick:()=>n("/messages")}),g.jsx(Nm,{title:"Recent Activity",value:h.recentActivity,icon:g.jsx(rz,{className:"w-5 h-5"}),color:"text-orange-400",onClick:()=>n("/trade")})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[g.jsxs(we.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"lg:col-span-2 bg-neutral-900 rounded-xl sm:rounded-2xl p-4 sm:p-6",children:[g.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[g.jsx(qu,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"}),g.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Discover Interests"})]}),g.jsx("div",{className:"mb-4 sm:mb-6",children:g.jsx("input",{type:"text",placeholder:"Search interests...",value:E,onChange:Z=>N(Z.target.value),className:"w-full bg-neutral-800 text-white px-3 sm:px-4 py-2 sm:py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary text-sm sm:text-base"})}),g.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 sm:gap-4 max-h-80 sm:max-h-96 overflow-y-auto",children:H.map(Z=>g.jsx(xQ,{interest:Z,selectedInterest:P,onSelect:V},Z.id))})]}),g.jsxs(we.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-neutral-900 rounded-xl sm:rounded-2xl p-4 sm:p-6",children:[g.jsxs("div",{className:"mb-6 sm:mb-8",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[g.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Recent Trades"}),g.jsx(bi,{to:"/user?tab=trades",className:"text-primary hover:underline text-sm",children:"View All"})]}),g.jsx("div",{className:"space-y-4",children:j.length>0?j.map(Z=>g.jsx(wQ,{trade:Z,onClick:()=>S(Z)},Z.id)):g.jsxs("div",{className:"text-center py-8 text-neutral-400",children:[g.jsx(bb,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),g.jsx("p",{children:"No trades yet"}),g.jsx("button",{onClick:()=>n("/add"),className:"text-primary hover:underline text-sm mt-2",children:"Add your first trade"})]})})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[g.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Saved Posts"}),g.jsx(bi,{to:"/user?tab=saved",className:"text-primary hover:underline text-sm",children:"View All"})]}),g.jsx("div",{className:"space-y-4",children:K.length>0?K.map(Z=>g.jsx(_Q,{post:Z,onClick:()=>k(Z)},Z.id)):g.jsxs("div",{className:"text-center py-8 text-neutral-400",children:[g.jsx(hl,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),g.jsx("p",{children:"No saved posts"}),g.jsx("p",{className:"text-xs mt-1",children:"Posts you save will appear here"})]})})]})]}),g.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"lg:col-span-3 bg-neutral-900 rounded-xl sm:rounded-2xl p-4 sm:p-6",children:[g.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Mangrov"}),g.jsxs("p",{className:"text-neutral-400",children:["Shop through ",g.jsx("span",{className:"text-primary",children:"sustainable"})," ","products enabling",g.jsx("span",{className:"text-primary",children:" memorable experiences"})]})]}),g.jsxs("div",{className:"flex flex-row items-center gap-3 sm:gap-4",children:[g.jsx(bi,{to:"/about",className:"border-2 border-primary rounded-lg bg-transparent tracking-widest text-white px-4 sm:px-8 py-1.5 sm:py-2 text-xs sm:text-sm uppercase font-bold hover:bg-primary transition-all duration-300",children:"About"}),g.jsx(bi,{to:"https://instagram.com/_mangrov_",target:"_blank",children:g.jsx(KP,{className:"text-white w-6 h-6 sm:w-8 sm:h-8 hover:text-primary transition-colors"})}),g.jsx(bi,{to:"https://youtube.com",target:"_blank",children:g.jsx(WP,{className:"text-white w-6 h-6 sm:w-8 sm:h-8 hover:text-primary transition-colors"})})]})]}),g.jsx("p",{className:"text-xs text-neutral-500 mt-4",children:" 2025 Mangrov"})]})]})]}),g.jsxs(yn,{mode:"wait",children:[z&&O&&g.jsx(S_,{trade:O,isOpen:z,onClose:()=>{F(!1),M(null)},onTradeUpdate:Z=>{l(B=>B.map(T=>T.id===Z.id?{...T,...Z}:T)),M(Z)}}),$&&C&&g.jsx(T_,{post:C,onClose:()=>{Q(!1),I(null)},user:t,liked:!1,saved:!0,handleLike:()=>{},handleSave:()=>{}})]})]})}function Nm({title:t,value:e,icon:n,color:r,onClick:i}){return g.jsxs(we.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:i,className:"bg-neutral-900 rounded-xl p-4 cursor-pointer hover:bg-neutral-800 transition-colors",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("div",{className:`${r}`,children:n}),g.jsx(wg,{className:"w-4 h-4 text-neutral-400"})]}),g.jsx("div",{className:"text-2xl font-bold",children:e}),g.jsx("div",{className:"text-sm text-neutral-400",children:t})]})}function wQ({trade:t,onClick:e}){return g.jsx(we.div,{whileHover:{scale:1.02},className:"bg-neutral-800 rounded-lg p-3 cursor-pointer hover:bg-neutral-700 transition-colors",onClick:e,children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("img",{src:t.images?.[0],alt:t.title,className:"w-12 h-12 rounded-lg object-cover"}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("h4",{className:"font-semibold text-white truncate",children:t.title}),g.jsx("p",{className:"text-xs text-neutral-400",children:t.timestamp?.toDate?.()?new Date(t.timestamp.toDate()).toLocaleDateString():"Recently"})]}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(bz,{className:"w-4 h-4 text-neutral-400"}),g.jsx("span",{className:"text-xs text-neutral-400",children:"0"})]})]})})}function xQ({interest:t,selectedInterest:e,onSelect:n}){const[r,i]=R.useState(!1),[o,l]=R.useState(!1),c=jr(),d=()=>{n(t.id),c(`/search?interest=${t.id}`)};return g.jsxs(we.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:d,className:`relative aspect-square rounded-xl overflow-hidden cursor-pointer transition-all duration-200 ${e===t.id?"ring-2 ring-primary":"hover:ring-2 hover:ring-primary/50"}`,children:[!r&&!o&&g.jsx("div",{className:"absolute inset-0 bg-neutral-800 animate-pulse"}),o&&g.jsx("div",{className:"absolute inset-0 bg-neutral-800 flex items-center justify-center",children:g.jsxs("div",{className:"text-center",children:[g.jsx("div",{className:"w-8 h-8 bg-neutral-700 rounded-full mx-auto mb-2"}),g.jsx("p",{className:"text-xs text-neutral-400",children:t.label})]})}),g.jsx("img",{src:t.img,alt:t.label,className:`w-full h-full object-cover transition-opacity duration-300 ${r?"opacity-100":"opacity-0"}`,onLoad:()=>i(!0),onError:()=>l(!0),loading:"lazy"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"}),g.jsx("div",{className:"absolute bottom-3 left-3 right-3",children:g.jsx("p",{className:"text-white text-sm font-semibold",children:t.label})})]})}function _Q({post:t,onClick:e}){return g.jsx(we.div,{whileHover:{scale:1.02},className:"bg-neutral-800 rounded-lg p-3 cursor-pointer hover:bg-neutral-700 transition-colors",onClick:e,children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("img",{src:t.images?.[0],alt:t.title,className:"w-12 h-12 rounded-lg object-cover"}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("h4",{className:"font-semibold text-white truncate",children:t.title}),g.jsx("p",{className:"text-xs text-neutral-400",children:t.timestamp?.toDate?.()?new Date(t.timestamp.toDate()).toLocaleDateString():"Recently"})]}),g.jsx(hl,{className:"w-4 h-4 text-primary fill-current"})]})})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ew=function(t,e){return ew=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},ew(t,e)};function SQ(t,e){ew(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var qd=function(){return qd=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},qd.apply(this,arguments)};function TQ(t,e,n,r){var i,o=!1,l=0;function c(){i&&clearTimeout(i)}function d(){c(),o=!0}typeof e!="boolean"&&(r=n,n=e,e=void 0);function h(){var p=this,y=Date.now()-l,w=arguments;if(o)return;function E(){l=Date.now(),n.apply(p,w)}function N(){i=void 0}r&&!i&&E(),c(),r===void 0&&y>t?E():e!==!0&&(i=setTimeout(r?N:E,r===void 0?t-y:t))}return h.cancel=d,h}var Mu={Pixel:"Pixel",Percent:"Percent"},NR={unit:Mu.Percent,value:.8};function IR(t){return typeof t=="number"?{unit:Mu.Percent,value:t*100}:typeof t=="string"?t.match(/^(\d*(\.\d+)?)px$/)?{unit:Mu.Pixel,value:parseFloat(t)}:t.match(/^(\d*(\.\d+)?)%$/)?{unit:Mu.Percent,value:parseFloat(t)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),NR):(console.warn("scrollThreshold should be string or number"),NR)}var EQ=function(t){SQ(e,t);function e(n){var r=t.call(this,n)||this;return r.lastScrollTop=0,r.actionTriggered=!1,r.startY=0,r.currentY=0,r.dragging=!1,r.maxPullDownDistance=0,r.getScrollableTarget=function(){return r.props.scrollableTarget instanceof HTMLElement?r.props.scrollableTarget:typeof r.props.scrollableTarget=="string"?document.getElementById(r.props.scrollableTarget):(r.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},r.onStart=function(i){r.lastScrollTop||(r.dragging=!0,i instanceof MouseEvent?r.startY=i.pageY:i instanceof TouchEvent&&(r.startY=i.touches[0].pageY),r.currentY=r.startY,r._infScroll&&(r._infScroll.style.willChange="transform",r._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},r.onMove=function(i){r.dragging&&(i instanceof MouseEvent?r.currentY=i.pageY:i instanceof TouchEvent&&(r.currentY=i.touches[0].pageY),!(r.currentY<r.startY)&&(r.currentY-r.startY>=Number(r.props.pullDownToRefreshThreshold)&&r.setState({pullToRefreshThresholdBreached:!0}),!(r.currentY-r.startY>r.maxPullDownDistance*1.5)&&r._infScroll&&(r._infScroll.style.overflow="visible",r._infScroll.style.transform="translate3d(0px, "+(r.currentY-r.startY)+"px, 0px)")))},r.onEnd=function(){r.startY=0,r.currentY=0,r.dragging=!1,r.state.pullToRefreshThresholdBreached&&(r.props.refreshFunction&&r.props.refreshFunction(),r.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){r._infScroll&&(r._infScroll.style.overflow="auto",r._infScroll.style.transform="none",r._infScroll.style.willChange="unset")})},r.onScrollListener=function(i){typeof r.props.onScroll=="function"&&setTimeout(function(){return r.props.onScroll&&r.props.onScroll(i)},0);var o=r.props.height||r._scrollableNode?i.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!r.actionTriggered){var l=r.props.inverse?r.isElementAtTop(o,r.props.scrollThreshold):r.isElementAtBottom(o,r.props.scrollThreshold);l&&r.props.hasMore&&(r.actionTriggered=!0,r.setState({showLoader:!0}),r.props.next&&r.props.next()),r.lastScrollTop=o.scrollTop}},r.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:n.dataLength},r.throttledOnScrollListener=TQ(150,r.onScrollListener).bind(r),r.onStart=r.onStart.bind(r),r.onMove=r.onMove.bind(r),r.onEnd=r.onEnd.bind(r),r}return e.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},e.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},e.prototype.componentDidUpdate=function(n){this.props.dataLength!==n.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},e.getDerivedStateFromProps=function(n,r){var i=n.dataLength!==r.prevDataLength;return i?qd(qd({},r),{prevDataLength:n.dataLength}):null},e.prototype.isElementAtTop=function(n,r){r===void 0&&(r=.8);var i=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,o=IR(r);return o.unit===Mu.Pixel?n.scrollTop<=o.value+i-n.scrollHeight+1:n.scrollTop<=o.value/100+i-n.scrollHeight+1},e.prototype.isElementAtBottom=function(n,r){r===void 0&&(r=.8);var i=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,o=IR(r);return o.unit===Mu.Pixel?n.scrollTop+i>=n.scrollHeight-o.value:n.scrollTop+i>=o.value/100*n.scrollHeight},e.prototype.render=function(){var n=this,r=qd({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),i=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),o=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return xd.createElement("div",{style:o,className:"infinite-scroll-component__outerdiv"},xd.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(l){return n._infScroll=l},style:r},this.props.pullDownToRefresh&&xd.createElement("div",{style:{position:"relative"},ref:function(l){return n._pullDown=l}},xd.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!i&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},e}(R.Component);function AQ({post:t,index:e,isLoaded:n,onImageLoad:r,userSavedPosts:i=[]}){const{user:o}=Dr(),[l,c]=R.useState(!1),[d,h]=R.useState(0),[p,y]=R.useState(!1),[w,E]=R.useState(!1),[N,P]=R.useState(!1);R.useEffect(()=>{if(!o||!t?.id)return;const F=rn(Ue,"posts",t.id,"likes",o.uid),$=St(Ue,"posts",t.id,"likes"),Q=Fu($,O=>{h(O.size)});return yi(F).then(O=>{c(O.exists())}),y(i.includes(t.id)),()=>Q()},[o,t,i]);const V=async()=>{if(c(!l),!o)return;const F=rn(Ue,"posts",t.id,"likes",o.uid);l?await _p(F):await dl(F,{timestamp:Date.now()})},z=async()=>{y(!p);const F=rn(Ue,"users",o?.uid,"saves",t.id);p?await _p(F):await dl(F,{timestamp:Date.now()})};return g.jsxs(g.Fragment,{children:[g.jsxs(we.div,{layout:!0,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:e*.03,duration:.3,ease:"easeOut"},className:"relative group rounded-xl overflow-hidden shadow-md bg-neutral-800 w-full cursor-pointer",onClick:()=>P(!0),children:[!n&&g.jsx("div",{className:"absolute inset-0 animate-pulse rounded-xl bg-neutral-700 z-50"}),g.jsx("img",{src:t.images[0],alt:t.title,loading:"lazy",onLoad:r,className:`w-full h-auto object-cover rounded-xl transition-all duration-500 ${n?"opacity-100":"opacity-0"}`,style:{aspectRatio:"3 / 4"}}),g.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-3 z-20",children:g.jsxs("div",{className:"flex justify-between items-end w-full gap-4",children:[g.jsxs("div",{className:"flex flex-col text-white text-left",children:[g.jsx("div",{className:"text-base font-semibold mb-1",children:t.title}),g.jsx(yn,{children:g.jsx(we.div,{layout:!0,initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"text-sm overflow-hidden",children:g.jsx("p",{className:w?"":"truncate",children:t.keywords.concat(t.niche).map(F=>F[0].toUpperCase()+F.slice(1).toLowerCase()).join(", ")})})}),t.keywords.concat(t.niche).join(", ").length>40&&g.jsxs(we.button,{layout:!0,onClick:F=>{F.stopPropagation(),E(!w)},className:"text-xs text-blue-300 hover:underline mt-1 flex items-center gap-1",children:[w?"View less":"View more",w?g.jsx(oM,{size:12}):g.jsx(Lf,{size:12})]})]}),g.jsxs("div",{className:"flex-shrink-0 flex flex-row items-end gap-2 text-white text-base",onClick:F=>F.stopPropagation(),children:[t.likes&&g.jsxs("button",{onClick:V,className:"flex items-center gap-1 cursor-pointer",children:[g.jsx(Hu,{size:28,className:l?"text-red-500":"text-white",strokeWidth:2,fill:l?"currentColor":"none"}),g.jsx("span",{className:"text-sm",children:d})]}),t.saves&&g.jsx("button",{onClick:z,className:"flex items-center gap-1 cursor-pointer",children:g.jsx(hl,{size:28,className:p?"text-green-500":"text-white",strokeWidth:2,fill:p?"currentColor":"none"})})]})]})})]}),g.jsx(yn,{children:N&&g.jsx(T_,{post:t,user:o,onClose:()=>P(!1),liked:l,saved:p,handleLike:V,handleSave:z})})]})}function CQ(){const{user:t}=Dr(),[e,n]=sM(),[r,i]=R.useState([]),[o,l]=R.useState([]),[c,d]=R.useState([]),[h,p]=R.useState([]),[y,w]=R.useState(""),[E,N]=R.useState(""),[P,V]=R.useState(null),[z,F]=R.useState(!0),[$,Q]=R.useState(null),[O,M]=R.useState(!1),[C,I]=R.useState([0,1e3]),[A,S]=R.useState("recent"),[k,H]=R.useState(""),j=20,[K,Z]=R.useState([]);R.useEffect(()=>{document.body.style.overflow="auto"},[]),R.useEffect(()=>{const Y=e.get("interest");Y&&(Q(Y),M(!0))},[e]),R.useEffect(()=>{const Y=setTimeout(()=>{N(y.trim().toLowerCase())},300);return()=>clearTimeout(Y)},[y]);const B=async()=>{const Y=St(Ue,"posts"),ne=cn(Y,Bu("timestamp","desc"),db(j)),se=await on(ne),le=se.docs.map(ge=>({id:ge.id,...ge.data()}));i(le),d(le),p(le),V(se.docs[se.docs.length-1]),F(se.docs.length===j)},T=async()=>{if(!z||!P)return;const Y=St(Ue,"posts"),ne=cn(Y,Bu("timestamp","desc"),fO(P),db(j)),se=await on(ne);if(se.empty){F(!1);return}const le=se.docs.map(ge=>({id:ge.id,...ge.data()}));i(ge=>[...ge,...le]),V(se.docs[se.docs.length-1])},J=()=>{const Y=h.length,ne=c.slice(Y,Y+j);p(se=>[...se,...ne])},W=R.useCallback(async()=>{if(!t)return;const Y=St(Ue,"users",t.uid,"saves"),se=(await on(Y)).docs.map(Pe=>Pe.id);if(se.length===0){l([]);return}const le=cn(St(Ue,"posts"),Qt("__name__","in",se)),Ee=(await on(le)).docs.map(Pe=>({id:Pe.id,...Pe.data()}));l(Ee)},[t]);R.useEffect(()=>{B(),W()},[W]),R.useEffect(()=>{let Y=r;E&&(Y=Y.filter(ne=>ne.title?.toLowerCase().includes(E)||ne.description?.toLowerCase().includes(E)||(ne.niche?.[0]?.toLowerCase()||"").includes(E))),$&&(Y=Y.filter(ne=>(ne.niche?.[0]?.toLowerCase()||"")===$.toLowerCase())),Y=Y.filter(ne=>{const se=ne.price||0;return se>=C[0]&&se<=C[1]}),Y=[...Y].sort((ne,se)=>{switch(A){case"price-low":return(ne.price||0)-(se.price||0);case"price-high":return(se.price||0)-(ne.price||0);case"popular":return(se.views||0)-(ne.views||0);case"recent":default:return new Date(se.timestamp?.toDate?.()||0).getTime()-new Date(ne.timestamp?.toDate?.()||0).getTime()}}),d(Y),p(Y.slice(0,j))},[r,E,$,C,A]);const x=Y=>{Z(ne=>[...ne,Y])},U=()=>{c.length>h.length?J():T()},X=()=>{Q(null),I([0,1e3]),S("recent"),w(""),H(""),n({})};return g.jsx(Si,{className:"min-h-screen bg-neutral-950 text-white overflow-scroll",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[g.jsxs("div",{className:"mb-8",children:[g.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Discover Products"}),g.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[g.jsxs("div",{className:"flex-1 relative",children:[g.jsx(qu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-neutral-400 w-5 h-5"}),g.jsx("input",{type:"text",placeholder:"Search products...",value:y,onChange:Y=>w(Y.target.value),className:"w-full bg-neutral-900 border border-neutral-700 rounded-lg pl-10 pr-4 py-3 text-white placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),g.jsxs("button",{onClick:()=>M(!O),className:"flex items-center gap-2 bg-neutral-900 border border-neutral-700 rounded-lg px-4 py-3 hover:bg-neutral-800 transition-colors",children:[g.jsx(fu,{className:"w-5 h-5"}),"Filters"]})]}),($||C[0]>0||C[1]<1e3||A!=="recent")&&g.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[g.jsx("span",{className:"text-sm text-neutral-400",children:"Active filters:"}),$&&g.jsx("span",{className:"bg-primary/20 text-primary px-2 py-1 rounded text-sm",children:os.find(Y=>Y.id===$)?.label||$}),(C[0]>0||C[1]<1e3)&&g.jsxs("span",{className:"bg-primary/20 text-primary px-2 py-1 rounded text-sm",children:["$",C[0]," - $",C[1]]}),A!=="recent"&&g.jsx("span",{className:"bg-primary/20 text-primary px-2 py-1 rounded text-sm capitalize",children:A.replace("-"," ")}),g.jsxs("button",{onClick:X,className:"text-neutral-400 hover:text-white text-sm flex items-center gap-1",children:[g.jsx(ps,{className:"w-4 h-4"}),"Clear all"]})]})]}),g.jsx(yn,{children:O&&g.jsx(we.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-neutral-900 rounded-lg p-6 mb-6 overflow-hidden",children:g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold mb-3",children:"Category"}),g.jsx("div",{className:"mb-3",children:g.jsx("input",{type:"text",placeholder:"Search categories...",value:k,onChange:Y=>H(Y.target.value),className:"w-full bg-neutral-800 border border-neutral-700 rounded px-3 py-2 text-sm text-white placeholder-neutral-400 focus:outline-none focus:ring-2 focus:ring-primary"})}),g.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto",children:os.filter(Y=>Y.label.toLowerCase().includes(k.toLowerCase())).map(Y=>g.jsx("button",{onClick:()=>Q($===Y.id?null:Y.id),className:`p-2 rounded text-sm transition-colors ${$===Y.id?"bg-primary text-white":"bg-neutral-800 text-neutral-300 hover:bg-neutral-700"}`,children:Y.label},Y.id))}),os.filter(Y=>Y.label.toLowerCase().includes(k.toLowerCase())).length>0&&g.jsxs("p",{className:"text-xs text-neutral-400 mt-2",children:[os.filter(Y=>Y.label.toLowerCase().includes(k.toLowerCase())).length," ","categories available"]}),k&&os.filter(Y=>Y.label.toLowerCase().includes(k.toLowerCase())).length===0&&g.jsxs("p",{className:"text-xs text-neutral-400 mt-2",children:['No categories found matching "',k,'"']})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold mb-3",children:"Price Range"}),g.jsx("div",{className:"space-y-4",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"block text-xs text-neutral-400 mb-1",children:"Min"}),g.jsx("input",{type:"number",placeholder:"0",value:C[0],onChange:Y=>I([Number(Y.target.value),C[1]]),className:"w-full bg-neutral-800 border border-neutral-700 rounded px-3 py-2 text-sm text-white placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]}),g.jsx("div",{className:"flex items-center justify-center pt-6",children:g.jsx("span",{className:"text-neutral-400 text-sm font-medium",children:"to"})}),g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"block text-xs text-neutral-400 mb-1",children:"Max"}),g.jsx("input",{type:"number",placeholder:"1000",value:C[1],onChange:Y=>I([C[0],Number(Y.target.value)]),className:"w-full bg-neutral-800 border border-neutral-700 rounded px-3 py-2 text-sm text-white placeholder-neutral-500 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]})]})})]}),g.jsxs("div",{children:[g.jsx("h3",{className:"font-semibold mb-3",children:"Sort By"}),g.jsx("div",{className:"space-y-2",children:[{value:"recent",label:"Most Recent"},{value:"price-low",label:"Price: Low to High"},{value:"price-high",label:"Price: High to Low"},{value:"popular",label:"Most Popular"}].map(Y=>g.jsx("button",{onClick:()=>S(Y.value),className:`w-full text-left p-2 rounded text-sm transition-colors ${A===Y.value?"bg-primary text-white":"bg-neutral-800 text-neutral-300 hover:bg-neutral-700"}`,children:Y.label},Y.value))})]})]})})}),g.jsx("div",{className:"mb-6",children:g.jsxs("p",{className:"text-neutral-400",children:[c.length," product",c.length!==1?"s":""," found"]})}),g.jsx(EQ,{dataLength:h.length,next:U,hasMore:z||h.length<c.length,loader:g.jsx("div",{className:"flex justify-center py-8",children:g.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}),className:"overflow-hidden",children:g.jsx("div",{className:"columns-1 sm:columns-2 md:columns-3 lg:columns-4 xl:columns-5 gap-4 space-y-4",children:h.map((Y,ne)=>g.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ne*.1},className:"break-inside-avoid mb-4",children:g.jsx(AQ,{post:Y,index:ne,isLoaded:K.includes(ne),onImageLoad:()=>x(ne),userSavedPosts:o.map(se=>se.id)})},Y.id))})}),c.length===0&&g.jsxs("div",{className:"text-center py-16",children:[g.jsx("div",{className:"w-16 h-16 bg-neutral-800 rounded-full flex items-center justify-center mx-auto mb-4",children:g.jsx(qu,{className:"w-8 h-8 text-neutral-400"})}),g.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No products found"}),g.jsx("p",{className:"text-neutral-400 mb-4",children:"Try adjusting your search terms or filters"}),g.jsx("button",{onClick:X,className:"bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/80 transition-colors",children:"Clear all filters"})]})]})})}function RQ(){return g.jsxs(we.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5,ease:"easeOut"},className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-neutral-950/90 backdrop-blur-sm",children:[g.jsx(we.img,{src:"/icon.png",alt:"logo",className:"w-20 h-20 md:w-24 md:h-24",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.5,ease:"easeOut"}}),g.jsx(we.h1,{className:"text-4xl md:text-5xl font-bold text-white mt-4",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{delay:.1,duration:.6},children:"Mangrov"}),g.jsx(we.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{delay:.2,duration:.4},className:"mt-6",children:g.jsx(y_,{})})]})}const NQ={control:t=>({...t,background:"#1b1b1b",border:"none",minHeight:"2.6rem",cursor:"pointer"}),singleValue:t=>({...t,color:"#fff"}),input:t=>({...t,color:"#fff"}),placeholder:t=>({...t,color:"#888"}),menu:t=>({...t,background:"#1b1b1b"}),option:(t,e)=>({...t,background:e.isFocused?"#2a2a2a":"#1b1b1b",color:"#fff",cursor:"pointer"}),indicatorSeparator:()=>({display:"none"})},IQ=t=>g.jsx(Pg.DropdownIndicator,{...t,children:g.jsx(Lf,{size:18,className:"text-neutral-400"})}),OQ="bg-primary text-primary-foreground hover:bg-primary/80 transition duration-200 active:scale-95 uppercase tracking-wide font-bold py-2 rounded-md w-full cursor-pointer disabled:opacity-50",OR="rounded-md bg-muted px-3 py-2 text-sm sm:text-base outline-none focus:ring-2 ring-primary focus:border-primary hover:border-primary transition duration-200 w-full border border-transparent",MQ={initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}};function PQ({type:t,setStage:e}){const{user:n}=Dr(),[r,i]=R.useState(""),[o,l]=R.useState(""),[c,d]=R.useState([]),[h,p]=R.useState([]),[y,w]=R.useState(""),[E,N]=R.useState("0"),[P,V]=R.useState("1"),[z,F]=R.useState("1"),[$,Q]=R.useState(""),[O,M]=R.useState(null),[C,I]=R.useState(null),[A,S]=R.useState(!1),[k,H]=R.useState(!1),[j,K]=R.useState(null),Z=()=>!(!r.trim()||!o.trim()||t==="post"&&c.length<1||t==="trade"&&c.length!==1||t==="post"&&(!E||!P)||t==="trade"&&!z||!O),B=()=>{const U=y.trim();U&&!h.includes(U)&&(p([...h,U]),w(""))},T=U=>{if(!U.target.files)return;const X=Array.from(U.target.files);d(t==="trade"?[X[0]]:[...c,...X])},J=U=>d(c.filter((X,Y)=>Y!==U)),W=U=>p(h.filter(X=>X!==U)),x=async()=>{if(!Z()){I("Please fill in all required fields correctly.");return}if(!n){I("You must be logged in to create content.");return}try{S(!0);const U=t==="post"?"post-images":"trade-images",X=[];for(const se of c){const le=ix(ax,`${U}/${Date.now()}_${se.name}`);await nx(le,se);const ge=await rx(le);X.push(ge)}const Y={title:r,description:o,images:X,keywords:h,niche:[O?.label],timestamp:Jt.now(),uid:n.uid},ne=await ua(St(Ue,t==="post"?"posts":"trades"),t==="post"?{...Y,price:parseFloat(E),quantity:parseInt(P)||1,url:$||null}:{...Y,quantity:parseInt(z)||1,isAvailable:!0});console.log("Document written: ",ne.id),t==="trade"?(K(ne.id),H(!0)):e("select")}catch(U){console.error(U),I("Upload failed, please try again.")}finally{S(!1)}};return k&&j?g.jsxs(we.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-md mx-auto py-20 px-8 text-white text-center",children:[g.jsxs(we.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"mb-8",children:[g.jsx("div",{className:"w-16 h-16 bg-primary rounded-full flex items-center justify-center mx-auto mb-4",children:g.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:g.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),g.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Trade Created Successfully!"}),g.jsx("p",{className:"text-neutral-400",children:"Your trade is now live and ready for discovery."})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx(we.button,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},onClick:()=>window.location.href=`/trades/${j}`,className:"w-full bg-primary text-primary-foreground hover:bg-primary/80 cursor-pointer transition-all duration-200 active:scale-95 uppercase tracking-wide font-bold py-3 rounded-md",children:"View Trade"}),g.jsx(we.button,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},onClick:()=>e("select"),className:"w-full bg-neutral-800 text-white hover:bg-neutral-700 cursor-pointer transition-all duration-200 active:scale-95 uppercase tracking-wide font-bold py-3 rounded-md",children:"Create Another"})]})]}):g.jsxs(we.div,{...MQ,className:"max-w-2xl mx-auto py-10 px-8 text-white space-y-6 overflow-y-scroll h-screen w-full",children:[g.jsxs("h2",{className:"text-2xl font-bold mb-4 capitalize",children:["Add ",t]}),C&&g.jsx("p",{className:"text-red-500",children:C}),g.jsxs("div",{className:"space-y-1",children:[g.jsxs("div",{className:"flex items-center justify-between text-sm text-neutral-400",children:[g.jsx("label",{children:"Title"}),g.jsxs("span",{children:[r.length,"/30"]})]}),g.jsx("input",{value:r,onChange:U=>i(U.target.value.slice(0,30)),placeholder:"Enter a short title",className:"w-full rounded-md bg-neutral-900 text-white placeholder-neutral-500 px-4 py-2 outline-none border border-neutral-700 focus:border-green-500 transition"})]}),g.jsxs("div",{className:"space-y-1",children:[g.jsxs("div",{className:"flex items-center justify-between text-sm text-neutral-400",children:[g.jsx("label",{children:"Description"}),g.jsxs("span",{children:[o.length,"/300"]})]}),g.jsx("textarea",{value:o,onChange:U=>l(U.target.value.slice(0,300)),placeholder:"Enter a brief description",className:"w-full rounded-md bg-neutral-900 text-white placeholder-neutral-500 px-4 py-2 h-28 resize-none outline-none border border-neutral-700 focus:border-green-500 transition"})]}),t==="post"&&g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"text-sm text-neutral-400 block mb-1",children:"Price ($)"}),g.jsx("div",{className:"flex items-center rounded-md border border-neutral-700 bg-neutral-900",children:g.jsx("input",{inputMode:"decimal",min:"0",step:"0.01",value:E,onChange:U=>{const X=parseFloat(U.target.value);!isNaN(X)&&X>=0?N(X):U.target.value===""&&N("")},className:"w-full bg-transparent text-white text-sm px-2 py-2.5 outline-none no-spinner"})})]}),g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"text-sm text-neutral-400 block mb-1",children:"Quantity"}),g.jsxs("div",{className:"flex items-center rounded-md border border-neutral-700 bg-neutral-900",children:[g.jsx("button",{type:"button",onClick:()=>V(U=>Math.max(0,parseInt(U||"0")-1)),className:"px-3 py-2 text-neutral-300 hover:text-white hover:bg-neutral-800 transition-colors duration-150 cursor-pointer",children:"-"}),g.jsx("input",{inputMode:"numeric",min:"0",value:P,onChange:U=>{const X=parseInt(U.target.value);!isNaN(X)&&X>=0?V(X):U.target.value===""&&V("")},className:"w-full bg-transparent text-white text-sm px-2 py-2 outline-none no-spinner"}),g.jsx("button",{type:"button",onClick:()=>V(U=>parseInt(U||"0")+1),className:"px-3 py-2 text-neutral-300 hover:text-white hover:bg-neutral-800 transition-colors duration-150 cursor-pointer",children:"+"})]})]})]}),t==="trade"&&g.jsxs("div",{className:"flex-1",children:[g.jsx("label",{className:"text-sm text-neutral-400 block mb-1",children:"Quantity Available"}),g.jsxs("div",{className:"flex items-center rounded-md border border-neutral-700 bg-neutral-900",children:[g.jsx("button",{type:"button",onClick:()=>F(U=>Math.max(1,parseInt(U||"1")-1)),className:"px-3 py-2 text-neutral-300 hover:text-white hover:bg-neutral-800 transition-colors duration-150 cursor-pointer",children:"-"}),g.jsx("input",{inputMode:"numeric",min:"1",value:z,onChange:U=>{const X=parseInt(U.target.value);!isNaN(X)&&X>=1?F(X):U.target.value===""&&F("")},className:"w-full bg-transparent text-white text-sm px-2 py-2 outline-none no-spinner"}),g.jsx("button",{type:"button",onClick:()=>F(U=>parseInt(U||"1")+1),className:"px-3 py-2 text-neutral-300 hover:text-white hover:bg-neutral-800 transition-colors duration-150 cursor-pointer",children:"+"})]})]}),t==="post"&&g.jsx("input",{className:OR,placeholder:"External Link (optional)",value:$,onChange:U=>Q(U.target.value)}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("label",{className:"text-sm text-neutral-400 block",children:["Upload ",t==="trade"?"exactly 1 image":"one or more images"]}),!(t==="trade"&&c.length>=1)&&g.jsxs("div",{className:"relative",children:[g.jsx("input",{type:"file",accept:"image/*",multiple:t==="post",onChange:T,id:"file-upload",className:"hidden"}),g.jsxs("label",{htmlFor:"file-upload",className:"cursor-pointer border border-dashed border-white/30 hover:border-green-500 transition-colors duration-200 w-full flex flex-col items-center justify-center py-6 px-4 bg-neutral-900 rounded-lg text-sm text-white text-center hover:bg-neutral-800",children:[g.jsx($u,{size:32,className:"mb-2 text-primary"}),g.jsxs("span",{children:["Click to ",c.length?"add more":"upload"," image",t==="post"?"s":""]})]})]}),c.length>0&&g.jsx("div",{className:"flex justify-center mt-4",children:c.map((U,X)=>g.jsxs("div",{className:"relative group w-full max-w-md",children:[g.jsx("img",{src:URL.createObjectURL(U),alt:"preview",className:"w-full h-auto object-contain rounded-md border border-white/10"}),g.jsx("button",{onClick:()=>J(X),className:"absolute top-1 right-1 bg-black/70 hover:bg-red-600 transition p-1 rounded-full text-white cursor-pointer",title:"Remove",children:g.jsx(ps,{size:14})})]},X))})]}),g.jsxs("div",{children:[g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{className:OR,placeholder:"Add keyword",value:y,onChange:U=>w(U.target.value),onKeyDown:U=>U.key==="Enter"&&B()}),g.jsx("button",{onClick:B,className:"bg-primary px-3 rounded-md hover:bg-primary/80",children:g.jsx($u,{size:20})})]}),g.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:h.map(U=>g.jsxs("div",{className:"bg-muted px-3 py-1 rounded-lg flex items-center gap-2",children:[g.jsx("span",{children:U}),g.jsx("button",{onClick:()=>W(U),children:g.jsx(ps,{size:16,className:"text-red-400"})})]},U))})]}),g.jsx(mf,{placeholder:"Select niche",options:os.map(U=>({label:U.label,value:U.id})),menuShouldScrollIntoView:!1,styles:NQ,components:{DropdownIndicator:IQ},value:O,onChange:U=>M(U)}),A?g.jsx("div",{className:"flex items-center justify-center",children:g.jsx(RQ,{})}):g.jsxs("button",{className:OQ,disabled:!Z()||A,onClick:x,children:["Submit ",t]})]},"form")}function DQ(){const[t,e]=R.useState("form"),[n]=R.useState("trade"),r=200,i=(d,h)=>d==="left"?h==="start"?-r-Math.random()*200:o+r+Math.random()*200:h==="start"?o+r+Math.random()*200:-r-Math.random()*200,[o,l]=YP(),[c]=R.useState(()=>{const d=Math.random()>.5?"left":"right";return{start:{x:i(d,"start"),y:-r},end:{x:i(d,"end"),y:l+r}}});return g.jsxs(g.Fragment,{children:[g.jsx(Si,{className:"relative h-screen overflow-hidden",children:g.jsx(yn,{mode:"wait",children:t==="form"&&n&&g.jsx(PQ,{type:n,setStage:e})})}),g.jsx(GP,{}),g.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:g.jsx(a_,{start:c.start,end:c.end,speed:12,className:"absolute bottom-0 left-0 opacity-25 w-full h-screen",imgHeightTW:"h-32 sm:h-40 md:h-44",imgWidthTW:"w-44 sm:w-52 md:w-56"})})]})}const jQ="Left",kQ="Right",LQ="Up",VQ="Down",Su={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},tw={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},MR="mousemove",PR="mouseup",UQ="touchend",zQ="touchmove",BQ="touchstart";function FQ(t,e,n,r){return t>e?n>0?kQ:jQ:r>0?VQ:LQ}function DR(t,e){if(e===0)return t;const n=Math.PI/180*e,r=t[0]*Math.cos(n)+t[1]*Math.sin(n),i=t[1]*Math.cos(n)-t[0]*Math.sin(n);return[r,i]}function HQ(t,e){const n=p=>{const y="touches"in p;y&&p.touches.length>1||t((w,E)=>{E.trackMouse&&!y&&(document.addEventListener(MR,r),document.addEventListener(PR,l));const{clientX:N,clientY:P}=y?p.touches[0]:p,V=DR([N,P],E.rotationAngle);return E.onTouchStartOrOnMouseDown&&E.onTouchStartOrOnMouseDown({event:p}),Object.assign(Object.assign(Object.assign({},w),tw),{initial:V.slice(),xy:V,start:p.timeStamp||0})})},r=p=>{t((y,w)=>{const E="touches"in p;if(E&&p.touches.length>1)return y;if(p.timeStamp-y.start>w.swipeDuration)return y.swiping?Object.assign(Object.assign({},y),{swiping:!1}):y;const{clientX:N,clientY:P}=E?p.touches[0]:p,[V,z]=DR([N,P],w.rotationAngle),F=V-y.xy[0],$=z-y.xy[1],Q=Math.abs(F),O=Math.abs($),M=(p.timeStamp||0)-y.start,C=Math.sqrt(Q*Q+O*O)/(M||1),I=[F/(M||1),$/(M||1)],A=FQ(Q,O,F,$),S=typeof w.delta=="number"?w.delta:w.delta[A.toLowerCase()]||Su.delta;if(Q<S&&O<S&&!y.swiping)return y;const k={absX:Q,absY:O,deltaX:F,deltaY:$,dir:A,event:p,first:y.first,initial:y.initial,velocity:C,vxvy:I};k.first&&w.onSwipeStart&&w.onSwipeStart(k),w.onSwiping&&w.onSwiping(k);let H=!1;return(w.onSwiping||w.onSwiped||w[`onSwiped${A}`])&&(H=!0),H&&w.preventScrollOnSwipe&&w.trackTouch&&p.cancelable&&p.preventDefault(),Object.assign(Object.assign({},y),{first:!1,eventData:k,swiping:!0})})},i=p=>{t((y,w)=>{let E;if(y.swiping&&y.eventData){if(p.timeStamp-y.start<w.swipeDuration){E=Object.assign(Object.assign({},y.eventData),{event:p}),w.onSwiped&&w.onSwiped(E);const N=w[`onSwiped${E.dir}`];N&&N(E)}}else w.onTap&&w.onTap({event:p});return w.onTouchEndOrOnMouseUp&&w.onTouchEndOrOnMouseUp({event:p}),Object.assign(Object.assign(Object.assign({},y),tw),{eventData:E})})},o=()=>{document.removeEventListener(MR,r),document.removeEventListener(PR,l)},l=p=>{o(),i(p)},c=(p,y)=>{let w=()=>{};if(p&&p.addEventListener){const E=Object.assign(Object.assign({},Su.touchEventOptions),y.touchEventOptions),N=[[BQ,n,E],[zQ,r,Object.assign(Object.assign({},E),y.preventScrollOnSwipe?{passive:!1}:{})],[UQ,i,E]];N.forEach(([P,V,z])=>p.addEventListener(P,V,z)),w=()=>N.forEach(([P,V])=>p.removeEventListener(P,V))}return w},h={ref:p=>{p!==null&&t((y,w)=>{if(y.el===p)return y;const E={};return y.el&&y.el!==p&&y.cleanUpTouch&&(y.cleanUpTouch(),E.cleanUpTouch=void 0),w.trackTouch&&p&&(E.cleanUpTouch=c(p,w)),Object.assign(Object.assign(Object.assign({},y),{el:p}),E)})}};return e.trackMouse&&(h.onMouseDown=n),[h,c]}function $Q(t,e,n,r){return!e.trackTouch||!t.el?(t.cleanUpTouch&&t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:void 0})):t.cleanUpTouch?e.preventScrollOnSwipe!==n.preventScrollOnSwipe||e.touchEventOptions.passive!==n.touchEventOptions.passive?(t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:r(t.el,e)})):t:Object.assign(Object.assign({},t),{cleanUpTouch:r(t.el,e)})}function qQ(t){const{trackMouse:e}=t,n=R.useRef(Object.assign({},tw)),r=R.useRef(Object.assign({},Su)),i=R.useRef(Object.assign({},r.current));i.current=Object.assign({},r.current),r.current=Object.assign(Object.assign({},Su),t);let o;for(o in Su)r.current[o]===void 0&&(r.current[o]=Su[o]);const[l,c]=R.useMemo(()=>HQ(d=>n.current=d(n.current,r.current),{trackMouse:e}),[e]);return n.current=$Q(n.current,r.current,i.current,c),l}function GQ(){const{user:t}=Dr(),e=jr(),[n,r]=R.useState([]),[i,o]=R.useState([]),[l,c]=R.useState(0),[d,h]=R.useState([]),[p,y]=R.useState([]),[w,E]=R.useState(!1),[N,P]=R.useState(null),[V,z]=R.useState(!1),[F,$]=R.useState(!1),[Q,O]=R.useState(null),[M,C]=R.useState([]),[I,A]=R.useState("swipe"),[S,k]=R.useState(!0),[H,j]=R.useState(!1),[K,Z]=R.useState(!0),[B,T]=R.useState(!1),[J,W]=R.useState(new Set),[x,U]=R.useState(!1);R.useEffect(()=>{if(!t)return;(async()=>{const $e=(await yi(rn(Ue,"users",t.uid))).data();$e?.interests&&(y($e.interests),h($e.interests)),k(!1)})()},[t]),R.useEffect(()=>{if(!t)return;(async()=>{const Ce=cn(St(Ue,"trades"),Qt("uid","==",t.uid)),Ie=(await on(Ce)).docs.map(Ze=>({id:Ze.id,...Ze.data()}));o(Ie)})()},[t]),R.useEffect(()=>{if(!t)return;Z(!0),(async()=>{const Ce=cn(St(Ue,"tradeMatches"),Qt("fromUser","==",t.uid)),$e=cn(St(Ue,"tradeMatches"),Qt("toUser","==",t.uid)),[Ie,Ze]=await Promise.all([on(Ce),on($e)]),ot=[...Ie.docs.map(dt=>({id:dt.id,...dt.data()})),...Ze.docs.map(dt=>({id:dt.id,...dt.data()}))].filter(dt=>dt.fromLiked&&dt.toLiked);console.log("Total matches found:",ot.length);const Rt=await Promise.all(ot.map(async dt=>{let mn="",or="",Cn="",pt="";try{console.log("Processing match:",dt);const[qe,nn]=await Promise.all([yi(rn(Ue,"users",dt.fromUser)),yi(rn(Ue,"users",dt.toUser))]);if(qe.exists()){const sn=qe.data();mn=sn?.name||sn?.username||"Unknown User",console.log("From user data:",sn)}if(nn.exists()){const sn=nn.data();or=sn?.name||sn?.username||"Unknown User",console.log("To user data:",sn)}const en=[];dt.fromItem&&dt.fromItem.trim()!==""?(console.log("Fetching fromItem:",dt.fromItem),en.push(yi(rn(Ue,"trades",dt.fromItem)))):(console.log("fromItem is empty or null"),en.push(Promise.resolve(null))),dt.toItem&&dt.toItem.trim()!==""?(console.log("Fetching toItem:",dt.toItem),en.push(yi(rn(Ue,"trades",dt.toItem)))):(console.log("toItem is empty or null"),en.push(Promise.resolve(null)));const[Ui,lr]=await Promise.all(en);if(Ui&&Ui.exists()){const sn=Ui.data();Cn=sn?.title||"Unknown Item",console.log("From item data:",sn)}else Cn="Item not selected yet",console.log("From item not found or empty");if(lr&&lr.exists()){const sn=lr.data();pt=sn?.title||"Unknown Item",console.log("To item data:",sn)}else pt="Unknown Item",console.log("To item not found or empty");console.log("Final enriched match:",{fromUserName:mn,toUserName:or,fromItemTitle:Cn,toItemTitle:pt})}catch(qe){console.error("Error fetching match details:",qe),mn="Unknown User",or="Unknown User",Cn="Unknown Item",pt="Unknown Item"}return{...dt,fromUserName:mn,toUserName:or,fromItemTitle:Cn,toItemTitle:pt}}));console.log("Final enriched matches:",Rt),C(Rt),Z(!1)})()},[t]),R.useEffect(()=>{if(!t)return;(async()=>{try{const Ce=St(Ue,"users",t.uid,"passes"),$e=await on(Ce),Ie=new Set($e.docs.map(Ze=>Ze.id));W(Ie)}catch(Ce){console.error("Error fetching passed trades:",Ce)}})()},[t]);const X=R.useCallback(async()=>{j(!0);let me=[],Ce=[];if(t){const Ie=cn(St(Ue,"tradeMatches"),Qt("fromUser","==",t.uid));Ce=(await on(Ie)).docs.map(mt=>({id:mt.id,...mt.data()}))}const $e=new Set(Ce.map(Ie=>Ie.toItem));if(V)me=(await on(St(Ue,"trades"))).docs.filter(Ze=>Ze.data().uid!==t?.uid&&!J.has(Ze.id)&&!$e.has(Ze.id)).map(Ze=>({id:Ze.id,...Ze.data()}));else if(d.length>0){const Ie=[];for(let ot=0;ot<d.length;ot+=10){const Rt=d.slice(ot,ot+10),dt=cn(St(Ue,"trades"),Qt("niche","array-contains-any",Rt));Ie.push(on(dt))}me=(await Promise.all(Ie)).flatMap(ot=>ot.docs.map(Rt=>({id:Rt.id,...Rt.data()})));const mt=new Set;me=me.filter(ot=>mt.has(ot.id)||ot.uid===t?.uid||J.has(ot.id)||$e.has(ot.id)?!1:(mt.add(ot.id),!0))}r(me),c(0),U(me.length===0&&(J.size>0||$e.size>0)),j(!1)},[d,V,t,J]),Y=R.useCallback(me=>{z(me)},[]),ne=R.useCallback(me=>{const Ce=Array.from(me.target.selectedOptions,$e=>$e.value);h(Ce),z(!1)},[]);R.useEffect(()=>{X()},[d,V,t,J]);const se=async()=>{const me=n[l];if(me&&t)try{await dl(rn(Ue,"users",t.uid,"passes",me.id),{tradeId:me.id,timestamp:new Date}),W(Ce=>new Set([...Ce,me.id]))}catch(Ce){console.error("Error adding to passed trades:",Ce)}c(Ce=>Math.min(Ce+1,n.length-1))},le=async()=>{const me=n[l];if(me&&t)try{const Ce=cn(St(Ue,"tradeMatches"),Qt("fromUser","==",t.uid),Qt("toUser","==",me.uid),Qt("toItem","==",me.id)),$e=cn(St(Ue,"tradeMatches"),Qt("fromUser","==",me.uid),Qt("toUser","==",t.uid),Qt("toItem","==",me.id)),[Ie,Ze]=await Promise.all([on(Ce),on($e)]);if(Ie.empty)if(Ze.empty)await ua(St(Ue,"tradeMatches"),{fromUser:t.uid,toUser:me.uid,fromItem:"",toItem:me.id,fromLiked:!0,toLiked:!1,timestamp:new Date});else{const mt=Ze.docs[0];await tl(rn(Ue,"tradeMatches",mt.id),{toLiked:!0})}else{const mt=Ie.docs[0];await tl(rn(Ue,"tradeMatches",mt.id),{fromLiked:!0})}}catch(Ce){console.error("Error handling swipe right:",Ce)}c(Ce=>Math.min(Ce+1,n.length-1))},ge=me=>{w||(me==="left"?(O(n[l]),$(!0)):(P(me),E(!0),setTimeout(()=>{le(),E(!1),P(null)},350)))},Ee=async me=>{if(!(!Q||!t)){try{const Ce=cn(St(Ue,"tradeMatches"),Qt("fromUser","==",Q.uid),Qt("toUser","==",t.uid),Qt("toItem","==",me.id)),$e=await on(Ce);if($e.empty)await ua(St(Ue,"tradeMatches"),{fromUser:t.uid,toUser:Q.uid,fromItem:me.id,toItem:Q.id,fromLiked:!0,toLiked:!1,timestamp:new Date});else{const Ie=$e.docs[0];await tl(rn(Ue,"tradeMatches",Ie.id),{fromItem:me.id,toLiked:!0})}}catch(Ce){console.error("Error handling item selection:",Ce)}$(!1),O(null),se()}},Pe=async()=>{if(t)try{const me=St(Ue,"users",t.uid,"passes"),$e=(await on(me)).docs.map(Ie=>dl(Ie.ref,{},{merge:!1}));await Promise.all($e),W(new Set),U(!1),X()}catch(me){console.error("Error resetting passed trades:",me)}},Ne=qQ({onSwipedLeft:()=>ge("left"),onSwipedRight:()=>ge("right"),trackMouse:!0}),ze=R.useMemo(()=>g.jsxs("div",{className:"relative w-full max-w-2xl flex items-center justify-center select-none",children:[n.slice(l,l+2).map((me,Ce)=>{const $e=Ce===0,Ie=Ce*10,Ze=1-Ce*.04;return g.jsx(yn,{children:$e?R.createElement(we.div,{...Ne,key:me.id,className:" max-w-lg w-full flex flex-col items-center justify-center cursor-pointer",style:{zIndex:2},initial:{x:0,opacity:1,scale:1},animate:{x:w?N==="left"?-500:500:0,opacity:w?0:1,scale:1},exit:{x:N==="left"?-500:500,opacity:0,scale:.95},transition:{duration:.35}},g.jsxs("div",{className:"relative w-full rounded-3xl shadow-2xl overflow-hidden",children:[g.jsx("img",{src:me.images?.[0],alt:me.title,className:"w-full h-auto object-cover"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),g.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:[g.jsx("h2",{className:"text-xl font-bold mb-2",children:me.title}),g.jsx("p",{className:"text-sm text-neutral-200 leading-relaxed",children:me.description})]})]})):g.jsx(we.div,{className:"absolute w-full flex flex-col items-center justify-center",style:{zIndex:1,top:Ie,scale:Ze,opacity:.7},initial:{scale:.96,opacity:.7},animate:{scale:Ze,opacity:.7},exit:{opacity:0},transition:{duration:.2},children:g.jsxs("div",{className:"relative w-full rounded-3xl shadow-xl overflow-hidden",children:[g.jsx("img",{src:me.images?.[0],alt:me.title,className:"w-full h-auto object-cover"}),g.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),g.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 text-white",children:g.jsx("h2",{className:"text-lg font-bold",children:me.title})})]})},me.id)},me.id)}),H?g.jsx("div",{className:"w-full flex flex-col items-center justify-center text-center px-6 py-16",children:g.jsxs("div",{className:"mb-8 w-full max-w-lg",children:[g.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-neutral-800 to-neutral-700 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg animate-pulse",children:g.jsx(fu,{size:48,className:"text-neutral-400"})}),g.jsx("div",{className:"w-64 h-8 bg-neutral-800 rounded mb-4 animate-pulse mx-auto"}),g.jsx("div",{className:"w-96 h-4 bg-neutral-800 rounded animate-pulse mx-auto"})]})}):n.length===0&&g.jsx("div",{className:"w-full flex flex-col items-center justify-center text-center px-6 py-16",children:g.jsxs("div",{className:"mb-8 w-full max-w-lg",children:[g.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-neutral-800 to-neutral-700 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:x?g.jsx(e2,{size:48,className:"text-neutral-400"}):g.jsx(fu,{size:48,className:"text-neutral-400"})}),g.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:x?"No More Trades to View":d.length===0&&!V?"No Trades Found":"No Trades Available"}),g.jsx("p",{className:"text-lg text-neutral-400 leading-relaxed",children:x?g.jsxs(g.Fragment,{children:["You've seen all available trades."," ",g.jsx("span",{className:"text-primary font-semibold",children:"Reset"})," ","to view passed trades again or try different"," ",g.jsx("span",{className:"text-primary font-semibold",children:"filters"}),"."]}):d.length===0&&!V?g.jsxs(g.Fragment,{children:["There are no trades found for your"," ",g.jsx("span",{className:"text-primary font-semibold",children:"interests"}),". Try enabling"," ",g.jsx("span",{className:"text-primary font-semibold",children:"Random Mode"})," ","or select some interests to discover more trades!"]}):g.jsxs(g.Fragment,{children:["No trades match your current"," ",g.jsx("span",{className:"text-primary font-semibold",children:"filters"}),". Try adjusting your"," ",g.jsx("span",{className:"text-primary font-semibold",children:"preferences"})," ","or enabling Random Mode."]})}),x&&g.jsx("div",{className:"mt-6",children:g.jsxs("button",{onClick:Pe,className:"px-6 py-3 bg-gradient-to-r from-primary to-primary/80 text-white rounded-lg hover:from-primary/90 hover:to-primary/70 transition-all duration-200 flex items-center gap-2 mx-auto cursor-pointer shadow-lg",children:[g.jsx(e2,{size:20}),"Reset Passed Trades"]})})]})})]}),[n,l,N,w,Ne,d,V,x]),We="bg-primary text-primary-foreground hover:bg-primary/80 cursor-pointer transition-all duration-200 active:scale-95 uppercase tracking-widest font-bold disabled:opacity-40 disabled:cursor-not-allowed",Xe="rounded-md bg-muted px-3 py-2 text-sm sm:text-base outline-none focus:ring-2 ring-primary/80 transition-all duration-200";return S?g.jsxs(Si,{className:"flex flex-col items-center justify-center min-h-screen space-y-6 bg-neutral-950",children:[g.jsxs("div",{className:"w-full max-w-md flex border-b border-neutral-700",children:[g.jsx("div",{className:"flex-1 py-2",children:g.jsx("div",{className:"w-16 h-4 bg-neutral-700 rounded mx-auto animate-pulse"})}),g.jsx("div",{className:"flex-1 py-2",children:g.jsx("div",{className:"w-20 h-4 bg-neutral-700 rounded mx-auto animate-pulse"})})]}),g.jsx("div",{className:"relative w-full max-w-md h-[500px] flex items-center justify-center",children:g.jsxs("div",{className:"w-full h-full bg-neutral-900 rounded-2xl shadow-2xl p-4 flex flex-col items-center text-center border-2 border-neutral-800",children:[g.jsx("div",{className:"w-full h-64 bg-neutral-800 rounded-xl mb-4 animate-pulse"}),g.jsx("div",{className:"w-3/4 h-8 bg-neutral-800 rounded mb-2 animate-pulse"}),g.jsx("div",{className:"w-full h-4 bg-neutral-800 rounded animate-pulse"})]})}),g.jsx("div",{className:"w-32 h-4 bg-neutral-700 rounded animate-pulse"}),g.jsxs("div",{className:"flex space-x-8 mt-2 w-full max-w-xs",children:[g.jsx("div",{className:"w-1/2 h-12 bg-neutral-700 rounded-md animate-pulse"}),g.jsx("div",{className:"w-1/2 h-12 bg-neutral-700 rounded-md animate-pulse"})]})]}):g.jsxs(Si,{className:"min-h-screen bg-neutral-950",children:[g.jsx("div",{className:"sticky top-0 z-10 bg-neutral-950/95 backdrop-blur-sm border-b border-neutral-800",children:g.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:g.jsx("div",{className:"flex justify-center",children:g.jsxs("div",{className:"flex border-b border-neutral-700",children:[g.jsxs("button",{onClick:()=>A("swipe"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium transition cursor-pointer ${I==="swipe"?"text-primary border-b-2 border-primary":"text-neutral-400 hover:text-neutral-300"}`,children:[g.jsx(fu,{size:16}),"Discover"]}),g.jsxs("button",{onClick:()=>A("matches"),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium transition cursor-pointer ${I==="matches"?"text-primary border-b-2 border-primary":"text-neutral-400 hover:text-neutral-300"}`,children:[g.jsx(yb,{size:16}),"Matches (",M.length,")"]})]})})})}),g.jsx("div",{className:"relative max-w-6xl mx-auto px-4 py-6",children:g.jsx(yn,{mode:"wait",children:I==="swipe"?g.jsx(we.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},className:"flex flex-col items-center",children:g.jsxs("div",{className:"flex flex-col items-center justify-center space-y-6 w-full",children:[ze,g.jsx("div",{className:"text-neutral-400 text-sm mb-2",children:n.length>0&&g.jsxs("span",{children:["Card ",l+1," of ",n.length]})}),g.jsxs("div",{className:"flex space-x-8 mt-2 w-full max-w-xs",children:[g.jsxs("button",{onClick:()=>ge("left"),disabled:w||l>=n.length,className:`w-1/2 rounded-md py-4 ${We}`,children:[g.jsx(Hu,{className:"w-6 h-6 mx-auto"}),"Like"]}),g.jsxs("button",{onClick:()=>ge("right"),disabled:w||l>=n.length,className:`w-1/2 rounded-md py-4 ${We}`,children:[g.jsx(ps,{className:"w-6 h-6 mx-auto"}),"Pass"]})]}),g.jsx("div",{className:"mt-8",children:g.jsxs("button",{onClick:()=>T(!B),className:`flex items-center gap-2 px-6 py-3 rounded-full shadow-lg transition-all duration-300 cursor-pointer ${B?"bg-primary text-white":"bg-neutral-800 text-neutral-300 hover:bg-neutral-700"}`,children:[g.jsx(fu,{size:20}),"Filters",B?g.jsx(Lf,{size:16}):g.jsx(oM,{size:16})]})})]})},"swipe"):g.jsx(we.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"max-w-2xl mx-auto",children:g.jsx("div",{className:"space-y-4",children:K?g.jsx("div",{className:"space-y-4",children:[1,2,3].map(me=>g.jsxs("div",{className:"bg-neutral-900 rounded-xl p-6 border border-neutral-700",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("div",{className:"w-16 h-4 bg-neutral-700 rounded animate-pulse"}),g.jsx("div",{className:"w-8 h-8 bg-neutral-700 rounded animate-pulse"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("div",{className:"w-full h-4 bg-neutral-700 rounded animate-pulse"}),g.jsx("div",{className:"w-3/4 h-4 bg-neutral-700 rounded animate-pulse"}),g.jsx("div",{className:"w-1/2 h-3 bg-neutral-700 rounded animate-pulse"})]})]},me))}):M.length===0?g.jsxs("div",{className:"text-center text-neutral-400 py-16",children:[g.jsx(Hu,{className:"w-16 h-16 mx-auto mb-6 opacity-50"}),g.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No matches yet"}),g.jsx("p",{className:"text-neutral-500",children:"Start swiping to find trades!"})]}):M.map(me=>{const Ce=me.fromUser===t?.uid,$e=Ce?me.toUser:me.fromUser,Ie=Ce?me.toUserName:me.fromUserName,Ze=Ce?me.fromItemTitle:me.toItemTitle,mt=Ce?me.toItemTitle:me.fromItemTitle;return g.jsxs(we.div,{onClick:()=>e(`/messages/${$e}`),className:"bg-gradient-to-br from-neutral-900 to-neutral-800 rounded-2xl p-6 border border-neutral-700/50 cursor-pointer hover:border-primary/50 hover:from-neutral-800 hover:to-neutral-700 transition-all duration-300 shadow-lg hover:shadow-xl",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},whileHover:{scale:1.02},whileTap:{scale:.98},children:[g.jsxs("div",{className:"flex items-center justify-between mb-6",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"w-3 h-3 bg-primary rounded-full animate-pulse"}),g.jsx("span",{className:"text-sm font-medium text-neutral-300 uppercase tracking-wide",children:"Match"})]}),g.jsx("button",{onClick:ot=>{ot.stopPropagation(),e(`/messages/${$e}`)},className:"text-primary hover:text-white transition-all duration-200 p-2 rounded-xl hover:bg-primary/20 group",children:g.jsx(yb,{className:"w-5 h-5 group-hover:scale-110 transition-transform"})})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("div",{className:"flex items-center gap-3 p-4 bg-neutral-800/50 rounded-xl border border-neutral-700/50",children:g.jsx("div",{className:"flex-1",children:g.jsxs("p",{className:"text-white text-sm leading-relaxed",children:[g.jsx("span",{className:"text-primary font-semibold cursor-pointer hover:underline transition-colors",onClick:ot=>{ot.stopPropagation();const Rt=$e===me.fromUser?me.fromUserName:me.toUserName;Rt&&e(`/user/${Rt}`)},children:Ie})," ","wants to trade"," ",g.jsxs("span",{className:"text-primary font-semibold",children:['"',mt,'"']})," ","for your"," ",g.jsxs("span",{className:"text-primary font-semibold",children:['"',Ze,'"']})]})})}),g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:`w-2 h-2 rounded-full ${me.fromLiked&&me.toLiked?"bg-green-500 animate-pulse":"bg-yellow-500"}`}),g.jsx("p",{className:`text-xs font-medium ${me.fromLiked&&me.toLiked?"text-green-400":"text-yellow-400"}`,children:me.fromLiked&&me.toLiked?"Mutual match!":"Pending response"})]}),g.jsx("div",{className:"text-xs text-neutral-500",children:me.timestamp?.toDate?.()?new Date(me.timestamp.toDate()).toLocaleDateString():"Recently"})]})]})]},me.id)})})},"matches")})}),g.jsx(yn,{children:B&&I==="swipe"&&g.jsx(we.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed bottom-0 left-0 right-0 z-10 bg-neutral-900 border-t border-neutral-800 shadow-2xl",children:g.jsx("div",{className:"max-w-6xl mx-auto px-4 py-6",children:g.jsxs("div",{className:"bg-neutral-800 rounded-xl p-6 border border-neutral-700",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[g.jsx(fu,{size:20}),"Filters"]}),g.jsx("button",{onClick:()=>T(!1),className:"text-neutral-400 hover:text-white transition cursor-pointer",children:g.jsx(ps,{size:20})})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:V,onChange:me=>Y(me.target.checked),className:"sr-only peer"}),g.jsx("div",{className:"w-11 h-6 bg-neutral-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary/20 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]}),g.jsx("span",{className:"text-white text-sm",children:"Random Mode (show all)"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Filter by Interests"}),g.jsx("select",{className:`w-full ${Xe} cursor-pointer`,value:d,onChange:ne,multiple:!0,disabled:V,size:Math.min(p.length,6)||2,children:p.map(me=>g.jsx("option",{value:me,children:os.find(Ce=>Ce.id===me)?.label||me},me))}),!V&&p.length>1&&g.jsx("div",{className:"text-xs text-neutral-400 mt-1",children:"Hold Ctrl (Cmd on Mac) to select multiple interests"})]})]})]})})})}),g.jsx(yn,{children:F&&g.jsx(we.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:g.jsxs(we.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-neutral-900 rounded-xl p-6 w-full max-w-md max-h-[80vh] overflow-y-auto",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h3",{className:"text-xl font-bold text-white",children:"Select Your Item to Trade"}),g.jsx("button",{onClick:()=>$(!1),className:"text-neutral-400 hover:text-white cursor-pointer transition-colors",children:g.jsx(ps,{className:"w-6 h-6"})})]}),g.jsx("div",{className:"space-y-3",children:i.map(me=>g.jsxs(we.div,{onClick:()=>Ee(me),className:"flex items-center gap-3 p-3 rounded-lg border border-neutral-700 hover:border-primary cursor-pointer transition-all duration-200 hover:bg-neutral-800",whileHover:{scale:1.02},whileTap:{scale:.98},children:[g.jsx("img",{src:me.images?.[0],alt:me.title,className:"w-16 h-16 object-cover rounded-lg"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("h4",{className:"text-white font-medium",children:me.title}),g.jsx("p",{className:"text-sm text-neutral-400",children:me.description})]}),g.jsx(wg,{className:"w-5 h-5 text-neutral-400"})]},me.id))}),i.length===0&&g.jsxs("div",{className:"text-center text-neutral-400 py-8",children:[g.jsx("p",{children:"You need to add some trades first!"}),g.jsx(we.button,{onClick:()=>e("/add"),className:"mt-4 px-6 py-2 rounded-md text-sm bg-primary text-white hover:bg-primary/80 cursor-pointer transition-all duration-200 active:scale-95 uppercase tracking-wide font-bold",whileHover:{scale:1.05},whileTap:{scale:.95},children:"ADD TRADE"})]})]})})})]})}function KQ(){const{tradeId:t}=hx(),e=jr(),[n,r]=R.useState(null),[i,o]=R.useState(!0);return R.useEffect(()=>{if(!t)return;(async()=>{try{const c=await yi(rn(Ue,"trades",t));c.exists()&&r({id:c.id,...c.data()})}finally{o(!1)}})()},[t]),i?null:g.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-50",children:g.jsx(S_,{trade:n,isOpen:!!n,onClose:()=>e(-1)})})}const WQ=R.memo(({selectedChat:t,otherUser:e,messages:n,onNavigateToProfile:r,onBackToChats:i,isLoading:o=!1})=>{const{user:l}=Dr(),[c,d]=R.useState(""),h=R.useRef(null),p=R.useRef(null),[y,w]=R.useState(!0);R.useEffect(()=>{if(t&&h.current&&p.current){const F=()=>{h.current&&p.current&&(p.current.scrollTop=p.current.scrollHeight,h.current.scrollIntoView({behavior:"instant"}),w(!0))};F(),setTimeout(F,0),setTimeout(F,100),setTimeout(F,200),setTimeout(F,500)}},[t?.id,n.length]),R.useEffect(()=>{h.current&&y&&n.length>0&&h.current.scrollIntoView({behavior:"smooth"})},[n,y]);const E=()=>{if(!p.current)return;const{scrollTop:F,scrollHeight:$,clientHeight:Q}=p.current,O=F+Q>=$-10;w(O)};R.useEffect(()=>{if(!t||!l)return;const F=new IntersectionObserver(Q=>{Q.forEach(O=>{if(O.isIntersecting){const M=O.target.getAttribute("data-message-id"),C=O.target.getAttribute("data-system-message")==="true";M&&!C&&tl(rn(Ue,"messages",M),{read:!0}).catch(console.error)}})},{threshold:.5});return document.querySelectorAll("[data-message-id]").forEach(Q=>{const O=Q.getAttribute("data-message-id"),M=Q.getAttribute("data-sender-id"),C=Q.getAttribute("data-system-message")==="true";O&&M&&M!==l.uid&&!C&&F.observe(Q)}),()=>F.disconnect()},[n,t,l]);const N=async(F,$)=>{if(!(!t||!l||!F.trim()&&!$))try{const Q={chatId:t.id,text:F.trim(),senderId:l.uid,receiverId:t.participants.find(O=>O!==l.uid),timestamp:na(),read:!1};$&&(Q.imageUrl=$),await ua(St(Ue,"messages"),Q),await tl(rn(Ue,"chats",t.id),{lastMessage:{text:F.trim(),timestamp:na()},lastMessageTime:na()}),d("")}catch(Q){console.error("Error sending message:",Q)}},P=async F=>{if(!(!t||!l))try{const $=ix(ax,`chat-images/${t.id}/${Date.now()}-${F.name}`),Q=await nx($,F),O=await rx(Q.ref);await N("",O)}catch($){console.error("Error uploading image:",$)}},V=F=>{F.preventDefault(),c.trim()&&N(c)},z=F=>{if(!F)return"";try{const $=F.toDate(),M=(new Date().getTime()-$.getTime())/(1e3*60),C=M/60,I=C/24;return M<1?"now":M<60?`${Math.floor(M)}m`:C<24?`${Math.floor(C)}h`:I<7?`${Math.floor(I)}d`:$.toLocaleDateString("en-US",{month:"short",day:"numeric"})}catch{return""}};return g.jsxs(we.div,{initial:{opacity:0,x:"100%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"100%"},transition:{duration:.3,ease:"easeInOut"},className:"fixed inset-0 bg-neutral-950 z-50 flex flex-col",children:[g.jsx("div",{className:"p-4 border-b border-neutral-800 bg-neutral-900 flex-shrink-0",children:g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("button",{onClick:i,className:"p-2 text-neutral-400 hover:text-white transition-colors",children:g.jsx(wx,{size:24})}),e?.avatar?g.jsx("img",{src:e.avatar,alt:e.displayName||e.username,className:"w-10 h-10 rounded-full object-cover border border-white/10 flex-shrink-0",onError:F=>{F.currentTarget.style.display="none",F.currentTarget.nextElementSibling?.classList.remove("hidden")}}):null,g.jsx("span",{className:`w-10 h-10 bg-gradient-to-br from-primary to-primary/60 rounded-full flex items-center justify-center text-white font-bold ${e?.avatar?"hidden":""}`,children:e?.displayName?.charAt(0)||e?.username?.charAt(0)||"U"}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("h3",{className:"text-white font-semibold truncate",children:e?.displayName||e?.username||"Unknown User"}),g.jsx("p",{className:"text-sm text-neutral-400",children:e?.username?`@${e.username}`:""})]}),g.jsx("button",{onClick:()=>{const F=t?.participants.find($=>$!==l?.uid);F&&r(F)},className:"p-2 text-neutral-400 hover:text-white transition-colors",children:g.jsx(Gu,{size:20})})]})}),g.jsxs("div",{ref:p,onScroll:E,className:"flex-1 overflow-y-auto p-4 space-y-4 min-h-0",children:[o?g.jsx("div",{className:"space-y-4",children:[1,2,3,4].map(F=>g.jsx("div",{className:`flex ${F%2===0?"justify-end":"justify-start"}`,children:g.jsx("div",{className:`max-w-[70%] min-w-[200px] ${F%2===0?"bg-primary":"bg-neutral-700"} rounded-lg p-3`,children:g.jsx("div",{className:`w-48 h-4 ${F%2===0?"bg-primary/80":"bg-neutral-600"} rounded animate-pulse`})})},F))}):n.map(F=>g.jsx("div",{className:`flex ${F.isSystemMessage?"justify-center":F.senderId===l?.uid?"justify-end":"justify-start"}`,children:g.jsxs("div",{"data-message-id":F.id,"data-sender-id":F.senderId,"data-system-message":F.isSystemMessage?"true":"false",className:`${F.isSystemMessage?"bg-neutral-800 text-neutral-400 text-center text-xs px-3 py-1.5 max-w-[400px] whitespace-nowrap":F.senderId===l?.uid?"bg-primary text-white max-w-[70%] min-w-[80px]":"bg-neutral-700 text-white max-w-[70%] min-w-[80px]"} rounded-lg p-2.5 break-words whitespace-pre-wrap`,children:[F.imageUrl&&g.jsx("img",{src:F.imageUrl,alt:"Message attachment",className:"w-full h-auto rounded mb-2"}),g.jsx("p",{className:"text-sm",children:F.text}),!F.isSystemMessage&&g.jsx("p",{className:"text-xs opacity-70 mt-1",children:z(F.timestamp)})]})},F.id)),g.jsx("div",{ref:h})]}),g.jsx("div",{className:"p-4 border-t border-neutral-800 bg-neutral-900 flex-shrink-0",children:g.jsxs("form",{onSubmit:V,className:"flex items-center gap-3",children:[g.jsx("input",{type:"text",value:c,onChange:F=>d(F.target.value),placeholder:"Type a message...",className:"flex-1 bg-neutral-800 text-white px-4 py-3 rounded-lg border border-neutral-700 focus:border-primary outline-none"}),g.jsxs("label",{className:"cursor-pointer p-2 hover:bg-neutral-800 rounded-lg transition-colors",children:[g.jsx("input",{type:"file",accept:"image/*",onChange:F=>{const $=F.target.files?.[0];$&&P($)},className:"hidden"}),g.jsx(Az,{size:24,className:"text-neutral-400 hover:text-white transition-colors"})]}),g.jsx("button",{type:"submit",disabled:!c.trim(),className:"bg-primary text-white p-2 rounded-lg hover:bg-primary/80 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:g.jsx(Tx,{size:20})})]})})]})}),YQ=R.memo(({chats:t,selectedChatId:e,onChatSelect:n,hasUnread:r,getUnreadCount:i,formatTime:o,searchQuery:l,setSearchQuery:c,chatListLoading:d})=>{const h=R.useMemo(()=>t.filter(p=>p.otherUser?.displayName?.toLowerCase().includes(l.toLowerCase())||p.otherUser?.username?.toLowerCase().includes(l.toLowerCase())),[t,l]);return g.jsxs(we.div,{initial:{opacity:0,x:"-100%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"-100%"},transition:{duration:.3,ease:"easeInOut"},className:"h-full flex flex-col",children:[g.jsxs("div",{className:"p-4 border-b border-neutral-800 bg-neutral-900 flex-shrink-0",children:[g.jsx("div",{className:"flex items-center justify-between mb-4",children:g.jsx("h1",{className:"text-2xl font-bold text-primary",children:"Messages"})}),g.jsxs("div",{className:"relative",children:[g.jsx(qu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-neutral-400",size:16}),g.jsx("input",{type:"text",placeholder:"Search messages",value:l,onChange:p=>c(p.target.value),className:"w-full bg-neutral-800 text-white px-10 py-3 rounded-lg border border-neutral-700 focus:border-primary outline-none"})]})]}),g.jsx("div",{className:"flex-1 overflow-y-auto min-h-0",children:d?g.jsx("div",{className:"p-4 space-y-4",children:[1,2,3,4,5].map(p=>g.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:p*.1},className:"flex items-center gap-3 p-3 rounded-lg",children:[g.jsx("div",{className:"w-12 h-12 bg-neutral-700 rounded-full animate-pulse flex-shrink-0"}),g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"w-24 h-4 bg-neutral-700 rounded mb-2 animate-pulse"}),g.jsx("div",{className:"w-32 h-3 bg-neutral-700 rounded animate-pulse"})]})]},p))}):h.length===0?g.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center h-full text-neutral-400 p-8",children:[g.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-primary to-primary/60 rounded-full flex items-center justify-center mb-4",children:g.jsx(Sx,{size:40,className:"text-white"})}),g.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"No Messages Yet"}),g.jsx("p",{className:"text-sm text-center",children:"Start connecting with other users to see your conversations here"})]}):g.jsx("div",{className:"p-4 space-y-2",children:h.map((p,y)=>g.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.1},onClick:()=>n(p),className:`p-4 rounded-xl cursor-pointer transition-all duration-200 ${e===p.id?"bg-neutral-800":"hover:bg-neutral-800/50"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsxs("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-primary/60 rounded-full flex items-center justify-center overflow-hidden flex-shrink-0",children:[p.otherUser?.avatar?g.jsx("img",{src:p.otherUser.avatar,alt:p.otherUser.displayName||p.otherUser.username,className:"w-full h-full object-cover",onError:w=>{w.currentTarget.style.display="none",w.currentTarget.nextElementSibling?.classList.remove("hidden")}}):null,g.jsx("span",{className:`text-white font-bold text-lg ${p.otherUser?.avatar?"hidden":""}`,children:p.otherUser?.displayName?.charAt(0)||p.otherUser?.username?.charAt(0)||"U"})]}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("h3",{className:"text-white font-semibold truncate",children:p.otherUser?.displayName||p.otherUser?.username||"Unknown User"}),p.lastMessageTime&&g.jsx("span",{className:"text-xs text-neutral-400 flex-shrink-0 ml-2",children:o(p.lastMessageTime)})]}),g.jsx("p",{className:"text-sm text-neutral-400 truncate",children:p.lastMessage?.imageUrl?"Image":p.lastMessage?.text||"No messages yet"})]}),r(p.id)&&g.jsx(we.div,{initial:{scale:0},animate:{scale:1},className:"flex items-center justify-center w-5 h-5 bg-red-500 text-white text-xs font-semibold rounded-full flex-shrink-0",children:i(p.id)>99?"99+":i(p.id)})]})},p.id))})})]})});function jR(){const{user:t}=Dr(),{userId:e}=hx(),n=jr(),{hasUnread:r,getUnreadCount:i}=Cg(),[o,l]=R.useState([]),[c,d]=R.useState(null),[h,p]=R.useState([]),[y,w]=R.useState(null),[E,N]=R.useState(!0),[P,V]=R.useState(!1),[z,F]=R.useState(""),$=R.useCallback(A=>{if(A){const S=A.participants.find(k=>k!==t?.uid);S&&window.history.replaceState(null,"",`/messages/${S}`)}else window.history.replaceState(null,"","/messages")},[t?.uid]),Q=R.useCallback(async A=>{try{const S=cn(St(Ue,"messages"),Qt("chatId","==",A),Qt("isSystemMessage","==",!0));(await on(S)).empty&&await ua(St(Ue,"messages"),{chatId:A,text:" You both were matched because of a trade!",senderId:"system",receiverId:"system",timestamp:na(),read:!0,isSystemMessage:!0,readable:!1})}catch(S){console.error("Error creating trade match message:",S)}},[]),O=R.useCallback(async A=>{if(t)try{const S=cn(St(Ue,"chats"),Qt("participants","array-contains",t.uid)),H=(await on(S)).docs.find(Z=>{const B=Z.data();return B.participants.includes(A)&&B.participants.length===2});if(H){const Z=H.data(),B={id:H.id,participants:Z.participants,lastMessageTime:Z.lastMessageTime,unreadCount:Z.unreadCount||0};d(B),V(!0),await Q(B.id);return}const K={id:(await ua(St(Ue,"chats"),{participants:[t.uid,A].sort(),lastMessageTime:na(),unreadCount:0})).id,participants:[t.uid,A].sort(),lastMessageTime:na(),unreadCount:0};d(K),V(!0),await Q(K.id)}catch(S){console.error("Error creating chat:",S)}},[t,Q]);R.useEffect(()=>{if(!t)return;const A=cn(St(Ue,"chats"),Qt("participants","array-contains",t.uid),Bu("lastMessageTime","desc")),S=Fu(A,async k=>{const H=[],j=new Set;for(const K of k.docs){const Z=K.data();Z.id=K.id;const B=Z.participants.find(T=>T!==t.uid);if(B){const T=[t.uid,B].sort().join("_");if(j.has(T))continue;j.add(T);try{const J=await yi(rn(Ue,"users",B));if(J.exists()){const W=J.data();Z.otherUser=W}}catch(J){console.error("Error fetching user data:",J)}H.push(Z)}}l(H),N(!1)});return()=>S()},[t]),R.useEffect(()=>{if(!(!t||!o.length))if(e){const A=o.find(S=>S.participants.includes(e));A?(d(A),V(!0)):O(e)}else!e&&c&&d(null)},[e,t,o.length,O]),R.useEffect(()=>{if(!c||!t)return;const A=cn(St(Ue,"messages"),Qt("chatId","==",c.id),Bu("timestamp","asc")),S=Fu(A,k=>{const H=k.docs.map(j=>({id:j.id,...j.data()}));p(H),V(!1)});return()=>S()},[c,t]),R.useEffect(()=>{if(!c||!t){w(null);return}const A=c.participants.find(S=>S!==t.uid);if(A){let S=!0;return yi(rn(Ue,"users",A)).then(k=>{if(S)if(k.exists()){const H=k.data();w(H)}else w(null)}).catch(k=>{S&&(console.error("Error fetching other user:",k),w(null))}),()=>{S=!1}}else w(null)},[c?.id,t?.uid]);const M=R.useCallback(A=>{V(!0),d(A),$(A)},[$]),C=R.useCallback(A=>{if(!A)return"";try{const S=A.toDate(),j=(new Date().getTime()-S.getTime())/(1e3*60),K=j/60,Z=K/24;return j<1?"now":j<60?`${Math.floor(j)}m`:K<24?`${Math.floor(K)}h`:Z<7?`${Math.floor(Z)}d`:S.toLocaleDateString("en-US",{month:"short",day:"numeric"})}catch{return""}},[]),I=R.useCallback(()=>{d(null),$(null)},[$]);return g.jsx(Si,{className:"h-screen bg-neutral-950 overflow-hidden",children:g.jsx(yn,{mode:"wait",children:c?g.jsx(WQ,{selectedChat:c,otherUser:y,messages:h,onNavigateToProfile:A=>n(`/user/${A}`),onBackToChats:I,isLoading:P},"chat-window"):g.jsx(YQ,{chats:o,selectedChatId:void 0,onChatSelect:M,hasUnread:r,getUnreadCount:i,formatTime:C,searchQuery:z,setSearchQuery:F,chatListLoading:E},"chat-list")})})}const XQ="bg-primary text-primary-foreground hover:bg-primary/80 cursor-pointer transition-all duration-200 active:scale-95 uppercase tracking-widest font-bold disabled:opacity-40 disabled:cursor-not-allowed rounded-md",U0="rounded-md bg-muted px-3 py-2 text-sm outline-none focus:ring-2 ring-primary/80 transition-all duration-200",kR={initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9}},LR={control:t=>({...t,background:"#1b1b1b",border:"none",minHeight:"2.6rem",cursor:"pointer"}),singleValue:t=>({...t,color:"#fff"}),input:t=>({...t,color:"#fff"}),placeholder:t=>({...t,color:"#888"}),menu:t=>({...t,background:"#1b1b1b"}),option:(t,e)=>({...t,background:e.isFocused?"#2a2a2a":"#1b1b1b",color:"#fff",cursor:"pointer"}),indicatorSeparator:()=>({display:"none"})},VR=t=>g.jsx(Pg.DropdownIndicator,{...t,children:g.jsx(Lf,{size:18,className:"text-muted-foreground"})});function QQ({initialData:t,setData:e,onClose:n}){const[r,i]=R.useState(t?.displayName||""),[o,l]=R.useState(t?.username||""),[c,d]=R.useState(t?.country||null),[h,p]=R.useState(t?.language||null),[y,w]=R.useState(""),[E,N]=R.useState(new Set(t?.interests||[])),[P,V]=R.useState(t?.avatar||""),[z,F]=R.useState(null),[$,Q]=R.useState(!1),O=async()=>{if(!r.trim())return F("Name is required");if(!o.trim())return F("Username is required");if(o.trim().length<3)return F("Username must be at least 3 characters");if(!Xs(o))return F("Username can only contain letters, numbers, and underscores");Q(!0);const I=jN().currentUser;if(!I)return F("You must be logged in.");if(await b_(o,I.uid)){F("Username already exists. Please choose a different one."),Q(!1);return}let S=P;if(P&&P.startsWith("data:")){const H=await fetch(P).then(K=>K.blob()),j=ix(ax,`avatars/${I.uid}.jpg`);await nx(j,H),S=await rx(j)}const k={displayName:r,username:o,avatar:S,country:c?.value||t.country,language:h?.value||t.language,interests:Array.from(E)};await dl(rn(Ue,"users",I.uid),k,{merge:!0}),await TN(I,{displayName:r,photoURL:S}),e(k),Q(!1),n()},M=C=>{const I=C.target.files?.[0];if(!I)return;const A=new FileReader;A.onloadend=()=>V(A.result),A.readAsDataURL(I)};return g.jsx(we.div,{...kR,transition:{duration:.25},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-6",children:g.jsxs(we.div,{...kR,transition:{duration:.25},className:"bg-neutral-900 text-white w-full max-w-2xl rounded-xl relative p-5 sm:p-6 h-full flex flex-col",children:[g.jsx("button",{onClick:n,className:"absolute top-4 right-4 cursor-pointer hover:bg-neutral-800 p-2 rounded-xl transition-colors",children:g.jsx(ps,{size:24})}),g.jsx("h2",{className:"text-2xl font-bold mb-1 text-primary",children:"Edit Profile"}),g.jsx("p",{className:"text-sm mb-4 text-muted-foreground",children:"Update your profile information."}),g.jsxs("div",{className:"flex items-center gap-4 mb-5",children:[g.jsxs("label",{htmlFor:"avatar",className:"relative cursor-pointer shrink-0",children:[P?g.jsx("img",{src:P,className:"w-16 h-16 rounded-full object-cover border",alt:"Avatar"}):g.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center border",children:g.jsx(Gu,{className:"text-muted-foreground",size:28})}),g.jsx("div",{className:"absolute bottom-0 right-0 p-1 bg-primary rounded-full",children:g.jsx(pz,{size:14})}),g.jsx("input",{id:"avatar",type:"file",accept:"image/*",className:"hidden",onChange:M})]}),g.jsx("input",{className:`${U0} w-full`,value:r,onChange:C=>{i(C.target.value),F(null)},placeholder:"Your name"})]}),g.jsxs("div",{className:"mb-5",children:[g.jsx("label",{className:"block text-sm mb-1",children:"Username"}),g.jsx("input",{className:`${U0} w-full ${o&&!Xs(o)?"border-red-500 focus:border-red-500":o&&Xs(o)?"border-green-500 focus:border-green-500":""}`,value:o,onChange:C=>{l(C.target.value),F(null)},placeholder:"johndoe123"}),o&&!Xs(o)&&g.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Username can only contain letters, numbers, and underscores"}),!o&&g.jsx("p",{className:"text-neutral-400 text-xs mt-1",children:"Only letters, numbers, and underscores allowed"})]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-5",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm mb-1",children:"Country"}),g.jsx(mf,{instanceId:"country",options:Xb().getData(),value:typeof c=="string"?Xb().getData().find(C=>C.value===t.country):c,onChange:C=>{d(C),F(null)},placeholder:"Select country",styles:LR,components:{DropdownIndicator:VR},menuShouldScrollIntoView:!1})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm mb-1",children:"Language"}),g.jsx(mf,{instanceId:"language",options:Qb,value:typeof h=="string"?Qb.find(C=>C.value===t.language):h,onChange:C=>{p(C),F(null)},placeholder:"Select language",styles:LR,components:{DropdownIndicator:VR},menuShouldScrollIntoView:!1})]})]}),g.jsx("h3",{className:"text-xl font-semibold mb-1",children:"Interests"}),g.jsxs("p",{className:"text-sm mb-3",children:["These help us ",g.jsx("span",{className:"text-primary",children:"personalize"})," your experience."]}),g.jsx("input",{type:"text",placeholder:"Search interests",value:y,onChange:C=>w(C.target.value),className:`w-full mb-3 ${U0}`}),g.jsx("div",{className:"flex-grow overflow-y-auto pr-1 mb-4",children:g.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:os.filter(({label:C})=>C.toLowerCase().includes(y.toLowerCase())).map(({id:C,label:I,img:A})=>{const S=E.has(C);return g.jsxs("div",{onClick:()=>{N(k=>{const H=new Set(k);return H.has(C)?H.delete(C):H.add(C),H}),F(null)},className:`relative cursor-pointer rounded-xl overflow-hidden border-2 ${S?"border-primary":"border-transparent"}`,children:[g.jsx("img",{src:A,alt:I,className:"w-full h-20 object-cover"}),S&&g.jsx("div",{className:"absolute top-1 right-1 bg-primary p-1 rounded-full",children:g.jsx(xx,{size:14,className:"text-white"})}),g.jsx("p",{className:"text-xs mt-2 px-1 pb-2 truncate text-center",children:I})]},C)})})}),z&&g.jsx("p",{className:"text-red-500 text-sm mb-3",children:z}),g.jsx("div",{className:"flex justify-center",children:$?g.jsx(y_,{}):g.jsx("button",{onClick:O,className:`${XQ} px-6 py-2 text-sm`,disabled:$,children:"Save Changes"})})]},"modal")})}const Im={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};function ZQ(){const{user:t}=Dr(),{username:e}=hx(),n=jr(),[r]=sM(),[i,o]=R.useState(null),[l,c]=R.useState([]),[d,h]=R.useState([]),[p,y]=R.useState(!1),[w,E]=R.useState(!1),[N,P]=R.useState(!1),[V,z]=R.useState(null),[F,$]=R.useState(null),[Q,O]=R.useState("trades"),[M,C]=R.useState(!0),[I,A]=R.useState(!1),S=!e||t&&i&&t.uid===i.uid;R.useEffect(()=>{!e&&t&&i?.username&&!I&&window.location.pathname==="/user"&&(A(!0),n(`/user/${i.username}`,{replace:!0}))},[e,t,i,n,I]),R.useEffect(()=>{(async()=>{try{let Z,B;if(e){if(B=await VD(e),!B){n("/error");return}Z=B.uid}else{if(!t)return;if(B=await w_(t.uid),!B){n("/error");return}Z=t.uid}const[T,J]=await Promise.all([x_(Z),S?__(Z):Promise.resolve([])]);o(B),c(T),h(J)}catch(Z){console.error("Failed to fetch profile data:",Z),n("/error")}finally{C(!1)}})()},[e,t,n,S]),R.useEffect(()=>{if(!S)return;const K=r.get("tab");O(K==="saved"?"saved":"trades")},[r,S]);const k=K=>{z(K),E(!0)},H=K=>{$(K),P(!0)},j=K=>{c(Z=>Z.map(B=>B.id===K.id?{...B,...K}:B)),z(K)};return M||I?g.jsxs(Si,{className:"px-4 py-8 text-white max-w-4xl mx-auto",children:[g.jsxs("div",{className:"flex items-center justify-between mb-8",children:[g.jsxs("div",{className:"flex items-center gap-5",children:[g.jsx("div",{className:"w-24 h-24 rounded-full bg-neutral-700 animate-pulse"}),g.jsxs("div",{children:[g.jsx("div",{className:"w-48 h-8 bg-neutral-700 rounded mb-2 animate-pulse"}),g.jsx("div",{className:"w-32 h-4 bg-neutral-700 rounded animate-pulse"})]})]}),S&&g.jsx("div",{className:"w-24 h-10 bg-neutral-700 rounded animate-pulse"})]}),g.jsx("div",{className:"mt-6 mb-8",children:g.jsx("div",{className:"flex flex-wrap gap-3",children:[1,2,3].map(K=>g.jsx("div",{className:"w-24 h-8 bg-neutral-700 rounded-lg animate-pulse"},K))})}),S&&g.jsx("div",{className:"flex justify-center border-t border-white/10 mb-4",children:[1,2].map(K=>g.jsx("div",{className:"w-1/2 py-3",children:g.jsx("div",{className:"w-16 h-4 bg-neutral-700 rounded mx-auto animate-pulse"})},K))}),g.jsx("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-3 gap-4",children:[1,2,3,4,5,6].map(K=>g.jsx("div",{className:"aspect-square bg-neutral-700 rounded-xl animate-pulse"},K))})]}):g.jsxs(Si,{className:"px-4 py-8 text-white max-w-4xl mx-auto",children:[i&&g.jsxs(g.Fragment,{children:[!S&&g.jsx(we.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"mb-6",children:g.jsxs("button",{onClick:()=>n(-1),className:"flex items-center gap-2 text-neutral-400 hover:text-white transition-colors p-2 rounded-lg hover:bg-neutral-800",children:[g.jsx(wx,{size:20}),g.jsx("span",{className:"text-sm",children:"Back"})]})}),g.jsxs(we.div,{variants:Im,initial:"hidden",animate:"visible",transition:{duration:.4},className:"mb-8",children:[g.jsx("div",{className:"md:hidden",children:g.jsxs("div",{className:"flex flex-col items-center text-center mb-6",children:[i.avatar?g.jsx("img",{src:i.avatar,alt:"Profile",className:"w-20 h-20 rounded-full object-cover border border-white/10 mb-4"}):g.jsx("div",{className:"w-20 h-20 rounded-full border border-white/10 bg-white/10 flex items-center justify-center mb-4",children:g.jsx(Gu,{size:32,className:"text-white/60"})}),g.jsxs("div",{className:"mb-4",children:[g.jsxs("h1",{className:"text-xl font-bold text-white mb-1",children:[i.displayName||"User",i.country&&g.jsx("span",{className:"ml-2",children:Zb(i.country)})]}),i.username&&g.jsxs("p",{className:"text-sm text-white/60 mb-1",children:["@",i.username]}),S&&g.jsx("p",{className:"text-sm text-white/60 break-all",children:t?.email}),!S&&i.bio&&g.jsx("p",{className:"text-sm text-white/60 mt-1",children:i.bio})]}),S&&g.jsx("button",{onClick:()=>y(!0),className:"w-full max-w-xs px-6 py-2.5 text-sm bg-primary text-primary-foreground hover:bg-primary/80 cursor-pointer transition-all duration-200 active:scale-95 uppercase tracking-wide font-bold disabled:opacity-40 disabled:cursor-not-allowed rounded-lg",children:"EDIT PROFILE"})]})}),g.jsxs("div",{className:"hidden md:flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-5",children:[i.avatar?g.jsx("img",{src:i.avatar,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border border-white/10"}):g.jsx("div",{className:"w-24 h-24 rounded-full border border-white/10 bg-white/10 flex items-center justify-center",children:g.jsx(Gu,{size:40,className:"text-white/60"})}),g.jsxs("div",{children:[g.jsxs("h1",{className:"text-3xl font-bold text-white",children:[i.displayName||"User",i.country&&g.jsx("span",{className:"ml-2",children:Zb(i.country)})]}),i.username&&g.jsxs("p",{className:"text-sm text-white/60 mb-1",children:["@",i.username]}),S?g.jsx("p",{className:"text-sm text-white/60",children:t?.email}):i.bio&&g.jsx("p",{className:"text-sm text-white/60",children:i.bio})]})]}),S&&g.jsx("button",{onClick:()=>y(!0),className:"px-6 rounded-md py-1.5 text-sm bg-primary text-primary-foreground hover:bg-primary/80 cursor-pointer transition-all duration-200 active:scale-95 uppercase tracking-wide font-bold disabled:opacity-40 disabled:cursor-not-allowed",children:"EDIT PROFILE"})]})]}),i.interests&&i.interests.length>0&&g.jsx(we.div,{variants:Im,initial:"hidden",animate:"visible",transition:{delay:.2,duration:.4},className:"mt-6 mb-8",children:g.jsx("div",{className:"flex flex-wrap gap-3",children:i.interests.map(K=>g.jsx("span",{className:`px-4 py-2 rounded-lg text-sm font-semibold text-white ${TX(K)}`,children:K.replace("_"," ").split(" ").map(Z=>Z.charAt(0).toUpperCase()+Z.slice(1)).join(" ")},K))})}),S&&g.jsxs(we.div,{variants:Im,initial:"hidden",animate:"visible",transition:{delay:.3,duration:.4},className:"flex justify-center border-t border-white/10 mb-4",children:[g.jsxs("button",{onClick:()=>O("trades"),className:`flex items-center justify-center gap-1 px-6 py-3 text-sm font-medium transition w-1/2 cursor-pointer ${Q==="trades"?"border-t-2 border-white":"text-white/40"}`,children:[g.jsx(_z,{size:18}),"Trades"]}),g.jsxs("button",{onClick:()=>O("saved"),className:`flex items-center justify-center gap-1 px-6 py-3 text-sm font-medium transition w-1/2 cursor-pointer ${Q==="saved"?"border-t-2 border-white":"text-white/40"}`,children:[g.jsx(hl,{size:18}),"Saved"]})]}),g.jsx(we.div,{variants:Im,initial:"hidden",animate:"visible",transition:{delay:.4,duration:.4},className:"mt-6",children:S?g.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(Q==="trades"?l:d).map((K,Z)=>g.jsxs(we.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:Z*.05},className:`relative aspect-square overflow-hidden rounded-xl bg-white/10 cursor-pointer hover:scale-105 transition-transform duration-200 ${Q==="trades"?"hover:border-2 hover:border-primary":""}`,onClick:()=>Q==="trades"?k(K):H(K),children:[g.jsx("img",{src:K.images?.[0],alt:K.title||K.caption||"Item",className:"object-cover w-full h-full"}),Q==="trades"&&!K.isAvailable&&g.jsx("div",{className:"absolute top-2 right-2 bg-red-600 text-white px-2 py-1 rounded-full text-xs font-bold",children:"UNAVAILABLE"})]},K.id)),Q==="trades"&&l.length===0&&g.jsx("p",{className:"text-sm text-white/40 col-span-full text-center",children:"You haven't added any trades yet."}),Q==="saved"&&d.length===0&&g.jsx("p",{className:"text-sm text-white/40 col-span-full text-center",children:"No saved posts yet."})]}):l.length===0?g.jsx("div",{className:"flex justify-center items-center",children:g.jsxs("div",{className:"text-center text-neutral-400 py-16",children:[g.jsx(Lz,{className:"w-16 h-16 mx-auto mb-6 opacity-50"}),g.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No trades available"}),g.jsx("p",{className:"text-neutral-500",children:"This user hasn't added any trades yet."})]})}):g.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:l.map((K,Z)=>g.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Z*.1},className:"aspect-square bg-neutral-900 rounded-xl border border-neutral-700 overflow-hidden hover:border-primary transition-colors cursor-pointer",onClick:()=>n(`/trades/${K.id}`),children:g.jsx("img",{src:K.images?.[0],alt:K.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-200"})},K.id))})})]}),g.jsxs(yn,{mode:"wait",children:[p&&g.jsx(QQ,{initialData:i,setData:K=>o(K),onClose:()=>y(!1)}),w&&g.jsx(S_,{trade:V,isOpen:w,onClose:()=>{E(!1),z(null)},onTradeUpdate:j}),N&&F&&g.jsx(T_,{post:F,onClose:()=>{P(!1),$(null)},user:t,liked:!1,saved:!0,handleLike:()=>{},handleSave:()=>{}})]})]})}const JQ={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3}},eZ={animate:{transition:{staggerChildren:.1}}};function tZ(){const{cart:t,totalPrice:e,updateQuantity:n,removeFromCart:r}=Ag();return g.jsx(Si,{className:"min-h-screen bg-neutral-950",children:g.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8 md:py-12",children:[g.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"text-center mb-8 md:mb-12",children:[g.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[g.jsx("div",{className:"w-12 h-12 bg-primary/20 rounded-full flex items-center justify-center",children:g.jsx(Iu,{className:"w-6 h-6 text-primary"})}),g.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white",children:"Your Cart"})]}),g.jsx("p",{className:"text-neutral-400 text-sm md:text-base",children:t.length===0?"Start adding items to your cart":`${t.length} item${t.length===1?"":"s"} in your cart`})]}),t.length===0?g.jsxs(we.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"flex flex-col items-center justify-center py-16 md:py-24",children:[g.jsx("div",{className:"w-24 h-24 bg-neutral-800 rounded-full flex items-center justify-center mb-6",children:g.jsx(Iu,{className:"w-12 h-12 text-neutral-400"})}),g.jsx("h2",{className:"text-xl md:text-2xl font-semibold text-white mb-2",children:"Your cart is empty"}),g.jsx("p",{className:"text-neutral-400 text-center max-w-md",children:"Looks like you haven't added any items to your cart yet. Start exploring our collection!"})]}):g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[g.jsx(we.div,{variants:eZ,initial:"initial",animate:"animate",className:"lg:col-span-2 space-y-4",children:t.map(i=>g.jsx(we.div,{variants:JQ,className:"bg-neutral-900 border border-neutral-800 rounded-xl p-4 md:p-6 hover:border-neutral-700 transition-colors",children:g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[g.jsx("div",{className:"flex-shrink-0",children:i.image?g.jsx("img",{src:i.image,alt:i.name,className:"w-20 h-20 md:w-24 md:h-24 rounded-lg object-cover border border-neutral-700"}):g.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 rounded-lg bg-neutral-800 border border-neutral-700 flex items-center justify-center",children:g.jsx(Iu,{className:"w-8 h-8 text-neutral-400"})})}),g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("h3",{className:"font-semibold text-white text-lg mb-1 truncate",children:i.name}),g.jsxs("p",{className:"text-neutral-400 text-sm mb-3",children:["$",i.price?.toFixed(2)??0," each"]}),g.jsxs("div",{className:"flex items-center justify-between md:hidden",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("button",{onClick:()=>n(i.id,i.quantity-1),className:"w-8 h-8 bg-neutral-800 hover:bg-neutral-700 rounded-lg flex items-center justify-center text-white transition-colors",disabled:i.quantity<=1,children:g.jsx(JA,{size:16})}),g.jsx("span",{className:"w-12 text-center text-white font-medium",children:i.quantity}),g.jsx("button",{onClick:()=>n(i.id,i.quantity+1),className:"w-8 h-8 bg-neutral-800 hover:bg-neutral-700 rounded-lg flex items-center justify-center text-white transition-colors",children:g.jsx($u,{size:16})})]}),g.jsx("button",{onClick:()=>r(i.id),className:"text-red-400 hover:text-red-300 transition-colors p-2",children:g.jsx(lM,{size:18})})]})]}),g.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("button",{onClick:()=>n(i.id,i.quantity-1),className:"w-8 h-8 bg-neutral-800 hover:bg-neutral-700 rounded-lg flex items-center justify-center text-white transition-colors",disabled:i.quantity<=1,children:g.jsx(JA,{size:16})}),g.jsx("span",{className:"w-12 text-center text-white font-medium",children:i.quantity}),g.jsx("button",{onClick:()=>n(i.id,i.quantity+1),className:"w-8 h-8 bg-neutral-800 hover:bg-neutral-700 rounded-lg flex items-center justify-center text-white transition-colors",children:g.jsx($u,{size:16})})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("p",{className:"text-lg font-semibold text-white",children:["$",((i.price??0)*i.quantity).toFixed(2)]}),g.jsx("button",{onClick:()=>r(i.id),className:"text-red-400 hover:text-red-300 transition-colors text-sm mt-1",children:"Remove"})]})]})]})},i.id))}),g.jsx(we.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.2},className:"lg:col-span-1",children:g.jsxs("div",{className:"bg-neutral-900 border border-neutral-800 rounded-xl p-6 sticky top-8",children:[g.jsx("h2",{className:"text-xl font-semibold text-white mb-6",children:"Order Summary"}),g.jsxs("div",{className:"space-y-4 mb-6",children:[g.jsxs("div",{className:"flex justify-between text-neutral-400",children:[g.jsx("span",{children:"Subtotal"}),g.jsxs("span",{children:["$",e.toFixed(2)]})]}),g.jsxs("div",{className:"flex justify-between text-neutral-400",children:[g.jsx("span",{children:"Shipping"}),g.jsx("span",{className:"text-green-400",children:"Free"})]}),g.jsx("div",{className:"border-t border-neutral-800 pt-4",children:g.jsxs("div",{className:"flex justify-between text-lg font-semibold text-white",children:[g.jsx("span",{children:"Total"}),g.jsxs("span",{className:"text-primary",children:["$",e.toFixed(2)]})]})})]}),g.jsxs("button",{className:"w-full bg-primary hover:bg-primary/90 text-white font-semibold py-3 px-6 rounded-lg transition-colors flex items-center justify-center gap-2",children:["Proceed to Checkout",g.jsx(wg,{size:18})]}),g.jsx("p",{className:"text-xs text-neutral-500 text-center mt-4",children:"Secure checkout powered by Stripe"})]})})]})]})})}function nZ(){const t=jr();return g.jsx(Si,{className:"min-h-screen bg-neutral-950",children:g.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen px-4",children:g.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center max-w-md",children:[g.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-2xl",children:g.jsx(tB,{size:48,className:"text-white"})}),g.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Oops! Something went wrong"}),g.jsx("p",{className:"text-lg text-neutral-400 mb-8 leading-relaxed",children:"We encountered an unexpected error. Don't worry, it's not your fault!"}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs(we.button,{onClick:()=>t("/"),className:"w-full bg-gradient-to-r from-primary to-primary/80 text-white px-8 py-4 rounded-xl hover:from-primary/90 hover:to-primary/70 transition-all duration-200 flex items-center justify-center gap-3 font-semibold shadow-lg cursor-pointer",whileHover:{scale:1.02},whileTap:{scale:.98},children:[g.jsx(_x,{size:20}),"Return to Home"]}),g.jsx(we.button,{onClick:()=>window.location.reload(),className:"w-full bg-neutral-800 text-white px-8 py-4 rounded-xl hover:bg-neutral-700 transition-all duration-200 font-semibold cursor-pointer",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Try Again"})]}),g.jsx("div",{className:"mt-12 text-sm text-neutral-500",children:g.jsx("p",{children:"If the problem persists, please contact support."})})]})})})}const rZ=L7([{path:"/",Component:TG,children:[{index:!0,Component:RX},{path:"about",Component:NX},{path:"dashboard",Component:bQ},{path:"search",Component:CQ},{path:"add",Component:DQ},{path:"trade",Component:GQ},{path:"trades/:tradeId",Component:KQ},{path:"messages",Component:jR},{path:"messages/:userId",Component:jR},{path:"cart",Component:tZ},{path:"user/:username?",Component:ZQ}],errorElement:g.jsx(nZ,{})}]);Cj.createRoot(document.getElementById("root")).render(g.jsx(R.StrictMode,{children:g.jsx(z9,{children:g.jsx(bG,{children:g.jsx(l7,{router:rZ})})})}));
